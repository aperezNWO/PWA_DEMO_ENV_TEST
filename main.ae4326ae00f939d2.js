(self.webpackChunkAngularDijkstra=self.webpackChunkAngularDijkstra||[]).push([[792],{7636:ir=>{"use strict";var Wn=Object.assign||function(St){for(var rn=1;rn<arguments.length;rn++){var yn=arguments[rn];for(var gt in yn)Object.prototype.hasOwnProperty.call(yn,gt)&&(St[gt]=yn[gt])}return St},_e={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Et={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},mt=function(rn,yn){return Wn({},rn,yn)};ir.exports=function(St){for(var rn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},yn=rn.preserveFormatting,gt=void 0!==yn&&yn,On=rn.escapeMapFn,wt=void 0===On?mt:On,Ge=String(St),Ut="",Nt=wt(Wn({},_e),gt?Wn({},Et):{}),Ct=Object.keys(Nt),Gt=function(){var on=!1;Ct.forEach(function(Yr,_s){on||Ge.length>=Yr.length&&Ge.slice(0,Yr.length)===Yr&&(Ut+=Nt[Ct[_s]],Ge=Ge.slice(Yr.length,Ge.length),on=!0)}),on||(Ut+=Ge.slice(0,1),Ge=Ge.slice(1,Ge.length))};Ge;)Gt();return Ut}},6990:function(ir){ir.exports=function(){"use strict";var Wn=function(x,E){return(Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,I){N.__proto__=I}||function(N,I){for(var z in I)Object.prototype.hasOwnProperty.call(I,z)&&(N[z]=I[z])})(x,E)};function _e(x,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function N(){this.constructor=x}Wn(x,E),x.prototype=null===E?Object.create(E):(N.prototype=E.prototype,new N)}var Et=function(){return Et=Object.assign||function(E){for(var N,I=1,z=arguments.length;I<z;I++)for(var Z in N=arguments[I])Object.prototype.hasOwnProperty.call(N,Z)&&(E[Z]=N[Z]);return E},Et.apply(this,arguments)};function mt(x,E,N,I){return new(N||(N=Promise))(function(Z,ie){function De(et){try{qe(I.next(et))}catch(ct){ie(ct)}}function xe(et){try{qe(I.throw(et))}catch(ct){ie(ct)}}function qe(et){et.done?Z(et.value):function z(Z){return Z instanceof N?Z:new N(function(ie){ie(Z)})}(et.value).then(De,xe)}qe((I=I.apply(x,E||[])).next())})}function St(x,E){var I,z,Z,ie,N={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return ie={next:De(0),throw:De(1),return:De(2)},"function"==typeof Symbol&&(ie[Symbol.iterator]=function(){return this}),ie;function De(qe){return function(et){return function xe(qe){if(I)throw new TypeError("Generator is already executing.");for(;N;)try{if(I=1,z&&(Z=2&qe[0]?z.return:qe[0]?z.throw||((Z=z.return)&&Z.call(z),0):z.next)&&!(Z=Z.call(z,qe[1])).done)return Z;switch(z=0,Z&&(qe=[2&qe[0],Z.value]),qe[0]){case 0:case 1:Z=qe;break;case 4:return N.label++,{value:qe[1],done:!1};case 5:N.label++,z=qe[1],qe=[0];continue;case 7:qe=N.ops.pop(),N.trys.pop();continue;default:if(!(Z=(Z=N.trys).length>0&&Z[Z.length-1])&&(6===qe[0]||2===qe[0])){N=0;continue}if(3===qe[0]&&(!Z||qe[1]>Z[0]&&qe[1]<Z[3])){N.label=qe[1];break}if(6===qe[0]&&N.label<Z[1]){N.label=Z[1],Z=qe;break}if(Z&&N.label<Z[2]){N.label=Z[2],N.ops.push(qe);break}Z[2]&&N.ops.pop(),N.trys.pop();continue}qe=E.call(x,N)}catch(et){qe=[6,et],z=0}finally{I=Z=0}if(5&qe[0])throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}([qe,et])}}}function rn(x,E,N){if(N||2===arguments.length)for(var Z,I=0,z=E.length;I<z;I++)(Z||!(I in E))&&(Z||(Z=Array.prototype.slice.call(E,0,I)),Z[I]=E[I]);return x.concat(Z||E)}for(var yn=function(){function x(E,N,I,z){this.left=E,this.top=N,this.width=I,this.height=z}return x.prototype.add=function(E,N,I,z){return new x(this.left+E,this.top+N,this.width+I,this.height+z)},x.fromClientRect=function(E,N){return new x(N.left+E.windowBounds.left,N.top+E.windowBounds.top,N.width,N.height)},x.fromDOMRectList=function(E,N){var I=Array.from(N).find(function(z){return 0!==z.width});return I?new x(I.left+E.windowBounds.left,I.top+E.windowBounds.top,I.width,I.height):x.EMPTY},x.EMPTY=new x(0,0,0,0),x}(),gt=function(x,E){return yn.fromClientRect(x,E.getBoundingClientRect())},wt=function(x){for(var E=[],N=0,I=x.length;N<I;){var z=x.charCodeAt(N++);if(z>=55296&&z<=56319&&N<I){var Z=x.charCodeAt(N++);56320==(64512&Z)?E.push(((1023&z)<<10)+(1023&Z)+65536):(E.push(z),N--)}else E.push(z)}return E},Ge=function(){for(var x=[],E=0;E<arguments.length;E++)x[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,x);var N=x.length;if(!N)return"";for(var I=[],z=-1,Z="";++z<N;){var ie=x[z];ie<=65535?I.push(ie):I.push(55296+((ie-=65536)>>10),ie%1024+56320),(z+1===N||I.length>16384)&&(Z+=String.fromCharCode.apply(String,I),I.length=0)}return Z},Ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nt=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ct=0;Ct<64;Ct++)Nt[Ut.charCodeAt(Ct)]=Ct;for(var Gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tn=typeof Uint8Array>"u"?[]:new Uint8Array(256),on=0;on<64;on++)tn[Gt.charCodeAt(on)]=on;for(var Qc=function(x,E,N){return x.slice?x.slice(E,N):new Uint16Array(Array.prototype.slice.call(x,E,N))},Ih=function(){function x(E,N,I,z,Z,ie){this.initialValue=E,this.errorValue=N,this.highStart=I,this.highValueIndex=z,this.index=Z,this.data=ie}return x.prototype.get=function(E){var N;if(E>=0){if(E<55296||E>56319&&E<=65535)return this.data[N=((N=this.index[E>>5])<<2)+(31&E)];if(E<=65535)return this.data[N=((N=this.index[2048+(E-55296>>5)])<<2)+(31&E)];if(E<this.highStart)return N=this.index[N=2080+(E>>11)],this.data[N=((N=this.index[N+=E>>5&63])<<2)+(31&E)];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},x}(),hg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",By=typeof Uint8Array>"u"?[]:new Uint8Array(256),Vl=0;Vl<64;Vl++)By[hg.charCodeAt(Vl)]=Vl;var N,I,z,ie,De,Jr=10,Vo=13,Ka=15,oo=17,gl=18,Ms=19,od=20,Fh=21,wu=22,Je=24,lt=25,Rt=26,zt=27,Ht=28,sn=30,Qt=32,Fr=33,Mi=34,ws=35,us=37,Ya=38,Qo=39,ci=40,fg=42,pv=[9001,65288],jr="\xd7",Rh=(N=function(x){var I,Z,ie,De,xe,E=.75*x.length,N=x.length,z=0;"="===x[x.length-1]&&(E--,"="===x[x.length-2]&&E--);var qe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),et=Array.isArray(qe)?qe:new Uint8Array(qe);for(I=0;I<N;I+=4)Z=tn[x.charCodeAt(I)],ie=tn[x.charCodeAt(I+1)],De=tn[x.charCodeAt(I+2)],xe=tn[x.charCodeAt(I+3)],et[z++]=Z<<2|ie>>4,et[z++]=(15&ie)<<4|De>>2,et[z++]=(3&De)<<6|63&xe;return qe}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),I=Array.isArray(N)?function(x){for(var E=x.length,N=[],I=0;I<E;I+=4)N.push(x[I+3]<<24|x[I+2]<<16|x[I+1]<<8|x[I]);return N}(N):new Uint32Array(N),z=Array.isArray(N)?function(x){for(var E=x.length,N=[],I=0;I<E;I+=2)N.push(x[I+1]<<8|x[I]);return N}(N):new Uint16Array(N),ie=Qc(z,12,I[4]/2),De=2===I[5]?Qc(z,(24+I[4])/2):function(x,E,N){return x.slice?x.slice(E,N):new Uint32Array(Array.prototype.slice.call(x,E,N))}(I,Math.ceil((24+I[4])/4)),new Ih(I[0],I[1],I[2],I[3],ie,De)),Pi=[sn,36],zi=[1,2,3,5],HA=[Jr,8],Hr=[zt,Rt],VA=zi.concat(HA),Ys=[Ya,Qo,ci,Mi,ws],zo=[Ka,Vo],QA=function(x,E,N,I){var z=I[N];if(Array.isArray(x)?-1!==x.indexOf(z):x===z)for(var Z=N;Z<=I.length;){if((ie=I[++Z])===E)return!0;if(ie!==Jr)break}if(z===Jr)for(Z=N;Z>0;){var De=I[--Z];if(Array.isArray(x)?-1!==x.indexOf(De):x===De)for(var xe=N;xe<=I.length;){var ie;if((ie=I[++xe])===E)return!0;if(ie!==Jr)break}if(De!==Jr)break}return!1},mo=function(x,E){for(var N=x;N>=0;){var I=E[N];if(I!==Jr)return I;N--}return 0},ml=function(x,E,N,I,z){if(0===N[I])return jr;var Z=I-1;if(Array.isArray(z)&&!0===z[Z])return jr;var ie=Z-1,De=Z+1,xe=E[Z],qe=ie>=0?E[ie]:0,et=E[De];if(2===xe&&3===et)return jr;if(-1!==zi.indexOf(xe))return"!";if(-1!==zi.indexOf(et)||-1!==HA.indexOf(et))return jr;if(8===mo(Z,E))return"\xf7";if(11===Rh.get(x[Z])||(xe===Qt||xe===Fr)&&11===Rh.get(x[De])||7===xe||7===et||9===xe||-1===[Jr,Vo,Ka].indexOf(xe)&&9===et||-1!==[oo,gl,Ms,Je,Ht].indexOf(et)||mo(Z,E)===wu||QA(23,wu,Z,E)||QA([oo,gl],Fh,Z,E)||QA(12,12,Z,E))return jr;if(xe===Jr)return"\xf7";if(23===xe||23===et)return jr;if(16===et||16===xe)return"\xf7";if(-1!==[Vo,Ka,Fh].indexOf(et)||14===xe||36===qe&&-1!==zo.indexOf(xe)||xe===Ht&&36===et||et===od||-1!==Pi.indexOf(et)&&xe===lt||-1!==Pi.indexOf(xe)&&et===lt||xe===zt&&-1!==[us,Qt,Fr].indexOf(et)||-1!==[us,Qt,Fr].indexOf(xe)&&et===Rt||-1!==Pi.indexOf(xe)&&-1!==Hr.indexOf(et)||-1!==Hr.indexOf(xe)&&-1!==Pi.indexOf(et)||-1!==[zt,Rt].indexOf(xe)&&(et===lt||-1!==[wu,Ka].indexOf(et)&&E[De+1]===lt)||-1!==[wu,Ka].indexOf(xe)&&et===lt||xe===lt&&-1!==[lt,Ht,Je].indexOf(et))return jr;if(-1!==[lt,Ht,Je,oo,gl].indexOf(et))for(var ct=Z;ct>=0;){if((Bt=E[ct])===lt)return jr;if(-1===[Ht,Je].indexOf(Bt))break;ct--}if(-1!==[zt,Rt].indexOf(et))for(ct=-1!==[oo,gl].indexOf(xe)?ie:Z;ct>=0;){var Bt;if((Bt=E[ct])===lt)return jr;if(-1===[Ht,Je].indexOf(Bt))break;ct--}if(Ya===xe&&-1!==[Ya,Qo,Mi,ws].indexOf(et)||-1!==[Qo,Mi].indexOf(xe)&&-1!==[Qo,ci].indexOf(et)||-1!==[ci,ws].indexOf(xe)&&et===ci||-1!==Ys.indexOf(xe)&&-1!==[od,Rt].indexOf(et)||-1!==Ys.indexOf(et)&&xe===zt||-1!==Pi.indexOf(xe)&&-1!==Pi.indexOf(et)||xe===Je&&-1!==Pi.indexOf(et)||-1!==Pi.concat(lt).indexOf(xe)&&et===wu&&-1===pv.indexOf(x[De])||-1!==Pi.concat(lt).indexOf(et)&&xe===gl)return jr;if(41===xe&&41===et){for(var Un=N[Z],An=1;Un>0&&41===E[--Un];)An++;if(An%2!=0)return jr}return xe===Qt&&et===Fr?jr:"\xf7"},Ag=function(x,E){E||(E={lineBreak:"normal",wordBreak:"normal"});var N=function(x,E){void 0===E&&(E="strict");var N=[],I=[],z=[];return x.forEach(function(Z,ie){var De=Rh.get(Z);if(De>50?(z.push(!0),De-=50):z.push(!1),-1!==["normal","auto","loose"].indexOf(E)&&-1!==[8208,8211,12316,12448].indexOf(Z))return I.push(ie),N.push(16);if(4===De||11===De){if(0===ie)return I.push(ie),N.push(sn);var xe=N[ie-1];return-1===VA.indexOf(xe)?(I.push(I[ie-1]),N.push(xe)):(I.push(ie),N.push(sn))}return I.push(ie),31===De?N.push("strict"===E?Fh:us):De===fg||29===De?N.push(sn):43===De?N.push(Z>=131072&&Z<=196605||Z>=196608&&Z<=262141?us:sn):void N.push(De)}),[I,N,z]}(x,E.lineBreak),I=N[0],z=N[1],Z=N[2];return("break-all"===E.wordBreak||"break-word"===E.wordBreak)&&(z=z.map(function(De){return-1!==[lt,sn,fg].indexOf(De)?us:De})),[I,z,"keep-all"===E.wordBreak?Z.map(function(De,xe){return De&&x[xe]>=19968&&x[xe]<=40959}):void 0]},Ny=function(){function x(E,N,I,z){this.codePoints=E,this.required="!"===N,this.start=I,this.end=z}return x.prototype.slice=function(){return Ge.apply(void 0,this.codePoints.slice(this.start,this.end))},x}(),Go=function(x){return x>=48&&x<=57},jc=function(x){return Go(x)||x>=65&&x<=70||x>=97&&x<=102},vv=function(x){return 10===x||9===x||32===x},yg=function(x){return function(x){return function(x){return x>=97&&x<=122}(x)||function(x){return x>=65&&x<=90}(x)}(x)||function(x){return x>=128}(x)||95===x},b2=function(x){return yg(x)||Go(x)||45===x},Ow=function(x){return x>=0&&x<=8||11===x||x>=14&&x<=31||127===x},GA=function(x,E){return 92===x&&10!==E},Pw=function(x,E,N){return 45===x?yg(E)||GA(E,N):!!yg(x)||!(92!==x||!GA(x,E))},w2=function(x,E,N){return 43===x||45===x?!!Go(E)||46===E&&Go(N):Go(46===x?E:x)},bV=function(x){var E=0,N=1;(43===x[E]||45===x[E])&&(45===x[E]&&(N=-1),E++);for(var I=[];Go(x[E]);)I.push(x[E++]);var z=I.length?parseInt(Ge.apply(void 0,I),10):0;46===x[E]&&E++;for(var Z=[];Go(x[E]);)Z.push(x[E++]);var ie=Z.length,De=ie?parseInt(Ge.apply(void 0,Z),10):0;(69===x[E]||101===x[E])&&E++;var xe=1;(43===x[E]||45===x[E])&&(45===x[E]&&(xe=-1),E++);for(var qe=[];Go(x[E]);)qe.push(x[E++]);var et=qe.length?parseInt(Ge.apply(void 0,qe),10):0;return N*(z+De*Math.pow(10,-ie))*Math.pow(10,xe*et)},Lw={type:2},yv={type:3},Uw={type:4},kw={type:13},C2={type:8},Ph={type:21},_v={type:9},E2={type:10},Or={type:11},hs={type:12},wV={type:14},Py={type:23},PR={type:1},CV={type:25},LR={type:24},Hw={type:26},Ti={type:27},Vw={type:28},S2={type:29},pc={type:31},Ly={type:32},UR=function(){function x(){this._value=[]}return x.prototype.write=function(E){this._value=this._value.concat(wt(E))},x.prototype.read=function(){for(var E=[],N=this.consumeToken();N!==Ly;)E.push(N),N=this.consumeToken();return E},x.prototype.consumeToken=function(){var E=this.consumeCodePoint();switch(E){case 34:return this.consumeStringToken(34);case 35:var N=this.peekCodePoint(0),I=this.peekCodePoint(1),z=this.peekCodePoint(2);if(b2(N)||GA(I,z)){var Z=Pw(N,I,z)?2:1;return{type:5,value:this.consumeName(),flags:Z}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),kw;break;case 39:return this.consumeStringToken(39);case 40:return Lw;case 41:return yv;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),wV;break;case 43:if(w2(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case 44:return Uw;case 45:var De=E,xe=this.peekCodePoint(0),qe=this.peekCodePoint(1);if(w2(De,xe,qe))return this.reconsumeCodePoint(E),this.consumeNumericToken();if(Pw(De,xe,qe))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();if(45===xe&&62===qe)return this.consumeCodePoint(),this.consumeCodePoint(),LR;break;case 46:if(w2(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var et=this.consumeCodePoint();if(42===et&&47===(et=this.consumeCodePoint()))return this.consumeToken();if(-1===et)return this.consumeToken()}break;case 58:return Hw;case 59:return Ti;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),CV;break;case 64:var ct=this.peekCodePoint(0),Bt=this.peekCodePoint(1),Un=this.peekCodePoint(2);if(Pw(ct,Bt,Un))return{type:7,value:this.consumeName()};break;case 91:return Vw;case 92:if(GA(E,this.peekCodePoint(0)))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();break;case 93:return S2;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),C2;break;case 123:return Or;case 125:return hs;case 117:case 85:var An=this.peekCodePoint(0),Nn=this.peekCodePoint(1);return 43===An&&(jc(Nn)||63===Nn)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(E),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),_v;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Ph;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),E2;break;case-1:return Ly}return vv(E)?(this.consumeWhiteSpace(),pc):Go(E)?(this.reconsumeCodePoint(E),this.consumeNumericToken()):yg(E)?(this.reconsumeCodePoint(E),this.consumeIdentLikeToken()):{type:6,value:Ge(E)}},x.prototype.consumeCodePoint=function(){var E=this._value.shift();return typeof E>"u"?-1:E},x.prototype.reconsumeCodePoint=function(E){this._value.unshift(E)},x.prototype.peekCodePoint=function(E){return E>=this._value.length?-1:this._value[E]},x.prototype.consumeUnicodeRangeToken=function(){for(var E=[],N=this.consumeCodePoint();jc(N)&&E.length<6;)E.push(N),N=this.consumeCodePoint();for(var I=!1;63===N&&E.length<6;)E.push(N),N=this.consumeCodePoint(),I=!0;if(I)return{type:30,start:parseInt(Ge.apply(void 0,E.map(function(xe){return 63===xe?48:xe})),16),end:parseInt(Ge.apply(void 0,E.map(function(xe){return 63===xe?70:xe})),16)};var ie=parseInt(Ge.apply(void 0,E),16);if(45===this.peekCodePoint(0)&&jc(this.peekCodePoint(1))){this.consumeCodePoint(),N=this.consumeCodePoint();for(var De=[];jc(N)&&De.length<6;)De.push(N),N=this.consumeCodePoint();return{type:30,start:ie,end:parseInt(Ge.apply(void 0,De),16)}}return{type:30,start:ie,end:ie}},x.prototype.consumeIdentLikeToken=function(){var E=this.consumeName();return"url"===E.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:E}):{type:20,value:E}},x.prototype.consumeUrlToken=function(){var E=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var N=this.peekCodePoint(0);if(39===N||34===N){var I=this.consumeStringToken(this.consumeCodePoint());return 0===I.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:I.value}):(this.consumeBadUrlRemnants(),Py)}for(;;){var z=this.consumeCodePoint();if(-1===z||41===z)return{type:22,value:Ge.apply(void 0,E)};if(vv(z))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:Ge.apply(void 0,E)}):(this.consumeBadUrlRemnants(),Py);if(34===z||39===z||40===z||Ow(z))return this.consumeBadUrlRemnants(),Py;if(92===z){if(!GA(z,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Py;E.push(this.consumeEscapedCodePoint())}else E.push(z)}},x.prototype.consumeWhiteSpace=function(){for(;vv(this.peekCodePoint(0));)this.consumeCodePoint()},x.prototype.consumeBadUrlRemnants=function(){for(;;){var E=this.consumeCodePoint();if(41===E||-1===E)return;GA(E,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},x.prototype.consumeStringSlice=function(E){for(var I="";E>0;){var z=Math.min(5e4,E);I+=Ge.apply(void 0,this._value.splice(0,z)),E-=z}return this._value.shift(),I},x.prototype.consumeStringToken=function(E){for(var N="",I=0;;){var z=this._value[I];if(-1===z||void 0===z||z===E)return{type:0,value:N+=this.consumeStringSlice(I)};if(10===z)return this._value.splice(0,I),PR;if(92===z){var Z=this._value[I+1];-1!==Z&&void 0!==Z&&(10===Z?(N+=this.consumeStringSlice(I),I=-1,this._value.shift()):GA(z,Z)&&(N+=this.consumeStringSlice(I),N+=Ge(this.consumeEscapedCodePoint()),I=-1))}I++}},x.prototype.consumeNumber=function(){var E=[],N=4,I=this.peekCodePoint(0);for((43===I||45===I)&&E.push(this.consumeCodePoint());Go(this.peekCodePoint(0));)E.push(this.consumeCodePoint());I=this.peekCodePoint(0);var z=this.peekCodePoint(1);if(46===I&&Go(z))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),N=8;Go(this.peekCodePoint(0));)E.push(this.consumeCodePoint());I=this.peekCodePoint(0),z=this.peekCodePoint(1);var Z=this.peekCodePoint(2);if((69===I||101===I)&&((43===z||45===z)&&Go(Z)||Go(z)))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),N=8;Go(this.peekCodePoint(0));)E.push(this.consumeCodePoint());return[bV(E),N]},x.prototype.consumeNumericToken=function(){var E=this.consumeNumber(),N=E[0],I=E[1],z=this.peekCodePoint(0),Z=this.peekCodePoint(1),ie=this.peekCodePoint(2);return Pw(z,Z,ie)?{type:15,number:N,flags:I,unit:this.consumeName()}:37===z?(this.consumeCodePoint(),{type:16,number:N,flags:I}):{type:17,number:N,flags:I}},x.prototype.consumeEscapedCodePoint=function(){var E=this.consumeCodePoint();if(jc(E)){for(var N=Ge(E);jc(this.peekCodePoint(0))&&N.length<6;)N+=Ge(this.consumeCodePoint());vv(this.peekCodePoint(0))&&this.consumeCodePoint();var I=parseInt(N,16);return 0===I||function(x){return x>=55296&&x<=57343}(I)||I>1114111?65533:I}return-1===E?65533:E},x.prototype.consumeName=function(){for(var E="";;){var N=this.consumeCodePoint();if(b2(N))E+=Ge(N);else{if(!GA(N,this.peekCodePoint(0)))return this.reconsumeCodePoint(N),E;E+=Ge(this.consumeEscapedCodePoint())}}},x}(),kR=function(){function x(E){this._tokens=E}return x.create=function(E){var N=new UR;return N.write(E),new x(N.read())},x.parseValue=function(E){return x.create(E).parseComponentValue()},x.parseValues=function(E){return x.create(E).parseComponentValues()},x.prototype.parseComponentValue=function(){for(var E=this.consumeToken();31===E.type;)E=this.consumeToken();if(32===E.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(E);var N=this.consumeComponentValue();do{E=this.consumeToken()}while(31===E.type);if(32===E.type)return N;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},x.prototype.parseComponentValues=function(){for(var E=[];;){var N=this.consumeComponentValue();if(32===N.type)return E;E.push(N),E.push()}},x.prototype.consumeComponentValue=function(){var E=this.consumeToken();switch(E.type){case 11:case 28:case 2:return this.consumeSimpleBlock(E.type);case 19:return this.consumeFunction(E)}return E},x.prototype.consumeSimpleBlock=function(E){for(var N={type:E,values:[]},I=this.consumeToken();;){if(32===I.type||VR(I,E))return N;this.reconsumeToken(I),N.values.push(this.consumeComponentValue()),I=this.consumeToken()}},x.prototype.consumeFunction=function(E){for(var N={name:E.value,values:[],type:18};;){var I=this.consumeToken();if(32===I.type||3===I.type)return N;this.reconsumeToken(I),N.values.push(this.consumeComponentValue())}},x.prototype.consumeToken=function(){var E=this._tokens.shift();return typeof E>"u"?Ly:E},x.prototype.reconsumeToken=function(E){this._tokens.unshift(E)},x}(),Lh=function(x){return 15===x.type},Gf=function(x){return 17===x.type},fs=function(x){return 20===x.type},HR=function(x){return 0===x.type},Qw=function(x,E){return fs(x)&&x.value===E},x2=function(x){return 31!==x.type},jA=function(x){return 31!==x.type&&4!==x.type},jl=function(x){var E=[],N=[];return x.forEach(function(I){if(4===I.type){if(0===N.length)throw new Error("Error parsing function args, zero tokens for arg");return E.push(N),void(N=[])}31!==I.type&&N.push(I)}),N.length&&E.push(N),E},VR=function(x,E){return 11===E&&12===x.type||28===E&&29===x.type||2===E&&3===x.type},ql=function(x){return 17===x.type||15===x.type},ea=function(x){return 16===x.type||ql(x)},Yt=function(x){return x.length>1?[x[0],x[1]]:[x[0]]},Ba={type:17,number:0,flags:4},Ve={type:16,number:50,flags:4},dd={type:16,number:100,flags:4},qA=function(x,E,N){var I=x[0],z=x[1];return[Cs(I,E),Cs(typeof z<"u"?z:I,N)]},Cs=function(x,E){if(16===x.type)return x.number/100*E;if(Lh(x))switch(x.unit){case"rem":case"em":return 16*x.number;default:return x.number}return x.number},WA_parse=function(x,E){if(15===E.type)switch(E.unit){case"deg":return Math.PI*E.number/180;case"grad":return Math.PI/200*E.number;case"rad":return E.number;case"turn":return 2*Math.PI*E.number}throw new Error("Unsupported angle type")},N2=function(x){return 15===x.type&&("deg"===x.unit||"grad"===x.unit||"rad"===x.unit||"turn"===x.unit)},bv=function(x){switch(x.filter(fs).map(function(N){return N.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ba,Ba];case"to top":case"bottom":return Su(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ba,dd];case"to right":case"left":return Su(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[dd,dd];case"to bottom":case"top":return Su(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[dd,Ba];case"to left":case"right":return Su(270)}return 0},Su=function(x){return Math.PI*x/180},gc_parse=function(x,E){if(18===E.type){var N=EV[E.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported color function "'+E.name+'"');return N(x,E.values)}if(5===E.type){if(3===E.value.length){var I=E.value.substring(0,1),z=E.value.substring(1,2),Z=E.value.substring(2,3);return qc(parseInt(I+I,16),parseInt(z+z,16),parseInt(Z+Z,16),1)}if(4===E.value.length){I=E.value.substring(0,1),z=E.value.substring(1,2),Z=E.value.substring(2,3);var ie=E.value.substring(3,4);return qc(parseInt(I+I,16),parseInt(z+z,16),parseInt(Z+Z,16),parseInt(ie+ie,16)/255)}if(6===E.value.length)return I=E.value.substring(0,2),z=E.value.substring(2,4),Z=E.value.substring(4,6),qc(parseInt(I,16),parseInt(z,16),parseInt(Z,16),1);if(8===E.value.length)return I=E.value.substring(0,2),z=E.value.substring(2,4),Z=E.value.substring(4,6),ie=E.value.substring(6,8),qc(parseInt(I,16),parseInt(z,16),parseInt(Z,16),parseInt(ie,16)/255)}if(20===E.type){var De=qf[E.value.toUpperCase()];if(typeof De<"u")return De}return qf.TRANSPARENT},jf=function(x){return!(255&x)},As=function(x){var E=255&x,N=255&x>>8,I=255&x>>16,z=255&x>>24;return E<255?"rgba("+z+","+I+","+N+","+E/255+")":"rgb("+z+","+I+","+N+")"},qc=function(x,E,N,I){return(x<<24|E<<16|N<<8|Math.round(255*I))>>>0},zw=function(x,E){if(17===x.type)return x.number;if(16===x.type){var N=3===E?1:255;return 3===E?x.number/100*N:Math.round(x.number/100*N)}return 0},wv=function(x,E){var N=E.filter(jA);if(3===N.length){var I=N.map(zw);return qc(I[0],I[1],I[2],1)}if(4===N.length){var De=N.map(zw);return qc(De[0],De[1],De[2],De[3])}return 0};function _g(x,E,N){return N<0&&(N+=1),N>=1&&(N-=1),N<1/6?(E-x)*N*6+x:N<.5?E:N<2/3?6*(E-x)*(2/3-N)+x:x}var Uy=function(x,E){var N=E.filter(jA),I=N[0],z=N[1],Z=N[2],ie=N[3],De=(17===I.type?Su(I.number):WA_parse(x,I))/(2*Math.PI),xe=ea(z)?z.number/100:0,qe=ea(Z)?Z.number/100:0,et=typeof ie<"u"&&ea(ie)?Cs(ie,1):1;if(0===xe)return qc(255*qe,255*qe,255*qe,1);var ct=qe<=.5?qe*(xe+1):qe+xe-qe*xe,Bt=2*qe-ct,Un=_g(Bt,ct,De+1/3),An=_g(Bt,ct,De),Nn=_g(Bt,ct,De-1/3);return qc(255*Un,255*An,255*Nn,et)},EV={hsl:Uy,hsla:Uy,rgb:wv,rgba:wv},bg=function(x,E){return gc_parse(x,kR.create(E).parseComponentValue())},qf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Wc={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(x,E){return E.map(function(N){if(fs(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Gw={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Uh=function(x,E){var N=gc_parse(x,E[0]),I=E[1];return I&&ea(I)?{color:N,stop:I}:{color:N,stop:null}},QR=function(x,E){var N=x[0],I=x[x.length-1];null===N.stop&&(N.stop=Ba),null===I.stop&&(I.stop=dd);for(var z=[],Z=0,ie=0;ie<x.length;ie++){var De=x[ie].stop;if(null!==De){var xe=Cs(De,E);z.push(xe>Z?xe:Z),Z=xe}else z.push(null)}var qe=null;for(ie=0;ie<z.length;ie++){var et=z[ie];if(null===et)null===qe&&(qe=ie);else if(null!==qe){for(var ct=ie-qe,Un=(et-z[qe-1])/(ct+1),An=1;An<=ct;An++)z[qe+An-1]=Un*An;qe=null}}return x.map(function(Nn,ai){return{color:Nn.color,stop:Math.max(Math.min(1,z[ai]/E),0)}})},Qd=function(x,E,N){var I="number"==typeof x?x:function(x,E,N){var I=E/2,z=N/2,Z=Cs(x[0],E)-I,ie=z-Cs(x[1],N);return(Math.atan2(ie,Z)+2*Math.PI)%(2*Math.PI)}(x,E,N),z=Math.abs(E*Math.sin(I))+Math.abs(N*Math.cos(I)),Z=E/2,ie=N/2,De=z/2,xe=Math.sin(I-Math.PI/2)*De,qe=Math.cos(I-Math.PI/2)*De;return[z,Z-qe,Z+qe,ie-xe,ie+xe]},Wr=function(x,E){return Math.sqrt(x*x+E*E)},kh=function(x,E,N,I,z){return[[0,0],[0,E],[x,0],[x,E]].reduce(function(ie,De){var et=Wr(N-De[0],I-De[1]);return(z?et<ie.optimumDistance:et>ie.optimumDistance)?{optimumCorner:De,optimumDistance:et}:ie},{optimumDistance:z?1/0:-1/0,optimumCorner:null}).optimumCorner},$A=function(x,E){var N=Su(180),I=[];return jl(E).forEach(function(z,Z){if(0===Z){var ie=z[0];if(20===ie.type&&-1!==["top","left","right","bottom"].indexOf(ie.value))return void(N=bv(z));if(N2(ie))return void(N=(WA_parse(x,ie)+Su(270))%Su(360))}var De=Uh(x,z);I.push(De)}),{angle:N,stops:I,type:1}},xu="closest-side",Vr="farthest-side",R2="closest-corner",Hy="farthest-corner",Ww="ellipse",$w="contain",Vy=function(x,E){var N=0,I=3,z=[],Z=[];return jl(E).forEach(function(ie,De){var xe=!0;if(0===De?xe=ie.reduce(function(et,ct){if(fs(ct))switch(ct.value){case"center":return Z.push(Ve),!1;case"top":case"left":return Z.push(Ba),!1;case"right":case"bottom":return Z.push(dd),!1}else if(ea(ct)||ql(ct))return Z.push(ct),!1;return et},xe):1===De&&(xe=ie.reduce(function(et,ct){if(fs(ct))switch(ct.value){case"circle":return N=0,!1;case Ww:return N=1,!1;case $w:case xu:return I=0,!1;case Vr:return I=1,!1;case R2:return I=2,!1;case"cover":case Hy:return I=3,!1}else if(ql(ct)||ea(ct))return Array.isArray(I)||(I=[]),I.push(ct),!1;return et},xe)),xe){var qe=Uh(x,ie);z.push(qe)}}),{size:I,shape:N,stops:z,position:Z,type:2}},Xw_parse=function(x,E){if(22===E.type){var N={url:E.value,type:0};return x.cache.addImage(E.value),N}if(18===E.type){var I=P2[E.name];if(typeof I>"u")throw new Error('Attempting to parse an unsupported image function "'+E.name+'"');return I(x,E.values)}throw new Error("Unsupported image type "+E.type)};for(var P2={"linear-gradient":function(x,E){var N=Su(180),I=[];return jl(E).forEach(function(z,Z){if(0===Z){var ie=z[0];if(20===ie.type&&"to"===ie.value)return void(N=bv(z));if(N2(ie))return void(N=WA_parse(x,ie))}var De=Uh(x,z);I.push(De)}),{angle:N,stops:I,type:1}},"-moz-linear-gradient":$A,"-ms-linear-gradient":$A,"-o-linear-gradient":$A,"-webkit-linear-gradient":$A,"radial-gradient":function(x,E){var N=0,I=3,z=[],Z=[];return jl(E).forEach(function(ie,De){var xe=!0;if(0===De){var qe=!1;xe=ie.reduce(function(ct,Bt){if(qe)if(fs(Bt))switch(Bt.value){case"center":return Z.push(Ve),ct;case"top":case"left":return Z.push(Ba),ct;case"right":case"bottom":return Z.push(dd),ct}else(ea(Bt)||ql(Bt))&&Z.push(Bt);else if(fs(Bt))switch(Bt.value){case"circle":return N=0,!1;case Ww:return N=1,!1;case"at":return qe=!0,!1;case xu:return I=0,!1;case"cover":case Vr:return I=1,!1;case $w:case R2:return I=2,!1;case Hy:return I=3,!1}else if(ql(Bt)||ea(Bt))return Array.isArray(I)||(I=[]),I.push(Bt),!1;return ct},xe)}if(xe){var et=Uh(x,ie);z.push(et)}}),{size:I,shape:N,stops:z,position:Z,type:2}},"-moz-radial-gradient":Vy,"-ms-radial-gradient":Vy,"-o-radial-gradient":Vy,"-webkit-radial-gradient":Vy,"-webkit-gradient":function(x,E){var N=Su(180),I=[],z=1;return jl(E).forEach(function(xe,qe){var et=xe[0];if(0===qe){if(fs(et)&&"linear"===et.value)return void(z=1);if(fs(et)&&"radial"===et.value)return void(z=2)}if(18===et.type)if("from"===et.name){var ct=gc_parse(x,et.values[0]);I.push({stop:Ba,color:ct})}else if("to"===et.name)ct=gc_parse(x,et.values[0]),I.push({stop:dd,color:ct});else if("color-stop"===et.name){var Bt=et.values.filter(jA);if(2===Bt.length){ct=gc_parse(x,Bt[1]);var Un=Bt[0];Gf(Un)&&I.push({stop:{type:16,number:100*Un.number,flags:Un.flags},color:ct})}}}),1===z?{angle:(N+Su(180))%Su(360),stops:I,type:z}:{size:3,shape:0,stops:I,position:[],type:z}}},L2={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(x,E){if(0===E.length)return[];var N=E[0];return 20===N.type&&"none"===N.value?[]:E.filter(function(I){return jA(I)&&function hd(x){return!(20===x.type&&"none"===x.value||18===x.type&&!P2[x.name])}(I)}).map(function(I){return Xw_parse(x,I)})}},GR={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(x,E){return E.map(function(N){if(fs(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},jR={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(x,E){return jl(E).map(function(N){return N.filter(ea)}).map(Yt)}},qR={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(x,E){return jl(E).map(function(N){return N.filter(fs).map(function(I){return I.value}).join(" ")}).map(WR)}},WR=function(x){switch(x){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Cg=function(x){return x.AUTO="auto",x.CONTAIN="contain",x.COVER="cover",x}(Cg||{}),$R={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(x,E){return jl(E).map(function(N){return N.filter(KR)})}},KR=function(x){return fs(x)||ea(x)},Qy=function(x){return{name:"border-"+x+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},hr=Qy("top"),XR=Qy("right"),YR=Qy("bottom"),ui=Qy("left"),Cv=function(x){return{name:"border-radius-"+x,initialValue:"0 0",prefix:!1,type:1,parse:function(E,N){return Yt(N.filter(ea))}}},bn=Cv("top-left"),mc=Cv("top-right"),_i=Cv("bottom-right"),ga=Cv("bottom-left"),ta=function(x){return{name:"border-"+x+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(E,N){switch(N){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Wf=ta("top"),_l=ta("right"),U2=ta("bottom"),k2=ta("left"),KA=function(x){return{name:"border-"+x+"-width",initialValue:"0",type:0,prefix:!1,parse:function(E,N){return Lh(N)?N.number:0}}},JR=KA("top"),ZR=KA("right"),Eg=KA("bottom"),eO=KA("left"),Yw={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},H2={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(x,E){return"rtl"===E?1:0}},zy={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(x,E){return E.filter(fs).reduce(function(N,I){return N|SV(I.value)},0)}},SV=function(x){switch(x){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Jw={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(x,E){switch(E){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},tO={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(x,E){return 20===E.type&&"normal"===E.value?0:17===E.type||15===E.type?E.number:0}},Ev=function(x){return x.NORMAL="normal",x.STRICT="strict",x}(Ev||{}),V2={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(x,E){return"strict"===E?Ev.STRICT:Ev.NORMAL}},Q2={name:"line-height",initialValue:"normal",prefix:!1,type:4},$f=function(x,E){return fs(x)&&"normal"===x.value?1.2*E:17===x.type?E*x.number:ea(x)?Cs(x,E):E},nO={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(x,E){return 20===E.type&&"none"===E.value?null:Xw_parse(x,E)}},Zw={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(x,E){return"inside"===E?0:1}},Sg={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(x,E){switch(E){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Gy=function(x){return{name:"margin-"+x,initialValue:"0",prefix:!1,type:4}},eC=Gy("top"),jy=Gy("right"),el=Gy("bottom"),xg=Gy("left"),tC={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(x,E){return E.filter(fs).map(function(N){switch(N.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},rO={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(x,E){return"break-word"===E?"break-word":"normal"}},qy=function(x){return{name:"padding-"+x,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},z2=qy("top"),Dg=qy("right"),iO=qy("bottom"),sO=qy("left"),oO={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(x,E){switch(E){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},nC={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(x,E){switch(E){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},zd={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(x,E){return 1===E.length&&Qw(E[0],"none")?[]:jl(E).map(function(N){for(var I={color:qf.TRANSPARENT,offsetX:Ba,offsetY:Ba,blur:Ba},z=0,Z=0;Z<N.length;Z++){var ie=N[Z];ql(ie)?(0===z?I.offsetX=ie:1===z?I.offsetY=ie:I.blur=ie,z++):I.color=gc_parse(x,ie)}return I})}},G2={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(x,E){switch(E){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Sv={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(x,E){if(20===E.type&&"none"===E.value)return null;if(18===E.type){var N=lO[E.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported transform function "'+E.name+'"');return N(E.values)}return null}},lO={matrix:function(x){var E=x.filter(function(N){return 17===N.type}).map(function(N){return N.number});return 6===E.length?E:null},matrix3d:function(x){var E=x.filter(function(xe){return 17===xe.type}).map(function(xe){return xe.number});return 16===E.length?[E[0],E[1],E[4],E[5],E[12],E[13]]:null}},na={type:16,number:50,flags:4},j2=[na,na],cO={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(x,E){var N=E.filter(ea);return 2!==N.length?j2:[N[0],N[1]]}},xv={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(x,E){switch(E){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Wy=function(x){return x.NORMAL="normal",x.BREAK_ALL="break-all",x.KEEP_ALL="keep-all",x}(Wy||{}),uO={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(x,E){switch(E){case"break-all":return Wy.BREAK_ALL;case"keep-all":return Wy.KEEP_ALL;default:return Wy.NORMAL}}},dO={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(x,E){if(20===E.type)return{auto:!0,order:0};if(Gf(E))return{auto:!1,order:E.number};throw new Error("Invalid z-index number parsed")}},q2={name:"time",parse:function(x,E){if(15===E.type)switch(E.unit.toLowerCase()){case"s":return 1e3*E.number;case"ms":return E.number}throw new Error("Unsupported time type")}},hO={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(x,E){return Gf(E)?E.number:1}},fO={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},rC={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(x,E){return E.filter(fs).map(function(N){switch(N.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(N){return 0!==N})}},$y={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(x,E){var N=[],I=[];return E.forEach(function(z){switch(z.type){case 20:case 0:N.push(z.value);break;case 17:N.push(z.number.toString());break;case 4:I.push(N.join(" ")),N.length=0}}),N.length&&I.push(N.join(" ")),I.map(function(z){return-1===z.indexOf(" ")?z:"'"+z+"'"})}},yo={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},mn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(x,E){return Gf(E)?E.number:fs(E)&&"bold"===E.value?700:400}},sr={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(x,E){return E.filter(fs).map(function(N){return N.value})}},jo={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(x,E){switch(E){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Bs=function(x,E){return!!(x&E)},bl={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(x,E){if(0===E.length)return[];var N=E[0];return 20===N.type&&"none"===N.value?[]:E}},$c={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(x,E){if(0===E.length)return null;var N=E[0];if(20===N.type&&"none"===N.value)return null;for(var I=[],z=E.filter(x2),Z=0;Z<z.length;Z++){var ie=z[Z],De=z[Z+1];if(20===ie.type){var xe=De&&Gf(De)?De.number:1;I.push({counter:ie.value,increment:xe})}}return I}},Tg={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(x,E){if(0===E.length)return[];for(var N=[],I=E.filter(x2),z=0;z<I.length;z++){var Z=I[z],ie=I[z+1];if(fs(Z)&&"none"!==Z.value){var De=ie&&Gf(ie)?ie.number:0;N.push({counter:Z.value,reset:De})}}return N}},Js={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(x,E){return E.filter(Lh).map(function(N){return q2.parse(x,N)})}},ra={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(x,E){if(0===E.length)return null;var N=E[0];if(20===N.type&&"none"===N.value)return null;var I=[],z=E.filter(HR);if(z.length%2!=0)return null;for(var Z=0;Z<z.length;Z+=2)I.push({open:z[Z].value,close:z[Z+1].value});return I}},Du=function(x,E,N){if(!x)return"";var I=x[Math.min(E,x.length-1)];return I?N?I.open:I.close:""},wr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(x,E){return 1===E.length&&Qw(E[0],"none")?[]:jl(E).map(function(N){for(var I={color:255,offsetX:Ba,offsetY:Ba,blur:Ba,spread:Ba,inset:!1},z=0,Z=0;Z<N.length;Z++){var ie=N[Z];Qw(ie,"inset")?I.inset=!0:ql(ie)?(0===z?I.offsetX=ie:1===z?I.offsetY=ie:2===z?I.blur=ie:I.spread=ie,z++):I.color=gc_parse(x,ie)}return I})}},Dv={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(x,E){var I=[];return E.filter(fs).forEach(function(z){switch(z.value){case"stroke":I.push(1);break;case"fill":I.push(0);break;case"markers":I.push(2)}}),[0,1,2].forEach(function(z){-1===I.indexOf(z)&&I.push(z)}),I}},W2={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Bg={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(x,E){return Lh(E)?E.number:0}},xo=function(){function x(E,N){var I,z;this.animationDuration=Bn(E,Js,N.animationDuration),this.backgroundClip=Bn(E,Wc,N.backgroundClip),this.backgroundColor=Bn(E,Gw,N.backgroundColor),this.backgroundImage=Bn(E,L2,N.backgroundImage),this.backgroundOrigin=Bn(E,GR,N.backgroundOrigin),this.backgroundPosition=Bn(E,jR,N.backgroundPosition),this.backgroundRepeat=Bn(E,qR,N.backgroundRepeat),this.backgroundSize=Bn(E,$R,N.backgroundSize),this.borderTopColor=Bn(E,hr,N.borderTopColor),this.borderRightColor=Bn(E,XR,N.borderRightColor),this.borderBottomColor=Bn(E,YR,N.borderBottomColor),this.borderLeftColor=Bn(E,ui,N.borderLeftColor),this.borderTopLeftRadius=Bn(E,bn,N.borderTopLeftRadius),this.borderTopRightRadius=Bn(E,mc,N.borderTopRightRadius),this.borderBottomRightRadius=Bn(E,_i,N.borderBottomRightRadius),this.borderBottomLeftRadius=Bn(E,ga,N.borderBottomLeftRadius),this.borderTopStyle=Bn(E,Wf,N.borderTopStyle),this.borderRightStyle=Bn(E,_l,N.borderRightStyle),this.borderBottomStyle=Bn(E,U2,N.borderBottomStyle),this.borderLeftStyle=Bn(E,k2,N.borderLeftStyle),this.borderTopWidth=Bn(E,JR,N.borderTopWidth),this.borderRightWidth=Bn(E,ZR,N.borderRightWidth),this.borderBottomWidth=Bn(E,Eg,N.borderBottomWidth),this.borderLeftWidth=Bn(E,eO,N.borderLeftWidth),this.boxShadow=Bn(E,wr,N.boxShadow),this.color=Bn(E,Yw,N.color),this.direction=Bn(E,H2,N.direction),this.display=Bn(E,zy,N.display),this.float=Bn(E,Jw,N.cssFloat),this.fontFamily=Bn(E,$y,N.fontFamily),this.fontSize=Bn(E,yo,N.fontSize),this.fontStyle=Bn(E,jo,N.fontStyle),this.fontVariant=Bn(E,sr,N.fontVariant),this.fontWeight=Bn(E,mn,N.fontWeight),this.letterSpacing=Bn(E,tO,N.letterSpacing),this.lineBreak=Bn(E,V2,N.lineBreak),this.lineHeight=Bn(E,Q2,N.lineHeight),this.listStyleImage=Bn(E,nO,N.listStyleImage),this.listStylePosition=Bn(E,Zw,N.listStylePosition),this.listStyleType=Bn(E,Sg,N.listStyleType),this.marginTop=Bn(E,eC,N.marginTop),this.marginRight=Bn(E,jy,N.marginRight),this.marginBottom=Bn(E,el,N.marginBottom),this.marginLeft=Bn(E,xg,N.marginLeft),this.opacity=Bn(E,hO,N.opacity);var Z=Bn(E,tC,N.overflow);this.overflowX=Z[0],this.overflowY=Z[Z.length>1?1:0],this.overflowWrap=Bn(E,rO,N.overflowWrap),this.paddingTop=Bn(E,z2,N.paddingTop),this.paddingRight=Bn(E,Dg,N.paddingRight),this.paddingBottom=Bn(E,iO,N.paddingBottom),this.paddingLeft=Bn(E,sO,N.paddingLeft),this.paintOrder=Bn(E,Dv,N.paintOrder),this.position=Bn(E,nC,N.position),this.textAlign=Bn(E,oO,N.textAlign),this.textDecorationColor=Bn(E,fO,null!==(I=N.textDecorationColor)&&void 0!==I?I:N.color),this.textDecorationLine=Bn(E,rC,null!==(z=N.textDecorationLine)&&void 0!==z?z:N.textDecoration),this.textShadow=Bn(E,zd,N.textShadow),this.textTransform=Bn(E,G2,N.textTransform),this.transform=Bn(E,Sv,N.transform),this.transformOrigin=Bn(E,cO,N.transformOrigin),this.visibility=Bn(E,xv,N.visibility),this.webkitTextStrokeColor=Bn(E,W2,N.webkitTextStrokeColor),this.webkitTextStrokeWidth=Bn(E,Bg,N.webkitTextStrokeWidth),this.wordBreak=Bn(E,uO,N.wordBreak),this.zIndex=Bn(E,dO,N.zIndex)}return x.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},x.prototype.isTransparent=function(){return jf(this.backgroundColor)},x.prototype.isTransformed=function(){return null!==this.transform},x.prototype.isPositioned=function(){return 0!==this.position},x.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},x.prototype.isFloating=function(){return 0!==this.float},x.prototype.isInlineLevel=function(){return Bs(this.display,4)||Bs(this.display,33554432)||Bs(this.display,268435456)||Bs(this.display,536870912)||Bs(this.display,67108864)||Bs(this.display,134217728)},x}(),Mv=function(){return function x(E,N){this.content=Bn(E,bl,N.content),this.quotes=Bn(E,ra,N.quotes)}}(),XA=function(){return function x(E,N){this.counterIncrement=Bn(E,$c,N.counterIncrement),this.counterReset=Bn(E,Tg,N.counterReset)}}(),Bn=function(x,E,N){var I=new UR,z=null!==N&&typeof N<"u"?N.toString():E.initialValue;I.write(z);var Z=new kR(I.read());switch(E.type){case 2:var ie=Z.parseComponentValue();return E.parse(x,fs(ie)?ie.value:E.initialValue);case 0:return E.parse(x,Z.parseComponentValue());case 1:return E.parse(x,Z.parseComponentValues());case 4:return Z.parseComponentValue();case 3:switch(E.format){case"angle":return WA_parse(x,Z.parseComponentValue());case"color":return gc_parse(x,Z.parseComponentValue());case"image":return Xw_parse(x,Z.parseComponentValue());case"length":var De=Z.parseComponentValue();return ql(De)?De:Ba;case"length-percentage":var xe=Z.parseComponentValue();return ea(xe)?xe:Ba;case"time":return q2.parse(x,Z.parseComponentValue())}}},Gd=function(x,E){var N=function(x){switch(x.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(x);return 1===N||E===N},Kc=function(){return function x(E,N){this.context=E,this.textNodes=[],this.elements=[],this.flags=0,Gd(N,3),this.styles=new xo(E,window.getComputedStyle(N,null)),Pv(N)&&(this.styles.animationDuration.some(function(I){return I>0})&&(N.style.animationDuration="0s"),null!==this.styles.transform&&(N.style.transform="none")),this.bounds=gt(this.context,N),Gd(N,4)&&(this.flags|=16)}}(),Br="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",JA=typeof Uint8Array>"u"?[]:new Uint8Array(256),Kf=0;Kf<64;Kf++)JA[Br.charCodeAt(Kf)]=Kf;for(var mO=function(x,E,N){return x.slice?x.slice(E,N):new Uint16Array(Array.prototype.slice.call(x,E,N))},MV=function(){function x(E,N,I,z,Z,ie){this.initialValue=E,this.errorValue=N,this.highStart=I,this.highValueIndex=z,this.index=Z,this.data=ie}return x.prototype.get=function(E){var N;if(E>=0){if(E<55296||E>56319&&E<=65535)return this.data[N=((N=this.index[E>>5])<<2)+(31&E)];if(E<=65535)return this.data[N=((N=this.index[2048+(E-55296>>5)])<<2)+(31&E)];if(E<this.highStart)return N=this.index[N=2080+(E>>11)],this.data[N=((N=this.index[N+=E>>5&63])<<2)+(31&E)];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},x}(),vO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",TV=typeof Uint8Array>"u"?[]:new Uint8Array(256),aC=0;aC<64;aC++)TV[vO.charCodeAt(aC)]=aC;var lC=8,Z2=9,bO=11,wO=12,CO=function(){for(var x=[],E=0;E<arguments.length;E++)x[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,x);var N=x.length;if(!N)return"";for(var I=[],z=-1,Z="";++z<N;){var ie=x[z];ie<=65535?I.push(ie):I.push(55296+((ie-=65536)>>10),ie%1024+56320),(z+1===N||I.length>16384)&&(Z+=String.fromCharCode.apply(String,I),I.length=0)}return Z},EO=function(x,E){var N=function(x){var I,Z,ie,De,xe,E=.75*x.length,N=x.length,z=0;"="===x[x.length-1]&&(E--,"="===x[x.length-2]&&E--);var qe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),et=Array.isArray(qe)?qe:new Uint8Array(qe);for(I=0;I<N;I+=4)Z=JA[x.charCodeAt(I)],ie=JA[x.charCodeAt(I+1)],De=JA[x.charCodeAt(I+2)],xe=JA[x.charCodeAt(I+3)],et[z++]=Z<<2|ie>>4,et[z++]=(15&ie)<<4|De>>2,et[z++]=(3&De)<<6|63&xe;return qe}(x),I=Array.isArray(N)?function(x){for(var E=x.length,N=[],I=0;I<E;I+=4)N.push(x[I+3]<<24|x[I+2]<<16|x[I+1]<<8|x[I]);return N}(N):new Uint32Array(N),z=Array.isArray(N)?function(x){for(var E=x.length,N=[],I=0;I<E;I+=2)N.push(x[I+1]<<8|x[I]);return N}(N):new Uint16Array(N),ie=mO(z,12,I[4]/2),De=2===I[5]?mO(z,(24+I[4])/2):function(x,E,N){return x.slice?x.slice(E,N):new Uint32Array(Array.prototype.slice.call(x,E,N))}(I,Math.ceil((24+I[4])/4));return new MV(I[0],I[1],I[2],I[3],ie,De)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),SO=function(x){return EO.get(x)},uC=function(x,E,N){var I=N-2,z=E[I],Z=E[N-1],ie=E[N];if(2===Z&&3===ie)return"\xd7";if(2===Z||3===Z||4===Z||2===ie||3===ie||4===ie)return"\xf7";if(Z===lC&&-1!==[lC,Z2,bO,wO].indexOf(ie)||(Z===bO||Z===Z2)&&(ie===Z2||10===ie)||(Z===wO||10===Z)&&10===ie||13===ie||5===ie||7===ie||1===Z)return"\xd7";if(13===Z&&14===ie){for(;5===z;)z=E[--I];if(14===z)return"\xd7"}if(15===Z&&15===ie){for(var De=0;15===z;)De++,z=E[--I];if(De%2==0)return"\xd7"}return"\xf7"},xO=function(x){var E=function(x){for(var E=[],N=0,I=x.length;N<I;){var z=x.charCodeAt(N++);if(z>=55296&&z<=56319&&N<I){var Z=x.charCodeAt(N++);56320==(64512&Z)?E.push(((1023&z)<<10)+(1023&Z)+65536):(E.push(z),N--)}else E.push(z)}return E}(x),N=E.length,I=0,z=0,Z=E.map(SO);return{next:function(){if(I>=N)return{done:!0,value:null};for(var ie="\xd7";I<N&&"\xd7"===(ie=uC(0,Z,++I)););if("\xd7"!==ie||I===N){var De=CO.apply(null,E.slice(z,I));return z=I,{value:De,done:!1}}return{done:!0,value:null}}}},Ns=function(x){return 0===x[0]&&255===x[1]&&0===x[2]&&255===x[3]},ep=function(x,E,N,I,z){var Z="http://www.w3.org/2000/svg",ie=document.createElementNS(Z,"svg"),De=document.createElementNS(Z,"foreignObject");return ie.setAttributeNS(null,"width",x.toString()),ie.setAttributeNS(null,"height",E.toString()),De.setAttributeNS(null,"width","100%"),De.setAttributeNS(null,"height","100%"),De.setAttributeNS(null,"x",N.toString()),De.setAttributeNS(null,"y",I.toString()),De.setAttributeNS(null,"externalResourcesRequired","true"),ie.appendChild(De),De.appendChild(z),ie},Cl=function(x){return new Promise(function(E,N){var I=new Image;I.onload=function(){return E(I)},I.onerror=N,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(x))})},tl={get SUPPORT_RANGE_BOUNDS(){var x=function(x){if(x.createRange){var N=x.createRange();if(N.getBoundingClientRect){var I=x.createElement("boundtest");I.style.height="123px",I.style.display="block",x.body.appendChild(I),N.selectNode(I);var z=N.getBoundingClientRect(),Z=Math.round(z.height);if(x.body.removeChild(I),123===Z)return!0}}return!1}(document);return Object.defineProperty(tl,"SUPPORT_RANGE_BOUNDS",{value:x}),x},get SUPPORT_WORD_BREAKING(){var x=tl.SUPPORT_RANGE_BOUNDS&&function(x){var E=x.createElement("boundtest");E.style.width="50px",E.style.display="block",E.style.fontSize="12px",E.style.letterSpacing="0px",E.style.wordSpacing="0px",x.body.appendChild(E);var N=x.createRange();E.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var I=E.firstChild,z=wt(I.data).map(function(xe){return Ge(xe)}),Z=0,ie={},De=z.every(function(xe,qe){N.setStart(I,Z),N.setEnd(I,Z+xe.length);var et=N.getBoundingClientRect();Z+=xe.length;var ct=et.x>ie.x||et.y>ie.y;return ie=et,0===qe||ct});return x.body.removeChild(E),De}(document);return Object.defineProperty(tl,"SUPPORT_WORD_BREAKING",{value:x}),x},get SUPPORT_SVG_DRAWING(){var x=function(x){var E=new Image,N=x.createElement("canvas"),I=N.getContext("2d");if(!I)return!1;E.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{I.drawImage(E,0,0),N.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(tl,"SUPPORT_SVG_DRAWING",{value:x}),x},get SUPPORT_FOREIGNOBJECT_DRAWING(){var x="function"==typeof Array.from&&"function"==typeof window.fetch?function(x){var E=x.createElement("canvas"),N=100;E.width=N,E.height=N;var I=E.getContext("2d");if(!I)return Promise.reject(!1);I.fillStyle="rgb(0, 255, 0)",I.fillRect(0,0,N,N);var z=new Image,Z=E.toDataURL();z.src=Z;var ie=ep(N,N,0,0,z);return I.fillStyle="red",I.fillRect(0,0,N,N),Cl(ie).then(function(De){I.drawImage(De,0,0);var xe=I.getImageData(0,0,N,N).data;I.fillStyle="red",I.fillRect(0,0,N,N);var qe=x.createElement("div");return qe.style.backgroundImage="url("+Z+")",qe.style.height=N+"px",Ns(xe)?Cl(ep(N,N,0,0,qe)):Promise.reject(!1)}).then(function(De){return I.drawImage(De,0,0),Ns(I.getImageData(0,0,N,N).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(tl,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:x}),x},get SUPPORT_CORS_IMAGES(){var x=typeof(new Image).crossOrigin<"u";return Object.defineProperty(tl,"SUPPORT_CORS_IMAGES",{value:x}),x},get SUPPORT_RESPONSE_TYPE(){var x="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(tl,"SUPPORT_RESPONSE_TYPE",{value:x}),x},get SUPPORT_CORS_XHR(){var x="withCredentials"in new XMLHttpRequest;return Object.defineProperty(tl,"SUPPORT_CORS_XHR",{value:x}),x},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var x=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(tl,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:x}),x}},Hh=function(){return function x(E,N){this.text=E,this.bounds=N}}(),Yc=function(x,E){var N=E.ownerDocument;if(N){var I=N.createElement("html2canvaswrapper");I.appendChild(E.cloneNode(!0));var z=E.parentNode;if(z){z.replaceChild(I,E);var Z=gt(x,I);return I.firstChild&&z.replaceChild(I.firstChild,I),Z}}return yn.EMPTY},oD=function(x,E,N){var I=x.ownerDocument;if(!I)throw new Error("Node has no owner document");var z=I.createRange();return z.setStart(x,E),z.setEnd(x,E+N),z},Nv=function(x){if(tl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var E=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(E.segment(x)).map(function(N){return N.segment})}return function(x){for(var I,E=xO(x),N=[];!(I=E.next()).done;)I.value&&N.push(I.value.slice());return N}(x)},Wd=function(x,E){return 0!==E.letterSpacing?Nv(x):function(x,E){if(tl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var N=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(N.segment(x)).map(function(I){return I.segment})}return TO(x,E)}(x,E)},aD=[32,160,4961,65792,65793,4153,4241],TO=function(x,E){for(var z,N=function(x,E){var N=wt(x),I=Ag(N,E),z=I[0],Z=I[1],ie=I[2],De=N.length,xe=0,qe=0;return{next:function(){if(qe>=De)return{done:!0,value:null};for(var et=jr;qe<De&&(et=ml(N,Z,z,++qe,ie))===jr;);if(et!==jr||qe===De){var ct=new Ny(N,et,xe,qe);return xe=qe,{value:ct,done:!1}}return{done:!0,value:null}}}}(x,{lineBreak:E.lineBreak,wordBreak:"break-word"===E.overflowWrap?"break-word":E.wordBreak}),I=[],Z=function(){if(z.value){var ie=z.value.slice(),De=wt(ie),xe="";De.forEach(function(qe){-1===aD.indexOf(qe)?xe+=Ge(qe):(xe.length&&I.push(xe),I.push(Ge(qe)),xe="")}),xe.length&&I.push(xe)}};!(z=N.next()).done;)Z();return I},lD=function(){return function x(E,N,I){this.text=hC(N.data,I.textTransform),this.textBounds=function(x,E,N,I){var z=Wd(E,N),Z=[],ie=0;return z.forEach(function(De){if(N.textDecorationLine.length||De.trim().length>0)if(tl.SUPPORT_RANGE_BOUNDS){var xe=oD(I,ie,De.length).getClientRects();if(xe.length>1){var qe=Nv(De),et=0;qe.forEach(function(Bt){Z.push(new Hh(Bt,yn.fromDOMRectList(x,oD(I,et+ie,Bt.length).getClientRects()))),et+=Bt.length})}else Z.push(new Hh(De,yn.fromDOMRectList(x,xe)))}else{var ct=I.splitText(De.length);Z.push(new Hh(De,Yc(x,I))),I=ct}else tl.SUPPORT_RANGE_BOUNDS||(I=I.splitText(De.length));ie+=De.length}),Z}(E,this.text,I,N)}}(),hC=function(x,E){switch(E){case 1:return x.toLowerCase();case 3:return x.replace(fC,Iv);case 2:return x.toUpperCase();default:return x}},fC=/(^|\s|:|-|\(|\))([a-z])/g,Iv=function(x,E,N){return x.length>0?E+N.toUpperCase():x},Fv=function(x){function E(N,I){var z=x.call(this,N,I)||this;return z.src=I.currentSrc||I.src,z.intrinsicWidth=I.naturalWidth,z.intrinsicHeight=I.naturalHeight,z.context.cache.addImage(z.src),z}return _e(E,x),E}(Kc),Jy=function(x){function E(N,I){var z=x.call(this,N,I)||this;return z.canvas=I,z.intrinsicWidth=I.width,z.intrinsicHeight=I.height,z}return _e(E,x),E}(Kc),Xf=function(x){function E(N,I){var z=x.call(this,N,I)||this,Z=new XMLSerializer,ie=gt(N,I);return I.setAttribute("width",ie.width+"px"),I.setAttribute("height",ie.height+"px"),z.svg="data:image/svg+xml,"+encodeURIComponent(Z.serializeToString(I)),z.intrinsicWidth=I.width.baseVal.value,z.intrinsicHeight=I.height.baseVal.value,z.context.cache.addImage(z.svg),z}return _e(E,x),E}(Kc),yr=function(x){function E(N,I){var z=x.call(this,N,I)||this;return z.value=I.value,z}return _e(E,x),E}(Kc),Zy=function(x){function E(N,I){var z=x.call(this,N,I)||this;return z.start=I.start,z.reversed="boolean"==typeof I.reversed&&!0===I.reversed,z}return _e(E,x),E}(Kc),IV=[{type:15,flags:0,unit:"px",number:3}],BO=[{type:16,flags:0,number:50}],Rv="checkbox",Vh="radio",FO="password",cD=707406591,AC=function(x){function E(N,I){var z=x.call(this,N,I)||this;switch(z.type=I.type.toLowerCase(),z.checked=I.checked,z.value=function(x){var E=x.type===FO?new Array(x.value.length+1).join("\u2022"):x.value;return 0===E.length?x.placeholder||"":E}(I),(z.type===Rv||z.type===Vh)&&(z.styles.backgroundColor=3739148031,z.styles.borderTopColor=z.styles.borderRightColor=z.styles.borderBottomColor=z.styles.borderLeftColor=2779096575,z.styles.borderTopWidth=z.styles.borderRightWidth=z.styles.borderBottomWidth=z.styles.borderLeftWidth=1,z.styles.borderTopStyle=z.styles.borderRightStyle=z.styles.borderBottomStyle=z.styles.borderLeftStyle=1,z.styles.backgroundClip=[0],z.styles.backgroundOrigin=[0],z.bounds=function(x){return x.width>x.height?new yn(x.left+(x.width-x.height)/2,x.top,x.height,x.height):x.width<x.height?new yn(x.left,x.top+(x.height-x.width)/2,x.width,x.width):x}(z.bounds)),z.type){case Rv:z.styles.borderTopRightRadius=z.styles.borderTopLeftRadius=z.styles.borderBottomRightRadius=z.styles.borderBottomLeftRadius=IV;break;case Vh:z.styles.borderTopRightRadius=z.styles.borderTopLeftRadius=z.styles.borderBottomRightRadius=z.styles.borderBottomLeftRadius=BO}return z}return _e(E,x),E}(Kc),uD=function(x){function E(N,I){var z=x.call(this,N,I)||this,Z=I.options[I.selectedIndex||0];return z.value=Z&&Z.text||"",z}return _e(E,x),E}(Kc),dD=function(x){function E(N,I){var z=x.call(this,N,I)||this;return z.value=I.value,z}return _e(E,x),E}(Kc),Tt=function(x){function E(N,I){var z=x.call(this,N,I)||this;z.src=I.src,z.width=parseInt(I.width,10)||0,z.height=parseInt(I.height,10)||0,z.backgroundColor=z.styles.backgroundColor;try{if(I.contentWindow&&I.contentWindow.document&&I.contentWindow.document.documentElement){z.tree=Es(N,I.contentWindow.document.documentElement);var Z=I.contentWindow.document.documentElement?bg(N,getComputedStyle(I.contentWindow.document.documentElement).backgroundColor):qf.TRANSPARENT,ie=I.contentWindow.document.body?bg(N,getComputedStyle(I.contentWindow.document.body).backgroundColor):qf.TRANSPARENT;z.backgroundColor=jf(Z)?jf(ie)?z.styles.backgroundColor:ie:Z}}catch{}return z}return _e(E,x),E}(Kc),Bi=["OL","UL","MENU"],zn=function(x,E,N,I){for(var z=E.firstChild,Z=void 0;z;z=Z)if(Z=z.nextSibling,Ad(z)&&z.data.trim().length>0)N.textNodes.push(new lD(x,z,N.styles));else if(Yf(z))if(Lv(z)&&z.assignedNodes)z.assignedNodes().forEach(function(De){return zn(x,De,N,I)});else{var ie=$n(x,z);ie.styles.isVisible()&&(hD(z,ie,I)?ie.flags|=4:Ov(ie.styles)&&(ie.flags|=2),-1!==Bi.indexOf(z.tagName)&&(ie.flags|=8),N.elements.push(ie),z.shadowRoot?zn(x,z.shadowRoot,ie,I):!Rg(z)&&!pC(z)&&!Og(z)&&zn(x,z,ie,I))}},$n=function(x,E){return t_(E)?new Fv(x,E):$d(E)?new Jy(x,E):pC(E)?new Xf(x,E):FV(E)?new yr(x,E):fD(E)?new Zy(x,E):Wl(E)?new AC(x,E):Og(E)?new uD(x,E):Rg(E)?new dD(x,E):pD(E)?new Tt(x,E):new Kc(x,E)},Es=function(x,E){var N=$n(x,E);return N.flags|=4,zn(x,E,N,N),N},hD=function(x,E,N){return E.styles.isPositionedWithZIndex()||E.styles.opacity<1||E.styles.isTransformed()||Jc(x)&&N.styles.isTransparent()},Ov=function(x){return x.isPositioned()||x.isFloating()},Ad=function(x){return x.nodeType===Node.TEXT_NODE},Yf=function(x){return x.nodeType===Node.ELEMENT_NODE},Pv=function(x){return Yf(x)&&typeof x.style<"u"&&!e_(x)},e_=function(x){return"object"==typeof x.className},FV=function(x){return"LI"===x.tagName},fD=function(x){return"OL"===x.tagName},Wl=function(x){return"INPUT"===x.tagName},pC=function(x){return"svg"===x.tagName},Jc=function(x){return"BODY"===x.tagName},$d=function(x){return"CANVAS"===x.tagName},AD=function(x){return"VIDEO"===x.tagName},t_=function(x){return"IMG"===x.tagName},pD=function(x){return"IFRAME"===x.tagName},gD=function(x){return"STYLE"===x.tagName},Rg=function(x){return"TEXTAREA"===x.tagName},Og=function(x){return"SELECT"===x.tagName},Lv=function(x){return"SLOT"===x.tagName},mD=function(x){return x.tagName.indexOf("-")>0},vD=function(){function x(){this.counters={}}return x.prototype.getCounterValue=function(E){var N=this.counters[E];return N&&N.length?N[N.length-1]:1},x.prototype.getCounterValues=function(E){return this.counters[E]||[]},x.prototype.pop=function(E){var N=this;E.forEach(function(I){return N.counters[I].pop()})},x.prototype.parse=function(E){var N=this,I=E.counterIncrement,z=E.counterReset,Z=!0;null!==I&&I.forEach(function(De){var xe=N.counters[De.counter];xe&&0!==De.increment&&(Z=!1,xe.length||xe.push(1),xe[Math.max(0,xe.length-1)]+=De.increment)});var ie=[];return Z&&z.forEach(function(De){var xe=N.counters[De.counter];ie.push(De.counter),xe||(xe=N.counters[De.counter]=[]),xe.push(De.reset)}),ie},x}(),n_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},mC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},yD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},_D={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},tp=function(x,E,N,I,z,Z){return x<E||x>N?vc(x,z,Z.length>0):I.integers.reduce(function(ie,De,xe){for(;x>=De;)x-=De,ie+=I.values[xe];return ie},"")+Z},r_=function(x,E,N,I){var z="";do{N||x--,z=I(x)+z,x/=E}while(x*E>=E);return z},Wo=function(x,E,N,I,z){var Z=N-E+1;return(x<0?"-":"")+(r_(Math.abs(x),Z,I,function(ie){return Ge(Math.floor(ie%Z)+E)})+z)},Fo=function(x,E,N){void 0===N&&(N=". ");var I=E.length;return r_(Math.abs(x),I,!1,function(z){return E[Math.floor(z%I)]})+N},Gh=function(x,E,N,I,z,Z){if(x<-9999||x>9999)return vc(x,4,z.length>0);var ie=Math.abs(x),De=z;if(0===ie)return E[0]+De;for(var xe=0;ie>0&&xe<=4;xe++){var qe=ie%10;0===qe&&Bs(Z,1)&&""!==De?De=E[qe]+De:qe>1||1===qe&&0===xe||1===qe&&1===xe&&Bs(Z,2)||1===qe&&1===xe&&Bs(Z,4)&&x>100||1===qe&&xe>1&&Bs(Z,8)?De=E[qe]+(xe>0?N[xe-1]:"")+De:1===qe&&xe>0&&(De=N[xe-1]+De),ie=Math.floor(ie/10)}return(x<0?I:"")+De},np="\ub9c8\uc774\ub108\uc2a4",vc=function(x,E,N){var I=N?". ":"",z=N?"\u3001":"",Z=N?", ":"",ie=N?" ":"";switch(E){case 0:return"\u2022"+ie;case 1:return"\u25e6"+ie;case 2:return"\u25fe"+ie;case 5:var De=Wo(x,48,57,!0,I);return De.length<4?"0"+De:De;case 4:return Fo(x,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",z);case 6:return tp(x,1,3999,n_,3,I).toLowerCase();case 7:return tp(x,1,3999,n_,3,I);case 8:return Wo(x,945,969,!1,I);case 9:return Wo(x,97,122,!1,I);case 10:return Wo(x,65,90,!1,I);case 11:return Wo(x,1632,1641,!0,I);case 12:case 49:return tp(x,1,9999,mC,3,I);case 35:return tp(x,1,9999,mC,3,I).toLowerCase();case 13:return Wo(x,2534,2543,!0,I);case 14:case 30:return Wo(x,6112,6121,!0,I);case 15:return Fo(x,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",z);case 16:return Fo(x,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",z);case 17:case 48:return Gh(x,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",z,14);case 47:return Gh(x,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",z,15);case 42:return Gh(x,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",z,14);case 41:return Gh(x,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",z,15);case 26:return Gh(x,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",z,0);case 25:return Gh(x,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",z,7);case 31:return Gh(x,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",np,Z,7);case 33:return Gh(x,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",np,Z,0);case 32:return Gh(x,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",np,Z,7);case 18:return Wo(x,2406,2415,!0,I);case 20:return tp(x,1,19999,_D,3,I);case 21:return Wo(x,2790,2799,!0,I);case 22:return Wo(x,2662,2671,!0,I);case 22:return tp(x,1,10999,yD,3,I);case 23:return Fo(x,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Fo(x,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Wo(x,3302,3311,!0,I);case 28:return Fo(x,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",z);case 29:return Fo(x,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",z);case 34:return Wo(x,3792,3801,!0,I);case 37:return Wo(x,6160,6169,!0,I);case 38:return Wo(x,4160,4169,!0,I);case 39:return Wo(x,2918,2927,!0,I);case 40:return Wo(x,1776,1785,!0,I);case 43:return Wo(x,3046,3055,!0,I);case 44:return Wo(x,3174,3183,!0,I);case 45:return Wo(x,3664,3673,!0,I);case 46:return Wo(x,3872,3881,!0,I);default:return Wo(x,48,57,!0,I)}},wD="data-html2canvas-ignore",kv=function(){function x(E,N,I){if(this.context=E,this.options=I,this.scrolledElements=[],this.referenceElement=N,this.counters=new vD,this.quoteDepth=0,!N.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(N.ownerDocument.documentElement,!1)}return x.prototype.toIFrame=function(E,N){var I=this,z=i_(E,N);if(!z.contentWindow)return Promise.reject("Unable to find iframe window");var Z=E.defaultView.pageXOffset,ie=E.defaultView.pageYOffset,De=z.contentWindow,xe=De.document,qe=ED(z).then(function(){return mt(I,void 0,void 0,function(){var et,ct;return St(this,function(Bt){switch(Bt.label){case 0:return this.scrolledElements.forEach(bC),De&&(De.scrollTo(N.left,N.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(De.scrollY!==N.top||De.scrollX!==N.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(De.scrollX-N.left,De.scrollY-N.top,0,0))),et=this.options.onclone,typeof(ct=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:xe.fonts&&xe.fonts.ready?[4,xe.fonts.ready]:[3,2];case 1:Bt.sent(),Bt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,CD(xe)]:[3,4];case 3:Bt.sent(),Bt.label=4;case 4:return"function"==typeof et?[2,Promise.resolve().then(function(){return et(xe,ct)}).then(function(){return z})]:[2,z]}})})});return xe.open(),xe.write(Hv(document.doctype)+"<html></html>"),OO(this.referenceElement.ownerDocument,Z,ie),xe.replaceChild(xe.adoptNode(this.documentElement),xe.documentElement),xe.close(),qe},x.prototype.createElementClone=function(E){if(Gd(E,2),$d(E))return this.createCanvasClone(E);if(AD(E))return this.createVideoClone(E);if(gD(E))return this.createStyleClone(E);var N=E.cloneNode(!1);return t_(N)&&(t_(E)&&E.currentSrc&&E.currentSrc!==E.src&&(N.src=E.currentSrc,N.srcset=""),"lazy"===N.loading&&(N.loading="eager")),mD(N)?this.createCustomElementClone(N):N},x.prototype.createCustomElementClone=function(E){var N=document.createElement("html2canvascustomelement");return Jf(E.style,N),N},x.prototype.createStyleClone=function(E){try{var N=E.sheet;if(N&&N.cssRules){var I=[].slice.call(N.cssRules,0).reduce(function(Z,ie){return ie&&"string"==typeof ie.cssText?Z+ie.cssText:Z},""),z=E.cloneNode(!1);return z.textContent=I,z}}catch(Z){if(this.context.logger.error("Unable to access cssRules property",Z),"SecurityError"!==Z.name)throw Z}return E.cloneNode(!1)},x.prototype.createCanvasClone=function(E){var N;if(this.options.inlineImages&&E.ownerDocument){var I=E.ownerDocument.createElement("img");try{return I.src=E.toDataURL(),I}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",E)}}var z=E.cloneNode(!1);try{z.width=E.width,z.height=E.height;var Z=E.getContext("2d"),ie=z.getContext("2d");if(ie)if(!this.options.allowTaint&&Z)ie.putImageData(Z.getImageData(0,0,E.width,E.height),0,0);else{var De=null!==(N=E.getContext("webgl2"))&&void 0!==N?N:E.getContext("webgl");if(De){var xe=De.getContextAttributes();!1===xe?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",E)}ie.drawImage(E,0,0)}return z}catch{this.context.logger.info("Unable to clone canvas as it is tainted",E)}return z},x.prototype.createVideoClone=function(E){var N=E.ownerDocument.createElement("canvas");N.width=E.offsetWidth,N.height=E.offsetHeight;var I=N.getContext("2d");try{return I&&(I.drawImage(E,0,0,N.width,N.height),this.options.allowTaint||I.getImageData(0,0,N.width,N.height)),N}catch{this.context.logger.info("Unable to clone video as it is tainted",E)}var z=E.ownerDocument.createElement("canvas");return z.width=E.offsetWidth,z.height=E.offsetHeight,z},x.prototype.appendChildNode=function(E,N,I){(!Yf(N)||!function(x){return"SCRIPT"===x.tagName}(N)&&!N.hasAttribute(wD)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(N)))&&(!this.options.copyStyles||!Yf(N)||!gD(N))&&E.appendChild(this.cloneNode(N,I))},x.prototype.cloneChildNodes=function(E,N,I){for(var z=this,Z=E.shadowRoot?E.shadowRoot.firstChild:E.firstChild;Z;Z=Z.nextSibling)if(Yf(Z)&&Lv(Z)&&"function"==typeof Z.assignedNodes){var ie=Z.assignedNodes();ie.length&&ie.forEach(function(De){return z.appendChildNode(N,De,I)})}else this.appendChildNode(N,Z,I)},x.prototype.cloneNode=function(E,N){if(Ad(E))return document.createTextNode(E.data);if(!E.ownerDocument)return E.cloneNode(!1);var I=E.ownerDocument.defaultView;if(I&&Yf(E)&&(Pv(E)||e_(E))){var z=this.createElementClone(E);z.style.transitionProperty="none";var Z=I.getComputedStyle(E),ie=I.getComputedStyle(E,":before"),De=I.getComputedStyle(E,":after");this.referenceElement===E&&Pv(z)&&(this.clonedReferenceElement=z),Jc(z)&&CC(z);var xe=this.counters.parse(new XA(this.context,Z)),qe=this.resolvePseudoContent(E,z,ie,rp.BEFORE);mD(E)&&(N=!0),AD(E)||this.cloneChildNodes(E,z,N),qe&&z.insertBefore(qe,z.firstChild);var et=this.resolvePseudoContent(E,z,De,rp.AFTER);return et&&z.appendChild(et),this.counters.pop(xe),(Z&&(this.options.copyStyles||e_(E))&&!pD(E)||N)&&Jf(Z,z),(0!==E.scrollTop||0!==E.scrollLeft)&&this.scrolledElements.push([z,E.scrollLeft,E.scrollTop]),(Rg(E)||Og(E))&&(Rg(z)||Og(z))&&(z.value=E.value),z}return E.cloneNode(!1)},x.prototype.resolvePseudoContent=function(E,N,I,z){var Z=this;if(I){var ie=I.content,De=N.ownerDocument;if(De&&ie&&"none"!==ie&&"-moz-alt-content"!==ie&&"none"!==I.display){this.counters.parse(new XA(this.context,I));var xe=new Mv(this.context,I),qe=De.createElement("html2canvaspseudoelement");Jf(I,qe),xe.content.forEach(function(ct){if(0===ct.type)qe.appendChild(De.createTextNode(ct.value));else if(22===ct.type){var Bt=De.createElement("img");Bt.src=ct.value,Bt.style.opacity="1",qe.appendChild(Bt)}else if(18===ct.type){if("attr"===ct.name){var Un=ct.values.filter(fs);Un.length&&qe.appendChild(De.createTextNode(E.getAttribute(Un[0].value)||""))}else if("counter"===ct.name){var An=ct.values.filter(jA),ai=An[1];if((Nn=An[0])&&fs(Nn)){var er=Z.counters.getCounterValue(Nn.value),Yn=ai&&fs(ai)?Sg.parse(Z.context,ai.value):3;qe.appendChild(De.createTextNode(vc(er,Yn,!1)))}}else if("counters"===ct.name){var Nn,Ji=ct.values.filter(jA),di=Ji[1];if(ai=Ji[2],(Nn=Ji[0])&&fs(Nn)){var xr=Z.counters.getCounterValues(Nn.value),_n=ai&&fs(ai)?Sg.parse(Z.context,ai.value):3,Fi=di&&0===di.type?di.value:"",Ui=xr.map(function(Ia){return vc(Ia,_n,!1)}).join(Fi);qe.appendChild(De.createTextNode(Ui))}}}else if(20===ct.type)switch(ct.value){case"open-quote":qe.appendChild(De.createTextNode(Du(xe.quotes,Z.quoteDepth++,!0)));break;case"close-quote":qe.appendChild(De.createTextNode(Du(xe.quotes,--Z.quoteDepth,!1)));break;default:qe.appendChild(De.createTextNode(ct.value))}}),qe.className=wC+" "+SD;var et=z===rp.BEFORE?" "+wC:" "+SD;return e_(N)?N.className.baseValue+=et:N.className+=et,qe}}},x.destroy=function(E){return!!E.parentNode&&(E.parentNode.removeChild(E),!0)},x}(),rp=function(x){return x[x.BEFORE=0]="BEFORE",x[x.AFTER=1]="AFTER",x}(rp||{}),i_=function(x,E){var N=x.createElement("iframe");return N.className="html2canvas-container",N.style.visibility="hidden",N.style.position="fixed",N.style.left="-10000px",N.style.top="0px",N.style.border="0",N.width=E.width.toString(),N.height=E.height.toString(),N.scrolling="no",N.setAttribute(wD,"true"),x.body.appendChild(N),N},_C=function(x){return new Promise(function(E){x.complete?E():x.src?(x.onload=E,x.onerror=E):E()})},CD=function(x){return Promise.all([].slice.call(x.images,0).map(_C))},ED=function(x){return new Promise(function(E,N){var I=x.contentWindow;if(!I)return N("No window assigned for iframe");var z=I.document;I.onload=x.onload=function(){I.onload=x.onload=null;var Z=setInterval(function(){z.body.childNodes.length>0&&"complete"===z.readyState&&(clearInterval(Z),E(x))},50)}})},RO=["all","d","content"],Jf=function(x,E){for(var N=x.length-1;N>=0;N--){var I=x.item(N);-1===RO.indexOf(I)&&E.style.setProperty(I,x.getPropertyValue(I))}return E},Hv=function(x){var E="";return x&&(E+="<!DOCTYPE ",x.name&&(E+=x.name),x.internalSubset&&(E+=x.internalSubset),x.publicId&&(E+='"'+x.publicId+'"'),x.systemId&&(E+='"'+x.systemId+'"'),E+=">"),E},OO=function(x,E,N){x&&x.defaultView&&(E!==x.defaultView.pageXOffset||N!==x.defaultView.pageYOffset)&&x.defaultView.scrollTo(E,N)},bC=function(x){var E=x[0],I=x[2];E.scrollLeft=x[1],E.scrollTop=I},wC="___html2canvas___pseudoelement_before",SD="___html2canvas___pseudoelement_after",UO='{\n    content: "" !important;\n    display: none !important;\n}',CC=function(x){Vv(x,"."+wC+":before"+UO+"\n         ."+SD+":after"+UO)},Vv=function(x,E){var N=x.ownerDocument;if(N){var I=N.createElement("style");I.textContent=E,x.appendChild(I)}},xD=function(){function x(){}return x.getOrigin=function(E){var N=x._link;return N?(N.href=E,N.href=N.href,N.protocol+N.hostname+N.port):"about:blank"},x.isSameOrigin=function(E){return x.getOrigin(E)===x._origin},x.setContext=function(E){x._link=E.document.createElement("a"),x._origin=x.getOrigin(E.location.href)},x._origin="about:blank",x}(),Qv=function(){function x(E,N){this.context=E,this._options=N,this._cache={}}return x.prototype.addImage=function(E){var N=Promise.resolve();return this.has(E)||(Tu(E)||DD(E))&&(this._cache[E]=this.loadImage(E)).catch(function(){}),N},x.prototype.match=function(E){return this._cache[E]},x.prototype.loadImage=function(E){return mt(this,void 0,void 0,function(){var N,I,z,Z,ie=this;return St(this,function(De){switch(De.label){case 0:return N=xD.isSameOrigin(E),I=!o_(E)&&!0===this._options.useCORS&&tl.SUPPORT_CORS_IMAGES&&!N,z=!o_(E)&&!N&&!Tu(E)&&"string"==typeof this._options.proxy&&tl.SUPPORT_CORS_XHR&&!I,N||!1!==this._options.allowTaint||o_(E)||Tu(E)||z||I?(Z=E,z?[4,this.proxy(Z)]:[3,2]):[2];case 1:Z=De.sent(),De.label=2;case 2:return this.context.logger.debug("Added image "+E.substring(0,256)),[4,new Promise(function(xe,qe){var et=new Image;et.onload=function(){return xe(et)},et.onerror=qe,(kO(Z)||I)&&(et.crossOrigin="anonymous"),et.src=Z,!0===et.complete&&setTimeout(function(){return xe(et)},500),ie._options.imageTimeout>0&&setTimeout(function(){return qe("Timed out ("+ie._options.imageTimeout+"ms) loading image")},ie._options.imageTimeout)})];case 3:return[2,De.sent()]}})})},x.prototype.has=function(E){return typeof this._cache[E]<"u"},x.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},x.prototype.proxy=function(E){var N=this,I=this._options.proxy;if(!I)throw new Error("No proxy defined");var z=E.substring(0,256);return new Promise(function(Z,ie){var De=tl.SUPPORT_RESPONSE_TYPE?"blob":"text",xe=new XMLHttpRequest;xe.onload=function(){if(200===xe.status)if("text"===De)Z(xe.response);else{var ct=new FileReader;ct.addEventListener("load",function(){return Z(ct.result)},!1),ct.addEventListener("error",function(Bt){return ie(Bt)},!1),ct.readAsDataURL(xe.response)}else ie("Failed to proxy resource "+z+" with status code "+xe.status)},xe.onerror=ie;var qe=I.indexOf("?")>-1?"&":"?";if(xe.open("GET",""+I+qe+"url="+encodeURIComponent(E)+"&responseType="+De),"text"!==De&&xe instanceof XMLHttpRequest&&(xe.responseType=De),N._options.imageTimeout){var et=N._options.imageTimeout;xe.timeout=et,xe.ontimeout=function(){return ie("Timed out ("+et+"ms) proxying "+z)}}xe.send()})},x}(),EC=/^data:image\/svg\+xml/i,s_=/^data:image\/.*;base64,/i,RV=/^data:image\/.*/i,DD=function(x){return tl.SUPPORT_SVG_DRAWING||!HO(x)},o_=function(x){return RV.test(x)},kO=function(x){return s_.test(x)},Tu=function(x){return"blob"===x.substr(0,4)},HO=function(x){return"svg"===x.substr(-3).toLowerCase()||EC.test(x)},Fn=function(){function x(E,N){this.type=0,this.x=E,this.y=N}return x.prototype.add=function(E,N){return new x(this.x+E,this.y+N)},x}(),Zf=function(x,E,N){return new Fn(x.x+(E.x-x.x)*N,x.y+(E.y-x.y)*N)},zv=function(){function x(E,N,I,z){this.type=1,this.start=E,this.startControl=N,this.endControl=I,this.end=z}return x.prototype.subdivide=function(E,N){var I=Zf(this.start,this.startControl,E),z=Zf(this.startControl,this.endControl,E),Z=Zf(this.endControl,this.end,E),ie=Zf(I,z,E),De=Zf(z,Z,E),xe=Zf(ie,De,E);return N?new x(this.start,I,ie,xe):new x(xe,De,Z,this.end)},x.prototype.add=function(E,N){return new x(this.start.add(E,N),this.startControl.add(E,N),this.endControl.add(E,N),this.end.add(E,N))},x.prototype.reverse=function(){return new x(this.end,this.endControl,this.startControl,this.start)},x}(),$l=function(x){return 1===x.type},SC=function(){return function x(E){var N=E.styles,I=E.bounds,z=qA(N.borderTopLeftRadius,I.width,I.height),Z=z[0],ie=z[1],De=qA(N.borderTopRightRadius,I.width,I.height),xe=De[0],qe=De[1],et=qA(N.borderBottomRightRadius,I.width,I.height),ct=et[0],Bt=et[1],Un=qA(N.borderBottomLeftRadius,I.width,I.height),An=Un[0],Nn=Un[1],ai=[];ai.push((Z+xe)/I.width),ai.push((An+ct)/I.width),ai.push((ie+Nn)/I.height),ai.push((qe+Bt)/I.height);var er=Math.max.apply(Math,ai);er>1&&(Z/=er,ie/=er,xe/=er,qe/=er,ct/=er,Bt/=er,An/=er,Nn/=er);var Yn=I.width-xe,Ji=I.height-Bt,di=I.width-ct,xr=I.height-Nn,_n=N.borderTopWidth,Fi=N.borderRightWidth,Ui=N.borderBottomWidth,Cr=N.borderLeftWidth,ki=Cs(N.paddingTop,E.bounds.width),Ia=Cs(N.paddingRight,E.bounds.width),yc=Cs(N.paddingBottom,E.bounds.width),Rs=Cs(N.paddingLeft,E.bounds.width);this.topLeftBorderDoubleOuterBox=Z>0||ie>0?ao(I.left+Cr/3,I.top+_n/3,Z-Cr/3,ie-_n/3,Is.TOP_LEFT):new Fn(I.left+Cr/3,I.top+_n/3),this.topRightBorderDoubleOuterBox=Z>0||ie>0?ao(I.left+Yn,I.top+_n/3,xe-Fi/3,qe-_n/3,Is.TOP_RIGHT):new Fn(I.left+I.width-Fi/3,I.top+_n/3),this.bottomRightBorderDoubleOuterBox=ct>0||Bt>0?ao(I.left+di,I.top+Ji,ct-Fi/3,Bt-Ui/3,Is.BOTTOM_RIGHT):new Fn(I.left+I.width-Fi/3,I.top+I.height-Ui/3),this.bottomLeftBorderDoubleOuterBox=An>0||Nn>0?ao(I.left+Cr/3,I.top+xr,An-Cr/3,Nn-Ui/3,Is.BOTTOM_LEFT):new Fn(I.left+Cr/3,I.top+I.height-Ui/3),this.topLeftBorderDoubleInnerBox=Z>0||ie>0?ao(I.left+2*Cr/3,I.top+2*_n/3,Z-2*Cr/3,ie-2*_n/3,Is.TOP_LEFT):new Fn(I.left+2*Cr/3,I.top+2*_n/3),this.topRightBorderDoubleInnerBox=Z>0||ie>0?ao(I.left+Yn,I.top+2*_n/3,xe-2*Fi/3,qe-2*_n/3,Is.TOP_RIGHT):new Fn(I.left+I.width-2*Fi/3,I.top+2*_n/3),this.bottomRightBorderDoubleInnerBox=ct>0||Bt>0?ao(I.left+di,I.top+Ji,ct-2*Fi/3,Bt-2*Ui/3,Is.BOTTOM_RIGHT):new Fn(I.left+I.width-2*Fi/3,I.top+I.height-2*Ui/3),this.bottomLeftBorderDoubleInnerBox=An>0||Nn>0?ao(I.left+2*Cr/3,I.top+xr,An-2*Cr/3,Nn-2*Ui/3,Is.BOTTOM_LEFT):new Fn(I.left+2*Cr/3,I.top+I.height-2*Ui/3),this.topLeftBorderStroke=Z>0||ie>0?ao(I.left+Cr/2,I.top+_n/2,Z-Cr/2,ie-_n/2,Is.TOP_LEFT):new Fn(I.left+Cr/2,I.top+_n/2),this.topRightBorderStroke=Z>0||ie>0?ao(I.left+Yn,I.top+_n/2,xe-Fi/2,qe-_n/2,Is.TOP_RIGHT):new Fn(I.left+I.width-Fi/2,I.top+_n/2),this.bottomRightBorderStroke=ct>0||Bt>0?ao(I.left+di,I.top+Ji,ct-Fi/2,Bt-Ui/2,Is.BOTTOM_RIGHT):new Fn(I.left+I.width-Fi/2,I.top+I.height-Ui/2),this.bottomLeftBorderStroke=An>0||Nn>0?ao(I.left+Cr/2,I.top+xr,An-Cr/2,Nn-Ui/2,Is.BOTTOM_LEFT):new Fn(I.left+Cr/2,I.top+I.height-Ui/2),this.topLeftBorderBox=Z>0||ie>0?ao(I.left,I.top,Z,ie,Is.TOP_LEFT):new Fn(I.left,I.top),this.topRightBorderBox=xe>0||qe>0?ao(I.left+Yn,I.top,xe,qe,Is.TOP_RIGHT):new Fn(I.left+I.width,I.top),this.bottomRightBorderBox=ct>0||Bt>0?ao(I.left+di,I.top+Ji,ct,Bt,Is.BOTTOM_RIGHT):new Fn(I.left+I.width,I.top+I.height),this.bottomLeftBorderBox=An>0||Nn>0?ao(I.left,I.top+xr,An,Nn,Is.BOTTOM_LEFT):new Fn(I.left,I.top+I.height),this.topLeftPaddingBox=Z>0||ie>0?ao(I.left+Cr,I.top+_n,Math.max(0,Z-Cr),Math.max(0,ie-_n),Is.TOP_LEFT):new Fn(I.left+Cr,I.top+_n),this.topRightPaddingBox=xe>0||qe>0?ao(I.left+Math.min(Yn,I.width-Fi),I.top+_n,Yn>I.width+Fi?0:Math.max(0,xe-Fi),Math.max(0,qe-_n),Is.TOP_RIGHT):new Fn(I.left+I.width-Fi,I.top+_n),this.bottomRightPaddingBox=ct>0||Bt>0?ao(I.left+Math.min(di,I.width-Cr),I.top+Math.min(Ji,I.height-Ui),Math.max(0,ct-Fi),Math.max(0,Bt-Ui),Is.BOTTOM_RIGHT):new Fn(I.left+I.width-Fi,I.top+I.height-Ui),this.bottomLeftPaddingBox=An>0||Nn>0?ao(I.left+Cr,I.top+Math.min(xr,I.height-Ui),Math.max(0,An-Cr),Math.max(0,Nn-Ui),Is.BOTTOM_LEFT):new Fn(I.left+Cr,I.top+I.height-Ui),this.topLeftContentBox=Z>0||ie>0?ao(I.left+Cr+Rs,I.top+_n+ki,Math.max(0,Z-(Cr+Rs)),Math.max(0,ie-(_n+ki)),Is.TOP_LEFT):new Fn(I.left+Cr+Rs,I.top+_n+ki),this.topRightContentBox=xe>0||qe>0?ao(I.left+Math.min(Yn,I.width+Cr+Rs),I.top+_n+ki,Yn>I.width+Cr+Rs?0:xe-Cr+Rs,qe-(_n+ki),Is.TOP_RIGHT):new Fn(I.left+I.width-(Fi+Ia),I.top+_n+ki),this.bottomRightContentBox=ct>0||Bt>0?ao(I.left+Math.min(di,I.width-(Cr+Rs)),I.top+Math.min(Ji,I.height+_n+ki),Math.max(0,ct-(Fi+Ia)),Bt-(Ui+yc),Is.BOTTOM_RIGHT):new Fn(I.left+I.width-(Fi+Ia),I.top+I.height-(Ui+yc)),this.bottomLeftContentBox=An>0||Nn>0?ao(I.left+Cr+Rs,I.top+xr,Math.max(0,An-(Cr+Rs)),Nn-(Ui+yc),Is.BOTTOM_LEFT):new Fn(I.left+Cr+Rs,I.top+I.height-(Ui+yc))}}(),Is=function(x){return x[x.TOP_LEFT=0]="TOP_LEFT",x[x.TOP_RIGHT=1]="TOP_RIGHT",x[x.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",x[x.BOTTOM_LEFT=3]="BOTTOM_LEFT",x}(Is||{}),ao=function(x,E,N,I,z){var Z=(Math.sqrt(2)-1)/3*4,ie=N*Z,De=I*Z,xe=x+N,qe=E+I;switch(z){case Is.TOP_LEFT:return new zv(new Fn(x,qe),new Fn(x,qe-De),new Fn(xe-ie,E),new Fn(xe,E));case Is.TOP_RIGHT:return new zv(new Fn(x,E),new Fn(x+ie,E),new Fn(xe,qe-De),new Fn(xe,qe));case Is.BOTTOM_RIGHT:return new zv(new Fn(xe,E),new Fn(xe,E+De),new Fn(x+ie,qe),new Fn(x,qe));default:return new zv(new Fn(xe,qe),new Fn(xe-ie,qe),new Fn(x,E+De),new Fn(x,E))}},Gv=function(x){return[x.topLeftBorderBox,x.topRightBorderBox,x.bottomRightBorderBox,x.bottomLeftBorderBox]},jv=function(x){return[x.topLeftPaddingBox,x.topRightPaddingBox,x.bottomRightPaddingBox,x.bottomLeftPaddingBox]},VO=function(){return function x(E,N,I){this.offsetX=E,this.offsetY=N,this.matrix=I,this.type=0,this.target=6}}(),ip=function(){return function x(E,N){this.path=E,this.target=N,this.type=1}}(),sp=function(){return function x(E){this.opacity=E,this.type=2,this.target=6}}(),xC=function(x){return 1===x.type},op=function(x,E){return x.length===E.length&&x.some(function(N,I){return N===E[I]})},ia=function(){return function x(E){this.element=E,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),BD=function(){function x(E,N){if(this.container=E,this.parent=N,this.effects=[],this.curves=new SC(this.container),this.container.styles.opacity<1&&this.effects.push(new sp(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new VO(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var ie=Gv(this.curves),De=jv(this.curves);op(ie,De)?this.effects.push(new ip(ie,6)):(this.effects.push(new ip(ie,2)),this.effects.push(new ip(De,4)))}}return x.prototype.getEffects=function(E){for(var N=-1===[2,3].indexOf(this.container.styles.position),I=this.parent,z=this.effects.slice(0);I;){var Z=I.effects.filter(function(xe){return!xC(xe)});if(N||0!==I.container.styles.position||!I.parent){if(z.unshift.apply(z,Z),N=-1===[2,3].indexOf(I.container.styles.position),0!==I.container.styles.overflowX){var ie=Gv(I.curves),De=jv(I.curves);op(ie,De)||z.unshift(new ip(De,6))}}else z.unshift.apply(z,Z);I=I.parent}return z.filter(function(xe){return Bs(xe.target,E)})},x}(),Fs=function(x,E,N,I){x.container.elements.forEach(function(z){var Z=Bs(z.flags,4),ie=Bs(z.flags,2),De=new BD(z,x);Bs(z.styles.display,2048)&&I.push(De);var xe=Bs(z.flags,8)?[]:I;if(Z||ie){var qe=Z||z.styles.isPositioned()?N:E,et=new ia(De);if(z.styles.isPositioned()||z.styles.opacity<1||z.styles.isTransformed()){var ct=z.styles.zIndex.order;if(ct<0){var Bt=0;qe.negativeZIndex.some(function(An,Nn){return ct>An.element.container.styles.zIndex.order?(Bt=Nn,!1):Bt>0}),qe.negativeZIndex.splice(Bt,0,et)}else if(ct>0){var Un=0;qe.positiveZIndex.some(function(An,Nn){return ct>=An.element.container.styles.zIndex.order?(Un=Nn+1,!1):Un>0}),qe.positiveZIndex.splice(Un,0,et)}else qe.zeroOrAutoZIndexOrTransformedOrOpacity.push(et)}else z.styles.isFloating()?qe.nonPositionedFloats.push(et):qe.nonPositionedInlineLevel.push(et);Fs(De,et,Z?et:N,xe)}else z.styles.isInlineLevel()?E.inlineLevel.push(De):E.nonInlineLevel.push(De),Fs(De,E,N,xe);Bs(z.flags,8)&&a_(z,xe)})},a_=function(x,E){for(var N=x instanceof Zy?x.start:1,I=x instanceof Zy&&x.reversed,z=0;z<E.length;z++){var Z=E[z];Z.container instanceof yr&&"number"==typeof Z.container.value&&0!==Z.container.value&&(N=Z.container.value),Z.listValue=vc(N,Z.container.styles.listStyleType,!0),N+=I?-1:1}},DC=function(x,E){switch(E){case 0:return Kl(x.topLeftBorderBox,x.topLeftPaddingBox,x.topRightBorderBox,x.topRightPaddingBox);case 1:return Kl(x.topRightBorderBox,x.topRightPaddingBox,x.bottomRightBorderBox,x.bottomRightPaddingBox);case 2:return Kl(x.bottomRightBorderBox,x.bottomRightPaddingBox,x.bottomLeftBorderBox,x.bottomLeftPaddingBox);default:return Kl(x.bottomLeftBorderBox,x.bottomLeftPaddingBox,x.topLeftBorderBox,x.topLeftPaddingBox)}},Lg=function(x,E){var N=[];return $l(x)?N.push(x.subdivide(.5,!1)):N.push(x),$l(E)?N.push(E.subdivide(.5,!0)):N.push(E),N},Kl=function(x,E,N,I){var z=[];return $l(x)?z.push(x.subdivide(.5,!1)):z.push(x),$l(N)?z.push(N.subdivide(.5,!0)):z.push(N),$l(I)?z.push(I.subdivide(.5,!0).reverse()):z.push(I),$l(E)?z.push(E.subdivide(.5,!1).reverse()):z.push(E),z},MC=function(x){var N=x.styles;return x.bounds.add(N.borderLeftWidth,N.borderTopWidth,-(N.borderRightWidth+N.borderLeftWidth),-(N.borderTopWidth+N.borderBottomWidth))},l_=function(x){var E=x.styles,N=x.bounds,I=Cs(E.paddingLeft,N.width),z=Cs(E.paddingRight,N.width),Z=Cs(E.paddingTop,N.width),ie=Cs(E.paddingBottom,N.width);return N.add(I+E.borderLeftWidth,Z+E.borderTopWidth,-(E.borderRightWidth+E.borderLeftWidth+I+z),-(E.borderTopWidth+E.borderBottomWidth+Z+ie))},c_=function(x,E,N){var I=function(x,E){return 0===x?E.bounds:2===x?l_(E):MC(E)}(kg(x.styles.backgroundOrigin,E),x),z=function(x,E){return 0===x?E.bounds:2===x?l_(E):MC(E)}(kg(x.styles.backgroundClip,E),x),Z=WO(kg(x.styles.backgroundSize,E),N,I),ie=Z[0],De=Z[1],xe=qA(kg(x.styles.backgroundPosition,E),I.width-ie,I.height-De);return[OV(kg(x.styles.backgroundRepeat,E),xe,Z,I,z),Math.round(I.left+xe[0]),Math.round(I.top+xe[1]),ie,De]},Ug=function(x){return fs(x)&&x.value===Cg.AUTO},qv=function(x){return"number"==typeof x},WO=function(x,E,N){var I=E[0],z=E[1],Z=E[2],ie=x[0],De=x[1];if(!ie)return[0,0];if(ea(ie)&&De&&ea(De))return[Cs(ie,N.width),Cs(De,N.height)];var xe=qv(Z);if(fs(ie)&&(ie.value===Cg.CONTAIN||ie.value===Cg.COVER))return qv(Z)?N.width/N.height<Z!=(ie.value===Cg.COVER)?[N.width,N.width/Z]:[N.height*Z,N.height]:[N.width,N.height];var et=qv(I),ct=qv(z),Bt=et||ct;if(Ug(ie)&&(!De||Ug(De)))return et&&ct?[I,z]:xe||Bt?Bt&&xe?[et?I:z*Z,ct?z:I/Z]:[et?I:N.width,ct?z:N.height]:[N.width,N.height];if(xe){var er=0,Yn=0;return ea(ie)?er=Cs(ie,N.width):ea(De)&&(Yn=Cs(De,N.height)),Ug(ie)?er=Yn*Z:(!De||Ug(De))&&(Yn=er/Z),[er,Yn]}var Ji=null,di=null;if(ea(ie)?Ji=Cs(ie,N.width):De&&ea(De)&&(di=Cs(De,N.height)),null!==Ji&&(!De||Ug(De))&&(di=et&&ct?Ji/I*z:N.height),null!==di&&Ug(ie)&&(Ji=et&&ct?di/z*I:N.width),null!==Ji&&null!==di)return[Ji,di];throw new Error("Unable to calculate background-size for element")},kg=function(x,E){var N=x[E];return typeof N>"u"?x[0]:N},OV=function(x,E,N,I,z){var Z=E[0],ie=E[1],De=N[0],xe=N[1];switch(x){case 2:return[new Fn(Math.round(I.left),Math.round(I.top+ie)),new Fn(Math.round(I.left+I.width),Math.round(I.top+ie)),new Fn(Math.round(I.left+I.width),Math.round(xe+I.top+ie)),new Fn(Math.round(I.left),Math.round(xe+I.top+ie))];case 3:return[new Fn(Math.round(I.left+Z),Math.round(I.top)),new Fn(Math.round(I.left+Z+De),Math.round(I.top)),new Fn(Math.round(I.left+Z+De),Math.round(I.height+I.top)),new Fn(Math.round(I.left+Z),Math.round(I.height+I.top))];case 1:return[new Fn(Math.round(I.left+Z),Math.round(I.top+ie)),new Fn(Math.round(I.left+Z+De),Math.round(I.top+ie)),new Fn(Math.round(I.left+Z+De),Math.round(I.top+ie+xe)),new Fn(Math.round(I.left+Z),Math.round(I.top+ie+xe))];default:return[new Fn(Math.round(z.left),Math.round(z.top)),new Fn(Math.round(z.left+z.width),Math.round(z.top)),new Fn(Math.round(z.left+z.width),Math.round(z.height+z.top)),new Fn(Math.round(z.left),Math.round(z.height+z.top))]}},TC="Hidden Text",Ro=function(){function x(E){this._data={},this._document=E}return x.prototype.parseMetrics=function(E,N){var I=this._document.createElement("div"),z=this._document.createElement("img"),Z=this._document.createElement("span"),ie=this._document.body;I.style.visibility="hidden",I.style.fontFamily=E,I.style.fontSize=N,I.style.margin="0",I.style.padding="0",I.style.whiteSpace="nowrap",ie.appendChild(I),z.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",z.width=1,z.height=1,z.style.margin="0",z.style.padding="0",z.style.verticalAlign="baseline",Z.style.fontFamily=E,Z.style.fontSize=N,Z.style.margin="0",Z.style.padding="0",Z.appendChild(this._document.createTextNode(TC)),I.appendChild(Z),I.appendChild(z);var De=z.offsetTop-Z.offsetTop+2;I.removeChild(Z),I.appendChild(this._document.createTextNode(TC)),I.style.lineHeight="normal",z.style.verticalAlign="super";var xe=z.offsetTop-I.offsetTop+2;return ie.removeChild(I),{baseline:De,middle:xe}},x.prototype.getMetrics=function(E,N){var I=E+" "+N;return typeof this._data[I]>"u"&&(this._data[I]=this.parseMetrics(E,N)),this._data[I]},x}(),$O=function(){return function x(E,N){this.context=E,this.options=N}}(),PV=function(x){function E(N,I){var z=x.call(this,N,I)||this;return z._activeEffects=[],z.canvas=I.canvas?I.canvas:document.createElement("canvas"),z.ctx=z.canvas.getContext("2d"),I.canvas||(z.canvas.width=Math.floor(I.width*I.scale),z.canvas.height=Math.floor(I.height*I.scale),z.canvas.style.width=I.width+"px",z.canvas.style.height=I.height+"px"),z.fontMetrics=new Ro(document),z.ctx.scale(z.options.scale,z.options.scale),z.ctx.translate(-I.x,-I.y),z.ctx.textBaseline="bottom",z._activeEffects=[],z.context.logger.debug("Canvas renderer initialized ("+I.width+"x"+I.height+") with scale "+I.scale),z}return _e(E,x),E.prototype.applyEffects=function(N){for(var I=this;this._activeEffects.length;)this.popEffect();N.forEach(function(z){return I.applyEffect(z)})},E.prototype.applyEffect=function(N){this.ctx.save(),function(x){return 2===x.type}(N)&&(this.ctx.globalAlpha=N.opacity),function(x){return 0===x.type}(N)&&(this.ctx.translate(N.offsetX,N.offsetY),this.ctx.transform(N.matrix[0],N.matrix[1],N.matrix[2],N.matrix[3],N.matrix[4],N.matrix[5]),this.ctx.translate(-N.offsetX,-N.offsetY)),xC(N)&&(this.path(N.path),this.ctx.clip()),this._activeEffects.push(N)},E.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},E.prototype.renderStack=function(N){return mt(this,void 0,void 0,function(){return St(this,function(z){switch(z.label){case 0:return N.element.container.styles.isVisible()?[4,this.renderStackContent(N)]:[3,2];case 1:z.sent(),z.label=2;case 2:return[2]}})})},E.prototype.renderNode=function(N){return mt(this,void 0,void 0,function(){return St(this,function(I){switch(I.label){case 0:return Bs(N.container.flags,16),N.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(N)]:[3,3];case 1:return I.sent(),[4,this.renderNodeContent(N)];case 2:I.sent(),I.label=3;case 3:return[2]}})})},E.prototype.renderTextWithLetterSpacing=function(N,I,z){var Z=this;0===I?this.ctx.fillText(N.text,N.bounds.left,N.bounds.top+z):Nv(N.text).reduce(function(De,xe){return Z.ctx.fillText(xe,De,N.bounds.top+z),De+Z.ctx.measureText(xe).width},N.bounds.left)},E.prototype.createFontStyle=function(N){var I=N.fontVariant.filter(function(ie){return"normal"===ie||"small-caps"===ie}).join(""),z=KO(N.fontFamily).join(", "),Z=Lh(N.fontSize)?""+N.fontSize.number+N.fontSize.unit:N.fontSize.number+"px";return[[N.fontStyle,I,N.fontWeight,Z,z].join(" "),z,Z]},E.prototype.renderTextNode=function(N,I){return mt(this,void 0,void 0,function(){var z,ie,De,xe,qe,et,ct,Bt=this;return St(this,function(Un){return z=this.createFontStyle(I),ie=z[1],De=z[2],this.ctx.font=z[0],this.ctx.direction=1===I.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",xe=this.fontMetrics.getMetrics(ie,De),qe=xe.baseline,et=xe.middle,ct=I.paintOrder,N.textBounds.forEach(function(An){ct.forEach(function(Nn){switch(Nn){case 0:Bt.ctx.fillStyle=As(I.color),Bt.renderTextWithLetterSpacing(An,I.letterSpacing,qe);var ai=I.textShadow;ai.length&&An.text.trim().length&&(ai.slice(0).reverse().forEach(function(er){Bt.ctx.shadowColor=As(er.color),Bt.ctx.shadowOffsetX=er.offsetX.number*Bt.options.scale,Bt.ctx.shadowOffsetY=er.offsetY.number*Bt.options.scale,Bt.ctx.shadowBlur=er.blur.number,Bt.renderTextWithLetterSpacing(An,I.letterSpacing,qe)}),Bt.ctx.shadowColor="",Bt.ctx.shadowOffsetX=0,Bt.ctx.shadowOffsetY=0,Bt.ctx.shadowBlur=0),I.textDecorationLine.length&&(Bt.ctx.fillStyle=As(I.textDecorationColor||I.color),I.textDecorationLine.forEach(function(er){switch(er){case 1:Bt.ctx.fillRect(An.bounds.left,Math.round(An.bounds.top+qe),An.bounds.width,1);break;case 2:Bt.ctx.fillRect(An.bounds.left,Math.round(An.bounds.top),An.bounds.width,1);break;case 3:Bt.ctx.fillRect(An.bounds.left,Math.ceil(An.bounds.top+et),An.bounds.width,1)}}));break;case 1:I.webkitTextStrokeWidth&&An.text.trim().length&&(Bt.ctx.strokeStyle=As(I.webkitTextStrokeColor),Bt.ctx.lineWidth=I.webkitTextStrokeWidth,Bt.ctx.lineJoin=window.chrome?"miter":"round",Bt.ctx.strokeText(An.text,An.bounds.left,An.bounds.top+qe)),Bt.ctx.strokeStyle="",Bt.ctx.lineWidth=0,Bt.ctx.lineJoin="miter"}})}),[2]})})},E.prototype.renderReplacedElement=function(N,I,z){if(z&&N.intrinsicWidth>0&&N.intrinsicHeight>0){var Z=l_(N),ie=jv(I);this.path(ie),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(z,0,0,N.intrinsicWidth,N.intrinsicHeight,Z.left,Z.top,Z.width,Z.height),this.ctx.restore()}},E.prototype.renderNodeContent=function(N){return mt(this,void 0,void 0,function(){var I,z,Z,ie,De,et,ct,Bt,An,Nn,ai,er,Yn,Ji,di,xr;return St(this,function(_n){switch(_n.label){case 0:this.applyEffects(N.getEffects(4)),z=N.curves,Z=(I=N.container).styles,ie=0,De=I.textNodes,_n.label=1;case 1:return ie<De.length?[4,this.renderTextNode(De[ie],Z)]:[3,4];case 2:_n.sent(),_n.label=3;case 3:return ie++,[3,1];case 4:if(!(I instanceof Fv))return[3,8];_n.label=5;case 5:return _n.trys.push([5,7,,8]),[4,this.context.cache.match(I.src)];case 6:return Yn=_n.sent(),this.renderReplacedElement(I,z,Yn),[3,8];case 7:return _n.sent(),this.context.logger.error("Error loading image "+I.src),[3,8];case 8:if(I instanceof Jy&&this.renderReplacedElement(I,z,I.canvas),!(I instanceof Xf))return[3,12];_n.label=9;case 9:return _n.trys.push([9,11,,12]),[4,this.context.cache.match(I.svg)];case 10:return Yn=_n.sent(),this.renderReplacedElement(I,z,Yn),[3,12];case 11:return _n.sent(),this.context.logger.error("Error loading svg "+I.svg.substring(0,255)),[3,12];case 12:return I instanceof Tt&&I.tree?[4,new E(this.context,{scale:this.options.scale,backgroundColor:I.backgroundColor,x:0,y:0,width:I.width,height:I.height}).render(I.tree)]:[3,14];case 13:et=_n.sent(),I.width&&I.height&&this.ctx.drawImage(et,0,0,I.width,I.height,I.bounds.left,I.bounds.top,I.bounds.width,I.bounds.height),_n.label=14;case 14:if(I instanceof AC&&(ct=Math.min(I.bounds.width,I.bounds.height),I.type===Rv?I.checked&&(this.ctx.save(),this.path([new Fn(I.bounds.left+.39363*ct,I.bounds.top+.79*ct),new Fn(I.bounds.left+.16*ct,I.bounds.top+.5549*ct),new Fn(I.bounds.left+.27347*ct,I.bounds.top+.44071*ct),new Fn(I.bounds.left+.39694*ct,I.bounds.top+.5649*ct),new Fn(I.bounds.left+.72983*ct,I.bounds.top+.23*ct),new Fn(I.bounds.left+.84*ct,I.bounds.top+.34085*ct),new Fn(I.bounds.left+.39363*ct,I.bounds.top+.79*ct)]),this.ctx.fillStyle=As(cD),this.ctx.fill(),this.ctx.restore()):I.type===Vh&&I.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(I.bounds.left+ct/2,I.bounds.top+ct/2,ct/4,0,2*Math.PI,!0),this.ctx.fillStyle=As(cD),this.ctx.fill(),this.ctx.restore())),BC(I)&&I.value.length){switch(Bt=this.createFontStyle(Z),An=this.fontMetrics.getMetrics(di=Bt[0],Bt[1]).baseline,this.ctx.font=di,this.ctx.fillStyle=As(Z.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=RD(I.styles.textAlign),xr=l_(I),Nn=0,I.styles.textAlign){case 1:Nn+=xr.width/2;break;case 2:Nn+=xr.width}ai=xr.add(Nn,0,0,-xr.height/2+1),this.ctx.save(),this.path([new Fn(xr.left,xr.top),new Fn(xr.left+xr.width,xr.top),new Fn(xr.left+xr.width,xr.top+xr.height),new Fn(xr.left,xr.top+xr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Hh(I.value,ai),Z.letterSpacing,An),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Bs(I.styles.display,2048))return[3,20];if(null===I.styles.listStyleImage)return[3,19];if(0!==(er=I.styles.listStyleImage).type)return[3,18];Yn=void 0,Ji=er.url,_n.label=15;case 15:return _n.trys.push([15,17,,18]),[4,this.context.cache.match(Ji)];case 16:return Yn=_n.sent(),this.ctx.drawImage(Yn,I.bounds.left-(Yn.width+10),I.bounds.top),[3,18];case 17:return _n.sent(),this.context.logger.error("Error loading list-style-image "+Ji),[3,18];case 18:return[3,20];case 19:N.listValue&&-1!==I.styles.listStyleType&&(di=this.createFontStyle(Z)[0],this.ctx.font=di,this.ctx.fillStyle=As(Z.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",xr=new yn(I.bounds.left,I.bounds.top+Cs(I.styles.paddingTop,I.bounds.width),I.bounds.width,$f(Z.lineHeight,Z.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Hh(N.listValue,xr),Z.letterSpacing,$f(Z.lineHeight,Z.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),_n.label=20;case 20:return[2]}})})},E.prototype.renderStackContent=function(N){return mt(this,void 0,void 0,function(){var I,z,Z,ie,De,xe,qe,et,ct,Bt,Un,An,Nn,ai;return St(this,function(Yn){switch(Yn.label){case 0:return Bs(N.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(N.element)];case 1:Yn.sent(),I=0,z=N.negativeZIndex,Yn.label=2;case 2:return I<z.length?[4,this.renderStack(z[I])]:[3,5];case 3:Yn.sent(),Yn.label=4;case 4:return I++,[3,2];case 5:return[4,this.renderNodeContent(N.element)];case 6:Yn.sent(),Z=0,ie=N.nonInlineLevel,Yn.label=7;case 7:return Z<ie.length?[4,this.renderNode(ie[Z])]:[3,10];case 8:Yn.sent(),Yn.label=9;case 9:return Z++,[3,7];case 10:De=0,xe=N.nonPositionedFloats,Yn.label=11;case 11:return De<xe.length?[4,this.renderStack(xe[De])]:[3,14];case 12:Yn.sent(),Yn.label=13;case 13:return De++,[3,11];case 14:qe=0,et=N.nonPositionedInlineLevel,Yn.label=15;case 15:return qe<et.length?[4,this.renderStack(et[qe])]:[3,18];case 16:Yn.sent(),Yn.label=17;case 17:return qe++,[3,15];case 18:ct=0,Bt=N.inlineLevel,Yn.label=19;case 19:return ct<Bt.length?[4,this.renderNode(Bt[ct])]:[3,22];case 20:Yn.sent(),Yn.label=21;case 21:return ct++,[3,19];case 22:Un=0,An=N.zeroOrAutoZIndexOrTransformedOrOpacity,Yn.label=23;case 23:return Un<An.length?[4,this.renderStack(An[Un])]:[3,26];case 24:Yn.sent(),Yn.label=25;case 25:return Un++,[3,23];case 26:Nn=0,ai=N.positiveZIndex,Yn.label=27;case 27:return Nn<ai.length?[4,this.renderStack(ai[Nn])]:[3,30];case 28:Yn.sent(),Yn.label=29;case 29:return Nn++,[3,27];case 30:return[2]}})})},E.prototype.mask=function(N){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(N.slice(0).reverse()),this.ctx.closePath()},E.prototype.path=function(N){this.ctx.beginPath(),this.formatPath(N),this.ctx.closePath()},E.prototype.formatPath=function(N){var I=this;N.forEach(function(z,Z){var ie=$l(z)?z.start:z;0===Z?I.ctx.moveTo(ie.x,ie.y):I.ctx.lineTo(ie.x,ie.y),$l(z)&&I.ctx.bezierCurveTo(z.startControl.x,z.startControl.y,z.endControl.x,z.endControl.y,z.end.x,z.end.y)})},E.prototype.renderRepeat=function(N,I,z,Z){this.path(N),this.ctx.fillStyle=I,this.ctx.translate(z,Z),this.ctx.fill(),this.ctx.translate(-z,-Z)},E.prototype.resizeImage=function(N,I,z){var Z;if(N.width===I&&N.height===z)return N;var De=(null!==(Z=this.canvas.ownerDocument)&&void 0!==Z?Z:document).createElement("canvas");return De.width=Math.max(1,I),De.height=Math.max(1,z),De.getContext("2d").drawImage(N,0,0,N.width,N.height,0,0,I,z),De},E.prototype.renderBackgroundImage=function(N){return mt(this,void 0,void 0,function(){var I,z,Z,ie,De;return St(this,function(qe){switch(qe.label){case 0:I=N.styles.backgroundImage.length-1,z=function(et){var ct,Bt,Un,An,Nn,ai,er,Yn,Ji,di,xr,_n,Fi,Ui,Cr,ki,Ia,yc,Rs,nl,jh,_c,Xl,ap,gd,tA,lp,cp,qh,nA,Xd;return St(this,function(up){switch(up.label){case 0:if(0!==et.type)return[3,5];ct=void 0,Bt=et.url,up.label=1;case 1:return up.trys.push([1,3,,4]),[4,Z.context.cache.match(Bt)];case 2:return ct=up.sent(),[3,4];case 3:return up.sent(),Z.context.logger.error("Error loading background-image "+Bt),[3,4];case 4:return ct&&(Un=c_(N,I,[ct.width,ct.height,ct.width/ct.height]),ki=Un[0],_c=Un[1],Xl=Un[2],Ui=Z.ctx.createPattern(Z.resizeImage(ct,Rs=Un[3],nl=Un[4]),"repeat"),Z.renderRepeat(ki,Ui,_c,Xl)),[3,6];case 5:!function(x){return 1===x.type}(et)?function(x){return 2===x.type}(et)&&(Cr=c_(N,I,[null,null,null]),ki=Cr[0],Ia=Cr[1],yc=Cr[2],nl=Cr[4],_c=Cs((jh=0===et.position.length?[Ve]:et.position)[0],Rs=Cr[3]),Xl=Cs(jh[jh.length-1],nl),ap=function(x,E,N,I,z){var Z=0,ie=0;switch(x.size){case 0:0===x.shape?Z=ie=Math.min(Math.abs(E),Math.abs(E-I),Math.abs(N),Math.abs(N-z)):1===x.shape&&(Z=Math.min(Math.abs(E),Math.abs(E-I)),ie=Math.min(Math.abs(N),Math.abs(N-z)));break;case 2:if(0===x.shape)Z=ie=Math.min(Wr(E,N),Wr(E,N-z),Wr(E-I,N),Wr(E-I,N-z));else if(1===x.shape){var De=Math.min(Math.abs(N),Math.abs(N-z))/Math.min(Math.abs(E),Math.abs(E-I)),xe=kh(I,z,E,N,!0);ie=De*(Z=Wr(xe[0]-E,(xe[1]-N)/De))}break;case 1:0===x.shape?Z=ie=Math.max(Math.abs(E),Math.abs(E-I),Math.abs(N),Math.abs(N-z)):1===x.shape&&(Z=Math.max(Math.abs(E),Math.abs(E-I)),ie=Math.max(Math.abs(N),Math.abs(N-z)));break;case 3:if(0===x.shape)Z=ie=Math.max(Wr(E,N),Wr(E,N-z),Wr(E-I,N),Wr(E-I,N-z));else if(1===x.shape){De=Math.max(Math.abs(N),Math.abs(N-z))/Math.max(Math.abs(E),Math.abs(E-I));var ct=kh(I,z,E,N,!1);ie=De*(Z=Wr(ct[0]-E,(ct[1]-N)/De))}}return Array.isArray(x.size)&&(Z=Cs(x.size[0],I),ie=2===x.size.length?Cs(x.size[1],z):Z),[Z,ie]}(et,_c,Xl,Rs,nl),tA=ap[1],(gd=ap[0])>0&&tA>0&&(lp=Z.ctx.createRadialGradient(Ia+_c,yc+Xl,0,Ia+_c,yc+Xl,gd),QR(et.stops,2*gd).forEach(function(rA){return lp.addColorStop(rA.stop,As(rA.color))}),Z.path(ki),Z.ctx.fillStyle=lp,gd!==tA?(cp=N.bounds.left+.5*N.bounds.width,qh=N.bounds.top+.5*N.bounds.height,Xd=1/(nA=tA/gd),Z.ctx.save(),Z.ctx.translate(cp,qh),Z.ctx.transform(1,0,0,nA,0,0),Z.ctx.translate(-cp,-qh),Z.ctx.fillRect(Ia,Xd*(yc-qh)+qh,Rs,nl*Xd),Z.ctx.restore()):Z.ctx.fill())):(An=c_(N,I,[null,null,null]),ki=An[0],_c=An[1],Xl=An[2],Nn=Qd(et.angle,Rs=An[3],nl=An[4]),ai=Nn[0],er=Nn[1],Yn=Nn[2],Ji=Nn[3],di=Nn[4],(xr=document.createElement("canvas")).width=Rs,xr.height=nl,_n=xr.getContext("2d"),Fi=_n.createLinearGradient(er,Ji,Yn,di),QR(et.stops,ai).forEach(function(rA){return Fi.addColorStop(rA.stop,As(rA.color))}),_n.fillStyle=Fi,_n.fillRect(0,0,Rs,nl),Rs>0&&nl>0&&(Ui=Z.ctx.createPattern(xr,"repeat"),Z.renderRepeat(ki,Ui,_c,Xl))),up.label=6;case 6:return I--,[2]}})},Z=this,ie=0,De=N.styles.backgroundImage.slice(0).reverse(),qe.label=1;case 1:return ie<De.length?[5,z(De[ie])]:[3,4];case 2:qe.sent(),qe.label=3;case 3:return ie++,[3,1];case 4:return[2]}})})},E.prototype.renderSolidBorder=function(N,I,z){return mt(this,void 0,void 0,function(){return St(this,function(Z){return this.path(DC(z,I)),this.ctx.fillStyle=As(N),this.ctx.fill(),[2]})})},E.prototype.renderDoubleBorder=function(N,I,z,Z){return mt(this,void 0,void 0,function(){var ie,De;return St(this,function(xe){switch(xe.label){case 0:return I<3?[4,this.renderSolidBorder(N,z,Z)]:[3,2];case 1:return xe.sent(),[2];case 2:return ie=function(x,E){switch(E){case 0:return Kl(x.topLeftBorderBox,x.topLeftBorderDoubleOuterBox,x.topRightBorderBox,x.topRightBorderDoubleOuterBox);case 1:return Kl(x.topRightBorderBox,x.topRightBorderDoubleOuterBox,x.bottomRightBorderBox,x.bottomRightBorderDoubleOuterBox);case 2:return Kl(x.bottomRightBorderBox,x.bottomRightBorderDoubleOuterBox,x.bottomLeftBorderBox,x.bottomLeftBorderDoubleOuterBox);default:return Kl(x.bottomLeftBorderBox,x.bottomLeftBorderDoubleOuterBox,x.topLeftBorderBox,x.topLeftBorderDoubleOuterBox)}}(Z,z),this.path(ie),this.ctx.fillStyle=As(N),this.ctx.fill(),De=function(x,E){switch(E){case 0:return Kl(x.topLeftBorderDoubleInnerBox,x.topLeftPaddingBox,x.topRightBorderDoubleInnerBox,x.topRightPaddingBox);case 1:return Kl(x.topRightBorderDoubleInnerBox,x.topRightPaddingBox,x.bottomRightBorderDoubleInnerBox,x.bottomRightPaddingBox);case 2:return Kl(x.bottomRightBorderDoubleInnerBox,x.bottomRightPaddingBox,x.bottomLeftBorderDoubleInnerBox,x.bottomLeftPaddingBox);default:return Kl(x.bottomLeftBorderDoubleInnerBox,x.bottomLeftPaddingBox,x.topLeftBorderDoubleInnerBox,x.topLeftPaddingBox)}}(Z,z),this.path(De),this.ctx.fill(),[2]}})})},E.prototype.renderNodeBackgroundAndBorders=function(N){return mt(this,void 0,void 0,function(){var I,z,Z,ie,De,xe,qe,et,ct=this;return St(this,function(Bt){switch(Bt.label){case 0:return this.applyEffects(N.getEffects(2)),z=!jf((I=N.container.styles).backgroundColor)||I.backgroundImage.length,Z=[{style:I.borderTopStyle,color:I.borderTopColor,width:I.borderTopWidth},{style:I.borderRightStyle,color:I.borderRightColor,width:I.borderRightWidth},{style:I.borderBottomStyle,color:I.borderBottomColor,width:I.borderBottomWidth},{style:I.borderLeftStyle,color:I.borderLeftColor,width:I.borderLeftWidth}],ie=pd(kg(I.backgroundClip,0),N.curves),z||I.boxShadow.length?(this.ctx.save(),this.path(ie),this.ctx.clip(),jf(I.backgroundColor)||(this.ctx.fillStyle=As(I.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(N.container)]):[3,2];case 1:Bt.sent(),this.ctx.restore(),I.boxShadow.slice(0).reverse().forEach(function(Un){ct.ctx.save();var An=Gv(N.curves),Nn=Un.inset?0:1e4,ai=function(x,E,N,I,z){return x.map(function(Z,ie){switch(ie){case 0:return Z.add(E,N);case 1:return Z.add(E+I,N);case 2:return Z.add(E+I,N+z);case 3:return Z.add(E,N+z)}return Z})}(An,(Un.inset?1:-1)*Un.spread.number-Nn,(Un.inset?1:-1)*Un.spread.number,Un.spread.number*(Un.inset?-2:2),Un.spread.number*(Un.inset?-2:2));Un.inset?(ct.path(An),ct.ctx.clip(),ct.mask(ai)):(ct.mask(An),ct.ctx.clip(),ct.path(ai)),ct.ctx.shadowOffsetX=Un.offsetX.number+Nn,ct.ctx.shadowOffsetY=Un.offsetY.number,ct.ctx.shadowColor=As(Un.color),ct.ctx.shadowBlur=Un.blur.number,ct.ctx.fillStyle=Un.inset?As(Un.color):"rgba(0,0,0,1)",ct.ctx.fill(),ct.ctx.restore()}),Bt.label=2;case 2:De=0,xe=0,qe=Z,Bt.label=3;case 3:return xe<qe.length?0!==(et=qe[xe]).style&&!jf(et.color)&&et.width>0?2!==et.style?[3,5]:[4,this.renderDashedDottedBorder(et.color,et.width,De,N.curves,2)]:[3,11]:[3,13];case 4:return Bt.sent(),[3,11];case 5:return 3!==et.style?[3,7]:[4,this.renderDashedDottedBorder(et.color,et.width,De,N.curves,3)];case 6:return Bt.sent(),[3,11];case 7:return 4!==et.style?[3,9]:[4,this.renderDoubleBorder(et.color,et.width,De,N.curves)];case 8:return Bt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(et.color,De,N.curves)];case 10:Bt.sent(),Bt.label=11;case 11:De++,Bt.label=12;case 12:return xe++,[3,3];case 13:return[2]}})})},E.prototype.renderDashedDottedBorder=function(N,I,z,Z,ie){return mt(this,void 0,void 0,function(){var De,xe,qe,et,ct,Bt,Un,An,Nn,ai,er,Yn,Ji,di,xr,_n;return St(this,function(Fi){return this.ctx.save(),De=function(x,E){switch(E){case 0:return Lg(x.topLeftBorderStroke,x.topRightBorderStroke);case 1:return Lg(x.topRightBorderStroke,x.bottomRightBorderStroke);case 2:return Lg(x.bottomRightBorderStroke,x.bottomLeftBorderStroke);default:return Lg(x.bottomLeftBorderStroke,x.topLeftBorderStroke)}}(Z,z),xe=DC(Z,z),2===ie&&(this.path(xe),this.ctx.clip()),$l(xe[0])?(qe=xe[0].start.x,et=xe[0].start.y):(qe=xe[0].x,et=xe[0].y),$l(xe[1])?(ct=xe[1].end.x,Bt=xe[1].end.y):(ct=xe[1].x,Bt=xe[1].y),Un=0===z||2===z?Math.abs(qe-ct):Math.abs(et-Bt),this.ctx.beginPath(),this.formatPath(3===ie?De:xe.slice(0,2)),An=I<3?3*I:2*I,Nn=I<3?2*I:I,3===ie&&(An=I,Nn=I),ai=!0,Un<=2*An?ai=!1:Un<=2*An+Nn?(An*=er=Un/(2*An+Nn),Nn*=er):(Yn=Math.floor((Un+Nn)/(An+Nn)),Ji=(Un-Yn*An)/(Yn-1),Nn=(di=(Un-(Yn+1)*An)/Yn)<=0||Math.abs(Nn-Ji)<Math.abs(Nn-di)?Ji:di),ai&&this.ctx.setLineDash(3===ie?[0,An+Nn]:[An,Nn]),3===ie?(this.ctx.lineCap="round",this.ctx.lineWidth=I):this.ctx.lineWidth=2*I+1.1,this.ctx.strokeStyle=As(N),this.ctx.stroke(),this.ctx.setLineDash([]),2===ie&&($l(xe[0])&&(xr=xe[3],_n=xe[0],this.ctx.beginPath(),this.formatPath([new Fn(xr.end.x,xr.end.y),new Fn(_n.start.x,_n.start.y)]),this.ctx.stroke()),$l(xe[1])&&(xr=xe[1],_n=xe[2],this.ctx.beginPath(),this.formatPath([new Fn(xr.end.x,xr.end.y),new Fn(_n.start.x,_n.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},E.prototype.render=function(N){return mt(this,void 0,void 0,function(){var I;return St(this,function(z){switch(z.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=As(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),I=function(x){var E=new BD(x,null),N=new ia(E),I=[];return Fs(E,N,N,I),a_(E.container,I),N}(N),[4,this.renderStack(I)];case 1:return z.sent(),this.applyEffects([]),[2,this.canvas]}})})},E}($O),BC=function(x){return x instanceof dD||x instanceof uD||x instanceof AC&&x.type!==Vh&&x.type!==Rv},pd=function(x,E){switch(x){case 0:return Gv(E);case 2:return function(x){return[x.topLeftContentBox,x.topRightContentBox,x.bottomRightContentBox,x.bottomLeftContentBox]}(E);default:return jv(E)}},RD=function(x){switch(x){case 1:return"center";case 2:return"right";default:return"left"}},Kd=["-apple-system","system-ui"],KO=function(x){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?x.filter(function(E){return-1===Kd.indexOf(E)}):x},XO=function(x){function E(N,I){var z=x.call(this,N,I)||this;return z.canvas=I.canvas?I.canvas:document.createElement("canvas"),z.ctx=z.canvas.getContext("2d"),z.options=I,z.canvas.width=Math.floor(I.width*I.scale),z.canvas.height=Math.floor(I.height*I.scale),z.canvas.style.width=I.width+"px",z.canvas.style.height=I.height+"px",z.ctx.scale(z.options.scale,z.options.scale),z.ctx.translate(-I.x,-I.y),z.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+I.width+"x"+I.height+" at "+I.x+","+I.y+") with scale "+I.scale),z}return _e(E,x),E.prototype.render=function(N){return mt(this,void 0,void 0,function(){var I,z;return St(this,function(Z){switch(Z.label){case 0:return I=ep(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,N),[4,OD(I)];case 1:return z=Z.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=As(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(z,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},E}($O),OD=function(x){return new Promise(function(E,N){var I=new Image;I.onload=function(){E(I)},I.onerror=N,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(x))})},LV=function(){function x(E){var I=E.enabled;this.id=E.id,this.enabled=I,this.start=Date.now()}return x.prototype.debug=function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,rn([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},x.prototype.getTime=function(){return Date.now()-this.start},x.prototype.info=function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,rn([this.id,this.getTime()+"ms"],E))},x.prototype.warn=function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,rn([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},x.prototype.error=function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,rn([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},x.instances={},x}(),UV=function(){function x(E,N){var I;this.windowBounds=N,this.instanceName="#"+x.instanceCount++,this.logger=new LV({id:this.instanceName,enabled:E.logging}),this.cache=null!==(I=E.cache)&&void 0!==I?I:new Qv(this,E)}return x.instanceCount=1,x}();typeof window<"u"&&xD.setContext(window);var HV=function(x,E){return mt(void 0,void 0,void 0,function(){var N,I,z,Z,ie,De,xe,qe,et,ct,Bt,Un,An,Nn,ai,er,Yn,Ji,di,xr,_n,Ui,Cr,ki,Ia,yc,Rs,nl,jh,_c,Xl,ap,gd,tA,lp,cp,qh,nA;return St(this,function(Xd){switch(Xd.label){case 0:if(!x||"object"!=typeof x)return[2,Promise.reject("Invalid element provided as first argument")];if(!(N=x.ownerDocument))throw new Error("Element is not attached to a Document");if(!(I=N.defaultView))throw new Error("Document is not attached to a Window");return z={allowTaint:null!==(Ui=E.allowTaint)&&void 0!==Ui&&Ui,imageTimeout:null!==(Cr=E.imageTimeout)&&void 0!==Cr?Cr:15e3,proxy:E.proxy,useCORS:null!==(ki=E.useCORS)&&void 0!==ki&&ki},Z=Et({logging:null===(Ia=E.logging)||void 0===Ia||Ia,cache:E.cache},z),ie={windowWidth:null!==(yc=E.windowWidth)&&void 0!==yc?yc:I.innerWidth,windowHeight:null!==(Rs=E.windowHeight)&&void 0!==Rs?Rs:I.innerHeight,scrollX:null!==(nl=E.scrollX)&&void 0!==nl?nl:I.pageXOffset,scrollY:null!==(jh=E.scrollY)&&void 0!==jh?jh:I.pageYOffset},De=new yn(ie.scrollX,ie.scrollY,ie.windowWidth,ie.windowHeight),xe=new UV(Z,De),qe=null!==(_c=E.foreignObjectRendering)&&void 0!==_c&&_c,et={allowTaint:null!==(Xl=E.allowTaint)&&void 0!==Xl&&Xl,onclone:E.onclone,ignoreElements:E.ignoreElements,inlineImages:qe,copyStyles:qe},xe.logger.debug("Starting document clone with size "+De.width+"x"+De.height+" scrolled to "+-De.left+","+-De.top),ct=new kv(xe,x,et),(Bt=ct.clonedReferenceElement)?[4,ct.toIFrame(N,De)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Un=Xd.sent(),An=Jc(Bt)||function(x){return"HTML"===x.tagName}(Bt)?function(x){var E=x.body,N=x.documentElement;if(!E||!N)throw new Error("Unable to get document size");var I=Math.max(Math.max(E.scrollWidth,N.scrollWidth),Math.max(E.offsetWidth,N.offsetWidth),Math.max(E.clientWidth,N.clientWidth)),z=Math.max(Math.max(E.scrollHeight,N.scrollHeight),Math.max(E.offsetHeight,N.offsetHeight),Math.max(E.clientHeight,N.clientHeight));return new yn(0,0,I,z)}(Bt.ownerDocument):gt(xe,Bt),Nn=An.width,ai=An.height,er=An.left,Yn=An.top,Ji=VV(xe,Bt,E.backgroundColor),di={canvas:E.canvas,backgroundColor:Ji,scale:null!==(gd=null!==(ap=E.scale)&&void 0!==ap?ap:I.devicePixelRatio)&&void 0!==gd?gd:1,x:(null!==(tA=E.x)&&void 0!==tA?tA:0)+er,y:(null!==(lp=E.y)&&void 0!==lp?lp:0)+Yn,width:null!==(cp=E.width)&&void 0!==cp?cp:Math.ceil(Nn),height:null!==(qh=E.height)&&void 0!==qh?qh:Math.ceil(ai)},qe?(xe.logger.debug("Document cloned, using foreign object rendering"),[4,new XO(xe,di).render(Bt)]):[3,3];case 2:return xr=Xd.sent(),[3,5];case 3:return xe.logger.debug("Document cloned, element located at "+er+","+Yn+" with size "+Nn+"x"+ai+" using computed rendering"),xe.logger.debug("Starting DOM parsing"),_n=Es(xe,Bt),Ji===_n.styles.backgroundColor&&(_n.styles.backgroundColor=qf.TRANSPARENT),xe.logger.debug("Starting renderer for element at "+di.x+","+di.y+" with size "+di.width+"x"+di.height),[4,new PV(xe,di).render(_n)];case 4:xr=Xd.sent(),Xd.label=5;case 5:return(!(null!==(nA=E.removeContainer)&&void 0!==nA)||nA)&&(kv.destroy(Un)||xe.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),xe.logger.debug("Finished rendering"),[2,xr]}})})},VV=function(x,E,N){var I=E.ownerDocument,z=I.documentElement?bg(x,getComputedStyle(I.documentElement).backgroundColor):qf.TRANSPARENT,Z=I.body?bg(x,getComputedStyle(I.body).backgroundColor):qf.TRANSPARENT,ie="string"==typeof N?bg(x,N):null===N?qf.TRANSPARENT:4294967295;return E===I.documentElement?jf(z)?jf(Z)?ie:Z:z:ie};return function(x,E){return void 0===E&&(E={}),HV(x,E)}}()},3556:ir=>{ir.exports=function Wn(_e,Et){"use strict";var tn,on,mt=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,St=/(^[ ]*|[ ]*$)/g,rn=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,yn=/^0x[0-9a-f]+$/i,gt=/^0/,On=function(xi){return Wn.insensitive&&(""+xi).toLowerCase()||""+xi},wt=On(_e).replace(St,"")||"",Ge=On(Et).replace(St,"")||"",Ut=wt.replace(mt,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),Nt=Ge.replace(mt,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),Ct=parseInt(wt.match(yn),16)||1!==Ut.length&&wt.match(rn)&&Date.parse(wt),Gt=parseInt(Ge.match(yn),16)||Ct&&Ge.match(rn)&&Date.parse(Ge)||null;if(Gt){if(Ct<Gt)return-1;if(Ct>Gt)return 1}for(var Yr=0,_s=Math.max(Ut.length,Nt.length);Yr<_s;Yr++){if(tn=!(Ut[Yr]||"").match(gt)&&parseFloat(Ut[Yr])||Ut[Yr]||0,on=!(Nt[Yr]||"").match(gt)&&parseFloat(Nt[Yr])||Nt[Yr]||0,isNaN(tn)!==isNaN(on))return isNaN(tn)?1:-1;if(typeof tn!=typeof on&&(tn+="",on+=""),tn<on)return-1;if(tn>on)return 1}return 0}},6499:(ir,Wn,_e)=>{var Et=_e(720),mt=_e(9049),St=_e(3147),rn=_e(7495),yn=_e(2773),gt=_e(5993),On=_e(6973);On.alea=Et,On.xor128=mt,On.xorwow=St,On.xorshift7=rn,On.xor4096=yn,On.tychei=gt,ir.exports=On},720:function(ir,Wn,_e){var Et;!function(mt,St,rn){function yn(Ge){var Ut=this,Nt=function wt(){var Ge=4022871197;return function(Nt){Nt=String(Nt);for(var Ct=0;Ct<Nt.length;Ct++){var Gt=.02519603282416938*(Ge+=Nt.charCodeAt(Ct));Gt-=Ge=Gt>>>0,Ge=(Gt*=Ge)>>>0,Ge+=4294967296*(Gt-=Ge)}return 2.3283064365386963e-10*(Ge>>>0)}}();Ut.next=function(){var Ct=2091639*Ut.s0+2.3283064365386963e-10*Ut.c;return Ut.s0=Ut.s1,Ut.s1=Ut.s2,Ut.s2=Ct-(Ut.c=0|Ct)},Ut.c=1,Ut.s0=Nt(" "),Ut.s1=Nt(" "),Ut.s2=Nt(" "),Ut.s0-=Nt(Ge),Ut.s0<0&&(Ut.s0+=1),Ut.s1-=Nt(Ge),Ut.s1<0&&(Ut.s1+=1),Ut.s2-=Nt(Ge),Ut.s2<0&&(Ut.s2+=1),Nt=null}function gt(Ge,Ut){return Ut.c=Ge.c,Ut.s0=Ge.s0,Ut.s1=Ge.s1,Ut.s2=Ge.s2,Ut}function On(Ge,Ut){var Nt=new yn(Ge),Ct=Ut&&Ut.state,Gt=Nt.next;return Gt.int32=function(){return 4294967296*Nt.next()|0},Gt.double=function(){return Gt()+11102230246251565e-32*(2097152*Gt()|0)},Gt.quick=Gt,Ct&&("object"==typeof Ct&&gt(Ct,Nt),Gt.state=function(){return gt(Nt,{})}),Gt}St&&St.exports?St.exports=On:_e.amdD&&_e.amdO?void 0!==(Et=function(){return On}.call(Wn,_e,Wn,St))&&(St.exports=Et):this.alea=On}(0,ir=_e.nmd(ir))},5993:function(ir,Wn,_e){var Et;!function(mt,St,rn){function yn(wt){var Ge=this,Ut="";Ge.next=function(){var Ct=Ge.b,Gt=Ge.c,tn=Ge.d,on=Ge.a;return Ct=Ct<<25^Ct>>>7^Gt,Gt=Gt-tn|0,tn=tn<<24^tn>>>8^on,on=on-Ct|0,Ge.b=Ct=Ct<<20^Ct>>>12^Gt,Ge.c=Gt=Gt-tn|0,Ge.d=tn<<16^Gt>>>16^on,Ge.a=on-Ct|0},Ge.a=0,Ge.b=0,Ge.c=-1640531527,Ge.d=1367130551,wt===Math.floor(wt)?(Ge.a=wt/4294967296|0,Ge.b=0|wt):Ut+=wt;for(var Nt=0;Nt<Ut.length+20;Nt++)Ge.b^=0|Ut.charCodeAt(Nt),Ge.next()}function gt(wt,Ge){return Ge.a=wt.a,Ge.b=wt.b,Ge.c=wt.c,Ge.d=wt.d,Ge}function On(wt,Ge){var Ut=new yn(wt),Nt=Ge&&Ge.state,Ct=function(){return(Ut.next()>>>0)/4294967296};return Ct.double=function(){do{var on=((Ut.next()>>>11)+(Ut.next()>>>0)/4294967296)/(1<<21)}while(0===on);return on},Ct.int32=Ut.next,Ct.quick=Ct,Nt&&("object"==typeof Nt&&gt(Nt,Ut),Ct.state=function(){return gt(Ut,{})}),Ct}St&&St.exports?St.exports=On:_e.amdD&&_e.amdO?void 0!==(Et=function(){return On}.call(Wn,_e,Wn,St))&&(St.exports=Et):this.tychei=On}(0,ir=_e.nmd(ir))},9049:function(ir,Wn,_e){var Et;!function(mt,St,rn){function yn(wt){var Ge=this,Ut="";Ge.x=0,Ge.y=0,Ge.z=0,Ge.w=0,Ge.next=function(){var Ct=Ge.x^Ge.x<<11;return Ge.x=Ge.y,Ge.y=Ge.z,Ge.z=Ge.w,Ge.w^=Ge.w>>>19^Ct^Ct>>>8},wt===(0|wt)?Ge.x=wt:Ut+=wt;for(var Nt=0;Nt<Ut.length+64;Nt++)Ge.x^=0|Ut.charCodeAt(Nt),Ge.next()}function gt(wt,Ge){return Ge.x=wt.x,Ge.y=wt.y,Ge.z=wt.z,Ge.w=wt.w,Ge}function On(wt,Ge){var Ut=new yn(wt),Nt=Ge&&Ge.state,Ct=function(){return(Ut.next()>>>0)/4294967296};return Ct.double=function(){do{var on=((Ut.next()>>>11)+(Ut.next()>>>0)/4294967296)/(1<<21)}while(0===on);return on},Ct.int32=Ut.next,Ct.quick=Ct,Nt&&("object"==typeof Nt&&gt(Nt,Ut),Ct.state=function(){return gt(Ut,{})}),Ct}St&&St.exports?St.exports=On:_e.amdD&&_e.amdO?void 0!==(Et=function(){return On}.call(Wn,_e,Wn,St))&&(St.exports=Et):this.xor128=On}(0,ir=_e.nmd(ir))},2773:function(ir,Wn,_e){var Et;!function(mt,St,rn){function yn(wt){var Ge=this;Ge.next=function(){var tn,on,Nt=Ge.w,Ct=Ge.X,Gt=Ge.i;return Ge.w=Nt=Nt+1640531527|0,on=Ct[Gt+34&127],tn=Ct[Gt=Gt+1&127],on^=on<<13,tn^=tn<<17,on=Ct[Gt]=(on^=on>>>15)^(tn^=tn>>>12),Ge.i=Gt,on+(Nt^Nt>>>16)|0},function Ut(Nt,Ct){var Gt,tn,on,Yr,_s,xi=[],xs=128;for(Ct===(0|Ct)?(tn=Ct,Ct=null):(Ct+="\0",tn=0,xs=Math.max(xs,Ct.length)),on=0,Yr=-32;Yr<xs;++Yr)Ct&&(tn^=Ct.charCodeAt((Yr+32)%Ct.length)),0===Yr&&(_s=tn),tn^=tn<<10,tn^=tn>>>15,tn^=tn<<4,tn^=tn>>>13,Yr>=0&&(on=0==(Gt=xi[127&Yr]^=tn+(_s=_s+1640531527|0))?on+1:0);for(on>=128&&(xi[127&(Ct&&Ct.length||0)]=-1),on=127,Yr=512;Yr>0;--Yr)tn=xi[on+34&127],Gt=xi[on=on+1&127],tn^=tn<<13,Gt^=Gt<<17,xi[on]=(tn^=tn>>>15)^(Gt^=Gt>>>12);Nt.w=_s,Nt.X=xi,Nt.i=on}(Ge,wt)}function gt(wt,Ge){return Ge.i=wt.i,Ge.w=wt.w,Ge.X=wt.X.slice(),Ge}function On(wt,Ge){null==wt&&(wt=+new Date);var Ut=new yn(wt),Nt=Ge&&Ge.state,Ct=function(){return(Ut.next()>>>0)/4294967296};return Ct.double=function(){do{var on=((Ut.next()>>>11)+(Ut.next()>>>0)/4294967296)/(1<<21)}while(0===on);return on},Ct.int32=Ut.next,Ct.quick=Ct,Nt&&(Nt.X&&gt(Nt,Ut),Ct.state=function(){return gt(Ut,{})}),Ct}St&&St.exports?St.exports=On:_e.amdD&&_e.amdO?void 0!==(Et=function(){return On}.call(Wn,_e,Wn,St))&&(St.exports=Et):this.xor4096=On}(0,ir=_e.nmd(ir))},7495:function(ir,Wn,_e){var Et;!function(mt,St,rn){function yn(wt){var Ge=this;Ge.next=function(){var Gt,tn,Nt=Ge.x,Ct=Ge.i;return Gt=Nt[Ct],tn=(Gt^=Gt>>>7)^Gt<<24,tn^=(Gt=Nt[Ct+1&7])^Gt>>>10,tn^=(Gt=Nt[Ct+3&7])^Gt>>>3,tn^=(Gt=Nt[Ct+4&7])^Gt<<7,Gt=Nt[Ct+7&7],Nt[Ct]=tn^=(Gt^=Gt<<13)^Gt<<9,Ge.i=Ct+1&7,tn},function Ut(Nt,Ct){var Gt,on=[];if(Ct===(0|Ct))on[0]=Ct;else for(Ct=""+Ct,Gt=0;Gt<Ct.length;++Gt)on[7&Gt]=on[7&Gt]<<15^Ct.charCodeAt(Gt)+on[Gt+1&7]<<13;for(;on.length<8;)on.push(0);for(Gt=0;Gt<8&&0===on[Gt];++Gt);for(8==Gt&&(on[7]=-1),Nt.x=on,Nt.i=0,Gt=256;Gt>0;--Gt)Nt.next()}(Ge,wt)}function gt(wt,Ge){return Ge.x=wt.x.slice(),Ge.i=wt.i,Ge}function On(wt,Ge){null==wt&&(wt=+new Date);var Ut=new yn(wt),Nt=Ge&&Ge.state,Ct=function(){return(Ut.next()>>>0)/4294967296};return Ct.double=function(){do{var on=((Ut.next()>>>11)+(Ut.next()>>>0)/4294967296)/(1<<21)}while(0===on);return on},Ct.int32=Ut.next,Ct.quick=Ct,Nt&&(Nt.x&&gt(Nt,Ut),Ct.state=function(){return gt(Ut,{})}),Ct}St&&St.exports?St.exports=On:_e.amdD&&_e.amdO?void 0!==(Et=function(){return On}.call(Wn,_e,Wn,St))&&(St.exports=Et):this.xorshift7=On}(0,ir=_e.nmd(ir))},3147:function(ir,Wn,_e){var Et;!function(mt,St,rn){function yn(wt){var Ge=this,Ut="";Ge.next=function(){var Ct=Ge.x^Ge.x>>>2;return Ge.x=Ge.y,Ge.y=Ge.z,Ge.z=Ge.w,Ge.w=Ge.v,(Ge.d=Ge.d+362437|0)+(Ge.v=Ge.v^Ge.v<<4^Ct^Ct<<1)|0},Ge.x=0,Ge.y=0,Ge.z=0,Ge.w=0,Ge.v=0,wt===(0|wt)?Ge.x=wt:Ut+=wt;for(var Nt=0;Nt<Ut.length+64;Nt++)Ge.x^=0|Ut.charCodeAt(Nt),Nt==Ut.length&&(Ge.d=Ge.x<<10^Ge.x>>>4),Ge.next()}function gt(wt,Ge){return Ge.x=wt.x,Ge.y=wt.y,Ge.z=wt.z,Ge.w=wt.w,Ge.v=wt.v,Ge.d=wt.d,Ge}function On(wt,Ge){var Ut=new yn(wt),Nt=Ge&&Ge.state,Ct=function(){return(Ut.next()>>>0)/4294967296};return Ct.double=function(){do{var on=((Ut.next()>>>11)+(Ut.next()>>>0)/4294967296)/(1<<21)}while(0===on);return on},Ct.int32=Ut.next,Ct.quick=Ct,Nt&&("object"==typeof Nt&&gt(Nt,Ut),Ct.state=function(){return gt(Ut,{})}),Ct}St&&St.exports?St.exports=On:_e.amdD&&_e.amdO?void 0!==(Et=function(){return On}.call(Wn,_e,Wn,St))&&(St.exports=Et):this.xorwow=On}(0,ir=_e.nmd(ir))},6973:function(ir,Wn,_e){var Et;!function(mt,St,rn){var Gt,yn=256,Ge=rn.pow(yn,6),Ut=rn.pow(2,52),Nt=2*Ut,Ct=yn-1;function tn(fr,wi,si){var Ds=[],Qi=xi(_s((wi=1==wi?{entropy:!0}:wi||{}).entropy?[fr,Ho(St)]:fr??function xs(){try{var fr;return Gt&&(fr=Gt.randomBytes)?fr=fr(yn):(fr=new Uint8Array(yn),(mt.crypto||mt.msCrypto).getRandomValues(fr)),Ho(fr)}catch{var wi=mt.navigator,si=wi&&wi.plugins;return[+new Date,mt,si,mt.screen,Ho(St)]}}(),3),Ds),yi=new on(Ds),Di=function(){for(var Aa=yi.g(6),Wa=Ge,pa=0;Aa<Ut;)Aa=(Aa+pa)*yn,Wa*=yn,pa=yi.g(1);for(;Aa>=Nt;)Aa/=2,Wa/=2,pa>>>=1;return(Aa+pa)/Wa};return Di.int32=function(){return 0|yi.g(4)},Di.quick=function(){return yi.g(4)/4294967296},Di.double=Di,xi(Ho(yi.S),St),(wi.pass||si||function(Aa,Wa,pa,$a){return $a&&($a.S&&Yr($a,yi),Aa.state=function(){return Yr(yi,{})}),pa?(rn.random=Aa,Wa):Aa})(Di,Qi,"global"in wi?wi.global:this==rn,wi.state)}function on(fr){var wi,si=fr.length,Ds=this,Qi=0,yi=Ds.i=Ds.j=0,Di=Ds.S=[];for(si||(fr=[si++]);Qi<yn;)Di[Qi]=Qi++;for(Qi=0;Qi<yn;Qi++)Di[Qi]=Di[yi=Ct&yi+fr[Qi%si]+(wi=Di[Qi])],Di[yi]=wi;(Ds.g=function(Aa){for(var Wa,pa=0,$a=Ds.i,Hl=Ds.j,pl=Ds.S;Aa--;)Wa=pl[$a=Ct&$a+1],pa=pa*yn+pl[Ct&(pl[$a]=pl[Hl=Ct&Hl+Wa])+(pl[Hl]=Wa)];return Ds.i=$a,Ds.j=Hl,pa})(yn)}function Yr(fr,wi){return wi.i=fr.i,wi.j=fr.j,wi.S=fr.S.slice(),wi}function _s(fr,wi){var Qi,si=[],Ds=typeof fr;if(wi&&"object"==Ds)for(Qi in fr)try{si.push(_s(fr[Qi],wi-1))}catch{}return si.length?si:"string"==Ds?fr:fr+"\0"}function xi(fr,wi){for(var Ds,si=fr+"",Qi=0;Qi<si.length;)wi[Ct&Qi]=Ct&(Ds^=19*wi[Ct&Qi])+si.charCodeAt(Qi++);return Ho(wi)}function Ho(fr){return String.fromCharCode.apply(0,fr)}if(xi(rn.random(),St),ir.exports){ir.exports=tn;try{Gt=_e(1234)}catch{}}else void 0!==(Et=function(){return tn}.call(Wn,_e,Wn,ir))&&(ir.exports=Et)}(typeof self<"u"?self:this,[],Math)},3443:ir=>{void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var Wn=Wn||function(){var _e=[];return{REVISION:"8",getAll:function(){return _e},removeAll:function(){_e=[]},add:function(Et){_e.push(Et)},remove:function(Et){var mt=_e.indexOf(Et);-1!==mt&&_e.splice(mt,1)},update:function(Et){if(0===_e.length)return!1;var mt=0,St=_e.length;for(Et=void 0!==Et?Et:Date.now();mt<St;)_e[mt].update(Et)?mt++:(_e.splice(mt,1),St--);return!0}}}();Wn.Tween=function(_e){var Et=_e,mt={},St={},rn=1e3,yn=0,gt=null,On=Wn.Easing.Linear.None,wt=Wn.Interpolation.Linear,Ge=[],Ut=null,Nt=!1,Ct=null,Gt=null;this.to=function(tn,on){return void 0!==on&&(rn=on),St=tn,this},this.start=function(tn){for(var on in Wn.add(this),Nt=!1,gt=void 0!==tn?tn:Date.now(),gt+=yn,St)if(null!==Et[on]&&on in Et){if(St[on]instanceof Array){if(0===St[on].length)continue;St[on]=[Et[on]].concat(St[on])}mt[on]=Et[on]}return this},this.stop=function(){return Wn.remove(this),this},this.delay=function(tn){return yn=tn,this},this.easing=function(tn){return On=tn,this},this.interpolation=function(tn){return wt=tn,this},this.chain=function(){return Ge=arguments,this},this.onStart=function(tn){return Ut=tn,this},this.onUpdate=function(tn){return Ct=tn,this},this.onComplete=function(tn){return Gt=tn,this},this.update=function(tn){if(tn<gt)return!0;!1===Nt&&(null!==Ut&&Ut.call(Et),Nt=!0);var on=(tn-gt)/rn,Yr=On(on=on>1?1:on);for(var _s in mt){var xi=mt[_s],xs=St[_s];Et[_s]=xs instanceof Array?wt(xs,Yr):xi+(xs-xi)*Yr}if(null!==Ct&&Ct.call(Et,Yr),1==on){null!==Gt&&Gt.call(Et);for(var Ho=0,fr=Ge.length;Ho<fr;Ho++)Ge[Ho].start(tn);return!1}return!0}},Wn.Easing={Linear:{None:function(_e){return _e}},Quadratic:{In:function(_e){return _e*_e},Out:function(_e){return _e*(2-_e)},InOut:function(_e){return(_e*=2)<1?.5*_e*_e:-.5*(--_e*(_e-2)-1)}},Cubic:{In:function(_e){return _e*_e*_e},Out:function(_e){return--_e*_e*_e+1},InOut:function(_e){return(_e*=2)<1?.5*_e*_e*_e:.5*((_e-=2)*_e*_e+2)}},Quartic:{In:function(_e){return _e*_e*_e*_e},Out:function(_e){return 1- --_e*_e*_e*_e},InOut:function(_e){return(_e*=2)<1?.5*_e*_e*_e*_e:-.5*((_e-=2)*_e*_e*_e-2)}},Quintic:{In:function(_e){return _e*_e*_e*_e*_e},Out:function(_e){return--_e*_e*_e*_e*_e+1},InOut:function(_e){return(_e*=2)<1?.5*_e*_e*_e*_e*_e:.5*((_e-=2)*_e*_e*_e*_e+2)}},Sinusoidal:{In:function(_e){return 1-Math.cos(_e*Math.PI/2)},Out:function(_e){return Math.sin(_e*Math.PI/2)},InOut:function(_e){return.5*(1-Math.cos(Math.PI*_e))}},Exponential:{In:function(_e){return 0===_e?0:Math.pow(1024,_e-1)},Out:function(_e){return 1===_e?1:1-Math.pow(2,-10*_e)},InOut:function(_e){return 0===_e?0:1===_e?1:(_e*=2)<1?.5*Math.pow(1024,_e-1):.5*(2-Math.pow(2,-10*(_e-1)))}},Circular:{In:function(_e){return 1-Math.sqrt(1-_e*_e)},Out:function(_e){return Math.sqrt(1- --_e*_e)},InOut:function(_e){return(_e*=2)<1?-.5*(Math.sqrt(1-_e*_e)-1):.5*(Math.sqrt(1-(_e-=2)*_e)+1)}},Elastic:{In:function(_e){var Et,mt=.1;return 0===_e?0:1===_e?1:(!mt||mt<1?(mt=1,Et=.1):Et=.4*Math.asin(1/mt)/(2*Math.PI),-mt*Math.pow(2,10*(_e-=1))*Math.sin((_e-Et)*(2*Math.PI)/.4))},Out:function(_e){var Et,mt=.1;return 0===_e?0:1===_e?1:(!mt||mt<1?(mt=1,Et=.1):Et=.4*Math.asin(1/mt)/(2*Math.PI),mt*Math.pow(2,-10*_e)*Math.sin((_e-Et)*(2*Math.PI)/.4)+1)},InOut:function(_e){var Et,mt=.1;return 0===_e?0:1===_e?1:(!mt||mt<1?(mt=1,Et=.1):Et=.4*Math.asin(1/mt)/(2*Math.PI),(_e*=2)<1?mt*Math.pow(2,10*(_e-=1))*Math.sin((_e-Et)*(2*Math.PI)/.4)*-.5:mt*Math.pow(2,-10*(_e-=1))*Math.sin((_e-Et)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(_e){return _e*_e*(2.70158*_e-1.70158)},Out:function(_e){return--_e*_e*(2.70158*_e+1.70158)+1},InOut:function(_e){var Et=2.5949095;return(_e*=2)<1?_e*_e*((Et+1)*_e-Et)*.5:.5*((_e-=2)*_e*((Et+1)*_e+Et)+2)}},Bounce:{In:function(_e){return 1-Wn.Easing.Bounce.Out(1-_e)},Out:function(_e){return _e<1/2.75?7.5625*_e*_e:_e<2/2.75?7.5625*(_e-=1.5/2.75)*_e+.75:_e<2.5/2.75?7.5625*(_e-=2.25/2.75)*_e+.9375:7.5625*(_e-=2.625/2.75)*_e+.984375},InOut:function(_e){return _e<.5?.5*Wn.Easing.Bounce.In(2*_e):.5*Wn.Easing.Bounce.Out(2*_e-1)+.5}}},Wn.Interpolation={Linear:function(_e,Et){var mt=_e.length-1,St=mt*Et,rn=Math.floor(St),yn=Wn.Interpolation.Utils.Linear;return Et<0?yn(_e[0],_e[1],St):Et>1?yn(_e[mt],_e[mt-1],mt-St):yn(_e[rn],_e[rn+1>mt?mt:rn+1],St-rn)},Bezier:function(_e,Et){var gt,mt=0,St=_e.length-1,rn=Math.pow,yn=Wn.Interpolation.Utils.Bernstein;for(gt=0;gt<=St;gt++)mt+=rn(1-Et,St-gt)*rn(Et,gt)*_e[gt]*yn(St,gt);return mt},CatmullRom:function(_e,Et){var mt=_e.length-1,St=mt*Et,rn=Math.floor(St),yn=Wn.Interpolation.Utils.CatmullRom;return _e[0]===_e[mt]?(Et<0&&(rn=Math.floor(St=mt*(1+Et))),yn(_e[(rn-1+mt)%mt],_e[rn],_e[(rn+1)%mt],_e[(rn+2)%mt],St-rn)):Et<0?_e[0]-(yn(_e[0],_e[0],_e[1],_e[1],-St)-_e[0]):Et>1?_e[mt]-(yn(_e[mt],_e[mt],_e[mt-1],_e[mt-1],St-mt)-_e[mt]):yn(_e[rn?rn-1:0],_e[rn],_e[mt<rn+1?mt:rn+1],_e[mt<rn+2?mt:rn+2],St-rn)},Utils:{Linear:function(_e,Et,mt){return(Et-_e)*mt+_e},Bernstein:function(_e,Et){var mt=Wn.Interpolation.Utils.Factorial;return mt(_e)/mt(Et)/mt(_e-Et)},Factorial:function(){var _e=[1];return function(Et){var St,mt=1;if(_e[Et])return _e[Et];for(St=Et;St>1;St--)mt*=St;return _e[Et]=mt}}(),CatmullRom:function(_e,Et,mt,St,rn){var yn=.5*(mt-_e),gt=.5*(St-Et),On=rn*rn;return(2*Et-2*mt+yn+gt)*(rn*On)+(-3*Et+3*mt-2*yn-gt)*On+yn*rn+Et}}},ir.exports=Wn},3785:(ir,Wn,_e)=>{"use strict";var St,Et=_e(4510).default,mt=(St=typeof document<"u"?document.currentScript?.src:void 0,Et(function*(rn={}){var yn,On,wt,Ho,fr,gt=rn,Ge=new Promise((ze,_t)=>{On=ze,wt=_t}),tn=Object.assign({},gt),xi="";if(typeof document<"u"&&document.currentScript&&(xi=document.currentScript.src),St&&(xi=St),xi=xi.startsWith("blob:")?"":xi.slice(0,xi.replace(/[?#].*/,"").lastIndexOf("/")+1),!("object"==typeof window||typeof WorkerGlobalScope<"u"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");Ho=function(){var ze=Et(function*(_t){kr(!Jr(_t),"readAsync does not work with file:// URLs");var Cn=yield fetch(_t,{credentials:"same-origin"});if(Cn.ok)return Cn.arrayBuffer();throw new Error(Cn.status+" : "+Cn.url)});return function(Cn){return ze.apply(this,arguments)}}();var wi=gt.print||console.log.bind(console),si=gt.printErr||console.error.bind(console);Object.assign(gt,tn),tn=null,function Nw(){!function zc(ze){Object.getOwnPropertyDescriptor(gt,ze)&&Qt(`\`Module.${ze}\` was supplied but \`${ze}\` not included in INCOMING_MODULE_JS_API`)}("fetchSettings")}(),Vo("arguments","arguments_"),Vo("thisProgram","thisProgram"),kr(typeof gt.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),kr(typeof gt.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),kr(typeof gt.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),kr(typeof gt.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),kr(typeof gt.read>"u","Module.read option was removed"),kr(typeof gt.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),kr(typeof gt.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),kr(typeof gt.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),kr(typeof gt.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Vo("asm","wasmExports"),Vo("readAsync","readAsync"),Vo("readBinary","readBinary"),Vo("setWindowTitle","setWindowTitle"),kr(!0,"worker environment detected but not enabled at build time.  Add `worker` to `-sENVIRONMENT` to enable."),kr(!0,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),kr(!0,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var Hl=gt.wasmBinary;Vo("wasmBinary","wasmBinary"),"object"!=typeof WebAssembly&&si("no native wasm support detected");var pl,Qc=!1;function kr(ze,_t){ze||Qt("Assertion failed"+(_t?": "+_t:""))}var Vl,Ql,At,bs=!1,Jr=ze=>ze.startsWith("file://");function oi(){if(!Qc){var ze=Oh();0==ze&&(ze+=4);var _t=At[ze>>2],Cn=At[ze+4>>2];(34821223!=_t||2310721022!=Cn)&&Qt(`Stack overflow! Stack cookie has been overwritten at ${zo(ze)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${zo(Cn)} ${zo(_t)}`),1668509029!=At[0]&&Qt("Runtime error: The application has corrupted its heap memory area (address zero)!")}}if((()=>{var ze=new Int16Array(1),_t=new Int8Array(ze.buffer);if(ze[0]=25459,115!==_t[0]||99!==_t[1])throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})(),gt.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");function Vo(ze,_t,Cn=!0){Object.getOwnPropertyDescriptor(gt,ze)||Object.defineProperty(gt,ze,{configurable:!0,get(){Qt(`\`Module.${ze}\` has been replaced by \`${_t}\``+(Cn?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":""))}})}function Ms(ze){Object.getOwnPropertyDescriptor(gt,ze)||Object.defineProperty(gt,ze,{configurable:!0,get(){var _t=`'${ze}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;(function Ka(ze){return"FS_createPath"===ze||"FS_createDataFile"===ze||"FS_createPreloadedFile"===ze||"FS_unlink"===ze||"addRunDependency"===ze||"FS_createLazyFile"===ze||"FS_createDevice"===ze||"removeRunDependency"===ze})(ze)&&(_t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Qt(_t)}})}kr(!gt.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),kr(typeof Int32Array<"u"&&typeof Float64Array<"u"&&null!=Int32Array.prototype.subarray&&null!=Int32Array.prototype.set,"JS engine does not provide full typed array support"),kr(!gt.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),kr(!gt.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var lt=0,Rt=null,zt={},Ht=null;function Qt(ze){gt.onAbort?.(ze),si(ze="Aborted("+ze+")"),Qc=!0;var _t=new WebAssembly.RuntimeError(ze);throw wt(_t),_t}var ws,Fr={error(){Qt("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){Fr.error()},createDataFile(){Fr.error()},createPreloadedFile(){Fr.error()},createLazyFile(){Fr.error()},open(){Fr.error()},mkdev(){Fr.error()},registerDevice(){Fr.error()},analyzePath(){Fr.error()},ErrnoError(){Fr.error()}};function Mi(ze,_t){return(...Cn)=>{kr(bs,`native function \`${ze}\` called before runtime initialization`);var Li=qr[ze];return kr(Li,`exported native function \`${ze}\` not found`),kr(Cn.length<=_t,`native function \`${ze}\` called with ${Cn.length} args but expects ${_t}`),Li(...Cn)}}function Qo(){return(Qo=Et(function*(ze){if(!Hl)try{var _t=yield Ho(ze);return new Uint8Array(_t)}catch{}return function us(ze){if(ze==ws&&Hl)return new Uint8Array(Hl);if(fr)return fr(ze);throw"both async and sync fetching of the wasm failed"}(ze)})).apply(this,arguments)}function Gc(){return Gc=Et(function*(ze,_t){try{var Cn=yield function Ya(ze){return Qo.apply(this,arguments)}(ze);return yield WebAssembly.instantiate(Cn,_t)}catch(So){si(`failed to asynchronously prepare wasm: ${So}`),Jr(ws)&&si(`warning: Loading from a file URI (${ws}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),Qt(So)}}),Gc.apply(this,arguments)}function kA(){return kA=Et(function*(ze,_t,Cn){if(!ze&&"function"==typeof WebAssembly.instantiateStreaming)try{var Li=fetch(_t,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(Li,Cn)}catch(Dt){si(`wasm streaming compile failed: ${Dt}`),si("falling back to ArrayBuffer instantiation")}return function ci(ze,_t){return Gc.apply(this,arguments)}(_t,Cn)}),kA.apply(this,arguments)}function jr(){return jr=Et(function*(){function ze(Xi,Ln){return kr(pl=(qr=Xi.exports).memory,"memory not found in wasm exports"),function Fh(){var ze=pl.buffer;gt.HEAP8=Vl=new Int8Array(ze),gt.HEAP16=new Int16Array(ze),gt.HEAPU8=Ql=new Uint8Array(ze),gt.HEAPU16=new Uint16Array(ze),gt.HEAP32=new Int32Array(ze),gt.HEAPU32=At=new Uint32Array(ze),gt.HEAPF32=new Float32Array(ze),gt.HEAPF64=new Float64Array(ze),gt.HEAP64=new BigInt64Array(ze),gt.HEAPU64=new BigUint64Array(ze)}(),function Dn(ze){if(lt--,gt.monitorRunDependencies?.(lt),ze?(kr(zt[ze]),delete zt[ze]):si("warning: run dependency removed without ID"),0==lt&&(null!==Ht&&(clearInterval(Ht),Ht=null),Rt)){var _t=Rt;Rt=null,_t()}}("wasm-instantiate"),qr}!function sn(ze){lt++,gt.monitorRunDependencies?.(lt),ze?(kr(!zt[ze]),zt[ze]=1,null===Ht&&typeof setInterval<"u"&&(Ht=setInterval(()=>{if(Qc)return clearInterval(Ht),void(Ht=null);var _t=!1;for(var Cn in zt)_t||(_t=!0,si("still waiting on run dependencies:")),si(`dependency: ${Cn}`);_t&&si("(end of list)")},1e4))):si("warning: run dependency added without ID")}("wasm-instantiate");var _t=gt,Li=function pv(){return{env:Fy,wasi_snapshot_preview1:Fy}}();if(gt.instantiateWasm)return new Promise((Xi,Ln)=>{try{gt.instantiateWasm(Li,(vo,Eu)=>{ze(vo),Xi(vo.exports)})}catch(vo){si(`Module.instantiateWasm callback failed with error: ${vo}`),Ln(vo)}});ws??=function No(){return function xs(ze){return gt.locateFile?gt.locateFile(ze,xi):xi+ze}("/assets/wasm/program.wasm")}();try{var So=yield function fg(ze,_t,Cn){return kA.apply(this,arguments)}(Hl,ws,Li);return function Cn(Xi){return kr(gt===_t,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),_t=null,ze(Xi.instance)}(So)}catch(Xi){return wt(Xi),Promise.reject(Xi)}}),jr.apply(this,arguments)}gt.FS_createDataFile=Fr.createDataFile,gt.FS_createPreloadedFile=Fr.createPreloadedFile;var Ry,Rh=ze=>{for(;ze.length>0;)ze.shift()(gt)},Pi=[],zi=ze=>Pi.unshift(ze),HA=[],Hr=ze=>HA.unshift(ze),zo=ze=>(kr("number"==typeof ze),"0x"+(ze>>>=0).toString(16).padStart(8,"0")),ml=ze=>{ml.shown||={},ml.shown[ze]||(ml.shown[ze]=1,si(ze))},pt=typeof TextDecoder<"u"?new TextDecoder:void 0,fc=(ze,_t=0,Cn=NaN)=>{for(var Li=_t+Cn,So=_t;ze[So]&&!(So>=Li);)++So;if(So-_t>16&&ze.buffer&&pt)return pt.decode(ze.subarray(_t,So));for(var Dt="";_t<So;){var Xi=ze[_t++];if(128&Xi){var Ln=63&ze[_t++];if(192!=(224&Xi)){var vo=63&ze[_t++];if(224==(240&Xi)?Xi=(15&Xi)<<12|Ln<<6|vo:(240!=(248&Xi)&&ml("Invalid UTF-8 leading byte "+zo(Xi)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),Xi=(7&Xi)<<18|Ln<<12|vo<<6|63&ze[_t++]),Xi<65536)Dt+=String.fromCharCode(Xi);else{var Eu=Xi-65536;Dt+=String.fromCharCode(55296|Eu>>10,56320|1023&Eu)}}else Dt+=String.fromCharCode((31&Xi)<<6|Ln)}else Dt+=String.fromCharCode(Xi)}return Dt},zl=[null,[],[]],vl=(ze,_t)=>{var Cn=zl[ze];kr(Cn),0===_t||10===_t?((1===ze?wi:si)(fc(Cn)),Cn.length=0):Cn.push(_t)},is=ze=>m2(ze),Io=(ze,_t,Cn,Li,So)=>{var Dt={string:Za=>{var jc=0;return null!=Za&&0!==Za&&(jc=(ze=>{var _t=(ze=>{for(var _t=0,Cn=0;Cn<ze.length;++Cn){var Li=ze.charCodeAt(Cn);Li<=127?_t++:Li<=2047?_t+=2:Li>=55296&&Li<=57343?(_t+=4,++Cn):_t+=3}return _t})(ze)+1,Cn=is(_t);return((ze,_t,Cn)=>{kr("number"==typeof Cn,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),((ze,_t,Cn,Li)=>{if(kr("string"==typeof ze,`stringToUTF8Array expects a string (got ${typeof ze})`),!(Li>0))return 0;for(var So=Cn,Dt=Cn+Li-1,Xi=0;Xi<ze.length;++Xi){var Ln=ze.charCodeAt(Xi);if(Ln>=55296&&Ln<=57343&&(Ln=65536+((1023&Ln)<<10)|1023&ze.charCodeAt(++Xi)),Ln<=127){if(Cn>=Dt)break;_t[Cn++]=Ln}else if(Ln<=2047){if(Cn+1>=Dt)break;_t[Cn++]=192|Ln>>6,_t[Cn++]=128|63&Ln}else if(Ln<=65535){if(Cn+2>=Dt)break;_t[Cn++]=224|Ln>>12,_t[Cn++]=128|Ln>>6&63,_t[Cn++]=128|63&Ln}else{if(Cn+3>=Dt)break;Ln>1114111&&ml("Invalid Unicode code point "+zo(Ln)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),_t[Cn++]=240|Ln>>18,_t[Cn++]=128|Ln>>12&63,_t[Cn++]=128|Ln>>6&63,_t[Cn++]=128|63&Ln}}_t[Cn]=0})(ze,Ql,_t,Cn)})(ze,Cn,_t),Cn})(Za)),jc},array:Za=>{var jc=is(Za.length);return((ze,_t)=>{kr(ze.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),Vl.set(ze,_t)})(Za,jc),jc}},Ln=(ze=>{var _t=gt["_"+ze];return kr(_t,"Cannot call unknown function "+ze+", make sure it is exported"),_t})(ze),vo=[],Eu=0;if(kr("array"!==_t,'Return type should not be "array".'),Li)for(var ud=0;ud<Li.length;ud++){var Oy=Dt[Cn[ud]];Oy?(0===Eu&&(Eu=v2()),vo[ud]=Oy(Li[ud])):vo[ud]=Li[ud]}var zf=Ln(...vo);return zf=function Go(Za){return 0!==Eu&&(ze=>{g2(ze)})(Eu),function Xi(Za){return"string"===_t?((ze,_t)=>(kr("number"==typeof ze,`UTF8ToString expects a number (got ${typeof ze})`),ze?fc(Ql,ze,_t):""))(Za):"boolean"===_t?!!Za:Za}(Za)}(zf),zf},Fy={_abort_js:()=>Qt("native code called abort()"),emscripten_resize_heap:ze=>{(ze=>{Qt(`Cannot enlarge memory arrays to size ${ze} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${Vl.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)})(ze>>>=0)},fd_close:ze=>{Qt("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},fd_seek:function Ac(ze,_t,Cn,Li){return _t=(ze=>ze<-9007199254740992||ze>9007199254740992?NaN:Number(ze))(_t),70},fd_write:(ze,_t,Cn,Li)=>{for(var So=0,Dt=0;Dt<Cn;Dt++){var Xi=At[_t>>2],Ln=At[_t+4>>2];_t+=8;for(var vo=0;vo<Ln;vo++)vl(ze,Ql[Xi+vo]);So+=Ln}return At[Li>>2]=So,0}},qr=yield function Rr(){return jr.apply(this,arguments)}(),Iw=(Mi("__wasm_call_ctors",0),gt._process_string=Mi("process_string",1),Mi("fflush",1),Mi("strerror",1),qr.emscripten_stack_init),Oh=qr.emscripten_stack_get_end,g2=qr._emscripten_stack_restore,m2=qr._emscripten_stack_alloc,v2=qr.emscripten_stack_get_current;if(gt.ccall=Io,gt.cwrap=(ze,_t,Cn,Li)=>(...So)=>Io(ze,_t,Cn,So),["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","getTempRet0","setTempRet0","zeroMemory","exitJS","growMemory","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","getDynCaller","dynCall","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","mmapAlloc","HandleAllocator","getNativeTypeSize","addOnInit","addOnPostCtor","addOnPreMain","addOnExit","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","initRandomFill","randomFill","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","Browser_asyncPrepareDataCounter","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_unlink","FS_createDataFile","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","stackTrace"].forEach(function gl(ze){Ms(ze)}),["run","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","stackAlloc","ptrToString","getHeapMax","abortOnCannotGrowMemory","ENV","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","jstoi_s","alignMemory","wasmTable","noExitRuntime","addOnPreRun","addOnPostRun","getCFunc","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","flush_NO_FILESYSTEM","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS_createPath","FS_createDevice","FS_readFile","FS","FS_createLazyFile","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr"].forEach(Ms),gt.preInit)for("function"==typeof gt.preInit&&(gt.preInit=[gt.preInit]);gt.preInit.length>0;)gt.preInit.pop()();(function Ja(){function ze(){kr(!Ry),Ry=!0,gt.calledRun=!0,!Qc&&(function He(){kr(!bs),bs=!0,oi(),qr.__wasm_call_ctors()}(),On(gt),gt.onRuntimeInitialized?.(),kr(!gt._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),function Je(){if(oi(),gt.postRun)for("function"==typeof gt.postRun&&(gt.postRun=[gt.postRun]);gt.postRun.length;)zi(gt.postRun.shift());Rh(Pi)}())}lt>0?Rt=Ja:(function _2(){Iw(),function Ii(){var ze=Oh();kr(!(3&ze)),0==ze&&(ze+=4),At[ze>>2]=34821223,At[ze+4>>2]=2310721022,At[0]=1668509029}()}(),function wu(){if(gt.preRun)for("function"==typeof gt.preRun&&(gt.preRun=[gt.preRun]);gt.preRun.length;)Hr(gt.preRun.shift());Rh(HA)}(),lt>0?Rt=Ja:(gt.setStatus?(gt.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>gt.setStatus(""),1),ze()},1)):ze(),oi()))})(),yn=Ge;for(const ze of Object.keys(gt))ze in rn||Object.defineProperty(rn,ze,{configurable:!0,get(){Qt(`Access to module property ('${ze}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return yn}));(()=>{var St=mt;mt=function(rn){if(new.target)throw new Error("Module() should not be called with `new Module()`");return St(rn)}})(),ir.exports=mt,ir.exports.default=mt},5210:(ir,Wn,_e)=>{"use strict";var Et={};_e.r(Et),_e.d(Et,{Decoder:()=>S8,Encoder:()=>WOe,PacketType:()=>as,protocol:()=>qOe});var mt=_e(3308);let rn=null,yn=!1,gt=1;const On=Symbol("SIGNAL");function wt(n){const e=rn;return rn=n,e}const Ct={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gt(n){if(yn)throw new Error("");if(null===rn)return;rn.consumerOnSignalRead(n);const e=rn.nextProducerIndex++;yi(rn),e<rn.producerNode.length&&rn.producerNode[e]!==n&&Qi(rn)&&Ds(rn.producerNode[e],rn.producerIndexOfThis[e]),rn.producerNode[e]!==n&&(rn.producerNode[e]=n,rn.producerIndexOfThis[e]=Qi(rn)?si(n,rn,e):0),rn.producerLastReadVersion[e]=n.version}function on(n){if((!Qi(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==gt)){if(!n.producerMustRecompute(n)&&!fr(n))return n.dirty=!1,void(n.lastCleanEpoch=gt);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=gt}}function Yr(n){if(void 0===n.liveConsumerNode)return;const e=yn;yn=!0;try{for(const t of n.liveConsumerNode)t.dirty||xi(t)}finally{yn=e}}function _s(){return!1!==rn?.consumerAllowSignalWrites}function xi(n){n.dirty=!0,Yr(n),n.consumerMarkedDirty?.(n)}function fr(n){yi(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(on(t),r!==t.version))return!0}return!1}function si(n,e,t){if(Di(n),yi(n),0===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=si(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ds(n,e){if(Di(n),yi(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Ds(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];yi(i),i.producerIndexOfThis[r]=e}}function Qi(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function yi(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Di(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}let Qc=function pl(){throw new Error};function UA(){Qc()}let Ih=null;function Ql(n,e){_s()||UA(),n.equal(n.value,e)||(n.value=e,function dt(n){n.version++,function tn(){gt++}(),Yr(n),Ih?.()}(n))}const kf={...Ct,equal:function St(n,e){return Object.is(n,e)},value:void 0};function hn(n){return"function"==typeof n}function bs(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Jr=bs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ii(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class oi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(hn(r))try{r()}catch(s){e=s instanceof Jr?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Ka(s)}catch(o){e=e??[],o instanceof Jr?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Jr(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ka(e);else{if(e instanceof oi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ii(t,e)}remove(e){const{_finalizers:t}=this;t&&Ii(t,e),e instanceof oi&&e._removeParent(this)}}oi.EMPTY=(()=>{const n=new oi;return n.closed=!0,n})();const Vo=oi.EMPTY;function zc(n){return n instanceof oi||n&&"closed"in n&&hn(n.remove)&&hn(n.add)&&hn(n.unsubscribe)}function Ka(n){hn(n)?n():n.unsubscribe()}const Xa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},oo={setTimeout(n,e,...t){const{delegate:r}=oo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=oo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function gl(n){oo.setTimeout(()=>{const{onUnhandledError:e}=Xa;if(!e)throw n;e(n)})}function Ms(){}const od=He("C",void 0,void 0);function He(n,e,t){return{kind:n,value:e,error:t}}let Je=null;function lt(n){if(Xa.useDeprecatedSynchronousErrorHandling){const e=!Je;if(e&&(Je={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Je;if(Je=null,t)throw r}}else n()}class zt extends oi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zc(e)&&e.add(this)):this.destination=ws}static create(e,t,r){return new Dn(e,t,r)}next(e){this.isStopped?Mi(function wu(n){return He("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Mi(function Fh(n){return He("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mi(od,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ht=Function.prototype.bind;function Tn(n,e){return Ht.call(n,e)}class sn{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Qt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Qt(r)}else Qt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Qt(t)}}}class Dn extends zt{constructor(e,t,r){let i;if(super(),hn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Xa.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tn(e.next,s),error:e.error&&Tn(e.error,s),complete:e.complete&&Tn(e.complete,s)}):i=e}this.destination=new sn(i)}}function Qt(n){Xa.useDeprecatedSynchronousErrorHandling?function Rt(n){Xa.useDeprecatedSynchronousErrorHandling&&Je&&(Je.errorThrown=!0,Je.error=n)}(n):gl(n)}function Mi(n,e){const{onStoppedNotification:t}=Xa;t&&oo.setTimeout(()=>t(n,e))}const ws={closed:!0,next:Ms,error:function Fr(n){throw n},complete:Ms},No="function"==typeof Symbol&&Symbol.observable||"@@observable";function us(n){return n}function Qo(n){return 0===n.length?us:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ci=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function kA(n){return n&&n instanceof zt||function fg(n){return n&&hn(n.next)&&hn(n.error)&&hn(n.complete)}(n)&&zc(n)}(t)?t:new Dn(t,r,i);return lt(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Gc(r))((i,s)=>{const o=new Dn({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[No](){return this}pipe(...t){return Qo(t)(this)}toPromise(t){return new(t=Gc(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Gc(n){var e;return null!==(e=n??Xa.Promise)&&void 0!==e?e:Promise}const pv=bs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Rr=(()=>{class n extends ci{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new jr(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new pv}next(t){lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Vo:(this.currentObservers=null,s.push(t),new oi(()=>{this.currentObservers=null,Ii(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ci;return t.source=this,t}}return n.create=(e,t)=>new jr(e,t),n})();class jr extends Rr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Vo}}class ds extends Rr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Rh(n){return hn(n?.lift)}function Pi(n){return e=>{if(Rh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function zi(n,e,t,r,i){return new HA(n,e,t,r,i)}class HA extends zt{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Hr(n,e){return Pi((t,r)=>{let i=0;t.subscribe(zi(r,s=>{r.next(n.call(e,s,i++))}))})}const VA=bs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ys(n,e){return Pi((t,r)=>{let i=0;t.subscribe(zi(r,s=>n.call(e,s,i++)&&r.next(s)))})}const zo=new ci(n=>n.complete());function mo(n){return n<=0?()=>zo:Pi((e,t)=>{let r=0;e.subscribe(zi(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ml(n){return Pi((e,t)=>{let r=!1;e.subscribe(zi(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ag(n=Ny){return Pi((e,t)=>{let r=!1;e.subscribe(zi(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ny(){return new VA}function ad(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ys((i,s)=>n(i,s,r)):us,mo(1),t?ml(e):Ag(()=>new VA))}const pg="https://g.co/ng/security#xss";class pt extends Error{constructor(e,t){super(function fc(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ts(n){return{toString:n}.toString()}const zl="__parameters__";function ld(n,e,t){return Ts(()=>{const r=function Qf(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(zl)?l[zl]:Object.defineProperty(l,zl,{value:[]})[zl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const rs=globalThis;function is(n){for(let e in n)if(n[e]===is)return e;throw Error("Could not find renamed property on target object.")}function Bw(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Io(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Io).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function gv(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Fy=is({__forward_ref__:is});function qr(n){return n.__forward_ref__=qr,n.toString=function(){return Io(this())},n}function ur(n){return mv(n)?n():n}function mv(n){return"function"==typeof n&&n.hasOwnProperty(Fy)&&n.__forward_ref__===qr}function cd(n,e,t){n!=e&&function Ar(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(t,n,e,"==")}function Dt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ln(n){return{providers:n.providers||[],imports:n.imports||[]}}function vo(n){return ud(n,Go)||ud(n,jc)}function ud(n,e){return n.hasOwnProperty(e)?n[e]:null}function zf(n){return n&&(n.hasOwnProperty(Za)||n.hasOwnProperty(OR))?n[Za]:null}const Go=is({\u0275prov:is}),Za=is({\u0275inj:is}),jc=is({ngInjectableDef:is}),OR=is({ngInjectorDef:is});class xn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Dt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Lw(n){return n&&!!n.\u0275providers}const yv=is({\u0275cmp:is}),Uw=is({\u0275dir:is}),kw=is({\u0275pipe:is}),C2=is({\u0275mod:is}),Ph=is({\u0275fac:is}),_v=is({__NG_ELEMENT_ID__:is}),E2=is({__NG_ENV_ID__:is});function Or(n){return"string"==typeof n?n:null==n?"":String(n)}function Hw(n,e){throw new pt(-201,!1)}var Ti=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ti||{});let Vw;function S2(){return Vw}function pc(n){const e=Vw;return Vw=n,e}function Ly(n,e,t){const r=vo(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ti.Optional?null:void 0!==e?e:void Hw()}const Lh={},Gf="__NG_DI_FLAG__",fs="ngTempTokenPath",Qw=/\n/gm,jA="__source";let jl;function ql(n){const e=jl;return jl=n,e}function ea(n,e=Ti.Default){if(void 0===jl)throw new pt(-203,!1);return null===jl?Ly(n,void 0,e):jl.get(n,e&Ti.Optional?null:void 0,e)}function Yt(n,e=Ti.Default){return(S2()||ea)(ur(n),e)}function Ve(n,e=Ti.Default){return Yt(n,dd(e))}function dd(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qA(n){const e=[];for(let t=0;t<n.length;t++){const r=ur(n[t]);if(Array.isArray(r)){if(0===r.length)throw new pt(900,!1);let i,s=Ti.Default;for(let o=0;o<r.length;o++){const a=r[o],l=D2(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Yt(i,s))}else e.push(Yt(r))}return e}function Cs(n,e){return n[Gf]=e,n.prototype[Gf]=e,n}function D2(n){return n[Gf]}const WA=Cs(ld("Optional"),8),bv=Cs(ld("SkipSelf"),4);function gc(n,e){return n.hasOwnProperty(Ph)?n[Ph]:null}function qc(n,e){n.forEach(t=>Array.isArray(t)?qc(t,e):e(t))}function zw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wv(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Wc(n,e,t){let r=Uh(n,e);return r>=0?n[1|r]=t:(r=~r,function bg(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Gw(n,e){const t=Uh(n,e);if(t>=0)return n[1|t]}function Uh(n,e){return function I2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Qd={},Wr=[],kh=new xn(""),F2=new xn("",-1),jw=new xn("");class $A{get(e,t=Lh){if(t===Lh){const r=new Error(`NullInjectorError: No provider for ${Io(e)}!`);throw r.name="NullInjectorError",r}return t}}var ky=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ky||{}),xu=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(xu||{}),Vr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Vr||{});function R2(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Hy(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Ww(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function qw(n){return 3===n||4===n||6===n}function Ww(n){return 64===n.charCodeAt(0)}function wg(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||$w(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function $w(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const O2="ng-template";function Vy(n,e,t,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==R2(e[i+1].toLowerCase(),t,0))return!0}else if(Kw(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&"string"==typeof(s=e[i]);)if(s.toLowerCase()===t)return!0}return!1}function Kw(n){return 4===n.type&&n.value!==O2}function zR(n,e,t){return e===(4!==n.type||t?n.value:O2)}function Xw(n,e,t){let r=4;const i=n.attrs,s=null!==i?function jR(n){for(let e=0;e<n.length;e++)if(qw(n[e]))return e;return n.length}(i):0;let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!zR(n,l,t)||""===l&&1===e.length){if(hd(r))return!1;o=!0}}else if(8&r){if(null===i||!Vy(n,i,l,t)){if(hd(r))return!1;o=!0}}else{const c=e[++a],u=P2(l,i,Kw(n),t);if(-1===u){if(hd(r))return!1;o=!0;continue}if(""!==c){let d;if(d=u>s?"":i[u+1].toLowerCase(),2&r&&c!==d){if(hd(r))return!1;o=!0}}}}else{if(!o&&!hd(r)&&!hd(l))return!1;if(o&&hd(l))continue;o=!1,r=l|1&r}}return hd(r)||o}function hd(n){return!(1&n)}function P2(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function qR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function L2(n,e,t=!1){for(let r=0;r<e.length;r++)if(Xw(n,e[r],t))return!0;return!1}function WR(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Cg(n,e){return n?":not("+e.trim()+")":e}function $R(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!hd(o)&&(e+=Cg(s,i),i=""),r=o,s=s||!hd(r);t++}return""!==i&&(e+=Cg(s,i)),e}function hr(n){return Ts(()=>{const e=U2(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ky.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xu.Emulated,styles:n.styles||Wr,_:null,schemas:n.schemas||null,tView:null,id:""};k2(t);const r=n.dependencies;return t.directiveDefs=KA(r,!1),t.pipeDefs=KA(r,!0),t.id=function ZR(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function XR(n){return _i(n)||ga(n)}function YR(n){return null!==n}function ui(n){return Ts(()=>({type:n.type,bootstrap:n.bootstrap||Wr,declarations:n.declarations||Wr,imports:n.imports||Wr,exports:n.exports||Wr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Cv(n,e){if(null==n)return Qd;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let s,o,a=Vr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==Vr.None?[r,a]:r,e[s]=o):t[s]=r}return t}function bn(n){return Ts(()=>{const e=U2(n);return k2(e),e})}function mc(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function _i(n){return n[yv]||null}function ga(n){return n[Uw]||null}function ta(n){return n[kw]||null}function _l(n,e){const t=n[C2]||null;if(!t&&!0===e)throw new Error(`Type ${Io(n)} does not have '\u0275mod' property.`);return t}function U2(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Qd,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Wr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cv(n.inputs,e),outputs:Cv(n.outputs),debugInfo:null}}function k2(n){n.features?.forEach(e=>e(n))}function KA(n,e){if(!n)return null;const t=e?ta:XR;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(YR)}function Eg(n){return{\u0275providers:n}}function eO(...n){return{\u0275providers:Yw(0,n),\u0275fromNgModule:!0}}function Yw(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return qc(e,o=>{const a=o;zy(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&H2(i,s),t}function H2(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Jw(i,s=>{e(s,r)})}}function zy(n,e,t,r){if(!(n=ur(n)))return!1;let i=null,s=zf(n);const o=!s&&_i(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=zf(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)zy(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{qc(s.imports,u=>{zy(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&H2(c,e)}if(!a){const c=gc(i)||(()=>new i);e({provide:i,useFactory:c,deps:Wr},i),e({provide:jw,useValue:i,multi:!0},i),e({provide:kh,useValue:()=>Yt(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;Jw(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function Jw(n,e){for(let t of n)Lw(t)&&(t=t.\u0275providers),Array.isArray(t)?Jw(t,e):e(t)}const tO=is({provide:String,useValue:is});function Ev(n){return null!==n&&"object"==typeof n&&tO in n}function $f(n){return"function"==typeof n}const Zw=new xn(""),Sg={},Gy={};let eC;function jy(){return void 0===eC&&(eC=new $A),eC}class el{}class xg extends el{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nC(e,o=>this.processProvider(o)),this.records.set(F2,Dg(void 0,this)),i.has("environment")&&this.records.set(el,Dg(void 0,this));const s=this.records.get(Zw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jw,Wr,Ti.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=wt(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),wt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ql(this),r=pc(void 0);try{return e()}finally{ql(t),pc(r)}}get(e,t=Lh,r=Ti.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(E2))return e[E2](this);r=dd(r);const s=ql(this),o=pc(void 0);try{if(!(r&Ti.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function oO(n){return"function"==typeof n||"object"==typeof n&&n instanceof xn}(e)&&vo(e);l=c&&this.injectableDefInScope(c)?Dg(tC(e),Sg):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Ti.Self?jy():this.parent).get(e,t=r&Ti.Optional&&t===Lh?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[fs]=a[fs]||[]).unshift(Io(e)),s)throw a;return function M2(n,e,t,r){const i=n[fs];throw e[jA]&&i.unshift(e[jA]),n.message=function T2(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Io(e);if(Array.isArray(e))i=e.map(Io).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Io(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Qw,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[fs]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{pc(o),ql(s)}}resolveInjectorInitializers(){const e=wt(null),t=ql(this),r=pc(void 0);try{const s=this.get(kh,Wr,Ti.Self);for(const o of s)o()}finally{ql(t),pc(r),wt(e)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Io(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pt(205,!1)}processProvider(e){let t=$f(e=ur(e))?e:ur(e&&e.provide);const r=function qy(n){return Ev(n)?Dg(void 0,n.useValue):Dg(z2(n),Sg)}(e);if(!$f(e)&&!0===e.multi){let i=this.records.get(t);i||(i=Dg(void 0,Sg,!0),i.factory=()=>qA(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){const r=wt(null);try{return t.value===Sg&&(t.value=Gy,t.value=t.factory()),"object"==typeof t.value&&t.value&&function sO(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{wt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ur(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function tC(n){const e=vo(n),t=null!==e?e.factory:gc(n);if(null!==t)return t;if(n instanceof xn)throw new pt(204,!1);if(n instanceof Function)return function rO(n){if(n.length>0)throw new pt(204,!1);const t=function Oy(n){return n&&(n[Go]||n[jc])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new pt(204,!1)}function z2(n,e,t){let r;if($f(n)){const i=ur(n);return gc(i)||tC(i)}if(Ev(n))r=()=>ur(n.useValue);else if(function Q2(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...qA(n.deps||[]));else if(function V2(n){return!(!n||!n.useExisting)}(n))r=()=>Yt(ur(n.useExisting));else{const i=ur(n&&(n.useClass||n.provide));if(!function iO(n){return!!n.deps}(n))return gc(i)||tC(i);r=()=>new i(...qA(n.deps))}return r}function Dg(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function nC(n,e){for(const t of n)Array.isArray(t)?nC(t,e):t&&Lw(t)?nC(t.\u0275providers,e):e(t)}function zd(n,e){n instanceof xg&&n.assertNotDestroyed();const r=ql(n),i=pc(void 0);try{return e()}finally{ql(r),pc(i)}}function G2(){return void 0!==S2()||null!=function VR(){return jl}()}const yo=0,mn=1,sr=2,jo=3,Bs=4,bl=5,$c=6,Tg=7,Js=8,ra=9,Du=10,wr=11,Dv=12,W2=13,Bg=14,xo=15,Mv=16,XA=17,Bn=18,Tv=19,$2=20,Gd=21,Kc=22,YA=23,Br=25,JA=1,Kf=6,jd=7,Ng=9,js=10;var Bv=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Bv||{});function Na(n){return Array.isArray(n)&&"object"==typeof n[JA]}function wl(n){return Array.isArray(n)&&!0===n[JA]}function Xy(n){return!!(4&n.flags)}function ZA(n){return n.componentOffset>-1}function Ig(n){return!(1&~n.flags)}function fd(n){return!!n.template}function iC(n){return!!(512&n[sr])}class tD{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function cC(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}function qo(){return nD}function nD(n){return n.type.prototype.ngOnChanges&&(n.setInput=EO),CO}function CO(){const n=Yy(this),e=n?.current;if(e){const t=n.previous;if(t===Qd)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function EO(n,e,t,r,i){const s=this.declaredInputs[r],o=Yy(n)||function SO(n,e){return n[Xc]=e}(n,{previous:Qd,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new tD(c&&c.currentValue,t,l===Qd),cC(n,e,i,t)}qo.ngInherit=!0;const Xc="__ngSimpleChanges__";function Yy(n){return n[Xc]||null}const qd=function(n,e,t){};let sD=!1;function Ns(n){for(;Array.isArray(n);)n=n[yo];return n}function ep(n,e){return Ns(e[n])}function Cl(n,e){return Ns(e[n.index])}function Hh(n,e){return n.data[e]}function Fg(n,e){return n[e]}function Yc(n,e){const t=e[n];return Na(t)?t:t[yo]}function Nv(n){return!(128&~n[sr])}function Wd(n,e){return null==e?null:n[e]}function aD(n){n[XA]=0}function TO(n){1024&n[sr]||(n[sr]|=1024,Nv(n)&&Iv(n))}function hC(n){return!!(9216&n[sr]||n[YA]?.dirty)}function fC(n){n[Du].changeDetectionScheduler?.notify(1),hC(n)?Iv(n):64&n[sr]&&(function DO(){return sD}()?(n[sr]|=1024,Iv(n)):n[Du].changeDetectionScheduler?.notify())}function Iv(n){n[Du].changeDetectionScheduler?.notify();let e=Xf(n);for(;null!==e&&!(8192&e[sr])&&(e[sr]|=8192,Nv(e));)e=Xf(e)}function Fv(n,e){if(!(256&~n[sr]))throw new pt(911,!1);null===n[Gd]&&(n[Gd]=[]),n[Gd].push(e)}function Xf(n){const e=n[jo];return wl(e)?e[jo]:e}const yr={lFrame:yD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Rv(){return yr.bindingsEnabled}function Vh(){return null!==yr.skipHydrationRootTNode}function Tt(){return yr.lFrame.lView}function Bi(){return yr.lFrame.tView}function zn(n){return yr.lFrame.contextLView=n,n[Js]}function $n(n){return yr.lFrame.contextLView=null,n}function Es(){let n=hD();for(;null!==n&&64===n.type;)n=n.parent;return n}function hD(){return yr.lFrame.currentTNode}function Ov(){const n=yr.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ad(n,e){const t=yr.lFrame;t.currentTNode=n,t.isParent=e}function Yf(){return yr.lFrame.isParent}function Pv(){yr.lFrame.isParent=!1}function Wl(){const n=yr.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Jc(){return yr.lFrame.bindingIndex++}function $d(n){const e=yr.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function t_(n){yr.lFrame.inI18n=n}function pD(n,e){const t=yr.lFrame;t.bindingIndex=t.bindingRootIndex=n,gC(e)}function gC(n){yr.lFrame.currentDirectiveIndex=n}function Og(){return yr.lFrame.currentQueryIndex}function Lv(n){yr.lFrame.currentQueryIndex=n}function mD(n){const e=n[mn];return 2===e.type?e.declTNode:1===e.type?n[bl]:null}function vD(n,e,t){if(t&Ti.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Ti.Host||(i=mD(s),null===i||(s=s[Bg],10&i.type))););if(null===i)return!1;e=i,n=s}const r=yr.lFrame=mC();return r.currentTNode=e,r.lView=n,!0}function n_(n){const e=mC(),t=n[mn];yr.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function mC(){const n=yr.lFrame,e=null===n?null:n.child;return null===e?yD(n):e}function yD(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function _D(){const n=yr.lFrame;return yr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const tp=_D;function r_(){const n=_D();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Fo(){return yr.lFrame.selectedIndex}function Mu(n){yr.lFrame.selectedIndex=n}function Yi(){const n=yr.lFrame;return Hh(n.tView,n.selectedIndex)}function vC(){return yr.lFrame.currentNamespace}let yC=!0;function np(){return yC}function vc(n){yC=n}function kv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function rp(n,e,t){CD(n,e,3,t)}function i_(n,e,t,r){(3&n[sr])===t&&CD(n,e,t,r)}function _C(n,e){let t=n[sr];(3&t)===e&&(t&=16383,t+=1,n[sr]=t)}function CD(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[XA]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[XA]+=65536),(a<s||-1==s)&&(RO(n,t,e,l),n[XA]=(4294901760&n[XA])+l+2),l++}function ED(n,e){qd(4,n,e);const t=wt(null);try{e.call(n)}finally{wt(t),qd(5,n,e)}}function RO(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[sr]>>14<n[XA]>>16&&(3&n[sr])===e&&(n[sr]+=16384,ED(a,s)):ED(a,s)}const Jf=-1;class Hv{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function CC(n){return n!==Jf}function Vv(n){return 32767&n}function Qv(n,e){let t=function xD(n){return n>>16}(n),r=e;for(;t>0;)r=r[Bg],t--;return r}let EC=!0;function s_(n){const e=EC;return EC=n,e}const DD=255,o_=5;let kO=0;const Tu={};function Fn(n,e){const t=zv(n,e);if(-1!==t)return t;const r=e[mn];r.firstCreatePass&&(n.injectorIndex=e.length,Zf(r.data,n),Zf(e,null),Zf(r.blueprint,null));const i=$l(n,e),s=n.injectorIndex;if(CC(i)){const o=Vv(i),a=Qv(i,e),l=a[mn].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Zf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function zv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function $l(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=DC(i),null===r)return Jf;if(t++,i=i[Bg],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Jf}function SC(n,e,t){!function HO(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(_v)&&(r=t[_v]),null==r&&(r=t[_v]=kO++);const i=r&DD;e.data[n+(i>>o_)]|=1<<i}(n,e,t)}function ao(n,e,t){if(t&Ti.Optional||void 0!==n)return n;Hw()}function Gv(n,e,t,r){if(t&Ti.Optional&&void 0===r&&(r=null),!(t&(Ti.Self|Ti.Host))){const i=n[ra],s=pc(void 0);try{return i?i.get(e,r,t&Ti.Optional):Ly(e,r,t&Ti.Optional)}finally{pc(s)}}return ao(r,0,t)}function MD(n,e,t,r=Ti.Default,i){if(null!==n){if(2048&e[sr]&&!(r&Ti.Self)){const o=function zO(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[sr]&&!(512&o[sr]);){const a=jv(s,o,t,r|Ti.Self,Tu);if(a!==Tu)return a;let l=s.parent;if(!l){const c=o[$2];if(c){const u=c.get(t,Tu,r);if(u!==Tu)return u}l=DC(o),o=o[Bg]}s=l}return i}(n,e,t,r,Tu);if(o!==Tu)return o}const s=jv(n,e,t,r,Tu);if(s!==Tu)return s}return Gv(e,t,r,i)}function jv(n,e,t,r,i){const s=function QO(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(_v)?n[_v]:void 0;return"number"==typeof e?e>=0?e&DD:BD:e}(t);if("function"==typeof s){if(!vD(e,n,r))return r&Ti.Host?ao(i,0,r):Gv(e,t,r,i);try{let o;if(o=s(r),null!=o||r&Ti.Optional)return o;Hw()}finally{tp()}}else if("number"==typeof s){let o=null,a=zv(n,e),l=Jf,c=r&Ti.Host?e[xo][bl]:null;for((-1===a||r&Ti.SkipSelf)&&(l=-1===a?$l(n,e):e[a+8],l!==Jf&&TD(r,!1)?(o=e[mn],a=Vv(l),e=Qv(l,e)):a=-1);-1!==a;){const u=e[mn];if(xC(s,a,u.data)){const d=VO(a,e,t,o,r,c);if(d!==Tu)return d}l=e[a+8],l!==Jf&&TD(r,e[mn].data[a+8]===c)&&xC(s,a,e)?(o=u,a=Vv(l),e=Qv(l,e)):a=-1}}return i}function VO(n,e,t,r,i,s){const o=e[mn],a=o.data[n+8],u=ip(a,o,t,null==r?ZA(a)&&EC:r!=o&&!!(3&a.type),i&Ti.Host&&s===a);return null!==u?sp(e,o,u,a):Tu}function ip(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,f=i?a+u:n.directiveEnd;for(let h=r?a:a+u;h<f;h++){const A=o[h];if(h<l&&t===A||h>=l&&A.type===t)return h}if(i){const h=o[l];if(h&&fd(h)&&h.type===t)return l}return null}function sp(n,e,t,r){let i=n[t];const s=e.data;if(function OO(n){return n instanceof Hv}(i)){const o=i;o.resolving&&function PR(n,e){throw e&&e.join(" > "),new pt(-200,n)}(function hs(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Or(n)}(s[t]));const a=s_(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?pc(o.injectImpl):null;vD(n,r,Ti.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function wD(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=nD(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&pc(c),s_(a),o.resolving=!1,tp()}}return i}function xC(n,e,t){return!!(t[e+(n>>o_)]&1<<n)}function TD(n,e){return!(n&Ti.Self||n&Ti.Host&&e)}class ia{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return MD(this._tNode,this._lView,e,dd(r),t)}}function BD(){return new ia(Es(),Tt())}function Fs(n){return Ts(()=>{const e=n.prototype.constructor,t=e[Ph]||a_(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ph]||a_(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function a_(n){return mv(n)?()=>{const e=a_(ur(n));return e&&e()}:gc(n)}function DC(n){const e=n[mn],t=e.type;return 2===t?e.declTNode:1===t?n[bl]:null}function ID(n,e=null,t=null,r){const i=TC(n,e,t,r);return i.resolveInjectorInitializers(),i}function TC(n,e=null,t=null,r,i=new Set){const s=[t||Wr,eO(n)];return r=r||("object"==typeof n?void 0:Io(n)),new xg(s,e||jy(),r||null,i)}let Ro=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Lh}static{this.NULL=new $A}static create(t,r){if(Array.isArray(t))return ID({name:""},r,t,"");{const i=t.name??"";return ID({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=Dt({token:n,providedIn:"any",factory:()=>Yt(F2)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function BC(n){return n.ngOriginalError}class pd{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&BC(e);for(;t&&BC(t);)t=BC(t);return t||null}}const RD=new xn("",{providedIn:"root",factory:()=>Ve(pd).handleError.bind(void 0)});let Kd=(()=>{class n{static{this.__NG_ELEMENT_ID__=XO}static{this.__NG_ENV_ID__=t=>t}}return n})();class KO extends Kd{constructor(e){super(),this._lView=e}onDestroy(e){return Fv(this._lView,e),()=>function Jy(n,e){if(null===n[Gd])return;const t=n[Gd].indexOf(e);-1!==t&&n[Gd].splice(t,1)}(this._lView,e)}}function XO(){return new KO(Tt())}function x(){return E(Es(),Tt())}function E(n,e){return new N(Cl(n,e))}let N=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=x}}return n})();function I(n){return n instanceof N?n.nativeElement:n}function Z(n){return e=>{setTimeout(n,void 0,e)}}const ie=class z extends Rr{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,G2()&&(this.destroyRef=Ve(Kd,{optional:!0})??void 0)}emit(e){const t=wt(null);try{super.next(e)}finally{wt(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Z(s),i&&(i=Z(i)),o&&(o=Z(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof oi&&e.add(a),a}};function De(){return this._results[Symbol.iterator]()}class xe{get changes(){return this._changes??=new ie}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=xe.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=De)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function As(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function jf(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const qe="ngSkipHydration",et="ngskiphydration";function ct(n){const e=n.mergedAttrs;if(null===e)return!1;for(let t=0;t<e.length;t+=2){const r=e[t];if("number"==typeof r)return!1;if("string"==typeof r&&r.toLowerCase()===et)return!0}return!1}function Bt(n){return n.hasAttribute(qe)}function Un(n){return!(128&~n.flags)}const Nn=new Map;let ai=0;const Cr="__ngContext__";function ki(n,e){Na(e)?(n[Cr]=e[Tv],function Yn(n){Nn.set(n[Tv],n)}(e)):n[Cr]=e}function nA(n){return up(n[Dv])}function Xd(n){return up(n[Bs])}function up(n){for(;null!==n&&!wl(n);)n=n[Bs];return n}let YO;function Hg(){if(void 0!==YO)return YO;if(typeof document<"u")return document;throw new pt(210,!1)}const PD=new xn("",{providedIn:"root",factory:()=>Lue}),Lue="ng",KV=new xn(""),Yd=new xn("",{providedIn:"platform",factory:()=>"unknown"}),JO=new xn(""),XV=new xn("",{providedIn:"root",factory:()=>Hg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Hue(){const n=new u_;return"browser"===Ve(Yd)&&(n.store=function Vue(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(Hg(),Ve(PD))),n}let u_=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=Dt({token:n,providedIn:"root",factory:Hue})}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const ZO="h",eP="b";var d_=function(n){return n.FirstChild="f",n.NextSibling="n",n}(d_||{});const tP="e",nP="t",NC="c",LD="x",h_="r",rP="i",iP="n",UD="d",sP="__nghData__",IC="ngh",Que="nghm";let YV=()=>null;function zue(n,e,t=!1){let r=n.getAttribute(IC);if(null==r)return null;const[i,s]=r.split("|");if(r=t?s:i,!r)return null;const a=t?i:s?`|${s}`:"";let l={};if(""!==r){const u=e.get(u_,null,{optional:!0});null!==u&&(l=u.get(sP,[])[Number(r)])}const c={data:l,firstChild:n.firstChild??null};return t&&(c.firstChild=n,kD(c,0,n.nextSibling)),a?n.setAttribute(IC,a):n.removeAttribute(IC),c}function oP(n,e,t=!1){return YV(n,e,t)}function JV(n){let e=n._lView;return 2===e[mn].type?null:(iC(e)&&(e=e[Br]),e)}function kD(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function lP(n,e){return n.segmentHeads?.[e]??null}function eQ(n,e){return n.data[NC]?.[e]??null}function cP(n,e){const t=eQ(n,e)??[];let r=0;for(let i of t)r+=i[h_]*(i[LD]??1);return r}function HD(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data[UD];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}const VD=new xn(""),nQ=new xn("",{providedIn:"root",factory:()=>!1}),rQ=new xn("");let QD,zD;function f_(n){return function uP(){if(void 0===QD&&(QD=null,rs.trustedTypes))try{QD=rs.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return QD}()?.createHTML(n)||n}function oQ(n){return function dP(){if(void 0===zD&&(zD=null,rs.trustedTypes))try{zD=rs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zD}()?.createScriptURL(n)||n}class aQ{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pg})`}}function Vg(n){return n instanceof aQ?n.changingThisBreaksApplicationSecurity:n}function OC(n,e){const t=function rde(n){return n instanceof aQ&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${pg})`)}return t===e}class ide{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(f_(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class sde{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=f_(e),t}}const ade=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hP(n){return(n=String(n)).match(ade)?n:"unsafe:"+n}function dp(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function PC(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const cQ=dp("area,br,col,hr,img,wbr"),uQ=dp("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dQ=dp("rp,rt"),fP=PC(cQ,PC(uQ,dp("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),PC(dQ,dp("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),PC(dQ,uQ)),AP=dp("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hQ=PC(AP,dp("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dp("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var A_=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(A_||{});function Do(n){const e=LC();return e?e.sanitize(A_.URL,n)||"":OC(n,"URL")?Vg(n):hP(Or(n))}function gQ(n){const e=LC();if(e)return oQ(e.sanitize(A_.RESOURCE_URL,n)||"");if(OC(n,"ResourceURL"))return oQ(Vg(n));throw new pt(904,!1)}function LC(){const n=Tt();return n&&n[Du].sanitizer}const Cde=/^>|^->|<!--|-->|--!>|<!-$/g,Ede=/(<|>)/g,Sde="\u200b$1\u200b";function bQ(n){return n.ownerDocument.defaultView}function md(n){return n instanceof Function?n():n}function Wh(n){return"browser"===(n??Ve(Ro)).get(Yd)}var Qg=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Qg||{});let yP;function _P(n,e){return yP(n,e)}function g_(n,e,t,r,i){if(null!=r){let s,o=!1;wl(r)?s=r:Na(r)&&(o=!0,r=r[yo]);const a=Ns(r);0===n&&null!==t?null==i?BQ(e,t,a):Wv(e,t,a,i||null,!0):1===n&&null!==t?Wv(e,t,a,i||null,!0):2===n?HC(e,a,o):3===n&&e.destroyNode(a),null!=s&&function qde(n,e,t,r,i){const s=t[jd];s!==Ns(t)&&g_(e,n,r,s,i);for(let a=js;a<t.length;a++){const l=t[a];YD(l[mn],l,n,e,r,s)}}(e,n,s,t,i)}}function bP(n,e){return n.createText(e)}function wP(n,e){return n.createComment(function vQ(n){return n.replace(Cde,e=>e.replace(Ede,Sde))}(e))}function WD(n,e,t){return n.createElement(e,t)}function DQ(n,e){e[Du].changeDetectionScheduler?.notify(1),YD(n,e,e[wr],2,null,null)}function MQ(n,e){const t=n[Ng],r=t.indexOf(e);t.splice(r,1)}function UC(n,e){if(n.length<=js)return;const t=js+e,r=n[t];if(r){const i=r[Mv];null!==i&&i!==n&&MQ(i,r),e>0&&(n[t-1][Bs]=r[Bs]);const s=wv(n,js+e);!function Pde(n,e){DQ(n,e),e[yo]=null,e[bl]=null}(r[mn],r);const o=s[Bn];null!==o&&o.detachView(s[mn]),r[jo]=null,r[Bs]=null,r[sr]&=-129}return r}function $D(n,e){if(!(256&e[sr])){const t=e[wr];t.destroyNode&&YD(n,e,t,3,null,null),function Ude(n){let e=n[Dv];if(!e)return CP(n[mn],n);for(;e;){let t=null;if(Na(e))t=e[Dv];else{const r=e[js];r&&(t=r)}if(!t){for(;e&&!e[Bs]&&e!==n;)Na(e)&&CP(e[mn],e),e=e[jo];null===e&&(e=n),Na(e)&&CP(e[mn],e),t=e&&e[Bs]}e=t}}(e)}}function CP(n,e){if(256&e[sr])return;const t=wt(null);try{e[sr]&=-129,e[sr]|=256,e[YA]&&function wi(n){if(yi(n),Qi(n))for(let e=0;e<n.producerNode.length;e++)Ds(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[YA]),function Qde(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Hv)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];qd(4,a,l);try{l.call(a)}finally{qd(5,a,l)}}else{qd(4,i,s);try{s.call(i)}finally{qd(5,i,s)}}}}}(n,e),function Vde(n,e){const t=n.cleanup,r=e[Tg];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Tg]=null);const i=e[Gd];if(null!==i){e[Gd]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[mn].type&&e[wr].destroy();const r=e[Mv];if(null!==r&&wl(e[jo])){r!==e[jo]&&MQ(r,e);const i=e[Bn];null!==i&&i.detachView(n)}!function di(n){Nn.delete(n[Tv])}(e)}finally{wt(t)}}function EP(n,e,t){return TQ(n,e.parent,t)}function TQ(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[yo];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===xu.None||s===xu.Emulated)return null}return Cl(r,t)}}function Wv(n,e,t,r,i){n.insertBefore(e,t,r,i)}function BQ(n,e,t){n.appendChild(e,t)}function NQ(n,e,t,r,i){null!==r?Wv(n,e,t,r,i):BQ(n,e,t)}function KD(n,e){return n.parentNode(e)}function IQ(n,e,t){return RQ(n,e,t)}function FQ(n,e,t){return 40&n.type?Cl(n,t):null}let SP,RQ=FQ;function OQ(n,e){RQ=n,SP=e}function XD(n,e,t,r){const i=EP(n,r,e),s=e[wr],a=IQ(r.parent||e[bl],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)NQ(s,i,t[l],a,!1);else NQ(s,i,t,a,!1);void 0!==SP&&SP(s,r,e,t,i)}function kC(n,e){if(null!==e){const t=e.type;if(3&t)return Cl(e,n);if(4&t)return xP(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return kC(n,r);{const i=n[e.index];return wl(i)?xP(-1,i):Ns(i)}}if(32&t)return _P(e,n)()||Ns(n[e.index]);{const r=PQ(n,e);return null!==r?Array.isArray(r)?r[0]:kC(Xf(n[xo]),r):kC(n,e.next)}}return null}function PQ(n,e){return null!==e?n[xo][bl].projection[e.projection]:null}function xP(n,e){const t=js+n+1;if(t<e.length){const r=e[t],i=r[mn].firstChild;if(null!==i)return kC(r,i)}return e[jd]}function HC(n,e,t){const r=KD(n,e);r&&function zde(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}function LQ(n){n.textContent=""}function DP(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&ki(Ns(a),r),t.flags|=2),32&~t.flags)if(8&l)DP(n,e,t.child,r,i,s,!1),g_(e,n,i,a,s);else if(32&l){const c=_P(t,r);let u;for(;u=c();)g_(e,n,i,u,s);g_(e,n,i,a,s)}else 16&l?UQ(n,e,r,t,i,s):g_(e,n,i,a,s);t=o?t.projectionNext:t.next}}function YD(n,e,t,r,i,s){DP(t,r,n.firstChild,e,i,s,!1)}function UQ(n,e,t,r,i,s){const o=t[xo],l=o[bl].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)g_(e,n,i,l[c],s);else{let c=l;const u=o[jo];Un(r)&&(c.flags|=128),DP(n,e,c,u,i,s,!0)}}function kQ(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function HQ(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Hy(n,e,r),null!==i&&kQ(n,e,i),null!==s&&function $de(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}const Zr={};function Te(n=1){VQ(Bi(),Tt(),Fo()+n,!1)}function VQ(n,e,t,r){if(!r)if(3&~e[sr]){const s=n.preOrderHooks;null!==s&&i_(e,s,0,t)}else{const s=n.preOrderCheckHooks;null!==s&&rp(e,s,t)}Mu(t)}function vt(n,e=Ti.Default){const t=Tt();return null===t?Yt(n,e):MD(Es(),t,ur(n),e)}function zQ(n,e,t,r,i,s){const o=wt(null);try{let a=null;i&Vr.SignalBased&&(a=e[r][On]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&Vr.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),null!==n.setInput?n.setInput(e,a,s,t,r):cC(e,a,r,s)}finally{wt(o)}}function JD(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[yo]=i,d[sr]=204|r,(null!==c||n&&2048&n[sr])&&(d[sr]|=2048),aD(d),d[jo]=d[Bg]=n,d[Js]=t,d[Du]=o||n&&n[Du],d[wr]=a||n&&n[wr],d[ra]=l||n&&n[ra]||null,d[bl]=s,d[Tv]=function er(){return ai++}(),d[$c]=u,d[$2]=c,d[xo]=2==e.type?n[xo]:d,d}function m_(n,e,t,r,i){let s=n.data[e];if(null===s)s=MP(n,e,t,r,i),function AD(){return yr.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=Ov();s.injectorIndex=null===o?-1:o.injectorIndex}return Ad(s,!0),s}function MP(n,e,t,r,i){const s=hD(),o=Yf(),l=n.data[e]=function nhe(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Vh()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}function VC(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function GQ(n,e,t,r,i){const s=Fo(),o=2&r;try{Mu(-1),o&&e.length>Br&&VQ(n,e,Br,!1),qd(o?2:0,i),t(r,i)}finally{Mu(s),qd(o?3:1,i)}}function TP(n,e,t){if(Xy(e)){const r=wt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{wt(r)}}}function BP(n,e,t){Rv()&&(function che(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;ZA(t)&&function ghe(n,e,t){const r=Cl(e,n),i=jQ(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=ZD(n,JD(n,i,null,o,r,e,null,n[Du].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Fn(t,e),ki(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=sp(e,n,a,t);ki(c,e),null!==o&&mhe(0,a-i,c,l,0,o),fd(l)&&(Yc(t.index,e)[Js]=sp(e,n,a,t))}}(n,e,t,Cl(t,e)),!(64&~t.flags)&&XQ(n,e,t))}function NP(n,e,t=Cl){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function jQ(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=IP(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function IP(n,e,t,r,i,s,o,a,l,c,u){const d=Br+r,f=d+i,h=function Xde(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Zr);return t}(d,f),A="function"==typeof c?c():c;return h[mn]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:u}}let qQ=()=>null;function Zde(n){Bt(n)?LQ(n):function que(n){const e=Hg(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(s){const o=function jue(n){return n.textContent?.replace(/\s/gm,"")}(s);return"ngetn"===o||"ngtns"===o?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=t.nextNode();)i.push(r);for(const s of i)"ngetn"===s.textContent?s.replaceWith(e.createTextNode("")):s.remove()}(n)}function WQ(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(void 0===o)continue;r??={};let a,l=Vr.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(null!==i){if(!i.hasOwnProperty(s))continue;c=i[s]}0===n?$Q(r,t,c,a,l):$Q(r,t,c,a)}return r}function $Q(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],void 0!==i&&s.push(i)}function Bu(n,e,t,r,i,s,o,a){const l=Cl(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(LP(n,t,u,r,i),ZA(e)&&function she(n,e){const t=Yc(e,n);16&t[sr]||(t[sr]|=64)}(t,e.index)):3&e.type&&(r=function ihe(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function FP(n,e,t,r){if(Rv()){const i=null===r?null:{"":-1},s=function dhe(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(L2(e,o.selectors,!1))if(r||(r=[]),fd(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),RP(n,e,a.length)}else r.unshift(o),RP(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&KQ(n,e,t,o,i,a),i&&function hhe(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new pt(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=wg(t.mergedAttrs,t.attrs)}function KQ(n,e,t,r,i,s){for(let c=0;c<r.length;c++)SC(Fn(t,e),n,r[c].type);!function Ahe(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=VC(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=wg(t.mergedAttrs,u.hostAttrs),phe(n,t,e,l,u),fhe(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function rhe(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=t?t.get(d):null,A=f?f.outputs:null;l=WQ(0,d.inputs,u,l,f?f.inputs:null),c=WQ(1,d.outputs,u,c,A);const p=null===l||null===o||Kw(e)?null:vhe(l,u,o);a.push(p)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function XQ(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function gD(){return yr.lFrame.currentDirectiveIndex}();try{Mu(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];gC(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&uhe(l,c)}}finally{Mu(-1),gC(o)}}function uhe(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function RP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function fhe(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;fd(e)&&(t[""]=n)}}function phe(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=gc(i.type)),o=new Hv(s,fd(i),vt);n.blueprint[r]=o,t[r]=o,function ahe(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function lhe(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,VC(n,t,i.hostVars,Zr),i)}function iA(n,e,t,r,i,s){const o=Cl(n,e);!function OP(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Or(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[wr],o,s,n.value,t,r,i)}function mhe(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)zQ(r,t,o[a++],o[a++],o[a++],o[a++])}function vhe(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function YQ(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function JQ(n,e){const t=n.contentQueries;if(null!==t){const r=wt(null);try{for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const a=n.data[o];Lv(t[i]),a.contentQueries(2,e[o],o)}}}finally{wt(r)}}}function ZD(n,e){return n[Dv]?n[W2][Bs]=e:n[Dv]=e,n[W2]=e,e}function PP(n,e,t){Lv(0);const r=wt(null);try{e(n,t)}finally{wt(r)}}function ZQ(n){return n[Tg]||(n[Tg]=[])}function ez(n){return n.cleanup||(n.cleanup=[])}function eM(n,e){const t=n[ra],r=t?t.get(pd,null):null;r&&r.handleError(e)}function LP(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=t[s++];zQ(n.data[o],e[o],r,a,l,i)}}function hp(n,e,t){const r=ep(e,n);!function xQ(n,e,t){n.setValue(e,t)}(n[wr],r,t)}function yhe(n,e){const t=Yc(e,n),r=t[mn];!function _he(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[yo];null!==i&&null===t[$c]&&(t[$c]=oP(i,t[ra])),UP(r,t,t[Js])}function UP(n,e,t){n_(e);try{const r=n.viewQuery;null!==r&&PP(1,r,t);const i=n.template;null!==i&&GQ(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Bn]?.finishViewCreation(n),n.staticContentQueries&&JQ(n,e),n.staticViewQueries&&PP(2,n.viewQuery,t);const s=n.components;null!==s&&function bhe(n,e){for(let t=0;t<e.length;t++)yhe(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[sr]&=-5,r_()}}function QC(n,e,t,r){const i=wt(null);try{const s=e.tView,l=JD(n,s,t,4096&n[sr]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[Mv]=n[e.index];const u=n[Bn];return null!==u&&(l[Bn]=u.createEmbeddedView(s)),UP(s,l,t),l}finally{wt(i)}}function nz(n,e){const t=js+e;if(t<n.length)return n[t]}function v_(n,e){return!e||null===e.firstChild||Un(n)}function zC(n,e,t,r=!0){const i=e[mn];if(function kde(n,e,t,r){const i=js+r,s=t.length;r>0&&(t[i-1][Bs]=e),r<s-js?(e[Bs]=t[i],zw(t,js+r,e)):(t.push(e),e[Bs]=null),e[jo]=t;const o=e[Mv];null!==o&&t!==o&&function Hde(n,e){const t=n[Ng];e[xo]!==e[jo][jo][xo]&&(n[sr]|=Bv.HasTransplantedViews),null===t?n[Ng]=[e]:t.push(e)}(o,e);const a=e[Bn];null!==a&&a.insertView(n),fC(e),e[sr]|=128}(i,e,n,t),r){const o=xP(t,n),a=e[wr],l=KD(a,n[jd]);null!==l&&function Lde(n,e,t,r,i,s){r[yo]=i,r[bl]=e,YD(n,r,t,1,i,s)}(i,n[bl],a,e,l,o)}const s=e[$c];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function kP(n,e){const t=UC(n,e);return void 0!==t&&$D(t[mn],t),t}function GC(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(Ns(s)),wl(s)&&rz(s,r);const o=t.type;if(8&o)GC(n,e,t.child,r);else if(32&o){const a=_P(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=PQ(e,t);if(Array.isArray(a))r.push(...a);else{const l=Xf(e[xo]);GC(l[mn],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function rz(n,e){for(let t=js;t<n.length;t++){const r=n[t],i=r[mn].firstChild;null!==i&&GC(r[mn],r,i,e)}n[jd]!==n[yo]&&e.push(n[jd])}let iz=[];const She={...Ct,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Iv(n.lView)},consumerOnSignalRead(){this.lView[YA]=this}},sz=100;function tM(n,e=!0,t=0){const r=n[Du],i=r.rendererFactory;i.begin?.();try{!function xhe(n,e){HP(n,e);let t=0;for(;hC(n);){if(t===sz)throw new pt(103,!1);t++,HP(n,1)}}(n,t)}catch(o){throw e&&eM(n,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function Dhe(n,e,t,r){const i=e[sr];if(!(256&~i))return;e[Du].inlineEffectRunner?.flush(),n_(e);let o=null,a=null;(function Mhe(n){return 2!==n.type})(n)&&(a=function whe(n){return n[YA]??function Che(n){const e=iz.pop()??Object.create(She);return e.lView=n,e}(n)}(e),o=function xs(n){return n&&(n.nextProducerIndex=0),wt(n)}(a));try{aD(e),function pC(n){return yr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&GQ(n,e,t,2,r);const l=!(3&~i);if(l){const d=n.preOrderCheckHooks;null!==d&&rp(e,d,null)}else{const d=n.preOrderHooks;null!==d&&i_(e,d,0,null),_C(e,0)}if(function The(n){for(let e=nA(n);null!==e;e=Xd(e)){if(!(e[sr]&Bv.HasTransplantedViews))continue;const t=e[Ng];for(let r=0;r<t.length;r++){TO(t[r])}}}(e),oz(e,0),null!==n.contentQueries&&JQ(n,e),l){const d=n.contentCheckHooks;null!==d&&rp(e,d)}else{const d=n.contentHooks;null!==d&&i_(e,d,1),_C(e,1)}!function Kde(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Mu(~i);else{const s=i,o=t[++r],a=t[++r];pD(o,s),a(2,e[s])}}}finally{Mu(-1)}}(n,e);const c=n.components;null!==c&&lz(e,c,0);const u=n.viewQuery;if(null!==u&&PP(2,u,r),l){const d=n.viewCheckHooks;null!==d&&rp(e,d)}else{const d=n.viewHooks;null!==d&&i_(e,d,2),_C(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Kc]){for(const d of e[Kc])d();e[Kc]=null}e[sr]&=-73}catch(l){throw Iv(e),l}finally{null!==a&&(function Ho(n,e){if(wt(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Qi(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ds(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,o),function Ehe(n){n.lView[YA]!==n&&(n.lView=null,iz.push(n))}(a)),r_()}}function oz(n,e){for(let t=nA(n);null!==t;t=Xd(t))for(let r=js;r<t.length;r++)az(t[r],e)}function Bhe(n,e,t){az(Yc(e,n),t)}function az(n,e){Nv(n)&&HP(n,e)}function HP(n,e){const r=n[mn],i=n[sr],s=n[YA];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!fr(s)),s&&(s.dirty=!1),n[sr]&=-9217,o)Dhe(r,n,r.template,n[Js]);else if(8192&i){oz(n,1);const a=r.components;null!==a&&lz(n,a,1)}}function lz(n,e,t){for(let r=0;r<e.length;r++)Bhe(n,e[r],t)}function jC(n){for(n[Du].changeDetectionScheduler?.notify();n;){n[sr]|=64;const e=Xf(n);if(iC(n)&&!e)return n;n=e}return null}class qC{get rootNodes(){const e=this._lView,t=e[mn];return GC(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Js]}set context(e){this._lView[Js]=e}get destroyed(){return!(256&~this._lView[sr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[jo];if(wl(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(UC(e,r),wv(t,r))}this._attachedToViewContainer=!1}$D(this._lView[mn],this._lView)}onDestroy(e){Fv(this._lView,e)}markForCheck(){jC(this._cdRefInjectingView||this._lView)}detach(){this._lView[sr]&=-129}reattach(){fC(this._lView),this._lView[sr]|=128}detectChanges(){this._lView[sr]|=1024,tM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,DQ(this._lView[mn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new pt(902,!1);this._appRef=e,fC(this._lView)}}let ma=(()=>{class n{static{this.__NG_ELEMENT_ID__=Fhe}}return n})();const Nhe=ma,Ihe=class extends Nhe{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=QC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new qC(i)}};function Fhe(){return nM(Es(),Tt())}function nM(n,e){return 4&n.type?new Ihe(e,n,E(n,e)):null}function dz(n){const e=n[Kf]??[],r=n[jo][wr];for(const i of e)Qhe(i,r);n[Kf]=Wr}function Qhe(n,e){let t=0,r=n.firstChild;if(r){const i=n.data[h_];for(;t<i;){const s=r.nextSibling;HC(e,r,!1),r=s,t++}}}function hz(n){dz(n);for(let e=js;e<n.length;e++)iM(n[e])}function iM(n){!function zhe(n){const e=n[$c]?.i18nNodes;if(e){const t=n[wr];for(const r of e.values())HC(t,r,!1);n[$c].i18nNodes=void 0}}(n);const e=n[mn];for(let t=Br;t<e.bindingStartIndex;t++)wl(n[t])?hz(n[t]):Na(n[t])&&iM(n[t])}const jhe=new RegExp(`^(\\d+)*(${eP}|${ZO})*(.*)`);function GP(n){return n.index-Br}function sM(n,e,t,r){const i=GP(r);let s=function Khe(n,e){const t=n.i18nNodes;if(t){const r=t.get(e);return r&&t.delete(e),r}return null}(n,i);if(!s){const o=n.data[iP];if(o?.[i])s=function Yhe(n,e){const[t,...r]=function Whe(n){const e=n.match(jhe),[t,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(const[l,c,u]of s.matchAll(/(f|n)(\d*)/g)){const d=parseInt(u,10)||1;a.push(c,d)}return[o,...a]}(n);let i;return i=t===ZO?e[xo][yo]:t===eP?function wQ(n){return n.ownerDocument.body}(e[xo][yo]):Ns(e[Number(t)+Br]),function Xhe(n,e){let t=n;for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case d_.FirstChild:t=t.firstChild;break;case d_.NextSibling:t=t.nextSibling}}return t}(i,r)}(o[i],t);else if(e.firstChild===r)s=n.firstChild;else{const a=null===r.prev,l=r.prev??r.parent;if(function $he(n){return!n.prev&&8===n.parent?.type}(r))s=lP(n,GP(r.parent));else{let c=Cl(l,t);if(a)s=c.firstChild;else{const u=GP(l),d=lP(n,u);s=2===l.type&&d?oM(cP(n,u)+1,d):c.nextSibling}}}}return s}function oM(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}let Az=()=>null;function tfe(n,e){const t=n[Kf];return e&&null!==t&&0!==t.length?t[0].data[rP]===e?t.shift():(dz(n),null):null}function y_(n,e){return Az(n,e)}class aM{}class rfe{}class pz{}class sfe{resolveComponentFactory(e){throw function ife(n){const e=Error(`No component factory found for ${Io(n)}.`);return e.ngComponent=n,e}(e)}}let YC=(()=>{class n{static{this.NULL=new sfe}}return n})();class qP{}let $h=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function ofe(){const n=Tt(),t=Yc(Es().index,n);return(Na(t)?t:n)[wr]}()}}return n})(),afe=(()=>{class n{static{this.\u0275prov=Dt({token:n,providedIn:"root",factory:()=>null})}}return n})();const WP={},mz=new Set;function Kh(n){mz.has(n)||(mz.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function vz(...n){}class Dr{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ie(!1),this.onMicrotaskEmpty=new ie(!1),this.onStable=new ie(!1),this.onError=new ie(!1),typeof Zone>"u")throw new pt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function lfe(){const n="function"==typeof rs.requestAnimationFrame;let e=rs[n?"requestAnimationFrame":"setTimeout"],t=rs[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function dfe(n){const e=()=>{!function ufe(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(rs,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,KP(n),n.isCheckStableRunning=!0,$P(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),KP(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function hfe(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return yz(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),_z(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return yz(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),_z(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,KP(n),$P(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dr.isInAngularZone())throw new pt(909,!1)}static assertNotInAngularZone(){if(Dr.isInAngularZone())throw new pt(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,cfe,vz,vz);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const cfe={};function $P(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function KP(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function yz(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _z(n){n._nesting--,$P(n)}class bz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ie,this.onMicrotaskEmpty=new ie,this.onStable=new ie,this.onError=new ie}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}var $v=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}($v||{});const wz={destroy(){}};function YP(n,e){!e&&function Sv(n){if(!G2())throw new pt(-203,!1)}();const t=e?.injector??Ve(Ro);if(!Wh(t))return wz;Kh("NgAfterNextRender");const r=t.get(JC),i=r.handler??=new Ez,s=e?.phase??$v.MixedReadWrite,o=()=>{i.unregister(l),a()},a=t.get(Kd).onDestroy(o),l=zd(t,()=>new Cz(s,()=>{o(),n()}));return i.register(l),{destroy:o}}class Cz{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=Ve(Dr),this.errorHandler=Ve(pd,{optional:!0}),Ve(aM,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class Ez{constructor(){this.executingCallbacks=!1,this.buckets={[$v.EarlyRead]:new Set,[$v.Write]:new Set,[$v.MixedReadWrite]:new Set,[$v.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let JC=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Dt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function cM(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=gv(i,a):2==s&&(r=gv(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}class Dz extends YC{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=_i(e);return new tE(t,this.ngModule)}}function Mz(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const r=n[t];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}class uM{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=dd(r);const i=this.injector.get(e,WP,r);return i!==WP||t===WP?i:this.parentInjector.get(e,t,r)}}class tE extends pz{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=Mz(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Mz(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function KR(n){return n.map($R).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){const s=wt(null);try{let o=(i=i||this.ngModule)instanceof el?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new uM(e,o):e,l=a.get(qP,null);if(null===l)throw new pt(407,!1);const c=a.get(afe,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(JC,null),changeDetectionScheduler:a.get(aM,null)},h=l.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",p=r?function Yde(n,e,t,r){const s=r.get(nQ,!1)||t===xu.ShadowDom,o=n.selectRootElement(e,s);return function Jde(n){qQ(n)}(o),o}(h,r,this.componentDef.encapsulation,a):WD(h,A,function mfe(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(A));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let g=null;null!==p&&(g=oP(p,a,!0));const y=IP(0,null,null,1,0,null,null,null,null,null,null),v=JD(null,y,null,m,null,null,f,h,a,null,g);let _,C;n_(v);try{const b=this.componentDef;let M,D=null;b.findHostDirectiveDefs?(M=[],D=new Map,b.findHostDirectiveDefs(b,M,D),M.push(b)):M=[b];const S=function yfe(n,e){const t=n[mn],r=Br;return n[r]=e,m_(t,r,2,"#host",null)}(v,p),T=function _fe(n,e,t,r,i,s,o){const a=i[mn];!function bfe(n,e,t,r){for(const i of n)e.mergedAttrs=wg(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(cM(e,e.mergedAttrs,!0),null!==t&&HQ(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=oP(e,i[ra]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=JD(i,jQ(t),null,u,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&RP(a,n,r.length-1),ZD(i,d),i[n.index]=d}(S,p,b,M,v,f,h);C=Hh(y,Br),p&&function Cfe(n,e,t,r){if(r)Hy(n,t,["ng-version","17.3.12"]);else{const{attrs:i,classes:s}=function Qy(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!hd(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Hy(n,t,i),s&&s.length>0&&kQ(n,t,s.join(" "))}}(h,b,p,r),void 0!==t&&function Efe(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(C,this.ngContentSelectors,t),_=function wfe(n,e,t,r,i,s){const o=Es(),a=i[mn],l=Cl(o,i);KQ(a,i,o,t,null,r);for(let u=0;u<t.length;u++)ki(sp(i,a,o.directiveStart+u,o),i);XQ(a,i,o),l&&ki(l,i);const c=sp(i,a,o.directiveStart+o.componentOffset,o);if(n[Js]=i[Js]=c,null!==s)for(const u of s)u(c,e);return TP(a,o,i),c}(T,b,M,D,v,[Sfe]),UP(y,v,null)}finally{r_()}return new vfe(this.componentType,_,E(C,v),v,C)}finally{wt(s)}}}class vfe extends rfe{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new qC(i,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;LP(s[mn],s,i,e,t),this.previousInputValues.set(e,t),jC(Yc(this._tNode.index,s))}}get injector(){return new ia(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Sfe(){const n=Es();kv(Tt()[mn],n)}let Nu=(()=>{class n{static{this.__NG_ELEMENT_ID__=xfe}}return n})();function xfe(){return Nz(Es(),Tt())}const Dfe=Nu,Tz=class extends Dfe{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return E(this._hostTNode,this._hostLView)}get injector(){return new ia(this._hostTNode,this._hostLView)}get parentInjector(){const e=$l(this._hostTNode,this._hostLView);if(CC(e)){const t=Qv(e,this._hostLView),r=Vv(e);return new ia(t[mn].data[r+8],t)}return new ia(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Bz(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-js}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=y_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,v_(this._hostTNode,o)),a}createComponent(e,t,r,i,s){const o=e&&!function xv(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const A=t||{};a=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}const l=o?e:new tE(_i(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const p=(o?c:this.parentInjector).get(el,null);p&&(s=p)}const u=_i(l.componentType??{}),d=y_(this._lContainer,u?.id??null),h=l.create(c,i,d?.firstChild??null,s);return this.insertImpl(h.hostView,a,v_(this._hostTNode,d)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function MO(n){return wl(n[jo])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[jo],c=new Tz(l,l[bl],l[jo]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;return zC(o,i,s,r),e.attachToViewContainerRef(),zw(e5(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Bz(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=UC(this._lContainer,t);r&&(wv(e5(this._lContainer),t),$D(r[mn],r))}detach(e){const t=this._adjustIndex(e,-1),r=UC(this._lContainer,t);return r&&null!=wv(e5(this._lContainer),t)?new qC(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Bz(n){return n[8]}function e5(n){return n[8]||(n[8]=[])}function Nz(n,e){let t;const r=e[n.index];return wl(r)?t=r:(t=YQ(r,e,null,n),e[n.index]=t,ZD(e,t)),Iz(t,e,n,r),new Tz(t,n,e)}let Iz=Rz,t5=()=>!1;function Rz(n,e,t,r){if(n[jd])return;let i;i=8&t.type?Ns(r):function Mfe(n,e){const t=n[wr],r=t.createComment(""),i=Cl(e,n);return Wv(t,KD(t,i),r,function Gde(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[jd]=i}function Tfe(n,e,t){if(n[jd]&&n[Kf])return!0;const r=t[$c],i=e.index-Br;if(!r||function An(n){if(Un(n))return!0;let e=n.parent;for(;e;){if(Un(n)||ct(e))return!0;e=e.parent}return!1}(e)||HD(r,i))return!1;const o=lP(r,i),a=r.data[NC]?.[i],[l,c]=function efe(n,e){const t=[];for(const r of e)for(let i=0;i<(r[LD]??1);i++){const s={data:r,firstChild:null};r[h_]>0&&(s.firstChild=n,n=oM(r[h_],n)),t.push(s)}return[n,t]}(o,a);return n[jd]=l,n[Kf]=c,!0}function Bfe(n,e,t,r){t5(n,t,e)||Rz(n,e,t,r)}class n5{constructor(e){this.queryList=e,this.matches=null}clone(){return new n5(this.queryList)}setDirty(){this.queryList.setDirty()}}class r5{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new r5(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==c5(e,t).matches&&this.queries[t].setDirty()}}class Oz{constructor(e,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof e?function Pfe(n){return n.split(",").map(e=>e.trim())}(e):e}}class s5{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new s5(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class o5{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new o5(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Ife(t,s)),this.matchTNodeWithReadOption(e,t,ip(t,e,s,!1,!1))}else r===ma?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ip(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===N||i===Nu||i===ma&&4&t.type)this.addMatch(t.index,-2);else{const s=ip(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ife(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Rfe(n,e,t,r){return-1===t?function Ffe(n,e){return 11&n.type?E(n,e):4&n.type?nM(n,e):null}(e,n):-2===t?function Ofe(n,e,t){return t===N?E(e,n):t===ma?nM(e,n):t===Nu?Nz(e,n):void 0}(n,e,r):sp(n,n[mn],t,e)}function Pz(n,e,t,r){const i=e[Bn].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:Rfe(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function a5(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=Pz(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=js;d<u.length;d++){const f=u[d];f[Mv]===f[jo]&&a5(f[mn],f,c,r)}if(null!==u[Ng]){const d=u[Ng];for(let f=0;f<d.length;f++){const h=d[f];a5(h[mn],h,c,r)}}}}}return r}function Lz(n,e,t){const r=new xe(!(4&~t));return function the(n,e,t,r){const i=ZQ(e);i.push(t),n.firstCreatePass&&ez(n).push(r,i.length-1)}(n,e,r,r.destroy),(e[Bn]??=new r5).queries.push(new n5(r))-1}function Hz(n,e,t){null===n.queries&&(n.queries=new s5),n.queries.track(new o5(e,t))}function c5(n,e){return n.queries.getByIndex(e)}function Vz(n,e){const t=n[mn],r=c5(t,e);return r.crossesNgTemplate?a5(t,n,e,[]):Pz(t,n,r,e)}function u5(n,e){Kh("NgSignals");const t=function hg(n){const e=Object.create(kf);e.value=n;const t=()=>(Gt(e),e.value);return t[On]=e,t}(n),r=t[On];return e?.equal&&(r.equal=e.equal),t.set=i=>Ql(r,i),t.update=i=>function Vd(n,e){_s()||UA(),Ql(n,e(n.value))}(r,i),t.asReadonly=zz.bind(t),t}function zz(){const n=this[On];if(void 0===n.readonlyFn){const e=()=>this();e[On]=n,n.readonlyFn=e}return n.readonlyFn}function Gz(n){return function Qz(n){return"function"==typeof n&&void 0!==n[On]}(n)&&"function"==typeof n.set}function ps(n){let e=function t7(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(fd(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new pt(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=hM(n.inputs),o.inputTransforms=hM(n.inputTransforms),o.declaredInputs=hM(n.declaredInputs),o.outputs=hM(n.outputs);const a=i.hostBindings;a&&Yfe(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&Kfe(n,l),c&&Xfe(n,c),Wfe(n,i),Bw(n.outputs,i.outputs),fd(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ps&&(t=!1)}}e=Object.getPrototypeOf(e)}!function $fe(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wg(i.hostAttrs,t=wg(t,i.hostAttrs))}}(r)}function Wfe(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];if(void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function hM(n){return n===Qd?{}:n===Wr?[]:n}function Kfe(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Xfe(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Yfe(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function rE(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}class Kv{}class s7{}class f5 extends Kv{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dz(this);const i=_l(e);this._bootstrapComponents=md(i.bootstrap),this._r3Injector=TC(e,t,[{provide:Kv,useValue:this},{provide:YC,useValue:this.componentFactoryResolver},...r],Io(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class A5 extends s7{constructor(e){super(),this.moduleType=e}create(e){return new f5(this.moduleType,e,[])}}class o7 extends Kv{constructor(e){super(),this.componentFactoryResolver=new Dz(this),this.instance=null;const t=new xg([...e.providers,{provide:Kv,useValue:this},{provide:YC,useValue:this.componentFactoryResolver}],e.parent||jy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function fM(n,e,t=null){return new o7({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let jg=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ds(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pM(n){return!!p5(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function p5(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function sA(n,e,t){return n[e]=t}function va(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Xv(n,e,t,r){const i=va(n,e,t);return va(n,e+1,r)||i}function sE(n){return!(32&~n.flags)}function pn(n,e,t,r,i,s,o,a){const l=Tt(),c=Bi(),u=n+Br,d=c.firstCreatePass?function cAe(n,e,t,r,i,s,o,a,l){const c=e.consts,u=m_(e,n,4,o||null,Wd(c,a));FP(e,t,u,Wd(c,l)),kv(e,u);const d=u.tView=IP(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Ad(d,!1);const f=a7(c,l,d,n);np()&&XD(c,l,f,d),ki(f,l);const h=YQ(f,l,f,d);return l[u]=h,ZD(l,h),function Fz(n,e,t){return t5(n,e,t)}(h,d,l),Ig(d)&&BP(c,l,d),null!=o&&NP(l,d,a),pn}let a7=l7;function l7(n,e,t,r){return vc(!0),e[wr].createComment("")}function uAe(n,e,t,r){const i=e[$c],s=!i||Vh()||sE(t)||HD(i,r);if(vc(s),s)return l7(0,e);const o=i.data[nP]?.[r]??null;null!==o&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=o);const a=sM(i,n,e,t);return kD(i,r,a),oM(cP(i,r),a)}function ji(n,e,t,r){const i=Tt();return va(i,Jc(),e)&&(Bi(),iA(Yi(),i,n,e,t,r)),ji}function M_(n,e,t,r){return va(n,Jc(),t)?e+Or(t)+r:Zr}function T_(n,e,t,r,i,s){const a=Xv(n,function Qh(){return yr.lFrame.bindingIndex}(),t,i);return $d(2),a?e+Or(t)+r+Or(i)+s:Zr}function wM(n,e){return n<<17|e<<2}function Wg(n){return n>>17&32767}function S5(n){return 2|n}function Jv(n){return(131068&n)>>2}function x5(n,e){return-131069&n|e<<2}function D5(n){return 1|n}function k7(n,e,t,r){const i=n[t+1],s=null===e;let o=r?Wg(i):Jv(i),a=!1;for(;0!==o&&(!1===a||s);){const c=n[o+1];KAe(n[o],e)&&(a=!0,n[o+1]=r?D5(c):S5(c)),o=r?Wg(c):Jv(c)}a&&(n[t+1]=r?S5(i):D5(i))}function KAe(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Uh(n,e)>=0}const rl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function H7(n){return n.substring(rl.key,rl.keyEnd)}function XAe(n){return n.substring(rl.value,rl.valueEnd)}function V7(n,e){const t=rl.textEnd;return t===e?-1:(e=rl.keyEnd=function ZAe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,rl.key=e,t),P_(n,e,t))}function Q7(n,e){const t=rl.textEnd;let r=rl.key=P_(n,e,t);return t===r?-1:(r=rl.keyEnd=function epe(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=G7(n,r,t),r=rl.value=P_(n,r,t),r=rl.valueEnd=function tpe(n,e,t){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<t;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=j7(n,l,o,t):e===o-4&&85===s&&82===i&&76===r&&40===l?a=o=j7(n,41,o,t):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(n,r,t),G7(n,r,t))}function z7(n){rl.key=0,rl.keyEnd=0,rl.value=0,rl.valueEnd=0,rl.textEnd=n.length}function P_(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function G7(n,e,t,r){return(e=P_(n,e,t))<t&&e++,e}function j7(n,e,t,r){let i=-1,s=t;for(;s<r;){const o=n.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function We(n,e,t){const r=Tt();return va(r,Jc(),e)&&Bu(Bi(),Yi(),r,n,e,r[wr],t,!1),We}function M5(n,e,t,r,i){const o=i?"class":"style";LP(n,t,e.inputs[o],o,r)}function cE(n,e,t){return Xh(n,e,t,!1),cE}function Ri(n,e){return Xh(n,e,null,!0),Ri}function Zd(n){Yh($7,npe,n,!1)}function npe(n,e){for(let t=function JAe(n){return z7(n),Q7(n,P_(n,0,rl.textEnd))}(e);t>=0;t=Q7(e,t))$7(n,H7(e),XAe(e))}function $g(n){Yh(lpe,oA,n,!0)}function oA(n,e){for(let t=function YAe(n){return z7(n),V7(n,P_(n,0,rl.textEnd))}(e);t>=0;t=V7(e,t))Wc(n,H7(e),!0)}function Xh(n,e,t,r){const i=Tt(),s=Bi(),o=$d(2);s.firstUpdatePass&&W7(s,n,o,r),e!==Zr&&va(i,o,e)&&K7(s,s.data[Fo()],i,i[wr],n,i[o+1]=function upe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Io(Vg(n)))),n}(e,t),r,o)}function Yh(n,e,t,r){const i=Bi(),s=$d(2);i.firstUpdatePass&&W7(i,null,s,r);const o=Tt();if(t!==Zr&&va(o,s,t)){const a=i.data[Fo()];if(Y7(a,r)&&!q7(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=gv(l,t||"")),M5(i,a,o,t,r)}else!function cpe(n,e,t,r,i,s,o,a){i===Zr&&(i=Wr);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const f=l<i.length?i[l+1]:void 0,h=c<s.length?s[c+1]:void 0;let p,A=null;u===d?(l+=2,c+=2,f!==h&&(A=d,p=h)):null===d||null!==u&&u<d?(l+=2,A=u):(c+=2,A=d,p=h),null!==A&&K7(n,e,t,r,A,p,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}(i,a,o,o[wr],o[s+1],o[s+1]=function ape(n,e,t){if(null==t||""===t)return Wr;const r=[],i=Vg(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function q7(n,e){return e>=n.expandoStartIndex}function W7(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Fo()],o=q7(n,t);Y7(s,r)&&null===e&&!o&&(e=!1),e=function rpe(n,e,t,r){const i=function Rg(n){const e=yr.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=uE(t=T5(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=T5(i,n,e,t,r),null===s){let l=function ipe(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Jv(r))return n[Wg(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=T5(null,n,e,l[1],r),l=uE(l,e.attrs,r),function spe(n,e,t,r){n[Wg(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function ope(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=uE(r,n[s].hostAttrs,t);return uE(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function WAe(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Wg(o),l=Jv(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Uh(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const f=Wg(n[a+1]);n[r+1]=wM(f,a),0!==f&&(n[f+1]=x5(n[f+1],r)),n[a+1]=function jAe(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=wM(a,0),0!==a&&(n[a+1]=x5(n[a+1],r)),a=r;else n[r+1]=wM(l,0),0===a?a=r:n[l+1]=x5(n[l+1],r),l=r;c&&(n[r+1]=S5(n[r+1])),k7(n,u,r,!0),k7(n,u,r,!1),function $Ae(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Uh(s,e)>=0&&(t[r+1]=D5(t[r+1]))}(e,u,n,r,s),o=wM(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function T5(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=uE(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function uE(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Wc(n,o,!!t||e[++s]))}return void 0===n?null:n}function $7(n,e,t){Wc(n,e,Vg(t))}function lpe(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Wc(n,r,t)}function K7(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function qAe(n){return!(1&~n)}(c)?X7(l,e,t,i,Jv(c),o):void 0;CM(u)||(CM(s)||function GAe(n){return!(2&~n)}(c)&&(s=X7(l,null,t,i,a,o)),function Wde(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Qg.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Qg.Important),n.setStyle(t,r,i,s))}}(r,o,ep(Fo(),t),i,s))}function X7(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=t[i+1];f===Zr&&(f=d?Wr:void 0);let h=d?Gw(f,r):u===r?f:void 0;if(c&&!CM(h)&&(h=Gw(l,r)),CM(h)&&(a=h,o))return a;const A=n[i+1];i=o?Wg(A):Jv(A)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Gw(l,r))}return a}function CM(n){return void 0!==n}function Y7(n,e){return!!(n.flags&(e?8:16))}class bpe{destroy(e){}updateValue(e,t){}swap(e,t){const r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){const o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}}function B5(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function N5(n,e,t,r){return!(void 0===e||!e.has(r)||(n.attach(t,e.get(r)),e.delete(r),0))}function J7(n,e,t,r,i){if(N5(n,e,r,t(r,i)))n.updateValue(r,i);else{const s=n.create(r,i);n.attach(r,s)}}function Z7(n,e,t,r){const i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}class eG{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}}function $o(n,e,t){Kh("NgControlFlow");const r=Tt(),i=Jc(),s=I5(r,Br+n);if(va(r,i,e)){const a=wt(null);try{if(kP(s,0),-1!==e){const l=F5(r[mn],Br+e),c=y_(s,l.tView.ssrId);zC(s,QC(r,l,t,{dehydratedView:c}),0,v_(l,c))}}finally{wt(a)}}else{const a=nz(s,0);void 0!==a&&(a[Js]=t)}}class Cpe{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-js}}function Jh(n,e){return e}class Spe{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}}function yd(n,e,t,r,i,s,o,a,l,c,u,d,f){Kh("NgControlFlow");const h=void 0!==l,A=Tt(),p=a?o.bind(A[xo][Js]):o,m=new Spe(h,p);A[Br+n]=m,pn(n+1,e,t,r,i,s),h&&pn(n+2,l,c,u,d,f)}class xpe extends bpe{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-js}at(e){return this.getLView(e)[Js].$implicit}attach(e,t){const r=t[$c];this.needsIndexUpdate||=e!==this.length,zC(this.lContainer,t,e,v_(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function Dpe(n,e){return UC(n,e)}(this.lContainer,e)}create(e,t){const r=y_(this.lContainer,this.templateTNode.tView.ssrId);return QC(this.hostLView,this.templateTNode,new Cpe(this.lContainer,t,e),{dehydratedView:r})}destroy(e){$D(e[mn],e)}updateValue(e,t){this.getLView(e)[Js].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Js].$index=e}getLView(e){return function Mpe(n,e){return nz(n,e)}(this.lContainer,e)}}function _d(n){const e=wt(null),t=Fo();try{const r=Tt(),i=r[mn],s=r[t];if(void 0===s.liveCollection){const a=t+1,l=I5(r,a),c=F5(i,a);s.liveCollection=new xpe(l,r,c)}else s.liveCollection.reset();const o=s.liveCollection;if(function wpe(n,e,t){let r,i,s=0,o=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){const l=n.at(s),c=e[s],u=B5(s,l,s,c,t);if(0!==u){u<0&&n.updateValue(s,c),s++;continue}const d=n.at(o),f=e[a],h=B5(o,d,a,f,t);if(0!==h){h<0&&n.updateValue(o,f),o--,a--;continue}const A=t(s,l),p=t(o,d),m=t(s,c);if(Object.is(m,p)){const g=t(a,f);Object.is(g,A)?(n.swap(s,o),n.updateValue(o,f),a--,o--):n.move(o,s),n.updateValue(s,c),s++}else if(r??=new eG,i??=Z7(n,s,o,t),N5(n,r,s,m))n.updateValue(s,c),s++,o++;else if(i.has(m))r.set(A,n.detach(s)),o--;else{const g=n.create(s,e[s]);n.attach(s,g),s++,o++}}for(;s<=a;)J7(n,r,t,s,e[s]),s++}else if(null!=e){const a=e[Symbol.iterator]();let l=a.next();for(;!l.done&&s<=o;){const c=n.at(s),u=l.value,d=B5(s,c,s,u,t);if(0!==d)d<0&&n.updateValue(s,u),s++,l=a.next();else{r??=new eG,i??=Z7(n,s,o,t);const f=t(s,u);if(N5(n,r,s,f))n.updateValue(s,u),s++,o++,l=a.next();else if(i.has(f)){const h=t(s,c);r.set(h,n.detach(s)),o--}else n.attach(s,n.create(s,u)),s++,o++,l=a.next()}}for(;!l.done;)J7(n,r,t,n.length,l.value),l=a.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(a=>{n.destroy(a)})}(o,n,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){const a=Jc(),l=0===o.length;if(va(r,a,l)){const c=t+2,u=I5(r,c);if(l){const d=F5(i,c),f=y_(u,d.tView.ssrId);zC(u,QC(r,d,void 0,{dehydratedView:f}),0,v_(d,f))}else kP(u,0)}}}finally{wt(e)}}function I5(n,e){return n[e]}function F5(n,e){return Hh(n,e)}function he(n,e,t,r){const i=Tt(),s=Bi(),o=Br+n,a=i[wr],l=s.firstCreatePass?function Tpe(n,e,t,r,i,s){const o=e.consts,l=m_(e,n,2,r,Wd(o,i));return FP(e,t,l,Wd(o,s)),null!==l.attrs&&cM(l,l.attrs,!1),null!==l.mergedAttrs&&cM(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=tG(s,i,l,a,e,n);i[o]=c;const u=Ig(l);return Ad(l,!0),HQ(a,c,l),!sE(l)&&np()&&XD(s,i,c,l),0===function BO(){return yr.lFrame.elementDepthCount}()&&ki(c,i),function NO(){yr.lFrame.elementDepthCount++}(),u&&(BP(s,i,l),TP(s,l,i)),null!==r&&NP(i,l),he}function ce(){let n=Es();Yf()?Pv():(n=n.parent,Ad(n,!1));const e=n;(function FO(n){return yr.skipHydrationRootTNode===n})(e)&&function dD(){yr.skipHydrationRootTNode=null}(),function IO(){yr.lFrame.elementDepthCount--}();const t=Bi();return t.firstCreatePass&&(kv(t,n),Xy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function LO(n){return!!(8&n.flags)}(e)&&M5(t,e,Tt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function wC(n){return!!(16&n.flags)}(e)&&M5(t,e,Tt(),e.stylesWithoutHost,!1),ce}function ut(n,e,t,r){return he(n,e,t,r),ce(),ut}let tG=(n,e,t,r,i,s)=>(vc(!0),WD(r,i,vC()));function Bpe(n,e,t,r,i,s){const o=e[$c],a=!o||Vh()||sE(t)||HD(o,s);if(vc(a),a)return WD(r,i,vC());const l=sM(o,n,e,t);return eQ(o,s)&&kD(o,s,l.nextSibling),o&&(ct(t)||Bt(l))&&ZA(t)&&(function AC(n){yr.skipHydrationRootTNode=n}(t),LQ(l)),l}function Zv(n,e,t){const r=Tt(),i=Bi(),s=n+Br,o=i.firstCreatePass?function Ipe(n,e,t,r,i){const s=e.consts,o=Wd(s,r),a=m_(e,n,8,"ng-container",o);return null!==o&&cM(a,o,!0),FP(e,t,a,Wd(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Ad(o,!0);const a=nG(i,r,o,n);return r[s]=a,np()&&XD(i,r,a,o),ki(a,r),Ig(o)&&(BP(i,r,o),TP(i,o,r)),null!=t&&NP(r,o),Zv}function e0(){let n=Es();const e=Bi();return Yf()?Pv():(n=n.parent,Ad(n,!1)),e.firstCreatePass&&(kv(e,n),Xy(n)&&e.queries.elementEnd(n)),e0}function R5(n,e,t){return Zv(n,e,t),e0(),R5}let nG=(n,e,t,r)=>(vc(!0),wP(e[wr],""));function Fpe(n,e,t,r){let i;const s=e[$c],o=!s||Vh()||sE(t);if(vc(o),o)return wP(e[wr],"");const a=sM(s,n,e,t),l=function Kue(n,e){const t=n.data;let r=t[tP]?.[e]??null;return null===r&&t[NC]?.[e]&&(r=cP(n,e)),r}(s,r);return kD(s,r,a),i=oM(l,a),i}function Os(){return Tt()}const t0=void 0;var Ppe=["en",[["a","p"],["AM","PM"],t0],[["AM","PM"],t0,t0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],t0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],t0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",t0,"{1} 'at' {0}",t0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ope(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let L_={};function Zc(n){const e=function Lpe(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=sG(e);if(t)return t;const r=e.split("-")[0];if(t=sG(r),t)return t;if("en"===r)return Ppe;throw new pt(701,!1)}function sG(n){return n in L_||(L_[n]=rs.ng&&rs.ng.common&&rs.ng.common.locales&&rs.ng.common.locales[n]),L_[n]}var _o=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(_o||{});const U_="en-US",EM={marker:"element"},SM={marker:"ICU"};var Iu=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(Iu||{});let oG=U_;function lG(n,e,t){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?FQ(n,0,t):Ns(t[i])}function cG(n,e,t,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&-1===e.componentOffset)for(let l=1;l<s.length;l++)Wv(n,o,t[s[l]],a,!1)}}function uG(n,e){if(n.push(e),n.length>1)for(let t=n.length-2;t>=0;t--){const r=n[t];dG(r)||Qpe(r,e)&&null===zpe(r)&&Gpe(r,e.index)}}function dG(n){return!(64&n.type)}function Qpe(n,e){return dG(e)||n.index>e.index}function zpe(n){const e=n.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Gpe(n,e){const t=n.insertBeforeIndex;Array.isArray(t)?t[0]=e:(OQ(lG,cG),n.insertBeforeIndex=e)}function Wpe(n,e,t){const r=MP(n,t,64,null,null);return uG(e,r),r}function pG(n,e,t){const r=n[wr];switch(t){case Node.COMMENT_NODE:return wP(r,e);case Node.TEXT_NODE:return bP(r,e);case Node.ELEMENT_NODE:return WD(r,e,null)}}let AE=(n,e,t,r)=>(vc(!0),pG(n,t,r));function Ype(n,e,t,r){return vc(!0),pG(n,t,r)}function nge(){const n=[];let t,r,e=-1;function s(a,l){e=0;const c=function xM(n,e){const t=e[n.currentCaseLViewIndex];return null===t?t:t<0?~t:t}(a,l);r=null!==c?a.remove[c]:Wr}function o(){if(e<r.length){const a=r[e++];return a>0?t[a]:(n.push(e,r),s(t[mn].data[~a],t),o())}return 0===n.length?null:(r=n.pop(),e=n.pop(),o())}return function i(a,l){for(t=l;n.length;)n.pop();return s(a.value,l),o}}const DM=/\ufffd(\d+):?\d*\ufffd/gi,ige=/\ufffd(\d+)\ufffd/,bG=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,pE="\ufffd",sge=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,oge=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,age=/\uE500/g;function wG(n,e,t,r,i,s,o){const a=VC(n,r,1,null);let l=a<<Iu.SHIFT,c=Ov();e===c&&(c=null),null===c&&(l|=Iu.APPEND_EAGERLY),o&&(l|=Iu.COMMENT,function Ode(n){void 0===yP&&(yP=n())}(nge)),i.push(l,null===s?"":s);const u=MP(n,a,o?32:1,null===s?"":s,null);uG(t,u);const d=u.index;return Ad(u,!1),null!==c&&e!==c&&function qpe(n,e){let t=n.insertBeforeIndex;null===t?(OQ(lG,cG),t=n.insertBeforeIndex=[null,e]):(cd(Array.isArray(t),!0,"Expecting array here"),t.push(e))}(c,d),u}function uge(n,e,t,r,i,s,o,a){const l=a.match(DM),u=wG(e,t,r,o,i,l?null:a,!1).index;l&&gE(s,a,u,null,0,null),n.push({kind:0,index:u})}function gE(n,e,t,r,i,s){const o=n.length,a=o+1;n.push(null,null);const l=o+2,c=e.split(DM);let u=0;for(let d=0;d<c.length;d++){const f=c[d];if(1&d){const h=i+parseInt(f,10);n.push(-1-h),u|=CG(h)}else""!==f&&n.push(f)}return n.push(t<<2|(r?1:0)),r&&n.push(r,s),n[o]=u,n[a]=n.length-l,u}function CG(n){return 1<<Math.min(n,31)}function EG(n){let e,s,t="",r=0,i=!1;for(;null!==(e=sge.exec(n));)i?e[0]===`${pE}/*${s}${pE}`&&(r=e.index,i=!1):(t+=n.substring(r,e.index+e[0].length),s=e[1],i=!0);return t+=n.slice(r),t}function SG(n,e,t,r,i,s,o){let a=0;const l={type:s.type,currentCaseLViewIndex:VC(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};(function vge(n,e,t){n.push(CG(e.mainBinding),2,-1-e.mainBinding,t<<2|2)})(r,s,o),function jpe(n,e,t){const r=n.data[e];null===r?n.data[e]=t:r.value=t}(e,o,l);const c=s.values,u=[];for(let d=0;d<c.length;d++){const f=c[d],h=[];for(let p=0;p<f.length;p++){const m=f[p];if("string"!=typeof m){const g=h.push(m)-1;f[p]=`\x3c!--\ufffd${g}\ufffd--\x3e`}}const A=[];u.push(A),a=gge(A,e,l,t,r,i,s.cases[d],f.join(""),h)|a}a&&function yge(n,e,t){n.push(e,1,t<<2|3)}(r,a,o),n.push({kind:3,index:o,cases:u,currentCaseLViewIndex:l.currentCaseLViewIndex})}function pge(n){const e=[],t=[];let r=1,i=0;const s=O5(n=n.replace(bG,function(o,a,l){return r="select"===l?0:1,i=parseInt(a.slice(1),10),""}));for(let o=0;o<s.length;){let a=s[o++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);const l=O5(s[o++]);e.length>t.length&&t.push(l)}return{type:r,mainBinding:i,cases:e,values:t}}function O5(n){if(!n)return[];let e=0;const t=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(n);){const a=s.index;if("}"==s[0]){if(t.pop(),0==t.length){const l=n.substring(e,a);bG.test(l)?r.push(pge(l)):r.push(l),e=a+1}}else{if(0==t.length){const l=n.substring(e,a);r.push(l),e=a+1}t.push("{")}}const o=n.substring(e);return r.push(o),r}function gge(n,e,t,r,i,s,o,a,l){const c=[],u=[],d=[];t.cases.push(o),t.create.push(c),t.remove.push(u),t.update.push(d);const h=function lQ(n){const e=new sde(n);return function ode(){try{return!!(new window.DOMParser).parseFromString(f_(""),"text/html")}catch{return!1}}()?new ide(e):e}(Hg()).getInertBodyElement(a),A=function pP(n){return"content"in n&&function gde(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(h)||h;return A?xG(n,e,t,r,i,c,u,d,A,s,l,0):0}function xG(n,e,t,r,i,s,o,a,l,c,u,d){let f=0,h=l.firstChild;for(;h;){const A=VC(e,r,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:const p=h,m=p.tagName.toLowerCase();if(fP.hasOwnProperty(m)){P5(s,EM,m,c,A),e.data[A]=m;const _=p.attributes;for(let b=0;b<_.length;b++){const M=_.item(b),D=M.name.toLowerCase();M.value.match(DM)?hQ.hasOwnProperty(D)&&gE(a,M.value,A,M.name,0,AP[D]?hP:null):_ge(s,A,M)}const C={kind:1,index:A,children:[]};n.push(C),f=xG(C.children,e,t,r,i,s,o,a,h,A,u,d+1)|f,DG(o,A,d)}break;case Node.TEXT_NODE:const g=h.textContent||"",y=g.match(DM);P5(s,null,y?"":g,c,A),DG(o,A,d),y&&(f=gE(a,g,A,null,0,null)|f),n.push({kind:0,index:A});break;case Node.COMMENT_NODE:const v=ige.exec(h.textContent||"");if(v){const C=u[parseInt(v[1],10)];P5(s,SM,"",c,A),SG(n,e,r,i,c,C,A),mge(o,A,d)}}h=h.nextSibling}return f}function DG(n,e,t){0===t&&n.push(e)}function mge(n,e,t){0===t&&(n.push(~e),n.push(e))}function P5(n,e,t,r,i){null!==e&&n.push(e),n.push(t,i,function $pe(n,e,t){return n|e<<17|t<<1}(0,r,i))}function _ge(n,e,t){n.push(e<<1|1,t.name,t.value)}function TG(n,e,t=-1){const r=Bi(),i=Tt(),s=Br+n,o=Wd(r.consts,e),a=Ov();r.firstCreatePass&&function cge(n,e,t,r,i,s){const o=Ov(),a=[],l=[],c=[[]],u=[[]];i=function Age(n,e){if(function fge(n){return-1===n}(e))return EG(n);{const t=n.indexOf(`:${e}${pE}`)+2+e.toString().length,r=n.search(new RegExp(`${pE}\\/\\*\\d+:${e}${pE}`));return EG(n.substring(t,r))}}(i,s);const d=function lge(n){return n.replace(age," ")}(i).split(oge);for(let f=0;f<d.length;f++){let h=d[f];if(1&f){const A=47===h.charCodeAt(0),p=h.charCodeAt(A?1:0),m=Br+Number.parseInt(h.substring(A?2:1));if(A)c.shift(),u.shift(),Ad(Ov(),!1);else{const g=Wpe(n,c[0],m);c.unshift([]),Ad(g,!0);const y={kind:2,index:m,children:[],type:35===p?0:1};u[0].push(y),u.unshift(y.children)}}else{const A=O5(h);for(let p=0;p<A.length;p++){let m=A[p];if(1&p){const g=m;if("object"!=typeof g)throw new Error(`Unable to parse ICU expression in "${i}" message.`);const v=wG(n,o,c[0],t,a,"",!0).index;SG(u[0],n,t,l,e,g,v)}else""!==m&&uge(u[0],n,o,c[0],a,l,t,m)}}}n.data[r]={create:a,update:l,ast:u[0]}}(r,null===a?0:a.index,i,s,o,t),2===r.type?i[xo][sr]|=32:i[sr]|=32;const l=r.data[s],u=TQ(r,a===i[bl]?null:a,i);(function Zpe(n,e,t,r){const i=n[wr];for(let s=0;s<e.length;s++){const o=e[s++],c=(o&Iu.APPEND_EAGERLY)===Iu.APPEND_EAGERLY,u=o>>>Iu.SHIFT;let d=n[u],f=!1;null===d&&(d=n[u]=AE(n,u,e[s],(o&Iu.COMMENT)===Iu.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),f=np()),c&&null!==t&&f&&Wv(i,t,d,r,!1)}})(i,l.create,u,a&&8&a.type?i[a.index]:null),t_(!0)}function mE(n,e,t){TG(n,e,t),function BG(){t_(!1)}()}function Xt(n,e,t,r){const i=Tt(),s=Bi(),o=Es();return L5(s,i,i[wr],o,n,e,r),Xt}function L5(n,e,t,r,i,s,o){const a=Ig(r),c=n.firstCreatePass&&ez(n),u=e[Js],d=ZQ(e);let f=!0;if(3&r.type||o){const p=Cl(r,e),m=o?o(p):p,g=d.length,y=o?_=>o(Ns(_[r.index])):r.index;let v=null;if(!o&&a&&(v=function Ige(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Tg],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,f=!1;else{s=RG(r,e,u,s,!1);const _=t.listen(m,i,s);d.push(s,_),c&&c.push(i,y,g,g+1)}}else s=RG(r,e,u,s,!1);const h=r.outputs;let A;if(f&&null!==h&&(A=h[i])){const p=A.length;if(p)for(let m=0;m<p;m+=2){const C=e[A[m]][A[m+1]].subscribe(s),b=d.length;d.push(s,C),c&&c.push(i,r.index,b,-(b+1))}}}function FG(n,e,t,r){const i=wt(null);try{return qd(6,e,t),!1!==t(r)}catch(s){return eM(n,s),!1}finally{qd(7,e,t),wt(i)}}function RG(n,e,t,r,i){return function s(o){if(o===Function)return r;jC(n.componentOffset>-1?Yc(n.index,e):e);let l=FG(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=FG(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function ln(n=1){return function Wo(n){return(yr.lFrame.contextLView=function lD(n,e){for(;n>0;)e=e[Bg],n--;return e}(n,yr.lFrame.contextLView))[Js]}(n)}function Fge(n,e){let t=null;const r=function GR(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?L2(n,s,!0):WR(r,s))return i}else t=i}return t}function vE(n){const e=Tt()[xo][bl];if(!e.projection){const r=e.projection=function _g(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?Fge(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function yE(n,e=0,t){const r=Tt(),i=Bi(),s=m_(i,Br+n,16,null,t||null);null===s.projection&&(s.projection=e),Pv(),(!r[$c]||Vh())&&32&~s.flags&&function jde(n,e,t){UQ(e[wr],0,e,t,EP(n,t,e),IQ(t.parent||e[bl],t,e))}(i,r,s)}function Kg(n,e,t){return _E(n,"",e,"",t),Kg}function _E(n,e,t,r,i){const s=Tt(),o=M_(s,e,t,r);return o!==Zr&&Bu(Bi(),Yi(),s,n,o,s[wr],i,!1),_E}function Fa(n,e,t,r){!function kz(n,e,t,r){const i=Bi();if(i.firstCreatePass){const s=Es();Hz(i,new Oz(e,t,r),s.index),function Lfe(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),!(2&~t)&&(i.staticContentQueries=!0)}return Lz(i,Tt(),t)}(n,e,t,r)}function ss(n,e,t){!function Uz(n,e,t){const r=Bi();return r.firstCreatePass&&(Hz(r,new Oz(n,e,t),-1),!(2&~e)&&(r.staticViewQueries=!0)),Lz(r,Tt(),e)}(n,e,t)}function pr(n){const e=Tt(),t=Bi(),r=Og();Lv(r+1);const i=c5(t,r);if(n.dirty&&function oD(n){return!(4&~n[sr])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)n.reset([]);else{const s=Vz(e,r);n.reset(s,I),n.notifyOnChanges()}return!0}return!1}function gr(){return function l5(n,e){return n[Bn].queries[e].queryList}(Tt(),Og())}function Zh(n){return Fg(function e_(){return yr.lFrame.contextLView}(),Br+n)}function Me(n,e=""){const t=Tt(),r=Bi(),i=n+Br,s=r.firstCreatePass?m_(r,i,1,e,null):r.data[i],o=JG(r,t,s,e,n);t[i]=o,np()&&XD(r,t,o,s),Ad(s,!1)}let JG=(n,e,t,r,i)=>(vc(!0),bP(e[wr],r));function Wge(n,e,t,r,i){const s=e[$c],o=!s||Vh()||sE(t)||HD(s,i);return vc(o),o?bP(e[wr],r):sM(s,n,e,t)}function Pr(n){return Zi("",n,""),Pr}function Zi(n,e,t){const r=Tt(),i=M_(r,n,e,t);return i!==Zr&&hp(r,Fo(),i),Zi}function MM(n,e,t,r,i){const s=Tt(),o=T_(s,n,e,t,r,i);return o!==Zr&&hp(s,Fo(),o),MM}function ef(n,e,t){Gz(e)&&(e=e());const r=Tt();return va(r,Jc(),e)&&Bu(Bi(),Yi(),r,n,e,r[wr],t,!1),ef}function aA(n,e){const t=Gz(n);return t&&n.set(e),t}function tf(n,e){const t=Tt(),r=Bi(),i=Es();return L5(r,t,t[wr],i,n,e),tf}function U5(n,e,t,r,i){if(n=ur(n),Array.isArray(n))for(let s=0;s<n.length;s++)U5(n[s],e,t,r,i);else{const s=Bi(),o=Tt(),a=Es();let l=$f(n)?n:ur(n.provide);const c=z2(n),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if($f(n)||!n.multi){const h=new Hv(c,i,vt),A=H5(l,e,i?u:u+f,d);-1===A?(SC(Fn(a,o),s,l),k5(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),o.push(h)):(t[A]=h,o[A]=h)}else{const h=H5(l,e,u+f,d),A=H5(l,e,u,u+f),m=A>=0&&t[A];if(i&&!m||!i&&!(h>=0&&t[h])){SC(Fn(a,o),s,l);const g=function Jge(n,e,t,r,i){const s=new Hv(n,t,vt);return s.multi=[],s.index=e,s.componentProviders=0,o9(s,i,r&&!t),s}(i?Yge:Xge,t.length,i,r,c);!i&&m&&(t[A].providerFactory=g),k5(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),o.push(g)}else k5(s,n,h>-1?h:A,o9(t[i?A:h],c,!i&&r));!i&&r&&m&&t[A].componentProviders++}}}function k5(n,e,t,r){const i=$f(e),s=function nO(n){return!!n.useClass}(e);if(i||s){const l=(s?ur(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function o9(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function H5(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Xge(n,e,t,r){return V5(this.multi,[])}function Yge(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=sp(t,t[mn],this.providerFactory.index,r);s=a.slice(0,o),V5(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],V5(i,s);return s}function V5(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function lo(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Kge(n,e,t){const r=Bi();if(r.firstCreatePass){const i=fd(n);U5(t,r.data,r.blueprint,i,!0),U5(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}let Zge=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Yw(0,t.type),i=r.length>0?fM([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Dt({token:n,providedIn:"environment",factory:()=>new n(Yt(el))})}}return n})();function Ra(n){Kh("NgStandalone"),n.getStandaloneInjector=e=>e.get(Zge).getOrCreateStandaloneInjector(n)}function bE(n,e,t){const r=Wl()+n,i=Tt();return i[r]===Zr?sA(i,r,t?e.call(t):e()):function iE(n,e){return n[e]}(i,r)}function lA(n,e,t,r){return c9(Tt(),Wl(),n,e,t,r)}function wE(n,e,t,r,i){return function u9(n,e,t,r,i,s,o){const a=e+t;return Xv(n,a,i,s)?sA(n,a+2,o?r.call(o,i,s):r(i,s)):CE(n,a+2)}(Tt(),Wl(),n,e,t,r,i)}function Q5(n,e,t,r,i,s){return function d9(n,e,t,r,i,s,o,a){const l=e+t;return function gM(n,e,t,r,i){const s=Xv(n,e,t,r);return va(n,e+2,i)||s}(n,l,i,s,o)?sA(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):CE(n,l+3)}(Tt(),Wl(),n,e,t,r,i,s)}function CE(n,e){const t=n[e];return t===Zr?void 0:t}function c9(n,e,t,r,i,s){const o=e+t;return va(n,o,i)?sA(n,o+1,s?r.call(s,i):r(i)):CE(n,o+1)}function Fu(n,e){const t=Bi();let r;const i=n+Br;t.firstCreatePass?(r=function ame(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=gc(r.type)),a=pc(vt);try{const l=s_(!1),c=s();return s_(l),function Lge(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,Tt(),i,c),c}finally{pc(a)}}function Ru(n,e,t){const r=n+Br,i=Tt(),s=Fg(i,r);return function EE(n,e){return n[mn].data[e].pure}(i,r)?c9(i,Wl(),e,s.transform,t,s):s.transform(t)}function nf(n,e){return nM(n,e)}class xE{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const T9=new xE("17.3.12");let W5=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const R9=new xn(""),IM=new xn("");let Y5,K5=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Y5||(function ive(n){Y5=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(Yt(Dr),Yt(X5),Yt(IM))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})(),X5=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Y5?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function ME(n){return!!n&&"function"==typeof n.then}function O9(n){return!!n&&"function"==typeof n.subscribe}const FM=new xn("");let J5=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Ve(FM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(ME(s))t.push(s);else if(O9(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const RM=new xn("");function U9(n,e){return Array.isArray(e)?e.reduce(U9,n):{...n,...e}}let PM,rf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ve(RD),this.afterRenderEffectManager=Ve(JC),this.externalTestViews=new Set,this.beforeRender=new Rr,this.afterTick=new Rr,this.componentTypes=[],this.components=[],this.isStable=Ve(jg).hasPendingTasks.pipe(Hr(t=>!t)),this._injector=Ve(el)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof pz;if(!this._injector.get(J5).done)throw!i&&function Wf(n){const e=_i(n)||ga(n)||ta(n);return null!==e&&e.standalone}(t),new pt(405,!1);let o;o=i?t:this._injector.get(YC).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function sve(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Kv),c=o.create(Ro.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(R9,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),OM(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new pt(101,!1);const r=wt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,wt(r)}}detectChangesInAttachedViews(t){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===sz)throw new pt(103,!1);if(t){const s=0===r;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)ove(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Z5(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Z5(s))))break}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;OM(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(RM,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>OM(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new pt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function OM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function k9(n){PM??=new WeakMap;const e=PM.get(n);if(e)return e;const t=n.isStable.pipe(ad(r=>r)).toPromise().then(()=>{});return PM.set(n,t),n.onDestroy(()=>PM?.delete(n)),t}function ove(n,e,t){!e&&!Z5(n)||function ave(n,e,t){let r;t?(r=0,n[sr]|=1024):r=64&n[sr]?0:1,tM(n,e,r)}(n,t,e)}function Z5(n){return hC(n)}class lve{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let H9=(()=>{class n{compileModuleSync(t){return new A5(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=md(_l(t).declarations).reduce((o,a)=>{const l=_i(a);return l&&o.push(new tE(l)),o},[]);return new lve(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dve=(()=>{class n{constructor(){this.zone=Ve(Dr),this.applicationRef=Ve(rf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hve(){const n=Ve(Dr),e=Ve(pd);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Ave=(()=>{class n{constructor(){this.subscription=new oi,this.initialized=!1,this.zone=Ve(Dr),this.pendingTasks=Ve(jg)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Dr.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Dr.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const cA=new xn("",{providedIn:"root",factory:()=>Ve(cA,Ti.Optional|Ti.SkipSelf)||function pve(){return typeof $localize<"u"&&$localize.locale||U_}()}),eL=new xn("");let G9=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function ffe(n="zone.js",e){return"noop"===n?new bz:"zone.js"===n?new Dr(e):n}(r?.ngZone,function z9(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function rAe(n,e,t){return new f5(n,e,t)}(t.moduleType,this.injector,function Q9(n){return[{provide:Dr,useFactory:n},{provide:kh,multi:!0,useFactory:()=>{const e=Ve(dve,{optional:!0});return()=>e.initialize()}},{provide:kh,multi:!0,useFactory:()=>{const e=Ve(Ave);return()=>{e.initialize()}}},{provide:RD,useFactory:hve}]}(()=>i)),o=s.injector.get(pd,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{OM(this._modules,s),a.unsubscribe()})}),function L9(n,e,t){try{const r=t();return ME(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(J5);return a.runInitializers(),a.donePromise.then(()=>(function aG(n){"string"==typeof n&&(oG=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(cA,U_)||U_),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=U9({},r);return function uve(n,e,t){const r=new A5(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(rf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new pt(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(eL,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(Yt(Ro))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Xg=null;const j9=new xn("");function q9(n,e,t=[]){const r=`Platform: ${e}`,i=new xn(r);return(s=[])=>{let o=tL();if(!o||o.injector.get(j9,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function vve(n){if(Xg&&!Xg.get(j9,!1))throw new pt(400,!1);(function P9(){!function kr(n){Qc=n}(()=>{throw new pt(600,!1)})})(),Xg=n;const e=n.get(G9);(function $9(n){n.get(KV,null)?.forEach(t=>t())})(n)}(function W9(n=[],e){return Ro.create({name:e,providers:[{provide:Zw,useValue:"platform"},{provide:eL,useValue:new Set([()=>Xg=null])},...n]})}(a,r))}return function yve(n){const e=tL();if(!e)throw new pt(401,!1);return e}()}}function tL(){return Xg?.get(G9)??null}let sf=(()=>{class n{static{this.__NG_ELEMENT_ID__=bve}}return n})();function bve(n){return function wve(n,e,t){if(ZA(n)&&!t){const r=Yc(n.index,e);return new qC(r,r)}return 47&n.type?new qC(e[xo],e):null}(Es(),Tt(),!(16&~n))}class Z9{constructor(){}supports(e){return pM(e)}create(e){return new Dve(e)}}const xve=(n,e)=>e;class Dve{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xve}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<tj(r,i,s)?t:r,a=tj(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<s.length?s[f]:s[f]=0,A=h+f;u<=A&&A<c&&(s[f]=h+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!pM(e))throw new pt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function aAe(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Mve(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ej),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ej),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Mve{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tve{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class ej{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Tve,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tj(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class nj{constructor(){}supports(e){return e instanceof Map||p5(e)}create(){return new Bve}}class Bve{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||p5(e)))throw new pt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Nve(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Nve{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rj(){return new oL([new Z9])}let oL=(()=>{class n{static{this.\u0275prov=Dt({token:n,providedIn:"root",factory:rj})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||rj()),deps:[[n,new bv,new WA]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new pt(901,!1)}}return n})();function ij(){return new kM([new nj])}let kM=(()=>{class n{static{this.\u0275prov=Dt({token:n,providedIn:"root",factory:ij})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ij()),deps:[[n,new bv,new WA]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new pt(901,!1)}}return n})();const Rve=q9(null,"core",[]);let Ove=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(Yt(rf))}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),vj=!1,yj=!1;function Zve(){return Eg([{provide:VD,useFactory:()=>{let n=!0;return Wh()&&(n=!!Ve(u_,{optional:!0})?.get(sP,null)),n&&Kh("NgHydration"),n}},{provide:kh,useValue:()=>{yj=!!Ve(rQ,{optional:!0}),Wh()&&Ve(VD)&&(function t0e(){const n=Hg();let e;for(const t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===Que){e=t;break}if(!e)throw new pt(-507,!1)}(),function Yve(){vj||(vj=!0,function Gue(){YV=zue}(),function Npe(){tG=Bpe}(),function $ge(){JG=Wge}(),function Rpe(){nG=Fpe}(),function dAe(){a7=uAe}(),function Nfe(){Iz=Bfe,t5=Tfe}(),function nfe(){Az=tfe}(),function ehe(){qQ=Zde}(),function Jpe(){AE=Ype}())}())},multi:!0},{provide:nQ,useFactory:()=>Wh()&&Ve(VD)},{provide:RM,useFactory:()=>{if(Wh()&&Ve(VD)){const n=Ve(rf);return Ve(Ro),()=>{(function Jve(n,e){return k9(n)})(n).then(()=>{!function Ghe(n){const e=n._views;for(const t of e){const r=JV(t);null!==r&&null!==r[yo]&&(Na(r)?iM(r):(iM(r[yo]),hz(r)))}}(n)})}}return()=>{}},multi:!0}])}function Yl(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function d0e(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}function xj(n){const e=wt(null);try{return n()}finally{wt(e)}}function cL(n,e){const t=_i(n),r=e.elementInjector||jy();return new tE(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let Dj=null;function Yg(){return Dj}class _0e{}const gs=new xn("");let uL=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:()=>Ve(w0e),providedIn:"platform"})}}return n})();const b0e=new xn("");let w0e=(()=>{class n extends uL{constructor(){super(),this._doc=Ve(gs),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yg().getBaseHref(this._doc)}onPopState(t){const r=Yg().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Yg().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function dL(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Mj(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fp(n){return n&&"?"!==n[0]?"?"+n:n}let r0=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:()=>Ve(Bj),providedIn:"root"})}}return n})();const Tj=new xn("");let Bj=(()=>{class n extends r0{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ve(gs).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return dL(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+fp(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+fp(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+fp(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Yt(uL),Yt(Tj,8))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),C0e=(()=>{class n extends r0{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=dL(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+fp(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+fp(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Yt(uL),Yt(Tj,8))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})(),Q_=(()=>{class n{constructor(t){this._subject=new ie,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function x0e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Mj(Nj(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fp(r))}normalize(t){return n.stripTrailingSlash(function S0e(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Nj(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fp(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fp(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=fp}static{this.joinWithSlash=dL}static{this.stripTrailingSlash=Mj}static{this.\u0275fac=function(r){return new(r||n)(Yt(r0))}}static{this.\u0275prov=Dt({token:n,factory:()=>function E0e(){return new Q_(Yt(r0))}(),providedIn:"root"})}}return n})();function Nj(n){return n.replace(/\/index.html$/,"")}var jM=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(jM||{}),El=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(El||{}),ms=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ms||{}),bd=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(bd||{});const Oa={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qM(n,e){return nh(Zc(n)[_o.DateFormat],e)}function WM(n,e){return nh(Zc(n)[_o.TimeFormat],e)}function $M(n,e){return nh(Zc(n)[_o.DateTimeFormat],e)}function th(n,e){const t=Zc(n),r=t[_o.NumberSymbols][e];if(typeof r>"u"){if(e===Oa.CurrencyDecimal)return t[_o.NumberSymbols][Oa.Decimal];if(e===Oa.CurrencyGroup)return t[_o.NumberSymbols][Oa.Group]}return r}function Rj(n){if(!n[_o.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[_o.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function nh(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function AL(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const U0e=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,KM={},k0e=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ap=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Ap||{}),Ps=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ps||{}),Ls=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ls||{});function Oj(n,e,t,r){let i=function $0e(n){if(Uj(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return XM(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(U0e))return function K0e(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(r)}const e=new Date(n);if(!Uj(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=pp(t,e)||e;let a,o=[];for(;e;){if(a=k0e.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=Lj(r,l),i=function W0e(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function q0e(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Lj(e,i)-i))}(i,r,!0));let c="";return o.forEach(u=>{const d=function j0e(n){if(gL[n])return gL[n];let e;switch(n){case"G":case"GG":case"GGG":e=bo(Ls.Eras,ms.Abbreviated);break;case"GGGG":e=bo(Ls.Eras,ms.Wide);break;case"GGGGG":e=bo(Ls.Eras,ms.Narrow);break;case"y":e=Pa(Ps.FullYear,1,0,!1,!0);break;case"yy":e=Pa(Ps.FullYear,2,0,!0,!0);break;case"yyy":e=Pa(Ps.FullYear,3,0,!1,!0);break;case"yyyy":e=Pa(Ps.FullYear,4,0,!1,!0);break;case"Y":e=eT(1);break;case"YY":e=eT(2,!0);break;case"YYY":e=eT(3);break;case"YYYY":e=eT(4);break;case"M":case"L":e=Pa(Ps.Month,1,1);break;case"MM":case"LL":e=Pa(Ps.Month,2,1);break;case"MMM":e=bo(Ls.Months,ms.Abbreviated);break;case"MMMM":e=bo(Ls.Months,ms.Wide);break;case"MMMMM":e=bo(Ls.Months,ms.Narrow);break;case"LLL":e=bo(Ls.Months,ms.Abbreviated,El.Standalone);break;case"LLLL":e=bo(Ls.Months,ms.Wide,El.Standalone);break;case"LLLLL":e=bo(Ls.Months,ms.Narrow,El.Standalone);break;case"w":e=pL(1);break;case"ww":e=pL(2);break;case"W":e=pL(1,!0);break;case"d":e=Pa(Ps.Date,1);break;case"dd":e=Pa(Ps.Date,2);break;case"c":case"cc":e=Pa(Ps.Day,1);break;case"ccc":e=bo(Ls.Days,ms.Abbreviated,El.Standalone);break;case"cccc":e=bo(Ls.Days,ms.Wide,El.Standalone);break;case"ccccc":e=bo(Ls.Days,ms.Narrow,El.Standalone);break;case"cccccc":e=bo(Ls.Days,ms.Short,El.Standalone);break;case"E":case"EE":case"EEE":e=bo(Ls.Days,ms.Abbreviated);break;case"EEEE":e=bo(Ls.Days,ms.Wide);break;case"EEEEE":e=bo(Ls.Days,ms.Narrow);break;case"EEEEEE":e=bo(Ls.Days,ms.Short);break;case"a":case"aa":case"aaa":e=bo(Ls.DayPeriods,ms.Abbreviated);break;case"aaaa":e=bo(Ls.DayPeriods,ms.Wide);break;case"aaaaa":e=bo(Ls.DayPeriods,ms.Narrow);break;case"b":case"bb":case"bbb":e=bo(Ls.DayPeriods,ms.Abbreviated,El.Standalone,!0);break;case"bbbb":e=bo(Ls.DayPeriods,ms.Wide,El.Standalone,!0);break;case"bbbbb":e=bo(Ls.DayPeriods,ms.Narrow,El.Standalone,!0);break;case"B":case"BB":case"BBB":e=bo(Ls.DayPeriods,ms.Abbreviated,El.Format,!0);break;case"BBBB":e=bo(Ls.DayPeriods,ms.Wide,El.Format,!0);break;case"BBBBB":e=bo(Ls.DayPeriods,ms.Narrow,El.Format,!0);break;case"h":e=Pa(Ps.Hours,1,-12);break;case"hh":e=Pa(Ps.Hours,2,-12);break;case"H":e=Pa(Ps.Hours,1);break;case"HH":e=Pa(Ps.Hours,2);break;case"m":e=Pa(Ps.Minutes,1);break;case"mm":e=Pa(Ps.Minutes,2);break;case"s":e=Pa(Ps.Seconds,1);break;case"ss":e=Pa(Ps.Seconds,2);break;case"S":e=Pa(Ps.FractionalSeconds,1);break;case"SS":e=Pa(Ps.FractionalSeconds,2);break;case"SSS":e=Pa(Ps.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=JM(Ap.Short);break;case"ZZZZZ":e=JM(Ap.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=JM(Ap.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=JM(Ap.Long);break;default:return null}return gL[n]=e,e}(u);c+=d?d(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function XM(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function pp(n,e){const t=function M0e(n){return Zc(n)[_o.LocaleId]}(n);if(KM[t]??={},KM[t][e])return KM[t][e];let r="";switch(e){case"shortDate":r=qM(n,bd.Short);break;case"mediumDate":r=qM(n,bd.Medium);break;case"longDate":r=qM(n,bd.Long);break;case"fullDate":r=qM(n,bd.Full);break;case"shortTime":r=WM(n,bd.Short);break;case"mediumTime":r=WM(n,bd.Medium);break;case"longTime":r=WM(n,bd.Long);break;case"fullTime":r=WM(n,bd.Full);break;case"short":const i=pp(n,"shortTime"),s=pp(n,"shortDate");r=YM($M(n,bd.Short),[i,s]);break;case"medium":const o=pp(n,"mediumTime"),a=pp(n,"mediumDate");r=YM($M(n,bd.Medium),[o,a]);break;case"long":const l=pp(n,"longTime"),c=pp(n,"longDate");r=YM($M(n,bd.Long),[l,c]);break;case"full":const u=pp(n,"fullTime"),d=pp(n,"fullDate");r=YM($M(n,bd.Full),[u,d])}return r&&(KM[t][e]=r),r}function YM(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function af(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Pa(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function V0e(n,e){switch(n){case Ps.FullYear:return e.getFullYear();case Ps.Month:return e.getMonth();case Ps.Date:return e.getDate();case Ps.Hours:return e.getHours();case Ps.Minutes:return e.getMinutes();case Ps.Seconds:return e.getSeconds();case Ps.FractionalSeconds:return e.getMilliseconds();case Ps.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===Ps.Hours)0===a&&-12===t&&(a=12);else if(n===Ps.FractionalSeconds)return function H0e(n,e){return af(n,3).substring(0,e)}(a,e);const l=th(o,Oa.MinusSign);return af(a,e,l,r,i)}}function bo(n,e,t=El.Format,r=!1){return function(i,s){return function Q0e(n,e,t,r,i,s){switch(t){case Ls.Months:return function hL(n,e,t){const r=Zc(n),s=nh([r[_o.MonthsFormat],r[_o.MonthsStandalone]],e);return nh(s,t)}(e,i,r)[n.getMonth()];case Ls.Days:return function Fj(n,e,t){const r=Zc(n),s=nh([r[_o.DaysFormat],r[_o.DaysStandalone]],e);return nh(s,t)}(e,i,r)[n.getDay()];case Ls.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function F0e(n){const e=Zc(n);return Rj(e),(e[_o.ExtraData][2]||[]).map(r=>"string"==typeof r?AL(r):[AL(r[0]),AL(r[1])])}(e),u=function R0e(n,e,t){const r=Zc(n);Rj(r);const s=nh([r[_o.ExtraData][0],r[_o.ExtraData][1]],e)||[];return nh(s,t)||[]}(e,i,r),d=c.findIndex(f=>{if(Array.isArray(f)){const[h,A]=f,p=o>=h.hours&&a>=h.minutes,m=o<A.hours||o===A.hours&&a<A.minutes;if(h.hours<A.hours){if(p&&m)return!0}else if(p||m)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function T0e(n,e,t){const r=Zc(n),s=nh([r[_o.DayPeriodsFormat],r[_o.DayPeriodsStandalone]],e);return nh(s,t)}(e,i,r)[o<12?0:1];case Ls.Eras:return function B0e(n,e){return nh(Zc(n)[_o.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function JM(n){return function(e,t,r){const i=-1*r,s=th(t,Oa.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Ap.Short:return(i>=0?"+":"")+af(o,2,s)+af(Math.abs(i%60),2,s);case Ap.ShortGMT:return"GMT"+(i>=0?"+":"")+af(o,1,s);case Ap.Long:return"GMT"+(i>=0?"+":"")+af(o,2,s)+":"+af(Math.abs(i%60),2,s);case Ap.Extended:return 0===r?"Z":(i>=0?"+":"")+af(o,2,s)+":"+af(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const z0e=0,ZM=4;function Pj(n){const e=n.getDay(),t=0===e?-3:ZM-e;return XM(n.getFullYear(),n.getMonth(),n.getDate()+t)}function pL(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=Pj(t),o=function G0e(n){const e=XM(n,z0e,1).getDay();return XM(n,0,1+(e<=ZM?ZM:ZM+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return af(i,n,th(r,Oa.MinusSign))}}function eT(n,e=!1){return function(t,r){return af(Pj(t).getFullYear(),n,th(r,Oa.MinusSign),e)}}const gL={};function Lj(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Uj(n){return n instanceof Date&&!isNaN(n.valueOf())}const X0e=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function _L(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Qj(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const wL=/\s+/,zj=[];let CL=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=zj,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(wL):zj}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(wL):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(wL).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(vt(N),vt($h))}}static{this.\u0275dir=bn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[Vr.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class lye{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jl=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new lye(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),jj(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{jj(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(vt(Nu),vt(ma),vt(oL))}}static{this.\u0275dir=bn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function jj(n,e){n.context.$implicit=e.item}let bc=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new cye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qj("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qj("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(vt(Nu),vt(ma))}}static{this.\u0275dir=bn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class cye{constructor(){this.$implicit=null,this.ngIf=null}}function qj(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Io(e)}'.`)}let nT=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Qg.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(vt(N),vt(kM),vt($h))}}static{this.\u0275dir=bn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),G_=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(vt(Nu))}}static{this.\u0275dir=bn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[qo]})}}return n})();function lf(n,e){return new pt(2100,!1)}class Aye{createSubscription(e,t){return xj(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){xj(()=>e.unsubscribe())}}class pye{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const gye=new pye,mye=new Aye;let j_=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(ME(t))return gye;if(O9(t))return mye;throw lf()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(vt(sf,16))}}static{this.\u0275pipe=mc({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const Cye=new xn(""),Eye=new xn("");let xL=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return Oj(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw lf()}}static{this.\u0275fac=function(r){return new(r||n)(vt(cA,16),vt(Cye,24),vt(Eye,24))}}static{this.\u0275pipe=mc({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),rT=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function DL(n){return!(null==n||""===n||n!=n)}(t))return null;i||=this._locale;try{return function nye(n,e,t){return function vL(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function iye(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function rye(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const y=s.match(X0e);if(null===y)throw new Error(`${s} is not a valid digit info`);const v=y[1],_=y[3],C=y[5];null!=v&&(u=_L(v)),null!=_&&(d=_L(_)),null!=C?f=_L(C):null!=_&&d>f&&(f=d)}!function sye(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=e+n.integerLen,u=r.reduceRight(function(d,f,h,A){return A[h]=(f+=d)<10?f:f-10,l&&(0===A[h]&&h>=c?A.pop():l=!1),f>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}(c,d,f);let h=c.digits,A=c.integerLen;const p=c.exponent;let m=[];for(l=h.every(y=>!y);A<u;A++)h.unshift(0);for(;A<0;A++)h.unshift(0);A>0?m=h.splice(A,h.length):(m=h,h=[0]);const g=[];for(h.length>=e.lgSize&&g.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)g.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&g.unshift(h.join("")),a=g.join(th(t,r)),m.length&&(a+=th(t,i)+m.join("")),p&&(a+=th(t,Oa.Exponential)+"+"+p)}else a=th(t,Oa.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function yL(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?t.minFrac=t.maxFrac=u+1:"#"===d?t.maxFrac=u+1:t.posSuf+=d}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=i.length-t.posPre.length-t.posSuf.length,d=s.indexOf("#");t.negPre=s.substring(0,d).replace(/'/g,""),t.negSuf=s.slice(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function fL(n,e){return Zc(n)[_o.NumberFormats][e]}(e,jM.Decimal),th(e,Oa.MinusSign)),e,Oa.Group,Oa.Decimal,t)}(function ML(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw lf()}}static{this.\u0275fac=function(r){return new(r||n)(vt(cA,16))}}static{this.\u0275pipe=mc({name:"number",type:n,pure:!0,standalone:!0})}}return n})();let Jg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})();const Kj="browser",Fye="server";function iT(n){return n===Kj}function TL(n){return n===Fye}let Pye=(()=>{class n{static{this.\u0275prov=Dt({token:n,providedIn:"root",factory:()=>iT(Ve(Yd))?new Lye(Ve(gs),window):new kye})}}return n})();class Lye{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function Uye(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}class kye{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Xj{}function sq(n){return n&&hn(n.schedule)}function NL(n){return n[n.length-1]}function lT(n){return hn(NL(n))?n.pop():void 0}function RE(n){return sq(NL(n))?n.pop():void 0}function Zg(n){return this instanceof Zg?(this.v=n,this):new Zg(n)}function cq(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function OL(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const LL=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function uq(n){return hn(n?.then)}function dq(n){return hn(n[No])}function hq(n){return Symbol.asyncIterator&&hn(n?.[Symbol.asyncIterator])}function fq(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Aq=function H_e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pq(n){return hn(n?.[Aq])}function gq(n){return function lq(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(h){return function(A){return Promise.resolve(A).then(h,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(h,A){r[h]&&(i[h]=function(p){return new Promise(function(m,g){s.push([h,p,m,g])>1||l(h,p)})},A&&(i[h]=A(i[h])))}function l(h,A){try{!function c(h){h.value instanceof Zg?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}(r[h](A))}catch(p){f(s[0][3],p)}}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,A){h(A),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Zg(t.read());if(i)return yield Zg(void 0);yield yield Zg(r)}}finally{t.releaseLock()}})}function mq(n){return hn(n?.getReader)}function Sl(n){if(n instanceof ci)return n;if(null!=n){if(dq(n))return function V_e(n){return new ci(e=>{const t=n[No]();if(hn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(LL(n))return function Q_e(n){return new ci(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(uq(n))return function z_e(n){return new ci(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,gl)})}(n);if(hq(n))return vq(n);if(pq(n))return function G_e(n){return new ci(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(mq(n))return function j_e(n){return vq(gq(n))}(n)}throw fq(n)}function vq(n){return new ci(e=>{(function q_e(n,e){var t,r,i,s;return function oq(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=cq(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function gp(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function yq(n,e=0){return Pi((t,r)=>{t.subscribe(zi(r,i=>gp(r,n,()=>r.next(i),e),()=>gp(r,n,()=>r.complete(),e),i=>gp(r,n,()=>r.error(i),e)))})}function _q(n,e=0){return Pi((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function bq(n,e){if(!n)throw new Error("Iterable cannot be null");return new ci(t=>{gp(t,e,()=>{const r=n[Symbol.asyncIterator]();gp(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function sa(n,e){return e?function J_e(n,e){if(null!=n){if(dq(n))return function W_e(n,e){return Sl(n).pipe(_q(e),yq(e))}(n,e);if(LL(n))return function K_e(n,e){return new ci(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(uq(n))return function $_e(n,e){return Sl(n).pipe(_q(e),yq(e))}(n,e);if(hq(n))return bq(n,e);if(pq(n))return function X_e(n,e){return new ci(t=>{let r;return gp(t,e,()=>{r=n[Aq](),gp(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>hn(r?.return)&&r.return()})}(n,e);if(mq(n))return function Y_e(n,e){return bq(gq(n),e)}(n,e)}throw fq(n)}(n,e):Sl(n)}function rr(...n){return sa(n,RE(n))}function xl(n,e,t=1/0){return hn(e)?xl((r,i)=>Hr((s,o)=>e(r,s,i,o))(Sl(n(r,i))),t):("number"==typeof e&&(t=e),Pi((r,i)=>function Z_e(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&e.complete()},h=p=>c<r?A(p):l.push(p),A=p=>{s&&e.next(p),c++;let m=!1;Sl(t(p,u++)).subscribe(zi(e,g=>{i?.(g),s?h(g):e.next(g)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const g=l.shift();o?gp(e,o,()=>A(g)):A(g)}f()}catch(g){e.error(g)}}))};return n.subscribe(zi(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,n,t)))}function em(n,e){return hn(e)?xl(n,e,1):xl(n,1)}function q_(n){return Pi((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ou(n,e){return Pi((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(zi(r,l=>{i?.unsubscribe();let c=0;const u=s++;Sl(n(l,u)).subscribe(i=zi(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ko(n,e,t){const r=hn(n)||e||t?{next:n,error:e,complete:t}:n;return r?Pi((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(zi(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):us}class cT{}class uT{}class Zl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Zl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Zl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Zl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class e1e{encodeKey(e){return wq(e)}encodeValue(e){return wq(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const n1e=/%(\d[a-f0-9])/gi,r1e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wq(n){return encodeURIComponent(n).replace(n1e,(e,t)=>r1e[t]??e)}function dT(n){return`${n}`}class tm{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new e1e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function t1e(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(dT):[dT(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new tm({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(dT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(dT(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class i1e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Cq(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Eq(n){return typeof Blob<"u"&&n instanceof Blob}function Sq(n){return typeof FormData<"u"&&n instanceof FormData}class mp{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function s1e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Zl,this.context??=new i1e,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new tm,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||Cq(this.body)||Eq(this.body)||Sq(this.body)||function o1e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof tm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Sq(this.body)?null:Eq(this.body)?this.body.type||null:Cq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new mp(t,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}}var vp=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(vp||{});class UL{constructor(e,t=OE.Ok,r="OK"){this.headers=e.headers||new Zl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class hT extends UL{constructor(e={}){super(e),this.type=vp.ResponseHeader}clone(e={}){return new hT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yp extends UL{constructor(e={}){super(e),this.type=vp.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new yp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class W_ extends UL{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var OE=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(OE||{});function kL(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let s0=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof mp)s=t;else{let l,c;l=i.headers instanceof Zl?i.headers:new Zl(i.headers),i.params&&(c=i.params instanceof tm?i.params:new tm({fromObject:i.params})),s=new mp(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const o=rr(s).pipe(em(l=>this.handler.handle(l)));if(t instanceof mp||"events"===i.observe)return o;const a=o.pipe(Ys(l=>l instanceof yp));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Hr(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Hr(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Hr(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Hr(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new tm).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,kL(i,r))}post(t,r,i={}){return this.request("POST",t,kL(i,r))}put(t,r,i={}){return this.request("PUT",t,kL(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Yt(cT))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();function Dq(n,e){return e(n)}function d1e(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Mq=new xn(""),PE=new xn(""),Tq=new xn(""),Bq=new xn("");function f1e(){let n=null;return(e,t)=>{null===n&&(n=(Ve(Mq,{optional:!0})??[]).reduceRight(d1e,Dq));const r=Ve(jg),i=r.add();return n(e,t).pipe(q_(()=>r.remove(i)))}}let Nq=(()=>{class n extends cT{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Ve(jg);const i=Ve(Bq,{optional:!0});this.backend=i??t}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(PE),...this.injector.get(Tq,[])]));this.chain=i.reduceRight((s,o)=>function h1e(n,e,t){return(r,i)=>zd(t,()=>e(r,s=>n(s,i)))}(s,o,this.injector),Dq)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(q_(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(Yt(uT),Yt(el))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();const v1e=/^\)\]\}',?\n/;let Fq=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new pt(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?sa(r.\u0275loadImpl()):rr(null)).pipe(Ou(()=>new ci(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((p,m)=>o.setRequestHeader(p,m.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const p=t.detectContentTypeHeader();null!==p&&o.setRequestHeader("Content-Type",p)}if(t.responseType){const p=t.responseType.toLowerCase();o.responseType="json"!==p?p:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const p=o.statusText||"OK",m=new Zl(o.getAllResponseHeaders()),g=function y1e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new hT({headers:m,status:o.status,statusText:p,url:g}),l},u=()=>{let{headers:p,status:m,statusText:g,url:y}=c(),v=null;m!==OE.NoContent&&(v=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=v?OE.Ok:0);let _=m>=200&&m<300;if("json"===t.responseType&&"string"==typeof v){const C=v;v=v.replace(v1e,"");try{v=""!==v?JSON.parse(v):null}catch(b){v=C,_&&(_=!1,v={error:b,text:v})}}_?(s.next(new yp({body:v,headers:p,status:m,statusText:g,url:y||void 0})),s.complete()):s.error(new W_({error:v,headers:p,status:m,statusText:g,url:y||void 0}))},d=p=>{const{url:m}=c(),g=new W_({error:p,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});s.error(g)};let f=!1;const h=p=>{f||(s.next(c()),f=!0);let m={type:vp.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),"text"===t.responseType&&o.responseText&&(m.partialText=o.responseText),s.next(m)},A=p=>{let m={type:vp.UploadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),s.next(m)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),t.reportProgress&&(o.addEventListener("progress",h),null!==a&&o.upload&&o.upload.addEventListener("progress",A)),o.send(a),s.next({type:vp.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),t.reportProgress&&(o.removeEventListener("progress",h),null!==a&&o.upload&&o.upload.removeEventListener("progress",A)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Yt(Xj))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();const QL=new xn(""),Rq=new xn("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Oq=new xn("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Pq{}let w1e=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qj(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Yt(gs),Yt(Yd),Yt(Rq))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();function C1e(n,e){const t=n.url.toLowerCase();if(!Ve(QL)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=Ve(Pq).getToken(),i=Ve(Oq);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var nm=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(nm||{});function o0(n,e){return{\u0275kind:n,\u0275providers:e}}function E1e(...n){const e=[s0,Fq,Nq,{provide:cT,useExisting:Nq},{provide:uT,useExisting:Fq},{provide:PE,useValue:C1e,multi:!0},{provide:QL,useValue:!0},{provide:Pq,useClass:w1e}];for(const t of n)e.push(...t.\u0275providers);return Eg(e)}const Lq=new xn("");let x1e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({providers:[E1e(o0(nm.LegacyInterceptors,[{provide:Lq,useFactory:f1e},{provide:PE,useExisting:Lq,multi:!0}]))]})}}return n})();const Uq="b",kq="h",Hq="s",Vq="st",Qq="u",zq="rt",fT=new xn(""),D1e=["GET","HEAD"];function M1e(n,e){const{isCacheActive:t,...r}=Ve(fT),{transferCache:i,method:s}=n;if(!t||"POST"===s&&!r.includePostRequests&&!i||"POST"!==s&&!D1e.includes(s)||!1===i||!1===r.filter?.(n))return e(n);const o=Ve(u_),a=function B1e(n){const{params:e,method:t,responseType:r,url:i}=n,s=Gq(e);let o=n.serializeBody();o instanceof URLSearchParams?o=Gq(o):"string"!=typeof o&&(o="");const l=function N1e(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)|0;return e+=2147483648,e.toString()}([t,r,i,o,s].join("|"));return l}(n),l=o.get(a,null);let c=r.includeHeaders;if("object"==typeof i&&i.includeHeaders&&(c=i.includeHeaders),l){const{[Uq]:d,[zq]:f,[kq]:h,[Hq]:A,[Vq]:p,[Qq]:m}=l;let g=d;switch(f){case"arraybuffer":g=(new TextEncoder).encode(d).buffer;break;case"blob":g=new Blob([d])}let y=new Zl(h);return rr(new yp({body:g,headers:y,status:A,statusText:p,url:m}))}const u=TL(Ve(Yd));return e(n).pipe(Ko(d=>{d instanceof yp&&u&&o.set(a,{[Uq]:d.body,[kq]:T1e(d.headers,c),[Hq]:d.status,[Vq]:d.statusText,[Qq]:d.url||"",[zq]:n.responseType})}))}function T1e(n,e){if(!e)return{};const t={};for(const r of e){const i=n.getAll(r);null!==i&&(t[r]=i)}return t}function Gq(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function I1e(n){return[{provide:fT,useFactory:()=>(Kh("NgHttpTransferCache"),{isCacheActive:!0,...n})},{provide:Tq,useValue:M1e,multi:!0,deps:[u_,fT]},{provide:RM,multi:!0,useFactory:()=>{const e=Ve(rf),t=Ve(fT);return()=>{k9(e).then(()=>{t.isCacheActive=!1})}}}]}class F1e extends _0e{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zL extends F1e{static makeCurrent(){!function y0e(n){Dj??=n}(new zL)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function R1e(){return LE=LE||document.querySelector("base"),LE?LE.getAttribute("href"):null}();return null==t?null:function O1e(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){LE=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qj(document.cookie,e)}}let LE=null,L1e=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();const GL=new xn("");let jq=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new pt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Yt(GL),Yt(Dr))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();class qq{constructor(e){this._doc=e}}const jL="ng-app-id";let Wq=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=TL(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${jL}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(jL),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(jL,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Yt(gs),Yt(PD),Yt(XV,8),Yt(Yd))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();const qL={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},WL=/%COMP%/g,V1e=new xn("",{providedIn:"root",factory:()=>!0});function Kq(n,e){return e.map(t=>t.replace(WL,n))}let $L=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=TL(a),this.defaultRenderer=new KL(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xu.ShadowDom&&(r={...r,encapsulation:xu.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Yq?i.applyToHost(t):i instanceof XL&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case xu.Emulated:s=new Yq(l,c,r,this.appId,u,o,a,d);break;case xu.ShadowDom:return new j1e(l,c,t,r,o,a,this.nonce,d);default:s=new XL(l,c,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Yt(jq),Yt(Wq),Yt(PD),Yt(V1e),Yt(gs),Yt(Yd),Yt(Dr),Yt(XV))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();class KL{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(qL[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Xq(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Xq(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new pt(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=qL[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=qL[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Qg.DashCase|Qg.Important)?e.style.setProperty(t,r,i&Qg.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Qg.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Yg().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Xq(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class j1e extends KL{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Kq(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class XL extends KL{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?Kq(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Yq extends XL{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function Q1e(n){return"_ngcontent-%COMP%".replace(WL,n)}(c),this.hostAttr=function z1e(n){return"_nghost-%COMP%".replace(WL,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let q1e=(()=>{class n extends qq{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Yt(gs))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();const Jq=["alt","control","meta","shift"],W1e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$1e={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let K1e=(()=>{class n extends qq{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yg().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Jq.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=W1e[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Jq.forEach(o=>{o!==i&&(0,$1e[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Yt(gs))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();const eW=[{provide:Yd,useValue:Kj},{provide:KV,useValue:function X1e(){zL.makeCurrent()},multi:!0},{provide:gs,useFactory:function J1e(){return function Pue(n){YO=n}(document),document},deps:[]}],Z1e=q9(Rve,"browser",eW),ebe=new xn(""),tW=[{provide:IM,useClass:class P1e{addToWindow(e){rs.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new pt(5103,!1);return s},rs.getAllAngularTestabilities=()=>e.getAllTestabilities(),rs.getAllAngularRootElements=()=>e.getAllRootElements(),rs.frameworkStabilizers||(rs.frameworkStabilizers=[]),rs.frameworkStabilizers.push(r=>{const i=rs.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Yg().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:R9,useClass:K5,deps:[Dr,X5,IM]},{provide:K5,useClass:K5,deps:[Dr,X5,IM]}],nW=[{provide:Zw,useValue:"root"},{provide:pd,useFactory:function Y1e(){return new pd},deps:[]},{provide:GL,useClass:q1e,multi:!0,deps:[gs,Dr,Yd]},{provide:GL,useClass:K1e,multi:!0,deps:[gs]},$L,Wq,jq,{provide:qP,useExisting:$L},{provide:Xj,useClass:L1e,deps:[]},[]];let rW=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:PD,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(Yt(ebe,12))}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({providers:[...nW,...tW],imports:[Jg,Ove]})}}return n})(),AT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Yt(gs))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var UE=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n}(UE||{});function ibe(...n){const e=[],t=new Set,r=t.has(UE.HttpTransferCacheOptions);for(const{\u0275providers:i,\u0275kind:s}of n)t.add(s),i.length&&e.push(i);return Eg([[],Zve(),t.has(UE.NoHttpTransferCache)||r?[]:I1e({}),e])}const{isArray:sbe}=Array,{getPrototypeOf:obe,prototype:abe,keys:lbe}=Object;function aW(n){if(1===n.length){const e=n[0];if(sbe(e))return{args:e,keys:null};if(function cbe(n){return n&&"object"==typeof n&&obe(n)===abe}(e)){const t=lbe(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:ube}=Array;function YL(n){return Hr(e=>function dbe(n,e){return ube(e)?n(...e):n(e)}(n,e))}function lW(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let cW=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(vt($h),vt(N))}}static{this.\u0275dir=bn({type:n})}}return n})(),a0=(()=>{class n extends cW{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fs(n)))(i||n)}})()}static{this.\u0275dir=bn({type:n,features:[ps]})}}return n})();const rh=new xn(""),Abe={provide:rh,useExisting:qr(()=>uA),multi:!0},gbe=new xn("");let uA=(()=>{class n extends cW{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pbe(){const n=Yg()?Yg().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(vt($h),vt(N),vt(gbe,8))}}static{this.\u0275dir=bn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Xt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[lo([Abe]),ps]})}}return n})();function rm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function dW(n){return null!=n&&"number"==typeof n.length}const ec=new xn(""),im=new xn(""),mbe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class l0{static min(e){return function hW(n){return e=>{if(rm(e.value)||rm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function fW(n){return e=>{if(rm(e.value)||rm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return AW(e)}static requiredTrue(e){return function pW(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function gW(n){return rm(n.value)||mbe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function mW(n){return e=>rm(e.value)||!dW(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return vW(e)}static pattern(e){return function yW(n){if(!n)return pT;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(rm(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return SW(e)}static composeAsync(e){return xW(e)}}function AW(n){return rm(n.value)?{required:!0}:null}function vW(n){return e=>dW(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function pT(n){return null}function _W(n){return null!=n}function bW(n){return ME(n)?sa(n):n}function wW(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function CW(n,e){return e.map(t=>t(n))}function EW(n){return n.map(e=>function vbe(n){return!n.validate}(e)?e:t=>e.validate(t))}function SW(n){if(!n)return null;const e=n.filter(_W);return 0==e.length?null:function(t){return wW(CW(t,e))}}function JL(n){return null!=n?SW(EW(n)):null}function xW(n){if(!n)return null;const e=n.filter(_W);return 0==e.length?null:function(t){return function hbe(...n){const e=lT(n),{args:t,keys:r}=aW(n),i=new ci(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Sl(t[u]).subscribe(zi(s,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?lW(r,a):a),s.complete())}))}});return e?i.pipe(YL(e)):i}(CW(t,e).map(bW)).pipe(Hr(wW))}}function ZL(n){return null!=n?xW(EW(n)):null}function DW(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function MW(n){return n._rawValidators}function TW(n){return n._rawAsyncValidators}function e3(n){return n?Array.isArray(n)?n:[n]:[]}function gT(n,e){return Array.isArray(n)?n.includes(e):n===e}function BW(n,e){const t=e3(e);return e3(n).forEach(i=>{gT(t,i)||t.push(i)}),t}function NW(n,e){return e3(e).filter(t=>!gT(n,t))}class IW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=JL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class tu extends IW{get formDirective(){return null}get path(){return null}}class sm extends IW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FW{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let om=(()=>{class n extends FW{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(vt(sm,2))}}static{this.\u0275dir=bn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ri("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ps]})}}return n})(),$_=(()=>{class n extends FW{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(vt(tu,10))}}static{this.\u0275dir=bn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ri("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ps]})}}return n})();const kE="VALID",vT="INVALID",K_="PENDING",HE="DISABLED";function r3(n){return(yT(n)?n.validators:n)||null}function i3(n,e){return(yT(e)?e.asyncValidators:n)||null}function yT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function OW(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new pt(1e3,"");if(!r[t])throw new pt(1001,"")}function PW(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new pt(1002,"")})}class _T{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kE}get invalid(){return this.status===vT}get pending(){return this.status==K_}get disabled(){return this.status===HE}get enabled(){return this.status!==HE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BW(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BW(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NW(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NW(e,this._rawAsyncValidators))}hasValidator(e){return gT(this._rawValidators,e)}hasAsyncValidator(e){return gT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=K_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=HE,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kE,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kE||this.status===K_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?HE:kE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=K_,this._hasOwnPendingAsyncValidator=!0;const t=bW(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ie,this.statusChanges=new ie}_calculateStatus(){return this._allControlsDisabled()?HE:this.errors?vT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(K_)?K_:this._anyControlsHaveStatus(vT)?vT:kE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function wbe(n){return Array.isArray(n)?JL(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Cbe(n){return Array.isArray(n)?ZL(n):n||null}(this._rawAsyncValidators)}}class VE extends _T{constructor(e,t,r){super(r3(t),i3(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){PW(this,0,e),Object.keys(e).forEach(r=>{OW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class LW extends VE{}const c0=new xn("CallSetDisabledState",{providedIn:"root",factory:()=>QE}),QE="always";function bT(n,e){return[...e.path,n]}function zE(n,e,t=QE){s3(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Sbe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&UW(n,e)})}(n,e),function Dbe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function xbe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&UW(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ebe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function wT(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ET(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function CT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function s3(n,e){const t=MW(n);null!==e.validator?n.setValidators(DW(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=TW(n);null!==e.asyncValidator?n.setAsyncValidators(DW(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();CT(e._rawValidators,i),CT(e._rawAsyncValidators,i)}function ET(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=MW(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=TW(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return CT(e._rawValidators,r),CT(e._rawAsyncValidators,r),t}function UW(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kW(n,e){s3(n,e)}function a3(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function HW(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function l3(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===uA?t=s:function Bbe(n){return Object.getPrototypeOf(n.constructor)===a0}(s)?r=s:i=s}),i||r||t||null}const Ibe={provide:tu,useExisting:qr(()=>X_)},GE=Promise.resolve();let X_=(()=>{class n extends tu{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ie,this.form=new VE({},JL(t),ZL(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){GE.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),zE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){GE.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){GE.then(()=>{const r=this._findContainer(t.path),i=new VE({});kW(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){GE.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){GE.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,HW(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(vt(ec,10),vt(im,10),vt(c0,8))}}static{this.\u0275dir=bn({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Xt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[Vr.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lo([Ibe]),ps]})}}return n})();function VW(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function QW(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const jE=class extends _T{constructor(e=null,t,r){super(r3(t),i3(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=QW(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){QW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Obe={provide:sm,useExisting:qr(()=>u0)},jW=Promise.resolve();let u0=(()=>{class n extends sm{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new jE,this._registered=!1,this.name="",this.update=new ie,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=l3(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),a3(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){jW.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Yl(r);jW.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?bT(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(vt(tu,9),vt(ec,10),vt(im,10),vt(rh,10),vt(sf,8),vt(c0,8))}}static{this.\u0275dir=bn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Vr.None,"disabled","isDisabled"],model:[Vr.None,"ngModel","model"],options:[Vr.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[lo([Obe]),ps,qo]})}}return n})(),Y_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const c3=new xn(""),Vbe={provide:tu,useExisting:qr(()=>qE)};let qE=(()=>{class n extends tu{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ie,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ET(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return zE(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){wT(t.control||null,t,!1),function Nbe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,HW(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(wT(r||null,t),(n=>n instanceof jE)(i)&&(zE(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);kW(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Mbe(n,e){return ET(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){s3(this.form,this),this._oldForm&&ET(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||n)(vt(ec,10),vt(im,10),vt(c0,8))}}static{this.\u0275dir=bn({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Xt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[Vr.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lo([Vbe]),ps,qo]})}}return n})();const Gbe={provide:sm,useExisting:qr(()=>ST)};let ST=(()=>{class n extends sm{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new ie,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=l3(0,s)}ngOnChanges(t){this._added||this._setUpControl(),a3(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return bT(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(vt(tu,13),vt(ec,10),vt(im,10),vt(rh,10),vt(c3,8))}}static{this.\u0275dir=bn({type:n,selectors:[["","formControlName",""]],inputs:{name:[Vr.None,"formControlName","name"],isDisabled:[Vr.None,"disabled","isDisabled"],model:[Vr.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[lo([Gbe]),ps,qo]})}}return n})();const jbe={provide:rh,useExisting:qr(()=>WE),multi:!0};function YW(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let WE=(()=>{class n extends a0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=YW(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function qbe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fs(n)))(i||n)}})()}static{this.\u0275dir=bn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Xt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[lo([jbe]),ps]})}}return n})(),d0=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(YW(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(vt(N),vt($h),vt(WE,9))}}static{this.\u0275dir=bn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const Wbe={provide:rh,useExisting:qr(()=>h3),multi:!0};function JW(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let h3=(()=>{class n extends a0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function $be(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fs(n)))(i||n)}})()}static{this.\u0275dir=bn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Xt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[lo([Wbe]),ps]})}}return n})(),h0=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(JW(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(JW(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(vt(N),vt($h),vt(h3,9))}}static{this.\u0275dir=bn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let f0=(()=>{class n{constructor(){this._validator=pT}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,features:[qo]})}}return n})();const Ybe={provide:ec,useExisting:qr(()=>xT),multi:!0};let xT=(()=>{class n extends f0{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Yl,this.createValidator=t=>AW}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fs(n)))(i||n)}})()}static{this.\u0275dir=bn({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ji("required",i._enabled?"":null)},inputs:{required:"required"},features:[lo([Ybe]),ps]})}}return n})();const twe={provide:ec,useExisting:qr(()=>DT),multi:!0};let DT=(()=>{class n extends f0{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function ZW(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>vW(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fs(n)))(i||n)}})()}static{this.\u0275dir=bn({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ji("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[lo([twe]),ps]})}}return n})(),a$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})();class l$ extends _T{constructor(e,t,r){super(r3(t),i3(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){PW(this,0,e),e.forEach((r,i)=>{OW(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function c$(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let u$=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return c$(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new VE(i,s)}record(t,r=null){const i=this._reduceControls(t);return new LW(i,r)}control(t,r,i){let s={};return this.useNonNullable?(c$(r)?s=r:(s.validators=r,s.asyncValidators=i),new jE(t,{...s,nonNullable:!0})):new jE(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new l$(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof jE||t instanceof _T?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),d$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:c0,useValue:t.callSetDisabledState??QE}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({imports:[a$]})}}return n})(),rwe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:c3,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:c0,useValue:t.callSetDisabledState??QE}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({imports:[a$]})}}return n})();var Nr=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Nr||{});const _p="*";function h$(n){return{type:Nr.Style,styles:n,offset:null}}class $E{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class f${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function A$(n){return new pt(3e3,!1)}function am(n){switch(n.length){case 0:return new $E;case 1:return n[0];default:return new f$(n)}}function p$(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((f,h)=>{let A=h,p=f;if("offset"!==h)switch(A=n.normalizePropertyName(A,i),p){case"!":p=t.get(h);break;case _p:p=r.get(h);break;default:p=n.normalizeStyleValue(h,A,p,i)}d.set(A,p)}),u||s.push(d),a=d,o=c}),i.length)throw function Nwe(n){return new pt(3502,!1)}();return s}function A3(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&p3(t,"start",n)));break;case"done":n.onDone(()=>r(t&&p3(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&p3(t,"destroy",n)))}}function p3(n,e,t){const s=g3(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function g3(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function wd(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function g$(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const zwe=typeof document>"u"?null:document.documentElement;function m3(n){const e=n.parentNode||n.host||null;return e===zwe?null:e}let A0=null,m$=!1;function v$(n,e){for(;e;){if(e===n)return!0;e=m3(e)}return!1}function y$(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let v3=(()=>{class n{validateStyleProperty(t){return function jwe(n){A0||(A0=function qwe(){return typeof document<"u"?document.body:null}()||{},m$=!!A0.style&&"WebkitAppearance"in A0.style);let e=!0;return A0.style&&!function Gwe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in A0.style,!e&&m$&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in A0.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return v$(t,r)}getParentElement(t){return m3(t)}query(t,r,i){return y$(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new $E(i,s)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();class y3{static{this.NOOP=new v3}}class _3{}const $we=1e3,b3="ng-enter",MT="ng-leave",TT="ng-trigger",BT=".ng-trigger",b$="ng-animating",w3=".ng-animating";function bp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:C3(parseFloat(e[1]),e[2])}function C3(n,e){return"s"===e?n*$we:n}function NT(n,e,t){return n.hasOwnProperty("duration")?n:function Xwe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(A$()),{duration:0,delay:0,easing:""};i=C3(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=C3(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function cwe(){return new pt(3100,!1)}()),a=!0),s<0&&(e.push(function uwe(){return new pt(3101,!1)}()),a=!0),a&&e.splice(l,0,A$())}return{duration:i,delay:s,easing:o}}(n,e,t)}function dA(n,e,t){e.forEach((r,i)=>{const s=S3(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function p0(n,e){e.forEach((t,r)=>{const i=S3(r);n.style[i]=""})}function KE(n){return Array.isArray(n)?1==n.length?n[0]:function iwe(n,e=null){return{type:Nr.Sequence,steps:n,options:e}}(n):n}const E3=new RegExp("{{\\s*(.+?)\\s*}}","g");function C$(n){let e=[];if("string"==typeof n){let t;for(;t=E3.exec(n);)e.push(t[1]);E3.lastIndex=0}return e}function XE(n,e,t){const r=`${n}`,i=r.replace(E3,(s,o)=>{let a=e[o];return null==a&&(t.push(function hwe(n){return new pt(3003,!1)}()),a=""),a.toString()});return i==r?n:i}const Zwe=/-+([a-z0-9])/g;function S3(n){return n.replace(Zwe,(...e)=>e[1].toUpperCase())}function Cd(n,e,t){switch(e.type){case Nr.Trigger:return n.visitTrigger(e,t);case Nr.State:return n.visitState(e,t);case Nr.Transition:return n.visitTransition(e,t);case Nr.Sequence:return n.visitSequence(e,t);case Nr.Group:return n.visitGroup(e,t);case Nr.Animate:return n.visitAnimate(e,t);case Nr.Keyframes:return n.visitKeyframes(e,t);case Nr.Style:return n.visitStyle(e,t);case Nr.Reference:return n.visitReference(e,t);case Nr.AnimateChild:return n.visitAnimateChild(e,t);case Nr.AnimateRef:return n.visitAnimateRef(e,t);case Nr.Query:return n.visitQuery(e,t);case Nr.Stagger:return n.visitStagger(e,t);default:throw function fwe(n){return new pt(3004,!1)}()}}function x3(n,e){return window.getComputedStyle(n)[e]}const nCe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class E$ extends _3{normalizePropertyName(e,t){return S3(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(nCe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Awe(n,e){return new pt(3005,!1)}())}return o+s}}const IT="*";const FT=new Set(["true","1"]),RT=new Set(["false","0"]);function S$(n,e){const t=FT.has(n)||RT.has(n),r=FT.has(e)||RT.has(e);return(i,s)=>{let o=n==IT||n==i,a=e==IT||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?FT.has(n):RT.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?FT.has(e):RT.has(e)),o&&a}}const oCe=new RegExp("s*:selfs*,?","g");function D3(n,e,t,r){return new aCe(n).build(e,t,r)}class aCe{constructor(e){this._driver=e}build(e,t,r){const i=new uCe(t);return this._resetContextStyleTimingState(i),Cd(this,KE(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function pwe(){return new pt(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Nr.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==Nr.Transition){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function gwe(){return new pt(3007,!1)}())}),{type:Nr.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{C$(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(function mwe(n,e){return new pt(3008,!1)}(0,s.values()))}return{type:Nr.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Cd(this,KE(e.animation),t),i=function rCe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function iCe(n,e,t){if(":"==n[0]){const l=function sCe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Dwe(n){return new pt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function xwe(n){return new pt(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(S$(i,o)),"<"==s[0]&&(i!=IT||o!=IT)&&e.push(S$(o,i))}(r,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Nr.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:g0(e.options)}}visitSequence(e,t){return{type:Nr.Sequence,steps:e.steps.map(r=>Cd(this,r,t)),options:g0(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Cd(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Nr.Group,steps:s,options:g0(e.options)}}visitAnimate(e,t){const r=function hCe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return M3(NT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=M3(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=NT(t,e);return M3(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:h$({});if(s.type==Nr.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=h$(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:Nr.Animate,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===_p?r.push(a):t.errors.push(new pt(3002,!1)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:Nr.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function ywe(n,e,t,r,i){return new pt(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function Jwe(n,e,t){const r=e.params||{},i=C$(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function dwe(n){return new pt(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:Nr.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function _we(){return new pt(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(g=>{const y=this._makeStyleAst(g,t);let v=null!=y.offset?y.offset:function dCe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),_=0;return null!=v&&(s++,_=y.offset=v),l=l||_<0||_>1,a=a||_<c,c=_,o.push(_),y});l&&t.errors.push(function bwe(){return new pt(3012,!1)}()),a&&t.errors.push(function wwe(){return new pt(3200,!1)}());const d=e.steps.length;let f=0;s>0&&s<d?t.errors.push(function Cwe(){return new pt(3202,!1)}()):0==s&&(f=1/(d-1));const h=d-1,A=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return u.forEach((g,y)=>{const v=f>0?y==h?1:f*y:o[y],_=v*m;t.currentTime=A+p.delay+_,p.duration=_,this._validateStyleAst(g,t),g.offset=v,r.styles.push(g)}),r}visitReference(e,t){return{type:Nr.Reference,animation:Cd(this,KE(e.animation),t),options:g0(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Nr.AnimateChild,options:g0(e.options)}}visitAnimateRef(e,t){return{type:Nr.AnimateRef,animation:this.visitReference(e.animation,t),options:g0(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function lCe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(oCe,"")),n=n.replace(/@\*/g,BT).replace(/@\w+/g,t=>BT+"-"+t.slice(1)).replace(/:animating/g,w3),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,wd(t.collectedStyles,t.currentQuerySelector,new Map);const a=Cd(this,KE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Nr.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:g0(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ewe(){return new pt(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:NT(e.timings,t.errors,!0);return{type:Nr.Stagger,animation:Cd(this,KE(e.animation),t),timings:r,options:null}}}class uCe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function g0(n){return n?(n={...n}).params&&(n.params=function cCe(n){return n?{...n}:null}(n.params)):n={},n}function M3(n,e,t){return{duration:n,delay:e,easing:t}}function T3(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class OT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const pCe=new RegExp(":enter","g"),mCe=new RegExp(":leave","g");function B3(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new vCe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class vCe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new OT;const d=new N3(e,t,c,i,s,u,[]);d.options=l;const f=l.delay?bp(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),Cd(this,r,d);const h=d.timelines.filter(A=>A.containsAnimation());if(h.length&&a.size){let A;for(let p=h.length-1;p>=0;p--){const m=h[p];if(m.element===t){A=m;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([a],null,d.errors,l)}return h.length?h.map(A=>A.buildKeyframes()):[T3(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:bp(XE(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?bp(r.duration):null,a=null!=r.delay?bp(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Cd(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){i.previousNode.type==Nr.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=PT);const o=bp(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Cd(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?bp(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Cd(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return NT(t.params?XE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;s.type==Nr.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?bp(i.delay):0;s&&(t.previousNode.type===Nr.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=PT);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Cd(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Cd(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const PT={};class N3{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=PT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new LT(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=bp(r.duration)),null!=r.delay&&(i.delay=bp(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=XE(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new N3(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=PT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new yCe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(pCe,"."+this._enterClassName)).replace(mCe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function Swe(n){return new pt(3014,!1)}()),a}}class LT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new LT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||_p),this._currentKeyframe.set(t,_p);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function _Ce(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r??=e.keys();for(let s of r)t.set(s,_p)}else for(let[s,o]of i)t.set(s,o)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=XE(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??_p),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{"!"===u?e.add(d):u===_p&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=[...e.values()],o=[...t.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return T3(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class yCe extends LT{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);const c=new Map(e[0]);c.set("offset",M$(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let f=new Map(e[d]);const h=f.get("offset");f.set("offset",M$((t+h*r)/o)),s.push(f)}r=o,t=0,i="",e=s}return T3(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function M$(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function T$(n,e,t,r,i,s,o,a,l,c,u,d,f){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}const I3={};class B${constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function bCe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],f=this.ast.options&&this.ast.options.params||I3,A=this.buildStyles(r,a&&a.params||I3,d),p=l&&l.params||I3,m=this.buildStyles(i,p,d),g=new Set,y=new Map,v=new Map,_="void"===i,C={params:N$(p,f),delay:this.ast.options?.delay},b=u?[]:B3(e,t,this.ast.animation,s,o,A,m,C,c,d);let M=0;return b.forEach(D=>{M=Math.max(D.duration+D.delay,M)}),d.length?T$(t,this._triggerName,r,i,_,A,m,[],[],y,v,M,d):(b.forEach(D=>{const S=D.element,T=wd(y,S,new Set);D.preStyleProps.forEach(R=>T.add(R));const B=wd(v,S,new Set);D.postStyleProps.forEach(R=>B.add(R)),S!==t&&g.add(S)}),T$(t,this._triggerName,r,i,_,A,m,b,[...g.values()],y,v,M))}}function N$(n,e){const t={...e};return Object.entries(n).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class wCe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=N$(e,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=XE(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class ECe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new wCe(i.style,i.options&&i.options.params||{},r))}),I$(this.states,"true","1"),I$(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new B$(e,i,this.states))}),this.fallbackTransition=function SCe(n,e,t){return new B$(n,{type:Nr.Transition,animation:{type:Nr.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function I$(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const xCe=new OT;class DCe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=D3(this._driver,t,r,[]);if(r.length)throw function Iwe(n){return new pt(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=p$(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=B3(this._driver,t,s,b3,MT,new Map,new Map,r,xCe,i),o.forEach(u=>{const d=wd(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(function Fwe(){return new pt(3300,!1)}()),o=[]),i.length)throw function Rwe(n){return new pt(3504,!1)}();a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,_p))})});const c=am(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Owe(n){return new pt(3301,!1)}();return t}listen(e,t,r,i){const s=g3(t,"","","");return A3(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const F$="ng-animate-queued",F3="ng-animate-disabled",ICe=[],R$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},FCe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cf="__ng_removed";class R3{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function LCe(n){return n??null}(r?e.value:e),r){const{value:s,...o}=e;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const YE="void",O3=new R3(YE);class RCe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ih(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Pwe(n,e){return new pt(3302,!1)}();if(null==r||0==r.length)throw function Lwe(n){return new pt(3303,!1)}();if(!function UCe(n){return"start"==n||"done"==n}(r))throw function Uwe(n,e){return new pt(3400,!1)}();const s=wd(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=wd(this._engine.statesByElement,e,new Map);return a.has(t)||(ih(e,TT),ih(e,TT+"-"+t),a.set(t,O3)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function kwe(n){return new pt(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new P3(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(ih(e,TT),ih(e,TT+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new R3(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=O3),c.value!==YE&&l.value===c.value){if(!function VCe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const p=[],m=s.matchStyles(l.value,l.params,p),g=s.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(()=>{p0(e,m),dA(e,g)})}return}const f=wd(this._engine.playersByElement,e,[]);f.forEach(p=>{p.namespaceId==this.id&&p.triggerName==t&&p.queued&&p.destroy()});let h=s.matchTransition(l.value,c.value,e,c.params),A=!1;if(!h){if(!i)return;h=s.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:l,toState:c,player:o,isFallbackTransition:A}),A||(ih(e,F$),o.onStart(()=>{J_(e,F$)})),o.onDone(()=>{let p=this.players.indexOf(o);p>=0&&this.players.splice(p,1);const m=this._engine.playersByElement.get(e);if(m){let g=m.indexOf(o);g>=0&&m.splice(g,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,BT,!0);r.forEach(i=>{if(i[cf])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,YE,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&am(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||O3,u=new R3(YE),d=new P3(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[cf];(!s||s===R$)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ih(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=g3(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,A3(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class OCe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new RCe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(UT(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!UT(t))return;const s=t[cf];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ih(e,F3)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),J_(e,F3))}removeNode(e,t,r){if(UT(t)){this.scheduler?.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[cf]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return UT(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,BT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,w3,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return am(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[cf];if(t&&t.setForRemoval){if(e[cf]=R$,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(F3)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ih(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?am(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Hwe(n){return new pt(3402,!1)}()}_flushAnimations(e,t){const r=new OT,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const P=this.driver.query(O,".ng-animate-queued",!0);for(let G=0;G<P.length;G++)u.add(P[G])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=L$(f,this.collectedEnterElements),A=new Map;let p=0;h.forEach((O,P)=>{const G=b3+p++;A.set(P,G),O.forEach(H=>ih(H,G))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const P=this.collectedLeaveElements[O],G=P[cf];G&&G.setForRemoval&&(m.push(P),g.add(P),G.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(H=>g.add(H)):y.add(P))}const v=new Map,_=L$(f,Array.from(g));_.forEach((O,P)=>{const G=MT+p++;v.set(P,G),O.forEach(H=>ih(H,G))}),e.push(()=>{h.forEach((O,P)=>{const G=A.get(P);O.forEach(H=>J_(H,G))}),_.forEach((O,P)=>{const G=v.get(P);O.forEach(H=>J_(H,G))}),m.forEach(O=>{this.processLeaveNode(O)})});const C=[],b=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(G=>{const H=G.player,ae=G.element;if(C.push(H),this.collectedEnterElements.length){const le=ae[cf];if(le&&le.setForMove){if(le.previousTriggersValues&&le.previousTriggersValues.has(G.triggerName)){const te=le.previousTriggersValues.get(G.triggerName),ee=this.statesByElement.get(G.element);if(ee&&ee.has(G.triggerName)){const Ae=ee.get(G.triggerName);Ae.value=te,ee.set(G.triggerName,Ae)}}return void H.destroy()}}const ve=!d||!this.driver.containsElement(d,ae),Q=v.get(ae),j=A.get(ae),K=this._buildInstruction(G,r,j,Q,ve);if(K.errors&&K.errors.length)return void b.push(K);if(ve)return H.onStart(()=>p0(ae,K.fromStyles)),H.onDestroy(()=>dA(ae,K.toStyles)),void i.push(H);if(G.isFallbackTransition)return H.onStart(()=>p0(ae,K.fromStyles)),H.onDestroy(()=>dA(ae,K.toStyles)),void i.push(H);const oe=[];K.timelines.forEach(le=>{le.stretchStartingKeyframe=!0,this.disabledNodes.has(le.element)||oe.push(le)}),K.timelines=oe,r.append(ae,K.timelines),o.push({instruction:K,player:H,element:ae}),K.queriedElements.forEach(le=>wd(a,le,[]).push(H)),K.preStyleProps.forEach((le,te)=>{if(le.size){let ee=l.get(te);ee||l.set(te,ee=new Set),le.forEach((Ae,Ee)=>ee.add(Ee))}}),K.postStyleProps.forEach((le,te)=>{let ee=c.get(te);ee||c.set(te,ee=new Set),le.forEach((Ae,Ee)=>ee.add(Ee))})});if(b.length){const O=[];b.forEach(P=>{O.push(function Vwe(n,e){return new pt(3505,!1)}())}),C.forEach(P=>P.destroy()),this.reportError(O)}const M=new Map,D=new Map;o.forEach(O=>{const P=O.element;r.has(P)&&(D.set(P,P),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,M))}),i.forEach(O=>{const P=O.element;this._getPreviousPlayers(P,!1,O.namespaceId,O.triggerName,null).forEach(H=>{wd(M,P,[]).push(H),H.destroy()})});const S=m.filter(O=>k$(O,l,c)),T=new Map;P$(T,this.driver,y,c,_p).forEach(O=>{k$(O,l,c)&&S.push(O)});const R=new Map;h.forEach((O,P)=>{P$(R,this.driver,new Set(O),l,"!")}),S.forEach(O=>{const P=T.get(O),G=R.get(O);T.set(O,new Map([...P?.entries()??[],...G?.entries()??[]]))});const U=[],k=[],q={};o.forEach(O=>{const{element:P,player:G,instruction:H}=O;if(r.has(P)){if(u.has(P))return G.onDestroy(()=>dA(P,H.toStyles)),G.disabled=!0,G.overrideTotalTime(H.totalTime),void i.push(G);let ae=q;if(D.size>1){let Q=P;const j=[];for(;Q=Q.parentNode;){const K=D.get(Q);if(K){ae=K;break}j.push(Q)}j.forEach(K=>D.set(K,ae))}const ve=this._buildAnimation(G.namespaceId,H,M,s,R,T);if(G.setRealPlayer(ve),ae===q)U.push(G);else{const Q=this.playersByElement.get(ae);Q&&Q.length&&(G.parentPlayer=am(Q)),i.push(G)}}else p0(P,H.fromStyles),G.onDestroy(()=>dA(P,H.toStyles)),k.push(G),u.has(P)&&i.push(G)}),k.forEach(O=>{const P=s.get(O.element);if(P&&P.length){const G=am(P);O.setRealPlayer(G)}}),i.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<m.length;O++){const P=m[O],G=P[cf];if(J_(P,MT),G&&G.hasAnimation)continue;let H=[];if(a.size){let ve=a.get(P);ve&&ve.length&&H.push(...ve);let Q=this.driver.query(P,w3,!0);for(let j=0;j<Q.length;j++){let K=a.get(Q[j]);K&&K.length&&H.push(...K)}}const ae=H.filter(ve=>!ve.destroyed);ae.length?kCe(this,P,ae):this.processLeaveNode(P)}return m.length=0,U.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const P=this.players.indexOf(O);this.players.splice(P,1)}),O.play()}),U}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==YE;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=wd(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(h=>{const A=h.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),h.destroy(),d.push(h)})}p0(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,f=t.timelines.map(A=>{const p=A.element;u.add(p);const m=p[cf];if(m&&m.removedBeforeQueried)return new $E(A.duration,A.delay);const g=p!==l,y=function HCe(n){const e=[];return U$(n,e),e}((r.get(p)||ICe).map(M=>M.getRealPlayer())).filter(M=>!!M.element&&M.element===p),v=s.get(p),_=o.get(p),C=p$(this._normalizer,A.keyframes,v,_),b=this._buildPlayer(A,C,y);if(A.subTimeline&&i&&d.add(p),g){const M=new P3(e,a,p);M.setRealPlayer(b),c.push(M)}return b});c.forEach(A=>{wd(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function PCe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,A.element,A))}),u.forEach(A=>ih(A,b$));const h=am(f);return h.onDestroy(()=>{u.forEach(A=>J_(A,b$)),dA(l,t.toStyles)}),d.forEach(A=>{wd(i,A,[]).push(h)}),h}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new $E(e.duration,e.delay)}}class P3{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new $E,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>A3(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){wd(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function UT(n){return n&&1===n.nodeType}function O$(n,e){const t=n.style.display;return n.style.display=e??"none",t}function P$(n,e,t,r,i){const s=[];t.forEach(l=>s.push(O$(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const f=e.computeStyle(c,d,i);u.set(d,f),(!f||0==f.length)&&(c[cf]=FCe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>O$(l,s[a++])),o}function L$(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function ih(n,e){n.classList?.add(e)}function J_(n,e){n.classList?.remove(e)}function kCe(n,e,t){am(t).onDone(()=>n.processLeaveNode(e))}function U$(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof f$?U$(r.players,e):e.push(r)}}function k$(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class JE{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new OCe(e.body,t,r,i),this._timelineEngine=new DCe(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=D3(this._driver,s,l,[]);if(l.length)throw function Bwe(n,e){return new pt(3404,!1)}();a=function CCe(n,e,t){return new ECe(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=g$(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=g$(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class ZE{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=ZE.initialStylesByElement.get(e);i||ZE.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&dA(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dA(this._element,this._initialStyles),this._endStyles&&(dA(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ZE.initialStylesByElement.delete(this._element),this._startStyles&&(p0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(p0(this._element,this._endStyles),this._endStyles=null),dA(this._element,this._initialStyles),this._state=3)}}function L3(n){let e=null;return n.forEach((t,r)=>{(function zCe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class H${constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:x3(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class V${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return v$(e,t)}getParentElement(e){return m3(e)}query(e,t,r){return y$(e,t,r)}computeStyle(e,t,r){return x3(e,t)}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(h=>h instanceof H$);(function eCe(n,e){return 0===n||0===e})(r,i)&&u.forEach(h=>{h.currentSnapshot.forEach((A,p)=>c.set(p,A))});let d=function Ywe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(h=>new Map(h));d=function tCe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,x3(n,a)))}}return e}(e,d,c);const f=function QCe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=L3(e[0]),e.length>1&&(r=L3(e[e.length-1]))):e instanceof Map&&(t=L3(e)),t||r?new ZE(n,t,r):null}(e,d);return new H$(e,d,l,f)}}const Q$="@.disabled";class z${constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Q$?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class GCe extends z${constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Q$?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function jCe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function qCe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}class WCe{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const c=this._rendererCache;let u=c.get(i);return u||(u=new z$("",i,this.engine,()=>c.delete(i)),c.set(i,u)),u}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new GCe(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let $Ce=(()=>{class n extends JE{constructor(t,r,i){super(t,r,i,Ve(aM,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(Yt(gs),Yt(y3),Yt(_3))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();const G$=[{provide:_3,useFactory:function KCe(){return new E$}},{provide:JE,useClass:$Ce},{provide:qP,useFactory:function XCe(n,e,t){return new WCe(n,e,t)},deps:[$L,JE,Dr]}],U3=[{provide:y3,useFactory:()=>new V$},{provide:JO,useValue:"BrowserAnimations"},...G$],j$=[{provide:y3,useClass:v3},{provide:JO,useValue:"NoopAnimations"},...G$];let YCe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?j$:U3}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({providers:U3,imports:[rW]})}}return n})();function q$(n){return!!n&&(n instanceof ci||hn(n.lift)&&hn(n.subscribe))}function k3(...n){const e=RE(n),t=lT(n),{args:r,keys:i}=aW(n);if(0===r.length)return sa([],e);const s=new ci(function JCe(n,e,t=us){return r=>{W$(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)W$(e,()=>{const c=sa(n[l],e);let u=!1;c.subscribe(zi(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>lW(i,o):us));return t?s.pipe(YL(t)):s}function W$(n,e,t){n?gp(t,n,e):e()}function Z_(n=1/0){return xl(us,n)}function eS(...n){return function ZCe(){return Z_(1)}()(sa(n,RE(n)))}function $$(n){return new ci(e=>{Sl(n()).subscribe(e)})}function HT(n,e){const t=hn(n)?n:()=>n,r=i=>i.error(t());return new ci(e?i=>e.schedule(r,0,i):r)}function H3(){return Pi((n,e)=>{let t=null;n._refCount++;const r=zi(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class K$ extends ci{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Rh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new oi;const t=this.getSubject();e.add(this.source.subscribe(zi(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=oi.EMPTY)}return e}refCount(){return H3()(this)}}function e1(n){return Pi((e,t)=>{let s,r=null,i=!1;r=e.subscribe(zi(t,void 0,void 0,o=>{s=Sl(n(o,e1(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function V3(n){return n<=0?()=>zo:Pi((e,t)=>{let r=[];e.subscribe(zi(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Y$(n){return Hr(()=>n)}function Dl(n){return Pi((e,t)=>{Sl(n).subscribe(zi(t,()=>t.complete(),Ms)),!t.closed&&e.subscribe(t)})}const bi="primary",tS=Symbol("RouteTitle");class rEe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function t1(n){return new rEe(n)}function iEe(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function hA(n,e){const t=n?Q3(n):void 0,r=e?Q3(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!J$(n[i],e[i]))return!1;return!0}function Q3(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function J$(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Z$(n){return n.length>0?n[n.length-1]:null}function lm(n){return q$(n)?n:ME(n)?sa(Promise.resolve(n)):rr(n)}const oEe={exact:function nK(n,e,t){if(!m0(n.segments,e.segments)||!VT(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!nK(n.children[r],e.children[r],t))return!1;return!0},subset:rK},eK={exact:function aEe(n,e){return hA(n,e)},subset:function lEe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>J$(n[t],e[t]))},ignored:()=>!0};function tK(n,e,t){return oEe[t.paths](n.root,e.root,t.matrixParams)&&eK[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function rK(n,e,t){return iK(n,e,e.segments,t)}function iK(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!m0(i,t)||e.hasChildren()||!VT(i,t,r))}if(n.segments.length===t.length){if(!m0(n.segments,t)||!VT(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!rK(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(m0(n.segments,i)&&VT(n.segments,i,r)&&n.children[bi])&&iK(n.children[bi],e,s,r)}}function VT(n,e,t){return e.every((r,i)=>eK[t](n[i].parameters,r.parameters))}class n1{constructor(e=new Zs([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=t1(this.queryParams),this._queryParamMap}toString(){return dEe.serialize(this)}}class Zs{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return QT(this)}}class nS{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=t1(this.parameters),this._parameterMap}toString(){return aK(this)}}function m0(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let r1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:()=>new z3,providedIn:"root"})}}return n})();class z3{parse(e){const t=new wEe(e);return new n1(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${rS(e.root,!0)}`,r=function AEe(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${zT(t)}=${zT(i)}`).join("&"):`${zT(t)}=${zT(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function hEe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const dEe=new z3;function QT(n){return n.segments.map(e=>aK(e)).join("/")}function rS(n,e){if(!n.hasChildren())return QT(n);if(e){const t=n.children[bi]?rS(n.children[bi],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==bi&&r.push(`${i}:${rS(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function uEe(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===bi&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==bi&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===bi?[rS(n.children[bi],!1)]:[`${i}:${rS(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bi]?`${QT(n)}/${t[0]}`:`${QT(n)}/(${t.join("//")})`}}function sK(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zT(n){return sK(n).replace(/%3B/gi,";")}function G3(n){return sK(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function GT(n){return decodeURIComponent(n)}function oK(n){return GT(n.replace(/\+/g,"%20"))}function aK(n){return`${G3(n.path)}${function fEe(n){return Object.entries(n).map(([e,t])=>`;${G3(e)}=${G3(t)}`).join("")}(n.parameters)}`}const pEe=/^[^\/()?;#]+/;function j3(n){const e=n.match(pEe);return e?e[0]:""}const gEe=/^[^\/()?;=#]+/,vEe=/^[^=?&#]+/,_Ee=/^[^&#]+/;class wEe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zs([],{}):new Zs([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[bi]=new Zs(e,t)),r}parseSegment(){const e=j3(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new pt(4009,!1);return this.capture(e),new nS(GT(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function mEe(n){const e=n.match(gEe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=j3(this.remaining);i&&(r=i,this.capture(r))}e[GT(t)]=GT(r)}parseQueryParam(e){const t=function yEe(n){const e=n.match(vEe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function bEe(n){const e=n.match(_Ee);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=oK(t),s=oK(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=j3(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new pt(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=bi);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[bi]:new Zs([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new pt(4011,!1)}}function lK(n){return n.segments.length>0?new Zs([],{[bi]:n}):n}function cK(n){const e={};for(const[r,i]of Object.entries(n.children)){const s=cK(i);if(r===bi&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function CEe(n){if(1===n.numberOfChildren&&n.children[bi]){const e=n.children[bi];return new Zs(n.segments.concat(e.segments),e.children)}return n}(new Zs(n.segments,e))}function i1(n){return n instanceof n1}function uK(n){let e;const i=lK(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Zs(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function dK(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return q3(i,i,i,t,r);const s=function SEe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fK(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new fK(t,e,r)}(e);if(s.toRoot())return q3(i,i,new Zs([],{}),t,r);const o=function xEe(n,e,t){if(n.isAbsolute)return new qT(e,!0,0);if(!t)return new qT(e,!1,NaN);if(null===t.parent)return new qT(t,!0,0);const r=jT(n.commands[0])?0:1;return function DEe(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new pt(4005,!1);i=r.segments.length}return new qT(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?sS(o.segmentGroup,o.index,s.commands):AK(o.segmentGroup,o.index,s.commands);return q3(i,o.segmentGroup,a,t,r)}function jT(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function iS(n){return"object"==typeof n&&null!=n&&n.outlets}function q3(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:hK(n,e,t);const a=lK(cK(o));return new n1(a,s,i)}function hK(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:hK(s,e,t)}),new Zs(n.segments,r)}class fK{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jT(r[0]))throw new pt(4003,!1);const i=r.find(iS);if(i&&i!==Z$(r))throw new pt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qT{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function AK(n,e,t){if(n??=new Zs([],{}),0===n.segments.length&&n.hasChildren())return sS(n,e,t);const r=function TEe(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(iS(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!gK(l,c,o))return s;r+=2}else{if(!gK(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Zs(n.segments.slice(0,r.pathIndex),{});return s.children[bi]=new Zs(n.segments.slice(r.pathIndex),n.children),sS(s,0,i)}return r.match&&0===i.length?new Zs(n.segments,{}):r.match&&!n.hasChildren()?W3(n,e,t):r.match?sS(n,0,i):W3(n,e,t)}function sS(n,e,t){if(0===t.length)return new Zs(n.segments,{});{const r=function MEe(n){return iS(n[0])?n[0].outlets:{[bi]:n}}(t),i={};if(Object.keys(r).some(s=>s!==bi)&&n.children[bi]&&1===n.numberOfChildren&&0===n.children[bi].segments.length){const s=sS(n.children[bi],e,t);return new Zs(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=AK(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Zs(n.segments,i)}}function W3(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(iS(s)){const l=BEe(s.outlets);return new Zs(r,l)}if(0===i&&jT(t[0])){r.push(new nS(n.segments[e].path,pK(t[0]))),i++;continue}const o=iS(s)?s.outlets[bi]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&jT(a)?(r.push(new nS(o,pK(a))),i+=2):(r.push(new nS(o,{})),i++)}return new Zs(r,{})}function BEe(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=W3(new Zs([],{}),0,r))}),e}function pK(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gK(n,e,t){return n==t.path&&hA(e,t.parameters)}const oS="imperative";var es=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(es||{});class fA{constructor(e,t){this.id=e,this.url=t}}class WT extends fA{constructor(e,t,r="imperative",i=null){super(e,t),this.type=es.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wp extends fA{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=es.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ed=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ed||{}),$T=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}($T||{});class s1 extends fA{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=es.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class o1 extends fA{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=es.NavigationSkipped}}class KT extends fA{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=es.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mK extends fA{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=es.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NEe extends fA{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=es.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IEe extends fA{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=es.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FEe extends fA{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=es.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class REe extends fA{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=es.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OEe{constructor(e){this.route=e,this.type=es.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class PEe{constructor(e){this.route=e,this.type=es.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class LEe{constructor(e){this.snapshot=e,this.type=es.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UEe{constructor(e){this.snapshot=e,this.type=es.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kEe{constructor(e){this.snapshot=e,this.type=es.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HEe{constructor(e){this.snapshot=e,this.type=es.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vK{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=es.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $3{}class K3{constructor(e){this.url=e}}class VEe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new aS,this.attachRef=null}}let aS=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new VEe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class yK{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=X3(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=X3(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Y3(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Y3(e,this._root).map(t=>t.value)}}function X3(n,e){if(n===e.value)return e;for(const t of e.children){const r=X3(n,t);if(r)return r}return null}function Y3(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Y3(n,t);if(r.length)return r.unshift(e),r}return[]}class uf{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function a1(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _K extends yK{constructor(e,t){super(e),this.snapshot=t,eU(this,e)}toString(){return this.snapshot.toString()}}function bK(n){const e=function QEe(n){const s=new Z3([],{},{},"",{},bi,n,null,{});return new wK("",new uf(s,[]))}(n),t=new ds([new nS("",{})]),r=new ds({}),i=new ds({}),s=new ds({}),o=new ds(""),a=new v0(t,r,s,o,i,bi,n,e.root);return a.snapshot=e.root,new _K(new uf(a,[]),e)}class v0{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Hr(c=>c[tS]))??rr(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Hr(e=>t1(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Hr(e=>t1(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function J3(n,e,t="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===e||"always"!==t&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...i?.data,...n._resolvedData}},i&&EK(i)&&(r.resolve[tS]=i.title),r}class Z3{get title(){return this.data?.[tS]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=t1(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=t1(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wK extends yK{constructor(e,t){super(t),this.url=e,eU(this,t)}toString(){return CK(this._root)}}function eU(n,e){e.value._routerState=n,e.children.forEach(t=>eU(n,t))}function CK(n){const e=n.children.length>0?` { ${n.children.map(CK).join(", ")} } `:"";return`${n.value}${e}`}function tU(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hA(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),hA(e.params,t.params)||n.paramsSubject.next(t.params),function sEe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hA(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),hA(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function nU(n,e){const t=hA(n.params,e.params)&&function cEe(n,e){return m0(n,e)&&n.every((t,r)=>hA(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nU(n.parent,e.parent))}function EK(n){return"string"==typeof n.title||null===n.title}let rU=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=bi,this.activateEvents=new ie,this.deactivateEvents=new ie,this.attachEvents=new ie,this.detachEvents=new ie,this.parentContexts=Ve(aS),this.location=Ve(Nu),this.changeDetector=Ve(sf),this.environmentInjector=Ve(el),this.inputBinder=Ve(XT,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new pt(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new iU(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qo]})}}return n})();class iU{__ngOutletInjector(e){return new iU(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===v0?this.route:e===aS?this.childContexts:this.parent.get(e,t)}}const XT=new xn("");let SK=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=k3([r.queryParams,r.params,r.data]).pipe(Ou(([s,o,a],l)=>(a={...s,...o,...a},0===l?rr(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function v0e(n){const e=_i(n);if(!e)return null;const t=new tE(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();function lS(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function GEe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return lS(n,r,i);return lS(n,r)})}(n,e,t);return new uf(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>lS(n,a)),o}}const r=function jEe(n){return new v0(new ds(n.url),new ds(n.params),new ds(n.queryParams),new ds(n.fragment),new ds(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>lS(n,s));return new uf(r,i)}}const xK="ngNavigationCancelingError";function DK(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=i1(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=MK(!1,Ed.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function MK(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[xK]=!0,t.cancellationCode=e,t}function TK(n){return!!n&&n[xK]}let BK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ra],decls:1,vars:0,template:function(r,i){1&r&&ut(0,"router-outlet")},dependencies:[rU],encapsulation:2})}}return n})();function sU(n){const e=n.children&&n.children.map(sU),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==bi&&(t.component=BK),t}function AA(n){return n.outlet||bi}function cS(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ZEe{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),tU(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=a1(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=a1(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=a1(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=a1(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new HEe(s.value.snapshot))}),e.children.length&&this.forwardEvent(new UEe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(tU(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),tU(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=cS(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class NK{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class YT{constructor(e,t){this.component=e,this.route=t}}function eSe(n,e,t){const r=n._root;return uS(r,e?e._root:null,t,[r.value])}function l1(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Eu(n){return null!==vo(n)}(n)?e.get(n):n:r}function uS(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=a1(e);return n.children.forEach(o=>{(function nSe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function rSe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!m0(n.url,e.url);case"pathParamsOrQueryParamsChange":return!m0(n.url,e.url)||!hA(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nU(n,e)||!hA(n.queryParams,e.queryParams);default:return!nU(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new NK(r)):(s.data=o.data,s._resolvedData=o._resolvedData),uS(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new YT(a.outlet.component,o))}else o&&dS(e,a,i),i.canActivateChecks.push(new NK(r)),uS(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>dS(a,t.getContext(o),i)),i}function dS(n,e,t){const r=a1(n),i=n.value;Object.entries(r).forEach(([s,o])=>{dS(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new YT(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function hS(n){return"function"==typeof n}function IK(n){return n instanceof VA||"EmptyError"===n?.name}const JT=Symbol("INITIAL_VALUE");function c1(){return Ou(n=>k3(n.map(e=>e.pipe(mo(1),function X$(...n){const e=RE(n);return Pi((t,r)=>{(e?eS(n,t,e):eS(n,t)).subscribe(r)})}(JT)))).pipe(Hr(e=>{for(const t of e)if(!0!==t){if(t===JT)return JT;if(!1===t||t instanceof n1)return t}return!0}),Ys(e=>e!==JT),mo(1)))}function FK(n){return function Ya(...n){return Qo(n)}(Ko(e=>{if(i1(e))throw DK(0,e)}),Hr(e=>!0===e))}class oU{constructor(e){this.segmentGroup=e||null}}class aU extends Error{constructor(e){super(),this.urlTree=e}}function u1(n){return HT(new oU(n))}class wSe{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return rr(r);if(i.numberOfChildren>1||!i.children[bi])return HT(new pt(4e3,!1));i=i.children[bi]}}applyRedirectCommands(e,t,r){const i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new aU(i);return i}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new n1(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Zs(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new pt(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const lU={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CSe(n,e,t,r,i){const s=cU(n,e,t);return s.matched?(r=function WEe(n,e){return n.providers&&!n._injector&&(n._injector=fM(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function ySe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?rr(i.map(o=>{const a=l1(o,n);return lm(function cSe(n){return n&&hS(n.canMatch)}(a)?a.canMatch(e,t):zd(n,()=>a(e,t)))})).pipe(c1(),FK()):rr(!0)}(r,e,t).pipe(Hr(o=>!0===o?s:{...lU}))):rr(s)}function cU(n,e,t){if("**"===e.path)return function ESe(n){return{matched:!0,parameters:n.length>0?Z$(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...lU}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||iEe)(t,n,e);if(!i)return{...lU};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function RK(n,e,t,r){return t.length>0&&function DSe(n,e,t){return t.some(r=>ZT(n,e,r)&&AA(r)!==bi)}(n,t,r)?{segmentGroup:new Zs(e,xSe(r,new Zs(t,n.children))),slicedSegments:[]}:0===t.length&&function MSe(n,e,t){return t.some(r=>ZT(n,e,r))}(n,t,r)?{segmentGroup:new Zs(n.segments,SSe(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Zs(n.segments,n.children),slicedSegments:t}}function SSe(n,e,t,r){const i={};for(const s of t)if(ZT(n,e,s)&&!r[AA(s)]){const o=new Zs([],{});i[AA(s)]=o}return{...r,...i}}function xSe(n,e){const t={};t[bi]=e;for(const r of n)if(""===r.path&&AA(r)!==bi){const i=new Zs([],{});t[AA(r)]=i}return t}function ZT(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class NSe{}class RSe{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new wSe(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new pt(4002,`'${e.segmentGroup}'`)}recognize(){const e=RK(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Hr(t=>{const r=new Z3([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bi,this.rootComponentType,null,{}),i=new uf(r,t),s=new wK("",i),o=function EEe(n,e,t=null,r=null){return dK(uK(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,bi).pipe(e1(r=>{if(r instanceof aU)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oU?this.noMatchError(r):r}))}inheritParamsAndData(e,t){const r=e.value,i=J3(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(Hr(s=>s instanceof uf?[s]:[]))}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return sa(i).pipe(em(s=>{const o=r.children[s],a=function YEe(n,e){const t=n.filter(r=>AA(r)===e);return t.push(...n.filter(r=>AA(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function tEe(n,e){return Pi(function eEe(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(zi(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),ml(null),function nEe(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ys((i,s)=>n(i,s,r)):us,V3(1),t?ml(e):Ag(()=>new VA))}(),xl(s=>{if(null===s)return u1(r);const o=OK(s);return function OSe(n){n.sort((e,t)=>e.value.outlet===bi?-1:t.value.outlet===bi?1:e.value.outlet.localeCompare(t.value.outlet))}(o),rr(o)}))}processSegment(e,t,r,i,s,o){return sa(t).pipe(em(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(e1(l=>{if(l instanceof oU)return rr(null);throw l}))),ad(a=>!!a),e1(a=>{if(IK(a))return function BSe(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?rr(new NSe):u1(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function TSe(n,e,t,r){return!!(AA(n)===r||r!==bi&&ZT(e,t,n))&&cU(e,n,t).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):u1(i):u1(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=cU(t,i,s);if(!a)return u1(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(xl(f=>this.processSegment(e,r,t,f.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){const o=CSe(t,r,i,e);return"**"===r.path&&(t.children={}),o.pipe(Ou(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(Ou(({routes:l})=>{const c=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new Z3(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function LSe(n){return n.data||{}}(r),AA(r),r.component??r._loadedComponent??null,r,function USe(n){return n.resolve||{}}(r)),{segmentGroup:A,slicedSegments:p}=RK(t,u,d,l);if(0===p.length&&A.hasChildren())return this.processChildren(c,l,A).pipe(Hr(g=>null===g?null:new uf(h,g)));if(0===l.length&&0===p.length)return rr(new uf(h,[]));const m=AA(r)===s;return this.processSegment(c,l,A,p,m?bi:s,!0).pipe(Hr(g=>new uf(h,g instanceof uf?[g]:[])))})):u1(t)))}getChildConfig(e,t,r){return t.children?rr({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?rr({routes:t._loadedRoutes,injector:t._loadedInjector}):function vSe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?rr(!0):rr(i.map(o=>{const a=l1(o,n);return lm(function sSe(n){return n&&hS(n.canLoad)}(a)?a.canLoad(e,t):zd(n,()=>a(e,t)))})).pipe(c1(),FK())}(e,t,r).pipe(xl(i=>i?this.configLoader.loadChildren(e,t).pipe(Ko(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function bSe(n){return HT(MK(!1,Ed.GuardRejected))}())):rr({routes:[],injector:e})}}function PSe(n){const e=n.value.routeConfig;return e&&""===e.path}function OK(n){const e=[],t=new Set;for(const r of n){if(!PSe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=OK(r.children);e.push(new uf(r.value,i))}return e.filter(r=>!t.has(r))}function PK(n){const e=n.children.map(t=>PK(t)).flat();return[n,...e]}function uU(n){return Ou(e=>{const t=n(e);return t?sa(t).pipe(Hr(()=>e)):rr(e)})}let LK=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===bi);return r}getResolvedTitleForRoute(t){return t.data[tS]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:()=>Ve(GSe),providedIn:"root"})}}return n})(),GSe=(()=>{class n extends LK{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Yt(AT))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const d1=new xn("",{providedIn:"root",factory:()=>({})}),h1=new xn("");let dU=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ve(H9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return rr(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=lm(t.loadComponent()).pipe(Hr(UK),Ko(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),q_(()=>{this.componentLoaders.delete(t)})),i=new K$(r,()=>new Rr).pipe(H3());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return rr({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function jSe(n,e,t,r){return lm(n.loadChildren()).pipe(Hr(UK),xl(i=>i instanceof s7||Array.isArray(i)?rr(i):sa(e.compileModuleAsync(i))),Hr(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(h1,[],{optional:!0,self:!0}).flat()),{routes:o.map(sU),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(q_(()=>{this.childrenLoaders.delete(r)})),o=new K$(s,()=>new Rr).pipe(H3());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UK(n){return function qSe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let hU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:()=>Ve(WSe),providedIn:"root"})}}return n})(),WSe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const kK=new xn(""),HK=new xn("");function $Se(n,e,t){const r=n.get(HK),i=n.get(gs);return n.get(Dr).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),function KSe(n){return new Promise(e=>{YP(e,{injector:n})})}(n))),{onViewTransitionCreated:l}=r;return l&&zd(n,()=>l({transition:a,from:e,to:t})),o})}let eB=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Rr,this.transitionAbortSubject=new Rr,this.configLoader=Ve(dU),this.environmentInjector=Ve(el),this.urlSerializer=Ve(r1),this.rootContexts=Ve(aS),this.location=Ve(Q_),this.inputBindingEnabled=null!==Ve(XT,{optional:!0}),this.titleStrategy=Ve(LK),this.options=Ve(d1,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ve(hU),this.createViewTransition=Ve(kK,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>rr(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new PEe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new OEe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new ds({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oS,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ys(s=>0!==s.id),Hr(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ou(s=>{let o=!1,a=!1;return rr(s).pipe(Ou(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ed.SupersededByNewNavigation),zo;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new o1(l.id,this.urlSerializer.serialize(l.rawUrl),d,$T.IgnoredSameUrlNavigation)),l.resolve(null),zo}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return rr(l).pipe(Ou(d=>{const f=this.transitions?.getValue();return this.events.next(new WT(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?zo:Promise.resolve(d)}),function kSe(n,e,t,r,i,s){return xl(o=>function ISe(n,e,t,r,i,s,o="emptyOnly"){return new RSe(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Hr(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ko(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const f=new mK(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:d,extractedUrl:f,source:h,restoredState:A,extras:p}=l,m=new WT(d,this.urlSerializer.serialize(f),h,A);this.events.next(m);const g=bK(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:g,urlAfterRedirects:f,extras:{...p,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,rr(s)}{const d="";return this.events.next(new o1(l.id,this.urlSerializer.serialize(l.extractedUrl),d,$T.IgnoredByUrlHandlingStrategy)),l.resolve(null),zo}}),Ko(l=>{const c=new NEe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Hr(l=>(this.currentTransition=s={...l,guards:eSe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function uSe(n,e){return xl(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?rr({...t,guardsResult:!0}):function dSe(n,e,t,r){return sa(n).pipe(xl(i=>function mSe(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?rr(s.map(a=>{const l=cS(e)??i,c=l1(a,l);return lm(function lSe(n){return n&&hS(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):zd(l,()=>c(n,e,t,r))).pipe(ad())})).pipe(c1()):rr(!0)}(i.component,i.route,t,e,r)),ad(i=>!0!==i,!0))}(o,r,i,n).pipe(xl(a=>a&&function iSe(n){return"boolean"==typeof n}(a)?function hSe(n,e,t,r){return sa(e).pipe(em(i=>eS(function ASe(n,e){return null!==n&&e&&e(new LEe(n)),rr(!0)}(i.route.parent,r),function fSe(n,e){return null!==n&&e&&e(new kEe(n)),rr(!0)}(i.route,r),function gSe(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function tSe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>$$(()=>rr(o.guards.map(l=>{const c=cS(o.node)??t,u=l1(l,c);return lm(function aSe(n){return n&&hS(n.canActivateChild)}(u)?u.canActivateChild(r,n):zd(c,()=>u(r,n))).pipe(ad())})).pipe(c1())));return rr(s).pipe(c1())}(n,i.path,t),function pSe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return rr(!0);const i=r.map(s=>$$(()=>{const o=cS(e)??t,a=l1(s,o);return lm(function oSe(n){return n&&hS(n.canActivate)}(a)?a.canActivate(e,n):zd(o,()=>a(e,n))).pipe(ad())}));return rr(i).pipe(c1())}(n,i.route,t))),ad(i=>!0!==i,!0))}(r,s,n,e):rr(a)),Hr(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Ko(l=>{if(s.guardsResult=l.guardsResult,i1(l.guardsResult))throw DK(0,l.guardsResult);const c=new IEe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ys(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",Ed.GuardRejected),!1)),uU(l=>{if(l.guards.canActivateChecks.length)return rr(l).pipe(Ko(c=>{const u=new FEe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ou(c=>{let u=!1;return rr(c).pipe(function HSe(n,e){return xl(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return rr(t);const s=new Set(i.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const c of PK(l))o.add(c);let a=0;return sa(o).pipe(em(l=>s.has(l)?function VSe(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!EK(i)&&(s[tS]=i.title),function QSe(n,e,t,r){const i=Q3(n);if(0===i.length)return rr({});const s={};return sa(i).pipe(xl(o=>function zSe(n,e,t,r){const i=cS(e)??r,s=l1(n,i);return lm(s.resolve?s.resolve(e,t):zd(i,()=>s(e,t)))}(n[o],e,t,r).pipe(ad(),Ko(a=>{s[o]=a}))),V3(1),Y$(s),e1(o=>IK(o)?zo:HT(o)))}(s,n,e,r).pipe(Hr(o=>(n._resolvedData=o,n.data=J3(n,n.parent,t).resolve,null)))}(l,r,n,e):(l.data=J3(l,l.parent,n).resolve,rr(void 0))),Ko(()=>a++),V3(1),xl(l=>a===o.size?rr(t):zo))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ko({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Ed.NoDataFromResolver)}}))}),Ko(c=>{const u=new REe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),uU(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ko(f=>{u.component=f}),Hr(()=>{})));for(const f of u.children)d.push(...c(f));return d};return k3(c(l.targetSnapshot.root)).pipe(ml(null),mo(1))}),uU(()=>this.afterPreactivation()),Ou(()=>{const{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?sa(u).pipe(Hr(()=>s)):rr(s)}),Hr(l=>{const c=function zEe(n,e,t){const r=lS(n,e._root,t?t._root:void 0);return new _K(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),Ko(()=>{this.events.next(new $3)}),((n,e,t,r)=>Hr(i=>(new ZEe(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),mo(1),Ko({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Dl(this.transitionAbortSubject.pipe(Ko(l=>{throw l}))),q_(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Ed.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),e1(l=>{if(a=!0,TK(l))this.events.next(new s1(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function qEe(n){return TK(n)&&i1(n.url)}(l)?this.events.next(new K3(l.url)):s.resolve(!1);else{this.events.next(new KT(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return zo}))}))}cancelNavigationTransition(t,r,i){const s=new s1(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XSe(n){return n!==oS}let YSe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:()=>Ve(ZSe),providedIn:"root"})}}return n})();class JSe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ZSe=(()=>{class n extends JSe{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fs(n)))(i||n)}})()}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:()=>Ve(exe),providedIn:"root"})}}return n})(),exe=(()=>{class n extends QK{constructor(){super(...arguments),this.location=Ve(Q_),this.urlSerializer=Ve(r1),this.options=Ve(d1,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ve(hU),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new n1,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bK(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof WT)this.stateMemento=this.createStateMemento();else if(t instanceof o1)this.rawUrlTree=r.initialUrl;else if(t instanceof mK){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof $3?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof s1&&(t.code===Ed.GuardRejected||t.code===Ed.NoDataFromResolver)?this.restoreHistory(r):t instanceof KT?this.restoreHistory(r,!0):t instanceof wp&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fs(n)))(i||n)}})()}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fS=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(fS||{});function zK(n,e){n.events.pipe(Ys(t=>t instanceof wp||t instanceof s1||t instanceof KT||t instanceof o1),Hr(t=>t instanceof wp||t instanceof o1?fS.COMPLETE:t instanceof s1&&(t.code===Ed.Redirect||t.code===Ed.SupersededByNewNavigation)?fS.REDIRECTING:fS.FAILED),Ys(t=>t!==fS.REDIRECTING),mo(1)).subscribe(()=>{e()})}function txe(n){throw n}const nxe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rxe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nu=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Ve(W5),this.stateManager=Ve(QK),this.options=Ve(d1,{optional:!0})||{},this.pendingTasks=Ve(jg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ve(eB),this.urlSerializer=Ve(r1),this.location=Ve(Q_),this.urlHandlingStrategy=Ve(hU),this._events=new Rr,this.errorHandler=this.options.errorHandler||txe,this.navigated=!1,this.routeReuseStrategy=Ve(YSe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ve(h1,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ve(XT,{optional:!0}),this.eventsSubscription=new oi,this.isNgZoneEnabled=Ve(Dr)instanceof Dr&&Dr.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof s1&&r.code!==Ed.Redirect&&r.code!==Ed.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof wp)this.navigated=!0;else if(r instanceof K3){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XSe(i.source)};this.scheduleNavigation(o,oS,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function sxe(n){return!(n instanceof $3||n instanceof K3)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oS,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(sU),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=uK(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return dK(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=i1(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,oS,null,r)}navigate(t,r={skipLocationChange:!1}){return function ixe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new pt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...nxe}:!1===r?{...rxe}:r,i1(t))return tK(this.currentUrlTree,t,i);const s=this.parseUrl(t);return tK(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,f)=>{a=d,l=f});const u=this.pendingTasks.add();return zK(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Us=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Rr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof wp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const r=null===this.href?null:function mQ(n,e,t){return function wde(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?gQ:Do}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(vt(nu),vt(v0),function eA(n){return function Is(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(qw(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Es(),n)}("tabindex"),vt($h),vt(N),vt(r0))}}static{this.\u0275dir=bn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Xt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&ji("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Vr.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Yl],skipLocationChange:[Vr.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Yl],replaceUrl:[Vr.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Yl],routerLink:"routerLink"},standalone:!0,features:[rE,qo]})}}return n})();class GK{}let lxe=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ys(t=>t instanceof wp),em(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=fM(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return sa(i).pipe(Z_())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):rr(null);const s=i.pipe(xl(o=>null===o?rr(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?sa([s,this.loader.loadComponent(r)]).pipe(Z_()):s})}static{this.\u0275fac=function(r){return new(r||n)(Yt(nu),Yt(H9),Yt(el),Yt(GK),Yt(dU))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const fU=new xn("");let jK=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Ve(el),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof WT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wp?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof o1&&t.code===$T.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vK&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){var i=this;this.zone.runOutsideAngular((0,mt.A)(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),YP(()=>{s()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new vK(t,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function QQ(){throw new Error("invalid")}()}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac})}}return n})();function pA(n,e){return{\u0275kind:n,\u0275providers:e}}function WK(){const n=Ve(Ro);return e=>{const t=n.get(rf);if(e!==t.components[0])return;const r=n.get(nu),i=n.get($K);1===n.get(AU)&&r.initialNavigation(),n.get(KK,null,Ti.Optional)?.setUpPreloading(),n.get(fU,null,Ti.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const $K=new xn("",{factory:()=>new Rr}),AU=new xn("",{providedIn:"root",factory:()=>1}),KK=new xn("");function hxe(n){return pA(0,[{provide:KK,useExisting:lxe},{provide:GK,useExisting:n}])}function Axe(n){return pA(9,[{provide:kK,useValue:$Se},{provide:HK,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const XK=new xn("ROUTER_FORROOT_GUARD"),pxe=[Q_,{provide:r1,useClass:z3},nu,aS,{provide:v0,useFactory:function qK(n){return n.routerState.root},deps:[nu]},dU,[]];let YK=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[pxe,[],{provide:h1,multi:!0,useValue:t},{provide:XK,useFactory:yxe,deps:[[nu,new WA,new bv]]},{provide:d1,useValue:r||{}},r?.useHash?{provide:r0,useClass:C0e}:{provide:r0,useClass:Bj},{provide:fU,useFactory:()=>{const n=Ve(Pye),e=Ve(Dr),t=Ve(d1),r=Ve(eB),i=Ve(r1);return t.scrollOffset&&n.setOffset(t.scrollOffset),new jK(i,r,n,e,t)}},r?.preloadingStrategy?hxe(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?_xe(r):[],r?.bindToComponentInputs?pA(8,[SK,{provide:XT,useExisting:SK}]).\u0275providers:[],r?.enableViewTransitions?Axe().\u0275providers:[],[{provide:JK,useFactory:WK},{provide:RM,multi:!0,useExisting:JK}]]}}static forChild(t){return{ngModule:n,providers:[{provide:h1,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Yt(XK,8))}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})();function yxe(n){return"guarded"}function _xe(n){return["disabled"===n.initialNavigation?pA(3,[{provide:FM,multi:!0,useFactory:()=>{const e=Ve(nu);return()=>{e.setUpLocationChangeListener()}}},{provide:AU,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?pA(2,[{provide:AU,useValue:0},{provide:FM,multi:!0,deps:[Ro],useFactory:e=>{const t=e.get(b0e,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(nu),s=e.get($K);zK(i,()=>{r(!0)}),e.get(eB).afterPreactivation=()=>(r(!0),s.closed?rr(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const JK=new xn(""),cm={externalConfig:{},pageSettingDictionary:{},scmList:[],aiPrompts:[]};let um=(()=>{class n{constructor(t){this.http=t}loadSCMList(){return this.http.get("./assets/json/scm.json").toPromise().then(t=>{cm.scmList=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadAiPrompts(){return this.http.get("./assets/json/llm.json").toPromise().then(t=>{cm.aiPrompts=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadConfig(){return this.http.get("./assets/config.json").toPromise().then(t=>{cm.externalConfig=t}).catch(t=>{console.error("Error loading configuration:",t)})}getConfigValue(t){return JSON.parse(JSON.stringify(cm.externalConfig))[t]}static{this.\u0275fac=function(r){return new(r||n)(Yt(s0))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ZK=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.configService=r,this.titleService=i,this.customErrorHandler=s,this.loggingInterceptor=o,this.route=a,this.title="[TUTORIAS DE PROGRAMACION - FORMULARIO DE CONTACTO]",this._title="",this._appName="",this._appVersion="",this.runtimeVersion=T9.full,this.redirectPage=null;let l="",c="";l="appName",c=this.configService.getConfigValue(l),this._appName=c,l="appVersion",c=this.configService.getConfigValue(l),this._appVersion=c,console.log(`${l} :  ${this.configService.getConfigValue(l)} `)}ngOnInit(){this.titleService.setTitle(`${this._appName} - ${this._appVersion}`),this.route.queryParams.subscribe(t=>{this.redirectPage=t.redirectPage?t.redirectPage:"",void 0!==this.redirectPage&&"sudoku"===this.redirectPage&&(console.log("Redirecting To Page : "+this.redirectPage),this.router.navigateByUrl("/Sudoku"))})}getValueFromConfig(t){return this.configService.getConfigValue(t)}static{this.\u0275fac=function(r){return new(r||n)(vt(nu),vt(um),vt(AT),vt(YF),vt(JF),vt(v0))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&ut(0,"app-nav")},styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center}']})}}return n})();var pU=function(n){return n[n.Info=1]="Info",n[n.Debug=2]="Debug",n[n.Error=3]="Error",n}(pU||{});class wc{constructor(e,t,r){this._index=e,this._value=t,this._selected=r}}class f1{constructor(e,t){this.value=e,this.graph=t}}class wxe{constructor(e,t,r){this.n=e,this.from=t,this.to=r}}let eX=(()=>{class n{constructor(){this.towerA=new Map,this.towerB=new Map,this.towerC=new Map,this.steps=[],this._steps=[],this._stepsIndex=0,this._startGame=!0,this._delayInMilliseconds=1500,this._stepsAmt=0,this._diskAmt=0,this.tituloDiskAmtList="Cantidad de Discos",this.gameState$=new ds([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new ds(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null,this._diskAmtList=new Array,this._diskAmtList.push(new wc(0,"(seleccione opcion...)",!1)),this._diskAmtList.push(new wc(3,"3",!0)),this._diskAmtList.push(new wc(4,"4",!1))}manual_selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.manual_moveDisk(this.selectedTower,t),this.selectedTower=null)}manual_moveDisk(t,r){const i=this.gameState$.getValue(),s=i[t].pop();if(s){const o=i[r];0===o.length||o[o.length-1].size>s.size?(o.push(s),this.gameState$.next(i),this.movesSubject$.next(this.movesSubject$.getValue()+1),this._checkWinCondition()):i[t].push(s)}}manual_resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null,this.auto_newGame()}_checkWinCondition(){return 3===this.gameState$.getValue()[2].length&&(console.log("Congratulations! You solved the puzzle!"),!0)}auto_printSteps(){if(this._stepsIndex>this._stepsAmt)clearTimeout(this._timeoutId);else{if(0==this._stepsIndex&&this.steps.push("[BEGIN STEPS]"),this._steps[this._stepsIndex]){let t=document.querySelector(".steps-container");t&&(t.scrollTop=t.scrollHeight);let r=this._steps[this._stepsIndex],a=`Step ${this._stepsIndex+1} of ${this._stepsAmt}. Move disk ${r.n} from Tower ${r.from} to Tower ${r.to}`;console.log(a),this.steps.push(a),this.auto_makeMove(r);let l=r.from.charCodeAt(0)-65,c=r.to.charCodeAt(0)-65;console.log(` Manuel Step ${l} to ${c} `),this.manual_moveDisk(l,c)}this._stepsIndex++,this._stepsIndex==this._stepsAmt&&this.steps.push("[END STEPS]"),this._timeoutId=setTimeout(()=>{this.auto_printSteps()},this._delayInMilliseconds)}}auto_makeMove(t){let o,r=t.n,s=t.to;switch(t.from){case"A":o=this.towerA.get(r),this.towerA.set(r,new f1(r,"-"));break;case"B":o=this.towerB.get(r),this.towerB.set(r,new f1(r,"-"));break;case"C":o=this.towerC.get(r),this.towerC.set(r,new f1(r,"-"))}switch(s){case"A":this.towerA.set(r,o);break;case"B":this.towerB.set(r,o);break;case"C":this.towerC.set(r,o)}}auto_saveStep(t,r,i){let s=new wxe(t,r,i);this._steps.push(s),this._stepsAmt++}auto_towerOfHanoi(t,r,i,s){0!==t&&(this.auto_towerOfHanoi(t-1,r,s,i),this.auto_saveStep(t,r,i),this.auto_towerOfHanoi(t-1,s,i,r))}auto_newGame(){if(console.log("[HANOI TOWERS] - [NEW GAME]"),this._diskAmt=3,0===this._diskAmt)return;this.towerA=new Map;let t="";for(let r=1;r<=this._diskAmt;r++)t+="*",this.towerA.set(r,new f1(r,t));this.towerB=new Map;for(let r=1;r<=this._diskAmt;r++)this.towerB.set(r,new f1(r,"-"));this.towerC=new Map;for(let r=1;r<=this._diskAmt;r++)this.towerC.set(r,new f1(r,"-"));this.steps=[],this._steps=[],this._stepsIndex=0,this._stepsAmt=0,this._startGame=!1}auto_startGame(){this.auto_newGame(),console.log("[HANOI TOWERS] - [START GAME]"),0!==this._diskAmt&&(this._startGame=!0,this.auto_towerOfHanoi(this._diskAmt,"A","C","B"),this.auto_printSteps())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Cxe(n,e){if(1&n&&(he(0,"div",8),Me(1),ce()),2&n){const t=e.$implicit;cE("width",20*t.size,"px"),Te(),Zi(" ",t.size," ")}}function Exe(n,e){if(1&n&&(he(0,"div",5)(1,"h2"),Me(2),ce(),he(3,"div",6),pn(4,Cxe,2,3,"div",7),ce()()),2&n){const t=e.$implicit,r=e.index;Te(2),Zi("Tower ",r+1,""),Te(2),We("ngForOf",t)}}let Sxe=(()=>{class n{constructor(t){this.hanoiEngine=t}ngOnInit(){this.hanoiEngine.manual_resetGame()}static{this.\u0275fac=function(r){return new(r||n)(vt(eX))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-hanoi-auto"]],decls:20,vars:8,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click","disabled"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(he(0,"h4"),Me(1,"[HANOI- AUTO]"),ce(),ut(2,"br"),he(3,"div",0),pn(4,Exe,5,2,"div",1),Fu(5,"async"),ce(),ut(6,"hr"),he(7,"div")(8,"p"),Me(9),Fu(10,"async"),ce(),he(11,"button",2),Xt("click",function(){return i.hanoiEngine.manual_resetGame()}),Me(12,"Reset Game"),ce(),Me(13," | "),he(14,"button",2),Xt("click",function(){return i.hanoiEngine.auto_startGame()}),Me(15,"Start Game"),ce()(),ut(16,"hr"),he(17,"div",3)(18,"a",4),Me(19,"[Volver al Men\xfa]"),ce()()),2&r&&(Te(4),We("ngForOf",Ru(5,4,i.hanoiEngine.towers$)),Te(5),Zi("Moves: ",Ru(10,6,i.hanoiEngine.moves$),""),Te(2),We("disabled",!i.hanoiEngine._checkWinCondition()),Te(3),We("disabled",i.hanoiEngine._steps.length>0))},dependencies:[Us,Jl,j_],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();function xxe(n,e){if(1&n&&(he(0,"div",8),Me(1),ce()),2&n){const t=e.$implicit;cE("width",20*t.size,"px"),Te(),Zi(" ",t.size," ")}}function Dxe(n,e){if(1&n){const t=Os();he(0,"div",5)(1,"h2"),Me(2),ce(),he(3,"div",6),pn(4,xxe,2,3,"div",7),ce(),he(5,"button",2),Xt("click",function(){const i=zn(t).index;return $n(ln().selectTower(i))}),Me(6,"Select"),ce()()}if(2&n){const t=e.$implicit,r=e.index;Te(2),Zi("Tower ",r+1,""),Te(2),We("ngForOf",t)}}let Mxe=(()=>{class n{constructor(){this.gameState$=new ds([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new ds(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null}ngOnInit(){this.resetGame()}selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.moveDisk(this.selectedTower,t),this.selectedTower=null)}moveDisk(t,r){const i=this.gameState$.getValue(),s=i[t].pop();if(s){const o=i[r];0===o.length||o[o.length-1].size>s.size?(o.push(s),this.gameState$.next(i),this.movesSubject$.next(this.movesSubject$.getValue()+1),this.checkWinCondition()):i[t].push(s)}}resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null}checkWinCondition(){3===this.gameState$.getValue()[2].length&&console.log("Congratulations! You solved the puzzle!")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-hanoi-tower"]],decls:16,vars:6,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(he(0,"h4"),Me(1,"[HANOI- OBSERVABLE]"),ce(),ut(2,"br"),he(3,"div",0),pn(4,Dxe,7,2,"div",1),Fu(5,"async"),ce(),he(6,"div")(7,"p"),Me(8),Fu(9,"async"),ce(),he(10,"button",2),Xt("click",function(){return i.resetGame()}),Me(11,"Reset Game"),ce()(),ut(12,"hr"),he(13,"div",3)(14,"a",4),Me(15,"[Volver al Men\xfa]"),ce()()),2&r&&(Te(4),We("ngForOf",Ru(5,2,i.towers$)),Te(4),Zi("Moves: ",Ru(9,4,i.moves$),""))},dependencies:[Us,Jl,j_],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:200px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();function Txe(n,e){if(1&n&&(he(0,"div",2)(1,"span"),Me(2),ce()()),2&n){const t=e.$implicit;Te(2),Pr(t[1].graph)}}let tX=(()=>{class n{toArray(t){return Array.from(t.entries())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-tower"]],inputs:{tower:"tower"},standalone:!0,features:[Ra],decls:2,vars:1,consts:[[1,"tower"],["class","disk",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(he(0,"div",0),pn(1,Txe,3,1,"div",1),ce()),2&r&&(Te(),We("ngForOf",i.toArray(i.tower)))},dependencies:[Jg,Jl]})}}return n})();function Bxe(n,e){if(1&n&&(he(0,"div",17)(1,"span"),Me(2),ce()()),2&n){const t=e.$implicit;Te(2),Pr(t)}}function Nxe(n,e){if(1&n&&(he(0,"option",18),Me(1),ce()),2&n){const t=e.$implicit;We("value",t._index)("selected",t._selected),Te(),Zi("",t._value," ")}}let Ixe=(()=>{class n{constructor(t){this.hanoiEngine=t}static{this.\u0275fac=function(r){return new(r||n)(vt(eX))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-games-hanoi"]],decls:40,vars:8,consts:[["__diskAmtList",""],["align","left",1,"game-container"],["width","100%"],["align","center"],["width","33%","align","center"],[3,"tower"],["align","left",1,"steps-container"],["align","left","class","steps-content",4,"ngFor","ngForOf"],["id","diskAmtListDiv","align","left"],["for","diskAmtList"],["id","diskAmtList","name","diskAmtList"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left"],["type","button","id","btnNewGame","value","[NEW GAME]",3,"click","disabled"],["type","button","id","btnStartGame","value","[START GAME]",3,"click","disabled"],["align","right"],["routerLink","/Dev"],["align","left",1,"steps-content"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=Os();he(0,"h1"),Me(1,"[HANOI TOWER BOARD]"),ce(),ut(2,"hr"),he(3,"div",1)(4,"table",2)(5,"thead")(6,"td",3),Me(7,"A"),ce(),he(8,"td",3),Me(9,"B"),ce(),he(10,"td",3),Me(11,"C"),ce()(),he(12,"tr")(13,"td",4),ut(14,"app-tower",5),ce(),he(15,"td",4),ut(16,"app-tower",5),ce(),he(17,"td",4),ut(18,"app-tower",5),ce()(),ut(19,"tfoot"),ce()(),ut(20,"hr"),he(21,"div",6),pn(22,Bxe,3,1,"div",7),ce(),ut(23,"hr"),he(24,"div",8)(25,"label",9),Me(26),ce(),Me(27," \xa0\xa0 "),he(28,"select",10,0),pn(30,Nxe,2,3,"option",11),ce()(),ut(31,"hr"),he(32,"div",12)(33,"input",13),Xt("click",function(){return zn(s),$n(i.hanoiEngine.auto_newGame())}),ce(),Me(34," | "),he(35,"input",14),Xt("click",function(){return zn(s),$n(i.hanoiEngine.auto_startGame())}),ce()(),ut(36,"hr"),he(37,"div",15)(38,"a",16),Me(39,"[Volver al Men\xfa]"),ce()()}2&r&&(Te(14),We("tower",i.hanoiEngine.towerA),Te(2),We("tower",i.hanoiEngine.towerB),Te(2),We("tower",i.hanoiEngine.towerC),Te(4),We("ngForOf",i.hanoiEngine.steps),Te(4),Pr(i.hanoiEngine.tituloDiskAmtList),Te(4),We("ngForOf",i.hanoiEngine._diskAmtList),Te(3),We("disabled",0==i.hanoiEngine._startGame),Te(2),We("disabled",1==i.hanoiEngine._startGame))},dependencies:[tX,Us,Jl,d0,h0],styles:['.game-container[_ngcontent-%COMP%]{width:"100%";padding:1em;background-color:#ccc}.steps-container[_ngcontent-%COMP%]{height:auto;width:100%;border:1px solid #000;padding:.1em;background-color:#ccc}.steps-content[_ngcontent-%COMP%]{padding:.1em}table[_ngcontent-%COMP%]{width:150px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc}']})}}return n})();const rX=1,Oxe=2,Cp=3,tB=0,e2e=1,t2e=2,fm=0,n2e=1,r2e=2,i2e=3,s2e=4,o2e=5,a2e=6,l2e=7,Am=301,_0=302,AS=306,df=1001,Cc=1003,Ml=1006,Sp=1008,xp=1009,cX=1010,uX=1011,gS=1012,DU=1013,pm=1014,Sd=1015,mS=1016,MU=1017,TU=1018,v1=1020,dX=35902,hX=1021,fX=1022,Lu=1023,AX=1024,pX=1025,y1=1026,_1=1027,BU=1028,aB=1029,gX=1030,NU=1031,IU=1033,lB=33776,cB=33777,uB=33778,dB=33779,FU=35840,RU=35841,OU=35842,PU=35843,LU=36196,UU=37492,kU=37496,HU=37808,VU=37809,QU=37810,zU=37811,GU=37812,jU=37813,qU=37814,WU=37815,$U=37816,KU=37817,XU=37818,YU=37819,JU=37820,ZU=37821,hB=36492,e4=36494,t4=36495,mX=36283,n4=36284,r4=36285,i4=36286,xd="srgb",C1="srgb-linear",pB="linear",eo="srgb",E1=7680,bX="300 es",Dp=2e3;class Mp{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const s=i.indexOf(t);-1!==s&&i.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const r=this._listeners[e.type];if(void 0!==r){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Ec=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],w0=Math.PI/180,S1=180/Math.PI;function Dd(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Ec[255&n]+Ec[n>>8&255]+Ec[n>>16&255]+Ec[n>>24&255]+"-"+Ec[255&e]+Ec[e>>8&255]+"-"+Ec[e>>16&15|64]+Ec[e>>24&255]+"-"+Ec[63&t|128]+Ec[t>>8&255]+"-"+Ec[t>>16&255]+Ec[t>>24&255]+Ec[255&r]+Ec[r>>8&255]+Ec[r>>16&255]+Ec[r>>24&255]).toLowerCase()}function ei(n,e,t){return Math.max(e,Math.min(t,n))}function vS(n,e,t){return(1-t)*n+t*e}function ru(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function hi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const k2e_DEG2RAD=w0;class jt{constructor(e=0,t=0){jt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=ei(this.x,e.x,t.x),this.y=ei(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=ei(this.x,e,t),this.y=ei(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ei(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ei(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class fi{constructor(e,t,r,i,s,o,a,l,c){fi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],A=r[8],p=i[0],m=i[3],g=i[6],y=i[1],v=i[4],_=i[7],C=i[2],b=i[5],M=i[8];return s[0]=o*p+a*y+l*C,s[3]=o*m+a*v+l*b,s[6]=o*g+a*_+l*M,s[1]=c*p+u*y+d*C,s[4]=c*m+u*v+d*b,s[7]=c*g+u*_+d*M,s[2]=f*p+h*y+A*C,s[5]=f*m+h*v+A*b,s[8]=f*g+h*_+A*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*s,h=c*s-o*l,A=t*d+r*f+i*h;if(0===A)return this.set(0,0,0,0,0,0,0,0,0);const p=1/A;return e[0]=d*p,e[1]=(i*c-u*r)*p,e[2]=(a*r-i*o)*p,e[3]=f*p,e[4]=(u*t-i*l)*p,e[5]=(i*s-a*t)*p,e[6]=h*p,e[7]=(r*l-c*t)*p,e[8]=(o*t-r*s)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(c4.makeScale(e,t)),this}rotate(e){return this.premultiply(c4.makeRotation(-e)),this}translate(e,t){return this.premultiply(c4.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const c4=new fi;function CX(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function yS(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function V2e(){const n=yS("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const EX={};function D1(n){n in EX||(EX[n]=!0,console.warn(n))}const SX=(new fi).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),xX=(new fi).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function j2e(){const n={enabled:!0,workingColorSpace:C1,spaces:{},convert:function(i,s,o){return!1===this.enabled||s===o||!s||!o||(this.spaces[s].transfer===eo&&(i.r=Tp(i.r),i.g=Tp(i.g),i.b=Tp(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===eo&&(i.r=M1(i.r),i.g=M1(i.g),i.b=M1(i.b))),i},fromWorkingColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},toWorkingColorSpace:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return""===i?pB:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[C1]:{primaries:e,whitePoint:r,transfer:pB,toXYZ:SX,fromXYZ:xX,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:xd},outputColorSpaceConfig:{drawingBufferColorSpace:xd}},[xd]:{primaries:e,whitePoint:r,transfer:eo,toXYZ:SX,fromXYZ:xX,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:xd}}}),n}const vs=j2e();function Tp(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function M1(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let T1;class q2e{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===T1&&(T1=yS("canvas")),T1.width=e.width,T1.height=e.height;const r=T1.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=T1}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=yS("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=255*Tp(s[o]/255);return r.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t[r]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*Tp(t[r]/255)):Tp(t[r]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let W2e=0;class B1{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:W2e++}),this.uuid=Dd(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(null!==i){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)s.push(u4(i[o].isDataTexture?i[o].image:i[o]))}else s=u4(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function u4(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?q2e.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let $2e=0,Uu=(()=>{class n extends Mp{constructor(t=n.DEFAULT_IMAGE,r=n.DEFAULT_MAPPING,i=df,s=df,o=Ml,a=Sp,l=Lu,c=xp,u=n.DEFAULT_ANISOTROPY,d=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$2e++}),this.uuid=Dd(),this.name="",this.source=new B1(t),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new jt(0,0),this.repeat=new jt(1,1),this.center=new jt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),r||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case df:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case df:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class Ss{constructor(e=0,t=0,r=0,i=1){Ss.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],A=l[9],p=l[2],m=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-p)<.01&&Math.abs(A-m)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+p)<.1&&Math.abs(A+m)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const v=(c+1)/2,_=(h+1)/2,C=(g+1)/2,b=(u+f)/4,M=(d+p)/4,D=(A+m)/4;return v>_&&v>C?v<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(v),i=b/r,s=M/r):_>C?_<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(_),r=b/i,s=D/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=M/s,i=D/s),this.set(r,i,s,t),this}let y=Math.sqrt((m-A)*(m-A)+(d-p)*(d-p)+(f-u)*(f-u));return Math.abs(y)<.001&&(y=1),this.x=(m-A)/y,this.y=(d-p)/y,this.z=(f-u)/y,this.w=Math.acos((c+h+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=ei(this.x,e.x,t.x),this.y=ei(this.y,e.y,t.y),this.z=ei(this.z,e.z,t.z),this.w=ei(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=ei(this.x,e,t),this.y=ei(this.y,e,t),this.z=ei(this.z,e,t),this.w=ei(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ei(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class K2e extends Mp{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ss(0,0,e,t),this.scissorTest=!1,this.viewport=new Ss(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ml,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new Uu(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new B1(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class gA extends K2e{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class d4 extends Uu{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Cc,this.minFilter=Cc,this.wrapR=df,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class DX extends Uu{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Cc,this.minFilter=Cc,this.wrapR=df,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class iu{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=s[o+0],h=s[o+1],A=s[o+2],p=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=d);if(1===a)return e[t+0]=f,e[t+1]=h,e[t+2]=A,void(e[t+3]=p);if(d!==p||l!==f||c!==h||u!==A){let m=1-a;const g=l*f+c*h+u*A+d*p,y=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){const C=Math.sqrt(v),b=Math.atan2(C,g*y);m=Math.sin(m*b)/C,a=Math.sin(a*b)/C}const _=a*y;if(l=l*m+f*_,c=c*m+h*_,u=u*m+A*_,d=d*m+p*_,m===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=C,c*=C,u*=C,d*=C}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[o],f=s[o+1],h=s[o+2],A=s[o+3];return e[t]=a*A+u*d+l*h-c*f,e[t+1]=l*A+u*f+c*d-a*h,e[t+2]=c*A+u*h+a*f-l*d,e[t+3]=u*A-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(s/2),f=l(r/2),h=l(i/2),A=l(s/2);switch(o){case"XYZ":this._x=f*u*d+c*h*A,this._y=c*h*d-f*u*A,this._z=c*u*A+f*h*d,this._w=c*u*d-f*h*A;break;case"YXZ":this._x=f*u*d+c*h*A,this._y=c*h*d-f*u*A,this._z=c*u*A-f*h*d,this._w=c*u*d+f*h*A;break;case"ZXY":this._x=f*u*d-c*h*A,this._y=c*h*d+f*u*A,this._z=c*u*A+f*h*d,this._w=c*u*d-f*h*A;break;case"ZYX":this._x=f*u*d-c*h*A,this._y=c*h*d+f*u*A,this._z=c*u*A-f*h*d,this._w=c*u*d+f*h*A;break;case"YZX":this._x=f*u*d+c*h*A,this._y=c*h*d+f*u*A,this._z=c*u*A-f*h*d,this._w=c*u*d-f*h*A;break;case"XZY":this._x=f*u*d-c*h*A,this._y=c*h*d-f*u*A,this._z=c*u*A+f*h*d,this._w=c*u*d+f*h*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=r+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(s-c)*h,this._z=(o-i)*h}else if(r>a&&r>d){const h=2*Math.sqrt(1+r-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(s+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-r-d);this._w=(s-c)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-a);this._w=(o-i)/h,this._x=(s+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ei(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-t;return this._w=h*o+t*this._w,this._x=h*r+t*this._x,this._y=h*i+t*this._y,this._z=h*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=o*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Re{constructor(e=0,t=0,r=0){Re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(MX.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(MX.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*t-s*i),d=2*(s*r-o*t);return this.x=t+l*c+o*d-a*u,this.y=r+l*u+a*c-s*d,this.z=i+l*d+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=ei(this.x,e.x,t.x),this.y=ei(this.y,e.y,t.y),this.z=ei(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=ei(this.x,e,t),this.y=ei(this.y,e,t),this.z=ei(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ei(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return h4.copy(this).projectOnVector(e),this.sub(h4)}reflect(e){return this.sub(h4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ei(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const h4=new Re,MX=new iu;class ku{constructor(e=new Re(1/0,1/0,1/0),t=new Re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(hf.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(hf.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=hf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r){const s=r.getAttribute("position");if(!0===t&&void 0!==s&&!0!==e.isInstancedMesh)for(let o=0,a=s.count;o<a;o++)!0===e.isMesh?e.getVertexPosition(o,hf):hf.fromBufferAttribute(s,o),hf.applyMatrix4(e.matrixWorld),this.expandByPoint(hf);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),vB.copy(e.boundingBox)):(null===r.boundingBox&&r.computeBoundingBox(),vB.copy(r.boundingBox)),vB.applyMatrix4(e.matrixWorld),this.union(vB)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,hf),hf.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_S),yB.subVectors(this.max,_S),N1.subVectors(e.a,_S),I1.subVectors(e.b,_S),F1.subVectors(e.c,_S),mm.subVectors(I1,N1),vm.subVectors(F1,I1),C0.subVectors(N1,F1);let t=[0,-mm.z,mm.y,0,-vm.z,vm.y,0,-C0.z,C0.y,mm.z,0,-mm.x,vm.z,0,-vm.x,C0.z,0,-C0.x,-mm.y,mm.x,0,-vm.y,vm.x,0,-C0.y,C0.x,0];return!(!f4(t,N1,I1,F1,yB)||(t=[1,0,0,0,1,0,0,0,1],!f4(t,N1,I1,F1,yB)))&&(_B.crossVectors(mm,vm),t=[_B.x,_B.y,_B.z],f4(t,N1,I1,F1,yB))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,hf).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(hf).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Bp[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Bp[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Bp[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Bp[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Bp[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Bp[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Bp[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Bp[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Bp)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Bp=[new Re,new Re,new Re,new Re,new Re,new Re,new Re,new Re],hf=new Re,vB=new ku,N1=new Re,I1=new Re,F1=new Re,mm=new Re,vm=new Re,C0=new Re,_S=new Re,yB=new Re,_B=new Re,E0=new Re;function f4(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){E0.fromArray(n,s);const a=i.x*Math.abs(E0.x)+i.y*Math.abs(E0.y)+i.z*Math.abs(E0.z),l=e.dot(E0),c=t.dot(E0),u=r.dot(E0);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const X2e=new ku,bS=new Re,A4=new Re;class su{constructor(e=new Re,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):X2e.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;bS.subVectors(e,this.center);const t=bS.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=.5*(r-this.radius);this.center.addScaledVector(bS,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(A4.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(bS.copy(e.center).add(A4)),this.expandByPoint(bS.copy(e.center).sub(A4))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Np=new Re,p4=new Re,bB=new Re,ym=new Re,g4=new Re,wB=new Re,m4=new Re;class R1{constructor(e=new Re,t=new Re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Np)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Np.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Np.copy(this.origin).addScaledVector(this.direction,t),Np.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){p4.copy(e).add(t).multiplyScalar(.5),bB.copy(t).sub(e).normalize(),ym.copy(this.origin).sub(p4);const s=.5*e.distanceTo(t),o=-this.direction.dot(bB),a=ym.dot(this.direction),l=-ym.dot(bB),c=ym.lengthSq(),u=Math.abs(1-o*o);let d,f,h,A;if(u>0)if(d=o*l-a,f=o*a-l,A=s*u,d>=0)if(f>=-A)if(f<=A){const p=1/u;d*=p,f*=p,h=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-A?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c):f<=A?(d=0,f=Math.min(Math.max(-s,-l),s),h=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(p4).addScaledVector(bB,f),h}intersectSphere(e,t){Np.subVectors(e.center,this.origin);const r=Np.dot(this.direction),i=Np.dot(Np)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!=r)&&(r=a),(l<i||i!=i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,Np)}intersectTriangle(e,t,r,i,s){g4.subVectors(t,e),wB.subVectors(r,e),m4.crossVectors(g4,wB);let a,o=this.direction.dot(m4);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ym.subVectors(this.origin,e);const l=a*this.direction.dot(wB.crossVectors(ym,wB));if(l<0)return null;const c=a*this.direction.dot(g4.cross(ym));if(c<0||l+c>o)return null;const u=-a*ym.dot(m4);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Lr{constructor(e,t,r,i,s,o,a,l,c,u,d,f,h,A,p,m){Lr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,r,i,s,o,a,l,c,u,d,f,h,A,p,m)}set(e,t,r,i,s,o,a,l,c,u,d,f,h,A,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=h,g[7]=A,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Lr).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/O1.setFromMatrixColumn(e,0).length(),s=1/O1.setFromMatrixColumn(e,1).length(),o=1/O1.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if("XYZ"===e.order){const f=o*u,h=o*d,A=a*u,p=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=h+A*c,t[5]=f-p*c,t[9]=-a*l,t[2]=p-f*c,t[6]=A+h*c,t[10]=o*l}else if("YXZ"===e.order){const f=l*u,h=l*d,A=c*u,p=c*d;t[0]=f+p*a,t[4]=A*a-h,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=h*a-A,t[6]=p+f*a,t[10]=o*l}else if("ZXY"===e.order){const f=l*u,h=l*d,A=c*u,p=c*d;t[0]=f-p*a,t[4]=-o*d,t[8]=A+h*a,t[1]=h+A*a,t[5]=o*u,t[9]=p-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const f=o*u,h=o*d,A=a*u,p=a*d;t[0]=l*u,t[4]=A*c-h,t[8]=f*c+p,t[1]=l*d,t[5]=p*c+f,t[9]=h*c-A,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const f=o*l,h=o*c,A=a*l,p=a*c;t[0]=l*u,t[4]=p-f*d,t[8]=A*d+h,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=h*d+A,t[10]=f-p*d}else if("XZY"===e.order){const f=o*l,h=o*c,A=a*l,p=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+p,t[5]=o*u,t[9]=h*d-A,t[2]=A*d-h,t[6]=a*u,t[10]=p*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Y2e,e,J2e)}lookAt(e,t,r){const i=this.elements;return Md.subVectors(e,t),0===Md.lengthSq()&&(Md.z=1),Md.normalize(),_m.crossVectors(r,Md),0===_m.lengthSq()&&(1===Math.abs(r.z)?Md.x+=1e-4:Md.z+=1e-4,Md.normalize(),_m.crossVectors(r,Md)),_m.normalize(),CB.crossVectors(Md,_m),i[0]=_m.x,i[4]=CB.x,i[8]=Md.x,i[1]=_m.y,i[5]=CB.y,i[9]=Md.y,i[2]=_m.z,i[6]=CB.z,i[10]=Md.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],A=r[2],p=r[6],m=r[10],g=r[14],y=r[3],v=r[7],_=r[11],C=r[15],b=i[0],M=i[4],D=i[8],S=i[12],T=i[1],B=i[5],R=i[9],U=i[13],k=i[2],q=i[6],O=i[10],P=i[14],G=i[3],H=i[7],ae=i[11],ve=i[15];return s[0]=o*b+a*T+l*k+c*G,s[4]=o*M+a*B+l*q+c*H,s[8]=o*D+a*R+l*O+c*ae,s[12]=o*S+a*U+l*P+c*ve,s[1]=u*b+d*T+f*k+h*G,s[5]=u*M+d*B+f*q+h*H,s[9]=u*D+d*R+f*O+h*ae,s[13]=u*S+d*U+f*P+h*ve,s[2]=A*b+p*T+m*k+g*G,s[6]=A*M+p*B+m*q+g*H,s[10]=A*D+p*R+m*O+g*ae,s[14]=A*S+p*U+m*P+g*ve,s[3]=y*b+v*T+_*k+C*G,s[7]=y*M+v*B+_*q+C*H,s[11]=y*D+v*R+_*O+C*ae,s[15]=y*S+v*U+_*P+C*ve,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14];return e[3]*(+s*l*d-i*c*d-s*a*f+r*c*f+i*a*h-r*l*h)+e[7]*(+t*l*h-t*c*f+s*o*f-i*o*h+i*c*u-s*l*u)+e[11]*(+t*c*d-t*a*h-s*o*d+r*o*h+s*a*u-r*c*u)+e[15]*(-i*a*u-t*l*d+t*a*f+i*o*d-r*o*f+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],A=e[12],p=e[13],m=e[14],g=e[15],y=d*m*c-p*f*c+p*l*h-a*m*h-d*l*g+a*f*g,v=A*f*c-u*m*c-A*l*h+o*m*h+u*l*g-o*f*g,_=u*p*c-A*d*c+A*a*h-o*p*h-u*a*g+o*d*g,C=A*d*l-u*p*l-A*a*f+o*p*f+u*a*m-o*d*m,b=t*y+r*v+i*_+s*C;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/b;return e[0]=y*M,e[1]=(p*f*s-d*m*s-p*i*h+r*m*h+d*i*g-r*f*g)*M,e[2]=(a*m*s-p*l*s+p*i*c-r*m*c-a*i*g+r*l*g)*M,e[3]=(d*l*s-a*f*s-d*i*c+r*f*c+a*i*h-r*l*h)*M,e[4]=v*M,e[5]=(u*m*s-A*f*s+A*i*h-t*m*h-u*i*g+t*f*g)*M,e[6]=(A*l*s-o*m*s-A*i*c+t*m*c+o*i*g-t*l*g)*M,e[7]=(o*f*s-u*l*s+u*i*c-t*f*c-o*i*h+t*l*h)*M,e[8]=_*M,e[9]=(A*d*s-u*p*s-A*r*h+t*p*h+u*r*g-t*d*g)*M,e[10]=(o*p*s-A*a*s+A*r*c-t*p*c-o*r*g+t*a*g)*M,e[11]=(u*a*s-o*d*s-u*r*c+t*d*c+o*r*h-t*a*h)*M,e[12]=C*M,e[13]=(u*p*i-A*d*i+A*r*f-t*p*f-u*r*m+t*d*m)*M,e[14]=(A*a*i-o*p*i-A*r*l+t*p*l+o*r*m-t*a*m)*M,e[15]=(o*d*i-u*a*i+u*r*l-t*d*l-o*r*f+t*a*f)*M,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,f=s*c,h=s*u,A=s*d,p=o*u,m=o*d,g=a*d,y=l*c,v=l*u,_=l*d,C=r.x,b=r.y,M=r.z;return i[0]=(1-(p+g))*C,i[1]=(h+_)*C,i[2]=(A-v)*C,i[3]=0,i[4]=(h-_)*b,i[5]=(1-(f+g))*b,i[6]=(m+y)*b,i[7]=0,i[8]=(A+v)*M,i[9]=(m-y)*M,i[10]=(1-(f+p))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=O1.set(i[0],i[1],i[2]).length();const o=O1.set(i[4],i[5],i[6]).length(),a=O1.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ff.copy(this);const c=1/s,u=1/o,d=1/a;return ff.elements[0]*=c,ff.elements[1]*=c,ff.elements[2]*=c,ff.elements[4]*=u,ff.elements[5]*=u,ff.elements[6]*=u,ff.elements[8]*=d,ff.elements[9]*=d,ff.elements[10]*=d,t.setFromRotationMatrix(ff),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=Dp){const l=this.elements,c=2*s/(t-e),u=2*s/(r-i),d=(t+e)/(t-e),f=(r+i)/(r-i);let h,A;if(a===Dp)h=-(o+s)/(o-s),A=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-o/(o-s),A=-o*s/(o-s)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=A,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=Dp){const l=this.elements,c=1/(t-e),u=1/(r-i),d=1/(o-s),f=(t+e)*c,h=(r+i)*u;let A,p;if(a===Dp)A=(o+s)*d,p=-2*d;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);A=s*d,p=-1*d}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=p,l[14]=-A,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const O1=new Re,ff=new Lr,Y2e=new Re(0,0,0),J2e=new Re(1,1,1),_m=new Re,CB=new Re,Md=new Re,TX=new Lr,BX=new iu;let Ip=(()=>{class n{constructor(t=0,r=0,i=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=r,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,i,s=this._order){return this._x=t,this._y=r,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,i=!0){const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],d=s[9],f=s[2],h=s[6],A=s[10];switch(r){case"XYZ":this._y=Math.asin(ei(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,A),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-ei(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,A),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(ei(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,A),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-ei(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,A),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(ei(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(l,A));break;case"XZY":this._z=Math.asin(-ei(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-d,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,r,i){return TX.makeRotationFromQuaternion(t),this.setFromRotationMatrix(TX,r,i)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return BX.setFromEuler(this),this.setFromQuaternion(BX,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class v4{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return!!(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let Z2e=0;const NX=new Re,P1=new iu,Fp=new Lr,EB=new Re,wS=new Re,eDe=new Re,tDe=new iu,IX=new Re(1,0,0),FX=new Re(0,1,0),RX=new Re(0,0,1),OX={type:"added"},nDe={type:"removed"},L1={type:"childadded",child:null},y4={type:"childremoved",child:null};let Mo=(()=>{class n extends Mp{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Z2e++}),this.uuid=Dd(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new Re,r=new Ip,i=new iu,s=new Re(1,1,1);r._onChange(function o(){i.setFromEuler(r,!1)}),i._onChange(function a(){r.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Lr},normalMatrix:{value:new fi}}),this.matrix=new Lr,this.matrixWorld=new Lr,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new v4,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return P1.setFromAxisAngle(t,r),this.quaternion.multiply(P1),this}rotateOnWorldAxis(t,r){return P1.setFromAxisAngle(t,r),this.quaternion.premultiply(P1),this}rotateX(t){return this.rotateOnAxis(IX,t)}rotateY(t){return this.rotateOnAxis(FX,t)}rotateZ(t){return this.rotateOnAxis(RX,t)}translateOnAxis(t,r){return NX.copy(t).applyQuaternion(this.quaternion),this.position.add(NX.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(IX,t)}translateY(t){return this.translateOnAxis(FX,t)}translateZ(t){return this.translateOnAxis(RX,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Fp.copy(this.matrixWorld).invert())}lookAt(t,r,i){t.isVector3?EB.copy(t):EB.set(t,r,i);const s=this.parent;this.updateWorldMatrix(!0,!1),wS.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fp.lookAt(wS,EB,this.up):Fp.lookAt(EB,wS,this.up),this.quaternion.setFromRotationMatrix(Fp),s&&(Fp.extractRotation(s.matrixWorld),P1.setFromRotationMatrix(Fp),this.quaternion.premultiply(P1.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(OX),L1.child=t,this.dispatchEvent(L1),L1.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const r=this.children.indexOf(t);return-1!==r&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(nDe),y4.child=t,this.dispatchEvent(y4),y4.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Fp.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Fp.multiply(t.parent.matrixWorld)),t.applyMatrix4(Fp),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(OX),L1.child=t,this.dispatchEvent(L1),L1.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectByProperty(t,r);if(void 0!==a)return a}}getObjectsByProperty(t,r,i=[]){this[t]===r&&i.push(this);const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].getObjectsByProperty(t,r,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(wS,t,eDe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(wS,tDe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverseVisible(t)}traverseAncestors(t){const r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].updateMatrixWorld(t)}updateWorldMatrix(t,r){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===r){const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(t){const r=void 0===t||"string"==typeof t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(s.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),null!==this.boundingBox&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));s.material=l}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(t.animations,this.animations[l]))}if(r){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),d=a(t.images),f=a(t.shapes),h=a(t.skeletons),A=a(t.animations),p=a(t.nodes);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),u.length>0&&(i.textures=u),d.length>0&&(i.images=d),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),A.length>0&&(i.animations=A),p.length>0&&(i.nodes=p)}return i.object=s,i;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}return n.DEFAULT_UP=new Re(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Af=new Re,Rp=new Re,_4=new Re,Op=new Re,U1=new Re,k1=new Re,PX=new Re,b4=new Re,w4=new Re,C4=new Re,E4=new Ss,S4=new Ss,x4=new Ss;class Td{constructor(e=new Re,t=new Re,r=new Re){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Af.subVectors(e,t),i.cross(Af);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Af.subVectors(i,t),Rp.subVectors(r,t),_4.subVectors(e,t);const o=Af.dot(Af),a=Af.dot(Rp),l=Af.dot(_4),c=Rp.dot(Rp),u=Rp.dot(_4),d=o*c-a*a;if(0===d)return s.set(0,0,0),null;const f=1/d,h=(c*l-a*u)*f,A=(o*u-a*l)*f;return s.set(1-h-A,A,h)}static containsPoint(e,t,r,i){return null!==this.getBarycoord(e,t,r,i,Op)&&Op.x>=0&&Op.y>=0&&Op.x+Op.y<=1}static getInterpolation(e,t,r,i,s,o,a,l){return null===this.getBarycoord(e,t,r,i,Op)?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Op.x),l.addScaledVector(o,Op.y),l.addScaledVector(a,Op.z),l)}static getInterpolatedAttribute(e,t,r,i,s,o){return E4.setScalar(0),S4.setScalar(0),x4.setScalar(0),E4.fromBufferAttribute(e,t),S4.fromBufferAttribute(e,r),x4.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(E4,s.x),o.addScaledVector(S4,s.y),o.addScaledVector(x4,s.z),o}static isFrontFacing(e,t,r,i){return Af.subVectors(r,t),Rp.subVectors(e,t),Af.cross(Rp).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Af.subVectors(this.c,this.b),Rp.subVectors(this.a,this.b),.5*Af.cross(Rp).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Td.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Td.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return Td.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Td.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Td.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;U1.subVectors(i,r),k1.subVectors(s,r),b4.subVectors(e,r);const l=U1.dot(b4),c=k1.dot(b4);if(l<=0&&c<=0)return t.copy(r);w4.subVectors(e,i);const u=U1.dot(w4),d=k1.dot(w4);if(u>=0&&d<=u)return t.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(U1,o);C4.subVectors(e,s);const h=U1.dot(C4),A=k1.dot(C4);if(A>=0&&h<=A)return t.copy(s);const p=h*c-l*A;if(p<=0&&c>=0&&A<=0)return a=c/(c-A),t.copy(r).addScaledVector(k1,a);const m=u*A-h*d;if(m<=0&&d-u>=0&&h-A>=0)return PX.subVectors(s,i),a=(d-u)/(d-u+(h-A)),t.copy(i).addScaledVector(PX,a);const g=1/(m+p+f);return o=p*g,a=f*g,t.copy(r).addScaledVector(U1,o).addScaledVector(k1,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const LX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bm={h:0,s:0,l:0},SB={h:0,s:0,l:0};function D4(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Gn{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(void 0===t&&void 0===r){const i=e;i&&i.isColor?this.copy(i):"number"==typeof i?this.setHex(i):"string"==typeof i&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=xd){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,vs.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=vs.workingColorSpace){return this.r=e,this.g=t,this.b=r,vs.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=vs.workingColorSpace){if(e=function l4(n,e){return(n%e+e)%e}(e,1),t=ei(t,0,1),r=ei(r,0,1),0===t)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=D4(o,s,e+1/3),this.g=D4(o,s,e),this.b=D4(o,s,e-1/3)}return vs.toWorkingColorSpace(this,i),this}setStyle(e,t=xd){function r(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[2];switch(i[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=xd){const r=LX[e.toLowerCase()];return void 0!==r?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Tp(e.r),this.g=Tp(e.g),this.b=Tp(e.b),this}copyLinearToSRGB(e){return this.r=M1(e.r),this.g=M1(e.g),this.b=M1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=xd){return vs.fromWorkingColorSpace(Sc.copy(this),e),65536*Math.round(ei(255*Sc.r,0,255))+256*Math.round(ei(255*Sc.g,0,255))+Math.round(ei(255*Sc.b,0,255))}getHexString(e=xd){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=vs.workingColorSpace){vs.fromWorkingColorSpace(Sc.copy(this),t);const r=Sc.r,i=Sc.g,s=Sc.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=vs.workingColorSpace){return vs.fromWorkingColorSpace(Sc.copy(this),t),e.r=Sc.r,e.g=Sc.g,e.b=Sc.b,e}getStyle(e=xd){vs.fromWorkingColorSpace(Sc.copy(this),e);const t=Sc.r,r=Sc.g,i=Sc.b;return e!==xd?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*r)},${Math.round(255*i)})`}offsetHSL(e,t,r){return this.getHSL(bm),this.setHSL(bm.h+e,bm.s+t,bm.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(bm),e.getHSL(SB);const r=vS(bm.h,SB.h,t),i=vS(bm.s,SB.s,t),s=vS(bm.l,SB.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Sc=new Gn;Gn.NAMES=LX;let rDe=0;class ou extends Mp{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rDe++}),this.uuid=Dd(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Gn(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=E1,this.stencilZFail=E1,this.stencilZPass=E1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(r.dispersion=this.dispersion),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapRotation&&(r.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),!0===this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=!0),204!==this.blendSrc&&(r.blendSrc=this.blendSrc),205!==this.blendDst&&(r.blendDst=this.blendDst),100!==this.blendEquation&&(r.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(r.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(r.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(r.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(r.depthFunc=this.depthFunc),!1===this.depthTest&&(r.depthTest=this.depthTest),!1===this.depthWrite&&(r.depthWrite=this.depthWrite),!1===this.colorWrite&&(r.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(r.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(r.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(r.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==E1&&(r.stencilFail=this.stencilFail),this.stencilZFail!==E1&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==E1&&(r.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(r.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaHash&&(r.alphaHash=!0),!0===this.alphaToCoverage&&(r.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0),!0===this.forceSinglePass&&(r.forceSinglePass=!0),!0===this.wireframe&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData),t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Pp extends ou{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Gn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ip,this.combine=tB,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const La=new Re,xB=new jt;class co{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=r,this.usage=35044,this.updateRanges=[],this.gpuType=Sd,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)xB.fromBufferAttribute(this,t),xB.applyMatrix3(e),this.setXY(t,xB.x,xB.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)La.fromBufferAttribute(this,t),La.applyMatrix3(e),this.setXYZ(t,La.x,La.y,La.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)La.fromBufferAttribute(this,t),La.applyMatrix4(e),this.setXYZ(t,La.x,La.y,La.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)La.fromBufferAttribute(this,t),La.applyNormalMatrix(e),this.setXYZ(t,La.x,La.y,La.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)La.fromBufferAttribute(this,t),La.transformDirection(e),this.setXYZ(t,La.x,La.y,La.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=ru(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=hi(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ru(t,this.array)),t}setX(e,t){return this.normalized&&(t=hi(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ru(t,this.array)),t}setY(e,t){return this.normalized&&(t=hi(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ru(t,this.array)),t}setZ(e,t){return this.normalized&&(t=hi(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ru(t,this.array)),t}setW(e,t){return this.normalized&&(t=hi(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=hi(t,this.array),r=hi(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=hi(t,this.array),r=hi(r,this.array),i=hi(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=hi(t,this.array),r=hi(r,this.array),i=hi(i,this.array),s=hi(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class UX extends co{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class kX extends co{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class tr extends co{constructor(e,t,r){super(new Float32Array(e),t,r)}}let sDe=0;const sh=new Lr,M4=new Mo,H1=new Re,Bd=new ku,ES=new ku,Tl=new Re;class Ci extends Mp{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sDe++}),this.uuid=Dd(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(CX(e)?kX:UX)(e,1):e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const s=(new fi).getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return sh.makeRotationFromQuaternion(e),this.applyMatrix4(sh),this}rotateX(e){return sh.makeRotationX(e),this.applyMatrix4(sh),this}rotateY(e){return sh.makeRotationY(e),this.applyMatrix4(sh),this}rotateZ(e){return sh.makeRotationZ(e),this.applyMatrix4(sh),this}translate(e,t,r){return sh.makeTranslation(e,t,r),this.applyMatrix4(sh),this}scale(e,t,r){return sh.makeScale(e,t,r),this.applyMatrix4(sh),this}lookAt(e){return M4.lookAt(e),M4.updateMatrix(),this.applyMatrix4(M4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(H1).negate(),this.translate(H1.x,H1.y,H1.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new tr(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ku);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Re(-1/0,-1/0,-1/0),new Re(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++)Bd.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(Tl.addVectors(this.boundingBox.min,Bd.min),this.boundingBox.expandByPoint(Tl),Tl.addVectors(this.boundingBox.max,Bd.max),this.boundingBox.expandByPoint(Tl)):(this.boundingBox.expandByPoint(Bd.min),this.boundingBox.expandByPoint(Bd.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new su);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Re,1/0);if(e){const r=this.boundingSphere.center;if(Bd.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)ES.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(Tl.addVectors(Bd.min,ES.min),Bd.expandByPoint(Tl),Tl.addVectors(Bd.max,ES.max),Bd.expandByPoint(Tl)):(Bd.expandByPoint(ES.min),Bd.expandByPoint(ES.max));Bd.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Tl.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Tl));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Tl.fromBufferAttribute(a,c),l&&(H1.fromBufferAttribute(e,c),Tl.add(H1)),i=Math.max(i,r.distanceToSquared(Tl))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=t.position,i=t.normal,s=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new co(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let D=0;D<r.count;D++)a[D]=new Re,l[D]=new Re;const c=new Re,u=new Re,d=new Re,f=new jt,h=new jt,A=new jt,p=new Re,m=new Re;function g(D,S,T){c.fromBufferAttribute(r,D),u.fromBufferAttribute(r,S),d.fromBufferAttribute(r,T),f.fromBufferAttribute(s,D),h.fromBufferAttribute(s,S),A.fromBufferAttribute(s,T),u.sub(c),d.sub(c),h.sub(f),A.sub(f);const B=1/(h.x*A.y-A.x*h.y);isFinite(B)&&(p.copy(u).multiplyScalar(A.y).addScaledVector(d,-h.y).multiplyScalar(B),m.copy(d).multiplyScalar(h.x).addScaledVector(u,-A.x).multiplyScalar(B),a[D].add(p),a[S].add(p),a[T].add(p),l[D].add(m),l[S].add(m),l[T].add(m))}let y=this.groups;0===y.length&&(y=[{start:0,count:e.count}]);for(let D=0,S=y.length;D<S;++D){const T=y[D],B=T.start;for(let U=B,k=B+T.count;U<k;U+=3)g(e.getX(U+0),e.getX(U+1),e.getX(U+2))}const v=new Re,_=new Re,C=new Re,b=new Re;function M(D){C.fromBufferAttribute(i,D),b.copy(C);const S=a[D];v.copy(S),v.sub(C.multiplyScalar(C.dot(S))).normalize(),_.crossVectors(b,S);const B=_.dot(l[D])<0?-1:1;o.setXYZW(D,v.x,v.y,v.z,B)}for(let D=0,S=y.length;D<S;++D){const T=y[D],B=T.start;for(let U=B,k=B+T.count;U<k;U+=3)M(e.getX(U+0)),M(e.getX(U+1)),M(e.getX(U+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new co(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new Re,s=new Re,o=new Re,a=new Re,l=new Re,c=new Re,u=new Re,d=new Re;if(e)for(let f=0,h=e.count;f<h;f+=3){const A=e.getX(f+0),p=e.getX(f+1),m=e.getX(f+2);i.fromBufferAttribute(t,A),s.fromBufferAttribute(t,p),o.fromBufferAttribute(t,m),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),a.fromBufferAttribute(r,A),l.fromBufferAttribute(r,p),c.fromBufferAttribute(r,m),a.add(u),l.add(u),c.add(u),r.setXYZ(A,a.x,a.y,a.z),r.setXYZ(p,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)i.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Tl.fromBufferAttribute(e,t),Tl.normalize(),e.setXYZ(t,Tl.x,Tl.y,Tl.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,A=0;for(let p=0,m=l.length;p<m;p++){h=a.isInterleavedBufferAttribute?l[p]*a.data.stride+a.offset:l[p]*u;for(let g=0;g<u;g++)f[A++]=c[h++]}return new co(f,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ci,r=this.index.array,i=this.attributes;for(const a in i){const c=e(i[a],r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const h=e(c[u],r);l.push(h)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r)e.data.attributes[l]=r[l].toJSON(e.data);const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++)u.push(c[d].toJSON(e.data));u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i)this.setAttribute(c,i[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const HX=new Lr,S0=new R1,DB=new su,VX=new Re,MB=new Re,TB=new Re,BB=new Re,T4=new Re,NB=new Re,QX=new Re,IB=new Re;class ba extends Mo{constructor(e=new Ci,t=new Pp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(r.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){NB.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l];0!==u&&(T4.fromBufferAttribute(s[l],e),NB.addScaledVector(o?T4:T4.sub(t),u))}t.add(NB)}return t}raycast(e,t){const r=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===r.boundingSphere&&r.computeBoundingSphere(),DB.copy(r.boundingSphere),DB.applyMatrix4(s),S0.copy(e.ray).recast(e.near),(!1!==DB.containsPoint(S0.origin)||!(null===S0.intersectSphere(DB,VX)||S0.origin.distanceToSquared(VX)>(e.far-e.near)**2))&&(HX.copy(s).invert(),S0.copy(e.ray).applyMatrix4(HX),(null===r.boundingBox||!1!==S0.intersectsBox(r.boundingBox))&&this._computeIntersections(e,t,S0)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,f=s.groups,h=s.drawRange;if(null!==a)if(Array.isArray(o))for(let A=0,p=f.length;A<p;A++){const m=f[A],g=o[m.materialIndex];for(let _=Math.max(m.start,h.start),C=Math.min(a.count,Math.min(m.start+m.count,h.start+h.count));_<C;_+=3)i=RB(this,g,e,r,c,u,d,a.getX(_),a.getX(_+1),a.getX(_+2)),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=m.materialIndex,t.push(i))}else for(let m=Math.max(0,h.start),g=Math.min(a.count,h.start+h.count);m<g;m+=3)i=RB(this,o,e,r,c,u,d,a.getX(m),a.getX(m+1),a.getX(m+2)),i&&(i.faceIndex=Math.floor(m/3),t.push(i));else if(void 0!==l)if(Array.isArray(o))for(let A=0,p=f.length;A<p;A++){const m=f[A],g=o[m.materialIndex];for(let _=Math.max(m.start,h.start),C=Math.min(l.count,Math.min(m.start+m.count,h.start+h.count));_<C;_+=3)i=RB(this,g,e,r,c,u,d,_,_+1,_+2),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=m.materialIndex,t.push(i))}else for(let m=Math.max(0,h.start),g=Math.min(l.count,h.start+h.count);m<g;m+=3)i=RB(this,o,e,r,c,u,d,m,m+1,m+2),i&&(i.faceIndex=Math.floor(m/3),t.push(i))}}function RB(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,MB),n.getVertexPosition(l,TB),n.getVertexPosition(c,BB);const u=function oDe(n,e,t,r,i,s,o,a){let l;if(l=1===e.side?r.intersectTriangle(o,s,i,!0,a):r.intersectTriangle(i,s,o,0===e.side,a),null===l)return null;IB.copy(a),IB.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(IB);return c<t.near||c>t.far?null:{distance:c,point:IB.clone(),object:n}}(n,e,t,r,MB,TB,BB,QX);if(u){const d=new Re;Td.getBarycoord(QX,MB,TB,BB,d),i&&(u.uv=Td.getInterpolatedAttribute(i,a,l,c,d,new jt)),s&&(u.uv1=Td.getInterpolatedAttribute(s,a,l,c,d,new jt)),o&&(u.normal=Td.getInterpolatedAttribute(o,a,l,c,d,new Re),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new Re,materialIndex:0};Td.getNormal(MB,TB,BB,f.normal),u.face=f,u.barycoord=d}return u}class V1 extends Ci{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,h=0;function A(p,m,g,y,v,_,C,b,M,D,S){const T=_/M,B=C/D,R=_/2,U=C/2,k=b/2,q=M+1,O=D+1;let P=0,G=0;const H=new Re;for(let ae=0;ae<O;ae++){const ve=ae*B-U;for(let Q=0;Q<q;Q++)H[p]=(Q*T-R)*y,H[m]=ve*v,H[g]=k,c.push(H.x,H.y,H.z),H[p]=0,H[m]=0,H[g]=b>0?1:-1,u.push(H.x,H.y,H.z),d.push(Q/M),d.push(1-ae/D),P+=1}for(let ae=0;ae<D;ae++)for(let ve=0;ve<M;ve++){const j=f+ve+q*(ae+1),K=f+(ve+1)+q*(ae+1),oe=f+(ve+1)+q*ae;l.push(f+ve+q*ae,j,oe),l.push(j,K,oe),G+=6}a.addGroup(h,G,S),h+=G,f+=P}A("z","y","x",-1,-1,r,t,e,o,s,0),A("z","y","x",1,-1,r,t,-e,o,s,1),A("x","z","y",1,1,e,r,t,i,o,2),A("x","z","y",1,-1,e,r,-t,i,o,3),A("x","y","z",1,-1,e,t,r,i,s,4),A("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new tr(c,3)),this.setAttribute("normal",new tr(u,3)),this.setAttribute("uv",new tr(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new V1(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Q1(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():e[t][r]=Array.isArray(i)?i.slice():i}}return e}function au(n){const e={};for(let t=0;t<n.length;t++){const r=Q1(n[t]);for(const i in r)e[i]=r[i]}return e}function zX(n){const e=n.getRenderTarget();return null===e?n.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:vs.workingColorSpace}const lDe={clone:Q1,merge:au};class mA extends ou{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Q1(e.uniforms),this.uniformsGroups=function aDe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;t.uniforms[i]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)!0===this.extensions[i]&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class B4 extends Mo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Lr,this.projectionMatrix=new Lr,this.projectionMatrixInverse=new Lr,this.coordinateSystem=Dp}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const wm=new Re,GX=new jt,jX=new jt;class tc extends B4{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*S1*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*w0*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*S1*Math.atan(Math.tan(.5*w0*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){wm.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(wm.x,wm.y).multiplyScalar(-e/wm.z),wm.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(wm.x,wm.y).multiplyScalar(-e/wm.z)}getViewSize(e,t){return this.getViewBounds(e,GX,jX),t.subVectors(jX,GX)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*w0*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class dDe extends Mo{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new tc(-90,1,e,t);i.layers=this.layers,this.add(i);const s=new tc(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new tc(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new tc(-90,1,e,t);a.layers=this.layers,this.add(a);const l=new tc(-90,1,e,t);l.layers=this.layers,this.add(l);const c=new tc(-90,1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Dp)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),A=e.xr.enabled;e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=p,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(d,f,h),e.xr.enabled=A,r.texture.needsPMREMUpdate=!0}}class OB extends Uu{constructor(e,t,r,i,s,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:Am,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class hDe extends gA{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new OB([r,r,r,r,r,r],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Ml}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new V1(5,5,5),s=new mA({name:"CubemapFromEquirect",uniforms:Q1(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new ba(i,s),a=t.minFilter;return t.minFilter===Sp&&(t.minFilter=Ml),new dDe(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}class qX extends Mo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ip,this.environmentIntensity=1,this.environmentRotation=new Ip,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const U4=new Re,_De=new Re,bDe=new fi;class Cm{constructor(e=new Re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=U4.subVectors(r,t).cross(_De.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(U4),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||bDe.getNormalMatrix(e),i=this.coplanarPoint(U4).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const x0=new su,QB=new Re;class zB{constructor(e=new Cm,t=new Cm,r=new Cm,i=new Cm,s=new Cm,o=new Cm){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Dp){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],A=i[9],p=i[10],m=i[11],g=i[12],y=i[13],v=i[14],_=i[15];if(r[0].setComponents(l-s,f-c,m-h,_-g).normalize(),r[1].setComponents(l+s,f+c,m+h,_+g).normalize(),r[2].setComponents(l+o,f+u,m+A,_+y).normalize(),r[3].setComponents(l-o,f-u,m-A,_-y).normalize(),r[4].setComponents(l-a,f-d,m-p,_-v).normalize(),t===Dp)r[5].setComponents(l+a,f+d,m+p,_+v).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);r[5].setComponents(a,d,p,v).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),x0.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),x0.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(x0)}intersectsSprite(e){return x0.center.set(0,0,0),x0.radius=.7071067811865476,x0.applyMatrix4(e.matrixWorld),this.intersectsSphere(x0)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(QB.x=i.normal.x>0?e.max.x:e.min.x,QB.y=i.normal.y>0?e.max.y:e.min.y,QB.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(QB)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class FS extends Mo{constructor(){super(),this.isGroup=!0,this.type="Group"}}class pY extends Uu{constructor(e,t,r,i,s,o,a,l,c,u=y1){if(u!==y1&&u!==_1)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&u===y1&&(r=pm),void 0===r&&u===_1&&(r=v1),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:Cc,this.minFilter=void 0!==l?l:Cc,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class B0 extends Ci{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],f=[],h=[];let A=0;const p=[],m=r/2;let g=0;function v(_){const C=A,b=new jt,M=new Re;let D=0;const S=!0===_?e:t,T=!0===_?1:-1;for(let R=1;R<=i;R++)d.push(0,m*T,0),f.push(0,T,0),h.push(.5,.5),A++;const B=A;for(let R=0;R<=i;R++){const k=R/i*l+a,q=Math.cos(k),O=Math.sin(k);M.x=S*O,M.y=m*T,M.z=S*q,d.push(M.x,M.y,M.z),f.push(0,T,0),b.x=.5*q+.5,b.y=.5*O*T+.5,h.push(b.x,b.y),A++}for(let R=0;R<i;R++){const U=C+R,k=B+R;!0===_?u.push(k,k+1,U):u.push(k+1,k,U),D+=3}c.addGroup(g,D,!0===_?1:2),g+=D}(function y(){const _=new Re,C=new Re;let b=0;const M=(t-e)/r;for(let D=0;D<=s;D++){const S=[],T=D/s,B=T*(t-e)+e;for(let R=0;R<=i;R++){const U=R/i,k=U*l+a,q=Math.sin(k),O=Math.cos(k);C.x=B*q,C.y=-T*r+m,C.z=B*O,d.push(C.x,C.y,C.z),_.set(q,M,O).normalize(),f.push(_.x,_.y,_.z),h.push(U,1-T),S.push(A++)}p.push(S)}for(let D=0;D<i;D++)for(let S=0;S<s;S++){const B=p[S+1][D],R=p[S+1][D+1],U=p[S][D+1];(e>0||0!==S)&&(u.push(p[S][D],B,U),b+=3),(t>0||S!==s-1)&&(u.push(B,R,U),b+=3)}c.addGroup(g,b,0),g+=b})(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new tr(d,3)),this.setAttribute("normal",new tr(f,3)),this.setAttribute("uv",new tr(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new B0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kS extends Ci{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=t/l,h=[],A=[],p=[],m=[];for(let g=0;g<u;g++){const y=g*f-o;for(let v=0;v<c;v++)A.push(v*d-s,-y,0),p.push(0,0,1),m.push(v/a),m.push(1-g/l)}for(let g=0;g<l;g++)for(let y=0;y<a;y++){const _=y+c*(g+1),C=y+1+c*(g+1),b=y+1+c*g;h.push(y+c*g,_,b),h.push(_,C,b)}this.setIndex(h),this.setAttribute("position",new tr(A,3)),this.setAttribute("normal",new tr(p,3)),this.setAttribute("uv",new tr(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kS(e.width,e.height,e.widthSegments,e.heightSegments)}}class NY extends ou{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class IY extends ou{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function F0(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}class uN{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{i:if(!(e<i)){for(let a=r+2;;){if(void 0===i){if(e<s)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0}}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class wMe extends uN{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-r;break;case 2402:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*r-t;break;case 2402:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=.5*(r-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,A=(r-t)/(i-t),p=A*A,m=p*A,g=-f*m+2*f*p-f*A,y=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*A+1,v=(-1-h)*m+(1.5+h)*p+.5*A,_=h*m-h*p;for(let C=0;C!==a;++C)s[C]=g*o[u+C]+y*o[c+C]+v*o[l+C]+_*o[d+C];return s}}class OY extends uN{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),d=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*u;return s}}class CMe extends uN{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class yA{constructor(e,t,r,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=F0(t,this.TimeBufferType),this.values=F0(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:F0(e.times,Array),values:F0(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new CMe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new OY(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new wMe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;-1!==o&&r[o]>t;)--o;if(++o,0!==s||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==i&&function FY(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(i)l=!0;else{const d=a*r,f=d-r,h=d+r;for(let A=0;A!==r;++A){const p=t[d+A];if(p!==t[f+A]||p!==t[h+A]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,f=o*r;for(let h=0;h!==r;++h)t[f+h]=t[d+h]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}yA.prototype.TimeBufferType=Float32Array,yA.prototype.ValueBufferType=Float32Array,yA.prototype.DefaultInterpolation=2301;class Z1 extends yA{constructor(e,t,r){super(e,t,r)}}Z1.prototype.ValueTypeName="bool",Z1.prototype.ValueBufferType=Array,Z1.prototype.DefaultInterpolation=2300,Z1.prototype.InterpolantFactoryMethodLinear=void 0,Z1.prototype.InterpolantFactoryMethodSmooth=void 0;(class PY extends yA{}).prototype.ValueTypeName="color";(class dN extends yA{}).prototype.ValueTypeName="number";class EMe extends uN{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)iu.slerpFlat(s,0,o,c-a,o,c,l);return s}}class hN extends yA{InterpolantFactoryMethodLinear(e){return new EMe(this.times,this.values,this.getValueSize(),e)}}hN.prototype.ValueTypeName="quaternion",hN.prototype.InterpolantFactoryMethodSmooth=void 0;class eb extends yA{constructor(e,t,r){super(e,t,r)}}eb.prototype.ValueTypeName="string",eb.prototype.ValueBufferType=Array,eb.prototype.DefaultInterpolation=2300,eb.prototype.InterpolantFactoryMethodLinear=void 0,eb.prototype.InterpolantFactoryMethodSmooth=void 0;(class fN extends yA{}).prototype.ValueTypeName="vector",Error;class R0 extends Mo{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Gn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}const fk=new Lr,UY=new Re,kY=new Re;class Ak{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new jt(512,512),this.map=null,this.mapPass=null,this.matrix=new Lr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new zB,this._frameExtents=new jt(1,1),this._viewportCount=1,this._viewports=[new Ss(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;UY.setFromMatrixPosition(e.matrixWorld),t.position.copy(UY),kY.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(kY),t.updateMatrixWorld(),fk.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fk),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(fk)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class gk extends B4{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class RMe extends Ak{constructor(){super(new gk(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class VY extends R0{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mo.DEFAULT_UP),this.updateMatrix(),this.target=new Mo,this.shadow=new RMe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class QY extends R0{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class VMe extends tc{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}const vk="\\[\\]\\.:\\/",WMe=new RegExp("["+vk+"]","g"),yk="[^"+vk+"]",$Me="[^"+vk.replace("\\.","")+"]",ZMe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",yk)+/(WCOD+)?/.source.replace("WCOD",$Me)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",yk)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",yk)+"$"),eTe=["material","materials","bones","map"];class tTe{constructor(e,t,r){const i=r||To.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}let To=(()=>{class n{constructor(t,r,i){this.path=r,this.parsedPath=i||n.parseTrackName(r),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,i){return t&&t.isAnimationObjectGroup?new n.Composite(t,r,i):new n(t,r,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(WMe,"")}static parseTrackName(t){const r=ZMe.exec(t);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=i.nodeName.substring(s+1);-1!==eTe.indexOf(o)&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=o)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(r);if(void 0!==i)return i}if(t.children){const i=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===r||l.uuid===r)return l;const c=i(l.children);if(c)return c}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)t[r++]=i[s]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,i=r.objectName,s=r.propertyName;let o=r.propertyIndex;if(t||(t=n.findNode(this.rootNode,r.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(i){let u=r.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let d=0;d<t.length;d++)if(t[d].name===u){u=d;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=tTe,n})();To.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},To.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},To.prototype.GetterByBindingType=[To.prototype._getValue_direct,To.prototype._getValue_array,To.prototype._getValue_arrayElement,To.prototype._getValue_toArray],To.prototype.SetterByBindingTypeAndVersioning=[[To.prototype._setValue_direct,To.prototype._setValue_direct_setNeedsUpdate,To.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[To.prototype._setValue_array,To.prototype._setValue_array_setNeedsUpdate,To.prototype._setValue_array_setMatrixWorldNeedsUpdate],[To.prototype._setValue_arrayElement,To.prototype._setValue_arrayElement_setNeedsUpdate,To.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[To.prototype._setValue_fromArray,To.prototype._setValue_fromArray_setNeedsUpdate,To.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class tJ{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=ei(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ei(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class oTe extends Mp{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function Ck(n,e,t,r){const i=function uTe(n){switch(n){case xp:case cX:return{byteLength:1,components:1};case gS:case uX:case mS:return{byteLength:2,components:1};case MU:case TU:return{byteLength:2,components:4};case pm:case DU:case Sd:return{byteLength:4,components:1};case dX:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}(r);switch(t){case hX:case AX:return n*e;case pX:return n*e*2;case BU:case aB:return n*e/i.components*i.byteLength;case gX:case NU:return n*e*2/i.components*i.byteLength;case fX:return n*e*3/i.components*i.byteLength;case Lu:case IU:return n*e*4/i.components*i.byteLength;case lB:case cB:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case uB:case dB:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case RU:case PU:return Math.max(n,16)*Math.max(e,8)/4;case FU:case OU:return Math.max(n,8)*Math.max(e,8)/2;case LU:case UU:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case kU:case HU:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case VU:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case QU:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case zU:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case GU:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case jU:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case qU:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case WU:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case $U:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case KU:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case XU:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case YU:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case JU:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case ZU:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case hB:case e4:case t4:return Math.ceil(n/4)*Math.ceil(e/4)*16;case mX:case n4:return Math.ceil(n/4)*Math.ceil(e/4)*8;case r4:case i4:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"171"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="171");const hJ={type:"change"},Ek={type:"start"},fJ={type:"end"},CN=new R1,AJ=new Cm,dTe=Math.cos(70*k2e_DEG2RAD),sl=new Re,zu=2*Math.PI,Sk=1e-6;class hTe extends oTe{constructor(e,t=null){super(e,t),this.state=-1,this.enabled=!0,this.target=new Re,this.cursor=new Re,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Re,this._lastQuaternion=new iu,this._lastTargetPosition=new Re,this._quat=(new iu).setFromUnitVectors(e.up,new Re(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new tJ,this._sphericalDelta=new tJ,this._scale=1,this._panOffset=new Re,this._rotateStart=new jt,this._rotateEnd=new jt,this._rotateDelta=new jt,this._panStart=new jt,this._panEnd=new jt,this._panDelta=new jt,this._dollyStart=new jt,this._dollyEnd=new jt,this._dollyDelta=new jt,this._dollyDirection=new Re,this._mouse=new jt,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=ATe.bind(this),this._onPointerDown=fTe.bind(this),this._onPointerUp=pTe.bind(this),this._onContextMenu=wTe.bind(this),this._onMouseWheel=vTe.bind(this),this._onKeyDown=yTe.bind(this),this._onTouchStart=_Te.bind(this),this._onTouchMove=bTe.bind(this),this._onMouseDown=gTe.bind(this),this._onMouseMove=mTe.bind(this),this._interceptControlDown=CTe.bind(this),this._interceptControlUp=ETe.bind(this),null!==this.domElement&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(hJ),this.update(),this.state=-1}update(e=null){const t=this.object.position;sl.copy(t).sub(this.target),sl.applyQuaternion(this._quat),this._spherical.setFromVector3(sl),this.autoRotate&&-1===this.state&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=zu:r>Math.PI&&(r-=zu),i<-Math.PI?i+=zu:i>Math.PI&&(i-=zu),this._spherical.theta=r<=i?Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=o!=this._spherical.radius}if(sl.setFromSpherical(this._spherical),sl.applyQuaternion(this._quatInverse),t.copy(this.target).add(sl),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const a=sl.length();o=this._clampDistance(a*this._scale);const l=a-o;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),s=!!l}else if(this.object.isOrthographicCamera){const a=new Re(this._mouse.x,this._mouse.y,0);a.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=l!==this.object.zoom;const c=new Re(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(a),this.object.updateMatrixWorld(),o=sl.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;null!==o&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(CN.origin.copy(this.object.position),CN.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(CN.direction))<dTe?this.object.lookAt(this.target):(AJ.setFromNormalAndCoplanarPoint(this.object.up,this.target),CN.intersectPlane(AJ,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,!!(s||this._lastPosition.distanceToSquared(this.object.position)>Sk||8*(1-this._lastQuaternion.dot(this.object.quaternion))>Sk||this._lastTargetPosition.distanceToSquared(this.target)>Sk)&&(this.dispatchEvent(hJ),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(e){return null!==e?zu/60*this.autoRotateSpeed*e:zu/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){sl.setFromMatrixColumn(t,0),sl.multiplyScalar(-e),this._panOffset.add(sl)}_panUp(e,t){!0===this.screenSpacePanning?sl.setFromMatrixColumn(t,1):(sl.setFromMatrixColumn(t,0),sl.crossVectors(this.object.up,sl)),sl.multiplyScalar(e),this._panOffset.add(sl)}_pan(e,t){const r=this.domElement;if(this.object.isPerspectiveCamera){sl.copy(this.object.position).sub(this.target);let s=sl.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/r.clientHeight,this.object.matrix),this._panUp(2*t*s/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),s=t-r.top,a=r.height;this._mouse.x=(e-r.left)/r.width*2-1,this._mouse.y=-s/a*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(zu*this._rotateDelta.x/t.clientHeight),this._rotateUp(zu*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(zu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-zu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(zu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-zu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(1===this._pointers.length)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._rotateStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartPan(e){if(1===this._pointers.length)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),r=e.pageX-t.x,i=e.pageY-t.y,s=Math.sqrt(r*r+i*i);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(1==this._pointers.length)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e);this._rotateEnd.set(.5*(e.pageX+r.x),.5*(e.pageY+r.y))}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(zu*this._rotateDelta.x/t.clientHeight),this._rotateUp(zu*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(1===this._pointers.length)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panEnd.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),r=e.pageX-t.x,i=e.pageY-t.y,s=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd),this._updateZoomParameters(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return void this._pointers.splice(t,1)}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];void 0===t&&(t=new jt,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){return this._pointerPositions[e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0]]}_customWheelEvent(e){const r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(e.deltaMode){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function fTe(n){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),"touch"===n.pointerType?this._onTouchStart(n):this._onMouseDown(n)))}function ATe(n){!1!==this.enabled&&("touch"===n.pointerType?this._onTouchMove(n):this._onMouseMove(n))}function pTe(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(fJ),this.state=-1;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y})}}function gTe(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case 1:if(!1===this.enableZoom)return;this._handleMouseDownDolly(n),this.state=1;break;case 0:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}break;case 2:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}else{if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(Ek)}function mTe(n){switch(this.state){case 0:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(n);break;case 1:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(n);break;case 2:if(!1===this.enablePan)return;this._handleMouseMovePan(n)}}function vTe(n){!1===this.enabled||!1===this.enableZoom||-1!==this.state||(n.preventDefault(),this.dispatchEvent(Ek),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(fJ))}function yTe(n){!1!==this.enabled&&this._handleKeyDown(n)}function _Te(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case 0:if(!1===this.enableRotate)return;this._handleTouchStartRotate(n),this.state=3;break;case 1:if(!1===this.enablePan)return;this._handleTouchStartPan(n),this.state=4;break;default:this.state=-1}break;case 2:switch(this.touches.TWO){case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(n),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(n),this.state=6;break;default:this.state=-1}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(Ek)}function bTe(n){switch(this._trackPointer(n),this.state){case 3:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(n),this.update();break;case 4:if(!1===this.enablePan)return;this._handleTouchMovePan(n),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(n),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=-1}}function wTe(n){!1!==this.enabled&&n.preventDefault()}function CTe(n){"Control"===n.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function ETe(n){"Control"===n.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function pJ(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==t&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function STe(n){const e=new WeakMap;return{get:function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)},remove:function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))},update:function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);return void((!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version}))}const c=e.get(a);if(void 0===c)e.set(a,function t(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=n.createBuffer();let h;if(n.bindBuffer(l,f),n.bufferData(l,c,u),a.onUploadCallback(),c instanceof Float32Array)h=n.FLOAT;else if(c instanceof Uint16Array)h=a.isFloat16BufferAttribute?n.HALF_FLOAT:n.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=n.SHORT;else if(c instanceof Uint32Array)h=n.UNSIGNED_INT;else if(c instanceof Int32Array)h=n.INT;else if(c instanceof Int8Array)h=n.BYTE;else if(c instanceof Uint8Array)h=n.UNSIGNED_BYTE;else{if(!(c instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);h=n.UNSIGNED_BYTE}return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function r(a,l,c){const u=l.array,d=l.updateRanges;if(n.bindBuffer(c,a),0===d.length)n.bufferSubData(c,0,u);else{d.sort((h,A)=>h.start-A.start);let f=0;for(let h=1;h<d.length;h++){const A=d[f],p=d[h];p.start<=A.start+A.count+1?A.count=Math.max(A.count,p.start+p.count-A.start):(++f,d[f]=p)}d.length=f+1;for(let h=0,A=d.length;h<A;h++){const p=d[h];n.bufferSubData(c,p.start*u.BYTES_PER_ELEMENT,u,p.start,p.count)}l.clearUpdateRanges()}l.onUploadCallback()})(c.buffer,a,l),c.version=a.version}}}}const Ei={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},kn={common:{diffuse:{value:new Gn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fi},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fi}},envmap:{envMap:{value:null},envMapRotation:{value:new fi},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fi},normalScale:{value:new jt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Gn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Gn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0},uvTransform:{value:new fi}},sprite:{diffuse:{value:new Gn(16777215)},opacity:{value:1},center:{value:new jt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fi},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0}}},_A={basic:{uniforms:au([kn.common,kn.specularmap,kn.envmap,kn.aomap,kn.lightmap,kn.fog]),vertexShader:Ei.meshbasic_vert,fragmentShader:Ei.meshbasic_frag},lambert:{uniforms:au([kn.common,kn.specularmap,kn.envmap,kn.aomap,kn.lightmap,kn.emissivemap,kn.bumpmap,kn.normalmap,kn.displacementmap,kn.fog,kn.lights,{emissive:{value:new Gn(0)}}]),vertexShader:Ei.meshlambert_vert,fragmentShader:Ei.meshlambert_frag},phong:{uniforms:au([kn.common,kn.specularmap,kn.envmap,kn.aomap,kn.lightmap,kn.emissivemap,kn.bumpmap,kn.normalmap,kn.displacementmap,kn.fog,kn.lights,{emissive:{value:new Gn(0)},specular:{value:new Gn(1118481)},shininess:{value:30}}]),vertexShader:Ei.meshphong_vert,fragmentShader:Ei.meshphong_frag},standard:{uniforms:au([kn.common,kn.envmap,kn.aomap,kn.lightmap,kn.emissivemap,kn.bumpmap,kn.normalmap,kn.displacementmap,kn.roughnessmap,kn.metalnessmap,kn.fog,kn.lights,{emissive:{value:new Gn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ei.meshphysical_vert,fragmentShader:Ei.meshphysical_frag},toon:{uniforms:au([kn.common,kn.aomap,kn.lightmap,kn.emissivemap,kn.bumpmap,kn.normalmap,kn.displacementmap,kn.gradientmap,kn.fog,kn.lights,{emissive:{value:new Gn(0)}}]),vertexShader:Ei.meshtoon_vert,fragmentShader:Ei.meshtoon_frag},matcap:{uniforms:au([kn.common,kn.bumpmap,kn.normalmap,kn.displacementmap,kn.fog,{matcap:{value:null}}]),vertexShader:Ei.meshmatcap_vert,fragmentShader:Ei.meshmatcap_frag},points:{uniforms:au([kn.points,kn.fog]),vertexShader:Ei.points_vert,fragmentShader:Ei.points_frag},dashed:{uniforms:au([kn.common,kn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ei.linedashed_vert,fragmentShader:Ei.linedashed_frag},depth:{uniforms:au([kn.common,kn.displacementmap]),vertexShader:Ei.depth_vert,fragmentShader:Ei.depth_frag},normal:{uniforms:au([kn.common,kn.bumpmap,kn.normalmap,kn.displacementmap,{opacity:{value:1}}]),vertexShader:Ei.meshnormal_vert,fragmentShader:Ei.meshnormal_frag},sprite:{uniforms:au([kn.sprite,kn.fog]),vertexShader:Ei.sprite_vert,fragmentShader:Ei.sprite_frag},background:{uniforms:{uvTransform:{value:new fi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ei.background_vert,fragmentShader:Ei.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new fi}},vertexShader:Ei.backgroundCube_vert,fragmentShader:Ei.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ei.cube_vert,fragmentShader:Ei.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ei.equirect_vert,fragmentShader:Ei.equirect_frag},distanceRGBA:{uniforms:au([kn.common,kn.displacementmap,{referencePosition:{value:new Re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ei.distanceRGBA_vert,fragmentShader:Ei.distanceRGBA_frag},shadow:{uniforms:au([kn.lights,kn.fog,{color:{value:new Gn(0)},opacity:{value:1}}]),vertexShader:Ei.shadow_vert,fragmentShader:Ei.shadow_frag}};_A.physical={uniforms:au([_A.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fi},clearcoatNormalScale:{value:new jt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fi},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fi},sheen:{value:0},sheenColor:{value:new Gn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fi},transmissionSamplerSize:{value:new jt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fi},attenuationDistance:{value:0},attenuationColor:{value:new Gn(0)},specularColor:{value:new Gn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fi},anisotropyVector:{value:new jt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fi}}]),vertexShader:Ei.meshphysical_vert,fragmentShader:Ei.meshphysical_frag};const EN={r:0,b:0,g:0},H0=new Ip,SNe=new Lr;function xNe(n,e,t,r,i,s,o){const a=new Gn(0);let c,u,l=!0===s?0:1,d=null,f=0,h=null;function A(v){let _=!0===v.isScene?v.background:null;return _&&_.isTexture&&(_=(v.backgroundBlurriness>0?t:e).get(_)),_}function g(v,_){v.getRGB(EN,zX(n)),r.buffers.color.setClear(EN.r,EN.g,EN.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(v,_=1){a.set(v),l=_,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(a,l)},render:function p(v){let _=!1;const C=A(v);null===C?g(a,l):C&&C.isColor&&(g(C,1),_=!0);const b=n.xr.getEnvironmentBlendMode();"additive"===b?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===b&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||_)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))},addToRenderList:function m(v,_){const C=A(_);C&&(C.isCubeTexture||C.mapping===AS)?(void 0===u&&(u=new ba(new V1(1,1,1),new mA({name:"BackgroundCubeMaterial",uniforms:Q1(_A.backgroundCube.uniforms),vertexShader:_A.backgroundCube.vertexShader,fragmentShader:_A.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(b,M,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),H0.copy(_.backgroundRotation),H0.x*=-1,H0.y*=-1,H0.z*=-1,C.isCubeTexture&&!1===C.isRenderTargetTexture&&(H0.y*=-1,H0.z*=-1),u.material.uniforms.envMap.value=C,u.material.uniforms.flipEnvMap.value=C.isCubeTexture&&!1===C.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(SNe.makeRotationFromEuler(H0)),u.material.toneMapped=vs.getTransfer(C.colorSpace)!==eo,(d!==C||f!==C.version||h!==n.toneMapping)&&(u.material.needsUpdate=!0,d=C,f=C.version,h=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):C&&C.isTexture&&(void 0===c&&(c=new ba(new kS(2,2),new mA({name:"BackgroundMaterial",uniforms:Q1(_A.background.uniforms),vertexShader:_A.background.vertexShader,fragmentShader:_A.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=C,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=vs.getTransfer(C.colorSpace)!==eo,!0===C.matrixAutoUpdate&&C.updateMatrix(),c.material.uniforms.uvTransform.value.copy(C.matrix),(d!==C||f!==C.version||h!==n.toneMapping)&&(c.material.needsUpdate=!0,d=C,f=C.version,h=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))},dispose:function y(){void 0!==u&&(u.geometry.dispose(),u.material.dispose()),void 0!==c&&(c.geometry.dispose(),c.material.dispose())}}}function DNe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,o=!1;function c(T){return n.bindVertexArray(T)}function u(T){return n.deleteVertexArray(T)}function f(T){const B=[],R=[],U=[];for(let k=0;k<t;k++)B[k]=0,R[k]=0,U[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:R,attributeDivisors:U,object:T,attributes:{},index:null}}function p(){const T=s.newAttributes;for(let B=0,R=T.length;B<R;B++)T[B]=0}function m(T){g(T,0)}function g(T,B){const U=s.enabledAttributes,k=s.attributeDivisors;s.newAttributes[T]=1,0===U[T]&&(n.enableVertexAttribArray(T),U[T]=1),k[T]!==B&&(n.vertexAttribDivisor(T,B),k[T]=B)}function y(){const T=s.newAttributes,B=s.enabledAttributes;for(let R=0,U=B.length;R<U;R++)B[R]!==T[R]&&(n.disableVertexAttribArray(R),B[R]=0)}function v(T,B,R,U,k,q,O){!0===O?n.vertexAttribIPointer(T,B,R,k,q):n.vertexAttribPointer(T,B,R,U,k,q)}function D(){S(),o=!0,s!==i&&(s=i,c(s.object))}function S(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function a(T,B,R,U,k){let q=!1;const O=function d(T,B,R){const U=!0===R.wireframe;let k=r[T.id];void 0===k&&(k={},r[T.id]=k);let q=k[B.id];void 0===q&&(q={},k[B.id]=q);let O=q[U];return void 0===O&&(O=f(function l(){return n.createVertexArray()}()),q[U]=O),O}(U,R,B);s!==O&&(s=O,c(s.object)),q=function h(T,B,R,U){const k=s.attributes,q=B.attributes;let O=0;const P=R.getAttributes();for(const G in P)if(P[G].location>=0){const ae=k[G];let ve=q[G];if(void 0===ve&&("instanceMatrix"===G&&T.instanceMatrix&&(ve=T.instanceMatrix),"instanceColor"===G&&T.instanceColor&&(ve=T.instanceColor)),void 0===ae||ae.attribute!==ve||ve&&ae.data!==ve.data)return!0;O++}return s.attributesNum!==O||s.index!==U}(T,U,R,k),q&&function A(T,B,R,U){const k={},q=B.attributes;let O=0;const P=R.getAttributes();for(const G in P)if(P[G].location>=0){let ae=q[G];void 0===ae&&("instanceMatrix"===G&&T.instanceMatrix&&(ae=T.instanceMatrix),"instanceColor"===G&&T.instanceColor&&(ae=T.instanceColor));const ve={};ve.attribute=ae,ae&&ae.data&&(ve.data=ae.data),k[G]=ve,O++}s.attributes=k,s.attributesNum=O,s.index=U}(T,U,R,k),null!==k&&e.update(k,n.ELEMENT_ARRAY_BUFFER),(q||o)&&(o=!1,function _(T,B,R,U){p();const k=U.attributes,q=R.getAttributes(),O=B.defaultAttributeValues;for(const P in q){const G=q[P];if(G.location>=0){let H=k[P];if(void 0===H&&("instanceMatrix"===P&&T.instanceMatrix&&(H=T.instanceMatrix),"instanceColor"===P&&T.instanceColor&&(H=T.instanceColor)),void 0!==H){const ae=H.normalized,ve=H.itemSize,Q=e.get(H);if(void 0===Q)continue;const j=Q.buffer,K=Q.type,oe=Q.bytesPerElement,se=K===n.INT||K===n.UNSIGNED_INT||H.gpuType===DU;if(H.isInterleavedBufferAttribute){const le=H.data,te=le.stride,ee=H.offset;if(le.isInstancedInterleavedBuffer){for(let Ae=0;Ae<G.locationSize;Ae++)g(G.location+Ae,le.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let Ae=0;Ae<G.locationSize;Ae++)m(G.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,j);for(let Ae=0;Ae<G.locationSize;Ae++)v(G.location+Ae,ve/G.locationSize,K,ae,te*oe,(ee+ve/G.locationSize*Ae)*oe,se)}else{if(H.isInstancedBufferAttribute){for(let le=0;le<G.locationSize;le++)g(G.location+le,H.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let le=0;le<G.locationSize;le++)m(G.location+le);n.bindBuffer(n.ARRAY_BUFFER,j);for(let le=0;le<G.locationSize;le++)v(G.location+le,ve/G.locationSize,K,ae,ve*oe,ve/G.locationSize*le*oe,se)}}else if(void 0!==O){const ae=O[P];if(void 0!==ae)switch(ae.length){case 2:n.vertexAttrib2fv(G.location,ae);break;case 3:n.vertexAttrib3fv(G.location,ae);break;case 4:n.vertexAttrib4fv(G.location,ae);break;default:n.vertexAttrib1fv(G.location,ae)}}}}y()}(T,B,R,U),null!==k&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(k).buffer))},reset:D,resetDefaultState:S,dispose:function C(){D();for(const T in r){const B=r[T];for(const R in B){const U=B[R];for(const k in U)u(U[k].object),delete U[k];delete B[R]}delete r[T]}},releaseStatesOfGeometry:function b(T){if(void 0===r[T.id])return;const B=r[T.id];for(const R in B){const U=B[R];for(const k in U)u(U[k].object),delete U[k];delete B[R]}delete r[T.id]},releaseStatesOfProgram:function M(T){for(const B in r){const R=r[B];if(void 0===R[T.id])continue;const U=R[T.id];for(const k in U)u(U[k].object),delete U[k];delete R[T.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:y}}function MNe(n,e,t){let r;function o(c,u,d){0!==d&&(n.drawArraysInstanced(r,c,u,d),t.update(u,r,d))}this.setMode=function i(c){r=c},this.render=function s(c,u){n.drawArrays(r,c,u),t.update(u,r,1)},this.renderInstances=o,this.renderMultiDraw=function a(c,u,d){if(0===d)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let A=0;A<d;A++)h+=u[A];t.update(h,r,1)},this.renderMultiDrawInstances=function l(c,u,d,f){if(0===d)return;const h=e.get("WEBGL_multi_draw");if(null===h)for(let A=0;A<c.length;A++)o(c[A],u[A],f[A]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let A=0;for(let p=0;p<d;p++)A+=u[p]*f[p];t.update(A,r,1)}}}function TNe(n,e,t,r){let i;function l(M){if("highp"===M){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return"mediump"===M&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=void 0!==t.precision?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=!0===t.logarithmicDepthBuffer,f=!0===t.reverseDepthBuffer&&e.has("EXT_clip_control"),h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function s(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const M=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:l,textureFormatReadable:function o(M){return!(M!==Lu&&r.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function a(M){const D=M===mS&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==xp&&r.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==Sd&&!D)},precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:A,maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxCubemapSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexUniforms:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:n.getParameter(n.MAX_VARYING_VECTORS),maxFragmentUniforms:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:A>0,maxSamples:n.getParameter(n.MAX_SAMPLES)}}function BNe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Cm,a=new fi,l={value:null,needsUpdate:!1};function u(d,f,h,A){const p=null!==d?d.length:0;let m=null;if(0!==p){if(m=l.value,!0!==A||null===m){const g=h+4*p,y=f.matrixWorldInverse;a.getNormalMatrix(y),(null===m||m.length<g)&&(m=new Float32Array(g));for(let v=0,_=h;v!==p;++v,_+=4)o.copy(d[v]).applyMatrix4(y,a),o.normal.toArray(m,_),m[_+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,m}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=0!==d.length||f||0!==r||i;return i=f,r=d.length,h},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){t=u(d,f,0)},this.setState=function(d,f,h){const A=d.clippingPlanes,p=d.clipIntersection,m=d.clipShadows,g=n.get(d);if(!i||null===A||0===A.length||s&&!m)s?u(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}();else{const y=s?0:r,v=4*y;let _=g.clippingState||null;l.value=_,_=u(A,f,v,h);for(let C=0;C!==v;++C)_[C]=t[C];g.clippingState=_,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=y}}}function NNe(n){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=Am:304===a&&(o.mapping=_0),o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function r(o){if(o&&o.isTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new hDe(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}const gJ=[.125,.215,.35,.446,.526,.582],xk=new gk,mJ=new Gn;let Dk=null,Mk=0,Tk=0,Bk=!1;const Q0=(1+Math.sqrt(5))/2,nb=1/Q0,vJ=[new Re(-Q0,nb,0),new Re(Q0,nb,0),new Re(-nb,0,Q0),new Re(nb,0,Q0),new Re(0,Q0,-nb),new Re(0,Q0,nb),new Re(-1,1,-1),new Re(1,1,-1),new Re(-1,1,1),new Re(1,1,1)];class yJ{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Dk=this._renderer.getRenderTarget(),Mk=this._renderer.getActiveCubeFace(),Tk=this._renderer.getActiveMipmapLevel(),Bk=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=wJ(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=bJ(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Dk,Mk,Tk),this._renderer.xr.enabled=Bk,e.scissorTest=!1,SN(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Am||e.mapping===_0?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),Dk=this._renderer.getRenderTarget(),Mk=this._renderer.getActiveCubeFace(),Tk=this._renderer.getActiveMipmapLevel(),Bk=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ml,minFilter:Ml,generateMipmaps:!1,type:mS,format:Lu,colorSpace:C1,depthBuffer:!1},i=_J(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=_J(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function INe(n){const e=[],t=[],r=[];let i=n;const s=n-4+1+gJ.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-4?l=gJ[o-n+4-1]:0===o&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,A=6,p=3,m=2,g=1,y=new Float32Array(p*A*h),v=new Float32Array(m*A*h),_=new Float32Array(g*A*h);for(let b=0;b<h;b++){const M=b%3*2/3-1,D=b>2?0:-1;y.set([M,D,0,M+2/3,D,0,M+2/3,D+1,0,M,D,0,M+2/3,D+1,0,M,D+1,0],p*A*b),v.set(f,m*A*b),_.set([b,b,b,b,b,b],g*A*b)}const C=new Ci;C.setAttribute("position",new co(y,p)),C.setAttribute("uv",new co(v,m)),C.setAttribute("faceIndex",new co(_,g)),e.push(C),i>4&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}(s)),this._blurMaterial=function FNe(n,e,t){const r=new Float32Array(20),i=new Re(0,1,0);return new mA({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return i}_compileMaterial(e){const t=new ba(this._lodPlanes[0],e);this._renderer.compile(t,xk)}_sceneToCubeUV(e,t,r,i){const a=new tc(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(mJ),u.toneMapping=fm,u.autoClear=!1;const h=new Pp({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),A=new ba(new V1,h);let p=!1;const m=e.background;m?m.isColor&&(h.color.copy(m),e.background=null,p=!0):(h.color.copy(mJ),p=!0);for(let g=0;g<6;g++){const y=g%3;0===y?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):1===y?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const v=this._cubeSize;SN(i,y*v,g>2?v:0,v,v),u.setRenderTarget(i),p&&u.render(A,a),u.render(e,a)}A.geometry.dispose(),A.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=m}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Am||e.mapping===_0;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=wJ()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=bJ());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new ba(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;SN(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,xk)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(e,s-1,s,o,vJ[(i-s-1)%vJ.length])}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new ba(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,A=isFinite(s)?Math.PI/(2*h):2*Math.PI/39,p=s/A,m=isFinite(s)?1+Math.floor(3*p):20;m>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);const g=[];let y=0;for(let M=0;M<20;++M){const D=M/p,S=Math.exp(-D*D/2);g.push(S),0===M?y+=S:M<m&&(y+=2*S)}for(let M=0;M<g.length;M++)g[M]=g[M]/y;f.envMap.value=e.texture,f.samples.value=m,f.weights.value=g,f.latitudinal.value="latitudinal"===o,a&&(f.poleAxis.value=a);const{_lodMax:v}=this;f.dTheta.value=A,f.mipInt.value=v-r;const _=this._sizeLods[i];SN(t,3*_*(i>v-4?i-v+4:0),4*(this._cubeSize-_),3*_,2*_),l.setRenderTarget(t),l.render(d,xk)}}function _J(n,e,t){const r=new gA(n,e,t);return r.texture.mapping=AS,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function SN(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function bJ(){return new mA({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function wJ(){return new mA({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function RNe(n){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function r(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,u=l===Am||l===_0;if(c||u){let d=e.get(a);if(a.isRenderTargetTexture&&a.pmremVersion!==(void 0!==d?d.texture.pmremVersion:0))return null===t&&(t=new yJ(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(void 0!==d)return d.texture;{const h=a.image;return c&&h&&h.height>0||u&&h&&function i(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(h)?(null===t&&(t=new yJ(n)),d=c?t.fromEquirectangular(a):t.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function ONe(n){const e={};function t(r){if(void 0!==e[r])return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return null!==t(r)},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return null===i&&D1("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function PNe(n,e,t,r){const i={},s=new WeakMap;function o(d){const f=d.target;null!==f.index&&e.remove(f.index);for(const A in f.attributes)e.remove(f.attributes[A]);f.removeEventListener("dispose",o),delete i[f.id];const h=s.get(f);h&&(e.remove(h),s.delete(f)),r.releaseStatesOfGeometry(f),!0===f.isInstancedBufferGeometry&&delete f._maxInstanceCount,t.memory.geometries--}function c(d){const f=[],h=d.index,A=d.attributes.position;let p=0;if(null!==h){const y=h.array;p=h.version;for(let v=0,_=y.length;v<_;v+=3){const C=y[v+0],b=y[v+1],M=y[v+2];f.push(C,b,b,M,M,C)}}else{if(void 0===A)return;p=A.version;for(let v=0,_=A.array.length/3-1;v<_;v+=3){const C=v+0,b=v+1,M=v+2;f.push(C,b,b,M,M,C)}}const m=new(CX(f)?kX:UX)(f,1);m.version=p;const g=s.get(d);g&&e.remove(g),s.set(d,m)}return{get:function a(d,f){return!0===i[f.id]||(f.addEventListener("dispose",o),i[f.id]=!0,t.memory.geometries++),f},update:function l(d){const f=d.attributes;for(const h in f)e.update(f[h],n.ARRAY_BUFFER)},getWireframeAttribute:function u(d){const f=s.get(d);if(f){const h=d.index;null!==h&&f.version<h.version&&c(d)}else c(d);return s.get(d)}}}function LNe(n,e,t){let r,s,o;function c(f,h,A){0!==A&&(n.drawElementsInstanced(r,h,s,f*o,A),t.update(h,r,A))}this.setMode=function i(f){r=f},this.setIndex=function a(f){s=f.type,o=f.bytesPerElement},this.render=function l(f,h){n.drawElements(r,h,s,f*o),t.update(h,r,1)},this.renderInstances=c,this.renderMultiDraw=function u(f,h,A){if(0===A)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,s,f,0,A);let m=0;for(let g=0;g<A;g++)m+=h[g];t.update(m,r,1)},this.renderMultiDrawInstances=function d(f,h,A,p){if(0===A)return;const m=e.get("WEBGL_multi_draw");if(null===m)for(let g=0;g<f.length;g++)c(f[g]/o,h[g],p[g]);else{m.multiDrawElementsInstancedWEBGL(r,h,0,s,f,0,p,0,A);let g=0;for(let y=0;y<A;y++)g+=h[y]*p[y];t.update(g,r,1)}}}function UNe(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function kNe(n,e,t){const r=new WeakMap,i=new Ss;return{update:function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=void 0!==u?u.length:0;let f=r.get(a);if(void 0===f||f.count!==d){let S=function(){M.dispose(),r.delete(a),a.removeEventListener("dispose",S)};void 0!==f&&f.texture.dispose();const h=void 0!==a.morphAttributes.position,A=void 0!==a.morphAttributes.normal,p=void 0!==a.morphAttributes.color,m=a.morphAttributes.position||[],g=a.morphAttributes.normal||[],y=a.morphAttributes.color||[];let v=0;!0===h&&(v=1),!0===A&&(v=2),!0===p&&(v=3);let _=a.attributes.position.count*v,C=1;_>e.maxTextureSize&&(C=Math.ceil(_/e.maxTextureSize),_=e.maxTextureSize);const b=new Float32Array(_*C*4*d),M=new d4(b,_,C,d);M.type=Sd,M.needsUpdate=!0;const D=4*v;for(let T=0;T<d;T++){const B=m[T],R=g[T],U=y[T],k=_*C*4*T;for(let q=0;q<B.count;q++){const O=q*D;!0===h&&(i.fromBufferAttribute(B,q),b[k+O+0]=i.x,b[k+O+1]=i.y,b[k+O+2]=i.z,b[k+O+3]=0),!0===A&&(i.fromBufferAttribute(R,q),b[k+O+4]=i.x,b[k+O+5]=i.y,b[k+O+6]=i.z,b[k+O+7]=0),!0===p&&(i.fromBufferAttribute(U,q),b[k+O+8]=i.x,b[k+O+9]=i.y,b[k+O+10]=i.z,b[k+O+11]=4===U.itemSize?i.w:1)}}f={count:d,texture:M,size:new jt(_,C)},r.set(a,f),a.addEventListener("dispose",S)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let h=0;for(let p=0;p<c.length;p++)h+=c[p];const A=a.morphTargetsRelative?1:1-h;l.getUniforms().setValue(n,"morphTargetBaseInfluence",A),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",f.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",f.size)}}}function HNe(n,e,t,r){let i=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=r.render.frame,d=e.get(l,l.geometry);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d},dispose:function o(){i=new WeakMap}}}const CJ=new Uu,EJ=new pY(1,1),SJ=new d4,xJ=new DX,DJ=new OB,MJ=[],TJ=[],BJ=new Float32Array(16),NJ=new Float32Array(9),IJ=new Float32Array(4);function rb(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=MJ[i];if(void 0===s&&(s=new Float32Array(i),MJ[i]=s),0!==e){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function ol(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function al(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function xN(n,e){let t=TJ[e];void 0===t&&(t=new Int32Array(e),TJ[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function VNe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function QNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ol(t,e))return;n.uniform2fv(this.addr,e),al(t,e)}}function zNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ol(t,e))return;n.uniform3fv(this.addr,e),al(t,e)}}function GNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ol(t,e))return;n.uniform4fv(this.addr,e),al(t,e)}}function jNe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(ol(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),al(t,e)}else{if(ol(t,r))return;IJ.set(r),n.uniformMatrix2fv(this.addr,!1,IJ),al(t,r)}}function qNe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(ol(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),al(t,e)}else{if(ol(t,r))return;NJ.set(r),n.uniformMatrix3fv(this.addr,!1,NJ),al(t,r)}}function WNe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(ol(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),al(t,e)}else{if(ol(t,r))return;BJ.set(r),n.uniformMatrix4fv(this.addr,!1,BJ),al(t,r)}}function $Ne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function KNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ol(t,e))return;n.uniform2iv(this.addr,e),al(t,e)}}function XNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ol(t,e))return;n.uniform3iv(this.addr,e),al(t,e)}}function YNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ol(t,e))return;n.uniform4iv(this.addr,e),al(t,e)}}function JNe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ZNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ol(t,e))return;n.uniform2uiv(this.addr,e),al(t,e)}}function eIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ol(t,e))return;n.uniform3uiv(this.addr,e),al(t,e)}}function tIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ol(t,e))return;n.uniform4uiv(this.addr,e),al(t,e)}}function nIe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();let s;r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),this.type===n.SAMPLER_2D_SHADOW?(EJ.compareFunction=515,s=EJ):s=CJ,t.setTexture2D(e||s,i)}function rIe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||xJ,i)}function iIe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||DJ,i)}function sIe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||SJ,i)}function aIe(n,e){n.uniform1fv(this.addr,e)}function lIe(n,e){const t=rb(e,this.size,2);n.uniform2fv(this.addr,t)}function cIe(n,e){const t=rb(e,this.size,3);n.uniform3fv(this.addr,t)}function uIe(n,e){const t=rb(e,this.size,4);n.uniform4fv(this.addr,t)}function dIe(n,e){const t=rb(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function hIe(n,e){const t=rb(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function fIe(n,e){const t=rb(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function AIe(n,e){n.uniform1iv(this.addr,e)}function pIe(n,e){n.uniform2iv(this.addr,e)}function gIe(n,e){n.uniform3iv(this.addr,e)}function mIe(n,e){n.uniform4iv(this.addr,e)}function vIe(n,e){n.uniform1uiv(this.addr,e)}function yIe(n,e){n.uniform2uiv(this.addr,e)}function _Ie(n,e){n.uniform3uiv(this.addr,e)}function bIe(n,e){n.uniform4uiv(this.addr,e)}function wIe(n,e,t){const r=this.cache,i=e.length,s=xN(t,i);ol(r,s)||(n.uniform1iv(this.addr,s),al(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||CJ,s[o])}function CIe(n,e,t){const r=this.cache,i=e.length,s=xN(t,i);ol(r,s)||(n.uniform1iv(this.addr,s),al(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||xJ,s[o])}function EIe(n,e,t){const r=this.cache,i=e.length,s=xN(t,i);ol(r,s)||(n.uniform1iv(this.addr,s),al(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||DJ,s[o])}function SIe(n,e,t){const r=this.cache,i=e.length,s=xN(t,i);ol(r,s)||(n.uniform1iv(this.addr,s),al(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||SJ,s[o])}class DIe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=function oIe(n){switch(n){case 5126:return VNe;case 35664:return QNe;case 35665:return zNe;case 35666:return GNe;case 35674:return jNe;case 35675:return qNe;case 35676:return WNe;case 5124:case 35670:return $Ne;case 35667:case 35671:return KNe;case 35668:case 35672:return XNe;case 35669:case 35673:return YNe;case 5125:return JNe;case 36294:return ZNe;case 36295:return eIe;case 36296:return tIe;case 35678:case 36198:case 36298:case 36306:case 35682:return nIe;case 35679:case 36299:case 36307:return rIe;case 35680:case 36300:case 36308:case 36293:return iIe;case 36289:case 36303:case 36311:case 36292:return sIe}}(t.type)}}class MIe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function xIe(n){switch(n){case 5126:return aIe;case 35664:return lIe;case 35665:return cIe;case 35666:return uIe;case 35674:return dIe;case 35675:return hIe;case 35676:return fIe;case 5124:case 35670:return AIe;case 35667:case 35671:return pIe;case 35668:case 35672:return gIe;case 35669:case 35673:return mIe;case 5125:return vIe;case 36294:return yIe;case 36295:return _Ie;case 36296:return bIe;case 35678:case 36198:case 36298:case 36306:case 35682:return wIe;case 35679:case 36299:case 36307:return CIe;case 35680:case 36300:case 36308:case 36293:return EIe;case 36289:case 36303:case 36311:case 36292:return SIe}}(t.type)}}class TIe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const Ik=/(\w+)(\])?(\[|\.)?/g;function FJ(n,e){n.seq.push(e),n.map[e.id]=e}function BIe(n,e,t){const r=n.name,i=r.length;for(Ik.lastIndex=0;;){const s=Ik.exec(r);let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&Ik.lastIndex+2===i){FJ(t,void 0===c?new DIe(a,n,e):new MIe(a,n,e));break}{let d=t.map[a];void 0===d&&(d=new TIe(a),FJ(t,d)),t=d}}}class DN{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i);BIe(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,r,i){const s=this.map[t];void 0!==s&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];void 0!==i&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function RJ(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const NIe=37297;let IIe=0;const OJ=new fi;function PJ(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&""===i)return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+i+"\n\n"+function FIe(n,e){const t=n.split("\n"),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join("\n")}(n.getShaderSource(e),o)}return i}function OIe(n,e){const t=function RIe(n){vs._getMatrix(OJ,vs.workingColorSpace,n);const e=`mat3( ${OJ.elements.map(t=>t.toFixed(4))} )`;switch(vs.getTransfer(n)){case pB:return[e,"LinearTransferOETF"];case eo:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}(e);return[`vec4 ${n}( vec4 value ) {`,`\treturn ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join("\n")}function PIe(n,e){let t;switch(e){case n2e:t="Linear";break;case r2e:t="Reinhard";break;case i2e:t="Cineon";break;case s2e:t="ACESFilmic";break;case a2e:t="AgX";break;case l2e:t="Neutral";break;case o2e:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const MN=new Re;function VS(n){return""!==n}function LJ(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function UJ(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const VIe=/^[ \t]*#include +<([\w\d./]+)>/gm;function Fk(n){return n.replace(VIe,zIe)}const QIe=new Map;function zIe(n,e){let t=Ei[e];if(void 0===t){const r=QIe.get(e);if(void 0===r)throw new Error("Can not resolve #include <"+e+">");t=Ei[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r)}return Fk(t)}const GIe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kJ(n){return n.replace(GIe,jIe)}function jIe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function HJ(n){let e=`precision ${n.precision} float;\n\tprecision ${n.precision} int;\n\tprecision ${n.precision} sampler2D;\n\tprecision ${n.precision} samplerCube;\n\tprecision ${n.precision} sampler3D;\n\tprecision ${n.precision} sampler2DArray;\n\tprecision ${n.precision} sampler2DShadow;\n\tprecision ${n.precision} samplerCubeShadow;\n\tprecision ${n.precision} sampler2DArrayShadow;\n\tprecision ${n.precision} isampler2D;\n\tprecision ${n.precision} isampler3D;\n\tprecision ${n.precision} isamplerCube;\n\tprecision ${n.precision} isampler2DArray;\n\tprecision ${n.precision} usampler2D;\n\tprecision ${n.precision} usampler3D;\n\tprecision ${n.precision} usamplerCube;\n\tprecision ${n.precision} usampler2DArray;\n\t`;return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function YIe(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function qIe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===rX?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Oxe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Cp&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function WIe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Am:case _0:e="ENVMAP_TYPE_CUBE";break;case AS:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function $Ie(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===_0&&(e="ENVMAP_MODE_REFRACTION"),e}(t),d=function KIe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case tB:e="ENVMAP_BLENDING_MULTIPLY";break;case e2e:e="ENVMAP_BLENDING_MIX";break;case t2e:e="ENVMAP_BLENDING_ADD"}return e}(t),f=function XIe(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}(t),h=function UIe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(VS).join("\n")}(t),A=function kIe(n){const e=[];for(const t in n){const r=n[t];!1!==r&&e.push("#define "+t+" "+r)}return e.join("\n")}(s),p=i.createProgram();let m,g,y=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(VS).join("\n"),m.length>0&&(m+="\n"),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(VS).join("\n"),g.length>0&&(g+="\n")):(m=[HJ(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(VS).join("\n"),g=[HJ(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==fm?"#define TONE_MAPPING":"",t.toneMapping!==fm?Ei.tonemapping_pars_fragment:"",t.toneMapping!==fm?PIe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ei.colorspace_pars_fragment,OIe("linearToOutputTexel",t.outputColorSpace),(vs.getLuminanceCoefficients(MN),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${MN.x.toFixed(4)}, ${MN.y.toFixed(4)}, ${MN.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(VS).join("\n")),o=Fk(o),o=LJ(o,t),o=UJ(o,t),a=Fk(a),a=LJ(a,t),a=UJ(a,t),o=kJ(o),a=kJ(a),!0!==t.isRawShaderMaterial&&(y="#version 300 es\n",m=[h,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,g=["#define varying in",t.glslVersion===bX?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===bX?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const _=y+g+a,C=RJ(i,i.VERTEX_SHADER,y+m+o),b=RJ(i,i.FRAGMENT_SHADER,_);function M(B){if(n.debug.checkShaderErrors){const R=i.getProgramInfoLog(p).trim(),U=i.getShaderInfoLog(C).trim(),k=i.getShaderInfoLog(b).trim();let q=!0,O=!0;if(!1===i.getProgramParameter(p,i.LINK_STATUS))if(q=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(i,p,C,b);else{const P=PJ(i,C,"vertex"),G=PJ(i,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(p,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+B.name+"\nMaterial Type: "+B.type+"\n\nProgram Info Log: "+R+"\n"+P+"\n"+G)}else""!==R?console.warn("THREE.WebGLProgram: Program Info Log:",R):(""===U||""===k)&&(O=!1);O&&(B.diagnostics={runnable:q,programLog:R,vertexShader:{log:U,prefix:m},fragmentShader:{log:k,prefix:g}})}i.deleteShader(C),i.deleteShader(b),D=new DN(i,p),S=function HIe(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(i,p)}let D,S;i.attachShader(p,C),i.attachShader(p,b),void 0!==t.index0AttributeName?i.bindAttribLocation(p,0,t.index0AttributeName):!0===t.morphTargets&&i.bindAttribLocation(p,0,"position"),i.linkProgram(p),this.getUniforms=function(){return void 0===D&&M(this),D},this.getAttributes=function(){return void 0===S&&M(this),S};let T=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=i.getProgramParameter(p,NIe)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(p),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=IIe++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=C,this.fragmentShader=b,this}let JIe=0;class ZIe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,i=this._getShaderStage(e.vertexShader),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return void 0===r&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return void 0===r&&(r=new eFe(e),t.set(e,r)),r}}class eFe{constructor(e){this.id=JIe++,this.code=e,this.usedTimes=0}}function tFe(n,e,t,r,i,s,o){const a=new v4,l=new ZIe,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(S){return c.add(S),0===S?"uv":`uv${S}`}return{getParameters:function m(S,T,B,R,U){const k=R.fog,q=U.geometry,P=(S.isMeshStandardMaterial?t:e).get(S.envMap||(S.isMeshStandardMaterial?R.environment:null)),G=P&&P.mapping===AS?P.image.height:null,H=A[S.type];null!==S.precision&&(h=i.getMaxPrecision(S.precision),h!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",h,"instead."));const ae=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,ve=void 0!==ae?ae.length:0;let j,K,oe,se,Q=0;if(void 0!==q.morphAttributes.position&&(Q=1),void 0!==q.morphAttributes.normal&&(Q=2),void 0!==q.morphAttributes.color&&(Q=3),H){const Si=_A[H];j=Si.vertexShader,K=Si.fragmentShader}else j=S.vertexShader,K=S.fragmentShader,l.update(S),oe=l.getVertexShaderID(S),se=l.getFragmentShaderID(S);const le=n.getRenderTarget(),te=n.state.buffers.depth.getReversed(),ee=!0===U.isInstancedMesh,Ae=!0===U.isBatchedMesh,Ee=!!S.map,Se=!!P,ne=!!S.aoMap,Y=!!S.lightMap,W=!!S.bumpMap,Be=!!S.normalMap,Ce=!!S.displacementMap,Pe=!!S.emissiveMap,Oe=!!S.metalnessMap,re=!!S.roughnessMap,J=S.anisotropy>0,Ue=S.clearcoat>0,it=S.iridescence>0,Ye=S.sheen>0,Vt=S.transmission>0,kt=J&&!!S.anisotropyMap,Ot=Ue&&!!S.clearcoatMap,En=Ue&&!!S.clearcoatNormalMap,ot=Ue&&!!S.clearcoatRoughnessMap,wn=it&&!!S.iridescenceMap,vn=it&&!!S.iridescenceThicknessMap,Sn=Ye&&!!S.sheenColorMap,an=Ye&&!!S.sheenRoughnessMap,$=!!S.specularMap,Fe=!!S.specularColorMap,Xe=!!S.specularIntensityMap,Ne=Vt&&!!S.transmissionMap,xt=Vt&&!!S.thicknessMap,It=!!S.alphaMap,Hn=!!S.extensions;let zs=fm;S.toneMapped&&(null===le||!0===le.isXRRenderTarget)&&(zs=n.toneMapping);const ls={shaderID:H,shaderType:S.type,shaderName:S.name,vertexShader:j,fragmentShader:K,defines:S.defines,customVertexShaderID:oe,customFragmentShaderID:se,isRawShaderMaterial:!0===S.isRawShaderMaterial,glslVersion:S.glslVersion,precision:h,batching:Ae,batchingColor:Ae&&null!==U._colorsTexture,instancing:ee,instancingColor:ee&&null!==U.instanceColor,instancingMorph:ee&&null!==U.morphTexture,supportsVertexTextures:f,outputColorSpace:null===le?n.outputColorSpace:!0===le.isXRRenderTarget?le.texture.colorSpace:C1,alphaToCoverage:!!S.alphaToCoverage,map:Ee,matcap:!!S.matcap,envMap:Se,envMapMode:Se&&P.mapping,envMapCubeUVHeight:G,aoMap:ne,lightMap:Y,bumpMap:W,normalMap:Be,displacementMap:f&&Ce,emissiveMap:Pe,normalMapObjectSpace:Be&&1===S.normalMapType,normalMapTangentSpace:Be&&0===S.normalMapType,metalnessMap:Oe,roughnessMap:re,anisotropy:J,anisotropyMap:kt,clearcoat:Ue,clearcoatMap:Ot,clearcoatNormalMap:En,clearcoatRoughnessMap:ot,dispersion:S.dispersion>0,iridescence:it,iridescenceMap:wn,iridescenceThicknessMap:vn,sheen:Ye,sheenColorMap:Sn,sheenRoughnessMap:an,specularMap:$,specularColorMap:Fe,specularIntensityMap:Xe,transmission:Vt,transmissionMap:Ne,thicknessMap:xt,gradientMap:!!S.gradientMap,opaque:!1===S.transparent&&1===S.blending&&!1===S.alphaToCoverage,alphaMap:It,alphaTest:S.alphaTest>0,alphaHash:!!S.alphaHash,combine:S.combine,mapUv:Ee&&p(S.map.channel),aoMapUv:ne&&p(S.aoMap.channel),lightMapUv:Y&&p(S.lightMap.channel),bumpMapUv:W&&p(S.bumpMap.channel),normalMapUv:Be&&p(S.normalMap.channel),displacementMapUv:Ce&&p(S.displacementMap.channel),emissiveMapUv:Pe&&p(S.emissiveMap.channel),metalnessMapUv:Oe&&p(S.metalnessMap.channel),roughnessMapUv:re&&p(S.roughnessMap.channel),anisotropyMapUv:kt&&p(S.anisotropyMap.channel),clearcoatMapUv:Ot&&p(S.clearcoatMap.channel),clearcoatNormalMapUv:En&&p(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ot&&p(S.clearcoatRoughnessMap.channel),iridescenceMapUv:wn&&p(S.iridescenceMap.channel),iridescenceThicknessMapUv:vn&&p(S.iridescenceThicknessMap.channel),sheenColorMapUv:Sn&&p(S.sheenColorMap.channel),sheenRoughnessMapUv:an&&p(S.sheenRoughnessMap.channel),specularMapUv:$&&p(S.specularMap.channel),specularColorMapUv:Fe&&p(S.specularColorMap.channel),specularIntensityMapUv:Xe&&p(S.specularIntensityMap.channel),transmissionMapUv:Ne&&p(S.transmissionMap.channel),thicknessMapUv:xt&&p(S.thicknessMap.channel),alphaMapUv:It&&p(S.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&(Be||J),vertexColors:S.vertexColors,vertexAlphas:!0===S.vertexColors&&!!q.attributes.color&&4===q.attributes.color.itemSize,pointsUvs:!0===U.isPoints&&!!q.attributes.uv&&(Ee||It),fog:!!k,useFog:!0===S.fog,fogExp2:!!k&&k.isFogExp2,flatShading:!0===S.flatShading,sizeAttenuation:!0===S.sizeAttenuation,logarithmicDepthBuffer:d,reverseDepthBuffer:te,skinning:!0===U.isSkinnedMesh,morphTargets:void 0!==q.morphAttributes.position,morphNormals:void 0!==q.morphAttributes.normal,morphColors:void 0!==q.morphAttributes.color,morphTargetsCount:ve,morphTextureStride:Q,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:S.dithering,shadowMapEnabled:n.shadowMap.enabled&&B.length>0,shadowMapType:n.shadowMap.type,toneMapping:zs,decodeVideoTexture:Ee&&!0===S.map.isVideoTexture&&vs.getTransfer(S.map.colorSpace)===eo,decodeVideoTextureEmissive:Pe&&!0===S.emissiveMap.isVideoTexture&&vs.getTransfer(S.emissiveMap.colorSpace)===eo,premultipliedAlpha:S.premultipliedAlpha,doubleSided:2===S.side,flipSided:1===S.side,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionClipCullDistance:Hn&&!0===S.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Hn&&!0===S.extensions.multiDraw||Ae)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:S.customProgramCacheKey()};return ls.vertexUv1s=c.has(1),ls.vertexUv2s=c.has(2),ls.vertexUv3s=c.has(3),c.clear(),ls},getProgramCacheKey:function g(S){const T=[];if(S.shaderID?T.push(S.shaderID):(T.push(S.customVertexShaderID),T.push(S.customFragmentShaderID)),void 0!==S.defines)for(const B in S.defines)T.push(B),T.push(S.defines[B]);return!1===S.isRawShaderMaterial&&(function y(S,T){S.push(T.precision),S.push(T.outputColorSpace),S.push(T.envMapMode),S.push(T.envMapCubeUVHeight),S.push(T.mapUv),S.push(T.alphaMapUv),S.push(T.lightMapUv),S.push(T.aoMapUv),S.push(T.bumpMapUv),S.push(T.normalMapUv),S.push(T.displacementMapUv),S.push(T.emissiveMapUv),S.push(T.metalnessMapUv),S.push(T.roughnessMapUv),S.push(T.anisotropyMapUv),S.push(T.clearcoatMapUv),S.push(T.clearcoatNormalMapUv),S.push(T.clearcoatRoughnessMapUv),S.push(T.iridescenceMapUv),S.push(T.iridescenceThicknessMapUv),S.push(T.sheenColorMapUv),S.push(T.sheenRoughnessMapUv),S.push(T.specularMapUv),S.push(T.specularColorMapUv),S.push(T.specularIntensityMapUv),S.push(T.transmissionMapUv),S.push(T.thicknessMapUv),S.push(T.combine),S.push(T.fogExp2),S.push(T.sizeAttenuation),S.push(T.morphTargetsCount),S.push(T.morphAttributeCount),S.push(T.numDirLights),S.push(T.numPointLights),S.push(T.numSpotLights),S.push(T.numSpotLightMaps),S.push(T.numHemiLights),S.push(T.numRectAreaLights),S.push(T.numDirLightShadows),S.push(T.numPointLightShadows),S.push(T.numSpotLightShadows),S.push(T.numSpotLightShadowsWithMaps),S.push(T.numLightProbes),S.push(T.shadowMapType),S.push(T.toneMapping),S.push(T.numClippingPlanes),S.push(T.numClipIntersection),S.push(T.depthPacking)}(T,S),function v(S,T){a.disableAll(),T.supportsVertexTextures&&a.enable(0),T.instancing&&a.enable(1),T.instancingColor&&a.enable(2),T.instancingMorph&&a.enable(3),T.matcap&&a.enable(4),T.envMap&&a.enable(5),T.normalMapObjectSpace&&a.enable(6),T.normalMapTangentSpace&&a.enable(7),T.clearcoat&&a.enable(8),T.iridescence&&a.enable(9),T.alphaTest&&a.enable(10),T.vertexColors&&a.enable(11),T.vertexAlphas&&a.enable(12),T.vertexUv1s&&a.enable(13),T.vertexUv2s&&a.enable(14),T.vertexUv3s&&a.enable(15),T.vertexTangents&&a.enable(16),T.anisotropy&&a.enable(17),T.alphaHash&&a.enable(18),T.batching&&a.enable(19),T.dispersion&&a.enable(20),T.batchingColor&&a.enable(21),S.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.reverseDepthBuffer&&a.enable(4),T.skinning&&a.enable(5),T.morphTargets&&a.enable(6),T.morphNormals&&a.enable(7),T.morphColors&&a.enable(8),T.premultipliedAlpha&&a.enable(9),T.shadowMapEnabled&&a.enable(10),T.doubleSided&&a.enable(11),T.flipSided&&a.enable(12),T.useDepthPacking&&a.enable(13),T.dithering&&a.enable(14),T.transmission&&a.enable(15),T.sheen&&a.enable(16),T.opaque&&a.enable(17),T.pointsUvs&&a.enable(18),T.decodeVideoTexture&&a.enable(19),T.decodeVideoTextureEmissive&&a.enable(20),T.alphaToCoverage&&a.enable(21),S.push(a.mask)}(T,S),T.push(n.outputColorSpace)),T.push(S.customProgramCacheKey),T.join()},getUniforms:function _(S){const T=A[S.type];let B;return B=T?lDe.clone(_A[T].uniforms):S.uniforms,B},acquireProgram:function C(S,T){let B;for(let R=0,U=u.length;R<U;R++){const k=u[R];if(k.cacheKey===T){B=k,++B.usedTimes;break}}return void 0===B&&(B=new YIe(n,T,S,s),u.push(B)),B},releaseProgram:function b(S){if(0==--S.usedTimes){const T=u.indexOf(S);u[T]=u[u.length-1],u.pop(),S.destroy()}},releaseShaderCache:function M(S){l.remove(S)},programs:u,dispose:function D(){l.dispose()}}}function nFe(){let n=new WeakMap;return{has:function e(o){return n.has(o)},get:function t(o){let a=n.get(o);return void 0===a&&(a={},n.set(o,a)),a},remove:function r(o){n.delete(o)},update:function i(o,a,l){n.get(o)[a]=l},dispose:function s(){n=new WeakMap}}}function rFe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function VJ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function QJ(){const n=[];let e=0;const t=[],r=[],i=[];function o(d,f,h,A,p,m){let g=n[e];return void 0===g?(g={id:d.id,object:d,geometry:f,material:h,groupOrder:A,renderOrder:d.renderOrder,z:p,group:m},n[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=h,g.groupOrder=A,g.renderOrder=d.renderOrder,g.z=p,g.group=m),e++,g}return{opaque:t,transmissive:r,transparent:i,init:function s(){e=0,t.length=0,r.length=0,i.length=0},push:function a(d,f,h,A,p,m){const g=o(d,f,h,A,p,m);h.transmission>0?r.push(g):!0===h.transparent?i.push(g):t.push(g)},unshift:function l(d,f,h,A,p,m){const g=o(d,f,h,A,p,m);h.transmission>0?r.unshift(g):!0===h.transparent?i.unshift(g):t.unshift(g)},finish:function u(){for(let d=e,f=n.length;d<f;d++){const h=n[d];if(null===h.id)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}},sort:function c(d,f){t.length>1&&t.sort(d||rFe),r.length>1&&r.sort(f||VJ),i.length>1&&i.sort(f||VJ)}}}function iFe(){let n=new WeakMap;return{get:function e(r,i){const s=n.get(r);let o;return void 0===s?(o=new QJ,n.set(r,[o])):i>=s.length?(o=new QJ,s.push(o)):o=s[i],o},dispose:function t(){n=new WeakMap}}}function sFe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Re,color:new Gn};break;case"SpotLight":t={position:new Re,direction:new Re,color:new Gn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Re,color:new Gn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Re,skyColor:new Gn,groundColor:new Gn};break;case"RectAreaLight":t={color:new Gn,position:new Re,halfWidth:new Re,halfHeight:new Re}}return n[e.id]=t,t}}}let aFe=0;function lFe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function cFe(n){const e=new sFe,t=function oFe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jt,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Re);const i=new Re,s=new Lr,o=new Lr;return{setup:function a(c){let u=0,d=0,f=0;for(let S=0;S<9;S++)r.probe[S].set(0,0,0);let h=0,A=0,p=0,m=0,g=0,y=0,v=0,_=0,C=0,b=0,M=0;c.sort(lFe);for(let S=0,T=c.length;S<T;S++){const B=c[S],R=B.color,U=B.intensity,k=B.distance,q=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)u+=R.r*U,d+=R.g*U,f+=R.b*U;else if(B.isLightProbe){for(let O=0;O<9;O++)r.probe[O].addScaledVector(B.sh.coefficients[O],U);M++}else if(B.isDirectionalLight){const O=e.get(B);if(O.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const P=B.shadow,G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,r.directionalShadow[h]=G,r.directionalShadowMap[h]=q,r.directionalShadowMatrix[h]=B.shadow.matrix,y++}r.directional[h]=O,h++}else if(B.isSpotLight){const O=e.get(B);O.position.setFromMatrixPosition(B.matrixWorld),O.color.copy(R).multiplyScalar(U),O.distance=k,O.coneCos=Math.cos(B.angle),O.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),O.decay=B.decay,r.spot[p]=O;const P=B.shadow;if(B.map&&(r.spotLightMap[C]=B.map,C++,P.updateMatrices(B),B.castShadow&&b++),r.spotLightMatrix[p]=P.matrix,B.castShadow){const G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,r.spotShadow[p]=G,r.spotShadowMap[p]=q,_++}p++}else if(B.isRectAreaLight){const O=e.get(B);O.color.copy(R).multiplyScalar(U),O.halfWidth.set(.5*B.width,0,0),O.halfHeight.set(0,.5*B.height,0),r.rectArea[m]=O,m++}else if(B.isPointLight){const O=e.get(B);if(O.color.copy(B.color).multiplyScalar(B.intensity),O.distance=B.distance,O.decay=B.decay,B.castShadow){const P=B.shadow,G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,G.shadowCameraNear=P.camera.near,G.shadowCameraFar=P.camera.far,r.pointShadow[A]=G,r.pointShadowMap[A]=q,r.pointShadowMatrix[A]=B.shadow.matrix,v++}r.point[A]=O,A++}else if(B.isHemisphereLight){const O=e.get(B);O.skyColor.copy(B.color).multiplyScalar(U),O.groundColor.copy(B.groundColor).multiplyScalar(U),r.hemi[g]=O,g++}}m>0&&(!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=kn.LTC_FLOAT_1,r.rectAreaLTC2=kn.LTC_FLOAT_2):(r.rectAreaLTC1=kn.LTC_HALF_1,r.rectAreaLTC2=kn.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const D=r.hash;(D.directionalLength!==h||D.pointLength!==A||D.spotLength!==p||D.rectAreaLength!==m||D.hemiLength!==g||D.numDirectionalShadows!==y||D.numPointShadows!==v||D.numSpotShadows!==_||D.numSpotMaps!==C||D.numLightProbes!==M)&&(r.directional.length=h,r.spot.length=p,r.rectArea.length=m,r.point.length=A,r.hemi.length=g,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=_,r.spotShadowMap.length=_,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=v,r.spotLightMatrix.length=_+C-b,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=b,r.numLightProbes=M,D.directionalLength=h,D.pointLength=A,D.spotLength=p,D.rectAreaLength=m,D.hemiLength=g,D.numDirectionalShadows=y,D.numPointShadows=v,D.numSpotShadows=_,D.numSpotMaps=C,D.numLightProbes=M,r.version=aFe++)},setupView:function l(c,u){let d=0,f=0,h=0,A=0,p=0;const m=u.matrixWorldInverse;for(let g=0,y=c.length;g<y;g++){const v=c[g];if(v.isDirectionalLight){const _=r.directional[d];_.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(m),d++}else if(v.isSpotLight){const _=r.spot[h];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),_.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(m),h++}else if(v.isRectAreaLight){const _=r.rectArea[A];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),o.identity(),s.copy(v.matrixWorld),s.premultiply(m),o.extractRotation(s),_.halfWidth.set(.5*v.width,0,0),_.halfHeight.set(0,.5*v.height,0),_.halfWidth.applyMatrix4(o),_.halfHeight.applyMatrix4(o),A++}else if(v.isPointLight){const _=r.point[f];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),f++}else if(v.isHemisphereLight){const _=r.hemi[p];_.direction.setFromMatrixPosition(v.matrixWorld),_.direction.transformDirection(m),p++}}},state:r}}function zJ(n){const e=new cFe(n),t=[],r=[],c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function i(u){c.camera=u,t.length=0,r.length=0},state:c,setupLights:function a(){e.setup(t)},setupLightsView:function l(u){e.setupView(t,u)},pushLight:function s(u){t.push(u)},pushShadow:function o(u){r.push(u)}}}function uFe(n){let e=new WeakMap;return{get:function t(i,s=0){const o=e.get(i);let a;return void 0===o?(a=new zJ(n),e.set(i,[a])):s>=o.length?(a=new zJ(n),o.push(a)):a=o[s],a},dispose:function r(){e=new WeakMap}}}function fFe(n,e,t){let r=new zB;const i=new jt,s=new jt,o=new Ss,a=new NY({depthPacking:3201}),l=new IY,c={},u=t.maxTextureSize,d={0:1,1:0,2:2},f=new mA({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new jt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const A=new Ci;A.setAttribute("position",new co(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new ba(A,f),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rX;let g=this.type;function y(b,M){const D=e.update(p);f.defines.VSM_SAMPLES!==b.blurSamples&&(f.defines.VSM_SAMPLES=b.blurSamples,h.defines.VSM_SAMPLES=b.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),null===b.mapPass&&(b.mapPass=new gA(i.x,i.y)),f.uniforms.shadow_pass.value=b.map.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(M,null,D,f,p,null),h.uniforms.shadow_pass.value=b.mapPass.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(M,null,D,h,p,null)}function v(b,M,D,S){let T=null;const B=!0===D.isPointLight?b.customDistanceMaterial:b.customDepthMaterial;if(void 0!==B)T=B;else if(T=!0===D.isPointLight?l:a,n.localClippingEnabled&&!0===M.clipShadows&&Array.isArray(M.clippingPlanes)&&0!==M.clippingPlanes.length||M.displacementMap&&0!==M.displacementScale||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const R=T.uuid,U=M.uuid;let k=c[R];void 0===k&&(k={},c[R]=k);let q=k[U];void 0===q&&(q=T.clone(),k[U]=q,M.addEventListener("dispose",C)),T=q}return T.visible=M.visible,T.wireframe=M.wireframe,T.side=S===Cp?null!==M.shadowSide?M.shadowSide:M.side:null!==M.shadowSide?M.shadowSide:d[M.side],T.alphaMap=M.alphaMap,T.alphaTest=M.alphaTest,T.map=M.map,T.clipShadows=M.clipShadows,T.clippingPlanes=M.clippingPlanes,T.clipIntersection=M.clipIntersection,T.displacementMap=M.displacementMap,T.displacementScale=M.displacementScale,T.displacementBias=M.displacementBias,T.wireframeLinewidth=M.wireframeLinewidth,T.linewidth=M.linewidth,!0===D.isPointLight&&!0===T.isMeshDistanceMaterial&&(n.properties.get(T).light=D),T}function _(b,M,D,S,T){if(!1===b.visible)return;if(b.layers.test(M.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&T===Cp)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,b.matrixWorld);const U=e.update(b),k=b.material;if(Array.isArray(k)){const q=U.groups;for(let O=0,P=q.length;O<P;O++){const G=q[O],H=k[G.materialIndex];if(H&&H.visible){const ae=v(b,H,S,T);b.onBeforeShadow(n,b,M,D,U,ae,G),n.renderBufferDirect(D,null,U,ae,b,G),b.onAfterShadow(n,b,M,D,U,ae,G)}}}else if(k.visible){const q=v(b,k,S,T);b.onBeforeShadow(n,b,M,D,U,q,null),n.renderBufferDirect(D,null,U,q,b,null),b.onAfterShadow(n,b,M,D,U,q,null)}}const R=b.children;for(let U=0,k=R.length;U<k;U++)_(R[U],M,D,S,T)}function C(b){b.target.removeEventListener("dispose",C);for(const D in c){const S=c[D],T=b.target.uuid;T in S&&(S[T].dispose(),delete S[T])}}this.render=function(b,M,D){if(!1===m.enabled||!1===m.autoUpdate&&!1===m.needsUpdate||0===b.length)return;const S=n.getRenderTarget(),T=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),R=n.state;R.setBlending(0),R.buffers.color.setClear(1,1,1,1),R.buffers.depth.setTest(!0),R.setScissorTest(!1);const U=g!==Cp&&this.type===Cp,k=g===Cp&&this.type!==Cp;for(let q=0,O=b.length;q<O;q++){const P=b[q],G=P.shadow;if(void 0===G){console.warn("THREE.WebGLShadowMap:",P,"has no shadow.");continue}if(!1===G.autoUpdate&&!1===G.needsUpdate)continue;i.copy(G.mapSize);const H=G.getFrameExtents();if(i.multiply(H),s.copy(G.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/H.x),i.x=s.x*H.x,G.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/H.y),i.y=s.y*H.y,G.mapSize.y=s.y)),null===G.map||!0===U||!0===k){const ve=this.type!==Cp?{minFilter:Cc,magFilter:Cc}:{};null!==G.map&&G.map.dispose(),G.map=new gA(i.x,i.y,ve),G.map.texture.name=P.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const ae=G.getViewportCount();for(let ve=0;ve<ae;ve++){const Q=G.getViewport(ve);o.set(s.x*Q.x,s.y*Q.y,s.x*Q.z,s.y*Q.w),R.viewport(o),G.updateMatrices(P,ve),r=G.getFrustum(),_(M,D,G.camera,P,this.type)}!0!==G.isPointLightShadow&&this.type===Cp&&y(G,D),G.needsUpdate=!1}g=this.type,m.needsUpdate=!1,n.setRenderTarget(S,T,B)}}const AFe={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function pFe(n,e){const s=new function t(){let Ne=!1;const xt=new Ss;let rt=null;const It=new Ss(0,0,0,0);return{setMask:function(fn){rt!==fn&&!Ne&&(n.colorMask(fn,fn,fn,fn),rt=fn)},setLocked:function(fn){Ne=fn},setClear:function(fn,Wt,Hn,zs,ls){!0===ls&&(fn*=zs,Wt*=zs,Hn*=zs),xt.set(fn,Wt,Hn,zs),!1===It.equals(xt)&&(n.clearColor(fn,Wt,Hn,zs),It.copy(xt))},reset:function(){Ne=!1,rt=null,It.set(-1,0,0,0)}}},o=new function r(){let Ne=!1,xt=!1,rt=null,It=null,fn=null;return{setReversed:function(Wt){if(xt!==Wt){const Hn=e.get("EXT_clip_control");Hn.clipControlEXT(Hn.LOWER_LEFT_EXT,xt?Hn.ZERO_TO_ONE_EXT:Hn.NEGATIVE_ONE_TO_ONE_EXT);const zs=fn;fn=null,this.setClear(zs)}xt=Wt},getReversed:function(){return xt},setTest:function(Wt){Wt?le(n.DEPTH_TEST):te(n.DEPTH_TEST)},setMask:function(Wt){rt!==Wt&&!Ne&&(n.depthMask(Wt),rt=Wt)},setFunc:function(Wt){if(xt&&(Wt=AFe[Wt]),It!==Wt){switch(Wt){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}It=Wt}},setLocked:function(Wt){Ne=Wt},setClear:function(Wt){fn!==Wt&&(xt&&(Wt=1-Wt),n.clearDepth(Wt),fn=Wt)},reset:function(){Ne=!1,rt=null,It=null,fn=null,xt=!1}}},a=new function i(){let Ne=!1,xt=null,rt=null,It=null,fn=null,Wt=null,Hn=null,zs=null,ls=null;return{setTest:function(Si){Ne||(Si?le(n.STENCIL_TEST):te(n.STENCIL_TEST))},setMask:function(Si){xt!==Si&&!Ne&&(n.stencilMask(Si),xt=Si)},setFunc:function(Si,ca,nr){(rt!==Si||It!==ca||fn!==nr)&&(n.stencilFunc(Si,ca,nr),rt=Si,It=ca,fn=nr)},setOp:function(Si,ca,nr){(Wt!==Si||Hn!==ca||zs!==nr)&&(n.stencilOp(Si,ca,nr),Wt=Si,Hn=ca,zs=nr)},setLocked:function(Si){Ne=Si},setClear:function(Si){ls!==Si&&(n.clearStencil(Si),ls=Si)},reset:function(){Ne=!1,xt=null,rt=null,It=null,fn=null,Wt=null,Hn=null,zs=null,ls=null}}},l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],A=null,p=!1,m=null,g=null,y=null,v=null,_=null,C=null,b=null,M=new Gn(0,0,0),D=0,S=!1,T=null,B=null,R=null,U=null,k=null;const q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,P=0;const G=n.getParameter(n.VERSION);-1!==G.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(G)[1]),O=P>=1):-1!==G.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),O=P>=2);let H=null,ae={};const ve=n.getParameter(n.SCISSOR_BOX),Q=n.getParameter(n.VIEWPORT),j=(new Ss).fromArray(ve),K=(new Ss).fromArray(Q);function oe(Ne,xt,rt,It){const fn=new Uint8Array(4),Wt=n.createTexture();n.bindTexture(Ne,Wt),n.texParameteri(Ne,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ne,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Hn=0;Hn<rt;Hn++)Ne===n.TEXTURE_3D||Ne===n.TEXTURE_2D_ARRAY?n.texImage3D(xt,0,n.RGBA,1,1,It,0,n.RGBA,n.UNSIGNED_BYTE,fn):n.texImage2D(xt+Hn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,fn);return Wt}const se={};function le(Ne){!0!==u[Ne]&&(n.enable(Ne),u[Ne]=!0)}function te(Ne){!1!==u[Ne]&&(n.disable(Ne),u[Ne]=!1)}se[n.TEXTURE_2D]=oe(n.TEXTURE_2D,n.TEXTURE_2D,1),se[n.TEXTURE_CUBE_MAP]=oe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),se[n.TEXTURE_2D_ARRAY]=oe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),se[n.TEXTURE_3D]=oe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),le(n.DEPTH_TEST),o.setFunc(3),W(!1),Be(1),le(n.CULL_FACE),ne(0);const ge={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};ge[103]=n.MIN,ge[104]=n.MAX;const Se={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA,211:n.CONSTANT_COLOR,212:n.ONE_MINUS_CONSTANT_COLOR,213:n.CONSTANT_ALPHA,214:n.ONE_MINUS_CONSTANT_ALPHA};function ne(Ne,xt,rt,It,fn,Wt,Hn,zs,ls,Si){if(0!==Ne){if(!1===p&&(le(n.BLEND),p=!0),5===Ne)fn=fn||xt,Wt=Wt||rt,Hn=Hn||It,(xt!==g||fn!==_)&&(n.blendEquationSeparate(ge[xt],ge[fn]),g=xt,_=fn),(rt!==y||It!==v||Wt!==C||Hn!==b)&&(n.blendFuncSeparate(Se[rt],Se[It],Se[Wt],Se[Hn]),y=rt,v=It,C=Wt,b=Hn),(!1===zs.equals(M)||ls!==D)&&(n.blendColor(zs.r,zs.g,zs.b,ls),M.copy(zs),D=ls),m=Ne,S=!1;else if(Ne!==m||Si!==S){if((100!==g||100!==_)&&(n.blendEquation(n.FUNC_ADD),g=100,_=100),Si)switch(Ne){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ne)}else switch(Ne){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ne)}y=null,v=null,C=null,b=null,M.set(0,0,0),D=0,m=Ne,S=Si}}else!0===p&&(te(n.BLEND),p=!1)}function W(Ne){T!==Ne&&(n.frontFace(Ne?n.CW:n.CCW),T=Ne)}function Be(Ne){0!==Ne?(le(n.CULL_FACE),Ne!==B&&n.cullFace(1===Ne?n.BACK:2===Ne?n.FRONT:n.FRONT_AND_BACK)):te(n.CULL_FACE),B=Ne}function Pe(Ne,xt,rt){Ne?(le(n.POLYGON_OFFSET_FILL),(U!==xt||k!==rt)&&(n.polygonOffset(xt,rt),U=xt,k=rt)):te(n.POLYGON_OFFSET_FILL)}return{buffers:{color:s,depth:o,stencil:a},enable:le,disable:te,bindFramebuffer:function ee(Ne,xt){return d[Ne]!==xt&&(n.bindFramebuffer(Ne,xt),d[Ne]=xt,Ne===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=xt),Ne===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=xt),!0)},drawBuffers:function Ae(Ne,xt){let rt=h,It=!1;if(Ne){rt=f.get(xt),void 0===rt&&(rt=[],f.set(xt,rt));const fn=Ne.textures;if(rt.length!==fn.length||rt[0]!==n.COLOR_ATTACHMENT0){for(let Wt=0,Hn=fn.length;Wt<Hn;Wt++)rt[Wt]=n.COLOR_ATTACHMENT0+Wt;rt.length=fn.length,It=!0}}else rt[0]!==n.BACK&&(rt[0]=n.BACK,It=!0);It&&n.drawBuffers(rt)},useProgram:function Ee(Ne){return A!==Ne&&(n.useProgram(Ne),A=Ne,!0)},setBlending:ne,setMaterial:function Y(Ne,xt){2===Ne.side?te(n.CULL_FACE):le(n.CULL_FACE);let rt=1===Ne.side;xt&&(rt=!rt),W(rt),1===Ne.blending&&!1===Ne.transparent?ne(0):ne(Ne.blending,Ne.blendEquation,Ne.blendSrc,Ne.blendDst,Ne.blendEquationAlpha,Ne.blendSrcAlpha,Ne.blendDstAlpha,Ne.blendColor,Ne.blendAlpha,Ne.premultipliedAlpha),o.setFunc(Ne.depthFunc),o.setTest(Ne.depthTest),o.setMask(Ne.depthWrite),s.setMask(Ne.colorWrite);const It=Ne.stencilWrite;a.setTest(It),It&&(a.setMask(Ne.stencilWriteMask),a.setFunc(Ne.stencilFunc,Ne.stencilRef,Ne.stencilFuncMask),a.setOp(Ne.stencilFail,Ne.stencilZFail,Ne.stencilZPass)),Pe(Ne.polygonOffset,Ne.polygonOffsetFactor,Ne.polygonOffsetUnits),!0===Ne.alphaToCoverage?le(n.SAMPLE_ALPHA_TO_COVERAGE):te(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:W,setCullFace:Be,setLineWidth:function Ce(Ne){Ne!==R&&(O&&n.lineWidth(Ne),R=Ne)},setPolygonOffset:Pe,setScissorTest:function Oe(Ne){Ne?le(n.SCISSOR_TEST):te(n.SCISSOR_TEST)},activeTexture:function re(Ne){void 0===Ne&&(Ne=n.TEXTURE0+q-1),H!==Ne&&(n.activeTexture(Ne),H=Ne)},bindTexture:function J(Ne,xt,rt){void 0===rt&&(rt=null===H?n.TEXTURE0+q-1:H);let It=ae[rt];void 0===It&&(It={type:void 0,texture:void 0},ae[rt]=It),(It.type!==Ne||It.texture!==xt)&&(H!==rt&&(n.activeTexture(rt),H=rt),n.bindTexture(Ne,xt||se[Ne]),It.type=Ne,It.texture=xt)},unbindTexture:function Ue(){const Ne=ae[H];void 0!==Ne&&void 0!==Ne.type&&(n.bindTexture(Ne.type,null),Ne.type=void 0,Ne.texture=void 0)},compressedTexImage2D:function Qe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexImage3D:function it(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texImage2D:function wn(){try{n.texImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texImage3D:function vn(){try{n.texImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},updateUBOMapping:function $(Ne,xt){let rt=c.get(xt);void 0===rt&&(rt=new WeakMap,c.set(xt,rt));let It=rt.get(Ne);void 0===It&&(It=n.getUniformBlockIndex(xt,Ne.name),rt.set(Ne,It))},uniformBlockBinding:function Fe(Ne,xt){const It=c.get(xt).get(Ne);l.get(xt)!==It&&(n.uniformBlockBinding(xt,It,Ne.__bindingPointIndex),l.set(xt,It))},texStorage2D:function En(){try{n.texStorage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texStorage3D:function ot(){try{n.texStorage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texSubImage2D:function Ye(){try{n.texSubImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texSubImage3D:function Vt(){try{n.texSubImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexSubImage2D:function kt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexSubImage3D:function Ot(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},scissor:function Sn(Ne){!1===j.equals(Ne)&&(n.scissor(Ne.x,Ne.y,Ne.z,Ne.w),j.copy(Ne))},viewport:function an(Ne){!1===K.equals(Ne)&&(n.viewport(Ne.x,Ne.y,Ne.z,Ne.w),K.copy(Ne))},reset:function Xe(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},H=null,ae={},d={},f=new WeakMap,h=[],A=null,p=!1,m=null,g=null,y=null,v=null,_=null,C=null,b=null,M=new Gn(0,0,0),D=0,S=!1,T=null,B=null,R=null,U=null,k=null,j.set(0,0,n.canvas.width,n.canvas.height),K.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}}}function gFe(n,e,t,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),c=new jt,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function A(re,J){return h?new OffscreenCanvas(re,J):yS("canvas")}function p(re,J,Ue){let Qe=1;const it=Oe(re);if((it.width>Ue||it.height>Ue)&&(Qe=Ue/Math.max(it.width,it.height)),Qe<1){if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap||typeof VideoFrame<"u"&&re instanceof VideoFrame){const Ye=Math.floor(Qe*it.width),Vt=Math.floor(Qe*it.height);void 0===d&&(d=A(Ye,Vt));const kt=J?A(Ye,Vt):d;return kt.width=Ye,kt.height=Vt,kt.getContext("2d").drawImage(re,0,0,Ye,Vt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+it.width+"x"+it.height+") to ("+Ye+"x"+Vt+")."),kt}return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+it.width+"x"+it.height+")."),re}return re}function m(re){return re.generateMipmaps}function g(re){n.generateMipmap(re)}function y(re){return re.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:re.isWebGL3DRenderTarget?n.TEXTURE_3D:re.isWebGLArrayRenderTarget||re.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function v(re,J,Ue,Qe,it=!1){if(null!==re){if(void 0!==n[re])return n[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let Ye=J;if(J===n.RED&&(Ue===n.FLOAT&&(Ye=n.R32F),Ue===n.HALF_FLOAT&&(Ye=n.R16F),Ue===n.UNSIGNED_BYTE&&(Ye=n.R8)),J===n.RED_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Ye=n.R8UI),Ue===n.UNSIGNED_SHORT&&(Ye=n.R16UI),Ue===n.UNSIGNED_INT&&(Ye=n.R32UI),Ue===n.BYTE&&(Ye=n.R8I),Ue===n.SHORT&&(Ye=n.R16I),Ue===n.INT&&(Ye=n.R32I)),J===n.RG&&(Ue===n.FLOAT&&(Ye=n.RG32F),Ue===n.HALF_FLOAT&&(Ye=n.RG16F),Ue===n.UNSIGNED_BYTE&&(Ye=n.RG8)),J===n.RG_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Ye=n.RG8UI),Ue===n.UNSIGNED_SHORT&&(Ye=n.RG16UI),Ue===n.UNSIGNED_INT&&(Ye=n.RG32UI),Ue===n.BYTE&&(Ye=n.RG8I),Ue===n.SHORT&&(Ye=n.RG16I),Ue===n.INT&&(Ye=n.RG32I)),J===n.RGB_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Ye=n.RGB8UI),Ue===n.UNSIGNED_SHORT&&(Ye=n.RGB16UI),Ue===n.UNSIGNED_INT&&(Ye=n.RGB32UI),Ue===n.BYTE&&(Ye=n.RGB8I),Ue===n.SHORT&&(Ye=n.RGB16I),Ue===n.INT&&(Ye=n.RGB32I)),J===n.RGBA_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Ye=n.RGBA8UI),Ue===n.UNSIGNED_SHORT&&(Ye=n.RGBA16UI),Ue===n.UNSIGNED_INT&&(Ye=n.RGBA32UI),Ue===n.BYTE&&(Ye=n.RGBA8I),Ue===n.SHORT&&(Ye=n.RGBA16I),Ue===n.INT&&(Ye=n.RGBA32I)),J===n.RGB&&Ue===n.UNSIGNED_INT_5_9_9_9_REV&&(Ye=n.RGB9_E5),J===n.RGBA){const Vt=it?pB:vs.getTransfer(Qe);Ue===n.FLOAT&&(Ye=n.RGBA32F),Ue===n.HALF_FLOAT&&(Ye=n.RGBA16F),Ue===n.UNSIGNED_BYTE&&(Ye=Vt===eo?n.SRGB8_ALPHA8:n.RGBA8),Ue===n.UNSIGNED_SHORT_4_4_4_4&&(Ye=n.RGBA4),Ue===n.UNSIGNED_SHORT_5_5_5_1&&(Ye=n.RGB5_A1)}return(Ye===n.R16F||Ye===n.R32F||Ye===n.RG16F||Ye===n.RG32F||Ye===n.RGBA16F||Ye===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ye}function _(re,J){let Ue;return re?null===J||J===pm||J===v1?Ue=n.DEPTH24_STENCIL8:J===Sd?Ue=n.DEPTH32F_STENCIL8:J===gS&&(Ue=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===J||J===pm||J===v1?Ue=n.DEPTH_COMPONENT24:J===Sd?Ue=n.DEPTH_COMPONENT32F:J===gS&&(Ue=n.DEPTH_COMPONENT16),Ue}function C(re,J){return!0===m(re)||re.isFramebufferTexture&&re.minFilter!==Cc&&re.minFilter!==Ml?Math.log2(Math.max(J.width,J.height))+1:void 0!==re.mipmaps&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?J.mipmaps.length:1}function b(re){const J=re.target;J.removeEventListener("dispose",b),function D(re){const J=r.get(re);if(void 0===J.__webglInit)return;const Ue=re.source,Qe=f.get(Ue);if(Qe){const it=Qe[J.__cacheKey];it.usedTimes--,0===it.usedTimes&&S(re),0===Object.keys(Qe).length&&f.delete(Ue)}r.remove(re)}(J),J.isVideoTexture&&u.delete(J)}function M(re){const J=re.target;J.removeEventListener("dispose",M),function T(re){const J=r.get(re);if(re.depthTexture&&(re.depthTexture.dispose(),r.remove(re.depthTexture)),re.isWebGLCubeRenderTarget)for(let Qe=0;Qe<6;Qe++){if(Array.isArray(J.__webglFramebuffer[Qe]))for(let it=0;it<J.__webglFramebuffer[Qe].length;it++)n.deleteFramebuffer(J.__webglFramebuffer[Qe][it]);else n.deleteFramebuffer(J.__webglFramebuffer[Qe]);J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer[Qe])}else{if(Array.isArray(J.__webglFramebuffer))for(let Qe=0;Qe<J.__webglFramebuffer.length;Qe++)n.deleteFramebuffer(J.__webglFramebuffer[Qe]);else n.deleteFramebuffer(J.__webglFramebuffer);if(J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&n.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer)for(let Qe=0;Qe<J.__webglColorRenderbuffer.length;Qe++)J.__webglColorRenderbuffer[Qe]&&n.deleteRenderbuffer(J.__webglColorRenderbuffer[Qe]);J.__webglDepthRenderbuffer&&n.deleteRenderbuffer(J.__webglDepthRenderbuffer)}const Ue=re.textures;for(let Qe=0,it=Ue.length;Qe<it;Qe++){const Ye=r.get(Ue[Qe]);Ye.__webglTexture&&(n.deleteTexture(Ye.__webglTexture),o.memory.textures--),r.remove(Ue[Qe])}r.remove(re)}(J)}function S(re){const J=r.get(re);n.deleteTexture(J.__webglTexture),delete f.get(re.source)[J.__cacheKey],o.memory.textures--}let B=0;function q(re,J){const Ue=r.get(re);if(re.isVideoTexture&&function Ce(re){const J=o.render.frame;u.get(re)!==J&&(u.set(re,J),re.update())}(re),!1===re.isRenderTargetTexture&&re.version>0&&Ue.__version!==re.version){const Qe=re.image;if(null===Qe)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Qe.complete)return void K(Ue,re,J);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,Ue.__webglTexture,n.TEXTURE0+J)}const H={1e3:n.REPEAT,[df]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},ae={[Cc]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[Ml]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[Sp]:n.LINEAR_MIPMAP_LINEAR},ve={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function Q(re,J){if(J.type===Sd&&!1===e.has("OES_texture_float_linear")&&(J.magFilter===Ml||1007===J.magFilter||1005===J.magFilter||J.magFilter===Sp||J.minFilter===Ml||1007===J.minFilter||1005===J.minFilter||J.minFilter===Sp)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(re,n.TEXTURE_WRAP_S,H[J.wrapS]),n.texParameteri(re,n.TEXTURE_WRAP_T,H[J.wrapT]),(re===n.TEXTURE_3D||re===n.TEXTURE_2D_ARRAY)&&n.texParameteri(re,n.TEXTURE_WRAP_R,H[J.wrapR]),n.texParameteri(re,n.TEXTURE_MAG_FILTER,ae[J.magFilter]),n.texParameteri(re,n.TEXTURE_MIN_FILTER,ae[J.minFilter]),J.compareFunction&&(n.texParameteri(re,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(re,n.TEXTURE_COMPARE_FUNC,ve[J.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(J.magFilter===Cc||1005!==J.minFilter&&J.minFilter!==Sp||J.type===Sd&&!1===e.has("OES_texture_float_linear"))return;if(J.anisotropy>1||r.get(J).__currentAnisotropy){const Ue=e.get("EXT_texture_filter_anisotropic");n.texParameterf(re,Ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,i.getMaxAnisotropy())),r.get(J).__currentAnisotropy=J.anisotropy}}}function j(re,J){let Ue=!1;void 0===re.__webglInit&&(re.__webglInit=!0,J.addEventListener("dispose",b));const Qe=J.source;let it=f.get(Qe);void 0===it&&(it={},f.set(Qe,it));const Ye=function k(re){const J=[];return J.push(re.wrapS),J.push(re.wrapT),J.push(re.wrapR||0),J.push(re.magFilter),J.push(re.minFilter),J.push(re.anisotropy),J.push(re.internalFormat),J.push(re.format),J.push(re.type),J.push(re.generateMipmaps),J.push(re.premultiplyAlpha),J.push(re.flipY),J.push(re.unpackAlignment),J.push(re.colorSpace),J.join()}(J);if(Ye!==re.__cacheKey){void 0===it[Ye]&&(it[Ye]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Ue=!0),it[Ye].usedTimes++;const Vt=it[re.__cacheKey];void 0!==Vt&&(it[re.__cacheKey].usedTimes--,0===Vt.usedTimes&&S(J)),re.__cacheKey=Ye,re.__webglTexture=it[Ye].texture}return Ue}function K(re,J,Ue){let Qe=n.TEXTURE_2D;(J.isDataArrayTexture||J.isCompressedArrayTexture)&&(Qe=n.TEXTURE_2D_ARRAY),J.isData3DTexture&&(Qe=n.TEXTURE_3D);const it=j(re,J),Ye=J.source;t.bindTexture(Qe,re.__webglTexture,n.TEXTURE0+Ue);const Vt=r.get(Ye);if(Ye.version!==Vt.__version||!0===it){t.activeTexture(n.TEXTURE0+Ue);const kt=vs.getPrimaries(vs.workingColorSpace),Ot=""===J.colorSpace?null:vs.getPrimaries(J.colorSpace),En=""===J.colorSpace||kt===Ot?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,En);let ot=p(J.image,!1,i.maxTextureSize);ot=Pe(J,ot);const wn=s.convert(J.format,J.colorSpace),vn=s.convert(J.type);let an,Sn=v(J.internalFormat,wn,vn,J.colorSpace,J.isVideoTexture);Q(Qe,J);const $=J.mipmaps,Fe=!0!==J.isVideoTexture,Xe=void 0===Vt.__version||!0===it,Ne=Ye.dataReady,xt=C(J,ot);if(J.isDepthTexture)Sn=_(J.format===_1,J.type),Xe&&(Fe?t.texStorage2D(n.TEXTURE_2D,1,Sn,ot.width,ot.height):t.texImage2D(n.TEXTURE_2D,0,Sn,ot.width,ot.height,0,wn,vn,null));else if(J.isDataTexture)if($.length>0){Fe&&Xe&&t.texStorage2D(n.TEXTURE_2D,xt,Sn,$[0].width,$[0].height);for(let rt=0,It=$.length;rt<It;rt++)an=$[rt],Fe?Ne&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,an.width,an.height,wn,vn,an.data):t.texImage2D(n.TEXTURE_2D,rt,Sn,an.width,an.height,0,wn,vn,an.data);J.generateMipmaps=!1}else Fe?(Xe&&t.texStorage2D(n.TEXTURE_2D,xt,Sn,ot.width,ot.height),Ne&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ot.width,ot.height,wn,vn,ot.data)):t.texImage2D(n.TEXTURE_2D,0,Sn,ot.width,ot.height,0,wn,vn,ot.data);else if(J.isCompressedTexture)if(J.isCompressedArrayTexture){Fe&&Xe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,xt,Sn,$[0].width,$[0].height,ot.depth);for(let rt=0,It=$.length;rt<It;rt++)if(an=$[rt],J.format!==Lu)if(null!==wn)if(Fe){if(Ne)if(J.layerUpdates.size>0){const fn=Ck(an.width,an.height,J.format,J.type);for(const Wt of J.layerUpdates){const Hn=an.data.subarray(Wt*fn/an.data.BYTES_PER_ELEMENT,(Wt+1)*fn/an.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,Wt,an.width,an.height,1,wn,Hn)}J.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,0,an.width,an.height,ot.depth,wn,an.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,rt,Sn,an.width,an.height,ot.depth,0,an.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Fe?Ne&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,0,an.width,an.height,ot.depth,wn,vn,an.data):t.texImage3D(n.TEXTURE_2D_ARRAY,rt,Sn,an.width,an.height,ot.depth,0,wn,vn,an.data)}else{Fe&&Xe&&t.texStorage2D(n.TEXTURE_2D,xt,Sn,$[0].width,$[0].height);for(let rt=0,It=$.length;rt<It;rt++)an=$[rt],J.format!==Lu?null!==wn?Fe?Ne&&t.compressedTexSubImage2D(n.TEXTURE_2D,rt,0,0,an.width,an.height,wn,an.data):t.compressedTexImage2D(n.TEXTURE_2D,rt,Sn,an.width,an.height,0,an.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Fe?Ne&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,an.width,an.height,wn,vn,an.data):t.texImage2D(n.TEXTURE_2D,rt,Sn,an.width,an.height,0,wn,vn,an.data)}else if(J.isDataArrayTexture)if(Fe){if(Xe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,xt,Sn,ot.width,ot.height,ot.depth),Ne)if(J.layerUpdates.size>0){const rt=Ck(ot.width,ot.height,J.format,J.type);for(const It of J.layerUpdates){const fn=ot.data.subarray(It*rt/ot.data.BYTES_PER_ELEMENT,(It+1)*rt/ot.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,It,ot.width,ot.height,1,wn,vn,fn)}J.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ot.width,ot.height,ot.depth,wn,vn,ot.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Sn,ot.width,ot.height,ot.depth,0,wn,vn,ot.data);else if(J.isData3DTexture)Fe?(Xe&&t.texStorage3D(n.TEXTURE_3D,xt,Sn,ot.width,ot.height,ot.depth),Ne&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ot.width,ot.height,ot.depth,wn,vn,ot.data)):t.texImage3D(n.TEXTURE_3D,0,Sn,ot.width,ot.height,ot.depth,0,wn,vn,ot.data);else if(J.isFramebufferTexture){if(Xe)if(Fe)t.texStorage2D(n.TEXTURE_2D,xt,Sn,ot.width,ot.height);else{let rt=ot.width,It=ot.height;for(let fn=0;fn<xt;fn++)t.texImage2D(n.TEXTURE_2D,fn,Sn,rt,It,0,wn,vn,null),rt>>=1,It>>=1}}else if($.length>0){if(Fe&&Xe){const rt=Oe($[0]);t.texStorage2D(n.TEXTURE_2D,xt,Sn,rt.width,rt.height)}for(let rt=0,It=$.length;rt<It;rt++)an=$[rt],Fe?Ne&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,wn,vn,an):t.texImage2D(n.TEXTURE_2D,rt,Sn,wn,vn,an);J.generateMipmaps=!1}else if(Fe){if(Xe){const rt=Oe(ot);t.texStorage2D(n.TEXTURE_2D,xt,Sn,rt.width,rt.height)}Ne&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,wn,vn,ot)}else t.texImage2D(n.TEXTURE_2D,0,Sn,wn,vn,ot);m(J)&&g(Qe),Vt.__version=Ye.version,J.onUpdate&&J.onUpdate(J)}re.__version=J.version}function se(re,J,Ue,Qe,it,Ye){const Vt=s.convert(Ue.format,Ue.colorSpace),kt=s.convert(Ue.type),Ot=v(Ue.internalFormat,Vt,kt,Ue.colorSpace),En=r.get(J),ot=r.get(Ue);if(ot.__renderTarget=J,!En.__hasExternalTextures){const wn=Math.max(1,J.width>>Ye),vn=Math.max(1,J.height>>Ye);it===n.TEXTURE_3D||it===n.TEXTURE_2D_ARRAY?t.texImage3D(it,Ye,Ot,wn,vn,J.depth,0,Vt,kt,null):t.texImage2D(it,Ye,Ot,wn,vn,0,Vt,kt,null)}t.bindFramebuffer(n.FRAMEBUFFER,re),Be(J)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Qe,it,ot.__webglTexture,0,W(J)):(it===n.TEXTURE_2D||it>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&it<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Qe,it,ot.__webglTexture,Ye),t.bindFramebuffer(n.FRAMEBUFFER,null)}function le(re,J,Ue){if(n.bindRenderbuffer(n.RENDERBUFFER,re),J.depthBuffer){const Qe=J.depthTexture,Ye=_(J.stencilBuffer,Qe&&Qe.isDepthTexture?Qe.type:null),Vt=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,kt=W(J);Be(J)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,kt,Ye,J.width,J.height):Ue?n.renderbufferStorageMultisample(n.RENDERBUFFER,kt,Ye,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Ye,J.width,J.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Vt,n.RENDERBUFFER,re)}else{const Qe=J.textures;for(let it=0;it<Qe.length;it++){const Ye=Qe[it],Vt=s.convert(Ye.format,Ye.colorSpace),kt=s.convert(Ye.type),Ot=v(Ye.internalFormat,Vt,kt,Ye.colorSpace),En=W(J);Ue&&!1===Be(J)?n.renderbufferStorageMultisample(n.RENDERBUFFER,En,Ot,J.width,J.height):Be(J)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,En,Ot,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Ot,J.width,J.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ee(re){const J=r.get(re),Ue=!0===re.isWebGLCubeRenderTarget;if(J.__boundDepthTexture!==re.depthTexture){const Qe=re.depthTexture;if(J.__depthDisposeCallback&&J.__depthDisposeCallback(),Qe){const it=()=>{delete J.__boundDepthTexture,delete J.__depthDisposeCallback,Qe.removeEventListener("dispose",it)};Qe.addEventListener("dispose",it),J.__depthDisposeCallback=it}J.__boundDepthTexture=Qe}if(re.depthTexture&&!J.__autoAllocateDepthBuffer){if(Ue)throw new Error("target.depthTexture not supported in Cube render targets");!function te(re,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,re),!J.depthTexture||!J.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Qe=r.get(J.depthTexture);Qe.__renderTarget=J,(!Qe.__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),q(J.depthTexture,0);const it=Qe.__webglTexture,Ye=W(J);if(J.depthTexture.format===y1)Be(J)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,it,0,Ye):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,it,0);else{if(J.depthTexture.format!==_1)throw new Error("Unknown depthTexture format");Be(J)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,it,0,Ye):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,it,0)}}(J.__webglFramebuffer,re)}else if(Ue){J.__webglDepthbuffer=[];for(let Qe=0;Qe<6;Qe++)if(t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer[Qe]),void 0===J.__webglDepthbuffer[Qe])J.__webglDepthbuffer[Qe]=n.createRenderbuffer(),le(J.__webglDepthbuffer[Qe],re,!1);else{const it=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ye=J.__webglDepthbuffer[Qe];n.bindRenderbuffer(n.RENDERBUFFER,Ye),n.framebufferRenderbuffer(n.FRAMEBUFFER,it,n.RENDERBUFFER,Ye)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer),void 0===J.__webglDepthbuffer)J.__webglDepthbuffer=n.createRenderbuffer(),le(J.__webglDepthbuffer,re,!1);else{const Qe=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,it=J.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,it),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,it)}t.bindFramebuffer(n.FRAMEBUFFER,null)}const Se=[],ne=[];function W(re){return Math.min(i.maxSamples,re.samples)}function Be(re){const J=r.get(re);return re.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==J.__useRenderToTexture}function Pe(re,J){const Ue=re.colorSpace,Qe=re.format,it=re.type;return!0===re.isCompressedTexture||!0===re.isVideoTexture||Ue!==C1&&""!==Ue&&(vs.getTransfer(Ue)===eo?(Qe!==Lu||it!==xp)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ue)),J}function Oe(re){return typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(c.width=re.naturalWidth||re.width,c.height=re.naturalHeight||re.height):typeof VideoFrame<"u"&&re instanceof VideoFrame?(c.width=re.displayWidth,c.height=re.displayHeight):(c.width=re.width,c.height=re.height),c}this.allocateTextureUnit=function U(){const re=B;return re>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+i.maxTextures),B+=1,re},this.resetTextureUnits=function R(){B=0},this.setTexture2D=q,this.setTexture2DArray=function O(re,J){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?K(Ue,re,J):t.bindTexture(n.TEXTURE_2D_ARRAY,Ue.__webglTexture,n.TEXTURE0+J)},this.setTexture3D=function P(re,J){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?K(Ue,re,J):t.bindTexture(n.TEXTURE_3D,Ue.__webglTexture,n.TEXTURE0+J)},this.setTextureCube=function G(re,J){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?function oe(re,J,Ue){if(6!==J.image.length)return;const Qe=j(re,J),it=J.source;t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture,n.TEXTURE0+Ue);const Ye=r.get(it);if(it.version!==Ye.__version||!0===Qe){t.activeTexture(n.TEXTURE0+Ue);const Vt=vs.getPrimaries(vs.workingColorSpace),kt=""===J.colorSpace?null:vs.getPrimaries(J.colorSpace),Ot=""===J.colorSpace||Vt===kt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ot);const En=J.isCompressedTexture||J.image[0].isCompressedTexture,ot=J.image[0]&&J.image[0].isDataTexture,wn=[];for(let It=0;It<6;It++)wn[It]=En||ot?ot?J.image[It].image:J.image[It]:p(J.image[It],!0,i.maxCubemapSize),wn[It]=Pe(J,wn[It]);const vn=wn[0],Sn=s.convert(J.format,J.colorSpace),an=s.convert(J.type),$=v(J.internalFormat,Sn,an,J.colorSpace),Fe=!0!==J.isVideoTexture,Xe=void 0===Ye.__version||!0===Qe,Ne=it.dataReady;let rt,xt=C(J,vn);if(Q(n.TEXTURE_CUBE_MAP,J),En){Fe&&Xe&&t.texStorage2D(n.TEXTURE_CUBE_MAP,xt,$,vn.width,vn.height);for(let It=0;It<6;It++){rt=wn[It].mipmaps;for(let fn=0;fn<rt.length;fn++){const Wt=rt[fn];J.format!==Lu?null!==Sn?Fe?Ne&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,fn,0,0,Wt.width,Wt.height,Sn,Wt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,fn,$,Wt.width,Wt.height,0,Wt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,fn,0,0,Wt.width,Wt.height,Sn,an,Wt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,fn,$,Wt.width,Wt.height,0,Sn,an,Wt.data)}}}else{if(rt=J.mipmaps,Fe&&Xe){rt.length>0&&xt++;const It=Oe(wn[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,xt,$,It.width,It.height)}for(let It=0;It<6;It++)if(ot){Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,0,0,wn[It].width,wn[It].height,Sn,an,wn[It].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,$,wn[It].width,wn[It].height,0,Sn,an,wn[It].data);for(let fn=0;fn<rt.length;fn++){const Hn=rt[fn].image[It].image;Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,fn+1,0,0,Hn.width,Hn.height,Sn,an,Hn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,fn+1,$,Hn.width,Hn.height,0,Sn,an,Hn.data)}}else{Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,0,0,Sn,an,wn[It]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,0,$,Sn,an,wn[It]);for(let fn=0;fn<rt.length;fn++){const Wt=rt[fn];Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,fn+1,0,0,Sn,an,Wt.image[It]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+It,fn+1,$,Sn,an,Wt.image[It])}}}m(J)&&g(n.TEXTURE_CUBE_MAP),Ye.__version=it.version,J.onUpdate&&J.onUpdate(J)}re.__version=J.version}(Ue,re,J):t.bindTexture(n.TEXTURE_CUBE_MAP,Ue.__webglTexture,n.TEXTURE0+J)},this.rebindTextures=function Ae(re,J,Ue){const Qe=r.get(re);void 0!==J&&se(Qe.__webglFramebuffer,re,re.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==Ue&&ee(re)},this.setupRenderTarget=function Ee(re){const J=re.texture,Ue=r.get(re),Qe=r.get(J);re.addEventListener("dispose",M);const it=re.textures,Ye=!0===re.isWebGLCubeRenderTarget,Vt=it.length>1;if(Vt||(void 0===Qe.__webglTexture&&(Qe.__webglTexture=n.createTexture()),Qe.__version=J.version,o.memory.textures++),Ye){Ue.__webglFramebuffer=[];for(let kt=0;kt<6;kt++)if(J.mipmaps&&J.mipmaps.length>0){Ue.__webglFramebuffer[kt]=[];for(let Ot=0;Ot<J.mipmaps.length;Ot++)Ue.__webglFramebuffer[kt][Ot]=n.createFramebuffer()}else Ue.__webglFramebuffer[kt]=n.createFramebuffer()}else{if(J.mipmaps&&J.mipmaps.length>0){Ue.__webglFramebuffer=[];for(let kt=0;kt<J.mipmaps.length;kt++)Ue.__webglFramebuffer[kt]=n.createFramebuffer()}else Ue.__webglFramebuffer=n.createFramebuffer();if(Vt)for(let kt=0,Ot=it.length;kt<Ot;kt++){const En=r.get(it[kt]);void 0===En.__webglTexture&&(En.__webglTexture=n.createTexture(),o.memory.textures++)}if(re.samples>0&&!1===Be(re)){Ue.__webglMultisampledFramebuffer=n.createFramebuffer(),Ue.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer);for(let kt=0;kt<it.length;kt++){const Ot=it[kt];Ue.__webglColorRenderbuffer[kt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ue.__webglColorRenderbuffer[kt]);const En=s.convert(Ot.format,Ot.colorSpace),ot=s.convert(Ot.type),wn=v(Ot.internalFormat,En,ot,Ot.colorSpace,!0===re.isXRRenderTarget),vn=W(re);n.renderbufferStorageMultisample(n.RENDERBUFFER,vn,wn,re.width,re.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+kt,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[kt])}n.bindRenderbuffer(n.RENDERBUFFER,null),re.depthBuffer&&(Ue.__webglDepthRenderbuffer=n.createRenderbuffer(),le(Ue.__webglDepthRenderbuffer,re,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ye){t.bindTexture(n.TEXTURE_CUBE_MAP,Qe.__webglTexture),Q(n.TEXTURE_CUBE_MAP,J);for(let kt=0;kt<6;kt++)if(J.mipmaps&&J.mipmaps.length>0)for(let Ot=0;Ot<J.mipmaps.length;Ot++)se(Ue.__webglFramebuffer[kt][Ot],re,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+kt,Ot);else se(Ue.__webglFramebuffer[kt],re,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+kt,0);m(J)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Vt){for(let kt=0,Ot=it.length;kt<Ot;kt++){const En=it[kt],ot=r.get(En);t.bindTexture(n.TEXTURE_2D,ot.__webglTexture),Q(n.TEXTURE_2D,En),se(Ue.__webglFramebuffer,re,En,n.COLOR_ATTACHMENT0+kt,n.TEXTURE_2D,0),m(En)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let kt=n.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(kt=re.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(kt,Qe.__webglTexture),Q(kt,J),J.mipmaps&&J.mipmaps.length>0)for(let Ot=0;Ot<J.mipmaps.length;Ot++)se(Ue.__webglFramebuffer[Ot],re,J,n.COLOR_ATTACHMENT0,kt,Ot);else se(Ue.__webglFramebuffer,re,J,n.COLOR_ATTACHMENT0,kt,0);m(J)&&g(kt),t.unbindTexture()}re.depthBuffer&&ee(re)},this.updateRenderTargetMipmap=function ge(re){const J=re.textures;for(let Ue=0,Qe=J.length;Ue<Qe;Ue++){const it=J[Ue];if(m(it)){const Ye=y(re),Vt=r.get(it).__webglTexture;t.bindTexture(Ye,Vt),g(Ye),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Y(re){if(re.samples>0)if(!1===Be(re)){const J=re.textures,Ue=re.width,Qe=re.height;let it=n.COLOR_BUFFER_BIT;const Ye=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Vt=r.get(re),kt=J.length>1;if(kt)for(let Ot=0;Ot<J.length;Ot++)t.bindFramebuffer(n.FRAMEBUFFER,Vt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Vt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Vt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Vt.__webglFramebuffer);for(let Ot=0;Ot<J.length;Ot++){if(re.resolveDepthBuffer&&(re.depthBuffer&&(it|=n.DEPTH_BUFFER_BIT),re.stencilBuffer&&re.resolveStencilBuffer&&(it|=n.STENCIL_BUFFER_BIT)),kt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Vt.__webglColorRenderbuffer[Ot]);const En=r.get(J[Ot]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,En,0)}n.blitFramebuffer(0,0,Ue,Qe,0,0,Ue,Qe,it,n.NEAREST),!0===l&&(Se.length=0,ne.length=0,Se.push(n.COLOR_ATTACHMENT0+Ot),re.depthBuffer&&!1===re.resolveDepthBuffer&&(Se.push(Ye),ne.push(Ye),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ne)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Se))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),kt)for(let Ot=0;Ot<J.length;Ot++){t.bindFramebuffer(n.FRAMEBUFFER,Vt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.RENDERBUFFER,Vt.__webglColorRenderbuffer[Ot]);const En=r.get(J[Ot]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Vt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.TEXTURE_2D,En,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Vt.__webglMultisampledFramebuffer)}else re.depthBuffer&&!1===re.resolveDepthBuffer&&l&&n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=ee,this.setupFrameBufferTexture=se,this.useMultisampledRTT=Be}function mFe(n,e){return{convert:function t(r,i=""){let s;const o=vs.getTransfer(i);if(r===xp)return n.UNSIGNED_BYTE;if(r===MU)return n.UNSIGNED_SHORT_4_4_4_4;if(r===TU)return n.UNSIGNED_SHORT_5_5_5_1;if(r===dX)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===cX)return n.BYTE;if(r===uX)return n.SHORT;if(r===gS)return n.UNSIGNED_SHORT;if(r===DU)return n.INT;if(r===pm)return n.UNSIGNED_INT;if(r===Sd)return n.FLOAT;if(r===mS)return n.HALF_FLOAT;if(r===hX)return n.ALPHA;if(r===fX)return n.RGB;if(r===Lu)return n.RGBA;if(r===AX)return n.LUMINANCE;if(r===pX)return n.LUMINANCE_ALPHA;if(r===y1)return n.DEPTH_COMPONENT;if(r===_1)return n.DEPTH_STENCIL;if(r===BU)return n.RED;if(r===aB)return n.RED_INTEGER;if(r===gX)return n.RG;if(r===NU)return n.RG_INTEGER;if(r===IU)return n.RGBA_INTEGER;if(r===lB||r===cB||r===uB||r===dB)if(o===eo){if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===s)return null;if(r===lB)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===cB)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===uB)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===dB)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(s=e.get("WEBGL_compressed_texture_s3tc"),null===s)return null;if(r===lB)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===cB)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===uB)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===dB)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(r===FU||r===RU||r===OU||r===PU){if(s=e.get("WEBGL_compressed_texture_pvrtc"),null===s)return null;if(r===FU)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===RU)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===OU)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===PU)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===LU||r===UU||r===kU){if(s=e.get("WEBGL_compressed_texture_etc"),null===s)return null;if(r===LU||r===UU)return o===eo?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===kU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}if(r===HU||r===VU||r===QU||r===zU||r===GU||r===jU||r===qU||r===WU||r===$U||r===KU||r===XU||r===YU||r===JU||r===ZU){if(s=e.get("WEBGL_compressed_texture_astc"),null===s)return null;if(r===HU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===VU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===QU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===zU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===GU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===jU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===qU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===WU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===$U)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===KU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===XU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===YU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===JU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===ZU)return o===eo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}if(r===hB||r===e4||r===t4){if(s=e.get("EXT_texture_compression_bptc"),null===s)return null;if(r===hB)return o===eo?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===e4)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===t4)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(r===mX||r===n4||r===r4||r===i4){if(s=e.get("EXT_texture_compression_rgtc"),null===s)return null;if(r===hB)return s.COMPRESSED_RED_RGTC1_EXT;if(r===n4)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===r4)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===i4)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===v1?n.UNSIGNED_INT_24_8:void 0!==n[r]?n[r]:null}}}const vFe={type:"move"};class Rk{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new FS,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new FS,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Re),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new FS,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Re),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const p of e.hand.values()){const m=t.getJointPose(p,r),g=this._getHandJoint(c,p);null!==m&&(g.matrix.fromArray(m.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=m.radius),g.visible=null!==m}const f=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),h=.02,A=.005;c.inputState.pinching&&f>h+A?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-A&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,r),null===i&&null!==s&&(i=s),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(vFe)))}return null!==a&&(a.visible=null!==i),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const r=new FS;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class bFe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(null===this.texture){const i=new Uu;e.properties.get(i).__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,r=new mA({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ba(new kS(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class wFe extends Mp{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,A=null;const p=new bFe,m=t.getContextAttributes();let g=null,y=null;const v=[],_=[],C=new jt;let b=null;const M=new tc;M.viewport=new Ss;const D=new tc;D.viewport=new Ss;const S=[M,D],T=new VMe;let B=null,R=null;function U(K){const oe=_.indexOf(K.inputSource);if(-1===oe)return;const se=v[oe];void 0!==se&&(se.update(K.inputSource,K.frame,c||o),se.dispatchEvent({type:K.type,data:K.inputSource}))}function k(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",k),i.removeEventListener("inputsourceschange",q);for(let K=0;K<v.length;K++){const oe=_[K];null!==oe&&(_[K]=null,v[K].disconnect(oe))}B=null,R=null,p.reset(),e.setRenderTarget(g),h=null,f=null,d=null,i=null,y=null,j.stop(),r.isPresenting=!1,e.setPixelRatio(b),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}function q(K){for(let oe=0;oe<K.removed.length;oe++){const se=K.removed[oe],le=_.indexOf(se);le>=0&&(_[le]=null,v[le].disconnect(se))}for(let oe=0;oe<K.added.length;oe++){const se=K.added[oe];let le=_.indexOf(se);if(-1===le){for(let ee=0;ee<v.length;ee++){if(ee>=_.length){_.push(se),le=ee;break}if(null===_[ee]){_[ee]=se,le=ee;break}}if(-1===le)break}const te=v[le];te&&te.connect(se)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let oe=v[K];return void 0===oe&&(oe=new Rk,v[K]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(K){let oe=v[K];return void 0===oe&&(oe=new Rk,v[K]=oe),oe.getGripSpace()},this.getHand=function(K){let oe=v[K];return void 0===oe&&(oe=new Rk,v[K]=oe),oe.getHandSpace()},this.setFramebufferScaleFactor=function(K){s=K,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){a=K,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(K){c=K},this.getBaseLayer=function(){return null!==f?f:h},this.getBinding=function(){return d},this.getFrame=function(){return A},this.getSession=function(){return i},this.setSession=function(){var K=(0,mt.A)(function*(oe){if(i=oe,null!==i){if(g=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",k),i.addEventListener("inputsourceschange",q),!0!==m.xrCompatible&&(yield t.makeXRCompatible()),b=e.getPixelRatio(),e.getSize(C),void 0===i.renderState.layers)h=new XRWebGLLayer(i,t,{antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s}),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),y=new gA(h.framebufferWidth,h.framebufferHeight,{format:Lu,type:xp,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil});else{let se=null,le=null,te=null;m.depth&&(te=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,se=m.stencil?_1:y1,le=m.stencil?v1:pm);const ee={colorFormat:t.RGBA8,depthFormat:te,scaleFactor:s};d=new XRWebGLBinding(i,t),f=d.createProjectionLayer(ee),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),y=new gA(f.textureWidth,f.textureHeight,{format:Lu,type:xp,depthTexture:new pY(f.textureWidth,f.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===f.ignoreDepthValues})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield i.requestReferenceSpace(a),j.setContext(i),j.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(oe){return K.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};const O=new Re,P=new Re;function H(K,oe){null===oe?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(oe.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(null===i)return;let oe=K.near,se=K.far;null!==p.texture&&(p.depthNear>0&&(oe=p.depthNear),p.depthFar>0&&(se=p.depthFar)),T.near=D.near=M.near=oe,T.far=D.far=M.far=se,(B!==T.near||R!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),B=T.near,R=T.far),M.layers.mask=2|K.layers.mask,D.layers.mask=4|K.layers.mask,T.layers.mask=M.layers.mask|D.layers.mask;const le=K.parent,te=T.cameras;H(T,le);for(let ee=0;ee<te.length;ee++)H(te[ee],le);2===te.length?function G(K,oe,se){O.setFromMatrixPosition(oe.matrixWorld),P.setFromMatrixPosition(se.matrixWorld);const le=O.distanceTo(P),te=oe.projectionMatrix.elements,ee=se.projectionMatrix.elements,Ae=te[14]/(te[10]-1),Ee=te[14]/(te[10]+1),ge=(te[9]+1)/te[5],Se=(te[9]-1)/te[5],ne=(te[8]-1)/te[0],Y=(ee[8]+1)/ee[0],W=Ae*ne,Be=Ae*Y,Ce=le/(-ne+Y),Pe=Ce*-ne;if(oe.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX(Pe),K.translateZ(Ce),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert(),-1===te[10])K.projectionMatrix.copy(oe.projectionMatrix),K.projectionMatrixInverse.copy(oe.projectionMatrixInverse);else{const Oe=Ae+Ce,re=Ee+Ce;K.projectionMatrix.makePerspective(W-Pe,Be+(le-Pe),ge*Ee/re*Oe,Se*Ee/re*Oe,Oe,re),K.projectionMatrixInverse.copy(K.projectionMatrix).invert()}}(T,M,D):T.projectionMatrix.copy(M.projectionMatrix),function ae(K,oe,se){null===se?K.matrix.copy(oe.matrixWorld):(K.matrix.copy(se.matrixWorld),K.matrix.invert(),K.matrix.multiply(oe.matrixWorld)),K.matrix.decompose(K.position,K.quaternion,K.scale),K.updateMatrixWorld(!0),K.projectionMatrix.copy(oe.projectionMatrix),K.projectionMatrixInverse.copy(oe.projectionMatrixInverse),K.isPerspectiveCamera&&(K.fov=2*S1*Math.atan(1/K.projectionMatrix.elements[5]),K.zoom=1)}(K,T,le)},this.getCamera=function(){return T},this.getFoveation=function(){if(null!==f||null!==h)return l},this.setFoveation=function(K){l=K,null!==f&&(f.fixedFoveation=K),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=K)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(T)};let ve=null;const j=new pJ;j.setAnimationLoop(function Q(K,oe){if(u=oe.getViewerPose(c||o),A=oe,null!==u){const se=u.views;null!==h&&(e.setRenderTargetFramebuffer(y,h.framebuffer),e.setRenderTarget(y));let le=!1;se.length!==T.cameras.length&&(T.cameras.length=0,le=!0);for(let ee=0;ee<se.length;ee++){const Ae=se[ee];let Ee=null;if(null!==h)Ee=h.getViewport(Ae);else{const Se=d.getViewSubImage(f,Ae);Ee=Se.viewport,0===ee&&(e.setRenderTargetTextures(y,Se.colorTexture,f.ignoreDepthValues?void 0:Se.depthStencilTexture),e.setRenderTarget(y))}let ge=S[ee];void 0===ge&&(ge=new tc,ge.layers.enable(ee),ge.viewport=new Ss,S[ee]=ge),ge.matrix.fromArray(Ae.transform.matrix),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.projectionMatrix.fromArray(Ae.projectionMatrix),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert(),ge.viewport.set(Ee.x,Ee.y,Ee.width,Ee.height),0===ee&&(T.matrix.copy(ge.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===le&&T.cameras.push(ge)}const te=i.enabledFeatures;if(te&&te.includes("depth-sensing")){const ee=d.getDepthInformation(se[0]);ee&&ee.isValid&&ee.texture&&p.init(e,ee,i.renderState)}}for(let se=0;se<v.length;se++){const le=_[se],te=v[se];null!==le&&void 0!==te&&te.update(le,oe,c||o)}ve&&ve(K,oe),oe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:oe}),A=null}),this.setAnimationLoop=function(K){ve=K},this.dispose=function(){}}}const z0=new Ip,CFe=new Lr;function EFe(n,e){function t(m,g){!0===m.matrixAutoUpdate&&m.updateMatrix(),g.value.copy(m.matrix)}function s(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map,t(g.map,m.mapTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.bumpMap&&(m.bumpMap.value=g.bumpMap,t(g.bumpMap,m.bumpMapTransform),m.bumpScale.value=g.bumpScale,1===g.side&&(m.bumpScale.value*=-1)),g.normalMap&&(m.normalMap.value=g.normalMap,t(g.normalMap,m.normalMapTransform),m.normalScale.value.copy(g.normalScale),1===g.side&&m.normalScale.value.negate()),g.displacementMap&&(m.displacementMap.value=g.displacementMap,t(g.displacementMap,m.displacementMapTransform),m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,m.emissiveMapTransform)),g.specularMap&&(m.specularMap.value=g.specularMap,t(g.specularMap,m.specularMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);const y=e.get(g),v=y.envMap,_=y.envMapRotation;v&&(m.envMap.value=v,z0.copy(_),z0.x*=-1,z0.y*=-1,z0.z*=-1,v.isCubeTexture&&!1===v.isRenderTargetTexture&&(z0.y*=-1,z0.z*=-1),m.envMapRotation.value.setFromMatrix4(CFe.makeRotationFromEuler(z0)),m.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap&&(m.lightMap.value=g.lightMap,m.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,m.lightMapTransform)),g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,m.aoMapTransform))}return{refreshFogUniforms:function r(m,g){g.color.getRGB(m.fogColor.value,zX(n)),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)},refreshMaterialUniforms:function i(m,g,y,v,_){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(m,g):g.isMeshToonMaterial?(s(m,g),function d(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}(m,g)):g.isMeshPhongMaterial?(s(m,g),function u(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}(m,g)):g.isMeshStandardMaterial?(s(m,g),function f(m,g){m.metalness.value=g.metalness,g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,m.metalnessMapTransform)),m.roughness.value=g.roughness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,m.roughnessMapTransform)),g.envMap&&(m.envMapIntensity.value=g.envMapIntensity)}(m,g),g.isMeshPhysicalMaterial&&function h(m,g,y){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,m.sheenColorMapTransform)),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,m.sheenRoughnessMapTransform))),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,m.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(m.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),1===g.side&&m.clearcoatNormalScale.value.negate())),g.dispersion>0&&(m.dispersion.value=g.dispersion),g.iridescence>0&&(m.iridescence.value=g.iridescence,m.iridescenceIOR.value=g.iridescenceIOR,m.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(m.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,m.iridescenceMapTransform)),g.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=y.texture,m.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,m.transmissionMapTransform)),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(m.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(m.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,m.specularColorMapTransform)),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,m.specularIntensityMapTransform))}(m,g,_)):g.isMeshMatcapMaterial?(s(m,g),function A(m,g){g.matcap&&(m.matcap.value=g.matcap)}(m,g)):g.isMeshDepthMaterial?s(m,g):g.isMeshDistanceMaterial?(s(m,g),function p(m,g){const y=e.get(g).light;m.referencePosition.value.setFromMatrixPosition(y.matrixWorld),m.nearDistance.value=y.shadow.camera.near,m.farDistance.value=y.shadow.camera.far}(m,g)):g.isMeshNormalMaterial?s(m,g):g.isLineBasicMaterial?(function o(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,g.map&&(m.map.value=g.map,t(g.map,m.mapTransform))}(m,g),g.isLineDashedMaterial&&function a(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}(m,g)):g.isPointsMaterial?function l(m,g,y,v){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*y,m.scale.value=.5*v,g.map&&(m.map.value=g.map,t(g.map,m.uvTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest)}(m,g,y,v):g.isSpriteMaterial?function c(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map,t(g.map,m.mapTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest)}(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}}}function SFe(n,e,t,r){let i={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(y,v,_,C){const b=y.value,M=v+"_"+_;if(void 0===C[M])return C[M]="number"==typeof b||"boolean"==typeof b?b:b.clone(),!0;{const D=C[M];if("number"==typeof b||"boolean"==typeof b){if(D!==b)return C[M]=b,!0}else if(!1===D.equals(b))return D.copy(b),!0}return!1}function p(y){const v={boundary:0,storage:0};return"number"==typeof y||"boolean"==typeof y?(v.boundary=4,v.storage=4):y.isVector2?(v.boundary=8,v.storage=8):y.isVector3||y.isColor?(v.boundary=16,v.storage=12):y.isVector4?(v.boundary=16,v.storage=16):y.isMatrix3?(v.boundary=48,v.storage=48):y.isMatrix4?(v.boundary=64,v.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),v}function m(y){const v=y.target;v.removeEventListener("dispose",m);const _=o.indexOf(v.__bindingPointIndex);o.splice(_,1),n.deleteBuffer(i[v.id]),delete i[v.id],delete s[v.id]}return{bind:function l(y,v){r.uniformBlockBinding(y,v.program)},update:function c(y,v){let _=i[y.id];void 0===_&&(function A(y){const v=y.uniforms;let _=0;for(let M=0,D=v.length;M<D;M++){const S=Array.isArray(v[M])?v[M]:[v[M]];for(let T=0,B=S.length;T<B;T++){const R=S[T],U=Array.isArray(R.value)?R.value:[R.value];for(let k=0,q=U.length;k<q;k++){const P=p(U[k]),G=_%16,H=G%P.boundary,ae=G+H;_+=H,0!==ae&&16-ae<P.storage&&(_+=16-ae),R.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=_,_+=P.storage}}}const b=_%16;b>0&&(_+=16-b),y.__size=_,y.__cache={}}(y),_=function u(y){const v=function d(){for(let y=0;y<a;y++)if(-1===o.indexOf(y))return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();y.__bindingPointIndex=v;const _=n.createBuffer(),C=y.__size,b=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,_),n.bufferData(n.UNIFORM_BUFFER,C,b),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,v,_),_}(y),i[y.id]=_,y.addEventListener("dispose",m)),r.updateUBOMapping(y,v.program);const b=e.render.frame;s[y.id]!==b&&(function f(y){const _=y.uniforms,C=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,i[y.id]);for(let b=0,M=_.length;b<M;b++){const D=Array.isArray(_[b])?_[b]:[_[b]];for(let S=0,T=D.length;S<T;S++){const B=D[S];if(!0===h(B,b,S,C)){const R=B.__offset,U=Array.isArray(B.value)?B.value:[B.value];let k=0;for(let q=0;q<U.length;q++){const O=U[q],P=p(O);"number"==typeof O||"boolean"==typeof O?(B.__data[0]=O,n.bufferSubData(n.UNIFORM_BUFFER,R+k,B.__data)):O.isMatrix3?(B.__data[0]=O.elements[0],B.__data[1]=O.elements[1],B.__data[2]=O.elements[2],B.__data[3]=0,B.__data[4]=O.elements[3],B.__data[5]=O.elements[4],B.__data[6]=O.elements[5],B.__data[7]=0,B.__data[8]=O.elements[6],B.__data[9]=O.elements[7],B.__data[10]=O.elements[8],B.__data[11]=0):(O.toArray(B.__data,k),k+=P.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,R,B.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(y),s[y.id]=b)},dispose:function g(){for(const y in i)n.deleteBuffer(i[y]);o=[],i={},s={}}}}class xFe{constructor(e={}){const{canvas:t=V2e(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;let h;if(this.isWebGLRenderer=!0,null!==r){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=o;const A=new Uint32Array(4),p=new Int32Array(4);let m=null,g=null;const y=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=xd,this.toneMapping=fm,this.toneMappingExposure=1;const _=this;let C=!1,b=0,M=0,D=null,S=-1,T=null;const B=new Ss,R=new Ss;let U=null;const k=new Gn(0);let q=0,O=t.width,P=t.height,G=1,H=null,ae=null;const ve=new Ss(0,0,O,P),Q=new Ss(0,0,O,P);let j=!1;const K=new zB;let oe=!1,se=!1;const le=new Lr,te=new Lr,ee=new Re,Ae=new Ss,Ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ge=!1;function Se(){return null===D?G:1}let W,Be,Ce,Pe,Oe,re,J,Ue,Qe,it,Ye,Vt,kt,Ot,En,ot,wn,vn,Sn,an,$,Fe,Xe,Ne,ne=r;function Y(we,tt){return t.getContext(we,tt)}try{const we={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r171"),t.addEventListener("webglcontextlost",It,!1),t.addEventListener("webglcontextrestored",fn,!1),t.addEventListener("webglcontextcreationerror",Wt,!1),null===ne){const tt="webgl2";if(ne=Y(tt,we),null===ne)throw Y(tt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(we){throw console.error("THREE.WebGLRenderer: "+we.message),we}function xt(){W=new ONe(ne),W.init(),Fe=new mFe(ne,W),Be=new TNe(ne,W,e,Fe),Ce=new pFe(ne,W),Be.reverseDepthBuffer&&f&&Ce.buffers.depth.setReversed(!0),Pe=new UNe(ne),Oe=new nFe,re=new gFe(ne,W,Ce,Oe,Be,Fe,Pe),J=new NNe(_),Ue=new RNe(_),Qe=new STe(ne),Xe=new DNe(ne,Qe),it=new PNe(ne,Qe,Pe,Xe),Ye=new HNe(ne,it,Qe,Pe),Sn=new kNe(ne,Be,re),ot=new BNe(Oe),Vt=new tFe(_,J,Ue,W,Be,Xe,ot),kt=new EFe(_,Oe),Ot=new iFe,En=new uFe(W),vn=new xNe(_,J,Ue,Ce,Ye,h,l),wn=new fFe(_,Ye,Be),Ne=new SFe(ne,Pe,Be,Ce),an=new MNe(ne,W,Pe),$=new LNe(ne,W,Pe),Pe.programs=Vt.programs,_.capabilities=Be,_.extensions=W,_.properties=Oe,_.renderLists=Ot,_.shadowMap=wn,_.state=Ce,_.info=Pe}xt();const rt=new wFe(_,ne);function It(we){we.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function fn(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const we=Pe.autoReset,tt=wn.enabled,yt=wn.autoUpdate,bt=wn.needsUpdate,st=wn.type;xt(),Pe.autoReset=we,wn.enabled=tt,wn.autoUpdate=yt,wn.needsUpdate=bt,wn.type=st}function Wt(we){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",we.statusMessage)}function Hn(we){const tt=we.target;tt.removeEventListener("dispose",Hn),function zs(we){(function ls(we){const tt=Oe.get(we).programs;void 0!==tt&&(tt.forEach(function(yt){Vt.releaseProgram(yt)}),we.isShaderMaterial&&Vt.releaseShaderCache(we))})(we),Oe.remove(we)}(tt)}function Si(we,tt,yt){!0===we.transparent&&2===we.side&&!1===we.forceSinglePass?(we.side=1,we.needsUpdate=!0,Uc(we,tt,yt),we.side=0,we.needsUpdate=!0,Uc(we,tt,yt),we.side=2):Uc(we,tt,yt)}this.xr=rt,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const we=W.get("WEBGL_lose_context");we&&we.loseContext()},this.forceContextRestore=function(){const we=W.get("WEBGL_lose_context");we&&we.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(we){void 0!==we&&(G=we,this.setSize(O,P,!1))},this.getSize=function(we){return we.set(O,P)},this.setSize=function(we,tt,yt=!0){rt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=we,P=tt,t.width=Math.floor(we*G),t.height=Math.floor(tt*G),!0===yt&&(t.style.width=we+"px",t.style.height=tt+"px"),this.setViewport(0,0,we,tt))},this.getDrawingBufferSize=function(we){return we.set(O*G,P*G).floor()},this.setDrawingBufferSize=function(we,tt,yt){O=we,P=tt,G=yt,t.width=Math.floor(we*yt),t.height=Math.floor(tt*yt),this.setViewport(0,0,we,tt)},this.getCurrentViewport=function(we){return we.copy(B)},this.getViewport=function(we){return we.copy(ve)},this.setViewport=function(we,tt,yt,bt){we.isVector4?ve.set(we.x,we.y,we.z,we.w):ve.set(we,tt,yt,bt),Ce.viewport(B.copy(ve).multiplyScalar(G).round())},this.getScissor=function(we){return we.copy(Q)},this.setScissor=function(we,tt,yt,bt){we.isVector4?Q.set(we.x,we.y,we.z,we.w):Q.set(we,tt,yt,bt),Ce.scissor(R.copy(Q).multiplyScalar(G).round())},this.getScissorTest=function(){return j},this.setScissorTest=function(we){Ce.setScissorTest(j=we)},this.setOpaqueSort=function(we){H=we},this.setTransparentSort=function(we){ae=we},this.getClearColor=function(we){return we.copy(vn.getClearColor())},this.setClearColor=function(){vn.setClearColor.apply(vn,arguments)},this.getClearAlpha=function(){return vn.getClearAlpha()},this.setClearAlpha=function(){vn.setClearAlpha.apply(vn,arguments)},this.clear=function(we=!0,tt=!0,yt=!0){let bt=0;if(we){let st=!1;if(null!==D){const dn=D.texture.format;st=dn===IU||dn===NU||dn===aB}if(st){const dn=D.texture.type,Mn=dn===xp||dn===pm||dn===gS||dn===v1||dn===MU||dn===TU,jn=vn.getClearColor(),Kn=vn.getClearAlpha(),br=jn.r,Ir=jn.g,lr=jn.b;Mn?(A[0]=br,A[1]=Ir,A[2]=lr,A[3]=Kn,ne.clearBufferuiv(ne.COLOR,0,A)):(p[0]=br,p[1]=Ir,p[2]=lr,p[3]=Kn,ne.clearBufferiv(ne.COLOR,0,p))}else bt|=ne.COLOR_BUFFER_BIT}tt&&(bt|=ne.DEPTH_BUFFER_BIT),yt&&(bt|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(bt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",It,!1),t.removeEventListener("webglcontextrestored",fn,!1),t.removeEventListener("webglcontextcreationerror",Wt,!1),vn.dispose(),Ot.dispose(),En.dispose(),Oe.dispose(),J.dispose(),Ue.dispose(),Ye.dispose(),Xe.dispose(),Ne.dispose(),Vt.dispose(),rt.dispose(),rt.removeEventListener("sessionstart",Ju),rt.removeEventListener("sessionend",Pd),ua.stop()},this.renderBufferDirect=function(we,tt,yt,bt,st,dn){null===tt&&(tt=Ee);const Mn=st.isMesh&&st.matrixWorld.determinant()<0,jn=function Ch(we,tt,yt,bt,st){!0!==tt.isScene&&(tt=Ee),re.resetTextureUnits();const dn=tt.fog,jn=null===D?_.outputColorSpace:!0===D.isXRRenderTarget?D.texture.colorSpace:C1,Kn=(bt.isMeshStandardMaterial?Ue:J).get(bt.envMap||(bt.isMeshStandardMaterial?tt.environment:null)),br=!0===bt.vertexColors&&!!yt.attributes.color&&4===yt.attributes.color.itemSize,Ir=!!yt.attributes.tangent&&(!!bt.normalMap||bt.anisotropy>0),lr=!!yt.morphAttributes.position,Ni=!!yt.morphAttributes.normal,Wi=!!yt.morphAttributes.color;let po=fm;bt.toneMapped&&(null===D||!0===D.isXRRenderTarget)&&(po=_.toneMapping);const ri=yt.morphAttributes.position||yt.morphAttributes.normal||yt.morphAttributes.color,Vi=void 0!==ri?ri.length:0,cr=Oe.get(bt),da=g.state.lights;!0!==oe||!0!==se&&we===T||ot.setState(bt,we,we===T&&bt.id===S);let $i=!1;bt.version===cr.__version?(cr.needsLights&&cr.lightsStateVersion!==da.state.version||cr.outputColorSpace!==jn||st.isBatchedMesh&&!1===cr.batching||!st.isBatchedMesh&&!0===cr.batching||st.isBatchedMesh&&!0===cr.batchingColor&&null===st.colorTexture||st.isBatchedMesh&&!1===cr.batchingColor&&null!==st.colorTexture||st.isInstancedMesh&&!1===cr.instancing||!st.isInstancedMesh&&!0===cr.instancing||st.isSkinnedMesh&&!1===cr.skinning||!st.isSkinnedMesh&&!0===cr.skinning||st.isInstancedMesh&&!0===cr.instancingColor&&null===st.instanceColor||st.isInstancedMesh&&!1===cr.instancingColor&&null!==st.instanceColor||st.isInstancedMesh&&!0===cr.instancingMorph&&null===st.morphTexture||st.isInstancedMesh&&!1===cr.instancingMorph&&null!==st.morphTexture||cr.envMap!==Kn||!0===bt.fog&&cr.fog!==dn||void 0!==cr.numClippingPlanes&&(cr.numClippingPlanes!==ot.numPlanes||cr.numIntersection!==ot.numIntersection)||cr.vertexAlphas!==br||cr.vertexTangents!==Ir||cr.morphTargets!==lr||cr.morphNormals!==Ni||cr.morphColors!==Wi||cr.toneMapping!==po||cr.morphTargetsCount!==Vi)&&($i=!0):($i=!0,cr.__version=bt.version);let vu=cr.currentProgram;!0===$i&&(vu=Uc(bt,tt,st));let Ol=!1,Va=!1,Qa=!1;const Gs=vu.getUniforms(),uc=cr.uniforms;if(Ce.useProgram(vu.program)&&(Ol=!0,Va=!0,Qa=!0),bt.id!==S&&(S=bt.id,Va=!0),Ol||T!==we){Ce.buffers.depth.getReversed()?(le.copy(we.projectionMatrix),function z2e(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}(le),function G2e(n){const e=n.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}(le),Gs.setValue(ne,"projectionMatrix",le)):Gs.setValue(ne,"projectionMatrix",we.projectionMatrix),Gs.setValue(ne,"viewMatrix",we.matrixWorldInverse);const Pl=Gs.map.cameraPosition;void 0!==Pl&&Pl.setValue(ne,ee.setFromMatrixPosition(we.matrixWorld)),Be.logarithmicDepthBuffer&&Gs.setValue(ne,"logDepthBufFC",2/(Math.log(we.far+1)/Math.LN2)),(bt.isMeshPhongMaterial||bt.isMeshToonMaterial||bt.isMeshLambertMaterial||bt.isMeshBasicMaterial||bt.isMeshStandardMaterial||bt.isShaderMaterial)&&Gs.setValue(ne,"isOrthographic",!0===we.isOrthographicCamera),T!==we&&(T=we,Va=!0,Qa=!0)}if(st.isSkinnedMesh){Gs.setOptional(ne,st,"bindMatrix"),Gs.setOptional(ne,st,"bindMatrixInverse");const za=st.skeleton;za&&(null===za.boneTexture&&za.computeBoneTexture(),Gs.setValue(ne,"boneTexture",za.boneTexture,re))}st.isBatchedMesh&&(Gs.setOptional(ne,st,"batchingTexture"),Gs.setValue(ne,"batchingTexture",st._matricesTexture,re),Gs.setOptional(ne,st,"batchingIdTexture"),Gs.setValue(ne,"batchingIdTexture",st._indirectTexture,re),Gs.setOptional(ne,st,"batchingColorTexture"),null!==st._colorsTexture&&Gs.setValue(ne,"batchingColorTexture",st._colorsTexture,re));const kc=yt.morphAttributes;if((void 0!==kc.position||void 0!==kc.normal||void 0!==kc.color)&&Sn.update(st,yt,vu),(Va||cr.receiveShadow!==st.receiveShadow)&&(cr.receiveShadow=st.receiveShadow,Gs.setValue(ne,"receiveShadow",st.receiveShadow)),bt.isMeshGouraudMaterial&&null!==bt.envMap&&(uc.envMap.value=Kn,uc.flipEnvMap.value=Kn.isCubeTexture&&!1===Kn.isRenderTargetTexture?-1:1),bt.isMeshStandardMaterial&&null===bt.envMap&&null!==tt.environment&&(uc.envMapIntensity.value=tt.environmentIntensity),Va&&(Gs.setValue(ne,"toneMappingExposure",_.toneMappingExposure),cr.needsLights&&function td(we,tt){we.ambientLightColor.needsUpdate=tt,we.lightProbe.needsUpdate=tt,we.directionalLights.needsUpdate=tt,we.directionalLightShadows.needsUpdate=tt,we.pointLights.needsUpdate=tt,we.pointLightShadows.needsUpdate=tt,we.spotLights.needsUpdate=tt,we.spotLightShadows.needsUpdate=tt,we.rectAreaLights.needsUpdate=tt,we.hemisphereLights.needsUpdate=tt}(uc,Qa),dn&&!0===bt.fog&&kt.refreshFogUniforms(uc,dn),kt.refreshMaterialUniforms(uc,bt,G,P,g.state.transmissionRenderTarget[we.id]),DN.upload(ne,Zu(cr),uc,re)),bt.isShaderMaterial&&!0===bt.uniformsNeedUpdate&&(DN.upload(ne,Zu(cr),uc,re),bt.uniformsNeedUpdate=!1),bt.isSpriteMaterial&&Gs.setValue(ne,"center",st.center),Gs.setValue(ne,"modelViewMatrix",st.modelViewMatrix),Gs.setValue(ne,"normalMatrix",st.normalMatrix),Gs.setValue(ne,"modelMatrix",st.matrixWorld),bt.isShaderMaterial||bt.isRawShaderMaterial){const za=bt.uniformsGroups;for(let Pl=0,Zm=za.length;Pl<Zm;Pl++){const Rf=za[Pl];Ne.update(Rf,vu),Ne.bind(Rf,vu)}}return vu}(we,tt,yt,bt,st);Ce.setMaterial(bt,Mn);let Kn=yt.index,br=1;if(!0===bt.wireframe){if(Kn=it.getWireframeAttribute(yt),void 0===Kn)return;br=2}const Ir=yt.drawRange,lr=yt.attributes.position;let Ni=Ir.start*br,Wi=(Ir.start+Ir.count)*br;null!==dn&&(Ni=Math.max(Ni,dn.start*br),Wi=Math.min(Wi,(dn.start+dn.count)*br)),null!==Kn?(Ni=Math.max(Ni,0),Wi=Math.min(Wi,Kn.count)):null!=lr&&(Ni=Math.max(Ni,0),Wi=Math.min(Wi,lr.count));const po=Wi-Ni;if(po<0||po===1/0)return;Xe.setup(st,bt,jn,yt,Kn);let ri,Vi=an;if(null!==Kn&&(ri=Qe.get(Kn),Vi=$,Vi.setIndex(ri)),st.isMesh)!0===bt.wireframe?(Ce.setLineWidth(bt.wireframeLinewidth*Se()),Vi.setMode(ne.LINES)):Vi.setMode(ne.TRIANGLES);else if(st.isLine){let cr=bt.linewidth;void 0===cr&&(cr=1),Ce.setLineWidth(cr*Se()),Vi.setMode(st.isLineSegments?ne.LINES:st.isLineLoop?ne.LINE_LOOP:ne.LINE_STRIP)}else st.isPoints?Vi.setMode(ne.POINTS):st.isSprite&&Vi.setMode(ne.TRIANGLES);if(st.isBatchedMesh)if(null!==st._multiDrawInstances)Vi.renderMultiDrawInstances(st._multiDrawStarts,st._multiDrawCounts,st._multiDrawCount,st._multiDrawInstances);else if(W.get("WEBGL_multi_draw"))Vi.renderMultiDraw(st._multiDrawStarts,st._multiDrawCounts,st._multiDrawCount);else{const cr=st._multiDrawStarts,da=st._multiDrawCounts,$i=st._multiDrawCount,vu=Kn?Qe.get(Kn).bytesPerElement:1,Ol=Oe.get(bt).currentProgram.getUniforms();for(let Va=0;Va<$i;Va++)Ol.setValue(ne,"_gl_DrawID",Va),Vi.render(cr[Va]/vu,da[Va])}else if(st.isInstancedMesh)Vi.renderInstances(Ni,po,st.count);else if(yt.isInstancedBufferGeometry){const da=Math.min(yt.instanceCount,void 0!==yt._maxInstanceCount?yt._maxInstanceCount:1/0);Vi.renderInstances(Ni,po,da)}else Vi.render(Ni,po)},this.compile=function(we,tt,yt=null){null===yt&&(yt=we),g=En.get(yt),g.init(tt),v.push(g),yt.traverseVisible(function(st){st.isLight&&st.layers.test(tt.layers)&&(g.pushLight(st),st.castShadow&&g.pushShadow(st))}),we!==yt&&we.traverseVisible(function(st){st.isLight&&st.layers.test(tt.layers)&&(g.pushLight(st),st.castShadow&&g.pushShadow(st))}),g.setupLights();const bt=new Set;return we.traverse(function(st){if(!(st.isMesh||st.isPoints||st.isLine||st.isSprite))return;const dn=st.material;if(dn)if(Array.isArray(dn))for(let Mn=0;Mn<dn.length;Mn++){const jn=dn[Mn];Si(jn,yt,st),bt.add(jn)}else Si(dn,yt,st),bt.add(dn)}),v.pop(),g=null,bt},this.compileAsync=function(we,tt,yt=null){const bt=this.compile(we,tt,yt);return new Promise(st=>{function dn(){bt.forEach(function(Mn){Oe.get(Mn).currentProgram.isReady()&&bt.delete(Mn)}),0!==bt.size?setTimeout(dn,10):st(we)}null!==W.get("KHR_parallel_shader_compile")?dn():setTimeout(dn,10)})};let ca=null;function Ju(){ua.stop()}function Pd(){ua.start()}const ua=new pJ;function Yo(we,tt,yt,bt){if(!1===we.visible)return;if(we.layers.test(tt.layers))if(we.isGroup)yt=we.renderOrder;else if(we.isLOD)!0===we.autoUpdate&&we.update(tt);else if(we.isLight)g.pushLight(we),we.castShadow&&g.pushShadow(we);else if(we.isSprite){if(!we.frustumCulled||K.intersectsSprite(we)){bt&&Ae.setFromMatrixPosition(we.matrixWorld).applyMatrix4(te);const Mn=Ye.update(we),jn=we.material;jn.visible&&m.push(we,Mn,jn,yt,Ae.z,null)}}else if((we.isMesh||we.isLine||we.isPoints)&&(!we.frustumCulled||K.intersectsObject(we))){const Mn=Ye.update(we),jn=we.material;if(bt&&(void 0!==we.boundingSphere?(null===we.boundingSphere&&we.computeBoundingSphere(),Ae.copy(we.boundingSphere.center)):(null===Mn.boundingSphere&&Mn.computeBoundingSphere(),Ae.copy(Mn.boundingSphere.center)),Ae.applyMatrix4(we.matrixWorld).applyMatrix4(te)),Array.isArray(jn)){const Kn=Mn.groups;for(let br=0,Ir=Kn.length;br<Ir;br++){const lr=Kn[br],Ni=jn[lr.materialIndex];Ni&&Ni.visible&&m.push(we,Mn,Ni,yt,Ae.z,lr)}}else jn.visible&&m.push(we,Mn,jn,yt,Ae.z,null)}const dn=we.children;for(let Mn=0,jn=dn.length;Mn<jn;Mn++)Yo(dn[Mn],tt,yt,bt)}function Jo(we,tt,yt,bt){const st=we.opaque,dn=we.transmissive,Mn=we.transparent;g.setupLightsView(yt),!0===oe&&ot.setGlobalState(_.clippingPlanes,yt),bt&&Ce.viewport(B.copy(bt)),st.length>0&&Ff(st,tt,yt),dn.length>0&&Ff(dn,tt,yt),Mn.length>0&&Ff(Mn,tt,yt),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1)}function Lc(we,tt,yt,bt){if(null!==(!0===yt.isScene?yt.overrideMaterial:null))return;void 0===g.state.transmissionRenderTarget[bt.id]&&(g.state.transmissionRenderTarget[bt.id]=new gA(1,1,{generateMipmaps:!0,type:W.has("EXT_color_buffer_half_float")||W.has("EXT_color_buffer_float")?mS:xp,minFilter:Sp,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:vs.workingColorSpace}));const dn=g.state.transmissionRenderTarget[bt.id],Mn=bt.viewport||B;dn.setSize(Mn.z,Mn.w);const jn=_.getRenderTarget();_.setRenderTarget(dn),_.getClearColor(k),q=_.getClearAlpha(),q<1&&_.setClearColor(16777215,.5),_.clear(),ge&&vn.render(yt);const Kn=_.toneMapping;_.toneMapping=fm;const br=bt.viewport;if(void 0!==bt.viewport&&(bt.viewport=void 0),g.setupLightsView(bt),!0===oe&&ot.setGlobalState(_.clippingPlanes,bt),Ff(we,yt,bt),re.updateMultisampleRenderTarget(dn),re.updateRenderTargetMipmap(dn),!1===W.has("WEBGL_multisampled_render_to_texture")){let Ir=!1;for(let lr=0,Ni=tt.length;lr<Ni;lr++){const Wi=tt[lr],po=Wi.object,ri=Wi.geometry,Vi=Wi.material,cr=Wi.group;if(2===Vi.side&&po.layers.test(bt.layers)){const da=Vi.side;Vi.side=1,Vi.needsUpdate=!0,wh(po,yt,bt,ri,Vi,cr),Vi.side=da,Vi.needsUpdate=!0,Ir=!0}}!0===Ir&&(re.updateMultisampleRenderTarget(dn),re.updateRenderTargetMipmap(dn))}_.setRenderTarget(jn),_.setClearColor(k,q),void 0!==br&&(bt.viewport=br),_.toneMapping=Kn}function Ff(we,tt,yt){const bt=!0===tt.isScene?tt.overrideMaterial:null;for(let st=0,dn=we.length;st<dn;st++){const Mn=we[st],jn=Mn.object,Kn=Mn.geometry,br=null===bt?Mn.material:bt,Ir=Mn.group;jn.layers.test(yt.layers)&&wh(jn,tt,yt,Kn,br,Ir)}}function wh(we,tt,yt,bt,st,dn){we.onBeforeRender(_,tt,yt,bt,st,dn),we.modelViewMatrix.multiplyMatrices(yt.matrixWorldInverse,we.matrixWorld),we.normalMatrix.getNormalMatrix(we.modelViewMatrix),st.onBeforeRender(_,tt,yt,bt,we,dn),!0===st.transparent&&2===st.side&&!1===st.forceSinglePass?(st.side=1,st.needsUpdate=!0,_.renderBufferDirect(yt,tt,bt,st,we,dn),st.side=0,st.needsUpdate=!0,_.renderBufferDirect(yt,tt,bt,st,we,dn),st.side=2):_.renderBufferDirect(yt,tt,bt,st,we,dn),we.onAfterRender(_,tt,yt,bt,st,dn)}function Uc(we,tt,yt){!0!==tt.isScene&&(tt=Ee);const bt=Oe.get(we),st=g.state.lights,Mn=st.state.version,jn=Vt.getParameters(we,st.state,g.state.shadowsArray,tt,yt),Kn=Vt.getProgramCacheKey(jn);let br=bt.programs;bt.environment=we.isMeshStandardMaterial?tt.environment:null,bt.fog=tt.fog,bt.envMap=(we.isMeshStandardMaterial?Ue:J).get(we.envMap||bt.environment),bt.envMapRotation=null!==bt.environment&&null===we.envMap?tt.environmentRotation:we.envMapRotation,void 0===br&&(we.addEventListener("dispose",Hn),br=new Map,bt.programs=br);let Ir=br.get(Kn);if(void 0!==Ir){if(bt.currentProgram===Ir&&bt.lightsStateVersion===Mn)return ed(we,jn),Ir}else jn.uniforms=Vt.getUniforms(we),we.onBeforeCompile(jn,_),Ir=Vt.acquireProgram(jn,Kn),br.set(Kn,Ir),bt.uniforms=jn.uniforms;const lr=bt.uniforms;return(!we.isShaderMaterial&&!we.isRawShaderMaterial||!0===we.clipping)&&(lr.clippingPlanes=ot.uniform),ed(we,jn),bt.needsLights=function Eh(we){return we.isMeshLambertMaterial||we.isMeshToonMaterial||we.isMeshPhongMaterial||we.isMeshStandardMaterial||we.isShadowMaterial||we.isShaderMaterial&&!0===we.lights}(we),bt.lightsStateVersion=Mn,bt.needsLights&&(lr.ambientLightColor.value=st.state.ambient,lr.lightProbe.value=st.state.probe,lr.directionalLights.value=st.state.directional,lr.directionalLightShadows.value=st.state.directionalShadow,lr.spotLights.value=st.state.spot,lr.spotLightShadows.value=st.state.spotShadow,lr.rectAreaLights.value=st.state.rectArea,lr.ltc_1.value=st.state.rectAreaLTC1,lr.ltc_2.value=st.state.rectAreaLTC2,lr.pointLights.value=st.state.point,lr.pointLightShadows.value=st.state.pointShadow,lr.hemisphereLights.value=st.state.hemi,lr.directionalShadowMap.value=st.state.directionalShadowMap,lr.directionalShadowMatrix.value=st.state.directionalShadowMatrix,lr.spotShadowMap.value=st.state.spotShadowMap,lr.spotLightMatrix.value=st.state.spotLightMatrix,lr.spotLightMap.value=st.state.spotLightMap,lr.pointShadowMap.value=st.state.pointShadowMap,lr.pointShadowMatrix.value=st.state.pointShadowMatrix),bt.currentProgram=Ir,bt.uniformsList=null,Ir}function Zu(we){if(null===we.uniformsList){const tt=we.currentProgram.getUniforms();we.uniformsList=DN.seqWithValue(tt.seq,we.uniforms)}return we.uniformsList}function ed(we,tt){const yt=Oe.get(we);yt.outputColorSpace=tt.outputColorSpace,yt.batching=tt.batching,yt.batchingColor=tt.batchingColor,yt.instancing=tt.instancing,yt.instancingColor=tt.instancingColor,yt.instancingMorph=tt.instancingMorph,yt.skinning=tt.skinning,yt.morphTargets=tt.morphTargets,yt.morphNormals=tt.morphNormals,yt.morphColors=tt.morphColors,yt.morphTargetsCount=tt.morphTargetsCount,yt.numClippingPlanes=tt.numClippingPlanes,yt.numIntersection=tt.numClipIntersection,yt.vertexAlphas=tt.vertexAlphas,yt.vertexTangents=tt.vertexTangents,yt.toneMapping=tt.toneMapping}ua.setAnimationLoop(function nr(we){ca&&ca(we)}),typeof self<"u"&&ua.setContext(self),this.setAnimationLoop=function(we){ca=we,rt.setAnimationLoop(we),null===we?ua.stop():ua.start()},rt.addEventListener("sessionstart",Ju),rt.addEventListener("sessionend",Pd),this.render=function(we,tt){if(void 0!==tt&&!0!==tt.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===C)return;if(!0===we.matrixWorldAutoUpdate&&we.updateMatrixWorld(),null===tt.parent&&!0===tt.matrixWorldAutoUpdate&&tt.updateMatrixWorld(),!0===rt.enabled&&!0===rt.isPresenting&&(!0===rt.cameraAutoUpdate&&rt.updateCamera(tt),tt=rt.getCamera()),!0===we.isScene&&we.onBeforeRender(_,we,tt,D),g=En.get(we,v.length),g.init(tt),v.push(g),te.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse),K.setFromProjectionMatrix(te),se=this.localClippingEnabled,oe=ot.init(this.clippingPlanes,se),m=Ot.get(we,y.length),m.init(),y.push(m),!0===rt.enabled&&!0===rt.isPresenting){const dn=_.xr.getDepthSensingMesh();null!==dn&&Yo(dn,tt,-1/0,_.sortObjects)}Yo(we,tt,0,_.sortObjects),m.finish(),!0===_.sortObjects&&m.sort(H,ae),ge=!1===rt.enabled||!1===rt.isPresenting||!1===rt.hasDepthSensing(),ge&&vn.addToRenderList(m,we),this.info.render.frame++,!0===oe&&ot.beginShadows(),wn.render(g.state.shadowsArray,we,tt),!0===oe&&ot.endShadows(),!0===this.info.autoReset&&this.info.reset();const bt=m.opaque,st=m.transmissive;if(g.setupLights(),tt.isArrayCamera){const dn=tt.cameras;if(st.length>0)for(let Mn=0,jn=dn.length;Mn<jn;Mn++)Lc(bt,st,we,dn[Mn]);ge&&vn.render(we);for(let Mn=0,jn=dn.length;Mn<jn;Mn++){const Kn=dn[Mn];Jo(m,we,Kn,Kn.viewport)}}else st.length>0&&Lc(bt,st,we,tt),ge&&vn.render(we),Jo(m,we,tt);null!==D&&(re.updateMultisampleRenderTarget(D),re.updateRenderTargetMipmap(D)),!0===we.isScene&&we.onAfterRender(_,we,tt),Xe.resetDefaultState(),S=-1,T=null,v.pop(),v.length>0?(g=v[v.length-1],!0===oe&&ot.setGlobalState(_.clippingPlanes,g.state.camera)):g=null,y.pop(),m=y.length>0?y[y.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(we,tt,yt){Oe.get(we.texture).__webglTexture=tt,Oe.get(we.depthTexture).__webglTexture=yt;const bt=Oe.get(we);bt.__hasExternalTextures=!0,bt.__autoAllocateDepthBuffer=void 0===yt,bt.__autoAllocateDepthBuffer||!0===W.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),bt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(we,tt){const yt=Oe.get(we);yt.__webglFramebuffer=tt,yt.__useDefaultFramebuffer=void 0===tt},this.setRenderTarget=function(we,tt=0,yt=0){D=we,b=tt,M=yt;let bt=!0,st=null,dn=!1,Mn=!1;if(we){const Kn=Oe.get(we);if(void 0!==Kn.__useDefaultFramebuffer)Ce.bindFramebuffer(ne.FRAMEBUFFER,null),bt=!1;else if(void 0===Kn.__webglFramebuffer)re.setupRenderTarget(we);else if(Kn.__hasExternalTextures)re.rebindTextures(we,Oe.get(we.texture).__webglTexture,Oe.get(we.depthTexture).__webglTexture);else if(we.depthBuffer){const lr=we.depthTexture;if(Kn.__boundDepthTexture!==lr){if(null!==lr&&Oe.has(lr)&&(we.width!==lr.image.width||we.height!==lr.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");re.setupDepthRenderbuffer(we)}}const br=we.texture;(br.isData3DTexture||br.isDataArrayTexture||br.isCompressedArrayTexture)&&(Mn=!0);const Ir=Oe.get(we).__webglFramebuffer;we.isWebGLCubeRenderTarget?(st=Array.isArray(Ir[tt])?Ir[tt][yt]:Ir[tt],dn=!0):st=we.samples>0&&!1===re.useMultisampledRTT(we)?Oe.get(we).__webglMultisampledFramebuffer:Array.isArray(Ir)?Ir[yt]:Ir,B.copy(we.viewport),R.copy(we.scissor),U=we.scissorTest}else B.copy(ve).multiplyScalar(G).floor(),R.copy(Q).multiplyScalar(G).floor(),U=j;if(Ce.bindFramebuffer(ne.FRAMEBUFFER,st)&&bt&&Ce.drawBuffers(we,st),Ce.viewport(B),Ce.scissor(R),Ce.setScissorTest(U),dn){const Kn=Oe.get(we.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Kn.__webglTexture,yt)}else if(Mn){const Kn=Oe.get(we.texture);ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Kn.__webglTexture,yt||0,tt||0)}S=-1},this.readRenderTargetPixels=function(we,tt,yt,bt,st,dn,Mn){if(!we||!we.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let jn=Oe.get(we).__webglFramebuffer;if(we.isWebGLCubeRenderTarget&&void 0!==Mn&&(jn=jn[Mn]),jn){Ce.bindFramebuffer(ne.FRAMEBUFFER,jn);try{const Kn=we.texture,br=Kn.format,Ir=Kn.type;if(!Be.textureFormatReadable(br))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Be.textureTypeReadable(Ir))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");tt>=0&&tt<=we.width-bt&&yt>=0&&yt<=we.height-st&&ne.readPixels(tt,yt,bt,st,Fe.convert(br),Fe.convert(Ir),dn)}finally{const Kn=null!==D?Oe.get(D).__webglFramebuffer:null;Ce.bindFramebuffer(ne.FRAMEBUFFER,Kn)}}},this.readRenderTargetPixelsAsync=function(){var we=(0,mt.A)(function*(tt,yt,bt,st,dn,Mn,jn){if(!tt||!tt.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Kn=Oe.get(tt).__webglFramebuffer;if(tt.isWebGLCubeRenderTarget&&void 0!==jn&&(Kn=Kn[jn]),Kn){const br=tt.texture,Ir=br.format,lr=br.type;if(!Be.textureFormatReadable(Ir))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Be.textureTypeReadable(lr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(yt>=0&&yt<=tt.width-st&&bt>=0&&bt<=tt.height-dn){Ce.bindFramebuffer(ne.FRAMEBUFFER,Kn);const Ni=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Ni),ne.bufferData(ne.PIXEL_PACK_BUFFER,Mn.byteLength,ne.STREAM_READ),ne.readPixels(yt,bt,st,dn,Fe.convert(Ir),Fe.convert(lr),0);const Wi=null!==D?Oe.get(D).__webglFramebuffer:null;Ce.bindFramebuffer(ne.FRAMEBUFFER,Wi);const po=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),yield function Q2e(n,e,t){return new Promise(function(r,i){setTimeout(function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}},t)})}(ne,po,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Ni),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,Mn),ne.deleteBuffer(Ni),ne.deleteSync(po),Mn}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}});return function(tt,yt,bt,st,dn,Mn,jn){return we.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(we,tt=null,yt=0){!0!==we.isTexture&&(D1("WebGLRenderer: copyFramebufferToTexture function signature has changed."),tt=arguments[0]||null,we=arguments[1]);const bt=Math.pow(2,-yt),st=Math.floor(we.image.width*bt),dn=Math.floor(we.image.height*bt),Mn=null!==tt?tt.x:0,jn=null!==tt?tt.y:0;re.setTexture2D(we,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,yt,0,0,Mn,jn,st,dn),Ce.unbindTexture()};const ng=ne.createFramebuffer(),Jm=ne.createFramebuffer();this.copyTextureToTexture=function(we,tt,yt=null,bt=null,st=0,dn=null){let Mn,jn,Kn,br,Ir,lr,Ni,Wi,po;!0!==we.isTexture&&(D1("WebGLRenderer: copyTextureToTexture function signature has changed."),bt=arguments[0]||null,we=arguments[1],tt=arguments[2],dn=arguments[3]||0,yt=null),null===dn&&(0!==st?(D1("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),dn=st,st=0):dn=0);const ri=we.isCompressedTexture?we.mipmaps[dn]:we.image;if(null!==yt)Mn=yt.max.x-yt.min.x,jn=yt.max.y-yt.min.y,Kn=yt.isBox3?yt.max.z-yt.min.z:1,br=yt.min.x,Ir=yt.min.y,lr=yt.isBox3?yt.min.z:0;else{const kc=Math.pow(2,-st);Mn=Math.floor(ri.width*kc),jn=Math.floor(ri.height*kc),Kn=we.isDataArrayTexture?ri.depth:we.isData3DTexture?Math.floor(ri.depth*kc):1,br=0,Ir=0,lr=0}null!==bt?(Ni=bt.x,Wi=bt.y,po=bt.z):(Ni=0,Wi=0,po=0);const Vi=Fe.convert(tt.format),cr=Fe.convert(tt.type);let da;tt.isData3DTexture?(re.setTexture3D(tt,0),da=ne.TEXTURE_3D):tt.isDataArrayTexture||tt.isCompressedArrayTexture?(re.setTexture2DArray(tt,0),da=ne.TEXTURE_2D_ARRAY):(re.setTexture2D(tt,0),da=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,tt.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,tt.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,tt.unpackAlignment);const $i=ne.getParameter(ne.UNPACK_ROW_LENGTH),vu=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),Ol=ne.getParameter(ne.UNPACK_SKIP_PIXELS),Va=ne.getParameter(ne.UNPACK_SKIP_ROWS),Qa=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,ri.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,ri.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,br),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Ir),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,lr);const Gs=we.isDataArrayTexture||we.isData3DTexture,uc=tt.isDataArrayTexture||tt.isData3DTexture;if(we.isDepthTexture){const kc=Oe.get(we),za=Oe.get(tt),Pl=Oe.get(kc.__renderTarget),Zm=Oe.get(za.__renderTarget);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,Pl.__webglFramebuffer),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Zm.__webglFramebuffer);for(let Rf=0;Rf<Kn;Rf++)Gs&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Oe.get(we).__webglTexture,st,lr+Rf),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Oe.get(tt).__webglTexture,dn,po+Rf)),ne.blitFramebuffer(br,Ir,Mn,jn,Ni,Wi,Mn,jn,ne.DEPTH_BUFFER_BIT,ne.NEAREST);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(0!==st||we.isRenderTargetTexture||Oe.has(we)){const kc=Oe.get(we),za=Oe.get(tt);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,ng),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Jm);for(let Pl=0;Pl<Kn;Pl++)Gs?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,kc.__webglTexture,st,lr+Pl):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,kc.__webglTexture,st),uc?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,za.__webglTexture,dn,po+Pl):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,za.__webglTexture,dn),0!==st?ne.blitFramebuffer(br,Ir,Mn,jn,Ni,Wi,Mn,jn,ne.COLOR_BUFFER_BIT,ne.NEAREST):uc?ne.copyTexSubImage3D(da,dn,Ni,Wi,po+Pl,br,Ir,Mn,jn):ne.copyTexSubImage2D(da,dn,Ni,Wi,br,Ir,Mn,jn);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else uc?we.isDataTexture||we.isData3DTexture?ne.texSubImage3D(da,dn,Ni,Wi,po,Mn,jn,Kn,Vi,cr,ri.data):tt.isCompressedArrayTexture?ne.compressedTexSubImage3D(da,dn,Ni,Wi,po,Mn,jn,Kn,Vi,ri.data):ne.texSubImage3D(da,dn,Ni,Wi,po,Mn,jn,Kn,Vi,cr,ri):we.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,dn,Ni,Wi,Mn,jn,Vi,cr,ri.data):we.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,dn,Ni,Wi,ri.width,ri.height,Vi,ri.data):ne.texSubImage2D(ne.TEXTURE_2D,dn,Ni,Wi,Mn,jn,Vi,cr,ri);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,$i),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,vu),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Ol),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Va),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Qa),0===dn&&tt.generateMipmaps&&ne.generateMipmap(da),Ce.unbindTexture()},this.copyTextureToTexture3D=function(we,tt,yt=null,bt=null,st=0){return!0!==we.isTexture&&(D1("WebGLRenderer: copyTextureToTexture3D function signature has changed."),yt=arguments[0]||null,bt=arguments[1]||null,we=arguments[2],tt=arguments[3],st=arguments[4]||0),D1('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(we,tt,yt,bt,st)},this.initRenderTarget=function(we){void 0===Oe.get(we).__webglFramebuffer&&re.setupRenderTarget(we)},this.initTexture=function(we){we.isCubeTexture?re.setTextureCube(we,0):we.isData3DTexture?re.setTexture3D(we,0):we.isDataArrayTexture||we.isCompressedArrayTexture?re.setTexture2DArray(we,0):re.setTexture2D(we,0),Ce.unbindTexture()},this.resetState=function(){b=0,M=0,D=null,Ce.reset(),Xe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Dp}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=vs._getDrawingBufferColorSpace(e),t.unpackColorSpace=vs._getUnpackColorSpace()}}var TN=_e(3443);let Ok=(()=>{class n{constructor(t){this.router=t}reloadPage(){window.location.reload()}reloadCurrentRoute(){var t=this;return(0,mt.A)(function*(){const r=t.router.url;return yield t.router.navigateByUrl("/",{skipLocationChange:!0}),t.router.navigateByUrl(r)})()}reloadWithQueryParamsRefresh(){const t=window.location.href;window.location.href=t}static{this.\u0275fac=function(r){return new(r||n)(Yt(nu))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const DFe=["rendererContainer"];let MFe=(()=>{class n{constructor(t){this.pageRestartService=t,this.disks=[],this.towers=[],this.numDisks=3,this.moves=[],this.currentMove=0,this.isAnimating=!1}restart(){this.pageRestartService.reloadPage()}ngOnInit(){}ngAfterViewInit(){this.initScene(),this.createTowers(),this.createDisks(),this.solveHanoi(this.numDisks,0,2,1),this.animate()}initScene(){this.scene=new qX,this.camera=new tc(75,this.rendererContainer.nativeElement.offsetWidth/this.rendererContainer.nativeElement.offsetHeight,.1,1e3),this.renderer=new xFe({antialias:!0}),this.renderer.setSize(this.rendererContainer.nativeElement.offsetWidth,this.rendererContainer.nativeElement.offsetHeight),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement),this.controls=new hTe(this.camera,this.renderer.domElement),this.camera.position.set(10,10,10),this.controls.update();const t=new QY(4210752);this.scene.add(t);const r=new VY(16777215,.5);r.position.set(1,1,1).normalize(),this.scene.add(r)}createTowers(){const t=new B0(.5,.5,5,32),r=new Pp({color:8421504});for(let i=0;i<3;i++){const s=new ba(t,r);s.position.set(4*i-4,2.5,0),this.towers.push(s),this.scene.add(s)}}createDisks(){for(let t=0;t<this.numDisks;t++){const r=new B0(1-.1*t,1-.1*t,.5,32),i=new Pp({color:(new Gn).setHSL(t/this.numDisks,1,.5)}),s=new ba(r,i);s.position.set(-4,.5*t+.25,0),this.disks.push(s),this.scene.add(s)}}solveHanoi(t,r,i,s){t>0&&(this.solveHanoi(t-1,r,s,i),this.moves.push({from:r,to:i}),this.solveHanoi(t-1,s,i,r))}animateMove(){if(this.currentMove<this.moves.length&&!this.isAnimating){this.isAnimating=!0;const t=this.moves[this.currentMove],r=this.disks.filter(i=>Math.abs(i.position.x-this.towers[t.from].position.x)<.1).sort((i,s)=>s.position.y-i.position.y);if(r.length>0){const i=r[0],s=this.towers[t.to].position.y+.25+.5*this.disks.filter(o=>Math.abs(o.position.x-this.towers[t.to].position.x)<.1).length;new TN.Tween(i.position).to({y:i.position.y+3},500).onComplete(()=>{new TN.Tween(i.position).to({x:this.towers[t.to].position.x},500).onComplete(()=>{new TN.Tween(i.position).to({y:s},500).onComplete(()=>{this.currentMove++,this.isAnimating=!1}).start()}).start()}).start()}else this.currentMove++,this.isAnimating=!1}}animate(){requestAnimationFrame(this.animate.bind(this)),TN.update(),this.controls.update(),this.currentMove<this.moves.length&&this.animateMove(),this.renderer.render(this.scene,this.camera)}static{this.\u0275fac=function(r){return new(r||n)(vt(Ok))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-hanoi3d"]],viewQuery:function(r,i){if(1&r&&ss(DFe,5),2&r){let s;pr(s=gr())&&(i.rendererContainer=s.first)}},decls:13,vars:0,consts:[["rendererContainer",""],["align","center"],[2,"width","300px","height","300px"],[3,"click"],["align","right"],["routerLink","/StableReleases"]],template:function(r,i){if(1&r){const s=Os();he(0,"div",1)(1,"h1"),Me(2,"[HANOI - 3D]"),ce(),ut(3,"hr")(4,"div",2,0)(6,"hr"),he(7,"button",3),Xt("click",function(){return zn(s),$n(i.restart())}),Me(8,"[RESTART]"),ce(),ut(9,"hr"),he(10,"div",4)(11,"a",5),Me(12,"[Volver al Menu]"),ce()()()}},dependencies:[Us],styles:["#canvas-container[_ngcontent-%COMP%]{width:300px;height:300px}"]})}}return n})(),TFe=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}constructor(t,r){this.http=t,this.configService=r,this.HTTPOptions_Text={headers:new Zl({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new Zl({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",this.__baseUrlSpringBoot="",this.__baseUrlNetCore=this.configService.getConfigValue("baseUrlNetCore"),this.__baseUrlNodeJs=this.configService.getConfigValue("baseUrlNodeJs"),this.__baseUrlSpringBoot=this.configService.getConfigValue("baseUrlSpringBoot"),console.log("baseUrlNetCore     : "+this.__baseUrlNetCore),console.log("baseUrlNodeJs      : "+this.__baseUrlNodeJs),console.log("baseUrlSpringBoot  : "+this.__baseUrlSpringBoot)}_GetSudoku(){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_GetSudoku_NodeJS(){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_SolveSudoku(t){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const r=new FormData;r.append("file",t);let i=`${this.__baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+i);const s=new mp("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}static{this.\u0275fac=function(r){return new(r||n)(Yt(s0),Yt(um))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var BFe=_e(6990),NFe=_e.n(BFe),uo=_e(9391),qs=Uint8Array,cu=Uint16Array,QS=Int32Array,ib=new qs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sb=new qs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zS=new qs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jJ=function(n,e){for(var t=new cu(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new QS(t[30]);for(r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},qJ=jJ(ib,2),Pk=qJ.b,BN=qJ.r;Pk[28]=258,BN[258]=28;for(var WJ=jJ(sb,0),$J=WJ.b,Lk=WJ.r,GS=new cu(32768),Bo=0;Bo<32768;++Bo){var Dm=(43690&Bo)>>1|(21845&Bo)<<1;GS[Bo]=((65280&(Dm=(61680&(Dm=(52428&Dm)>>2|(13107&Dm)<<2))>>4|(3855&Dm)<<4))>>8|(255&Dm)<<8)>>1}var ah=function(n,e,t){for(var r=n.length,i=0,s=new cu(e);i<r;++i)n[i]&&++s[n[i]-1];var a,o=new cu(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;if(t){a=new cu(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],d=o[n[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)a[GS[d]>>l]=c}else for(a=new cu(r),i=0;i<r;++i)n[i]&&(a[i]=GS[o[n[i]-1]++]>>15-n[i]);return a},Qp=new qs(288);for(Bo=0;Bo<144;++Bo)Qp[Bo]=8;for(Bo=144;Bo<256;++Bo)Qp[Bo]=9;for(Bo=256;Bo<280;++Bo)Qp[Bo]=7;for(Bo=280;Bo<288;++Bo)Qp[Bo]=8;var ob=new qs(32);for(Bo=0;Bo<32;++Bo)ob[Bo]=5;var KJ=ah(Qp,9,0),XJ=ah(Qp,9,1),YJ=ah(ob,5,0),JJ=ah(ob,5,1),NN=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},lh=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(7&e)&t},IN=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(7&e)},jS=function(n){return(n+7)/8|0},Mm=function(n,e,t){return(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length),new qs(n.subarray(e,t))},ZJ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],os=function(n,e,t){var r=new Error(e||ZJ[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,os),!t)throw r;return r},bA=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8},ab=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8,n[r+2]|=t>>16},RN=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:Vk,l:0};if(1==i){var o=new qs(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(C,b){return C.f-b.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};var f=s[0].s;for(r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var h=new cu(f+1),A=ON(t[u-1],h,0);if(A>e){r=0;var p=0,m=A-e,g=1<<m;for(s.sort(function(b,M){return h[M.s]-h[b.s]||b.f-M.f});r<i;++r){var y=s[r].s;if(!(h[y]>e))break;p+=g-(1<<A-h[y]),h[y]=e}for(p>>=m;p>0;){var v=s[r].s;h[v]<e?p-=1<<e-h[v]++-1:++r}for(;r>=0&&p;--r){var _=s[r].s;h[_]==e&&(--h[_],++p)}A=e}return{t:new qs(h),l:A}},ON=function(n,e,t){return-1==n.s?Math.max(ON(n.l,e,t+1),ON(n.r,e,t+1)):e[n.s]=t},Uk=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new cu(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},lb=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},kk=function(n,e,t){var r=t.length,i=jS(e+2);n[i]=255&r,n[i+1]=r>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var s=0;s<r;++s)n[i+s+4]=t[s];return 8*(i+4+r)},Hk=function(n,e,t,r,i,s,o,a,l,c,u){bA(e,u++,t),++i[256];for(var d=RN(i,15),f=d.t,h=d.l,A=RN(s,15),p=A.t,m=A.l,g=Uk(f),y=g.c,v=g.n,_=Uk(p),C=_.c,b=_.n,M=new cu(19),D=0;D<y.length;++D)++M[31&y[D]];for(D=0;D<C.length;++D)++M[31&C[D]];for(var S=RN(M,7),T=S.t,B=S.l,R=19;R>4&&!T[zS[R-1]];--R);var O,P,G,H,U=c+5<<3,k=lb(i,Qp)+lb(s,ob)+o,q=lb(i,f)+lb(s,p)+o+14+3*R+lb(M,T)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&U<=k&&U<=q)return kk(e,u,n.subarray(l,l+c));if(bA(e,u,1+(q<k)),u+=2,q<k){O=ah(f,h,0),P=f,G=ah(p,m,0),H=p;var ae=ah(T,B,0);for(bA(e,u,v-257),bA(e,u+5,b-1),bA(e,u+10,R-4),u+=14,D=0;D<R;++D)bA(e,u+3*D,T[zS[D]]);u+=3*R;for(var ve=[y,C],Q=0;Q<2;++Q){var j=ve[Q];for(D=0;D<j.length;++D)bA(e,u,ae[K=31&j[D]]),u+=T[K],K>15&&(bA(e,u,j[D]>>5&127),u+=j[D]>>12)}}else O=KJ,P=Qp,G=YJ,H=ob;for(D=0;D<a;++D){var oe=r[D];if(oe>255){var K;ab(e,u,O[257+(K=oe>>18&31)]),u+=P[K+257],K>7&&(bA(e,u,oe>>23&31),u+=ib[K]);var se=31&oe;ab(e,u,G[se]),u+=H[se],se>3&&(ab(e,u,oe>>5&8191),u+=sb[se])}else ab(e,u,O[oe]),u+=P[oe]}return ab(e,u,O[256]),u+P[256]},eZ=new QS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vk=new qs(0),Qk=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=0|t.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}n=r,e=i},d:function(){return(255&(n%=65521))<<24|(65280&n)<<8|(255&(e%=65521))<<8|e>>8}}},LN=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new qs(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return function(n,e,t,r,i,s){var o=s.z||n.length,a=new qs(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=7&(s.r||0);if(e){u&&(l[0]=s.r>>3);for(var d=eZ[e-1],f=d>>13,h=8191&d,A=(1<<t)-1,p=s.p||new cu(32768),m=s.h||new cu(A+1),g=Math.ceil(t/3),y=2*g,v=function(ne){return(n[ne]^n[ne+1]<<g^n[ne+2]<<y)&A},_=new QS(25e3),C=new cu(288),b=new cu(32),M=0,D=0,S=s.i||0,T=0,B=s.w||0,R=0;S+2<o;++S){var U=v(S),k=32767&S,q=m[U];if(p[k]=q,m[U]=k,B<=S){var O=o-S;if((M>7e3||T>24576)&&(O>423||!c)){u=Hk(n,l,0,_,C,b,D,T,R,S-R,u),T=M=D=0,R=S;for(var P=0;P<286;++P)C[P]=0;for(P=0;P<30;++P)b[P]=0}var G=2,H=0,ae=h,ve=k-q&32767;if(O>2&&U==v(S-ve))for(var Q=Math.min(f,O)-1,j=Math.min(32767,S),K=Math.min(258,O);ve<=j&&--ae&&k!=q;){if(n[S+G]==n[S+G-ve]){for(var oe=0;oe<K&&n[S+oe]==n[S+oe-ve];++oe);if(oe>G){if(G=oe,H=ve,oe>Q)break;var se=Math.min(ve,oe-2),le=0;for(P=0;P<se;++P){var te=S-ve+P&32767,Ae=te-p[te]&32767;Ae>le&&(le=Ae,q=te)}}}ve+=(k=q)-(q=p[k])&32767}if(H){_[T++]=268435456|BN[G]<<18|Lk[H];var Ee=31&BN[G],ge=31&Lk[H];D+=ib[Ee]+sb[ge],++C[257+Ee],++b[ge],B=S+G,++M}else _[T++]=n[S],++C[n[S]]}}for(S=Math.max(S,B);S<o;++S)_[T++]=n[S],++C[n[S]];u=Hk(n,l,c,_,C,b,D,T,R,S-R,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=m,s.p=p,s.i=S,s.w=B)}else{for(S=s.w||0;S<o+c;S+=65535){var Se=S+65535;Se>=o&&(l[u/8|0]=c,Se=o),u=kk(l,u+1,n.subarray(S,Se))}s.i=o}return Mm(a,0,r+jS(u)+i)}(n,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):20:12+e.mem,t,r,i)},Oo=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};function WS(n,e){e||(e={});var t=Qk();t.p(n);var r=LN(n,e,e.dictionary?6:2,4);return function(n,e){var t=e.level,r=0==t?0:t<6?1:9==t?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=Qk();i.p(e.dictionary),Oo(n,2,i.d())}}(r,e),Oo(r,r.length-4,t.d()),r}function VN(n,e){return function(n,e,t,r){var i=n.length,s=r?r.length:0;if(!i||e.f&&!e.l)return t||new qs(0);var o=!t,a=o||2!=e.i,l=e.i;o&&(t=new qs(3*i));var c=function(Ee){var ge=t.length;if(Ee>ge){var Se=new qs(Math.max(2*ge,Ee));Se.set(t),t=Se}},u=e.f||0,d=e.p||0,f=e.b||0,h=e.l,A=e.d,p=e.m,m=e.n,g=8*i;do{if(!h){u=lh(n,d,1);var y=lh(n,d+1,3);if(d+=3,!y){var _=n[(v=jS(d)+4)-4]|n[v-3]<<8,C=v+_;if(C>i){l&&os(0);break}a&&c(f+_),t.set(n.subarray(v,C),f),e.b=f+=_,e.p=d=8*C,e.f=u;continue}if(1==y)h=XJ,A=JJ,p=9,m=5;else if(2==y){var b=lh(n,d,31)+257,M=lh(n,d+10,15)+4,D=b+lh(n,d+5,31)+1;d+=14;for(var S=new qs(D),T=new qs(19),B=0;B<M;++B)T[zS[B]]=lh(n,d+3*B,7);d+=3*M;var R=NN(T),U=(1<<R)-1,k=ah(T,R,1);for(B=0;B<D;){var v,q=k[lh(n,d,U)];if(d+=15&q,(v=q>>4)<16)S[B++]=v;else{var O=0,P=0;for(16==v?(P=3+lh(n,d,3),d+=2,O=S[B-1]):17==v?(P=3+lh(n,d,7),d+=3):18==v&&(P=11+lh(n,d,127),d+=7);P--;)S[B++]=O}}var G=S.subarray(0,b),H=S.subarray(b);p=NN(G),m=NN(H),h=ah(G,p,1),A=ah(H,m,1)}else os(1);if(d>g){l&&os(0);break}}a&&c(f+131072);for(var ae=(1<<p)-1,ve=(1<<m)-1,Q=d;;Q=d){var j=(O=h[IN(n,d)&ae])>>4;if((d+=15&O)>g){l&&os(0);break}if(O||os(2),j<256)t[f++]=j;else{if(256==j){Q=d,h=null;break}var K=j-254;j>264&&(K=lh(n,d,(1<<(oe=ib[B=j-257]))-1)+Pk[B],d+=oe);var se=A[IN(n,d)&ve],le=se>>4;if(se||os(3),d+=15&se,H=$J[le],le>3){var oe=sb[le];H+=IN(n,d)&(1<<oe)-1,d+=oe}if(d>g){l&&os(0);break}a&&c(f+131072);var te=f+K;if(f<H){var ee=s-H,Ae=Math.min(H,te);for(ee+f<0&&os(3);f<Ae;++f)t[f]=r[ee+f]}for(;f<te;++f)t[f]=t[f-H]}}e.l=h,e.p=Q,e.b=f,e.f=u,h&&(u=1,e.m=p,e.d=A,e.n=m)}while(!u);return f!=t.length&&o?Mm(t,0,f):t.subarray(0,f)}(n.subarray(function(n,e){return(8!=(15&n[0])||n[0]>>4>7||(n[0]<<8|n[1])%31)&&os(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&os(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4)}(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var Kk=typeof TextDecoder<"u"&&new TextDecoder;try{Kk.decode(Vk,{stream:!0})}catch{}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Mr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Xk(){Mr.console&&"function"==typeof Mr.console.log&&Mr.console.log.apply(Mr.console,arguments)}var ho={log:Xk,warn:function(n){Mr.console&&("function"==typeof Mr.console.warn?Mr.console.warn.apply(Mr.console,arguments):Xk.call(null,arguments))},error:function(n){Mr.console&&("function"==typeof Mr.console.error?Mr.console.error.apply(Mr.console,arguments):Xk(n))}};function Yk(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){G0(r.response,e,t)},r.onerror=function(){ho.error("could not download file")},r.send()}function mZ(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function jN(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var KS,Jk,G0=Mr.saveAs||("object"!==(typeof window>"u"?"undefined":(0,uo.A)(window))||window!==Mr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Mr.URL||Mr.webkitURL,i=document.createElement("a");i.download=e=e||n.name||"download",i.rel="noopener","string"==typeof n?(i.href=n,i.origin!==location.origin?mZ(i.href)?Yk(n,e,t):jN(i,i.target="_blank"):jN(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){jN(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(mZ(n))Yk(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){jN(r)})}else navigator.msSaveOrOpenBlob((i=n,void 0===(s=t)?s={autoBom:!1}:"object"!==(0,uo.A)(s)&&(ho.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i),e);var i,s}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof n)return Yk(n,e,t);var i="application/octet-stream"===n.type,s=/constructor/i.test(Mr.HTMLElement)||Mr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&"object"===(typeof FileReader>"u"?"undefined":(0,uo.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Mr.URL||Mr.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function vZ(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var s=t[r].process,o=t[r].re.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==c.length&&(c="0"+c),"#"+a+l+c}}function Zk(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Dc(t,r,i,s,e[0],7,-680876936),s=Dc(s,t,r,i,e[1],12,-389564586),i=Dc(i,s,t,r,e[2],17,606105819),r=Dc(r,i,s,t,e[3],22,-1044525330),t=Dc(t,r,i,s,e[4],7,-176418897),s=Dc(s,t,r,i,e[5],12,1200080426),i=Dc(i,s,t,r,e[6],17,-1473231341),r=Dc(r,i,s,t,e[7],22,-45705983),t=Dc(t,r,i,s,e[8],7,1770035416),s=Dc(s,t,r,i,e[9],12,-1958414417),i=Dc(i,s,t,r,e[10],17,-42063),r=Dc(r,i,s,t,e[11],22,-1990404162),t=Dc(t,r,i,s,e[12],7,1804603682),s=Dc(s,t,r,i,e[13],12,-40341101),i=Dc(i,s,t,r,e[14],17,-1502002290),t=Mc(t,r=Dc(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Mc(s,t,r,i,e[6],9,-1069501632),i=Mc(i,s,t,r,e[11],14,643717713),r=Mc(r,i,s,t,e[0],20,-373897302),t=Mc(t,r,i,s,e[5],5,-701558691),s=Mc(s,t,r,i,e[10],9,38016083),i=Mc(i,s,t,r,e[15],14,-660478335),r=Mc(r,i,s,t,e[4],20,-405537848),t=Mc(t,r,i,s,e[9],5,568446438),s=Mc(s,t,r,i,e[14],9,-1019803690),i=Mc(i,s,t,r,e[3],14,-187363961),r=Mc(r,i,s,t,e[8],20,1163531501),t=Mc(t,r,i,s,e[13],5,-1444681467),s=Mc(s,t,r,i,e[2],9,-51403784),i=Mc(i,s,t,r,e[7],14,1735328473),t=Tc(t,r=Mc(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Tc(s,t,r,i,e[8],11,-2022574463),i=Tc(i,s,t,r,e[11],16,1839030562),r=Tc(r,i,s,t,e[14],23,-35309556),t=Tc(t,r,i,s,e[1],4,-1530992060),s=Tc(s,t,r,i,e[4],11,1272893353),i=Tc(i,s,t,r,e[7],16,-155497632),r=Tc(r,i,s,t,e[10],23,-1094730640),t=Tc(t,r,i,s,e[13],4,681279174),s=Tc(s,t,r,i,e[0],11,-358537222),i=Tc(i,s,t,r,e[3],16,-722521979),r=Tc(r,i,s,t,e[6],23,76029189),t=Tc(t,r,i,s,e[9],4,-640364487),s=Tc(s,t,r,i,e[12],11,-421815835),i=Tc(i,s,t,r,e[15],16,530742520),t=Bc(t,r=Tc(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Bc(s,t,r,i,e[7],10,1126891415),i=Bc(i,s,t,r,e[14],15,-1416354905),r=Bc(r,i,s,t,e[5],21,-57434055),t=Bc(t,r,i,s,e[12],6,1700485571),s=Bc(s,t,r,i,e[3],10,-1894986606),i=Bc(i,s,t,r,e[10],15,-1051523),r=Bc(r,i,s,t,e[1],21,-2054922799),t=Bc(t,r,i,s,e[8],6,1873313359),s=Bc(s,t,r,i,e[15],10,-30611744),i=Bc(i,s,t,r,e[6],15,-1560198380),r=Bc(r,i,s,t,e[13],21,1309151649),t=Bc(t,r,i,s,e[4],6,-145523070),s=Bc(s,t,r,i,e[11],10,-1120210379),i=Bc(i,s,t,r,e[2],15,718787259),r=Bc(r,i,s,t,e[9],21,-343485551),n[0]=Bm(t,n[0]),n[1]=Bm(r,n[1]),n[2]=Bm(i,n[2]),n[3]=Bm(s,n[3])}function qN(n,e,t,r,i,s){return e=Bm(Bm(e,n),Bm(r,s)),Bm(e<<i|e>>>32-i,t)}function Dc(n,e,t,r,i,s,o){return qN(e&t|~e&r,n,e,i,s,o)}function Mc(n,e,t,r,i,s,o){return qN(e&r|t&~r,n,e,i,s,o)}function Tc(n,e,t,r,i,s,o){return qN(e^t^r,n,e,i,s,o)}function Bc(n,e,t,r,i,s,o){return qN(t^(e|~r),n,e,i,s,o)}function yZ(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Zk(r,jFe(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Zk(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Zk(r,i),r}function jFe(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}KS=Mr.atob.bind(Mr),Jk=Mr.btoa.bind(Mr);var _Z="0123456789abcdef".split("");function qFe(n){for(var e="",t=0;t<4;t++)e+=_Z[n>>8*t+4&15]+_Z[n>>8*t&15];return e}function WFe(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function e8(n){return yZ(n).map(WFe).join("")}var $Fe="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=qFe(n[e]);return n.join("")}(yZ("hello"));function Bm(n,e){if($Fe){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function t8(n,e){var t,r,i;if(n!==t){for(var o=(i=n,new Array(1+(256/n.length|0)+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var d=e.length,f=0,h=0,A="";for(l=0;l<d;l++)h=(h+(u=a[f=(f+1)%256]))%256,a[f]=a[h],a[h]=u,o=a[(a[f]+a[h])%256],A+=String.fromCharCode(e.charCodeAt(l)^o);return A}var bZ={print:4,modify:8,copy:16,"annot-forms":32};function ub(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(void 0!==bZ.perm)throw new Error("Invalid permission: "+a);i+=bZ[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=e8(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=t8(this.encryptionKey,this.padding)}function db(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function wZ(n){if("object"!==(0,uo.A)(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){Mr.console&&ho.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function WN(n){if(!(this instanceof WN))return new WN(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function CZ(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function j0(n,e,t,r,i){if(!(this instanceof j0))return new j0(n,e,t,r,i);this.type="axial"===n?2:3,this.coords=e,this.colors=t,CZ.call(this,r,i)}function hb(n,e,t,r,i){if(!(this instanceof hb))return new hb(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,CZ.call(this,r,i)}function Er(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;"object"===(0,uo.A)(n=n||{})&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,null!==(u=n.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(!0===s?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=wZ;var A="1.3",p=h.__private__.getPdfVersion=function(){return A};h.__private__.setPdfVersion=function(L){A=L};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return m};var g=h.__private__.getPageFormat=function(L){return m[L]};i=i||"a4";var v="compat";function _(){this.saveGraphicsState(),W(new nr(ot,0,0,-ot,0,nv()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),c="n",v="advanced"}function C(){this.restoreGraphicsState(),c="S",v="compat"}var b=h.__private__.combineFontStyleAndFontWeight=function(L,de){if("bold"==L&&"normal"==de||"bold"==L&&400==de||"normal"==L&&"italic"==de||"bold"==L&&"italic"==de)throw new Error("Invalid Combination of fontweight and fontstyle");return de&&(L=400==de||"normal"===de?"italic"===L?"italic":"normal":700!=de&&"bold"!==de||"normal"!==L?(700==de?"bold":de)+""+L:"bold"),L};h.advancedAPI=function(L){var de="compat"===v;return de&&_.call(this),"function"!=typeof L||(L(this),de&&C.call(this)),this},h.compatAPI=function(L){var de="advanced"===v;return de&&C.call(this),"function"!=typeof L||(L(this),de&&_.call(this)),this},h.isAdvancedAPI=function(){return"advanced"===v};var M,D=function(L){if("advanced"!==v)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=h.roundToPrecision=h.__private__.roundToPrecision=function(L,de){var Le=e||de;if(isNaN(L)||isNaN(Le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Le).replace(/0+$/,"")};M=h.hpf=h.__private__.hpf="number"==typeof l?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,l)}:"smart"===l?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,16)};var T=h.f2=h.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return S(L,2)},B=h.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return S(L,3)},R=h.scale=h.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===v?L*ot:"advanced"===v?L:void 0},k=function(L){return R(function(L){return"compat"===v?nv()-L:"advanced"===v?L:void 0}(L))};h.__private__.setPrecision=h.setPrecision=function(L){"number"==typeof parseInt(L,10)&&(e=parseInt(L,10))};var q,O="00000000000000000000000000000000",P=h.__private__.getFileId=function(){return O},G=h.__private__.setFileId=function(L){return O=void 0!==L&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():O.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(Hc=new ub(u.userPermissions,u.userPassword,u.ownerPassword,O)),O};h.setFileId=function(L){return G(L),this},h.getFileId=function(){return P()};var H=h.__private__.convertDateToPDFDate=function(L){var de=L.getTimezoneOffset(),Le=de<0?"+":"-",je=Math.floor(Math.abs(de/60)),at=Math.abs(de%60),Ft=[Le,K(je),"'",K(at),"'"].join("");return["D:",L.getFullYear(),K(L.getMonth()+1),K(L.getDate()),K(L.getHours()),K(L.getMinutes()),K(L.getSeconds()),Ft].join("")},ae=h.__private__.convertPDFDateToDate=function(L){var de=parseInt(L.substr(2,4),10),Le=parseInt(L.substr(6,2),10)-1,je=parseInt(L.substr(8,2),10),at=parseInt(L.substr(10,2),10),Ft=parseInt(L.substr(12,2),10),nn=parseInt(L.substr(14,2),10);return new Date(de,Le,je,at,Ft,nn,0)},ve=h.__private__.setCreationDate=function(L){var de;if(void 0===L&&(L=new Date),L instanceof Date)de=H(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");de=L}return q=de},Q=h.__private__.getCreationDate=function(L){var de=q;return"jsDate"===L&&(de=ae(q)),de};h.setCreationDate=function(L){return ve(L),this},h.getCreationDate=function(L){return Q(L)};var j,K=h.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},oe=h.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},se=0,le=[],te=[],ee=0,Ae=[],Ee=[],ge=!1,Se=te;h.__private__.setCustomOutputDestination=function(L){ge=!0,Se=L};var Y=function(L){ge||(Se=L)};h.__private__.resetCustomOutputDestination=function(){ge=!1,Se=te};var W=h.__private__.out=function(L){return L=L.toString(),ee+=L.length+1,Se.push(L),Se},Be=h.__private__.write=function(L){return W(1===arguments.length?L.toString():Array.prototype.join.call(arguments," "))},Ce=h.__private__.getArrayBuffer=function(L){for(var de=L.length,Le=new ArrayBuffer(de),je=new Uint8Array(Le);de--;)je[de]=L.charCodeAt(de);return Le},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Pe};var Oe=n.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(L){return Oe="advanced"===v?L/ot:L,this};var re,J=h.__private__.getFontSize=h.getFontSize=function(){return"compat"===v?Oe:Oe*ot},Ue=n.R2L||!1;h.__private__.setR2L=h.setR2L=function(L){return Ue=L,this},h.__private__.getR2L=h.getR2L=function(){return Ue};var Qe,it=h.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))re=L;else if(isNaN(L)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');re=L}else re=parseInt(L,10)};h.__private__.getZoomMode=function(){return re};var Ye,Vt=h.__private__.setPageMode=function(L){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Qe=L};h.__private__.getPageMode=function(){return Qe};var kt=h.__private__.setLayoutMode=function(L){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Ye=L};h.__private__.getLayoutMode=function(){return Ye},h.__private__.setDisplayMode=h.setDisplayMode=function(L,de,Le){return it(L),kt(de),Vt(Le),this};var Ot={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(L){if(-1===Object.keys(Ot).indexOf(L))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ot[L]},h.__private__.getDocumentProperties=function(){return Ot},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(L){for(var de in Ot)Ot.hasOwnProperty(de)&&L[de]&&(Ot[de]=L[de]);return this},h.__private__.setDocumentProperty=function(L,de){if(-1===Object.keys(Ot).indexOf(L))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ot[L]=de};var En,ot,wn,vn,Sn,an={},$={},Fe=[],Xe={},Ne={},xt={},rt={},It=null,fn=0,Wt=[],Hn=new wZ(h),zs=n.hotfixes||[],ls={},Si={},ca=[],nr=function L(de,Le,je,at,Ft,nn){if(!(this instanceof L))return new L(de,Le,je,at,Ft,nn);isNaN(de)&&(de=1),isNaN(Le)&&(Le=0),isNaN(je)&&(je=0),isNaN(at)&&(at=1),isNaN(Ft)&&(Ft=0),isNaN(nn)&&(nn=0),this._matrix=[de,Le,je,at,Ft,nn]};Object.defineProperty(nr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(nr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(nr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(nr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(nr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(nr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(nr.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(nr.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(nr.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(nr.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(nr.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(nr.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(nr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nr.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),nr.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(L)},nr.prototype.multiply=function(L){return new nr(L.sx*this.sx+L.shy*this.shx,L.sx*this.shy+L.shy*this.sy,L.shx*this.sx+L.sy*this.shx,L.shx*this.shy+L.sy*this.sy,L.tx*this.sx+L.ty*this.shx+this.tx,L.tx*this.shy+L.ty*this.sy+this.ty)},nr.prototype.decompose=function(){var L=this.sx,de=this.shy,Le=this.shx,je=this.sy,at=this.tx,Ft=this.ty,nn=Math.sqrt(L*L+de*de),Vn=(L/=nn)*Le+(de/=nn)*je;Le-=L*Vn,je-=de*Vn;var dr=Math.sqrt(Le*Le+je*je);return Vn/=dr,L*(je/=dr)<de*(Le/=dr)&&(L=-L,de=-de,Vn=-Vn,nn=-nn),{scale:new nr(nn,0,0,dr,0,0),translate:new nr(1,0,0,1,at,Ft),rotate:new nr(L,de,-de,L,0,0),skew:new nr(1,0,Vn,1,0,0)}},nr.prototype.toString=function(L){return this.join(" ")},nr.prototype.inversed=function(){var L=this.sx,de=this.shy,Le=this.shx,je=this.sy,at=this.tx,Ft=this.ty,nn=1/(L*je-de*Le),Vn=je*nn,dr=-de*nn,li=-Le*nn,ii=L*nn;return new nr(Vn,dr,li,ii,-Vn*at-li*Ft,-dr*at-ii*Ft)},nr.prototype.applyToPoint=function(L){return new fw(L.x*this.sx+L.y*this.shx+this.tx,L.x*this.shy+L.y*this.sy+this.ty)},nr.prototype.applyToRectangle=function(L){var de=this.applyToPoint(L),Le=this.applyToPoint(new fw(L.x+L.w,L.y+L.h));return new Wx(de.x,de.y,Le.x-de.x,Le.y-de.y)},nr.prototype.clone=function(){return new nr(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},h.Matrix=nr;var Ju=h.matrixMult=function(L,de){return de.multiply(L)},Pd=new nr(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Pd;var ua=function(L,de){if(!Ne[L]){var Le=(de instanceof j0?"Sh":"P")+(Object.keys(Xe).length+1).toString(10);de.id=Le,Ne[L]=Le,Xe[Le]=de,Hn.publish("addPattern",de)}};h.ShadingPattern=j0,h.TilingPattern=hb,h.addShadingPattern=function(L,de){return D("addShadingPattern()"),ua(L,de),this},h.beginTilingPattern=function(L){D("beginTilingPattern()"),lR(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},h.endTilingPattern=function(L,de){D("endTilingPattern()"),de.stream=Ee[j].join("\n"),ua(L,de),Hn.publish("endTilingPattern",de),ca.pop().restore()};var L,Yo=h.__private__.newObject=function(){var L=Jo();return Lc(L,!0),L},Jo=h.__private__.newObjectDeferred=function(){return se++,le[se]=function(){return ee},se},Lc=function(L,de){return de="boolean"==typeof de&&de,le[L]=ee,de&&W(L+" 0 obj"),L},Ff=h.__private__.newAdditionalObject=function(){var L={objId:Jo(),content:""};return Ae.push(L),L},wh=Jo(),Uc=Jo(),Zu=h.__private__.decodeColorString=function(L){var de=L.split(" ");if(2!==de.length||"g"!==de[1]&&"G"!==de[1])5===de.length&&("k"===de[4]||"K"===de[4])&&(de=[(1-de[0])*(1-de[3]),(1-de[1])*(1-de[3]),(1-de[2])*(1-de[3]),"r"]);else{var Le=parseFloat(de[0]);de=[Le,Le,Le,"r"]}for(var je="#",at=0;at<3;at++)je+=("0"+Math.floor(255*parseFloat(de[at])).toString(16)).slice(-2);return je},ed=h.__private__.encodeColorString=function(L){var de;"string"==typeof L&&(L={ch1:L});var Le=L.ch1,je=L.ch2,at=L.ch3,Ft=L.ch4,nn="draw"===L.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Le&&"#"!==Le.charAt(0)){var Vn=new vZ(Le);if(Vn.ok)Le=Vn.toHex();else if(!/^\d*\.?\d*$/.test(Le))throw new Error('Invalid color "'+Le+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Le&&/^#[0-9A-Fa-f]{3}$/.test(Le)&&(Le="#"+Le[1]+Le[1]+Le[2]+Le[2]+Le[3]+Le[3]),"string"==typeof Le&&/^#[0-9A-Fa-f]{6}$/.test(Le)){var dr=parseInt(Le.substr(1),16);Le=dr>>16&255,je=dr>>8&255,at=255&dr}if(void 0===je||void 0===Ft&&Le===je&&je===at)de="string"==typeof Le?Le+" "+nn[0]:2===L.precision?T(Le/255)+" "+nn[0]:B(Le/255)+" "+nn[0];else if(void 0===Ft||"object"===(0,uo.A)(Ft)){if(Ft&&!isNaN(Ft.a)&&0===Ft.a)return["1.","1.","1.",nn[1]].join(" ");de="string"==typeof Le?[Le,je,at,nn[1]].join(" "):2===L.precision?[T(Le/255),T(je/255),T(at/255),nn[1]].join(" "):[B(Le/255),B(je/255),B(at/255),nn[1]].join(" ")}else de="string"==typeof Le?[Le,je,at,Ft,nn[2]].join(" "):2===L.precision?[T(Le),T(je),T(at),T(Ft),nn[2]].join(" "):[B(Le),B(je),B(at),B(Ft),nn[2]].join(" ");return de},Ch=h.__private__.getFilters=function(){return o},td=h.__private__.putStream=function(L){var de=(L=L||{}).data||"",Le=L.filters||Ch(),je=L.alreadyAppliedFilters||[],at=L.addLength1||!1,Ft=de.length,nn=L.objectId,Vn=function(Vc){return Vc};if(null!==u&&void 0===nn)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(Vn=Hc.encryptor(nn,0));var dr={};!0===Le&&(Le=["FlateEncode"]);var li=L.additionalKeyValues||[],ii=(dr=void 0!==Er.API.processDataByFilters?Er.API.processDataByFilters(de,Le):{data:de,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(0!==dr.data.length&&(li.push({key:"Length",value:dr.data.length}),!0===at&&li.push({key:"Length1",value:Ft})),0!=ii.length)if(ii.split("/").length-1==1)li.push({key:"Filter",value:ii});else{li.push({key:"Filter",value:"["+ii+"]"});for(var cs=0;cs<li.length;cs+=1)if("DecodeParms"===li[cs].key){for(var Zo=[],ha=0;ha<dr.reverseChain.split("/").length-1;ha+=1)Zo.push("null");Zo.push(li[cs].value),li[cs].value="["+Zo.join(" ")+"]"}}W("<<");for(var Ga=0;Ga<li.length;Ga++)W("/"+li[Ga].key+" "+li[Ga].value);W(">>"),0!==dr.data.length&&(W("stream"),W(Vn(dr.data)),W("endstream"))},Eh=h.__private__.putPage=function(L){var de=L.number,Le=L.data,je=L.objId,at=L.contentsObjId;Lc(je,!0),W("<</Type /Page"),W("/Parent "+L.rootDictionaryObjId+" 0 R"),W("/Resources "+L.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(M(L.mediaBox.bottomLeftX))+" "+parseFloat(M(L.mediaBox.bottomLeftY))+" "+M(L.mediaBox.topRightX)+" "+M(L.mediaBox.topRightY)+"]"),null!==L.cropBox&&W("/CropBox ["+M(L.cropBox.bottomLeftX)+" "+M(L.cropBox.bottomLeftY)+" "+M(L.cropBox.topRightX)+" "+M(L.cropBox.topRightY)+"]"),null!==L.bleedBox&&W("/BleedBox ["+M(L.bleedBox.bottomLeftX)+" "+M(L.bleedBox.bottomLeftY)+" "+M(L.bleedBox.topRightX)+" "+M(L.bleedBox.topRightY)+"]"),null!==L.trimBox&&W("/TrimBox ["+M(L.trimBox.bottomLeftX)+" "+M(L.trimBox.bottomLeftY)+" "+M(L.trimBox.topRightX)+" "+M(L.trimBox.topRightY)+"]"),null!==L.artBox&&W("/ArtBox ["+M(L.artBox.bottomLeftX)+" "+M(L.artBox.bottomLeftY)+" "+M(L.artBox.topRightX)+" "+M(L.artBox.topRightY)+"]"),"number"==typeof L.userUnit&&1!==L.userUnit&&W("/UserUnit "+L.userUnit),Hn.publish("putPage",{objId:je,pageContext:Wt[de],pageNumber:de,page:Le}),W("/Contents "+at+" 0 R"),W(">>"),W("endobj");var Ft=Le.join("\n");return"advanced"===v&&(Ft+="\nQ"),Lc(at,!0),td({data:Ft,filters:Ch(),objectId:at}),W("endobj"),je},ng=h.__private__.putPages=function(){var L,de,Le=[];for(L=1;L<=fn;L++)Wt[L].objId=Jo(),Wt[L].contentsObjId=Jo();for(L=1;L<=fn;L++)Le.push(Eh({number:L,data:Ee[L],objId:Wt[L].objId,contentsObjId:Wt[L].contentsObjId,mediaBox:Wt[L].mediaBox,cropBox:Wt[L].cropBox,bleedBox:Wt[L].bleedBox,trimBox:Wt[L].trimBox,artBox:Wt[L].artBox,userUnit:Wt[L].userUnit,rootDictionaryObjId:wh,resourceDictionaryObjId:Uc}));Lc(wh,!0),W("<</Type /Pages");var je="/Kids [";for(de=0;de<fn;de++)je+=Le[de]+" 0 R ";W(je+"]"),W("/Count "+fn),W(">>"),W("endobj"),Hn.publish("postPutPages")},Jm=function(L){Hn.publish("putFont",{font:L,out:W,newObject:Yo,putStream:td}),!0!==L.isAlreadyPutted&&(L.objectNumber=Yo(),W("<<"),W("/Type /Font"),W("/BaseFont /"+db(L.postScriptName)),W("/Subtype /Type1"),"string"==typeof L.encoding&&W("/Encoding /"+L.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},tt=function(L){L.objectNumber=Yo();var de=[];de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Form"}),de.push({key:"BBox",value:"["+[M(L.x),M(L.y),M(L.x+L.width),M(L.y+L.height)].join(" ")+"]"}),de.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Le=L.pages[1].join("\n");td({data:Le,additionalKeyValues:de,objectId:L.objectNumber}),W("endobj")},st=function(L,de){de||(de=21);var Le=Yo(),je=function(L,de){var Le,je=[],at=1/(de-1);for(Le=0;Le<1;Le+=at)je.push(Le);je.push(1),0!=L[0].offset&&L.unshift({offset:0,color:L[0].color}),1!=L[L.length-1].offset&&L.push({offset:1,color:L[L.length-1].color});for(var Vn="",dr=0,li=0;li<je.length;li++){for(Le=je[li];Le>L[dr+1].offset;)dr++;var ii=L[dr].offset,cs=(Le-ii)/(L[dr+1].offset-ii),Zo=L[dr].color,ha=L[dr+1].color;Vn+=oe(Math.round((1-cs)*Zo[0]+cs*ha[0]).toString(16))+oe(Math.round((1-cs)*Zo[1]+cs*ha[1]).toString(16))+oe(Math.round((1-cs)*Zo[2]+cs*ha[2]).toString(16))}return Vn.trim()}(L.colors,de),at=[];at.push({key:"FunctionType",value:"0"}),at.push({key:"Domain",value:"[0.0 1.0]"}),at.push({key:"Size",value:"["+de+"]"}),at.push({key:"BitsPerSample",value:"8"}),at.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),td({data:je,additionalKeyValues:at,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Le}),W("endobj"),L.objectNumber=Yo(),W("<< /ShadingType "+L.type),W("/ColorSpace /DeviceRGB");var Ft="/Coords ["+M(parseFloat(L.coords[0]))+" "+M(parseFloat(L.coords[1]))+" ";Ft+=2===L.type?M(parseFloat(L.coords[2]))+" "+M(parseFloat(L.coords[3])):M(parseFloat(L.coords[2]))+" "+M(parseFloat(L.coords[3]))+" "+M(parseFloat(L.coords[4]))+" "+M(parseFloat(L.coords[5])),W(Ft+="]"),L.matrix&&W("/Matrix ["+L.matrix.toString()+"]"),W("/Function "+Le+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},dn=function(L,de){var Le=Jo(),je=Yo();de.push({resourcesOid:Le,objectOid:je}),L.objectNumber=je;var at=[];at.push({key:"Type",value:"/Pattern"}),at.push({key:"PatternType",value:"1"}),at.push({key:"PaintType",value:"1"}),at.push({key:"TilingType",value:"1"}),at.push({key:"BBox",value:"["+L.boundingBox.map(M).join(" ")+"]"}),at.push({key:"XStep",value:M(L.xStep)}),at.push({key:"YStep",value:M(L.yStep)}),at.push({key:"Resources",value:Le+" 0 R"}),L.matrix&&at.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),td({data:L.stream,additionalKeyValues:at,objectId:L.objectNumber}),W("endobj")},jn=function(L){for(var de in L.objectNumber=Yo(),W("<<"),L)switch(de){case"opacity":W("/ca "+T(L[de]));break;case"stroke-opacity":W("/CA "+T(L[de]))}W(">>"),W("endobj")},ri=function(L){Lc(L.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var L in W("/Font <<"),an)an.hasOwnProperty(L)&&(!1===d||!0===d&&f.hasOwnProperty(L))&&W("/"+L+" "+an[L].objectNumber+" 0 R");W(">>")}(),function(){if(Object.keys(Xe).length>0){for(var L in W("/Shading <<"),Xe)Xe.hasOwnProperty(L)&&Xe[L]instanceof j0&&Xe[L].objectNumber>=0&&W("/"+L+" "+Xe[L].objectNumber+" 0 R");Hn.publish("putShadingPatternDict"),W(">>")}}(),function(L){if(Object.keys(Xe).length>0){for(var de in W("/Pattern <<"),Xe)Xe.hasOwnProperty(de)&&Xe[de]instanceof h.TilingPattern&&Xe[de].objectNumber>=0&&Xe[de].objectNumber<L&&W("/"+de+" "+Xe[de].objectNumber+" 0 R");Hn.publish("putTilingPatternDict"),W(">>")}}(L.objectOid),function(){if(Object.keys(xt).length>0){var L;for(L in W("/ExtGState <<"),xt)xt.hasOwnProperty(L)&&xt[L].objectNumber>=0&&W("/"+L+" "+xt[L].objectNumber+" 0 R");Hn.publish("putGStateDict"),W(">>")}}(),function(){for(var L in W("/XObject <<"),ls)ls.hasOwnProperty(L)&&ls[L].objectNumber>=0&&W("/"+L+" "+ls[L].objectNumber+" 0 R");Hn.publish("putXobjectDict"),W(">>")}(),W(">>"),W("endobj")},da=function(L){$[L.fontName]=$[L.fontName]||{},$[L.fontName][L.fontStyle]=L.id},$i=function(L,de,Le,je,at){var Ft={id:"F"+(Object.keys(an).length+1).toString(10),postScriptName:L,fontName:de,fontStyle:Le,encoding:je,isStandardFont:at||!1,metadata:{}};return Hn.publish("addFont",{font:Ft,instance:this}),an[Ft.id]=Ft,da(Ft),Ft.id},Qa=h.__private__.pdfEscape=h.pdfEscape=function(L,de){return function(L,de){var Le,je,at,Ft,nn,Vn,dr,li,ii;if(at=(de=de||{}).sourceEncoding||"Unicode",nn=de.outputEncoding,(de.autoencode||nn)&&an[En].metadata&&an[En].metadata[at]&&an[En].metadata[at].encoding&&(Ft=an[En].metadata[at].encoding,!nn&&an[En].encoding&&(nn=an[En].encoding),!nn&&Ft.codePages&&(nn=Ft.codePages[0]),"string"==typeof nn&&(nn=Ft[nn]),nn)){for(dr=!1,Vn=[],Le=0,je=L.length;Le<je;Le++)(li=nn[L.charCodeAt(Le)])?Vn.push(String.fromCharCode(li)):Vn.push(L[Le]),Vn[Le].charCodeAt(0)>>8&&(dr=!0);L=Vn.join("")}for(Le=L.length;void 0===dr&&0!==Le;)L.charCodeAt(Le-1)>>8&&(dr=!0),Le--;if(!dr)return L;for(Vn=de.noBOM?[]:[254,255],Le=0,je=L.length;Le<je;Le++){if((ii=(li=L.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vn.push(ii),Vn.push(li-(ii<<8))}return String.fromCharCode.apply(void 0,Vn)}(L,de).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gs=h.__private__.beginPage=function(L){Ee[++fn]=[],Wt[fn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},za(fn),Y(Ee[j])},uc=function(L,de){var Le,je,at;switch(t=de||t,"string"==typeof L&&(Le=g(L.toLowerCase()),Array.isArray(Le)&&(je=Le[0],at=Le[1])),Array.isArray(L)&&(je=L[0]*ot,at=L[1]*ot),isNaN(je)&&(je=i[0],at=i[1]),(je>14400||at>14400)&&(ho.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),at=Math.min(14400,at)),i=[je,at],t.substr(0,1)){case"l":at>je&&(i=[at,je]);break;case"p":je>at&&(i=[at,je])}Gs(i),rR(zx),W(Of),0!==jx&&W(jx+" J"),0!==qx&&W(qx+" j"),Hn.publish("addPage",{pageNumber:fn})},kc=function(L){L>0&&L<=fn&&(Ee.splice(L,1),Wt.splice(L,1),fn--,j>fn&&(j=fn),this.setPage(j))},za=function(L){L>0&&L<=fn&&(j=L)},Pl=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ee.length-1},Zm=function(L,de,Le){var je,at=void 0;return Le=Le||{},de=void 0!==de?de:an[En].fontStyle,je=(L=void 0!==L?L:an[En].fontName).toLowerCase(),void 0!==$[je]&&void 0!==$[je][de]?at=$[je][de]:void 0!==$[L]&&void 0!==$[L][de]?at=$[L][de]:!1===Le.disableWarning&&ho.warn("Unable to look up font label for font '"+L+"', '"+de+"'. Refer to getFontList() for available fonts."),at||Le.noFallback||null==(at=$.times[de])&&(at=$.times.normal),at},Rf=h.__private__.putInfo=function(){var L=Yo(),de=function(je){return je};for(var Le in null!==u&&(de=Hc.encryptor(L,0)),W("<<"),W("/Producer ("+Qa(de("jsPDF "+Er.version))+")"),Ot)Ot.hasOwnProperty(Le)&&Ot[Le]&&W("/"+Le.substr(0,1).toUpperCase()+Le.substr(1)+" ("+Qa(de(Ot[Le]))+")");W("/CreationDate ("+Qa(de(q))+")"),W(">>"),W("endobj")},Hx=h.__private__.putCatalog=function(L){var de=(L=L||{}).rootDictionaryObjId||wh;switch(Yo(),W("<<"),W("/Type /Catalog"),W("/Pages "+de+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Le=""+re;"%"===Le.substr(Le.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&W("/OpenAction [3 0 R /XYZ null null "+T(re)+"]")}switch(Ye||(Ye="continuous"),Ye){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}Qe&&W("/PageMode /"+Qe),Hn.publish("putCatalog"),W(">>"),W("endobj")},z6=h.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(se+1)),W("/Root "+se+" 0 R"),W("/Info "+(se-1)+" 0 R"),null!==u&&W("/Encrypt "+Hc.oid+" 0 R"),W("/ID [ <"+O+"> <"+O+"> ]"),W(">>")},G6=h.__private__.putHeader=function(){W("%PDF-"+A),W("%\xba\xdf\xac\xe0")},j6=h.__private__.putXRef=function(){var L="0000000000";W("xref"),W("0 "+(se+1)),W("0000000000 65535 f ");for(var de=1;de<=se;de++)W("function"==typeof le[de]?(L+le[de]()).slice(-10)+" 00000 n ":void 0!==le[de]?(L+le[de]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},rg=h.__private__.buildDocument=function(){se=0,ee=0,te=[],le=[],Ae=[],wh=Jo(),Uc=Jo(),Y(te),Hn.publish("buildDocument"),G6(),ng(),function(){Hn.publish("putAdditionalObjects");for(var L=0;L<Ae.length;L++){var de=Ae[L];Lc(de.objId,!0),W(de.content),W("endobj")}Hn.publish("postPutAdditionalObjects")}(),function(){var L=[];(function(){for(var L in an)an.hasOwnProperty(L)&&(!1===d||!0===d&&f.hasOwnProperty(L))&&Jm(an[L])})(),function(){var L;for(L in xt)xt.hasOwnProperty(L)&&jn(xt[L])}(),function(){for(var L in ls)ls.hasOwnProperty(L)&&tt(ls[L])}(),function(L){var de;for(de in Xe)Xe.hasOwnProperty(de)&&(Xe[de]instanceof j0?st(Xe[de]):Xe[de]instanceof hb&&dn(Xe[de],L))}(L),Hn.publish("putResources"),L.forEach(ri),ri({resourcesOid:Uc,objectOid:Number.MAX_SAFE_INTEGER}),Hn.publish("postPutResources")}(),null!==u&&(Hc.oid=Yo(),W("<<"),W("/Filter /Standard"),W("/V "+Hc.v),W("/R "+Hc.r),W("/U <"+Hc.toHexString(Hc.U)+">"),W("/O <"+Hc.toHexString(Hc.O)+">"),W("/P "+Hc.P),W(">>"),W("endobj")),Rf(),Hx();var L=ee;return j6(),z6(),W("startxref"),W(""+L),W("%%EOF"),Y(Ee[j]),te.join("\n")},lw=h.__private__.getBlob=function(L){return new Blob([Ce(L)],{type:"application/pdf"})},cw=h.output=h.__private__.output=((L=function(L,de){switch("string"==typeof(de=de||{})?de={filename:de}:de.filename=de.filename||"generated.pdf",L){case void 0:return rg();case"save":h.save(de.filename);break;case"arraybuffer":return Ce(rg());case"blob":return lw(rg());case"bloburi":case"bloburl":if(void 0!==Mr.URL&&"function"==typeof Mr.URL.createObjectURL)return Mr.URL&&Mr.URL.createObjectURL(lw(rg()))||void 0;ho.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Le="",je=rg();try{Le=Jk(je)}catch{Le=Jk(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+de.filename+";base64,"+Le;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Mr)){var at="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';de.pdfObjectUrl&&(at=de.pdfObjectUrl,Ft="");var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+at+'"'+Ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(de)+");<\/script></body></html>",Vn=Mr.open();return null!==Vn&&Vn.document.write(nn),Vn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Mr)){var dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(de.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+de.filename+'" width="500px" height="400px" /></body></html>',li=Mr.open();if(null!==li){li.document.write(dr);var ii=this;li.document.documentElement.querySelector("#pdfViewer").onload=function(){li.document.title=de.filename,li.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ii.output("bloburl"))}}return li}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Mr))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",de)+'"></iframe></body></html>',Zo=Mr.open();if(null!==Zo&&(Zo.document.write(cs),Zo.document.title=de.filename),Zo||typeof safari>"u")return Zo;break;case"datauri":case"dataurl":return Mr.document.location.href=this.output("datauristring",de);default:return null}}).foo=function(){try{return L.apply(this,arguments)}catch(je){var de=je.stack||"";~de.indexOf(" at ")&&(de=de.split(" at ")[1]);var Le="Error in function "+de.split("\n")[0].split("<")[0]+": "+je.message;if(!Mr.console)throw new Error(Le);Mr.console.error(Le,je),Mr.alert&&alert(Le)}},L.foo.bar=L,L.foo),ZF=function(L){return!0===Array.isArray(zs)&&zs.indexOf(L)>-1};switch(r){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=1==ZF("px_scaling")?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);ot=r}var Hc=null;ve(),G();var eR=h.__private__.getPageInfo=h.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Wt[L].objId,pageNumber:L,pageContext:Wt[L]}},Xr=h.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var de in Wt)if(Wt[de].objId===L)break;return eR(de)},W6=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Wt[j].objId,pageNumber:j,pageContext:Wt[j]}};h.addPage=function(){return uc.apply(this,arguments),this},h.setPage=function(){return za.apply(this,arguments),Y.call(this,Ee[j]),this},h.insertPage=function(L){return this.addPage(),this.movePage(j,L),this},h.movePage=function(L,de){var Le,je;if(L>de){Le=Ee[L],je=Wt[L];for(var at=L;at>de;at--)Ee[at]=Ee[at-1],Wt[at]=Wt[at-1];Ee[de]=Le,Wt[de]=je,this.setPage(de)}else if(L<de){Le=Ee[L],je=Wt[L];for(var Ft=L;Ft<de;Ft++)Ee[Ft]=Ee[Ft+1],Wt[Ft]=Wt[Ft+1];Ee[de]=Le,Wt[de]=je,this.setPage(de)}return this},h.deletePage=function(){return kc.apply(this,arguments),this},h.__private__.text=h.text=function(L,de,Le,je,at){var Ft,nn,Vn,dr,li,ii,cs,Zo,ha,Ga=(je=je||{}).scope||this;if("number"==typeof L&&"number"==typeof de&&("string"==typeof Le||Array.isArray(Le))){var Vc=Le;Le=de,de=L,L=Vc}if(arguments[3]instanceof nr?(D("The transform parameter of text() with a Matrix value"),ha=at):(Vn=arguments[4],dr=arguments[5],"object"===(0,uo.A)(cs=arguments[3])&&null!==cs||("string"==typeof Vn&&(dr=Vn,Vn=null),"string"==typeof cs&&(dr=cs,cs=null),"number"==typeof cs&&(Vn=cs,cs=null),je={flags:cs,angle:Vn,align:dr})),isNaN(de)||isNaN(Le)||null==L)throw new Error("Invalid arguments passed to jsPDF.text");if(0===L.length)return Ga;var Pf,Ll="",Ld="number"==typeof je.lineHeightFactor?je.lineHeightFactor:by,PA=Ga.internal.scaleFactor;function cR(Co){return Co=Co.split("\t").join(Array(je.TabLen||9).join(" ")),Qa(Co,cs)}function Yx(Co){for(var Eo,Ta=Co.concat(),Al=[],lg=Ta.length;lg--;)"string"==typeof(Eo=Ta.shift())?Al.push(Eo):Array.isArray(Co)&&(1===Eo.length||void 0===Eo[1]&&void 0===Eo[2])?Al.push(Eo[0]):Al.push([Eo[0],Eo[1],Eo[2]]);return Al}function Jx(Co,Eo){var Ta;if("string"==typeof Co)Ta=Eo(Co)[0];else if(Array.isArray(Co)){for(var Al,lg,a2=Co.concat(),Ew=[],AR=a2.length;AR--;)"string"==typeof(Al=a2.shift())?Ew.push(Eo(Al)[0]):Array.isArray(Al)&&"string"==typeof Al[0]&&(lg=Eo(Al[0],Al[1],Al[2]),Ew.push([lg[0],lg[1],lg[2]]));Ta=Ew}return Ta}var pw=!1,Zx=!0;if("string"==typeof L)pw=!0;else if(Array.isArray(L)){var e2=L.concat();nn=[];for(var gw,dc=e2.length;dc--;)("string"!=typeof(gw=e2.shift())||Array.isArray(gw)&&"string"!=typeof gw[0])&&(Zx=!1);pw=Zx}if(!1===pw)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');"string"==typeof L&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var mw=Oe/Ga.internal.scaleFactor,vw=mw*(Ld-1);switch(je.baseline){case"bottom":Le-=vw;break;case"top":Le+=mw-vw;break;case"hanging":Le+=mw-2*vw;break;case"middle":Le+=mw/2-vw}if((ii=je.maxWidth||0)>0&&("string"==typeof L?L=Ga.splitTextToSize(L,ii):"[object Array]"===Object.prototype.toString.call(L)&&(L=L.reduce(function(Co,Eo){return Co.concat(Ga.splitTextToSize(Eo,ii))},[]))),Hn.publish("preProcessText",Ft={text:L,x:de,y:Le,options:je,mutex:{pdfEscape:Qa,activeFontKey:En,fonts:an,activeFontSize:Oe}}),L=Ft.text,Vn=(je=Ft.options).angle,ha instanceof nr||!Vn||"number"!=typeof Vn)Vn&&Vn instanceof nr&&(ha=Vn);else{Vn*=Math.PI/180,0===je.rotationDirection&&(Vn=-Vn),"advanced"===v&&(Vn=-Vn);var yw=Math.cos(Vn),t2=Math.sin(Vn);ha=new nr(yw,t2,-t2,yw,0,0)}"advanced"!==v||ha||(ha=Pd),void 0!==(li=je.charSpace||hw)&&(Ll+=M(R(li))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Zo=je.horizontalScale)&&(Ll+=M(100*Zo)+" Tz\n");var nd=-1,rV=void 0!==je.renderingMode?je.renderingMode:je.stroke,n2=Ga.internal.getCurrentPageInfo().pageContext;switch(rV){case 0:case!1:case"fill":nd=0;break;case 1:case!0:case"stroke":nd=1;break;case 2:case"fillThenStroke":nd=2;break;case 3:case"invisible":nd=3;break;case 4:case"fillAndAddForClipping":nd=4;break;case 5:case"strokeAndAddPathForClipping":nd=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":nd=6;break;case 7:case"addToPathForClipping":nd=7}-1!==nd?Ll+=nd+" Tr\n":-1!==(void 0!==n2.usedRenderingMode?n2.usedRenderingMode:-1)&&(Ll+="0 Tr\n"),-1!==nd&&(n2.usedRenderingMode=nd),dr=je.align||"left";var Sh,_w=Oe*Ld,dR=Ga.internal.pageSize.getWidth(),hR=an[En];li=je.charSpace||hw,ii=je.maxWidth||0,cs=Object.assign({autoencode:!0,noBOM:!0},je.flags);var rv=[],Ey=function(Co){return Ga.getStringUnitWidth(Co,{font:hR,charSpace:li,fontSize:Oe,doKerning:!1})*Oe/PA};if("[object Array]"===Object.prototype.toString.call(L)){var rd;nn=Yx(L),"left"!==dr&&(Sh=nn.map(Ey));var yu,iv=0;if("right"===dr){de-=Sh[0],L=[],dc=nn.length;for(var sg=0;sg<dc;sg++)0===sg?(yu=OA(de),rd=ig(Le)):(yu=R(iv-Sh[sg]),rd=-_w),L.push([nn[sg],yu,rd]),iv=Sh[sg]}else if("center"===dr){de-=Sh[0]/2,L=[],dc=nn.length;for(var og=0;og<dc;og++)0===og?(yu=OA(de),rd=ig(Le)):(yu=R((iv-Sh[og])/2),rd=-_w),L.push([nn[og],yu,rd]),iv=Sh[og]}else if("left"===dr){L=[],dc=nn.length;for(var bw=0;bw<dc;bw++)L.push(nn[bw])}else if("justify"===dr&&"Identity-H"===hR.encoding){L=[],dc=nn.length,ii=0!==ii?ii:dR;for(var ag=0,Ma=0;Ma<dc;Ma++)if(rd=0===Ma?ig(Le):-_w,yu=0===Ma?OA(de):ag,Ma<dc-1){var r2=R((ii-Sh[Ma])/(nn[Ma].split(" ").length-1)),_u=nn[Ma].split(" ");L.push([_u[0]+" ",yu,rd]),ag=0;for(var xh=1;xh<_u.length;xh++){var ww=(Ey(_u[xh-1]+" "+_u[xh])-Ey(_u[xh]))*PA+r2;L.push(xh==_u.length-1?[_u[xh],ww,0]:[_u[xh]+" ",ww,0]),ag-=ww}}else L.push([nn[Ma],yu,rd]);L.push(["",ag,0])}else{if("justify"!==dr)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],dc=nn.length,ii=0!==ii?ii:dR,Ma=0;Ma<dc;Ma++)rd=0===Ma?ig(Le):-_w,yu=0===Ma?OA(de):0,rv.push(Ma<dc-1?M(R((ii-Sh[Ma])/(nn[Ma].split(" ").length-1))):0),L.push([nn[Ma],yu,rd])}}!0===("boolean"==typeof je.R2L?je.R2L:Ue)&&(L=Jx(L,function(Co,Eo,Ta){return[Co.split("").reverse().join(""),Eo,Ta]})),Hn.publish("postProcessText",Ft={text:L,x:de,y:Le,options:je,mutex:{pdfEscape:Qa,activeFontKey:En,fonts:an,activeFontSize:Oe}}),L=Ft.text,Pf=Ft.mutex.isHex||!1;var s2=an[En].encoding;"WinAnsiEncoding"!==s2&&"StandardEncoding"!==s2||(L=Jx(L,function(Co,Eo,Ta){return[cR(Co),Eo,Ta]})),nn=Yx(L),L=[];for(var Sy,xy,sv,My=Array.isArray(nn[0])?1:0,ov="",o2=function(Co,Eo,Ta){var Al="";return Ta instanceof nr?(Ta="number"==typeof je.angle?Ju(Ta,new nr(1,0,0,1,Co,Eo)):Ju(new nr(1,0,0,1,Co,Eo),Ta),"advanced"===v&&(Ta=Ju(new nr(1,0,0,-1,0,0),Ta)),Al=Ta.join(" ")+" Tm\n"):Al=M(Co)+" "+M(Eo)+" Td\n",Al},Dh=0;Dh<nn.length;Dh++){switch(ov="",My){case 1:sv=(Pf?"<":"(")+nn[Dh][0]+(Pf?">":")"),Sy=parseFloat(nn[Dh][1]),xy=parseFloat(nn[Dh][2]);break;case 0:sv=(Pf?"<":"(")+nn[Dh]+(Pf?">":")"),Sy=OA(de),xy=ig(Le)}void 0!==rv&&void 0!==rv[Dh]&&(ov=rv[Dh]+" Tw\n"),0===Dh?L.push(ov+o2(Sy,xy,ha)+sv):0===My?L.push(ov+sv):1===My&&L.push(ov+o2(Sy,xy,ha)+sv)}L=L.join(0===My?" Tj\nT* ":" Tj\n"),L+=" Tj\n";var Mh="BT\n/";return Mh+=En+" "+Oe+" Tf\n",Mh+=M(Oe*Ld)+" TL\n",Mh+=wy+"\n",Mh+=Ll,Mh+=L,W(Mh+="ET"),f[En]=!0,Ga};var $6=h.__private__.clip=h.clip=function(L){return W("evenodd"===L?"W*":"W"),this};h.clipEvenOdd=function(){return $6("evenodd")},h.__private__.discardPath=h.discardPath=function(){return W("n"),this};var RA=h.__private__.isValidStyle=function(L){var de=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)&&(de=!0),de};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(L){return RA(L)&&(c=L),this};var tR=h.__private__.getStyle=h.getStyle=function(L){var de=c;switch(L){case"D":case"S":de="S";break;case"F":de="f";break;case"FD":case"DF":de="B";break;case"f":case"f*":case"B":case"B*":de=L}return de},nR=h.close=function(){return W("h"),this};h.stroke=function(){return W("S"),this},h.fill=function(L){return uw("f",L),this},h.fillEvenOdd=function(L){return uw("f*",L),this},h.fillStroke=function(L){return uw("B",L),this},h.fillStrokeEvenOdd=function(L){return uw("B*",L),this};var uw=function(L,de){"object"===(0,uo.A)(de)?X6(de,L):W(L)},Vx=function(L){null===L||"advanced"===v&&void 0===L||(L=tR(L),W(L))};function K6(L,de,Le,je,at){var Ft=new hb(de||this.boundingBox,Le||this.xStep,je||this.yStep,this.gState,at||this.matrix);Ft.stream=this.stream;var nn=L+"$$"+this.cloneIndex+++"$$";return ua(nn,Ft),Ft}var X6=function(L,de){var Le=Ne[L.key],je=Xe[Le];if(je instanceof j0)W("q"),W(Y6(de)),je.gState&&h.setGState(je.gState),W(L.matrix.toString()+" cm"),W("/"+Le+" sh"),W("Q");else if(je instanceof hb){var at=new nr(1,0,0,-1,0,nv());L.matrix&&(at=at.multiply(L.matrix||Pd),Le=K6.call(je,L.key,L.boundingBox,L.xStep,L.yStep,at).id),W("q"),W("/Pattern cs"),W("/"+Le+" scn"),je.gState&&h.setGState(je.gState),W(de),W("Q")}},Y6=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Qx=h.moveTo=function(L,de){return W(M(R(L))+" "+M(k(de))+" m"),this},_y=h.lineTo=function(L,de){return W(M(R(L))+" "+M(k(de))+" l"),this},ev=h.curveTo=function(L,de,Le,je,at,Ft){return W([M(R(L)),M(k(de)),M(R(Le)),M(k(je)),M(R(at)),M(k(Ft)),"c"].join(" ")),this};h.__private__.line=h.line=function(L,de,Le,je,at){if(isNaN(L)||isNaN(de)||isNaN(Le)||isNaN(je)||!RA(at))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===v?this.lines([[Le-L,je-de]],L,de,[1,1],at||"S"):this.lines([[Le-L,je-de]],L,de,[1,1]).stroke()},h.__private__.lines=h.lines=function(L,de,Le,je,at,Ft){var nn,Vn,dr,li,ii,Vc,Ll,Pf;if("number"==typeof L&&(Pf=Le,Le=de,de=L,L=Pf),je=je||[1,1],Ft=Ft||!1,isNaN(de)||isNaN(Le)||!Array.isArray(L)||!Array.isArray(je)||!RA(at)||"boolean"!=typeof Ft)throw new Error("Invalid arguments passed to jsPDF.lines");for(Qx(de,Le),nn=je[0],Vn=je[1],li=L.length,Vc=de,Ll=Le,dr=0;dr<li;dr++)2===(ii=L[dr]).length?_y(Vc=ii[0]*nn+Vc,Ll=ii[1]*Vn+Ll):ev(ii[0]*nn+Vc,ii[1]*Vn+Ll,ii[2]*nn+Vc,ii[3]*Vn+Ll,Vc=ii[4]*nn+Vc,Ll=ii[5]*Vn+Ll);return Ft&&nR(),Vx(at),this},h.path=function(L){for(var de=0;de<L.length;de++){var Le=L[de],je=Le.c;switch(Le.op){case"m":Qx(je[0],je[1]);break;case"l":_y(je[0],je[1]);break;case"c":ev.apply(this,je);break;case"h":nR()}}return this},h.__private__.rect=h.rect=function(L,de,Le,je,at){if(isNaN(L)||isNaN(de)||isNaN(Le)||isNaN(je)||!RA(at))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===v&&(je=-je),W([M(R(L)),M(k(de)),M(R(Le)),M(R(je)),"re"].join(" ")),Vx(at),this},h.__private__.triangle=h.triangle=function(L,de,Le,je,at,Ft,nn){if(isNaN(L)||isNaN(de)||isNaN(Le)||isNaN(je)||isNaN(at)||isNaN(Ft)||!RA(nn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Le-L,je-de],[at-Le,Ft-je],[L-at,de-Ft]],L,de,[1,1],nn,!0),this},h.__private__.roundedRect=h.roundedRect=function(L,de,Le,je,at,Ft,nn){if(isNaN(L)||isNaN(de)||isNaN(Le)||isNaN(je)||isNaN(at)||isNaN(Ft)||!RA(nn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Vn=4/3*(Math.SQRT2-1);return at=Math.min(at,.5*Le),Ft=Math.min(Ft,.5*je),this.lines([[Le-2*at,0],[at*Vn,0,at,Ft-Ft*Vn,at,Ft],[0,je-2*Ft],[0,Ft*Vn,-at*Vn,Ft,-at,Ft],[2*at-Le,0],[-at*Vn,0,-at,-Ft*Vn,-at,-Ft],[0,2*Ft-je],[0,-Ft*Vn,at*Vn,-Ft,at,-Ft]],L+at,de,[1,1],nn,!0),this},h.__private__.ellipse=h.ellipse=function(L,de,Le,je,at){if(isNaN(L)||isNaN(de)||isNaN(Le)||isNaN(je)||!RA(at))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ft=4/3*(Math.SQRT2-1)*Le,nn=4/3*(Math.SQRT2-1)*je;return Qx(L+Le,de),ev(L+Le,de-nn,L+Ft,de-je,L,de-je),ev(L-Ft,de-je,L-Le,de-nn,L-Le,de),ev(L-Le,de+nn,L-Ft,de+je,L,de+je),ev(L+Ft,de+je,L+Le,de+nn,L+Le,de),Vx(at),this},h.__private__.circle=h.circle=function(L,de,Le,je){if(isNaN(L)||isNaN(de)||isNaN(Le)||!RA(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,de,Le,Le,je)},h.setFont=function(L,de,Le){return Le&&(de=b(de,Le)),En=Zm(L,de,{disableWarning:!1}),this};var J6=h.__private__.getFont=h.getFont=function(){return an[Zm.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var L,de,Le={};for(L in $)if($.hasOwnProperty(L))for(de in Le[L]=[],$[L])$[L].hasOwnProperty(de)&&Le[L].push(de);return Le},h.addFont=function(L,de,Le,je,at){var Ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Ft.indexOf(arguments[3])?at=arguments[3]:arguments[3]&&-1==Ft.indexOf(arguments[3])&&(Le=b(Le,je)),$i.call(this,L,de,Le,at=at||"Identity-H")};var by,zx=n.lineWidth||.200025,dw=h.__private__.getLineWidth=h.getLineWidth=function(){return zx},rR=h.__private__.setLineWidth=h.setLineWidth=function(L){return zx=L,W(M(R(L))+" w"),this};h.__private__.setLineDash=Er.API.setLineDash=Er.API.setLineDashPattern=function(L,de){if(L=L||[],de=de||0,isNaN(de)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Le){return M(R(Le))}).join(" "),de=M(R(de)),W("["+L+"] "+de+" d"),this};var iR=h.__private__.getLineHeight=h.getLineHeight=function(){return Oe*by};h.__private__.getLineHeight=h.getLineHeight=function(){return Oe*by};var sR=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(L){return"number"==typeof(L=L||1.15)&&(by=L),this},oR=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return by};sR(n.lineHeight);var OA=h.__private__.getHorizontalCoordinate=function(L){return R(L)},ig=h.__private__.getVerticalCoordinate=function(L){return"advanced"===v?L:Wt[j].mediaBox.topRightY-Wt[j].mediaBox.bottomLeftY-R(L)},Z6=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(L){return M(OA(L))},tv=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(L){return M(ig(L))},Of=n.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Zu(Of)},h.__private__.setStrokeColor=h.setDrawColor=function(L,de,Le,je){return Of=ed({ch1:L,ch2:de,ch3:Le,ch4:je,pdfColorType:"draw",precision:2}),W(Of),this};var Gx=n.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Zu(Gx)},h.__private__.setFillColor=h.setFillColor=function(L,de,Le,je){return Gx=ed({ch1:L,ch2:de,ch3:Le,ch4:je,pdfColorType:"fill",precision:2}),W(Gx),this};var wy=n.textColor||"0 g",eV=h.__private__.getTextColor=h.getTextColor=function(){return Zu(wy)};h.__private__.setTextColor=h.setTextColor=function(L,de,Le,je){return wy=ed({ch1:L,ch2:de,ch3:Le,ch4:je,pdfColorType:"text",precision:3}),this};var hw=n.charSpace,tV=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(hw||0)};h.__private__.setCharSpace=h.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return hw=L,this};var jx=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(L){var de=h.CapJoinStyles[L];if(void 0===de)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jx=de,W(de+" J"),this};var qx=0;h.__private__.setLineJoin=h.setLineJoin=function(L){var de=h.CapJoinStyles[L];if(void 0===de)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qx=de,W(de+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(M(R(L))+" M"),this},h.GState=WN,h.setGState=function(L){(L="string"==typeof L?xt[rt[L]]:aR(null,L)).equals(It)||(W("/"+L.id+" gs"),It=L)};var aR=function(L,de){if(!L||!rt[L]){var Le=!1;for(var je in xt)if(xt.hasOwnProperty(je)&&xt[je].equals(de)){Le=!0;break}if(Le)de=xt[je];else{var at="GS"+(Object.keys(xt).length+1).toString(10);xt[at]=de,de.id=at}return L&&(rt[L]=de.id),Hn.publish("addGState",de),de}};h.addGState=function(L,de){return aR(L,de),this},h.saveGraphicsState=function(){return W("q"),Fe.push({key:En,size:Oe,color:wy}),this},h.restoreGraphicsState=function(){W("Q");var L=Fe.pop();return En=L.key,Oe=L.size,wy=L.color,It=null,this},h.setCurrentTransformationMatrix=function(L){return W(L.toString()+" cm"),this},h.comment=function(L){return W("#"+L),this};var fw=function(L,de){var Le=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Le},set:function(Ft){isNaN(Ft)||(Le=parseFloat(Ft))}});var je=de||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(Ft){isNaN(Ft)||(je=parseFloat(Ft))}});var at="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return at},set:function(Ft){at=Ft.toString()}}),this},Wx=function(L,de,Le,je){fw.call(this,L,de),this.type="rect";var at=Le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return at},set:function(nn){isNaN(nn)||(at=parseFloat(nn))}});var Ft=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ft},set:function(nn){isNaN(nn)||(Ft=parseFloat(nn))}}),this},$x=function(){this.page=fn,this.currentPage=j,this.pages=Ee.slice(0),this.pagesContext=Wt.slice(0),this.x=wn,this.y=vn,this.matrix=Sn,this.width=Cy(j),this.height=nv(j),this.outputDestination=Se,this.id="",this.objectNumber=-1};$x.prototype.restore=function(){fn=this.page,Wt=this.pagesContext,Ee=this.pages,wn=this.x,vn=this.y,Sn=this.matrix,Kx(j=this.currentPage,this.width),Xx(j,this.height),Se=this.outputDestination};var lR=function(L,de,Le,je,at){ca.push(new $x),fn=j=0,Ee=[],wn=L,vn=de,Sn=at,Gs([Le,je])};for(var Aw in h.beginFormObject=function(L,de,Le,je,at){return lR(L,de,Le,je,at),this},h.endFormObject=function(L){return function(L){if(Si[L])ca.pop().restore();else{var de=new $x,Le="Xo"+(Object.keys(ls).length+1).toString(10);de.id=Le,Si[L]=Le,ls[Le]=de,Hn.publish("addFormObject",de),ca.pop().restore()}}(L),this},h.doFormObject=function(L,de){var Le=ls[Si[L]];return W("q"),W(de.toString()+" cm"),W("/"+Le.id+" Do"),W("Q"),this},h.getFormObject=function(L){var de=ls[Si[L]];return{x:de.x,y:de.y,width:de.width,height:de.height,matrix:de.matrix}},h.save=function(L,de){return L=L||"generated.pdf",(de=de||{}).returnPromise=de.returnPromise||!1,!1===de.returnPromise?(G0(lw(rg()),L),"function"==typeof G0.unload&&Mr.setTimeout&&setTimeout(G0.unload,911),this):new Promise(function(Le,je){try{var at=G0(lw(rg()),L);"function"==typeof G0.unload&&Mr.setTimeout&&setTimeout(G0.unload,911),Le(at)}catch(Ft){je(Ft.message)}})},Er.API)Er.API.hasOwnProperty(Aw)&&("events"===Aw&&Er.API.events.length?function(L,de){var je,at;for(at=de.length-1;-1!==at;at--)L.subscribe.apply(L,[de[at][0]].concat("function"==typeof(je=de[at][1])?[je]:je))}(Hn,Er.API.events):h[Aw]=Er.API[Aw]);var Cy=h.getPageWidth=function(L){return(Wt[L=L||j].mediaBox.topRightX-Wt[L].mediaBox.bottomLeftX)/ot},Kx=h.setPageWidth=function(L,de){Wt[L].mediaBox.topRightX=de*ot+Wt[L].mediaBox.bottomLeftX},nv=h.getPageHeight=function(L){return(Wt[L=L||j].mediaBox.topRightY-Wt[L].mediaBox.bottomLeftY)/ot},Xx=h.setPageHeight=function(L,de){Wt[L].mediaBox.topRightY=de*ot+Wt[L].mediaBox.bottomLeftY};return h.internal={pdfEscape:Qa,getStyle:tR,getFont:J6,getFontSize:J,getCharSpace:tV,getTextColor:eV,getLineHeight:iR,getLineHeightFactor:oR,getLineWidth:dw,write:Be,getHorizontalCoordinate:OA,getVerticalCoordinate:ig,getCoordinateString:Z6,getVerticalCoordinateString:tv,collections:{},newObject:Yo,newAdditionalObject:Ff,newObjectDeferred:Jo,newObjectDeferredBegin:Lc,getFilters:Ch,putStream:td,events:Hn,scaleFactor:ot,pageSize:{getWidth:function(){return Cy(j)},setWidth:function(L){Kx(j,L)},getHeight:function(){return nv(j)},setHeight:function(L){Xx(j,L)}},encryptionOptions:u,encryption:Hc,getEncryptor:function(L){return null!==u?Hc.encryptor(L,0):function(de){return de}},output:cw,getNumberOfPages:Pl,pages:Ee,out:W,f2:T,f3:B,getPageInfo:eR,getPageInfoByObjId:Xr,getCurrentPageInfo:W6,getPDFVersion:p,Point:fw,Rectangle:Wx,Matrix:nr,hasHotfix:ZF},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Cy(j)},set:function(L){Kx(j,L)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return nv(j)},set:function(L){Xx(j,L)},enumerable:!0,configurable:!0}),function(L){for(var de=0,Le=Pe.length;de<Le;de++){var je=$i.call(this,L[de][0],L[de][1],L[de][2],Pe[de][3],!0);!1===d&&(f[je]=!0);var at=L[de][0].split("-");da({id:je,fontName:at[0],fontStyle:at[1]||""})}Hn.publish("addFonts",{fonts:an,dictionary:$})}.call(h,Pe),En="F1",uc(i,t),Hn.publish("initialized"),h}ub.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},ub.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ub.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},ub.prototype.processOwnerPassword=function(n,e){return t8(e8(e).substr(0,5),n)},ub.prototype.encryptor=function(n,e){var t=e8(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return t8(t,r)}},WN.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||(0,uo.A)(n)!==(0,uo.A)(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return 0===r},Er.API={events:[]},Er.version="2.5.2";var aa=Er.API,n8=1,q0=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fb=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ti=function(n){return n.toFixed(2)},Nm=function(n){return n.toFixed(5)};aa.__acroform__={};var Gu=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},EZ=function(n){return n*n8},wA=function(n){var e=new xZ,t=Jn.internal.getHeight(n)||0,r=Jn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(ti(r)),Number(ti(t))],e},KFe=aa.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},XFe=aa.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},YFe=aa.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Ca=aa.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return YFe(n,e-1)},Ea=aa.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return KFe(n,e-1)},Sa=aa.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XFe(n,e-1)},JFe=aa.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(ti(l.lowerLeft_X)),Number(ti(l.lowerLeft_Y)),Number(ti(l.upperRight_X)),Number(ti(l.upperRight_Y))]},ZFe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],r=r8(n,n._V||n.DV),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+ti(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=wA(n);return s.scope=n.scope,s.stream=e.join("\n"),s}},r8=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(n.multiline?function(B){return B.split("\n")}:function(B){return[B]});var s=t,o=Jn.internal.getHeight(n)||0;o=o<0?-o:o;var B,a=Jn.internal.getWidth(n)||0;a=a<0?-a:a,s++;e:for(;s>0;){e="",s--;var c,u,d=$N("3",n,s).height,f=n.multiline?o-s:(o-d)/2,h=f+=2,A=0,p=0,m=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+$N(e,n,s=12).width+", FieldWidth:"+a+"\n";break}for(var g="",y=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var _=!1;if(1!==i[v].length&&m!==i[v].length-1){if((d+2)*(y+2)+2>o)continue e;g+=i[v][m],_=!0,p=v,v--}else{g=" "==(g+=i[v][m]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var C=parseInt(v),b=(B=C)+1<i.length&&$N(g+" "+i[B+1][0],n,s).width<=a-4,M=v>=i.length-1;if(b&&!M){g+=" ",m=0;continue}if(b||M){if(M)p=C;else if(n.multiline&&(d+2)*(y+2)+2>o)continue e}else{if(!n.multiline||(d+2)*(y+2)+2>o)continue e;p=C}}for(var D="",S=A;S<=p;S++){var T=i[S];if(n.multiline){if(S===p){D+=T[m]+" ",m=(m+1)%T.length;continue}if(S===A){D+=T[T.length-1]+" ";continue}}D+=T[0]+" "}switch(D=" "==D.substr(D.length-1)?D.substr(0,D.length-1):D,u=$N(D,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=ti(c)+" "+ti(h)+" Td\n",e+="("+q0(D)+") Tj\n",e+=-ti(c)+" 0 Td\n",h=-(s+2),u=0,A=_?p:p+1,y++,g=""}break}return r.text=e,r.fontSize=s,r},$N=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},eRe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tRe=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},SZ=aa.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(0!==s&&(i+=" "),(0,uo.A)(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":"/"!==n[s].substr(0,1)?(void 0!==e&&t&&(r=t.internal.getEncryptor(e)),i+="("+q0(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},i8=function(n,e,t){var r=function(i){return i};return void 0!==e&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+q0(r(n))+")"},CA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};CA.prototype.toString=function(){return this.objId+" 0 R"},CA.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},CA.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:SZ(i,this.objId,this.scope)}):i instanceof CA?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&n.push({key:r,value:i}))}return n};var xZ=function(){CA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Gu(xZ,CA);var DZ=function(){CA.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+q0(t(n))+")"}},set:function(t){n=t}})};Gu(DZ,CA);var gf=function n(){CA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ca(e,3)},set:function(g){this.F=g?Ea(e,3):Sa(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');t=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(g){r=void 0!==g?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof YN)return;s="FieldObject"+n.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+q0(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/n8:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof YN||this instanceof W0))return i8(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Bl?f:i8(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=this instanceof Bl?g:"("===g.substr(0,1)?fb(g.substr(1,g.length-2)):fb(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bl?fb(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof Bl?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Bl?h:i8(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof Bl?g:"("===g.substr(0,1)?fb(g.substr(1,g.length-2)):fb(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bl?fb(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof Bl?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(g){p=g=!!g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(g){A=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,1)},set:function(g){this.Ff=g?Ea(this.Ff,1):Sa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,2)},set:function(g){this.Ff=g?Ea(this.Ff,2):Sa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,3)},set:function(g){this.Ff=g?Ea(this.Ff,3):Sa(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(g){if(-1===[0,1,2].indexOf(g))throw new Error('Invalid value "'+g+'" for attribute Q supplied.');m=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(m){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};Gu(gf,CA);var Ab=function(){gf.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return SZ(e,this.objId,this.scope)},set:function(t){var r,i;i=[],"string"==typeof(r=t)&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,18)},set:function(t){this.Ff=t?Ea(this.Ff,18):Sa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?Ea(this.Ff,19):Sa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,20)},set:function(t){t?(this.Ff=Ea(this.Ff,20),e.sort()):this.Ff=Sa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,22)},set:function(t){this.Ff=t?Ea(this.Ff,22):Sa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,23)},set:function(t){this.Ff=t?Ea(this.Ff,23):Sa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,27)},set:function(t){this.Ff=t?Ea(this.Ff,27):Sa(this.Ff,27)}}),this.hasAppearanceStream=!1};Gu(Ab,gf);var pb=function(){Ab.call(this),this.fontName="helvetica",this.combo=!1};Gu(pb,Ab);var gb=function(){pb.call(this),this.combo=!0};Gu(gb,pb);var KN=function(){gb.call(this),this.edit=!0};Gu(KN,gb);var Bl=function(){gf.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,15)},set:function(t){this.Ff=t?Ea(this.Ff,15):Sa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,16)},set:function(t){this.Ff=t?Ea(this.Ff,16):Sa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,17)},set:function(t){this.Ff=t?Ea(this.Ff,17):Sa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,26)},set:function(t){this.Ff=t?Ea(this.Ff,26):Sa(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+q0(t(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===(0,uo.A)(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Gu(Bl,gf);var XN=function(){Bl.call(this),this.pushButton=!0};Gu(XN,Bl);var mb=function(){Bl.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};Gu(mb,Bl);var YN=function(){var n,e;gf.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+q0(i(r[s]))+")");return o.push(">>"),o.join("\n")},set:function(i){"object"===(0,uo.A)(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gu(YN,gf),mb.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},mb.prototype.createOption=function(n){var e=new YN;return e.Parent=this,e.optionName=n,this.Kids.push(e),iRe.call(this.scope,e),e};var JN=function(){Bl.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jn.CheckBox.createAppearanceStream()};Gu(JN,Bl);var W0=function(){gf.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,13)},set:function(e){this.Ff=e?Ea(this.Ff,13):Sa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,21)},set:function(e){this.Ff=e?Ea(this.Ff,21):Sa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,23)},set:function(e){this.Ff=e?Ea(this.Ff,23):Sa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,24)},set:function(e){this.Ff=e?Ea(this.Ff,24):Sa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,25)},set:function(e){this.Ff=e?Ea(this.Ff,25):Sa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,26)},set:function(e){this.Ff=e?Ea(this.Ff,26):Sa(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gu(W0,gf);var ZN=function(){W0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ca(this.Ff,14)},set:function(n){this.Ff=n?Ea(this.Ff,14):Sa(this.Ff,14)}}),this.password=!0};Gu(ZN,W0);var Jn={CheckBox:{createAppearanceStream:function(){return{N:{On:Jn.CheckBox.YesNormal},D:{On:Jn.CheckBox.YesPushDown,Off:Jn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=wA(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=r8(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+ti(Jn.internal.getWidth(n))+" "+ti(Jn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+ti(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=wA(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Jn.internal.getHeight(n),o=Jn.internal.getWidth(n),a=r8(n,n.caption);return i.push("1 g"),i.push("0 0 "+ti(o)+" "+ti(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ti(o-1)+" "+ti(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+ti(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=wA(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ti(Jn.internal.getWidth(n))+" "+ti(Jn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Jn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Jn.RadioButton.Circle.YesNormal,e.D[n]=Jn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=wA(n);e.scope=n.scope;var t=[],r=Jn.internal.getWidth(n)<=Jn.internal.getHeight(n)?Jn.internal.getWidth(n)/4:Jn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((r*Jn.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Nm(Jn.internal.getWidth(n)/2)+" "+Nm(Jn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=wA(n);e.scope=n.scope;var t=[],r=Jn.internal.getWidth(n)<=Jn.internal.getHeight(n)?Jn.internal.getWidth(n)/4:Jn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Jn.internal.Bezier_C).toFixed(5)),o=Number((r*Jn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Nm(Jn.internal.getWidth(n)/2)+" "+Nm(Jn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Nm(Jn.internal.getWidth(n)/2)+" "+Nm(Jn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=wA(n);e.scope=n.scope;var t=[],r=Jn.internal.getWidth(n)<=Jn.internal.getHeight(n)?Jn.internal.getWidth(n)/4:Jn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Jn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Nm(Jn.internal.getWidth(n)/2)+" "+Nm(Jn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Jn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Jn.RadioButton.Cross.YesNormal,e.D[n]=Jn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=wA(n);e.scope=n.scope;var t=[],r=Jn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+ti(Jn.internal.getWidth(n)-2)+" "+ti(Jn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(ti(r.x1.x)+" "+ti(r.x1.y)+" m"),t.push(ti(r.x2.x)+" "+ti(r.x2.y)+" l"),t.push(ti(r.x4.x)+" "+ti(r.x4.y)+" m"),t.push(ti(r.x3.x)+" "+ti(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=wA(n);e.scope=n.scope;var t=Jn.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+ti(Jn.internal.getWidth(n))+" "+ti(Jn.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ti(Jn.internal.getWidth(n)-2)+" "+ti(Jn.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(ti(t.x1.x)+" "+ti(t.x1.y)+" m"),r.push(ti(t.x2.x)+" "+ti(t.x2.y)+" l"),r.push(ti(t.x4.x)+" "+ti(t.x4.y)+" m"),r.push(ti(t.x3.x)+" "+ti(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=wA(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ti(Jn.internal.getWidth(n))+" "+ti(Jn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Jn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Jn.internal.getWidth(n),t=Jn.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Jn.internal.getWidth=function(n){var e=0;return"object"===(0,uo.A)(n)&&(e=EZ(n.Rect[2])),e},Jn.internal.getHeight=function(n){var e=0;return"object"===(0,uo.A)(n)&&(e=EZ(n.Rect[3])),e};var n,e,iRe=aa.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(gf.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(eRe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");n8=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new DZ,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&tRe(s,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=JFe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Jn.createDefaultAppearanceStream(a),"object"===(0,uo.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=ZFe(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var h=a.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var A=h[o];"function"==typeof A&&(A=A.call(i,a)),d+="/"+o+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else"function"==typeof(A=h)&&(A=A.call(i,a)),d+="/"+o+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);d+=">>"}l.push({key:"AP",value:"<<\n"+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),"object"===(0,uo.A)(i)&&"function"==typeof i.putStream&&i.putStream(),delete n[r]}}(i.internal.acroformPlugin.xForms,i)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof gf))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function MZ(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}aa.AcroFormChoiceField=Ab,aa.AcroFormListBox=pb,aa.AcroFormComboBox=gb,aa.AcroFormEditBox=KN,aa.AcroFormButton=Bl,aa.AcroFormPushButton=XN,aa.AcroFormRadioButton=mb,aa.AcroFormCheckBox=JN,aa.AcroFormTextField=W0,aa.AcroFormPasswordField=ZN,aa.AcroFormAppearance=Jn,aa.AcroForm={ChoiceField:Ab,ListBox:pb,ComboBox:gb,EditBox:KN,Button:Bl,PushButton:XN,RadioButton:mb,CheckBox:JN,TextField:W0,PasswordField:ZN,Appearance:Jn},Er.AcroForm={ChoiceField:Ab,ListBox:pb,ComboBox:gb,EditBox:KN,Button:Bl,PushButton:XN,RadioButton:mb,CheckBox:JN,TextField:W0,PasswordField:ZN,Appearance:Jn},function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(B,R){var U,k,q,O,P,G=e;if("RGBA"===(R=R||e)||void 0!==B.data&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(b(B))for(P in t)for(q=t[P],U=0;U<q.length;U+=1){for(O=!0,k=0;k<q[U].length;k+=1)if(void 0!==q[U][k]&&q[U][k]!==B[k]){O=!1;break}if(!0===O){G=P;break}}else for(P in t)for(q=t[P],U=0;U<q.length;U+=1){for(O=!0,k=0;k<q[U].length;k+=1)if(void 0!==q[U][k]&&q[U][k]!==B.charCodeAt(k)){O=!1;break}if(!0===O){G=P;break}}return G===e&&R!==e&&(G=R),G},i=function B(R){for(var U=this.internal.write,k=this.internal.putStream,q=(0,this.internal.getFilters)();-1!==q.indexOf("FlateEncode");)q.splice(q.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var O=[];if(O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Image"}),O.push({key:"Width",value:R.width}),O.push({key:"Height",value:R.height}),R.colorSpace===m.INDEXED?O.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&void 0!==R.sMask?R.objectId+2:R.objectId+1)+" 0 R]"}):(O.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===m.DEVICE_CMYK&&O.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),O.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&void 0!==R.decodeParameters&&O.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var P="",G=0,H=R.transparency.length;G<H;G++)P+=R.transparency[G]+" "+R.transparency[G]+" ";O.push({key:"Mask",value:"["+P+"]"})}if(void 0!==R.sMask&&O.push({key:"SMask",value:R.objectId+1+" 0 R"}),k({data:R.data,additionalKeyValues:O,alreadyAppliedFilters:void 0!==R.filter?["/"+R.filter]:void 0,objectId:R.objectId}),U("endobj"),"sMask"in R&&void 0!==R.sMask){var Q={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:"/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,data:R.sMask};"filter"in R&&(Q.filter=R.filter),B.call(this,Q)}if(R.colorSpace===m.INDEXED){var j=this.internal.newObject();k({data:D(new Uint8Array(R.palette)),objectId:j}),U("endobj")}},s=function(){var B=this.internal.collections.addImage_images;for(var R in B)i.call(this,B[R])},o=function(){var B,R=this.internal.collections.addImage_images,U=this.internal.write;for(var k in R)U("/I"+(B=R[k]).index,B.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var B=this.internal.collections.addImage_images;return a.call(this),B},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(B){return"function"==typeof n["process"+B.toUpperCase()]},d=function(B){return"object"===(0,uo.A)(B)&&1===B.nodeType},f=function(B,R){if("IMG"===B.nodeName&&B.hasAttribute("src")){var U=""+B.getAttribute("src");if(0===U.indexOf("data:image/"))return KS(unescape(U).split("base64,").pop());var k=n.loadFile(U,!0);if(void 0!==k)return k}if("CANVAS"===B.nodeName){if(0===B.width||0===B.height)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var q;switch(R){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;default:q="image/jpeg"}return KS(B.toDataURL(q,1).split("base64,").pop())}},h=function(B){var R=this.internal.collections.addImage_images;if(R)for(var U in R)if(B===R[U].alias)return R[U]},A=function(B,R,U){return B||R||(B=-96,R=-96),B<0&&(B=-1*U.width*72/B/this.internal.scaleFactor),R<0&&(R=-1*U.height*72/R/this.internal.scaleFactor),0===B&&(B=R*U.width/U.height),0===R&&(R=B*U.height/U.width),[B,R]},p=function(B,R,U,k,q,O){var P=A.call(this,U,k,q),G=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,ae=l.call(this);if(U=P[0],k=P[1],ae[q.index]=q,O){O*=Math.PI/180;var ve=Math.cos(O),Q=Math.sin(O),j=function(oe){return oe.toFixed(4)},K=[j(ve),j(Q),j(-1*Q),j(ve),0,0,"cm"]}this.internal.write("q"),O?(this.internal.write([1,"0","0",1,G(B),H(R+k),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([G(U),"0","0",G(k),"0","0","cm"].join(" "))):this.internal.write([G(U),"0","0",G(k),G(B),H(R+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},m=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=n.__addimage__.sHashCode=function(B){var R,U,k=0;if("string"==typeof B)for(U=B.length,R=0;R<U;R++)k=(k<<5)-k+B.charCodeAt(R),k|=0;else if(b(B))for(U=B.byteLength/2,R=0;R<U;R++)k=(k<<5)-k+B[R],k|=0;return k},v=n.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var R=!0;return 0===B.length&&(R=!1),B.length%4!=0&&(R=!1),!1===/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))&&(R=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))&&(R=!1),R},_=n.__addimage__.extractImageFromDataUrl=function(B){var R=(B=B||"").split("base64,"),U=null;if(2===R.length){var k=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(k)&&(U={mimeType:k[1],charset:k[2],data:R[1]})}return U},C=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(B){return C()&&B instanceof ArrayBuffer};var b=n.__addimage__.isArrayBufferView=function(B){return C()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},M=n.__addimage__.binaryStringToUint8Array=function(B){for(var R=B.length,U=new Uint8Array(R),k=0;k<R;k++)U[k]=B.charCodeAt(k);return U},D=n.__addimage__.arrayBufferToBinaryString=function(B){for(var R="",U=b(B)?B:new Uint8Array(B),k=0;k<U.length;k+=8192)R+=String.fromCharCode.apply(null,U.subarray(k,k+8192));return R};n.addImage=function(){var B,R,U,k,q,O,P,G,H;if("number"==typeof arguments[1]?(R=e,U=arguments[1],k=arguments[2],q=arguments[3],O=arguments[4],P=arguments[5],G=arguments[6],H=arguments[7]):(R=arguments[1],U=arguments[2],k=arguments[3],q=arguments[4],O=arguments[5],P=arguments[6],G=arguments[7],H=arguments[8]),"object"===(0,uo.A)(B=arguments[0])&&!d(B)&&"imageData"in B){var ae=B;B=ae.imageData,R=ae.format||R||e,U=ae.x||U||0,k=ae.y||k||0,q=ae.w||ae.width||q,O=ae.h||ae.height||O,P=ae.alias||P,G=ae.compression||G,H=ae.rotation||ae.angle||H}var ve=this.internal.getFilters();if(void 0===G&&-1!==ve.indexOf("FlateEncode")&&(G="SLOW"),isNaN(U)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var Q=S.call(this,B,R,P,G);return p.call(this,U,k,q,O,Q,H),this};var S=function(B,R,U,k){var q,O,P,H;if("string"==typeof B&&r(B)===e){B=unescape(B);var G=T(B,!1);(""!==G||void 0!==(G=n.loadFile(B,!0)))&&(B=G)}if(d(B)&&(B=f(B,R)),R=r(B,R),!u(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if((null==(P=U)||0===P.length)&&(U="string"==typeof(H=B)||b(H)?y(H):b(H.data)?y(H.data):null),(q=h.call(this,U))||(C()&&(B instanceof Uint8Array||"RGBA"===R||(O=B,B=M(B))),q=this["process"+R.toUpperCase()](B,c.call(this),U,function(H){return H&&"string"==typeof H&&(H=H.toUpperCase()),H in n.image_compression?H:g.NONE}(k),O)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},T=n.__addimage__.convertBase64ToBinaryString=function(B,R){var U;R="boolean"!=typeof R||R;var k,q="";if("string"==typeof B){k=null!==(U=_(B))?U.data:B;try{q=KS(k)}catch(O){if(R)throw v(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+O.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};n.getImageProperties=function(B){var R,U,k="";if(d(B)&&(B=f(B)),"string"==typeof B&&r(B)===e&&(""===(k=T(B,!1))&&(k=n.loadFile(B)||""),B=k),U=r(B),!u(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!C()||B instanceof Uint8Array||(B=M(B)),!(R=this["process"+U.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=U,R}}(Er.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
n=Er.API,e=function(t){if(void 0!==t&&""!=t)return!0},Er.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){r=c[f];var h=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),y=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+h(g(r.contents))+")",s+=" /Popup "+m.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(g(y))+") >>",p.content=s;var v=p.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+v,r.open&&(s+=" /Open true"),m.content=s+=" >>",this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var _=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(A(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var b=a(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+b+" "+r.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var u=this.splitTextToSize(t,a=s.maxWidth).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),"center"===s.align&&(r-=l/2),"right"===s.align&&(r-=l),this.link(r,(i+=.2*c)-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(p){return void 0!==e[p.charCodeAt(0)]},o=n.__arabicParser__.isArabicLetter=function(p){return"string"==typeof p&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},a=n.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&i.indexOf(p.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&s(p)&&4==e[p.charCodeAt(0)].length},d=n.__arabicParser__.resolveLigatures=function(p){var m=0,g=t,y="",v=0;for(m=0;m<p.length;m+=1)void 0!==g[p.charCodeAt(m)]?(v++,"number"==typeof(g=g[p.charCodeAt(m)])&&(y+=String.fromCharCode(g),g=t,v=0),m===p.length-1&&(g=t,y+=p.charAt(m-(v-1)),m-=v-1,v=0)):(g=t,y+=p.charAt(m-v),m-=v,v=0);return y};n.__arabicParser__.isArabicDiacritic=function(p){return void 0!==p&&void 0!==r[p.charCodeAt(0)]};var f=n.__arabicParser__.getCorrectForm=function(p,m,g){return o(p)?!1===s(p)?-1:!c(p)||!o(m)&&!o(g)||!o(g)&&a(m)||a(p)&&!o(m)||a(p)&&l(m)||a(p)&&a(m)?0:u(p)&&o(m)&&!a(m)&&o(g)&&c(g)?3:a(p)||!o(g)?1:2:-1},h=function(p){var m=0,g=0,y=0,v="",_="",C="",b=(p=p||"").split("\\s+"),M=[];for(m=0;m<b.length;m+=1){for(M.push(""),g=0;g<b[m].length;g+=1)_=b[m][g-1],C=b[m][g+1],o(v=b[m][g])?(y=f(v,_,C),M[m]+=-1!==y?String.fromCharCode(e[v.charCodeAt(0)][y]):v):M[m]+=v;M[m]=d(M[m])}return M.join(" ")},A=n.__arabicParser__.processArabic=n.processArabic=function(){var p,m="string"==typeof arguments[0]?arguments[0]:arguments[0].text,g=[];if(Array.isArray(m)){var y=0;for(g=[],y=0;y<m.length;y+=1)Array.isArray(m[y])?g.push([h(m[y][0]),m[y][1],m[y][2]]):g.push([h(m[y])]);p=g}else p=h(m);return"string"==typeof arguments[0]?p:(arguments[0].text=p,arguments[0])};n.events.push(["preProcessText",A])}(Er.API),Er.API.autoPrint=function(n){var e;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if("2d"!==(t=t||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Er.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(p){A=p}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,h=0,A=0,p=0,m=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?"string"==typeof l?l=this.splitTextToSize(l,g):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(v,_){return v.concat(m.splitTextToSize(_,g))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)h<(p=this.getStringUnitWidth(l[y],{font:d})*u)&&(h=p);return 0!==h&&(A=l.length),{w:h/=f,h:Math.max((A*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===t?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,d,f){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,A,p,m,g=[],y=[],v=[],_={},C={},b=[],M=[],D=(f=f||{}).autoSize||!1,S=!1!==f.printHeaders,T=f.css&&void 0!==f.css["font-size"]?16*f.css["font-size"]:f.fontSize||12,B=f.margins||Object.assign({width:this.getPageWidth()},e),R="number"==typeof f.padding?f.padding:3,U=f.headerBackgroundColor||"#c8c8c8",k=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=k,this.setFontSize(T),null==d)y=g=Object.keys(u[0]),v=g.map(function(){return"left"});else if(Array.isArray(d)&&"object"===(0,uo.A)(d[0]))for(g=d.map(function(ae){return ae.name}),y=d.map(function(ae){return ae.prompt||ae.name||""}),v=d.map(function(ae){return ae.align||"left"}),h=0;h<d.length;h+=1)C[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&"string"==typeof d[0]&&(y=g=d,v=g.map(function(){return"left"}));if(D||Array.isArray(d)&&"string"==typeof d[0])for(h=0;h<g.length;h+=1){for(_[m=g[h]]=u.map(function(ae){return ae[m]}),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(y[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=_[m],this.setFont(void 0,"normal"),p=0;p<A.length;p+=1)b.push(this.getTextDimensions(A[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[m]=Math.max.apply(null,b)+R+R,b=[]}if(S){var q={};for(h=0;h<g.length;h+=1)q[g[h]]={},q[g[h]].text=y[h],q[g[h]].align=v[h];var O=a.call(this,q,C);M=g.map(function(ae){return new s(l,c,C[ae],O,q[ae].text,void 0,q[ae].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var P=d.reduce(function(ae,ve){return ae[ve.name]=ve.align,ae},{});for(h=0;h<u.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:u[h]},this);var G=a.call(this,u[h],C);for(p=0;p<g.length;p+=1){var H=u[h][g[p]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:p,data:H},this),o.call(this,new s(l,c,C[g[p]],G,H,h+2,P[g[p]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var A=l[h];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+u+u},this).reduce(function(h,A){return Math.max(h,A)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(A)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),t=!1}}(Er.API);var TZ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},BZ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],s8=MZ(BZ),NZ=[100,200,300,400,500,600,700,800,900],sRe=MZ(NZ);function o8(n){var s,e=n.family.replace(/"|'/g,"").toLowerCase(),t=TZ[s=(s=n.style)||"normal"]?s:"normal",r=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(n.weight),i=function(s){return"number"==typeof s8[s=s||"normal"]?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function IZ(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var oRe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},FZ={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function RZ(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function OZ(n){return n.trimLeft()}function lRe(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function cRe(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var eI,PZ,LZ,a8=["times"];(function(n){var e,t,r,i,s,o,a,l,c,u=function(Q){return this.isStrokeTransparent=(Q=Q||{}).isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=void 0!==Q.transform?Q.transform.clone():new l,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof Q.ignoreClearRect||Q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=Q;Object.defineProperty(this,"pdf",{get:function(){return j}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(Y){K=!!Y}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(Y){oe=!!Y}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Y){isNaN(Y)||(se=Y)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Y){isNaN(Y)||(le=Y)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Y){var W;"number"==typeof Y?W=[Y,Y,Y,Y]:((W=new Array(4))[0]=Y[0],W[1]=Y.length>=2?Y[1]:W[0],W[2]=Y.length>=3?Y[2]:W[0],W[3]=Y.length>=4?Y[3]:W[1]),c.margin=W}});var te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return te},set:function(Y){te=Y}});var ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return ee},set:function(Y){ee=Y}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(Y){Ae=Y}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Y){Y instanceof u&&(c=Y)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Y){c.path=Y}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(Y){Ee=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var W;W=f(Y),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=0===W.a,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var W=f(Y);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=0===W.a,this.ctx.strokeOpacity=W.a,0===W.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(W.r,W.g,W.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){-1!==["butt","round","square"].indexOf(Y)&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){-1!==["bevel","round","miter"].indexOf(Y)&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){-1!==["right","end","center","left","start"].indexOf(Y)&&(this.ctx.textAlign=Y)}});var ge=null,ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return ne},set:function(Y){ge=null,ne=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var W;if(this.ctx.font=Y,null!==(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Y))){var Be=W[1],Ce=W[3],Pe=W[4],Oe=W[6],re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor("px"===re?parseFloat(Pe)*this.pdf.internal.scaleFactor:"em"===re?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var J=function(Ot){var En,ot,wn=[],vn=Ot.trim();if(""===vn)return a8;if(vn in FZ)return[FZ[vn]];for(;""!==vn;){switch(ot=null,En=(vn=OZ(vn)).charAt(0)){case'"':case"'":ot=lRe(vn.substring(1),En);break;default:ot=cRe(vn)}if(null===ot||(wn.push(ot[0]),""!==(vn=OZ(ot[1]))&&","!==vn.charAt(0)))return a8;vn=vn.replace(/^,/,"")}return wn}(Oe);if(this.fontFaces){var Ue=function aRe(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},oRe,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=o8(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+RZ(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=s8[l],f=IZ(c,BZ,u,u<=s8.normal?-1:1);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=TZ[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(400===l&&c[500])return c[500];if(500===l&&c[400])return c[400];var d=IZ(c,NZ,sRe[l],l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+RZ(s)+"'.");return o}(function Se(Y,W){if(null===ge){var Be=(Ce=Y.getFontList(),Pe=[],Object.keys(Ce).forEach(function(Oe){Ce[Oe].forEach(function(re){var J=null;switch(re){case"bold":J={family:Oe,weight:"bold"};break;case"italic":J={family:Oe,style:"italic"};break;case"bolditalic":J={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":J={family:Oe}}null!==J&&(J.ref={name:Oe,style:re},Pe.push(J))})}),Pe);ge=function(Ce){for(var Pe={},Oe=0;Oe<Ce.length;++Oe){var re=o8(Ce[Oe]),J=re.family,Ue=re.stretch,Qe=re.style,it=re.weight;Pe[J]=Pe[J]||{},Pe[J][Ue]=Pe[J][Ue]||{},Pe[J][Ue][Qe]=Pe[J][Ue][Qe]||{},Pe[J][Ue][Qe][it]=re}return Pe}(Be.concat(W))}var Ce,Pe;return ge}(this.pdf,this.fontFaces),J.map(function(Ot){return{family:Ot,stretch:"normal",weight:Ce,style:Be}}));this.pdf.setFont(Ue.ref.name,Ue.ref.style)}else{var Qe="";("bold"===Ce||parseInt(Ce,10)>=700||"bold"===Be)&&(Qe="bold"),"italic"===Be&&(Qe+="italic"),0===Qe.length&&(Qe="normal");for(var it="",Ye={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vt=0;Vt<J.length;Vt++){if(void 0!==this.pdf.internal.getFont(J[Vt],Qe,{noFallback:!0,disableWarning:!0})){it=J[Vt];break}if("bolditalic"===Qe&&void 0!==this.pdf.internal.getFont(J[Vt],"bold",{noFallback:!0,disableWarning:!0}))it=J[Vt],Qe="bold";else if(void 0!==this.pdf.internal.getFont(J[Vt],"normal",{noFallback:!0,disableWarning:!0})){it=J[Vt],Qe="normal";break}}if(""===it)for(var kt=0;kt<J.length;kt++)if(Ye[J[kt]]){it=Ye[J[kt]];break}this.pdf.setFont(it=""===it?"Times":it,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};d.prototype.setLineDash=function(Q){this.lineDash=Q},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){_.call(this,"fill",!1)},d.prototype.stroke=function(){_.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(Q,j){if(isNaN(Q)||isNaN(j))throw ho.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(Q,j)},d.prototype.closePath=function(){var Q=new o(0,0),j=0;for(j=this.path.length-1;-1!==j;j--)if("begin"===this.path[j].type&&"object"===(0,uo.A)(this.path[j+1])&&"number"==typeof this.path[j+1].x){Q=new o(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},d.prototype.lineTo=function(Q,j){if(isNaN(Q)||isNaN(j))throw ho.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},d.prototype.quadraticCurveTo=function(Q,j,K,oe){if(isNaN(K)||isNaN(oe)||isNaN(Q)||isNaN(j))throw ho.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(K,oe)),le=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"qct",x1:le.x,y1:le.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},d.prototype.bezierCurveTo=function(Q,j,K,oe,se,le){if(isNaN(se)||isNaN(le)||isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw ho.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var te=this.ctx.transform.applyToPoint(new o(se,le)),ee=this.ctx.transform.applyToPoint(new o(Q,j)),Ae=this.ctx.transform.applyToPoint(new o(K,oe));this.path.push({type:"bct",x1:ee.x,y1:ee.y,x2:Ae.x,y2:Ae.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},d.prototype.arc=function(Q,j,K,oe,se,le){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe)||isNaN(se))throw ho.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var te=this.ctx.transform.applyToPoint(new o(Q,j));Q=te.x,j=te.y;var ee=this.ctx.transform.applyToPoint(new o(0,K)),Ae=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(ee.x-Ae.x,2)+Math.pow(ee.y-Ae.y,2))}Math.abs(se-oe)>=2*Math.PI&&(oe=0,se=2*Math.PI),this.path.push({type:"arc",x:Q,y:j,radius:K,startAngle:oe,endAngle:se,counterclockwise:le})},d.prototype.arcTo=function(Q,j,K,oe,se){throw new Error("arcTo not implemented.")},d.prototype.rect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw ho.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,j),this.lineTo(Q+K,j),this.lineTo(Q+K,j+oe),this.lineTo(Q,j+oe),this.lineTo(Q,j),this.lineTo(Q+K,j),this.lineTo(Q,j)},d.prototype.fillRect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw ho.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var se={};"butt"!==this.lineCap&&(se.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,j,K,oe),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},d.prototype.strokeRect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw ho.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(Q,j,K,oe),this.stroke())},d.prototype.clearRect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw ho.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,j,K,oe))},d.prototype.save=function(Q){Q="boolean"!=typeof Q||Q;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},d.prototype.restore=function(Q){Q="boolean"!=typeof Q||Q;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(j),Q&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(Q){var j,K,oe,se;if(!0===Q.isCanvasGradient&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))j=0,K=0,oe=0,se=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(null!==le)j=parseInt(le[1]),K=parseInt(le[2]),oe=parseInt(le[3]),se=1;else if(null!==(le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q)))j=parseInt(le[1]),K=parseInt(le[2]),oe=parseInt(le[3]),se=parseFloat(le[4]);else{if(se=1,"string"==typeof Q&&"#"!==Q.charAt(0)){var te=new vZ(Q);Q=te.ok?te.toHex():"#000000"}4===Q.length?(j=Q.substring(1,2),j+=j,K=Q.substring(2,3),K+=K,oe=Q.substring(3,4),oe+=oe):(j=Q.substring(1,3),K=Q.substring(3,5),oe=Q.substring(5,7)),j=parseInt(j,16),K=parseInt(K,16),oe=parseInt(oe,16)}}return{r:j,g:K,b:oe,a:se,style:Q}},h=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},A=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};d.prototype.fillText=function(Q,j,K,oe){if(isNaN(j)||isNaN(K)||"string"!=typeof Q)throw ho.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!h.call(this)){var se=G(this.ctx.transform.rotation);R.call(this,{text:Q,x:j,y:K,scale:this.ctx.transform.scaleX,angle:se,align:this.textAlign,maxWidth:oe})}},d.prototype.strokeText=function(Q,j,K,oe){if(isNaN(j)||isNaN(K)||"string"!=typeof Q)throw ho.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){oe=isNaN(oe)?void 0:oe;var se=G(this.ctx.transform.rotation);R.call(this,{text:Q,x:j,y:K,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:oe})}},d.prototype.measureText=function(Q){if("string"!=typeof Q)throw ho.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,K=this.pdf.internal.scaleFactor,oe=j.internal.getFontSize(),se=j.getStringUnitWidth(Q)*oe/j.internal.scaleFactor;return new function(te){var ee=(te=te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this}({width:se*=Math.round(96*K/72*1e4)/1e4})},d.prototype.scale=function(Q,j){if(isNaN(Q)||isNaN(j))throw ho.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(Q,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.rotate=function(Q){if(isNaN(Q))throw ho.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new l(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},d.prototype.translate=function(Q,j){if(isNaN(Q)||isNaN(j))throw ho.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,Q,j);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.transform=function(Q,j,K,oe,se,le){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe)||isNaN(se)||isNaN(le))throw ho.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var te=new l(Q,j,K,oe,se,le);this.ctx.transform=this.ctx.transform.multiply(te)},d.prototype.setTransform=function(Q,j,K,oe,se,le){Q=isNaN(Q)?1:Q,j=isNaN(j)?0:j,K=isNaN(K)?0:K,oe=isNaN(oe)?1:oe,se=isNaN(se)?0:se,le=isNaN(le)?0:le,this.ctx.transform=new l(Q,j,K,oe,se,le)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(Q,j,K,oe,se,le,te,ee,Ae){var Ee=this.pdf.getImageProperties(Q),ge=1,Se=1,ne=1,Y=1;void 0!==oe&&void 0!==ee&&(ne=ee/oe,Y=Ae/se,ge=Ee.width/oe*ee/oe,Se=Ee.height/se*Ae/se),void 0===le&&(le=j,te=K,j=0,K=0),void 0!==oe&&void 0===ee&&(ee=oe,Ae=se),void 0===oe&&void 0===ee&&(ee=Ee.width,Ae=Ee.height);for(var W,Be=this.ctx.transform.decompose(),Ce=G(Be.rotate.shx),Pe=new l,Oe=(Pe=(Pe=(Pe=Pe.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new a(le-j*ne,te-K*Y,oe*ge,se*Se)),re=m.call(this,Oe),J=[],Ue=0;Ue<re.length;Ue+=1)-1===J.indexOf(re[Ue])&&J.push(re[Ue]);if(v(J),this.autoPaging)for(var Qe=J[0],it=J[J.length-1],Ye=Qe;Ye<it+1;Ye++){this.pdf.setPage(Ye);var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=1===Ye?this.posY+this.margin[0]:this.margin[0],En=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=1===Ye?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ye-2)*En;if(0!==this.ctx.clip_path.length){var wn=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(W,this.posX+this.margin[3],-ot+kt+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=wn}var vn=JSON.parse(JSON.stringify(Oe));vn=y([vn],this.posX+this.margin[3],-ot+kt+this.ctx.prevPageLastElemOffset)[0];var Sn=(Ye>Qe||Ye<it)&&p.call(this);Sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,En,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",vn.x,vn.y,vn.w,vn.h,null,null,Ce),Sn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Ce)};var m=function(Q,j,K){var oe=[];j=j||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":oe.push(Math.floor((Q.y+se)/K)+1);break;case"arc":oe.push(Math.floor((Q.y+se-Q.radius)/K)+1),oe.push(Math.floor((Q.y+se+Q.radius)/K)+1);break;case"qct":var le=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);oe.push(Math.floor((le.y+se)/K)+1),oe.push(Math.floor((le.y+le.h+se)/K)+1);break;case"bct":var te=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);oe.push(Math.floor((te.y+se)/K)+1),oe.push(Math.floor((te.y+te.h+se)/K)+1);break;case"rect":oe.push(Math.floor((Q.y+se)/K)+1),oe.push(Math.floor((Q.y+Q.h+se)/K)+1)}for(var ee=0;ee<oe.length;ee+=1)for(;this.pdf.internal.getNumberOfPages()<oe[ee];)g.call(this);return oe},g=function(){var Q=this.fillStyle,j=this.strokeStyle,K=this.font,oe=this.lineCap,se=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=j,this.font=K,this.lineCap=oe,this.lineWidth=se,this.lineJoin=le},y=function(Q,j,K){for(var oe=0;oe<Q.length;oe++)switch(Q[oe].type){case"bct":Q[oe].x2+=j,Q[oe].y2+=K;case"qct":Q[oe].x1+=j,Q[oe].y1+=K;default:Q[oe].x+=j,Q[oe].y+=K}return Q},v=function(Q){return Q.sort(function(j,K){return j-K})},_=function(Q,j){for(var K,oe,se=this.fillStyle,le=this.strokeStyle,te=this.lineCap,ee=this.lineWidth,Ae=Math.abs(ee*this.ctx.transform.scaleX),Ee=this.lineJoin,ge=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),ne=[],Y=0;Y<Se.length;Y++)if(void 0!==Se[Y].x)for(var W=m.call(this,Se[Y]),Be=0;Be<W.length;Be+=1)-1===ne.indexOf(W[Be])&&ne.push(W[Be]);for(var Ce=0;Ce<ne.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<ne[Ce];)g.call(this);if(v(ne),this.autoPaging)for(var Pe=ne[0],Oe=ne[ne.length-1],re=Pe;re<Oe+1;re++){this.pdf.setPage(re),this.fillStyle=se,this.strokeStyle=le,this.lineCap=te,this.lineWidth=Ae,this.lineJoin=Ee;var J=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=1===re?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=1===re?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(re-2)*it;if(0!==this.ctx.clip_path.length){var Vt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(K,this.posX+this.margin[3],-Ye+Ue+this.ctx.prevPageLastElemOffset),C.call(this,Q,!0),this.path=Vt}if(oe=JSON.parse(JSON.stringify(ge)),this.path=y(oe,this.posX+this.margin[3],-Ye+Ue+this.ctx.prevPageLastElemOffset),!1===j||0===re){var kt=(re>Pe||re<Oe)&&p.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],J,it,null).clip().discardPath()),C.call(this,Q,j),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ee}else this.lineWidth=Ae,C.call(this,Q,j),this.lineWidth=ee;this.path=ge},C=function(Q,j){if(("stroke"!==Q||j||!A.call(this))&&("stroke"===Q||j||!h.call(this))){for(var K,oe,se=[],le=this.path,te=0;te<le.length;te++){var ee=le[te];switch(ee.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ee,deltas:[],abs:[]});break;case"lt":var Ae=se.length;if(le[te-1]&&!isNaN(le[te-1].x)&&(K=[ee.x-le[te-1].x,ee.y-le[te-1].y],Ae>0))for(;Ae>=0;Ae--)if(!0!==se[Ae-1].close&&!0!==se[Ae-1].begin){se[Ae-1].deltas.push(K),se[Ae-1].abs.push(ee);break}break;case"bct":se[se.length-1].deltas.push(K=[ee.x1-le[te-1].x,ee.y1-le[te-1].y,ee.x2-le[te-1].x,ee.y2-le[te-1].y,ee.x-le[te-1].x,ee.y-le[te-1].y]);break;case"qct":se[se.length-1].deltas.push(K=[le[te-1].x+2/3*(ee.x1-le[te-1].x)-le[te-1].x,le[te-1].y+2/3*(ee.y1-le[te-1].y)-le[te-1].y,ee.x+2/3*(ee.x1-ee.x)-le[te-1].x,ee.y+2/3*(ee.y1-ee.y)-le[te-1].y,ee.x-le[te-1].x,ee.y-le[te-1].y]);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ee)}}oe=j?null:"stroke"===Q?"stroke":"fill";for(var Be=!1,Ce=0;Ce<se.length;Ce++)if(se[Ce].arc)for(var Pe=se[Ce].abs,Oe=0;Oe<Pe.length;Oe++){var re=Pe[Oe];"arc"===re.type?D.call(this,re.x,re.y,re.radius,re.startAngle,re.endAngle,re.counterclockwise,void 0,j,!Be):U.call(this,re.x,re.y),Be=!0}else!0===se[Ce].close?(this.pdf.internal.out("h"),Be=!1):!0!==se[Ce].begin&&(k.call(this,se[Ce].deltas,se[Ce].start.x,se[Ce].start.y),Be=!0);oe&&S.call(this,oe),j&&T.call(this)}},b=function(Q){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-K;case"top":return Q+j-K;case"hanging":return Q+j-2*K;case"middle":return Q+j/2-K;default:return Q}},M=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(j,K){this.colorStops.push([j,K])},Q.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(Q,j,K,oe,se,le,te,ee,Ae){for(var Ee=O.call(this,K,oe,se,le),ge=0;ge<Ee.length;ge++){var Se=Ee[ge];0===ge&&(Ae?B.call(this,Se.x1+Q,Se.y1+j):U.call(this,Se.x1+Q,Se.y1+j)),q.call(this,Q,j,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}ee?T.call(this):S.call(this,te)},S=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(Q,j){this.pdf.internal.out(t(Q)+" "+r(j)+" m")},R=function(Q){var j;switch(Q.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var K=this.pdf.getTextDimensions(Q.text),oe=b.call(this,Q.y),se=M.call(this,oe)-K.h,le=this.ctx.transform.applyToPoint(new o(Q.x,oe)),te=this.ctx.transform.decompose(),ee=new l;ee=(ee=(ee=ee.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var Ae,Ee,ge,Se=this.ctx.transform.applyToRectangle(new a(Q.x,oe,K.w,K.h)),ne=ee.applyToRectangle(new a(Q.x,se,K.w,K.h)),Y=m.call(this,ne),W=[],Be=0;Be<Y.length;Be+=1)-1===W.indexOf(Y[Be])&&W.push(Y[Be]);if(v(W),this.autoPaging)for(var Ce=W[0],Pe=W[W.length-1],Oe=Ce;Oe<Pe+1;Oe++){this.pdf.setPage(Oe);var re=1===Oe?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.margin[2],Qe=Ue-this.margin[0],it=this.pdf.internal.pageSize.width-this.margin[1],Ye=it-this.margin[3],Vt=1===Oe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Oe-2)*Qe;if(0!==this.ctx.clip_path.length){var kt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Ae,this.posX+this.margin[3],-1*Vt+re),C.call(this,"fill",!0),this.path=kt}var Ot=y([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-Vt+re+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*Q.scale),this.lineWidth=(ge=this.lineWidth)*Q.scale);var En="text"!==this.autoPaging;if(En||Ot.y+Ot.h<=Ue){if(En||Ot.y>=re&&Ot.x<=it){var ot=En?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||it-Ot.x)[0],wn=y([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-Vt+re+this.ctx.prevPageLastElemOffset)[0],vn=En&&(Oe>Ce||Oe<Pe)&&p.call(this);vn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Qe,null).clip().discardPath()),this.pdf.text(ot,wn.x,wn.y,{angle:Q.angle,align:j,renderingMode:Q.renderingMode}),vn&&this.pdf.restoreGraphicsState()}}else Ot.y<Ue&&(this.ctx.prevPageLastElemOffset+=Ue-Ot.y);Q.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=ge)}else Q.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*Q.scale),this.lineWidth=(ge=this.lineWidth)*Q.scale),this.pdf.text(Q.text,le.x+this.posX,le.y+this.posY,{angle:Q.angle,align:j,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=ge)},U=function(Q,j,K,oe){oe=oe||0,this.pdf.internal.out(t(Q+(K=K||0))+" "+r(j+oe)+" l")},k=function(Q,j,K){return this.pdf.lines(Q,j,K,null,null)},q=function(Q,j,K,oe,se,le,te,ee){this.pdf.internal.out([e(i(K+Q)),e(s(oe+j)),e(i(se+Q)),e(s(le+j)),e(i(te+Q)),e(s(ee+j)),"c"].join(" "))},O=function(Q,j,K,oe){for(var se=2*Math.PI,le=Math.PI/2;j>K;)j-=se;var te=Math.abs(K-j);te<se&&oe&&(te=se-te);for(var ee=[],Ae=oe?-1:1,Ee=j;te>1e-5;){var ge=Ee+Ae*Math.min(te,le);ee.push(P.call(this,Q,Ee,ge)),te-=Math.abs(ge-Ee),Ee=ge}return ee},P=function(Q,j,K){var oe=(K-j)/2,se=Q*Math.cos(oe),le=Q*Math.sin(oe),te=se,ee=-le,Ae=te*te+ee*ee,Ee=Ae+te*se+ee*le,ge=4/3*(Math.sqrt(2*Ae*Ee)-Ee)/(te*le-ee*se),Se=te-ge*ee,ne=ee+ge*te,Y=Se,W=-ne,Be=oe+j,Ce=Math.cos(Be),Pe=Math.sin(Be);return{x1:Q*Math.cos(j),y1:Q*Math.sin(j),x2:Se*Ce-ne*Pe,y2:Se*Pe+ne*Ce,x3:Y*Ce-W*Pe,y3:Y*Pe+W*Ce,x4:Q*Math.cos(K),y4:Q*Math.sin(K)}},G=function(Q){return 180*Q/Math.PI},H=function(Q,j,K,oe,se,le){var te=Q+.5*(K-Q),ee=j+.5*(oe-j),Ae=se+.5*(K-se),Ee=le+.5*(oe-le),ge=Math.min(Q,se,te,Ae),Se=Math.max(Q,se,te,Ae),ne=Math.min(j,le,ee,Ee),Y=Math.max(j,le,ee,Ee);return new a(ge,ne,Se-ge,Y-ne)},ae=function(Q,j,K,oe,se,le,te,ee){var Ae,Ee,ge,Se,ne,Y,W,Be,Ce,Pe,Oe,re,J,Ue,Qe=K-Q,it=oe-j,Ye=se-K,Vt=le-oe,kt=te-se,Ot=ee-le;for(Ee=0;Ee<41;Ee++)Ce=(W=(ge=Q+(Ae=Ee/40)*Qe)+Ae*((ne=K+Ae*Ye)-ge))+Ae*(ne+Ae*(se+Ae*kt-ne)-W),Pe=(Be=(Se=j+Ae*it)+Ae*((Y=oe+Ae*Vt)-Se))+Ae*(Y+Ae*(le+Ae*Ot-Y)-Be),0==Ee?(Oe=Ce,re=Pe,J=Ce,Ue=Pe):(Oe=Math.min(Oe,Ce),re=Math.min(re,Pe),J=Math.max(J,Ce),Ue=Math.max(Ue,Pe));return new a(Math.round(Oe),Math.round(re),Math.round(J-Oe),Math.round(Ue-re))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var K=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Er.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(s){var o,a,l,c,u,d,f,h,A,p;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)0!==(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))?(d=(u=((u=((u=((u=(u-(p=u%85))/85)-(A=u%85))/85)-(h=u%85))/85)-(f=u%85))/85)%85,a.push(d+33,f+33,h+33,A+33,p+33)):a.push(122);return function(m,g){for(var y=g;y>0;y--)m.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,u,d=String,f="length",h=255,A="charCodeAt",p="slice",m="replace";for(s[p](-2),s=s[p](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[p](s[f]%5||5))[f];u>c;c+=5)a=52200625*(s[A](c)-33)+614125*(s[A](c+1)-33)+7225*(s[A](c+2)-33)+85*(s[A](c+3)-33)+(s[A](c+4)-33),l.push(h&a>>24,h&a>>16,h&a>>8,h&a);return function(g,y){for(var v=y;v>0;v--)g.pop()}(l,o[f]),d.fromCharCode.apply(d,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===o.test(s))return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return(o=WS(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Er.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=!1!==s,o="function"==typeof o?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,f=0,h=function(A){var p=A.length,m=[],g=String.fromCharCode;for(f=0;f<p;f+=1)m.push(g(255&A.charCodeAt(f)));return m.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(d.onload=function(){u(200===d.status?h(this.responseText):void 0)}),d.send(null),c&&200===d.status)return h(d.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(Er.API),function(n){function e(){return(Mr.html2canvas?Promise.resolve(Mr.html2canvas):Promise.resolve().then(_e.t.bind(_e,6990,23))).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Mr.DOMPurify?Promise.resolve(Mr.DOMPurify):_e.e(890).then(_e.t.bind(_e,9890,23))).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=(0,uo.A)(o);return"undefined"===a?"undefined":"string"===a||o instanceof String?"string":"number"===a||o instanceof Number?"number":"function"===a||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&1===o.nodeType?"element":"object"===a?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return"canvas"===l.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=3===c.nodeType?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)!0!==u&&1===f.nodeType&&"SCRIPT"===f.nodeName||d.appendChild(l(f,u));return 1===c.nodeType&&("CANVAS"===c.nodeName?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):"TEXTAREA"!==c.nodeName&&"SELECT"!==c.nodeName||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===a.tagName&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var h=c[f],A=h.src.find(function(p){return"truetype"===p.format});A&&l.addFont(A.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=0==d.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return"img"===(l=l||"pdf").toLowerCase()||"image"===l.toLowerCase()?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if("object"!==r(o))return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(2===o.length&&(o=[o[0],o[1],o[0],o[1]]),4===o.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Er.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return null!=o&&(this.progress.val=o),null!=a&&(this.progress.state=a),null!=l&&(this.progress.n=l),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Er.getPageSize=function(o,a,l){if("object"===(0,uo.A)(o)){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var h,A=0,p=0;if(f.hasOwnProperty(d))A=f[d][1]/u,p=f[d][0]/u;else try{A=l[1],p=l[0]}catch{throw new Error("Invalid format: "+l)}if("p"===o||"portrait"===o)o="p",p>A&&(h=p,p=A,A=h);else{if("l"!==o&&"landscape"!==o)throw"Invalid orientation: "+o;o="l",A>p&&(h=p,p=A,A=h)}return{width:p,height:A,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(o8):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Er.API),Er.API.addJS=function(n){return LZ=n,this.internal.events.subscribe("postPutResources",function(){eI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(eI+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),PZ=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+LZ+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==eI&&void 0!==PZ&&this.internal.out("/Names <</JavaScript "+eI+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);null!=a&&t.internal.newObjectDeferredBegin(a[1],!1),t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=t.internal.newObject();u.push(d);var f=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return null==r&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Er.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=o||t)?new Uint8Array(t):t,(l=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),A=d.length,p={width:0,height:0,numcomponents:1},m=4;m<A;m+=2){if(-1!==e.indexOf(d.charCodeAt((m+=h)+1))){f=256*d.charCodeAt(m+5)+d.charCodeAt(m+6),p={width:256*d.charCodeAt(m+7)+d.charCodeAt(m+8),height:f,numcomponents:d.charCodeAt(m+9)};break}h=256*d.charCodeAt(m+2)+d.charCodeAt(m+3)}return p}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Er.API);var vb,tI,UZ,kZ,HZ,uRe=function(){var n,e,t;function r(s){var o,l,c,u,d,f,h,A,p,m,g,y,v;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),A=function(){var _,C;for(C=[],_=0;_<4;++_)C.push(String.fromCharCode(this.data[this.pos++]));return C}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for("fdAT"===A&&(this.pos+=4,o-=4),s=d?.data||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((p=l-this.transparency.indexed.length)>0)for(y=0;0<=p?y<p:y>p;0<=p?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(m=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,m.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,m.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(v=this.colorType)||6===v,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function u(d,f,h,A){var p,m,g,y,v,_,C,b,D,S,T,B,R,U,k,q,O,P,G,H,ae=Math.ceil((c.width-d)/h),ve=Math.ceil((c.height-f)/A),Q=c.width==ae&&c.height==ve;for(R=o*ae,T=Q?a:new Uint8Array(R*ve),_=s.length,B=0,m=0;B<ve&&l<_;){switch(s[l++]){case 0:for(y=q=0;q<R;y=q+=1)T[m++]=s[l++];break;case 1:for(y=O=0;O<R;y=O+=1)p=s[l++],v=y<o?0:T[m-o],T[m++]=(p+v)%256;break;case 2:for(y=P=0;P<R;y=P+=1)p=s[l++],g=(y-y%o)/o,T[m++]=((U=B&&T[(B-1)*R+g*o+y%o])+p)%256;break;case 3:for(y=G=0;G<R;y=G+=1)p=s[l++],g=(y-y%o)/o,v=y<o?0:T[m-o],U=B&&T[(B-1)*R+g*o+y%o],T[m++]=(p+Math.floor((v+U)/2))%256;break;case 4:for(y=H=0;H<R;y=H+=1)p=s[l++],g=(y-y%o)/o,0===B?U=k=0:(U=T[(B-1)*R+g*o+y%o],k=g&&T[(B-1)*R+(g-1)*o+y%o]),C=(v=y<o?0:T[m-o])+U-k,b=Math.abs(C-v),D=Math.abs(C-U),S=Math.abs(C-k),T[m++]=(p+(b<=D&&b<=S?v:D<=S?U:k))%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!Q){var j=((f+B*A)*c.width+d)*o,K=B*R;for(y=0;y<ae;y+=1){for(var oe=0;oe<o;oe+=1)a[j++]=T[K++];j+=(h-1)*o}}B++}}return s=VN(s),1==c.interlaceMethod?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,d,f,h;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=d=0,f=a.length;d<f;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=null!=(h=u[s++])?h:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,d,f,h,A,p,m,g;if(l=this.colors,p=null,a=this.hasAlphaChannel,this.palette.length&&(p=null!=(g=this._decodedPalette)?g:this._decodedPalette=this.decodePalette(),l=4,a=!0),A=(c=s.data||s).length,d=p||o,u=f=0,1===l)for(;u<A;)h=p?4*o[u/4]:f,m=d[h++],c[u++]=m,c[u++]=m,c[u++]=m,c[u++]=a?d[h++]:255,f=h;else for(;u<A;)h=p?4*o[u/4]:f,c[u++]=d[h++],c[u++]=d[h++],c[u++]=d[h++],c[u++]=a?d[h++]:255,f=h},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if("[object Window]"===Object.prototype.toString.call(Mr)){try{e=Mr.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(!0===i())return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,d,f,h;if(this.animation){for(h=[],a=u=0,d=(f=this.animation.frames).length;u<d;a=++u)l=s.createImageData((o=f[a]).width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,h.push(o.image=n(l));return h}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],0===o&&s.clearRect(0,0,this.width,this.height),1===c?.disposeOp?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):2===c?.disposeOp&&s.putImageData(c.imageData,c.xOffset,c.yOffset),0===a.blendOp&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,d,f=this;return a=0,c=(d=this.animation).numFrames,l=d.frames,u=d.numPlays,(o=function(){var h,A;if(h=a++%c,A=l[h],f.renderFrame(s,h),c>1&&a/c<u)return f.animation._timeout=setTimeout(o,A.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();function dRe(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=1<<1+(7&i);e++,e++;var a=null,l=null;i>>7&&(a=e,l=o,e+=3*o);var c=!0,u=[],d=0,f=null,h=0,A=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,A=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var p=n[e++];d=n[e++]|n[e++]<<8,f=n[e++],!(1&p)&&(f=null),h=p>>2&7,e++;break;case 254:for(;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var m=n[e++]|n[e++]<<8,g=n[e++]|n[e++]<<8,y=n[e++]|n[e++]<<8,v=n[e++]|n[e++]<<8,_=n[e++],C=_>>6&1,b=1<<1+(7&_),M=a,D=l,S=!1;_>>7&&(S=!0,M=e,D=b,e+=3*b);var T=e;for(e++;;){var B;if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}u.push({x:m,y:g,width:y,height:v,has_local_palette:S,palette_offset:M,palette_size:D,data_offset:T,data_length:e-T,transparent_index:f,interlaced:!!C,delay:d,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return A},this.frameInfo=function(R){if(R<0||R>=u.length)throw new Error("Frame index out of range.");return u[R]},this.decodeAndBlitFrameBGRA=function(R,U){var k=this.frameInfo(R),q=k.width*k.height,O=new Uint8Array(q);VZ(n,k.data_offset,O,q);var P=k.palette_offset,G=k.transparent_index;null===G&&(G=256);var H=k.width,ae=t-H,ve=H,Q=4*(k.y*t+k.x),j=4*((k.y+k.height)*t+k.x),K=Q,oe=4*ae;!0===k.interlaced&&(oe+=4*t*7);for(var se=8,le=0,te=O.length;le<te;++le){var ee=O[le];if(0===ve&&(ve=H,(K+=oe)>=j&&(oe=4*ae+4*t*(se-1),K=Q+(H+ae)*(se<<1),se>>=1)),ee===G)K+=4;else{var Ae=n[P+3*ee],Ee=n[P+3*ee+1];U[K++]=n[P+3*ee+2],U[K++]=Ee,U[K++]=Ae,U[K++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(R,U){var k=this.frameInfo(R),q=k.width*k.height,O=new Uint8Array(q);VZ(n,k.data_offset,O,q);var P=k.palette_offset,G=k.transparent_index;null===G&&(G=256);var H=k.width,ae=t-H,ve=H,Q=4*(k.y*t+k.x),j=4*((k.y+k.height)*t+k.x),K=Q,oe=4*ae;!0===k.interlaced&&(oe+=4*t*7);for(var se=8,le=0,te=O.length;le<te;++le){var ee=O[le];if(0===ve&&(ve=H,(K+=oe)>=j&&(oe=4*ae+4*t*(se-1),K=Q+(H+ae)*(se<<1),se>>=1)),ee===G)K+=4;else{var Ee=n[P+3*ee+1],ge=n[P+3*ee+2];U[K++]=n[P+3*ee],U[K++]=Ee,U[K++]=ge,U[K++]=255}--ve}}}function VZ(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,d=0,f=0,h=n[e++],A=new Int32Array(4096),p=null;;){for(;u<16&&0!==h;)d|=n[e++]<<u,u+=8,1===h?h=n[e++]:--h;if(u<l)break;var m=d&c;if(d>>=l,u-=l,m!==s){if(m===o)break;for(var g=m<a?m:p,y=0,v=g;v>s;)v=A[v]>>8,++y;var _=v;if(f+y+(g!==m?1:0)>r)return void ho.log("Warning, gif stream longer than expected.");t[f++]=_;var C=f+=y;for(g!==m&&(t[f++]=_),v=g;y--;)t[--C]=255&(v=A[v]),v>>=8;null!==p&&a<4096&&(A[a++]=p<<8|_,a>=c+1&&l<12&&(++l,c=c<<1|1)),p=m}else a=o+1,c=(1<<(l=i+1))-1,p=null}return f!==r&&ho.log("Warning, gif stream shorter than expected."),t}function l8(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),A=new Array(64),p=[],m=0,g=7,y=new Array(64),v=new Array(64),_=new Array(64),C=new Array(256),b=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(Q,j){for(var K=0,oe=0,se=new Array,le=1;le<=16;le++){for(var te=1;te<=Q[le];te++)se[j[oe]]=[],se[j[oe]][0]=K,se[j[oe]][1]=le,oe++,K++;K*=2}return se}function P(Q){for(var j=Q[0],K=Q[1]-1;K>=0;)j&1<<K&&(m|=1<<g),K--,--g<0&&(255==m?(G(255),G(0)):G(m),g=7,m=0)}function G(Q){p.push(Q)}function H(Q){G(Q>>8&255),G(255&Q)}function ae(Q,j,K,oe,se){for(var le,te=se[0],ee=se[240],Ae=function(Pe,Oe){var re,J,Ue,Qe,it,Ye,Vt,kt,Ot,En,ot=0;for(Ot=0;Ot<8;++Ot){var wn=(re=Pe[ot])+(kt=Pe[ot+7]),vn=re-kt,Sn=(J=Pe[ot+1])+(Vt=Pe[ot+6]),an=J-Vt,$=(Ue=Pe[ot+2])+(Ye=Pe[ot+5]),Fe=Ue-Ye,Xe=(Qe=Pe[ot+3])+(it=Pe[ot+4]),Ne=Qe-it,xt=wn+Xe,rt=wn-Xe,It=Sn+$,fn=Sn-$;Pe[ot]=xt+It,Pe[ot+4]=xt-It;var Wt=.707106781*(fn+rt);Pe[ot+2]=rt+Wt,Pe[ot+6]=rt-Wt;var Hn=.382683433*((xt=Ne+Fe)-(fn=an+vn)),zs=.5411961*xt+Hn,ls=1.306562965*fn+Hn,Si=.707106781*(It=Fe+an),ca=vn+Si,nr=vn-Si;Pe[ot+5]=nr+zs,Pe[ot+3]=nr-zs,Pe[ot+1]=ca+ls,Pe[ot+7]=ca-ls,ot+=8}for(ot=0,Ot=0;Ot<8;++Ot){var Ju=(re=Pe[ot])+(kt=Pe[ot+56]),Pd=re-kt,ua=(J=Pe[ot+8])+(Vt=Pe[ot+48]),Yo=J-Vt,Jo=(Ue=Pe[ot+16])+(Ye=Pe[ot+40]),Lc=Ue-Ye,Ff=(Qe=Pe[ot+24])+(it=Pe[ot+32]),wh=Qe-it,Uc=Ju+Ff,Zu=Ju-Ff,ed=ua+Jo,Ch=ua-Jo;Pe[ot]=Uc+ed,Pe[ot+32]=Uc-ed;var td=.707106781*(Ch+Zu);Pe[ot+16]=Zu+td,Pe[ot+48]=Zu-td;var Eh=.382683433*((Uc=wh+Lc)-(Ch=Yo+Pd)),ng=.5411961*Uc+Eh,Jm=1.306562965*Ch+Eh,we=.707106781*(ed=Lc+Yo),tt=Pd+we,yt=Pd-we;Pe[ot+40]=yt+ng,Pe[ot+24]=yt-ng,Pe[ot+8]=tt+Jm,Pe[ot+56]=tt-Jm,ot++}for(Ot=0;Ot<64;++Ot)h[Ot]=(En=Pe[Ot]*Oe[Ot])>0?En+.5|0:En-.5|0;return h}(Q,j),Ee=0;Ee<64;++Ee)A[M[Ee]]=Ae[Ee];var ge=A[0]-K;K=A[0],0==ge?P(oe[0]):(P(oe[f[le=32767+ge]]),P(d[le]));for(var Se=63;Se>0&&0==A[Se];)Se--;if(0==Se)return P(te),K;for(var ne,Y=1;Y<=Se;){for(var W=Y;0==A[Y]&&Y<=Se;)++Y;var Be=Y-W;if(Be>=16){ne=Be>>4;for(var Ce=1;Ce<=ne;++Ce)P(ee);Be&=15}P(se[(Be<<4)+f[le=32767+A[Y]]]),P(d[le]),Y++}return 63!=Se&&P(te),K}function ve(Q){Q=Math.min(Math.max(Q,1),100),s!=Q&&(function(j){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var se=o((K[oe]*j+50)/100);se=Math.min(Math.max(se,1),255),a[M[oe]]=se}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var ee=o((le[te]*j+50)/100);ee=Math.min(Math.max(ee,1),255),l[M[te]]=ee}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,ge=0;ge<8;ge++)for(var Se=0;Se<8;Se++)c[Ee]=1/(a[M[Ee]]*Ae[ge]*Ae[Se]*8),u[Ee]=1/(l[M[Ee]]*Ae[ge]*Ae[Se]*8),Ee++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),s=Q)}this.encode=function(Q,j){var J,Ue;j&&ve(j),p=new Array,m=0,g=7,H(65496),H(65504),H(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),H(1),H(1),G(0),G(0),function(){H(65499),H(132),G(0);for(var J=0;J<64;J++)G(a[J]);G(1);for(var Ue=0;Ue<64;Ue++)G(l[Ue])}(),J=Q.width,Ue=Q.height,H(65472),H(17),G(8),H(Ue),H(J),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1),function(){H(65476),H(418),G(0);for(var J=0;J<16;J++)G(D[J+1]);for(var Ue=0;Ue<=11;Ue++)G(S[Ue]);G(16);for(var Qe=0;Qe<16;Qe++)G(T[Qe+1]);for(var it=0;it<=161;it++)G(B[it]);G(1);for(var Ye=0;Ye<16;Ye++)G(R[Ye+1]);for(var Vt=0;Vt<=11;Vt++)G(U[Vt]);G(17);for(var kt=0;kt<16;kt++)G(k[kt+1]);for(var Ot=0;Ot<=161;Ot++)G(q[Ot])}(),H(65498),H(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var K=0,oe=0,se=0;m=0,g=7,this.encode.displayName="_encode_";for(var le,te,ee,Ae,Ee,ge,Se,ne,Y,W=Q.data,Ce=Q.height,Pe=4*Q.width,Oe=0;Oe<Ce;){for(le=0;le<Pe;){for(Ee=Pe*Oe+le,Se=-1,ne=0,Y=0;Y<64;Y++)ge=Ee+(ne=Y>>3)*Pe+(Se=4*(7&Y)),Oe+ne>=Ce&&(ge-=Pe*(Oe+1+ne-Ce)),le+Se>=Pe&&(ge-=le+Se-Pe+4),te=W[ge++],ee=W[ge++],Ae=W[ge++],y[Y]=(b[te]+b[ee+256|0]+b[Ae+512|0]>>16)-128,v[Y]=(b[te+768|0]+b[ee+1024|0]+b[Ae+1280|0]>>16)-128,_[Y]=(b[te+1280|0]+b[ee+1536|0]+b[Ae+1792|0]>>16)-128;K=ae(y,c,K,e,r),oe=ae(v,u,oe,t,i),se=ae(_,u,se,t,i),le+=32}Oe+=8}if(g>=0){var re=[];re[1]=g+1,re[0]=(1<<g+1)-1,P(re)}return H(65497),new Uint8Array(p)},n=n||50,function(){for(var Q=String.fromCharCode,j=0;j<256;j++)C[j]=Q(j)}(),e=O(D,S),t=O(R,U),r=O(T,B),i=O(k,q),function(){for(var Q=1,j=2,K=1;K<=15;K++){for(var oe=Q;oe<j;oe++)f[32767+oe]=K,d[32767+oe]=[],d[32767+oe][1]=K,d[32767+oe][0]=oe;for(var se=-(j-1);se<=-Q;se++)f[32767+se]=K,d[32767+se]=[],d[32767+se][1]=K,d[32767+se][0]=j-1+se;Q<<=1,j<<=1}}(),function(){for(var Q=0;Q<256;Q++)b[Q]=19595*Q,b[Q+256|0]=38470*Q,b[Q+512|0]=7471*Q+32768,b[Q+768|0]=-11059*Q,b[Q+1024|0]=-21709*Q,b[Q+1280|0]=32768*Q+8421375,b[Q+1536|0]=-27439*Q,b[Q+1792|0]=-5329*Q}(),ve(n)}function mf(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QZ(n){function e(D){if(!D)throw Error("assert :P")}function t(D,S,T){for(var B=0;4>B;B++)if(D[S+B]!=T.charCodeAt(B))return!0;return!1}function r(D,S,T,B,R){for(var U=0;U<R;U++)D[S+U]=T[B+U]}function i(D,S,T,B){for(var R=0;R<B;R++)D[S+R]=T}function s(D){return new Int32Array(D)}function o(D,S){for(var T=[],B=0;B<D;B++)T.push(new S);return T}function a(D,S){var T=[];return function B(R,U,k){for(var q=k[U],O=0;O<q&&(R.push(k.length>U+1?[]:new S),!(k.length<U+1));O++)B(R[O],U+1,k)}(T,0,D),T}var l=function(){var D=this;function S(w,F){for(var V=1<<F-1>>>0;w&V;)V>>>=1;return V?(w&V-1)+V:w}function T(w,F,V,X,ue){e(!(X%V));do{w[F+(X-=V)]=ue}while(0<X)}function B(w,F,V,X,ue){if(e(2328>=ue),512>=ue)var fe=s(512);else if(null==(fe=s(ue)))return 0;return function(pe,me,be,Ie,$e,ht){var ft,nt,Kt=me,Mt=1<<be,Ke=s(16),Ze=s(16);for(e(0!=$e),e(null!=Ie),e(null!=pe),e(0<be),nt=0;nt<$e;++nt){if(15<Ie[nt])return 0;++Ke[Ie[nt]]}if(Ke[0]==$e)return 0;for(Ze[1]=0,ft=1;15>ft;++ft){if(Ke[ft]>1<<ft)return 0;Ze[ft+1]=Ze[ft]+Ke[ft]}for(nt=0;nt<$e;++nt)ft=Ie[nt],0<Ie[nt]&&(ht[Ze[ft]++]=nt);if(1==Ze[15])return(Ie=new R).g=0,Ie.value=ht[0],T(pe,Kt,1,Mt,Ie),Mt;var qt,en=-1,$t=Mt-1,Qn=0,In=1,vr=1,Pn=1<<be;for(nt=0,ft=1,$e=2;ft<=be;++ft,$e<<=1){if(In+=vr<<=1,0>(vr-=Ke[ft]))return 0;for(;0<Ke[ft];--Ke[ft])(Ie=new R).g=ft,Ie.value=ht[nt++],T(pe,Kt+Qn,$e,Pn,Ie),Qn=S(Qn,ft)}for(ft=be+1,$e=2;15>=ft;++ft,$e<<=1){if(In+=vr<<=1,0>(vr-=Ke[ft]))return 0;for(;0<Ke[ft];--Ke[ft]){if(Ie=new R,(Qn&$t)!=en){for(Kt+=Pn,qt=1<<(en=ft)-be;15>en&&!(0>=(qt-=Ke[en]));)++en,qt<<=1;Mt+=Pn=1<<(qt=en-be),pe[me+(en=Qn&$t)].g=qt+be,pe[me+en].value=Kt-me-en}Ie.g=ft-be,Ie.value=ht[nt++],T(pe,Kt+(Qn>>be),$e,Pn,Ie),Qn=S(Qn,ft)}}return In!=2*Ze[15]-1?0:Mt}(w,F,V,X,ue,fe)}function R(){this.value=this.g=0}function U(){this.value=this.g=0}function k(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(dc,U)}function q(w,F,V,X){e(null!=w),e(null!=F),e(2147483648>X),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=F,w.pa=V,w.Jd=F,w.Yc=V+X,w.Zc=4<=X?V+X-4+1:V,le(w)}function O(w,F){for(var V=0;0<F--;)V|=ee(w,128)<<F;return V}function P(w,F){var V=O(w,F);return te(w)?-V:V}function G(w,F,V,X){var ue,fe=0;for(e(null!=w),e(null!=F),e(4294967288>X),w.Sb=X,w.Ra=0,w.u=0,w.h=0,4<X&&(X=4),ue=0;ue<X;++ue)fe+=F[V+ue]<<8*ue;w.Ra=fe,w.bb=X,w.oa=F,w.pa=V}function H(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<yw-8>>>0,++w.bb,w.u-=8;K(w)&&(w.h=1,w.u=0)}function ae(w,F){if(e(0<=F),!w.h&&F<=vw){var V=j(w)&mw[F];return w.u+=F,H(w),V}return w.h=1,w.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(w){return w.Ra>>>(w.u&yw-1)>>>0}function K(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>yw}function oe(w,F){w.u=F,w.h=K(w)}function se(w){w.u>=t2&&(e(w.u>=t2),H(w))}function le(w){e(null!=w&&null!=w.oa),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(null!=w&&null!=w.oa),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function te(w){return O(w,1)}function ee(w,F){var V=w.Ca;0>w.b&&le(w);var X=w.b,ue=V*F>>>8,fe=(w.I>>>X>ue)+0;for(fe?(V-=ue,w.I-=ue+1<<X>>>0):V=ue+1,X=V,ue=0;256<=X;)ue+=8,X>>=8;return w.b-=X=7^ue+nd[X],w.Ca=(V<<X)-1,fe}function Ae(w,F,V){w[F+0]=V>>24&255,w[F+1]=V>>16&255,w[F+2]=V>>8&255,w[F+3]=255&V}function Ee(w,F){return w[F+0]|w[F+1]<<8}function ge(w,F){return Ee(w,F)|w[F+2]<<16}function Se(w,F){return Ee(w,F)|Ee(w,F+2)<<16}function ne(w,F){var V=1<<F;return e(null!=w),e(0<F),w.X=s(V),null==w.X?0:(w.Mb=32-F,w.Xa=F,1)}function Y(w,F){e(null!=w),e(null!=F),e(w.Xa==F.Xa),r(F.X,0,w.X,0,1<<F.Xa)}function W(){this.X=[],this.Xa=this.Mb=0}function Be(w,F,V,X){e(null!=V),e(null!=X);var ue=V[0],fe=X[0];return 0==ue&&(ue=(w*fe+F/2)/F),0==fe&&(fe=(F*ue+w/2)/w),0>=ue||0>=fe?0:(V[0]=ue,X[0]=fe,1)}function Ce(w,F){return w+(1<<F)-1>>>F}function Pe(w,F){return((4278255360&w)+(4278255360&F)>>>0&4278255360)+((16711935&w)+(16711935&F)>>>0&16711935)>>>0}function Oe(w,F){D[F]=function(V,X,ue,fe,pe,me,be){var Ie;for(Ie=0;Ie<pe;++Ie){var $e=D[w](me[be+Ie-1],ue,fe+Ie);me[be+Ie]=Pe(V[X+Ie],$e)}}}function re(){this.ud=this.hd=this.jd=0}function J(w,F){return((4278124286&(w^F))>>>1)+(w&F)>>>0}function Ue(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Qe(w,F){return Ue(w+(w-F+.5>>1))}function it(w,F,V){return Math.abs(F-V)-Math.abs(w-V)}function Ye(w,F,V,X,ue,fe,pe){for(X=fe[pe-1],V=0;V<ue;++V)fe[pe+V]=X=Pe(w[F+V],X)}function Vt(w,F,V,X,ue){var fe;for(fe=0;fe<V;++fe){var pe=w[F+fe],me=pe>>8&255,be=16711935&(be=(be=16711935&pe)+((me<<16)+me));X[ue+fe]=(4278255360&pe)+be>>>0}}function kt(w,F){F.jd=255&w,F.hd=w>>8&255,F.ud=w>>16&255}function Ot(w,F,V,X,ue,fe){var pe;for(pe=0;pe<X;++pe){var me=F[V+pe],be=me>>>8,Ie=me,$e=255&($e=($e=me>>>16)+((w.jd<<24>>24)*(be<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(w.hd<<24>>24)*(be<<24>>24)>>>5)+((w.ud<<24>>24)*($e<<24>>24)>>>5)),ue[fe+pe]=(4278255360&me)+($e<<16)+Ie}}function En(w,F,V,X,ue){D[F]=function(fe,pe,me,be,Ie,$e,ht,ft,nt){for(be=ht;be<ft;++be)for(ht=0;ht<nt;++ht)Ie[$e++]=ue(me[X(fe[pe++])])},D[w]=function(fe,pe,me,be,Ie,$e,ht){var ft=8>>fe.b,nt=fe.Ea,Kt=fe.K[0],Mt=fe.w;if(8>ft)for(fe=(1<<fe.b)-1,Mt=(1<<ft)-1;pe<me;++pe){var Ke,Ze=0;for(Ke=0;Ke<nt;++Ke)Ke&fe||(Ze=X(be[Ie++])),$e[ht++]=ue(Kt[Ze&Mt]),Ze>>=ft}else D["VP8LMapColor"+V](be,Ie,Kt,Mt,$e,ht,pe,me,nt)}}function ot(w,F,V,X,ue){for(V=F+V;F<V;){var fe=w[F++];X[ue++]=fe>>16&255,X[ue++]=fe>>8&255,X[ue++]=255&fe}}function wn(w,F,V,X,ue){for(V=F+V;F<V;){var fe=w[F++];X[ue++]=fe>>16&255,X[ue++]=fe>>8&255,X[ue++]=255&fe,X[ue++]=fe>>24&255}}function vn(w,F,V,X,ue){for(V=F+V;F<V;){var fe=(pe=w[F++])>>16&240|pe>>12&15,pe=240&pe|pe>>28&15;X[ue++]=fe,X[ue++]=pe}}function Sn(w,F,V,X,ue){for(V=F+V;F<V;){var fe=(pe=w[F++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;X[ue++]=fe,X[ue++]=pe}}function an(w,F,V,X,ue){for(V=F+V;F<V;){var fe=w[F++];X[ue++]=255&fe,X[ue++]=fe>>8&255,X[ue++]=fe>>16&255}}function $(w,F,V,X,ue,fe){if(0==fe)for(V=F+V;F<V;)Ae(X,((fe=w[F++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),ue+=32;else r(X,ue,w,F,V)}function Fe(w,F){D[F][0]=D[w+"0"],D[F][1]=D[w+"1"],D[F][2]=D[w+"2"],D[F][3]=D[w+"3"],D[F][4]=D[w+"4"],D[F][5]=D[w+"5"],D[F][6]=D[w+"6"],D[F][7]=D[w+"7"],D[F][8]=D[w+"8"],D[F][9]=D[w+"9"],D[F][10]=D[w+"10"],D[F][11]=D[w+"11"],D[F][12]=D[w+"12"],D[F][13]=D[w+"13"],D[F][14]=D[w+"0"],D[F][15]=D[w+"0"]}function Xe(w){return w==oV||w==aV||w==_R||w==lV}function Ne(){this.eb=[],this.size=this.A=this.fb=0}function xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ne,this.f.kb=new xt,this.sd=null}function It(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wt(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Hn(w,F){var V=w.T,X=F.ba.f.RGBA,ue=X.eb,fe=X.fb+w.ka*X.A,pe=Bh[F.ba.S],me=w.y,be=w.O,Ie=w.f,$e=w.N,ht=w.ea,ft=w.W,nt=F.cc,Kt=F.dc,Mt=F.Mc,Ke=F.Nc,Ze=w.ka,qt=w.ka+w.T,en=w.U,$t=en+1>>1;for(0==Ze?pe(me,be,null,null,Ie,$e,ht,ft,Ie,$e,ht,ft,ue,fe,null,null,en):(pe(F.ec,F.fc,me,be,nt,Kt,Mt,Ke,Ie,$e,ht,ft,ue,fe-X.A,ue,fe,en),++V);Ze+2<qt;Ze+=2)pe(me,(be+=2*w.fa)-w.fa,me,be,nt=Ie,Kt=$e,Mt=ht,Ke=ft,Ie,$e+=w.Rc,ht,ft+=w.Rc,ue,(fe+=2*X.A)-X.A,ue,fe,en);return be+=w.fa,w.j+qt<w.o?(r(F.ec,F.fc,me,be,en),r(F.cc,F.dc,Ie,$e,$t),r(F.Mc,F.Nc,ht,ft,$t),V--):1&qt||pe(me,be,null,null,Ie,$e,ht,ft,Ie,$e,ht,ft,ue,fe+X.A,null,null,en),V}function zs(w,F,V){var X=w.F,ue=[w.J];if(null!=X){var fe=w.U,pe=F.ba.S,me=pe==yR||pe==_R;F=F.ba.f.RGBA;var be=[0],Ie=w.ka;be[0]=w.T,w.Kb&&(0==Ie?--be[0]:(--Ie,ue[0]-=w.width),w.j+w.ka+w.T==w.o&&(be[0]=w.o-w.j-Ie));var $e=F.eb;w=Eo(X,ue[0],w.width,fe,be,$e,(Ie=F.fb+Ie*F.A)+(me?0:3),F.A),e(V==be),w&&Xe(pe)&&Mh($e,Ie,me,fe,be,F.A)}return 0}function ls(w){var F=w.ma,V=F.ba.S,X=11>V,ue=V==mR||V==vR||V==yR||V==sV||12==V||Xe(V);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!Zx(F.Oa,w,ue?11:12))return 0;if(ue&&Xe(V)&&nn(),w.da)alert("todo:use_scaling");else{if(X){if(F.Ib=Wt,w.Kb){if(F.memory=s(w.U+2*(V=w.U+1>>1)),null==F.memory)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+w.U,F.Mc=F.cc,F.Nc=F.dc+V,F.Ib=Hn,nn()}}else alert("todo:EmitYUV");ue&&(F.Jb=zs,X&&at())}if(X&&!due){for(w=0;256>w;++w)ult[w]=89858*(w-128)+wR>>bR,flt[w]=-22014*(w-128)+wR,hlt[w]=-45773*(w-128),dlt[w]=113618*(w-128)+wR>>bR;for(w=c2;w<dV;++w)Alt[w-c2]=Ld(F=76283*(w-16)+wR>>bR,255),plt[w-c2]=Ld(F+8>>4,15);due=1}return 1}function Si(w){var F=w.ma,V=w.U,X=w.T;return e(!(1&w.ka)),0>=V||0>=X?0:(V=F.Ib(w,F),null!=F.Jb&&F.Jb(w,F,V),F.Dc+=V,1)}function ca(w){w.ma.memory=null}function nr(w,F,V,X){return 47!=ae(w,8)?0:(F[0]=ae(w,14)+1,V[0]=ae(w,14)+1,X[0]=ae(w,1),0!=ae(w,3)?0:!w.h)}function Ju(w,F){if(4>w)return w+1;var V=w-2>>1;return(2+(1&w)<<V)+ae(F,V)+1}function Pd(w,F){return 120<F?F-120:1<=(V=((V=Xat[F-1])>>4)*w+(8-(15&V)))?V:1;var V}function ua(w,F,V){var X=j(V),ue=w[F+=255&X].g-8;return 0<ue&&(oe(V,V.u+8),X=j(V),F+=w[F].value,F+=X&(1<<ue)-1),oe(V,V.u+w[F].g),w[F].value}function Yo(w,F,V){return V.g+=w.g,V.value+=w.value<<F>>>0,e(8>=V.g),w.g}function Jo(w,F,V){var X=w.xc;return e((F=0==X?0:w.vc[w.md*(V>>X)+(F>>X)])<w.Wb),w.Ya[F]}function Lc(w,F,V,X){var ue=w.ab,fe=w.c*F,pe=w.C;F=pe+F;var me=V,be=X;for(X=w.Ta,V=w.Ua;0<ue--;){var Ie=w.gc[ue],$e=pe,ht=F,ft=me,nt=be,Kt=(be=X,me=V,Ie.Ea);switch(e($e<ht),e(ht<=Ie.nc),Ie.hc){case 2:uR(ft,nt,(ht-$e)*Kt,be,me);break;case 0:var Mt=$e,Ke=ht,Ze=be,qt=me,en=(Pn=Ie).Ea;0==Mt&&(rV(ft,nt,null,null,1,Ze,qt),Ye(ft,nt+1,0,0,en-1,Ze,qt+1),nt+=en,qt+=en,++Mt);for(var $t=1<<Pn.b,Qn=$t-1,In=Ce(en,Pn.b),vr=Pn.K,Pn=Pn.w+(Mt>>Pn.b)*In;Mt<Ke;){var Hs=vr,Ks=Pn,ys=1;for(n2(ft,nt,Ze,qt-en,1,Ze,qt);ys<en;){var Ki=(ys&~Qn)+$t;Ki>en&&(Ki=en),(0,rv[Hs[Ks++]>>8&15])(ft,nt+ +ys,Ze,qt+ys-en,Ki-ys,Ze,qt+ys),ys=Ki}nt+=en,qt+=en,++Mt&Qn||(Pn+=In)}ht!=Ie.nc&&r(be,me-Kt,be,me+(ht-$e-1)*Kt,Kt);break;case 1:for(Kt=ft,Ke=nt,en=(ft=Ie.Ea)-(qt=ft&~(Ze=(nt=1<<Ie.b)-1)),Mt=Ce(ft,Ie.b),$t=Ie.K,Ie=Ie.w+($e>>Ie.b)*Mt;$e<ht;){for(Qn=$t,In=Ie,vr=new re,Pn=Ke+qt,Hs=Ke+ft;Ke<Pn;)kt(Qn[In++],vr),Ey(vr,Kt,Ke,nt,be,me),Ke+=nt,me+=nt;Ke<Hs&&(kt(Qn[In++],vr),Ey(vr,Kt,Ke,en,be,me),Ke+=en,me+=en),++$e&Ze||(Ie+=Mt)}break;case 3:if(ft==be&&nt==me&&0<Ie.b){for(Ke=be,ft=Kt=me+(ht-$e)*Kt-(qt=(ht-$e)*Ce(Ie.Ea,Ie.b)),nt=be,Ze=me,Mt=[],qt=(en=qt)-1;0<=qt;--qt)Mt[qt]=nt[Ze+qt];for(qt=en-1;0<=qt;--qt)Ke[ft+qt]=Mt[qt];Sh(Ie,$e,ht,be,Kt,be,me)}else Sh(Ie,$e,ht,ft,nt,be,me)}me=X,be=V}be!=V&&r(X,V,me,be,fe)}function Ff(w,F){var V=w.V,X=w.Ba+w.c*w.C,ue=F-w.C;if(e(F<=w.l.o),e(16>=ue),0<ue){var fe=w.l,pe=w.Ta,me=w.Ua,be=fe.width;if(Lc(w,ue,V,X),ue=me=[me],e((V=w.C)<(X=F)),e(fe.v<fe.va),X>fe.o&&(X=fe.o),V<fe.j){var Ie=fe.j-V;V=fe.j,ue[0]+=Ie*be}if(V>=X?V=0:(ue[0]+=4*fe.v,fe.ka=V-fe.j,fe.U=fe.va-fe.v,fe.T=X-V,V=1),V){if(me=me[0],11>(V=w.ca).S){var $e=V.f.RGBA,ht=(X=V.S,ue=fe.U,fe=fe.T,Ie=$e.eb,$e.A),ft=fe;for($e=$e.fb+w.Ma*$e.A;0<ft--;){var nt=pe,Kt=me,Mt=ue,Ke=Ie,Ze=$e;switch(X){case gR:rd(nt,Kt,Mt,Ke,Ze);break;case mR:yu(nt,Kt,Mt,Ke,Ze);break;case oV:yu(nt,Kt,Mt,Ke,Ze),Mh(Ke,Ze,0,Mt,1,0);break;case tue:og(nt,Kt,Mt,Ke,Ze);break;case vR:$(nt,Kt,Mt,Ke,Ze,1);break;case aV:$(nt,Kt,Mt,Ke,Ze,1),Mh(Ke,Ze,0,Mt,1,0);break;case yR:$(nt,Kt,Mt,Ke,Ze,0);break;case _R:$(nt,Kt,Mt,Ke,Ze,0),Mh(Ke,Ze,1,Mt,1,0);break;case sV:iv(nt,Kt,Mt,Ke,Ze);break;case lV:iv(nt,Kt,Mt,Ke,Ze),Co(Ke,Ze,Mt,1,0);break;case nue:sg(nt,Kt,Mt,Ke,Ze);break;default:e(0)}me+=be,$e+=ht}w.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=V.height)}}w.C=F,e(w.C<=w.i)}function wh(w){var F;if(0<w.ua)return 0;for(F=0;F<w.Wb;++F){var V=w.Ya[F].G,X=w.Ya[F].H;if(0<V[1][X[1]+0].g||0<V[2][X[2]+0].g||0<V[3][X[3]+0].g)return 0}return 1}function Uc(w,F,V,X,ue,fe){if(0!=w.Z){var pe=w.qd,me=w.rd;for(e(null!=lv[w.Z]);F<V;++F)lv[w.Z](pe,me,X,ue,X,ue,fe),pe=X,me=ue,ue+=fe;w.qd=pe,w.rd=me}}function Zu(w,F){var V=w.l.ma,X=0==V.Z||1==V.Z?w.l.j:w.C;if(X=w.C<X?X:w.C,e(F<=w.l.o),F>X){var ue=w.l.width,fe=V.ca,pe=V.tb+ue*X,me=w.V,be=w.Ba+w.c*X,Ie=w.gc;e(1==w.ab),e(3==Ie[0].hc),dR(Ie[0],X,F,me,be,fe,pe),Uc(V,X,F,fe,pe,ue)}w.C=w.Ma=F}function ed(w,F,V,X,ue,fe,pe){var me=w.$/X,be=w.$%X,Ie=w.m,$e=w.s,ht=V+w.$,ft=ht;ue=V+X*ue;var nt=V+X*fe,Kt=280+$e.ua,Mt=w.Pb?me:16777216,Ke=0<$e.ua?$e.Wa:null,Ze=$e.wc,qt=ht<nt?Jo($e,be,me):null;e(w.C<fe),e(nt<=ue);var en=!1;e:for(;;){for(;en||ht<nt;){var $t=0;if(me>=Mt){var Qn=ht-V;e((Mt=w).Pb),Mt.wd=Mt.m,Mt.xd=Qn,0<Mt.s.ua&&Y(Mt.s.Wa,Mt.s.vb),Mt=me+Jat}if(be&Ze||(qt=Jo($e,be,me)),e(null!=qt),qt.Qb&&(F[ht]=qt.qb,en=!0),!en)if(se(Ie),qt.jc){Qn=F;var In=ht,vr=qt.pd[j($t=Ie)&dc-1];e(qt.jc),256>vr.g?(oe($t,$t.u+vr.g),Qn[In]=vr.value,$t=0):(oe($t,$t.u+vr.g-256),e(256<=vr.value),$t=vr.value),0==$t&&(en=!0)}else $t=ua(qt.G[0],qt.H[0],Ie);if(Ie.h)break;if(en||256>$t){if(!en)if(qt.nd)F[ht]=(qt.qb|$t<<8)>>>0;else{if(se(Ie),en=ua(qt.G[1],qt.H[1],Ie),se(Ie),Qn=ua(qt.G[2],qt.H[2],Ie),In=ua(qt.G[3],qt.H[3],Ie),Ie.h)break;F[ht]=(In<<24|en<<16|$t<<8|Qn)>>>0}if(en=!1,++ht,++be>=X&&(be=0,++me,null!=pe&&me<=fe&&!(me%16)&&pe(w,me),null!=Ke))for(;ft<ht;)$t=F[ft++],Ke.X[(506832829*$t&4294967295)>>>Ke.Mb]=$t}else if(280>$t){if($t=Ju($t-256,Ie),Qn=ua(qt.G[4],qt.H[4],Ie),se(Ie),Qn=Pd(X,Qn=Ju(Qn,Ie)),Ie.h)break;if(ht-V<Qn||ue-ht<$t)break e;for(In=0;In<$t;++In)F[ht+In]=F[ht+In-Qn];for(ht+=$t,be+=$t;be>=X;)be-=X,++me,null!=pe&&me<=fe&&!(me%16)&&pe(w,me);if(e(ht<=ue),be&Ze&&(qt=Jo($e,be,me)),null!=Ke)for(;ft<ht;)$t=F[ft++],Ke.X[(506832829*$t&4294967295)>>>Ke.Mb]=$t}else{if(!($t<Kt))break e;for(en=$t-280,e(null!=Ke);ft<ht;)$t=F[ft++],Ke.X[(506832829*$t&4294967295)>>>Ke.Mb]=$t;$t=ht,e(!(en>>>(Qn=Ke).Xa)),F[$t]=Qn.X[en],en=!0}en||e(Ie.h==K(Ie))}if(w.Pb&&Ie.h&&ht<ue)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Y(w.s.vb,w.s.Wa);else{if(Ie.h)break e;pe?.(w,me>fe?fe:me),w.a=0,w.$=ht-V}return 1}return w.a=3,0}function Ch(w){e(null!=w),w.vc=null,w.yc=null,w.Ya=null;var F=w.Wa;null!=F&&(F.X=null),w.vb=null,e(null!=w)}function td(){var w=new nV;return null==w?null:(w.a=0,w.xb=sue,Fe("Predictor","VP8LPredictors"),Fe("Predictor","VP8LPredictors_C"),Fe("PredictorAdd","VP8LPredictorsAdd"),Fe("PredictorAdd","VP8LPredictorsAdd_C"),uR=Vt,Ey=Ot,rd=ot,yu=wn,iv=vn,sg=Sn,og=an,D.VP8LMapColor32b=_w,D.VP8LMapColor8b=hR,w)}function Eh(w,F,V,X,ue){var fe=1,pe=[w],me=[F],be=X.m,Ie=X.s,$e=null,ht=0;e:for(;;){if(V)for(;fe&&ae(be,1);){var ft=pe,nt=me,Kt=X,Mt=1,Ke=Kt.m,Ze=Kt.gc[Kt.ab],qt=ae(Ke,2);if(Kt.Oc&1<<qt)fe=0;else{switch(Kt.Oc|=1<<qt,Ze.hc=qt,Ze.Ea=ft[0],Ze.nc=nt[0],Ze.K=[null],++Kt.ab,e(4>=Kt.ab),qt){case 0:case 1:Ze.b=ae(Ke,3)+2,Mt=Eh(Ce(Ze.Ea,Ze.b),Ce(Ze.nc,Ze.b),0,Kt,Ze.K),Ze.K=Ze.K[0];break;case 3:var en,$t=ae(Ke,8)+1,Qn=16<$t?0:4<$t?1:2<$t?2:3;if(ft[0]=Ce(Ze.Ea,Qn),Ze.b=Qn,en=Mt=Eh($t,1,0,Kt,Ze.K)){var In,vr=$t,Pn=Ze,Hs=1<<(8>>Pn.b),Ks=s(Hs);if(null==Ks)en=0;else{var ys=Pn.K[0],Ki=Pn.w;for(Ks[0]=Pn.K[0][0],In=1;In<1*vr;++In)Ks[In]=Pe(ys[Ki+In],Ks[In-1]);for(;In<4*Hs;++In)Ks[In]=0;Pn.K[0]=null,Pn.K[0]=Ks,en=1}}Mt=en;break;case 2:break;default:e(0)}fe=Mt}}if(pe=pe[0],me=me[0],fe&&ae(be,1)&&!(fe=1<=(ht=ae(be,4))&&11>=ht)){X.a=3;break e}var go;if(go=fe)t:{var so,vi,ja,id=X,qa=pe,sd=me,Xs=ht,kd=V,Hd=id.m,Ul=id.s,hc=[null],bu=1,Nh=0,LA=Yat[Xs];n:for(;;){if(kd&&ae(Hd,1)){var kl=ae(Hd,3)+2,ug=Ce(qa,kl),Ty=Ce(sd,kl),Sw=ug*Ty;if(!Eh(ug,Ty,0,id,hc))break n;for(hc=hc[0],Ul.xc=kl,so=0;so<Sw;++so){var uv=hc[so]>>8&65535;hc[so]=uv,uv>=bu&&(bu=uv+1)}}if(Hd.h)break n;for(vi=0;5>vi;++vi){var fa=rue[vi];!vi&&0<Xs&&(fa+=1<<Xs),Nh<fa&&(Nh=fa)}var hV=o(bu*LA,R),Aue=bu,pue=o(Aue,k);if(null==pue)var ER=null;else e(65536>=Aue),ER=pue;var u2=s(Nh);if(null==ER||null==u2||null==hV){id.a=1;break n}var SR=hV;for(so=ja=0;so<bu;++so){var Uf=ER[so],xw=Uf.G,Dw=Uf.H,gue=0,xR=1,mue=0;for(vi=0;5>vi;++vi){fa=rue[vi],xw[vi]=SR,Dw[vi]=ja,!vi&&0<Xs&&(fa+=1<<Xs);i:{var DR,fV=fa,MR=id,d2=u2,vlt=SR,ylt=ja,AV=0,dv=MR.m,_lt=ae(dv,1);if(i(d2,0,0,fV),_lt){var blt=ae(dv,1)+1,wlt=ae(dv,1),vue=ae(dv,0==wlt?1:8);d2[vue]=1,2==blt&&(d2[vue=ae(dv,8)]=1);var TR=1}else{var yue=s(19),_ue=ae(dv,4)+4;if(19<_ue){MR.a=3;var BR=0;break i}for(DR=0;DR<_ue;++DR)yue[Kat[DR]]=ae(dv,3);var pV=void 0,h2=void 0,bue=MR,Clt=yue,NR=fV,wue=d2,gV=0,hv=bue.m,Cue=8,Eue=o(128,R);r:for(;B(Eue,0,7,Clt,19);){if(ae(hv,1)){var Elt=2+2*ae(hv,3);if((pV=2+ae(hv,Elt))>NR)break r}else pV=NR;for(h2=0;h2<NR&&pV--;){se(hv);var Sue=Eue[0+(127&j(hv))];oe(hv,hv.u+Sue.g);var Mw=Sue.value;if(16>Mw)wue[h2++]=Mw,0!=Mw&&(Cue=Mw);else{var Slt=16==Mw,xue=Mw-16,xlt=Wat[xue],Due=ae(hv,qat[xue])+xlt;if(h2+Due>NR)break r;for(var Dlt=Slt?Cue:0;0<Due--;)wue[h2++]=Dlt}}gV=1;break r}gV||(bue.a=3),TR=gV}(TR=TR&&!dv.h)&&(AV=B(vlt,ylt,8,d2,fV)),TR&&0!=AV?BR=AV:(MR.a=3,BR=0)}if(0==BR)break n;if(xR&&1==$at[vi]&&(xR=0==SR[ja].g),gue+=SR[ja].g,ja+=BR,3>=vi){var f2,mV=u2[0];for(f2=1;f2<fa;++f2)u2[f2]>mV&&(mV=u2[f2]);mue+=mV}}if(Uf.nd=xR,Uf.Qb=0,xR&&(Uf.qb=(xw[3][Dw[3]+0].value<<24|xw[1][Dw[1]+0].value<<16|xw[2][Dw[2]+0].value)>>>0,0==gue&&256>xw[0][Dw[0]+0].value&&(Uf.Qb=1,Uf.qb+=xw[0][Dw[0]+0].value<<8)),Uf.jc=!Uf.Qb&&6>mue,Uf.jc){var IR,dg=Uf;for(IR=0;IR<dc;++IR){var fv=IR,Av=dg.pd[fv],FR=dg.G[0][dg.H[0]+fv];256<=FR.value?(Av.g=FR.g+256,Av.value=FR.value):(Av.g=0,Av.value=0,fv>>=Yo(FR,8,Av),fv>>=Yo(dg.G[1][dg.H[1]+fv],16,Av),fv>>=Yo(dg.G[2][dg.H[2]+fv],0,Av),Yo(dg.G[3][dg.H[3]+fv],24,Av))}}}Ul.vc=hc,Ul.Wb=bu,Ul.Ya=ER,Ul.yc=hV,go=1;break t}go=0}if(!(fe=go)){X.a=3;break e}if(0<ht){if(Ie.ua=1<<ht,!ne(Ie.Wa,ht)){X.a=1,fe=0;break e}}else Ie.ua=0;var vV=X,Mue=pe,Mlt=me,yV=vV.s,_V=yV.xc;if(vV.c=Mue,vV.i=Mlt,yV.md=Ce(Mue,_V),yV.wc=0==_V?-1:(1<<_V)-1,V){X.xb=slt;break e}if(null==($e=s(pe*me))){X.a=1,fe=0;break e}fe=(fe=ed(X,$e,0,pe,me,me,null))&&!be.h;break e}return fe?(null!=ue?ue[0]=$e:(e(null==$e),e(V)),X.$=0,V||Ch(Ie)):Ch(Ie),fe}function ng(w,F){var V=w.c*w.i,X=V+F+16*F;return e(w.c<=F),w.V=s(X),null==w.V?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+V+F,1)}function Jm(w,F){var V=w.C,X=F-V,ue=w.V,fe=w.Ba+w.c*V;for(e(F<=w.l.o);0<X;){var pe=16<X?16:X,me=w.l.ma,be=w.l.width,Ie=be*pe,$e=me.ca,ht=me.tb+be*V,ft=w.Ta,nt=w.Ua;Lc(w,pe,ue,fe),Ta(ft,nt,$e,ht,Ie),Uc(me,V,V+pe,$e,ht,be),X-=pe,ue+=pe*w.c,V+=pe}e(V==F),w.C=w.Ma=F}function we(){this.ub=this.yd=this.td=this.Rb=0}function tt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function bt(){var w;this.Yb=(function F(V,X,ue){for(var fe=ue[X],pe=0;pe<fe&&(V.push(ue.length>X+1?[]:0),!(ue.length<X+1));pe++)F(V[pe],X+1,ue)}(w=[],0,[3,11]),w)}function st(){this.jb=s(3),this.Wc=a([4,8],bt),this.Xc=a([4,17],bt)}function dn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Mn(){this.ld=this.La=this.dd=this.tc=0}function jn(){this.Na=this.la=0}function Kn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function br(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ir(){this.uc=this.M=this.Nb=0,this.wa=Array(new Mn),this.Y=0,this.ya=Array(new br),this.aa=0,this.l=new Wi}function lr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ni(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new we,this.Kc=new tt,this.ed=new dn,this.Qa=new yt,this.Ic=this.$c=this.Aa=0,this.D=new Ir,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ve),this.ia=0,this.pb=o(4,Kn),this.Pa=new st,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new lr),this.Hd=0,this.rb=Array(new jn),this.sb=0,this.wa=Array(new Mn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new br),this.L=this.aa=0,this.gd=a([4,2],Mn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function po(){var w=new Ni;return null!=w&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,l2||(l2=da)),w}function ri(w,F,V){return 0==w.a&&(w.a=F,w.sc=V,w.cb=0),0}function Vi(w,F,V){return 3<=V&&157==w[F+0]&&1==w[F+1]&&42==w[F+2]}function cr(w,F){if(null==w)return 0;if(w.a=0,w.sc="OK",null==F)return ri(w,2,"null VP8Io passed to VP8GetHeaders()");var V=F.data,X=F.w,ue=F.ha;if(4>ue)return ri(w,7,"Truncated header.");var fe=V[X+0]|V[X+1]<<8|V[X+2]<<16,pe=w.Od;if(pe.Rb=!(1&fe),pe.td=fe>>1&7,pe.yd=fe>>4&1,pe.ub=fe>>5,3<pe.td)return ri(w,3,"Incorrect keyframe parameters.");if(!pe.yd)return ri(w,4,"Frame not displayable.");X+=3,ue-=3;var me=w.Kc;if(pe.Rb){if(7>ue)return ri(w,7,"cannot parse picture header");if(!Vi(V,X,ue))return ri(w,3,"Bad code word");me.c=16383&(V[X+4]<<8|V[X+3]),me.Td=V[X+4]>>6,me.i=16383&(V[X+6]<<8|V[X+5]),me.Ud=V[X+6]>>6,X+=7,ue-=7,w.za=me.c+15>>4,w.Ub=me.i+15>>4,F.width=me.c,F.height=me.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,i((fe=w.Pa).jb,0,255,fe.jb.length),e(null!=(fe=w.Qa)),fe.Cb=0,fe.Bb=0,fe.Fb=1,i(fe.Zb,0,0,fe.Zb.length),i(fe.Lb,0,0,fe.Lb)}if(pe.ub>ue)return ri(w,7,"bad partition length");q(fe=w.m,V,X,pe.ub),X+=pe.ub,ue-=pe.ub,pe.Rb&&(me.Ld=te(fe),me.Kd=te(fe)),me=w.Qa;var be,Ie=w.Pa;if(e(null!=fe),e(null!=me),me.Cb=te(fe),me.Cb){if(me.Bb=te(fe),te(fe)){for(me.Fb=te(fe),be=0;4>be;++be)me.Zb[be]=te(fe)?P(fe,7):0;for(be=0;4>be;++be)me.Lb[be]=te(fe)?P(fe,6):0}if(me.Bb)for(be=0;3>be;++be)Ie.jb[be]=te(fe)?O(fe,8):255}else me.Bb=0;if(fe.Ka)return ri(w,3,"cannot parse segment header");if((me=w.ed).zd=te(fe),me.Tb=O(fe,6),me.wb=O(fe,3),me.Pc=te(fe),me.Pc&&te(fe)){for(Ie=0;4>Ie;++Ie)te(fe)&&(me.vd[Ie]=P(fe,6));for(Ie=0;4>Ie;++Ie)te(fe)&&(me.od[Ie]=P(fe,6))}if(w.L=0==me.Tb?0:me.zd?1:2,fe.Ka)return ri(w,3,"cannot parse filter header");var $e=ue;if(ue=be=X,X=be+$e,me=$e,w.Xb=(1<<O(w.m,2))-1,$e<3*(Ie=w.Xb))V=7;else{for(be+=3*Ie,me-=3*Ie,$e=0;$e<Ie;++$e){var ht=V[ue+0]|V[ue+1]<<8|V[ue+2]<<16;ht>me&&(ht=me),q(w.Jc[+$e],V,be,ht),be+=ht,me-=ht,ue+=3}q(w.Jc[+Ie],V,be,me),V=be<X?0:5}if(0!=V)return ri(w,V,"cannot parse partitions");for(V=O(be=w.m,7),ue=te(be)?P(be,4):0,X=te(be)?P(be,4):0,me=te(be)?P(be,4):0,Ie=te(be)?P(be,4):0,be=te(be)?P(be,4):0,$e=w.Qa,ht=0;4>ht;++ht){if($e.Cb){var ft=$e.Zb[ht];$e.Fb||(ft+=V)}else{if(0<ht){w.pb[ht]=w.pb[0];continue}ft=V}var nt=w.pb[ht];nt.Sc[0]=cV[Ld(ft+ue,127)],nt.Sc[1]=uV[Ld(ft+0,127)],nt.Eb[0]=2*cV[Ld(ft+X,127)],nt.Eb[1]=101581*uV[Ld(ft+me,127)]>>16,8>nt.Eb[1]&&(nt.Eb[1]=8),nt.Qc[0]=cV[Ld(ft+Ie,117)],nt.Qc[1]=uV[Ld(ft+be,127)],nt.lc=ft+be}if(!pe.Rb)return ri(w,4,"Not a key frame.");for(te(fe),pe=w.Pa,V=0;4>V;++V){for(ue=0;8>ue;++ue)for(X=0;3>X;++X)for(me=0;11>me;++me)Ie=ee(fe,rlt[V][ue][X][me])?O(fe,8):tlt[V][ue][X][me],pe.Wc[V][ue].Yb[X][me]=Ie;for(ue=0;17>ue;++ue)pe.Xc[V][ue]=pe.Wc[V][ilt[ue]]}return w.kc=te(fe),w.kc&&(w.Bd=O(fe,8)),w.cb=1}function da(w,F,V,X,ue,fe,pe){var me=F[ue].Yb[V];for(V=0;16>ue;++ue){if(!ee(w,me[V+0]))return ue;for(;!ee(w,me[V+1]);)if(me=F[++ue].Yb[0],V=0,16==ue)return 16;var be=F[ue+1].Yb;if(ee(w,me[V+2])){var Ie=w,$e=0;if(ee(Ie,(ft=me)[(ht=V)+3]))if(ee(Ie,ft[ht+6])){for(me=0,ht=2*($e=ee(Ie,ft[ht+8]))+(ft=ee(Ie,ft[ht+9+$e])),$e=0,ft=Zat[ht];ft[me];++me)$e+=$e+ee(Ie,ft[me]);$e+=3+(8<<ht)}else ee(Ie,ft[ht+7])?($e=7+2*ee(Ie,165),$e+=ee(Ie,145)):$e=5+ee(Ie,159);else $e=ee(Ie,ft[ht+4])?3+ee(Ie,ft[ht+5]):2;me=be[2]}else $e=1,me=be[1];be=pe+elt[ue],0>(Ie=w).b&&le(Ie);var ht,ft=Ie.b,nt=(ht=Ie.Ca>>1)-(Ie.I>>ft)>>31;--Ie.b,Ie.Ca+=nt,Ie.Ca|=1,Ie.I-=(ht+1&nt)<<ft,fe[be]=(($e^nt)-nt)*X[(0<ue)+0]}return 16}function $i(w){var F=w.rb[w.sb-1];F.la=0,F.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function Ol(w,F,V,X,ue){w[F+V+32*X]=-256&(ue=w[F+V+32*X]+(ue>>3))?0>ue?0:255:ue}function Va(w,F,V,X,ue,fe){Ol(w,F,0,V,X+ue),Ol(w,F,1,V,X+fe),Ol(w,F,2,V,X-fe),Ol(w,F,3,V,X-ue)}function Qa(w){return(20091*w>>16)+w}function Gs(w,F,V,X){var ue,fe=0,pe=s(16);for(ue=0;4>ue;++ue){var me=w[F+0]+w[F+8],be=w[F+0]-w[F+8],Ie=(35468*w[F+4]>>16)-Qa(w[F+12]),$e=Qa(w[F+4])+(35468*w[F+12]>>16);pe[fe+0]=me+$e,pe[fe+1]=be+Ie,pe[fe+2]=be-Ie,pe[fe+3]=me-$e,fe+=4,F++}for(ue=fe=0;4>ue;++ue)me=(w=pe[fe+0]+4)+pe[fe+8],be=w-pe[fe+8],Ie=(35468*pe[fe+4]>>16)-Qa(pe[fe+12]),Ol(V,X,0,0,me+($e=Qa(pe[fe+4])+(35468*pe[fe+12]>>16))),Ol(V,X,1,0,be+Ie),Ol(V,X,2,0,be-Ie),Ol(V,X,3,0,me-$e),fe++,X+=32}function uc(w,F,V,X){var ue=w[F+0]+4,fe=35468*w[F+4]>>16,pe=Qa(w[F+4]),me=35468*w[F+1]>>16;Va(V,X,0,ue+pe,w=Qa(w[F+1]),me),Va(V,X,1,ue+fe,w,me),Va(V,X,2,ue-fe,w,me),Va(V,X,3,ue-pe,w,me)}function kc(w,F,V,X,ue){Gs(w,F,V,X),ue&&Gs(w,F+16,V,X+4)}function za(w,F,V,X){ag(w,F+0,V,X,1),ag(w,F+32,V,X+128,1)}function Pl(w,F,V,X){var ue;for(w=w[F+0]+4,ue=0;4>ue;++ue)for(F=0;4>F;++F)Ol(V,X,F,ue,w)}function Zm(w,F,V,X){w[F+0]&&_u(w,F+0,V,X),w[F+16]&&_u(w,F+16,V,X+4),w[F+32]&&_u(w,F+32,V,X+128),w[F+48]&&_u(w,F+48,V,X+128+4)}function Rf(w,F,V,X){var ue,fe=s(16);for(ue=0;4>ue;++ue){var pe=w[F+0+ue]+w[F+12+ue],me=w[F+4+ue]+w[F+8+ue],be=w[F+4+ue]-w[F+8+ue],Ie=w[F+0+ue]-w[F+12+ue];fe[0+ue]=pe+me,fe[8+ue]=pe-me,fe[4+ue]=Ie+be,fe[12+ue]=Ie-be}for(ue=0;4>ue;++ue)pe=(w=fe[0+4*ue]+3)+fe[3+4*ue],be=fe[1+4*ue]-fe[2+4*ue],Ie=w-fe[3+4*ue],V[X+0]=pe+(me=fe[1+4*ue]+fe[2+4*ue])>>3,V[X+16]=Ie+be>>3,V[X+32]=pe-me>>3,V[X+48]=Ie-be>>3,X+=64}function Hx(w,F,V){var X,ue=F-32,fe=Ud,pe=255-w[ue-1];for(X=0;X<V;++X){var me,be=fe,Ie=pe+w[F-1];for(me=0;me<V;++me)w[F+me]=be[Ie+w[ue+me]];F+=32}}function z6(w,F){Hx(w,F,4)}function G6(w,F){Hx(w,F,8)}function j6(w,F){Hx(w,F,16)}function rg(w,F){var V;for(V=0;16>V;++V)r(w,F+32*V,w,F-32,16)}function lw(w,F){var V;for(V=16;0<V;--V)i(w,F,w[F-1],16),F+=32}function cw(w,F,V){var X;for(X=0;16>X;++X)i(F,V+32*X,w,16)}function ZF(w,F){var V,X=16;for(V=0;16>V;++V)X+=w[F-1+32*V]+w[F+V-32];cw(X>>5,w,F)}function Hc(w,F){var V,X=8;for(V=0;16>V;++V)X+=w[F-1+32*V];cw(X>>4,w,F)}function q6(w,F){var V,X=8;for(V=0;16>V;++V)X+=w[F+V-32];cw(X>>4,w,F)}function eR(w,F){cw(128,w,F)}function Xr(w,F,V){return w+2*F+V+2>>2}function W6(w,F){var V,X=F-32;for(X=new Uint8Array([Xr(w[X-1],w[X+0],w[X+1]),Xr(w[X+0],w[X+1],w[X+2]),Xr(w[X+1],w[X+2],w[X+3]),Xr(w[X+2],w[X+3],w[X+4])]),V=0;4>V;++V)r(w,F+32*V,X,0,X.length)}function $6(w,F){var V=w[F-1],X=w[F-1+32],ue=w[F-1+64],fe=w[F-1+96];Ae(w,F+0,16843009*Xr(w[F-1-32],V,X)),Ae(w,F+32,16843009*Xr(V,X,ue)),Ae(w,F+64,16843009*Xr(X,ue,fe)),Ae(w,F+96,16843009*Xr(ue,fe,fe))}function RA(w,F){var V,X=4;for(V=0;4>V;++V)X+=w[F+V-32]+w[F-1+32*V];for(X>>=3,V=0;4>V;++V)i(w,F+32*V,X,4)}function tR(w,F){var V=w[F-1+0],X=w[F-1+32],ue=w[F-1+64],fe=w[F-1-32],pe=w[F+0-32],me=w[F+1-32],be=w[F+2-32],Ie=w[F+3-32];w[F+0+96]=Xr(X,ue,w[F-1+96]),w[F+1+96]=w[F+0+64]=Xr(V,X,ue),w[F+2+96]=w[F+1+64]=w[F+0+32]=Xr(fe,V,X),w[F+3+96]=w[F+2+64]=w[F+1+32]=w[F+0+0]=Xr(pe,fe,V),w[F+3+64]=w[F+2+32]=w[F+1+0]=Xr(me,pe,fe),w[F+3+32]=w[F+2+0]=Xr(be,me,pe),w[F+3+0]=Xr(Ie,be,me)}function nR(w,F){var V=w[F+1-32],X=w[F+2-32],ue=w[F+3-32],fe=w[F+4-32],pe=w[F+5-32],me=w[F+6-32],be=w[F+7-32];w[F+0+0]=Xr(w[F+0-32],V,X),w[F+1+0]=w[F+0+32]=Xr(V,X,ue),w[F+2+0]=w[F+1+32]=w[F+0+64]=Xr(X,ue,fe),w[F+3+0]=w[F+2+32]=w[F+1+64]=w[F+0+96]=Xr(ue,fe,pe),w[F+3+32]=w[F+2+64]=w[F+1+96]=Xr(fe,pe,me),w[F+3+64]=w[F+2+96]=Xr(pe,me,be),w[F+3+96]=Xr(me,be,be)}function uw(w,F){var V=w[F-1+0],X=w[F-1+32],ue=w[F-1+64],fe=w[F-1-32],pe=w[F+0-32],me=w[F+1-32],be=w[F+2-32],Ie=w[F+3-32];w[F+0+0]=w[F+1+64]=fe+pe+1>>1,w[F+1+0]=w[F+2+64]=pe+me+1>>1,w[F+2+0]=w[F+3+64]=me+be+1>>1,w[F+3+0]=be+Ie+1>>1,w[F+0+96]=Xr(ue,X,V),w[F+0+64]=Xr(X,V,fe),w[F+0+32]=w[F+1+96]=Xr(V,fe,pe),w[F+1+32]=w[F+2+96]=Xr(fe,pe,me),w[F+2+32]=w[F+3+96]=Xr(pe,me,be),w[F+3+32]=Xr(me,be,Ie)}function Vx(w,F){var V=w[F+0-32],X=w[F+1-32],ue=w[F+2-32],fe=w[F+3-32],pe=w[F+4-32],me=w[F+5-32],be=w[F+6-32],Ie=w[F+7-32];w[F+0+0]=V+X+1>>1,w[F+1+0]=w[F+0+64]=X+ue+1>>1,w[F+2+0]=w[F+1+64]=ue+fe+1>>1,w[F+3+0]=w[F+2+64]=fe+pe+1>>1,w[F+0+32]=Xr(V,X,ue),w[F+1+32]=w[F+0+96]=Xr(X,ue,fe),w[F+2+32]=w[F+1+96]=Xr(ue,fe,pe),w[F+3+32]=w[F+2+96]=Xr(fe,pe,me),w[F+3+64]=Xr(pe,me,be),w[F+3+96]=Xr(me,be,Ie)}function K6(w,F){var V=w[F-1+0],X=w[F-1+32],ue=w[F-1+64],fe=w[F-1+96];w[F+0+0]=V+X+1>>1,w[F+2+0]=w[F+0+32]=X+ue+1>>1,w[F+2+32]=w[F+0+64]=ue+fe+1>>1,w[F+1+0]=Xr(V,X,ue),w[F+3+0]=w[F+1+32]=Xr(X,ue,fe),w[F+3+32]=w[F+1+64]=Xr(ue,fe,fe),w[F+3+64]=w[F+2+64]=w[F+0+96]=w[F+1+96]=w[F+2+96]=w[F+3+96]=fe}function X6(w,F){var V=w[F-1+0],X=w[F-1+32],ue=w[F-1+64],fe=w[F-1+96],pe=w[F-1-32],me=w[F+0-32],be=w[F+1-32],Ie=w[F+2-32];w[F+0+0]=w[F+2+32]=V+pe+1>>1,w[F+0+32]=w[F+2+64]=X+V+1>>1,w[F+0+64]=w[F+2+96]=ue+X+1>>1,w[F+0+96]=fe+ue+1>>1,w[F+3+0]=Xr(me,be,Ie),w[F+2+0]=Xr(pe,me,be),w[F+1+0]=w[F+3+32]=Xr(V,pe,me),w[F+1+32]=w[F+3+64]=Xr(X,V,pe),w[F+1+64]=w[F+3+96]=Xr(ue,X,V),w[F+1+96]=Xr(fe,ue,X)}function Y6(w,F){var V;for(V=0;8>V;++V)r(w,F+32*V,w,F-32,8)}function Qx(w,F){var V;for(V=0;8>V;++V)i(w,F,w[F-1],8),F+=32}function _y(w,F,V){var X;for(X=0;8>X;++X)i(F,V+32*X,w,8)}function ev(w,F){var V,X=8;for(V=0;8>V;++V)X+=w[F+V-32]+w[F-1+32*V];_y(X>>4,w,F)}function J6(w,F){var V,X=4;for(V=0;8>V;++V)X+=w[F+V-32];_y(X>>3,w,F)}function by(w,F){var V,X=4;for(V=0;8>V;++V)X+=w[F-1+32*V];_y(X>>3,w,F)}function zx(w,F){_y(128,w,F)}function dw(w,F,V){var X=w[F-V],ue=w[F+0],fe=3*(ue-X)+iV[1020+w[F-2*V]-w[F+V]],pe=pR[112+(fe+4>>3)];w[F-V]=Ud[255+X+pR[112+(fe+3>>3)]],w[F+0]=Ud[255+ue-pe]}function rR(w,F,V,X){return Th[255+w[F-2*V]-w[F-V]]>X||Th[255+w[F+V]-w[F+0]]>X}function iR(w,F,V,X){return 4*Th[255+w[F-V]-w[F+0]]+Th[255+w[F-2*V]-w[F+V]]<=X}function sR(w,F,V,X,ue){var fe=w[F-3*V],pe=w[F-2*V],me=w[F-V],be=w[F+0],Ie=w[F+V],$e=w[F+2*V];return 4*Th[255+me-be]+Th[255+pe-Ie]>X?0:Th[255+w[F-4*V]-fe]<=ue&&Th[255+fe-pe]<=ue&&Th[255+pe-me]<=ue&&Th[255+w[F+3*V]-$e]<=ue&&Th[255+$e-Ie]<=ue&&Th[255+Ie-be]<=ue}function oR(w,F,V,X){var ue=2*X+1;for(X=0;16>X;++X)iR(w,F+X,V,ue)&&dw(w,F+X,V)}function OA(w,F,V,X){var ue=2*X+1;for(X=0;16>X;++X)iR(w,F+X*V,1,ue)&&dw(w,F+X*V,1)}function ig(w,F,V,X){var ue;for(ue=3;0<ue;--ue)oR(w,F+=4*V,V,X)}function Z6(w,F,V,X){var ue;for(ue=3;0<ue;--ue)OA(w,F+=4,V,X)}function tv(w,F,V,X,ue,fe,pe,me){for(fe=2*fe+1;0<ue--;){if(sR(w,F,V,fe,pe))if(rR(w,F,V,me))dw(w,F,V);else{var be=w,Ie=F,$e=V,ht=be[Ie-2*$e],ft=be[Ie-$e],nt=be[Ie+0],Kt=be[Ie+$e],Mt=be[Ie+2*$e],Ke=27*(qt=iV[1020+3*(nt-ft)+iV[1020+ht-Kt]])+63>>7,Ze=18*qt+63>>7,qt=9*qt+63>>7;be[Ie-3*$e]=Ud[255+be[Ie-3*$e]+qt],be[Ie-2*$e]=Ud[255+ht+Ze],be[Ie-$e]=Ud[255+ft+Ke],be[Ie+0]=Ud[255+nt-Ke],be[Ie+$e]=Ud[255+Kt-Ze],be[Ie+2*$e]=Ud[255+Mt-qt]}F+=X}}function Of(w,F,V,X,ue,fe,pe,me){for(fe=2*fe+1;0<ue--;){if(sR(w,F,V,fe,pe))if(rR(w,F,V,me))dw(w,F,V);else{var be=w,Ie=F,$e=V,ht=be[Ie-$e],ft=be[Ie+0],nt=be[Ie+$e],Kt=pR[112+(4+(Mt=3*(ft-ht))>>3)],Mt=pR[112+(Mt+3>>3)],Ke=Kt+1>>1;be[Ie-2*$e]=Ud[255+be[Ie-2*$e]+Ke],be[Ie-$e]=Ud[255+ht+Mt],be[Ie+0]=Ud[255+ft-Kt],be[Ie+$e]=Ud[255+nt-Ke]}F+=X}}function Gx(w,F,V,X,ue,fe){tv(w,F,V,1,16,X,ue,fe)}function wy(w,F,V,X,ue,fe){tv(w,F,1,V,16,X,ue,fe)}function eV(w,F,V,X,ue,fe){var pe;for(pe=3;0<pe;--pe)Of(w,F+=4*V,V,1,16,X,ue,fe)}function hw(w,F,V,X,ue,fe){var pe;for(pe=3;0<pe;--pe)Of(w,F+=4,1,V,16,X,ue,fe)}function tV(w,F,V,X,ue,fe,pe,me){tv(w,F,ue,1,8,fe,pe,me),tv(V,X,ue,1,8,fe,pe,me)}function jx(w,F,V,X,ue,fe,pe,me){tv(w,F,1,ue,8,fe,pe,me),tv(V,X,1,ue,8,fe,pe,me)}function qx(w,F,V,X,ue,fe,pe,me){Of(w,F+4*ue,ue,1,8,fe,pe,me),Of(V,X+4*ue,ue,1,8,fe,pe,me)}function aR(w,F,V,X,ue,fe,pe,me){Of(w,F+4,1,ue,8,fe,pe,me),Of(V,X+4,1,ue,8,fe,pe,me)}function fw(){this.ba=new rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Wx(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $x(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lR(){this.ua=0,this.Wa=new W,this.vb=new W,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new k,this.yc=new R}function nV(){this.xb=this.a=0,this.l=new Wi,this.ca=new rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lR,this.ab=0,this.gc=o(4,$x),this.Oc=0}function Aw(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cy(w,F,V,X,ue,fe,pe){for(w=null==w?0:w[F+0],F=0;F<pe;++F)ue[fe+F]=w+V[X+F]&255,w=ue[fe+F]}function Kx(w,F,V,X,ue,fe,pe){var me;if(null==w)Cy(null,null,V,X,ue,fe,pe);else for(me=0;me<pe;++me)ue[fe+me]=w[F+me]+V[X+me]&255}function nv(w,F,V,X,ue,fe,pe){if(null==w)Cy(null,null,V,X,ue,fe,pe);else{var me,be=w[F+0],Ie=be,$e=be;for(me=0;me<pe;++me)Ie=$e+(be=w[F+me])-Ie,$e=V[X+me]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=be,ue[fe+me]=$e}}function Xx(w,F,V,X){var ue=F.width,fe=F.o;if(e(null!=w&&null!=F),0>V||0>=X||V+X>fe)return null;if(!w.Cc){if(null==w.ga){var pe;if(w.ga=new Aw,(pe=null==w.ga)||(pe=F.width*F.o,e(0==w.Gb.length),w.Gb=s(pe),w.Uc=0,null==w.Gb?pe=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,pe=1),pe=!pe),!pe){var me=w.Fa,be=w.P,Ie=w.qc,$e=w.mb,ht=w.nb,ft=be+1,nt=Ie-1,Kt=(pe=w.ga).l;if(e(null!=me&&null!=$e&&null!=F),lv[0]=null,lv[1]=Cy,lv[2]=Kx,lv[3]=nv,pe.ca=$e,pe.tb=ht,pe.c=F.width,pe.i=F.height,e(0<pe.c&&0<pe.i),1>=Ie)F=0;else if(pe.$a=3&me[be+0],pe.Z=me[be+0]>>2&3,pe.Lc=me[be+0]>>4&3,be=me[be+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||be)F=0;else if(Kt.put=Si,Kt.ac=ls,Kt.bc=ca,Kt.ma=pe,Kt.width=F.width,Kt.height=F.height,Kt.Da=F.Da,Kt.v=F.v,Kt.va=F.va,Kt.j=F.j,Kt.o=F.o,pe.$a)e:{e(1==pe.$a),F=td();t:for(;;){if(null==F){F=0;break e}if(e(null!=pe),pe.mc=F,F.c=pe.c,F.i=pe.i,F.l=pe.l,F.l.ma=pe,F.l.width=pe.c,F.l.height=pe.i,F.a=0,G(F.m,me,ft,nt),!Eh(pe.c,pe.i,1,F,null)||(1==F.ab&&3==F.gc[0].hc&&wh(F.s)?(pe.ic=1,me=F.c*F.i,F.Ta=null,F.Ua=0,F.V=s(me),F.Ba=0,null==F.V?(F.a=1,F=0):F=1):(pe.ic=0,F=ng(F,pe.c)),!F))break t;F=1;break e}pe.mc=null,F=0}else F=nt>=pe.c*pe.i;pe=!F}if(pe)return null;1!=w.ga.Lc?w.Ga=0:X=fe-V}e(null!=w.ga),e(V+X<=fe);e:{if(F=(me=w.ga).c,fe=me.l.o,0==me.$a){if(ft=w.rc,nt=w.Vc,Kt=w.Fa,Ie=w.mb,$e=w.nb+V*F,e((be=w.P+1+V*F)<=w.P+w.qc),0!=me.Z)for(e(null!=lv[me.Z]),pe=0;pe<X;++pe)lv[me.Z](ft,nt,Kt,be,Ie,$e,F),ft=Ie,nt=$e,$e+=F,be+=F;else for(pe=0;pe<X;++pe)r(Ie,$e,Kt,be,F),ft=Ie,nt=$e,$e+=F,be+=F;w.rc=ft,w.Vc=nt}else{if(e(null!=me.mc),F=V+X,e(null!=(pe=me.mc)),e(F<=pe.i),pe.C>=F)F=1;else if(me.ic||at(),me.ic){me=pe.V,ft=pe.Ba;var Mt=pe.i,Ke=(Kt=1,be=pe.$/(nt=pe.c),Ie=pe.$%nt,$e=pe.m,ht=pe.s,pe.$),Ze=nt*Mt,qt=nt*F,en=ht.wc,$t=Ke<qt?Jo(ht,Ie,be):null;e(Ke<=Ze),e(F<=Mt),e(wh(ht));t:for(;;){for(;!$e.h&&Ke<qt;){if(Ie&en||($t=Jo(ht,Ie,be)),e(null!=$t),se($e),256>(Mt=ua($t.G[0],$t.H[0],$e)))me[ft+Ke]=Mt,++Ke,++Ie>=nt&&(Ie=0,++be<=F&&!(be%16)&&Zu(pe,be));else{if(!(280>Mt)){Kt=0;break t}Mt=Ju(Mt-256,$e);var Qn,In=ua($t.G[4],$t.H[4],$e);if(se($e),!(Ke>=(In=Pd(nt,In=Ju(In,$e)))&&Ze-Ke>=Mt)){Kt=0;break t}for(Qn=0;Qn<Mt;++Qn)me[ft+Ke+Qn]=me[ft+Ke+Qn-In];for(Ke+=Mt,Ie+=Mt;Ie>=nt;)Ie-=nt,++be<=F&&!(be%16)&&Zu(pe,be);Ke<qt&&Ie&en&&($t=Jo(ht,Ie,be))}e($e.h==K($e))}Zu(pe,be>F?F:be);break t}!Kt||$e.h&&Ke<Ze?(Kt=0,pe.a=$e.h?5:3):pe.$=Ke,F=Kt}else F=ed(pe,pe.V,pe.Ba,pe.c,pe.i,F,Jm);if(!F){X=0;break e}}V+X>=fe&&(w.Cc=1),X=1}if(!X)return null;if(w.Cc&&(null!=(X=w.ga)&&(X.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+V*ue}function L(w,F,V,X,ue,fe){for(;0<ue--;){var pe,me=w,be=F+(V?1:0),Ie=w,$e=F+(V?0:3);for(pe=0;pe<X;++pe){var ht=Ie[$e+4*pe];255!=ht&&(me[be+4*pe+0]=me[be+4*pe+0]*(ht*=32897)>>23,me[be+4*pe+1]=me[be+4*pe+1]*ht>>23,me[be+4*pe+2]=me[be+4*pe+2]*ht>>23)}F+=fe}}function de(w,F,V,X,ue){for(;0<X--;){var fe;for(fe=0;fe<V;++fe){var pe=w[F+2*fe+0],me=15&(Ie=w[F+2*fe+1]),be=4369*me,Ie=(240&Ie|Ie>>4)*be>>16;w[F+2*fe+0]=(240&pe|pe>>4)*be>>16&240|(15&pe|pe<<4)*be>>16>>4&15,w[F+2*fe+1]=240&Ie|me}F+=ue}}function Le(w,F,V,X,ue,fe,pe,me){var be,Ie,$e=255;for(Ie=0;Ie<ue;++Ie){for(be=0;be<X;++be){var ht=w[F+be];fe[pe+4*be]=ht,$e&=ht}F+=V,pe+=me}return 255!=$e}function je(w,F,V,X,ue){var fe;for(fe=0;fe<ue;++fe)V[X+fe]=w[F+fe]>>8}function at(){Mh=L,Co=de,Eo=Le,Ta=je}function Ft(w,F,V){D[w]=function(X,ue,fe,pe,me,be,Ie,$e,ht,ft,nt,Kt,Mt,Ke,Ze,qt,en){var $t,Qn=en-1>>1,In=me[be+0]|Ie[$e+0]<<16,vr=ht[ft+0]|nt[Kt+0]<<16;e(null!=X);var Pn=3*In+vr+131074>>2;for(F(X[ue+0],255&Pn,Pn>>16,Mt,Ke),null!=fe&&F(fe[pe+0],255&(Pn=3*vr+In+131074>>2),Pn>>16,Ze,qt),$t=1;$t<=Qn;++$t){var Hs=me[be+$t]|Ie[$e+$t]<<16,Ks=ht[ft+$t]|nt[Kt+$t]<<16,ys=In+Hs+vr+Ks+524296,Ki=ys+2*(Hs+vr)>>3;Pn=Ki+In>>1,In=(ys=ys+2*(In+Ks)>>3)+Hs>>1,F(X[ue+2*$t-1],255&Pn,Pn>>16,Mt,Ke+(2*$t-1)*V),F(X[ue+2*$t-0],255&In,In>>16,Mt,Ke+(2*$t-0)*V),null!=fe&&(In=Ki+Ks>>1,F(fe[pe+2*$t-1],255&(Pn=ys+vr>>1),Pn>>16,Ze,qt+(2*$t-1)*V),F(fe[pe+2*$t+0],255&In,In>>16,Ze,qt+(2*$t+0)*V)),In=Hs,vr=Ks}1&en||(F(X[ue+en-1],255&(Pn=3*In+vr+131074>>2),Pn>>16,Mt,Ke+(en-1)*V),null!=fe&&F(fe[pe+en-1],255&(Pn=3*vr+In+131074>>2),Pn>>16,Ze,qt+(en-1)*V))}}function nn(){Bh[gR]=olt,Bh[mR]=oue,Bh[tue]=alt,Bh[vR]=aue,Bh[yR]=lue,Bh[sV]=cue,Bh[nue]=llt,Bh[oV]=oue,Bh[aV]=aue,Bh[_R]=lue,Bh[lV]=cue}function Vn(w){return w&~clt?0>w?0:255:w>>uue}function dr(w,F){return Vn((19077*w>>8)+(26149*F>>8)-14234)}function li(w,F,V){return Vn((19077*w>>8)-(6419*F>>8)-(13320*V>>8)+8708)}function ii(w,F){return Vn((19077*w>>8)+(33050*F>>8)-17685)}function cs(w,F,V,X,ue){X[ue+0]=dr(w,V),X[ue+1]=li(w,F,V),X[ue+2]=ii(w,F)}function Zo(w,F,V,X,ue){X[ue+0]=ii(w,F),X[ue+1]=li(w,F,V),X[ue+2]=dr(w,V)}function ha(w,F,V,X,ue){var fe=li(w,F,V);F=fe<<3&224|ii(w,F)>>3,X[ue+0]=248&dr(w,V)|fe>>5,X[ue+1]=F}function Ga(w,F,V,X,ue){var fe=240&ii(w,F)|15;X[ue+0]=240&dr(w,V)|li(w,F,V)>>4,X[ue+1]=fe}function Vc(w,F,V,X,ue){X[ue+0]=255,cs(w,F,V,X,ue+1)}function Ll(w,F,V,X,ue){Zo(w,F,V,X,ue),X[ue+3]=255}function Pf(w,F,V,X,ue){cs(w,F,V,X,ue),X[ue+3]=255}function Ld(w,F){return 0>w?0:w>F?F:w}function PA(w,F,V){D[w]=function(X,ue,fe,pe,me,be,Ie,$e,ht){for(var ft=$e+(-2&ht)*V;$e!=ft;)F(X[ue+0],fe[pe+0],me[be+0],Ie,$e),F(X[ue+1],fe[pe+0],me[be+0],Ie,$e+V),ue+=2,++pe,++be,$e+=2*V;1&ht&&F(X[ue+0],fe[pe+0],me[be+0],Ie,$e)}}function cR(w,F,V){return 0==V?0==w?0==F?6:5:0==F?4:0:V}function Yx(w,F,V,X,ue){switch(w>>>30){case 3:ag(F,V,X,ue,0);break;case 2:Ma(F,V,X,ue);break;case 1:_u(F,V,X,ue)}}function Jx(w,F){var V,X,ue=F.M,fe=F.Nb,pe=w.oc,me=w.pc+40,be=w.oc,Ie=w.pc+584,$e=w.oc,ht=w.pc+600;for(V=0;16>V;++V)pe[me+32*V-1]=129;for(V=0;8>V;++V)be[Ie+32*V-1]=129,$e[ht+32*V-1]=129;for(0<ue?pe[me-1-32]=be[Ie-1-32]=$e[ht-1-32]=129:(i(pe,me-32-1,127,21),i(be,Ie-32-1,127,9),i($e,ht-32-1,127,9)),X=0;X<w.za;++X){var ft=F.ya[F.aa+X];if(0<X){for(V=-1;16>V;++V)r(pe,me+32*V-4,pe,me+32*V+12,4);for(V=-1;8>V;++V)r(be,Ie+32*V-4,be,Ie+32*V+4,4),r($e,ht+32*V-4,$e,ht+32*V+4,4)}var nt=w.Gd,Kt=w.Hd+X,Mt=ft.ad,Ke=ft.Hc;if(0<ue&&(r(pe,me-32,nt[Kt].y,0,16),r(be,Ie-32,nt[Kt].f,0,8),r($e,ht-32,nt[Kt].ea,0,8)),ft.Za){var Ze=pe,qt=me-32+16;for(0<ue&&(X>=w.za-1?i(Ze,qt,nt[Kt].y[15],4):r(Ze,qt,nt[Kt+1].y,0,4)),V=0;4>V;V++)Ze[qt+128+V]=Ze[qt+256+V]=Ze[qt+384+V]=Ze[qt+0+V];for(V=0;16>V;++V,Ke<<=2)Lf[ft.Ob[V]](Ze=pe,qt=me+hue[V]),Yx(Ke,Mt,16*+V,Ze,qt)}else if(Ze=cR(X,ue,ft.Ob[0]),av[Ze](pe,me),0!=Ke)for(V=0;16>V;++V,Ke<<=2)Yx(Ke,Mt,16*+V,pe,me+hue[V]);for(V=ft.Gc,Ze=cR(X,ue,ft.Dd),cg[Ze](be,Ie),cg[Ze]($e,ht),Ke=Mt,Ze=be,qt=Ie,255&(ft=0|V)&&(170&ft?r2(Ke,256,Ze,qt):xh(Ke,256,Ze,qt)),ft=$e,Ke=ht,255&(V>>=8)&&(170&V?r2(Mt,320,ft,Ke):xh(Mt,320,ft,Ke)),ue<w.Ub-1&&(r(nt[Kt].y,0,pe,me+480,16),r(nt[Kt].f,0,be,Ie+224,8),r(nt[Kt].ea,0,$e,ht+224,8)),nt=w.sa,Kt=w.ta+16*X+16*fe*w.R,Mt=w.qa,ft=w.ra+8*X+(V=8*fe*w.B),Ke=w.Ha,Ze=w.Ia+8*X+V,V=0;16>V;++V)r(nt,Kt+V*w.R,pe,me+32*V,16);for(V=0;8>V;++V)r(Mt,ft+V*w.B,be,Ie+32*V,8),r(Ke,Ze+V*w.B,$e,ht+32*V,8)}}function pw(w,F,V,X,ue,fe,pe,me,be){var Ie=[0],$e=[0],ht=0,ft=null!=be?be.kd:0,nt=be??new Wx;if(null==w||12>V)return 7;nt.data=w,nt.w=F,nt.ha=V,F=[F],V=[V],nt.gb=[nt.gb];e:{var Kt=F,Mt=V,Ke=nt.gb;if(e(null!=w),e(null!=Mt),e(null!=Ke),Ke[0]=0,12<=Mt[0]&&!t(w,Kt[0],"RIFF")){if(t(w,Kt[0]+8,"WEBP")){Ke=3;break e}var Ze=Se(w,Kt[0]+4);if(12>Ze||4294967286<Ze){Ke=3;break e}if(ft&&Ze>Mt[0]-8){Ke=7;break e}Ke[0]=Ze,Kt[0]+=12,Mt[0]-=12}Ke=0}if(0!=Ke)return Ke;for(Ze=0<nt.gb[0],V=V[0];;){e:{var qt=w;Mt=F,Ke=V;var en=Ie,$t=$e,Qn=Kt=[0];if((Pn=ht=[ht])[0]=0,8>Ke[0])Ke=7;else{if(!t(qt,Mt[0],"VP8X")){if(10!=Se(qt,Mt[0]+4)){Ke=3;break e}if(18>Ke[0]){Ke=7;break e}var In=Se(qt,Mt[0]+8),vr=1+ge(qt,Mt[0]+12);if(2147483648<=vr*(qt=1+ge(qt,Mt[0]+15))){Ke=3;break e}null!=Qn&&(Qn[0]=In),null!=en&&(en[0]=vr),null!=$t&&($t[0]=qt),Mt[0]+=18,Ke[0]-=18,Pn[0]=1}Ke=0}}if(ht=ht[0],0!=Ke)return Ke;if(Mt=!!(2&(Kt=Kt[0])),!Ze&&ht)return 3;if(null!=fe&&(fe[0]=!!(16&Kt)),null!=pe&&(pe[0]=Mt),null!=me&&(me[0]=0),pe=Ie[0],Kt=$e[0],ht&&Mt&&null==be){Ke=0;break}if(4>V){Ke=7;break}if(Ze&&ht||!Ze&&!ht&&!t(w,F[0],"ALPH")){V=[V],nt.na=[nt.na],nt.P=[nt.P],nt.Sa=[nt.Sa];e:{Ke=F,Ze=V;var Pn=nt.gb;en=nt.na,$t=nt.P,Qn=nt.Sa,vr=22,e(null!=(In=w)),e(null!=Ze),qt=Ke[0];var Hs=Ze[0];for(e(null!=en),e(null!=Qn),en[0]=null,$t[0]=null,Qn[0]=0;;){if(Ke[0]=qt,Ze[0]=Hs,8>Hs){Ke=7;break e}var Ks=Se(In,qt+4);if(4294967286<Ks){Ke=3;break e}var ys=8+Ks+1&-2;if(vr+=ys,0<Pn&&vr>Pn){Ke=3;break e}if(!t(In,qt,"VP8 ")||!t(In,qt,"VP8L")){Ke=0;break e}if(Hs[0]<ys){Ke=7;break e}t(In,qt,"ALPH")||(en[0]=In,$t[0]=qt+8,Qn[0]=Ks),qt+=ys,Hs-=ys}}if(V=V[0],nt.na=nt.na[0],nt.P=nt.P[0],nt.Sa=nt.Sa[0],0!=Ke)break}V=[V],nt.Ja=[nt.Ja],nt.xa=[nt.xa];e:if(Pn=w,Ke=F,Ze=V,en=nt.gb[0],$t=nt.Ja,Qn=nt.xa,In=Ke[0],qt=!t(Pn,In,"VP8 "),vr=!t(Pn,In,"VP8L"),e(null!=Pn),e(null!=Ze),e(null!=$t),e(null!=Qn),8>Ze[0])Ke=7;else{if(qt||vr){if(Pn=Se(Pn,In+4),12<=en&&Pn>en-12){Ke=3;break e}if(ft&&Pn>Ze[0]-8){Ke=7;break e}$t[0]=Pn,Ke[0]+=8,Ze[0]-=8,Qn[0]=vr}else Qn[0]=5<=Ze[0]&&47==Pn[In+0]&&!(Pn[In+4]>>5),$t[0]=Ze[0];Ke=0}if(V=V[0],nt.Ja=nt.Ja[0],nt.xa=nt.xa[0],F=F[0],0!=Ke)break;if(4294967286<nt.Ja)return 3;if(null==me||Mt||(me[0]=nt.xa?2:1),pe=[pe],Kt=[Kt],nt.xa){if(5>V){Ke=7;break}me=pe,ft=Kt,Mt=fe,null==w||5>V?w=0:5<=V&&47==w[F+0]&&!(w[F+4]>>5)?(Ze=[0],Pn=[0],en=[0],G($t=new Q,w,F,V),nr($t,Ze,Pn,en)?(null!=me&&(me[0]=Ze[0]),null!=ft&&(ft[0]=Pn[0]),null!=Mt&&(Mt[0]=en[0]),w=1):w=0):w=0}else{if(10>V){Ke=7;break}me=Kt,null==w||10>V||!Vi(w,F+3,V-3)?w=0:(ft=w[F+0]|w[F+1]<<8|w[F+2]<<16,Mt=16383&(w[F+7]<<8|w[F+6]),w=16383&(w[F+9]<<8|w[F+8]),1&ft||3<(ft>>1&7)||!(ft>>4&1)||ft>>5>=nt.Ja||!Mt||!w?w=0:(pe&&(pe[0]=Mt),me&&(me[0]=w),w=1))}if(!w||(pe=pe[0],Kt=Kt[0],ht&&(Ie[0]!=pe||$e[0]!=Kt)))return 3;null!=be&&(be[0]=nt,be.offset=F-be.w,e(4294967286>F-be.w),e(be.offset==be.ha-V));break}return 0==Ke||7==Ke&&ht&&null==be?(null!=fe&&(fe[0]|=null!=nt.na&&0<nt.na.length),null!=X&&(X[0]=pe),null!=ue&&(ue[0]=Kt),0):Ke}function Zx(w,F,V){var X=F.width,ue=F.height,fe=0,pe=0,me=X,be=ue;if(F.Da=null!=w&&0<w.Da,F.Da&&(me=w.cd,be=w.bd,fe=w.v,pe=w.j,11>V||(fe&=-2,pe&=-2),0>fe||0>pe||0>=me||0>=be||fe+me>X||pe+be>ue))return 0;if(F.v=fe,F.j=pe,F.va=fe+me,F.o=pe+be,F.U=me,F.T=be,F.da=null!=w&&0<w.da,F.da){if(!Be(me,be,V=[w.ib],fe=[w.hb]))return 0;F.ib=V[0],F.hb=fe[0]}return F.ob=null!=w&&w.ob,F.Kb=null==w||!w.Sd,F.da&&(F.ob=F.ib<3*X/4&&F.hb<3*ue/4,F.Kb=0),1}function e2(w){if(null==w)return 2;if(11>w.S){var F=w.f.RGBA;F.fb+=(w.height-1)*F.A,F.A=-F.A}else(F=w.f.kb).O+=((w=w.height)-1)*F.fa,F.fa=-F.fa,F.N+=(w-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(w-1>>1)*F.Db,F.Db=-F.Db,null!=F.F&&(F.J+=(w-1)*F.lb,F.lb=-F.lb);return 0}function gw(w,F,V,X){if(null==X||0>=w||0>=F)return 2;if(null!=V){if(V.Da){var ue=V.cd,fe=V.bd,pe=-2&V.v,me=-2&V.j;if(0>pe||0>me||0>=ue||0>=fe||pe+ue>w||me+fe>F)return 2;w=ue,F=fe}if(V.da){if(!Be(w,F,ue=[V.ib],fe=[V.hb]))return 2;w=ue[0],F=fe[0]}}X.width=w,X.height=F;e:{var be=X.width,Ie=X.height;if(w=X.S,0>=be||0>=Ie||!(w>=gR&&13>w))w=2;else{if(0>=X.Rd&&null==X.sd){pe=fe=ue=F=0;var $e=(me=be*fue[w])*Ie;if(11>w||(fe=(Ie+1)/2*(F=(be+1)/2),12==w&&(pe=(ue=be)*Ie)),null==(Ie=s($e+2*fe+pe))){w=1;break e}X.sd=Ie,11>w?((be=X.f.RGBA).eb=Ie,be.fb=0,be.A=me,be.size=$e):((be=X.f.kb).y=Ie,be.O=0,be.fa=me,be.Fd=$e,be.f=Ie,be.N=0+$e,be.Ab=F,be.Cd=fe,be.ea=Ie,be.W=0+$e+fe,be.Db=F,be.Ed=fe,12==w&&(be.F=Ie,be.J=0+$e+2*fe),be.Tc=pe,be.lb=ue)}if(F=1,fe=X.width,pe=X.height,(ue=X.S)>=gR&&13>ue)if(11>ue)w=X.f.RGBA,F&=(me=Math.abs(w.A))*(pe-1)+fe<=w.size,F&=me>=fe*fue[ue],F&=null!=w.eb;else{w=X.f.kb,me=(fe+1)/2,$e=(pe+1)/2,be=Math.abs(w.fa),Ie=Math.abs(w.Ab);var ht=Math.abs(w.Db),ft=Math.abs(w.lb);F&=be*(pe-1)+fe<=w.Fd,F&=Ie*($e-1)+me<=w.Cd,F=(F&=ht*($e-1)+me<=w.Ed)&be>=fe&Ie>=me&ht>=me,F&=null!=w.y,F&=null!=w.f,F&=null!=w.ea,12==ue&&(F&=ft>=fe,F&=ft*(pe-1)+fe<=w.Tc,F&=null!=w.F)}else F=0;w=F?0:2}}return 0!=w||null!=V&&V.fd&&(w=e2(X)),w}var dc=64,mw=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vw=24,yw=32,t2=8,nd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(w){return w},D.Predictor2=function(w,F,V){return F[V+0]},D.Predictor3=function(w,F,V){return F[V+1]},D.Predictor4=function(w,F,V){return F[V-1]},D.Predictor5=function(w,F,V){return J(J(w,F[V+1]),F[V+0])},D.Predictor6=function(w,F,V){return J(w,F[V-1])},D.Predictor7=function(w,F,V){return J(w,F[V+0])},D.Predictor8=function(w,F,V){return J(F[V-1],F[V+0])},D.Predictor9=function(w,F,V){return J(F[V+0],F[V+1])},D.Predictor10=function(w,F,V){return J(J(w,F[V-1]),J(F[V+0],F[V+1]))},D.Predictor11=function(w,F,V){var X=F[V+0];return 0>=it(X>>24&255,w>>24&255,(F=F[V-1])>>24&255)+it(X>>16&255,w>>16&255,F>>16&255)+it(X>>8&255,w>>8&255,F>>8&255)+it(255&X,255&w,255&F)?X:w},D.Predictor12=function(w,F,V){var X=F[V+0];return(Ue((w>>24&255)+(X>>24&255)-((F=F[V-1])>>24&255))<<24|Ue((w>>16&255)+(X>>16&255)-(F>>16&255))<<16|Ue((w>>8&255)+(X>>8&255)-(F>>8&255))<<8|Ue((255&w)+(255&X)-(255&F)))>>>0},D.Predictor13=function(w,F,V){var X=F[V-1];return(Qe((w=J(w,F[V+0]))>>24&255,X>>24&255)<<24|Qe(w>>16&255,X>>16&255)<<16|Qe(w>>8&255,X>>8&255)<<8|Qe(255&w,255&X))>>>0};var rV=D.PredictorAdd0;D.PredictorAdd1=Ye,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var n2=D.PredictorAdd2;En("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),En("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var uR,Sh=D.ColorIndexInverseTransform,_w=D.MapARGB,dR=D.VP8LColorIndexInverseTransformAlpha,hR=D.MapAlpha,rv=D.VP8LPredictorsAdd=[];rv.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Ey,rd,yu,iv,sg,og,bw,ag,Ma,r2,_u,xh,ww,fR,s2,Sy,xy,sv,Dy,Cw,My,ov,o2,Dh,Mh,Co,Eo,Ta,Al=s(511),lg=s(2041),a2=s(225),Ew=s(767),AR=0,iV=lg,pR=a2,Ud=Ew,Th=Al,gR=0,mR=1,tue=2,vR=3,yR=4,sV=5,nue=6,oV=7,aV=8,_R=9,lV=10,qat=[2,3,7],Wat=[3,3,11],rue=[280,256,256,256,40],$at=[0,1,1,1,0],Kat=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xat=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yat=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jat=8,cV=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],uV=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],l2=null,Zat=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],elt=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],iue=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tlt=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nlt=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rlt=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ilt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],av=[],Lf=[],cg=[],slt=1,sue=2,lv=[],Bh=[];Ft("UpsampleRgbLinePair",cs,3),Ft("UpsampleBgrLinePair",Zo,3),Ft("UpsampleRgbaLinePair",Pf,4),Ft("UpsampleBgraLinePair",Ll,4),Ft("UpsampleArgbLinePair",Vc,4),Ft("UpsampleRgba4444LinePair",Ga,2),Ft("UpsampleRgb565LinePair",ha,2);var olt=D.UpsampleRgbLinePair,alt=D.UpsampleBgrLinePair,oue=D.UpsampleRgbaLinePair,aue=D.UpsampleBgraLinePair,lue=D.UpsampleArgbLinePair,cue=D.UpsampleRgba4444LinePair,llt=D.UpsampleRgb565LinePair,bR=16,wR=1<<bR-1,c2=-227,dV=482,uue=6,clt=(256<<uue)-1,due=0,ult=s(256),dlt=s(256),hlt=s(256),flt=s(256),Alt=s(dV-c2),plt=s(dV-c2);PA("YuvToRgbRow",cs,3),PA("YuvToBgrRow",Zo,3),PA("YuvToRgbaRow",Pf,4),PA("YuvToBgraRow",Ll,4),PA("YuvToArgbRow",Vc,4),PA("YuvToRgba4444Row",Ga,2),PA("YuvToRgb565Row",ha,2);var hue=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],CR=[0,2,8],glt=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(w,F,V,X,ue){var fe=mR,pe=new fw,me=new rt;pe.ba=me,me.S=fe,me.width=[me.width],me.height=[me.height];var be=me.width,Ie=me.height,$e=new It;if(null==$e||null==w)var ht=2;else e(null!=$e),ht=pw(w,F,V,$e.width,$e.height,$e.Pd,$e.Qd,$e.format,null);if(0!=ht?be=0:(null!=be&&(be[0]=$e.width[0]),null!=Ie&&(Ie[0]=$e.height[0]),be=1),be){me.width=me.width[0],me.height=me.height[0],null!=X&&(X[0]=me.width),null!=ue&&(ue[0]=me.height);e:{if(X=new Wi,(ue=new Wx).data=w,ue.w=F,ue.ha=V,ue.kd=1,F=[0],e(null!=ue),(0==(w=pw(ue.data,ue.w,ue.ha,null,null,null,F,null,ue))||7==w)&&F[0]&&(w=4),0==(F=w)){if(e(null!=pe),X.data=ue.data,X.w=ue.w+ue.offset,X.ha=ue.ha-ue.offset,X.put=Si,X.ac=ls,X.bc=ca,X.ma=pe,ue.xa){if(null==(w=td())){pe=1;break e}if(function(ft,nt){var Kt=[0],Mt=[0],Ke=[0];t:for(;;){if(null==ft)return 0;if(null==nt)return ft.a=2,0;if(ft.l=nt,ft.a=0,G(ft.m,nt.data,nt.w,nt.ha),!nr(ft.m,Kt,Mt,Ke)){ft.a=3;break t}if(ft.xb=sue,nt.width=Kt[0],nt.height=Mt[0],!Eh(Kt[0],Mt[0],1,ft,null))break t;return 1}return e(0!=ft.a),0}(w,X)){if(X=0==(F=gw(X.width,X.height,pe.Oa,pe.ba))){t:{X=w;n:for(;;){if(null==X){X=0;break t}if(e(null!=X.s.yc),e(null!=X.s.Ya),e(0<X.s.Wb),e(null!=(V=X.l)),e(null!=(ue=V.ma)),0!=X.xb){if(X.ca=ue.ba,X.tb=ue.tb,e(null!=X.ca),!Zx(ue.Oa,V,vR)){X.a=2;break n}if(!ng(X,V.width)||V.da)break n;if((V.da||Xe(X.ca.S))&&at(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=X.ca.f.kb.F&&at()),X.Pb&&0<X.s.ua&&null==X.s.vb.X&&!ne(X.s.vb,X.s.Wa.Xa)){X.a=1;break n}X.xb=0}if(!ed(X,X.V,X.Ba,X.c,X.i,V.o,Ff))break n;ue.Dc=X.Ma,X=1;break t}e(0!=X.a),X=0}X=!X}X&&(F=w.a)}else F=w.a}else{if(null==(w=new po)){pe=1;break e}if(w.Fa=ue.na,w.P=ue.P,w.qc=ue.Sa,cr(w,X)){if(0==(F=gw(X.width,X.height,pe.Oa,pe.ba))){if(w.Aa=0,V=pe.Oa,e(null!=(ue=w)),null!=V){if(0<(be=0>(be=V.Md)?0:100<be?255:255*be/100)){for(Ie=$e=0;4>Ie;++Ie)12>(ht=ue.pb[Ie]).lc&&(ht.ia=be*glt[0>ht.lc?0:ht.lc]>>3),$e|=ht.ia;$e&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=V.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function vu(w,F){if(null==w)return 0;if(null==F)return ri(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!cr(w,F))return 0;if(e(w.cb),null==F.ac||F.ac(F)){F.ob&&(w.L=0);var V=CR[w.L];if(2==w.L?(w.yb=0,w.zb=0):(w.yb=F.v-V>>4,w.zb=F.j-V>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=F.o+15+V>>4,w.Hb=F.va+15+V>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var X=w.ed;for(V=0;4>V;++V){var ue;if(w.Qa.Cb){var fe=w.Qa.Lb[V];w.Qa.Fb||(fe+=X.Tb)}else fe=X.Tb;for(ue=0;1>=ue;++ue){var pe=w.gd[V][ue],me=fe;if(X.Pc&&(me+=X.vd[0],ue&&(me+=X.od[0])),0<(me=0>me?0:63<me?63:me)){var be=me;0<X.wb&&(be=4<X.wb?be>>2:be>>1)>9-X.wb&&(be=9-X.wb),1>be&&(be=1),pe.dd=be,pe.tc=2*me+be,pe.ld=40<=me?2:15<=me?1:0}else pe.tc=0;pe.La=ue}}}V=0}else ri(w,6,"Frame setup failed"),V=w.a;if(V=0==V){if(V){w.$c=0,0<w.Aa||(w.Ic=1);e:{X=4*(be=w.za);var Ie=32*be,$e=be+1,ht=0<w.L?be*(0<w.Aa?2:1):0,ft=(2==w.Aa?2:1)*be;if((pe=X+832+(ue=3*(16*(V=w.Ic)+CR[w.L])/2*Ie)+(fe=null!=w.Fa&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=pe)V=0;else{if(pe>w.Vb){if(w.Vb=0,w.Ec=s(pe),w.Fc=0,null==w.Ec){V=ri(w,1,"no memory during frame initialization.");break e}w.Vb=pe}me=w.Fc,w.Ac=pe=w.Ec,w.Bc=me,me+=X,w.Gd=o(Ie,lr),w.Hd=0,w.rb=o($e+1,jn),w.sb=1,w.wa=ht?o(ht,Mn):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=be),e(!0),w.oc=pe,w.pc=me,me+=832,w.ya=o(ft,br),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,2==w.Aa&&(w.D.aa+=be),w.R=16*be,w.B=8*be,be=(Ie=CR[w.L])*w.R,Ie=Ie/2*w.B,w.sa=pe,w.ta=me+be,w.qa=w.sa,w.ra=w.ta+16*V*w.R+Ie,w.Ha=w.qa,w.Ia=w.ra+8*V*w.B+Ie,w.$c=0,me+=ue,w.mb=fe?pe:null,w.nb=fe?me:null,e(me+fe<=w.Fc+w.Vb),$i(w),i(w.Ac,w.Bc,0,X),V=1}}if(V){if(F.ka=0,F.y=w.sa,F.O=w.ta,F.f=w.qa,F.N=w.ra,F.ea=w.Ha,F.Vd=w.Ia,F.fa=w.R,F.Rc=w.B,F.F=null,F.J=0,!AR){for(V=-255;255>=V;++V)Al[255+V]=0>V?-V:V;for(V=-1020;1020>=V;++V)lg[1020+V]=-128>V?-128:127<V?127:V;for(V=-112;112>=V;++V)a2[112+V]=-16>V?-16:15<V?15:V;for(V=-255;510>=V;++V)Ew[255+V]=0>V?0:255<V?255:V;AR=1}bw=Rf,ag=kc,r2=za,_u=Pl,xh=Zm,Ma=uc,ww=Gx,fR=wy,s2=tV,Sy=jx,xy=eV,sv=hw,Dy=qx,Cw=aR,My=oR,ov=OA,o2=ig,Dh=Z6,Lf[0]=RA,Lf[1]=z6,Lf[2]=W6,Lf[3]=$6,Lf[4]=tR,Lf[5]=uw,Lf[6]=nR,Lf[7]=Vx,Lf[8]=X6,Lf[9]=K6,av[0]=ZF,av[1]=j6,av[2]=rg,av[3]=lw,av[4]=Hc,av[5]=q6,av[6]=eR,cg[0]=ev,cg[1]=G6,cg[2]=Y6,cg[3]=Qx,cg[4]=by,cg[5]=J6,cg[6]=zx,V=1}else V=0}V&&(V=function(nt,Kt){for(nt.M=0;nt.M<nt.Va;++nt.M){var Mt,Ke=nt.Jc[nt.M&nt.Xb],Ze=nt.m,qt=nt;for(Mt=0;Mt<qt.za;++Mt){var en=Ze,$t=qt,Qn=$t.Ac,In=$t.Bc+4*Mt,vr=$t.zc,Pn=$t.ya[$t.aa+Mt];if(Pn.$b=$t.Qa.Bb?ee(en,$t.Pa.jb[0])?2+ee(en,$t.Pa.jb[2]):ee(en,$t.Pa.jb[1]):0,$t.kc&&(Pn.Ad=ee(en,$t.Bd)),Pn.Za=!ee(en,145)+0,Pn.Za){var Hs=Pn.Ob,Ks=0;for($t=0;4>$t;++$t){var ys,Ki=vr[0+$t];for(ys=0;4>ys;++ys){for(var go=iue[ee(en,(Ki=nlt[Qn[In+ys]][Ki])[0])];0<go;)go=iue[2*go+ee(en,Ki[go])];Qn[In+ys]=Ki=-go}r(Hs,Ks,Qn,In,4),Ks+=4,vr[0+$t]=Ki}}else Ki=ee(en,156)?ee(en,128)?1:3:ee(en,163)?2:0,Pn.Ob[0]=Ki,i(Qn,In,Ki,4),i(vr,0,Ki,4);Pn.Dd=ee(en,142)?ee(en,114)?ee(en,183)?1:3:2:0}if(qt.m.Ka)return ri(nt,7,"Premature end-of-partition0 encountered.");for(;nt.ja<nt.za;++nt.ja){if(qt=Ke,en=(Ze=nt).rb[Ze.sb-1],Qn=Ze.rb[Ze.sb+Ze.ja],Mt=Ze.ya[Ze.aa+Ze.ja],In=Ze.kc?Mt.Ad:0)en.la=Qn.la=0,Mt.Za||(en.Na=Qn.Na=0),Mt.Hc=0,Mt.Gc=0,Mt.ia=0;else{var so,vi;if(en=Qn,Qn=qt,In=Ze.Pa.Xc,Pn=Ze.pb[(vr=Ze.ya[Ze.aa+Ze.ja]).$b],Ks=Ze.rb[Ze.sb-1],Ki=ys=0,i($t=vr.ad,Hs=0,0,384),vr.Za)var ja=0,id=In[3];else{go=s(16);var qa=en.Na+Ks.Na;if(qa=l2(Qn,In[1],qa,Pn.Eb,0,go,0),en.Na=Ks.Na=(0<qa)+0,1<qa)bw(go,0,$t,Hs);else{var sd=go[0]+3>>3;for(go=0;256>go;go+=16)$t[Hs+go]=sd}ja=1,id=In[0]}var Xs=15&en.la,kd=15&Ks.la;for(go=0;4>go;++go){var Hd=1&kd;for(sd=vi=0;4>sd;++sd)Xs=Xs>>1|(Hd=(qa=l2(Qn,id,qa=Hd+(1&Xs),Pn.Sc,ja,$t,Hs))>ja)<<7,vi=vi<<2|(3<qa?3:1<qa?2:0!=$t[Hs+0]),Hs+=16;Xs>>=4,kd=kd>>1|Hd<<7,ys=(ys<<8|vi)>>>0}for(id=Xs,ja=kd>>4,so=0;4>so;so+=2){for(vi=0,Xs=en.la>>4+so,kd=Ks.la>>4+so,go=0;2>go;++go){for(Hd=1&kd,sd=0;2>sd;++sd)Xs=Xs>>1|(Hd=0<(qa=l2(Qn,In[2],qa=Hd+(1&Xs),Pn.Qc,0,$t,Hs)))<<3,vi=vi<<2|(3<qa?3:1<qa?2:0!=$t[Hs+0]),Hs+=16;Xs>>=2,kd=kd>>1|Hd<<5}Ki|=vi<<4*so,id|=Xs<<4<<so,ja|=(240&kd)<<so}en.la=id,Ks.la=ja,vr.Hc=ys,vr.Gc=Ki,vr.ia=43690&Ki?0:Pn.ia,In=!(ys|Ki)}if(0<Ze.L&&(Ze.wa[Ze.Y+Ze.ja]=Ze.gd[Mt.$b][Mt.Za],Ze.wa[Ze.Y+Ze.ja].La|=!In),qt.Ka)return ri(nt,7,"Premature end-of-file encountered.")}if($i(nt),Ze=Kt,qt=1,Mt=(Ke=nt).D,en=0<Ke.L&&Ke.M>=Ke.zb&&Ke.M<=Ke.Va,0==Ke.Aa)e:{if(Mt.M=Ke.M,Mt.uc=en,Jx(Ke,Mt),qt=1,Mt=(vi=Ke.D).Nb,en=(Ki=CR[Ke.L])*Ke.R,In=Ke.sa,vr=Ke.ta-en+(go=16*Mt*Ke.R),Pn=Ke.qa,$t=Ke.ra-(Qn=Ki/2*Ke.B)+(sd=8*Mt*Ke.B),Hs=Ke.Ha,Ks=Ke.Ia-Qn+sd,kd=0==(Xs=vi.M),ys=Xs>=Ke.Va-1,2==Ke.Aa&&Jx(Ke,vi),vi.uc)for(Hd=(qa=Ke).D.M,e(qa.D.uc),vi=qa.yb;vi<qa.Hb;++vi){id=Hd;var Ul=(hc=(fa=qa).D).Nb,hc=hc.wa[hc.Y+(ja=vi)],bu=fa.sa,Nh=fa.ta+16*Ul*(so=fa.R)+16*ja,LA=hc.dd,kl=hc.tc;if(0!=kl)if(e(3<=kl),1==fa.L)0<ja&&ov(bu,Nh,so,kl+4),hc.La&&Dh(bu,Nh,so,kl),0<id&&My(bu,Nh,so,kl+4),hc.La&&o2(bu,Nh,so,kl);else{var ug=fa.B,Ty=fa.qa,Sw=fa.ra+8*Ul*ug+8*ja,uv=fa.Ha,fa=fa.Ia+8*Ul*ug+8*ja;Ul=hc.ld,0<ja&&(fR(bu,Nh,so,kl+4,LA,Ul),Sy(Ty,Sw,uv,fa,ug,kl+4,LA,Ul)),hc.La&&(sv(bu,Nh,so,kl,LA,Ul),Cw(Ty,Sw,uv,fa,ug,kl,LA,Ul)),0<id&&(ww(bu,Nh,so,kl+4,LA,Ul),s2(Ty,Sw,uv,fa,ug,kl+4,LA,Ul)),hc.La&&(xy(bu,Nh,so,kl,LA,Ul),Dy(Ty,Sw,uv,fa,ug,kl,LA,Ul))}}if(Ke.ia&&alert("todo:DitherRow"),null!=Ze.put){if(vi=16*Xs,Xs=16*(Xs+1),kd?(Ze.y=Ke.sa,Ze.O=Ke.ta+go,Ze.f=Ke.qa,Ze.N=Ke.ra+sd,Ze.ea=Ke.Ha,Ze.W=Ke.Ia+sd):(vi-=Ki,Ze.y=In,Ze.O=vr,Ze.f=Pn,Ze.N=$t,Ze.ea=Hs,Ze.W=Ks),ys||(Xs-=Ki),Xs>Ze.o&&(Xs=Ze.o),Ze.F=null,Ze.J=null,null!=Ke.Fa&&0<Ke.Fa.length&&vi<Xs&&(Ze.J=Xx(Ke,Ze,vi,Xs-vi),Ze.F=Ke.mb,null==Ze.F&&0==Ze.F.length)){qt=ri(Ke,3,"Could not decode alpha data.");break e}vi<Ze.j&&(Ki=Ze.j-vi,vi=Ze.j,e(!(1&Ki)),Ze.O+=Ke.R*Ki,Ze.N+=Ke.B*(Ki>>1),Ze.W+=Ke.B*(Ki>>1),null!=Ze.F&&(Ze.J+=Ze.width*Ki)),vi<Xs&&(Ze.O+=Ze.v,Ze.N+=Ze.v>>1,Ze.W+=Ze.v>>1,null!=Ze.F&&(Ze.J+=Ze.v),Ze.ka=vi-Ze.j,Ze.U=Ze.va-Ze.v,Ze.T=Xs-vi,qt=Ze.put(Ze))}Mt+1!=Ke.Ic||ys||(r(Ke.sa,Ke.ta-en,In,vr+16*Ke.R,en),r(Ke.qa,Ke.ra-Qn,Pn,$t+8*Ke.B,Qn),r(Ke.Ha,Ke.Ia-Qn,Hs,Ks+8*Ke.B,Qn))}if(!qt)return ri(nt,6,"Output aborted.")}return 1}(w,F)),null!=F.bc&&F.bc(F),V&=1}return V?(w.cb=0,V):0})(w,X)||(F=w.a)}}else F=w.a}0==F&&null!=pe.Oa&&pe.Oa.fd&&(F=e2(pe.ba))}pe=F}fe=0!=pe?null:11>fe?me.f.RGBA.eb:me.f.kb.y}else fe=null;return fe};var fue=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(D,S){for(var T="",B=0;B<4;B++)T+=String.fromCharCode(D[S++]);return T}function u(D,S){return(D[S+0]|D[S+1]<<8|D[S+2]<<16)>>>0}function d(D,S){return(D[S+0]|D[S+1]<<8|D[S+2]<<16|D[S+3]<<24)>>>0}new l;var f=[0],h=[0],A=[],p=new l,m=n,g=function(D,S){var T={},B=0,R=!1,U=0,k=0;if(T.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(j,K,oe,se){for(var le=0;le<4;le++)if(j[K+le]!="RIFF".charCodeAt(le))return!0;return!1}(D,S)){var q,O;for(d(D,S+=4),S+=8;S<D.length;){var P=c(D,S),G=d(D,S+=4);S+=4;var H=G+(1&G);switch(P){case"VP8 ":case"VP8L":void 0===T.frames[B]&&(T.frames[B]={}),(Q=T.frames[B]).src_off=R?k:S-8,Q.src_size=U+G+8,B++,R&&(R=!1,U=0,k=0);break;case"VP8X":(Q=T.header={}).feature_flags=D[S];var ae=S+4;Q.canvas_width=1+u(D,ae),Q.canvas_height=1+u(D,ae+=3),ae+=3;break;case"ALPH":R=!0,U=H+8,k=S-8;break;case"ANIM":(Q=T.header).bgcolor=d(D,S),Q.loop_count=(q=D)[(O=ae=S+4)+0]|q[O+1]<<8,ae+=2;break;case"ANMF":var ve,Q;(Q=T.frames[B]={}).offset_x=2*u(D,S),Q.offset_y=2*u(D,S+=3),Q.width=1+u(D,S+=3),Q.height=1+u(D,S+=3),Q.duration=u(D,S+=3),S+=3,ve=D[S++],Q.dispose=1&ve,Q.blend=ve>>1&1}"ANMF"!=P&&(S+=H)}return T}}(m,0);g.response=m,g.rgbaoutput=!0,g.dataurl=!1;var y=g.header?g.header:null,v=g.frames?g.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],h=[y.canvas_width];for(var _=0;_<v.length&&0!=v[_].blend;_++);}var C=v[0],b=p.WebPDecodeRGBA(m,C.src_off,C.src_size,h,f);C.rgba=b,C.imgwidth=h[0],C.imgheight=f[0];for(var M=0;M<h[0]*f[0]*4;M++)A[M]=b[M];return this.width=h,this.height=f,this.data=A,this}(function(n){var t=function(f,h,A,p){var m=4,g=o;switch(p){case n.image_compression.FAST:m=1,g=s;break;case n.image_compression.MEDIUM:m=6,g=a;break;case n.image_compression.SLOW:m=9,g=l}var y=WS(f=r(f,h,A,g),{level:m});return n.__addimage__.arrayBufferToBinaryString(y)},r=function(f,h,A,p){for(var m,g,y,v=f.length/h,_=new Uint8Array(f.length+v),C=u(),b=0;b<v;b+=1){if(m=f.subarray(y=b*h,y+h),p)_.set(p(m,A,g),y+b);else{for(var M,D=C.length,S=[];M<D;M+=1)S[M]=C[M](m,A,g);var T=d(S.concat());_.set(S[T],y+b)}g=m}return _},i=function(f){var h=Array.apply([],f);return h.unshift(0),h},s=function(f,h){var p=[],m=f.length;p[0]=1;for(var g=0;g<m;g+=1)p[g+1]=f[g]-(f[g-h]||0)+256&255;return p},o=function(f,h,A){var m=[],g=f.length;m[0]=2;for(var y=0;y<g;y+=1)m[y+1]=f[y]-(A&&A[y]||0)+256&255;return m},a=function(f,h,A){var g=[],y=f.length;g[0]=3;for(var v=0;v<y;v+=1)g[v+1]=f[v]+256-((f[v-h]||0)+(A&&A[v]||0)>>>1)&255;return g},l=function(f,h,A){var y,v=[],_=f.length;v[0]=4;for(var C=0;C<_;C+=1)y=c(f[C-h]||0,A&&A[C]||0,A&&A[C-h]||0),v[C+1]=f[C]-y+256&255;return v},c=function(f,h,A){if(f===h&&h===A)return f;var p=Math.abs(h-A),m=Math.abs(f-A),g=Math.abs(f+h-A-A);return p<=m&&p<=g?f:m<=g?h:A},u=function(){return[i,s,o,a,l]},d=function(f){var h=f.map(function(A){return A.reduce(function(p,m){return p+Math.abs(m)},0)});return h.indexOf(Math.min.apply(null,h))};n.processPNG=function(f,h,A,p){var m,g,y,v,_,C,b,M,D,S,T,B,R,U,k,q=this.decode.FLATE_DECODE,O="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(y=new uRe(f)).imgData,g=y.bits,m=y.colorSpace,_=y.colors,-1!==[4,6].indexOf(y.colorType)){if(8===y.bits){D=(M=32==y.pixelBitlength?new Uint32Array(y.decodePixels().buffer):16==y.pixelBitlength?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,T=new Uint8Array(D*y.colors),S=new Uint8Array(D);var P,G=y.pixelBitlength-y.bits;for(U=0,k=0;U<D;U++){for(R=M[U],P=0;P<G;)T[k++]=R>>>P&255,P+=y.bits;S[U]=R>>>P&255}}if(16===y.bits){D=(M=new Uint32Array(y.decodePixels().buffer)).length,T=new Uint8Array(D*(32/y.pixelBitlength)*y.colors),S=new Uint8Array(D*(32/y.pixelBitlength)),B=y.colors>1,U=0,k=0;for(var H=0;U<D;)R=M[U++],T[k++]=R>>>0&255,B&&(T[k++]=R>>>16&255,R=M[U++],T[k++]=R>>>0&255),S[H++]=R>>>16&255;g=8}p!==n.image_compression.NONE?(f=t(T,y.width*y.colors,y.colors,p),b=t(S,y.width,1,p)):(f=T,b=S,q=void 0)}if(3===y.colorType&&(m=this.color_spaces.INDEXED,C=y.palette,y.transparency.indexed)){var ae=y.transparency.indexed,ve=0;for(U=0,D=ae.length;U<D;++U)ve+=ae[U];if((ve/=255)==D-1&&-1!==ae.indexOf(0))v=[ae.indexOf(0)];else if(ve!==D){for(M=y.decodePixels(),S=new Uint8Array(M.length),U=0,D=M.length;U<D;U++)S[U]=ae[M[U]];b=t(S,y.width,1)}}var Q=function(j){var K;switch(j){case n.image_compression.FAST:K=11;break;case n.image_compression.MEDIUM:K=13;break;case n.image_compression.SLOW:K=14;break;default:K=12}return K}(p);return q===this.decode.FLATE_DECODE&&(O="/Predictor "+Q+" "),O+="/Colors "+_+" /BitsPerComponent "+g+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:A,data:f,index:h,filter:q,decodeParameters:O,transparency:v,palette:C,sMask:b,predictor:Q,width:y.width,height:y.height,bitsPerComponent:g,colorSpace:m}}}})(Er.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new dRe(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new l8(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(Er.API),mf.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},mf.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){ho.log("bit decode error:"+t)}},mf.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==t&&(this.pos+=4-t)}},mf.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=15&s,c=this.palette[s>>4];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;this.data[o+4]=(c=this.palette[l]).blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},mf.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==n&&(this.pos+=4-n)}},mf.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=(s>>10&e)/e*255|0,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},mf.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,u=i*this.width*4+4*s;this.data[u]=(o>>11)/e*255|0,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},mf.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},mf.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},mf.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(e,t,r,i){var s=new mf(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new l8(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Er.API),QZ.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(e,t,r,i){var s=new QZ(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new l8(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Er.API),Er.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=r[c+1],f=r[c+2],h=r[c+3];s[a++]=r[c],s[a++]=d,s[a++]=f,o[l++]=h}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Er.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},tI=(vb=Er.API).getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=!1!==e.doKerning,f=0,h=n.length,A=0,p=a[0]||l,m=[];for(t=0;t<h;t++)r=n.charCodeAt(t),"function"==typeof i.metadata.widthOfString?m.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(f=d&&"object"===(0,uo.A)(c[r])&&!isNaN(parseInt(c[r][A],10))?c[r][A]/u:0,m.push((a[r]||p)/l+f)),A=r;return m},UZ=vb.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return vb.processArabic&&(n=vb.processArabic(n)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(n,t,i)/t:tI.apply(this,arguments).reduce(function(s,o){return s+o},0)},kZ=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},HZ=function(n,e,t){t||(t={});var r,i,s,o,a,l,u=[],d=[u],f=t.textIndent||0,h=0,A=0,p=n.split(" "),m=tI.apply(this,[" ",t])[0];if(l=-1===t.lineIndent?p[0].length+2:t.lineIndent||0){var g=Array(l).join(" "),y=[];p.map(function(_){(_=_.split(/\s*\n/)).length>1?y=y.concat(_.map(function(C,b){return(b&&C.length?"\n":"")+C})):y.push(_[0])}),p=y,l=UZ.apply(this,[g,t])}for(s=0,o=p.length;s<o;s++){var v=0;if(r=p[s],l&&"\n"==r[0]&&(r=r.substr(1),v=1),f+h+(A=(i=tI.apply(this,[r,t])).reduce(function(_,C){return _+C},0))>e||v){if(A>e){for(a=kZ.apply(this,[r,i,e-(f+h),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);A=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(_,C){return _+C},0)}else u=[r];d.push(u),f=A+l,h=m}else u.push(r),f+=h+A,h=m}return d.map(l?function(_,C){return(C?g:"")+_.join(" ")}:function(_){return _.join(" ")})},vb.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(HZ.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<16;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=n.__fontmetrics__.compress=function(d){var f,h,A,p,m=["{"];for(var g in d){if(f=d[g],isNaN(parseInt(g,10))?h="'"+g+"'":(g=parseInt(g,10),h=(h=s(g).slice(2)).slice(0,-1)+r[h.slice(-1)]),"number"==typeof f)f<0?(A=s(f).slice(3),p="-"):(A=s(f).slice(2),p=""),A=p+A.slice(0,-1)+r[A.slice(-1)];else{if("object"!==(0,uo.A)(f))throw new Error("Don't know what to do with value type "+(0,uo.A)(f)+".");A=o(f)}m.push(h+A)}return m.push("}"),m.join("")},a=n.__fontmetrics__.uncompress=function(d){if("string"!=typeof d)throw new Error("Invalid argument passed to uncompress.");for(var f,h,A,p,m={},g=1,y=m,v=[],_="",C="",b=d.length-1,M=1;M<b;M+=1)"'"==(p=d[M])?f?(A=f.join(""),f=void 0):f=[]:f?f.push(p):"{"==p?(v.push([y,A]),y={},A=void 0):"}"==p?((h=v.pop())[0][h[1]]=y,A=void 0,y=h[0]):"-"==p?g=-1:void 0===A?t.hasOwnProperty(p)?(_+=t[p],A=parseInt(_,16)*g,g=1,_=""):_+=p:t.hasOwnProperty(p)?(C+=t[p],y[A]=parseInt(C,16)*g,g=1,A=void 0,C=""):C+=p;return m},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(d){var f=d.font,h=u.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var A=c.Unicode[f.postScriptName];A&&(f.metadata.Unicode.encoding=A,f.encoding=A.codePages[0])}])}(Er.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var o,a,r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");o=i,a=/^\x00\x01\x00\x00/.test(a=r)?e(a):e(KS(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]}}])}(Er),Er.API.addSvgAsImage=function(t,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw ho.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw ho.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return function e(){return(Mr.canvg?Promise.resolve(Mr.canvg):_e.e(734).then(_e.bind(_e,9734))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}().then(function(A){return A.fromString(d,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(f)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})},Er.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Er.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function f(A,p){var m,g=!1;for(m=0;m<A.length;m+=1)A[m]===p&&(g=!0);return g}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var h=a.length;for(d=0;d<h;d+=1)t[a[d]].value=t[a[d]].defaultValue,t[a[d]].explicitSet=!1}if("object"===(0,uo.A)(n))for(i in n)if(s=n[i],f(a,i)&&void 0!==s){if("boolean"===t[i].type&&"boolean"==typeof s)t[i].value=s;else if("name"===t[i].type&&f(t[i].valueSet,s))t[i].value=s;else if("integer"===t[i].type&&Number.isInteger(s))t[i].value=s;else if("array"===t[i].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var A,p=[];for(A in t)!0===t[A].explicitSet&&p.push("name"===t[A].type?"/"+A+" /"+t[A].value:"/"+A+" "+t[A].value);0!==p.length&&this.internal.write("/ViewerPreferences\n<<\n"+p.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Er.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,f=s.length;d<f;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),-1==l.indexOf(a)&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),"0"==a)return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,d,f;for(u="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],d=0,f=(a=Object.keys(s).sort(function(h,A){return h-A})).length;d<f;d++)o=a[d],l.length>=100&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=s[o]&&"function"==typeof s[o].toString&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),u+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"Identity-H"===a.encoding){for(var d=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",A=0;A<f.length;A++)h+=String.fromCharCode(f[A]);var p=c();u({data:h,addLength1:!0,objectId:p}),l("endobj");var m=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+db(a.fontName)),l("/FontFile2 "+p+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+db(a.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+m+" 0 R"),l("/BaseFont /"+db(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]),e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var d=a.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var A=c();u({data:f,addLength1:!0,objectId:A}),l("endobj");var p=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var m=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+A+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+db(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var g=0;g<a.metadata.hmtx.widths.length;g++)a.metadata.hmtx.widths[g]=parseInt(a.metadata.hmtx.widths[g]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+db(a.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},f=d.pdfEscape,h=d.activeFontKey,A=d.fonts,p=h,m="",g=0,y="",v=A[p].encoding;if("Identity-H"!==A[p].encoding)return{text:a,x:l,y:c,options:u,mutex:d};for(y=a,p=h,Array.isArray(a)&&(y=a[0]),g=0;g<y.length;g+=1)A[p].metadata.hasOwnProperty("cmap")&&(o=A[p].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),o||y[g].charCodeAt(0)<256&&A[p].metadata.hasOwnProperty("Unicode")?m+=y[g]:m+="";var _="";return parseInt(p.slice(1))<14||"WinAnsiEncoding"===v?_=f(m,p).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):"Identity-H"===v&&(_=t(m,A[p])),d.isHex=!0,{text:_,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&3===o[c].length?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Er),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(Er.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,v=0;this.__bidiEngine__={};var _=function(B){var R=B.charCodeAt(),U=R>>8,k=p[U];return void 0!==k?d[256*k+(255&R)]:252===U||253===U?"AL":g.test(U)?"L":8===U?"R":"N"},C=function(B){for(var R,U=0;U<B.length;U++){if("L"===(R=_(B.charAt(U))))return!1;if("R"===R)return!0}return!1},b=function(B,R,U,k){var q,O,P,G,H=R[k];switch(H){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(H="AN");break;case"AL":y=!0,H="R";break;case"WS":case"BN":H="N";break;case"CS":k<1||k+1>=R.length||"EN"!==(q=U[k-1])&&"AN"!==q||"EN"!==(O=R[k+1])&&"AN"!==O?H="N":y&&(O="AN"),H=O===q?O:"N";break;case"ES":H="EN"===(q=k>0?U[k-1]:"B")&&k+1<R.length&&"EN"===R[k+1]?"EN":"N";break;case"ET":if(k>0&&"EN"===U[k-1]){H="EN";break}if(y){H="N";break}for(P=k+1,G=R.length;P<G&&"ET"===R[P];)P++;H=P<G&&"EN"===R[P]?"EN":"N";break;case"NSM":if(o&&!a){for(G=R.length,P=k+1;P<G&&"NSM"===R[P];)P++;if(P<G){var ae=B[k];if(q=R[P],(ae>=1425&&ae<=2303||64286===ae)&&("R"===q||"AL"===q)){H="R";break}}}H=k<1||"B"===(q=R[k-1])?"N":U[k-1];break;case"B":y=!1,i=!0,H=v;break;case"S":s=!0,H="N"}return H},M=function(B,R,U){var k=B.split("");return U&&D(k,U,{hiLevel:v}),k.reverse(),R&&R.reverse(),k.join("")},D=function(B,R,U){var k,q,O,P,G,H=-1,ae=B.length,ve=0,Q=[],j=v?h:f,K=[];for(y=!1,i=!1,s=!1,q=0;q<ae;q++)K[q]=_(B[q]);for(O=0;O<ae;O++){if(G=ve,Q[O]=b(B,K,Q,O),k=240&(ve=j[G][A[Q[O]]]),R[O]=P=j[ve&=15][5],k>0)if(16===k){for(q=H;q<O;q++)R[q]=1;H=-1}else H=-1;if(j[ve][6])-1===H&&(H=O);else if(H>-1){for(q=H;q<O;q++)R[q]=P;H=-1}"B"===K[O]&&(R[O]=0),U.hiLevel|=P}s&&function(oe,se,le){for(var te=0;te<le;te++)if("S"===oe[te]){se[te]=v;for(var ee=te-1;ee>=0&&"WS"===oe[ee];ee--)se[ee]=v}}(K,R,ae)},S=function(B,R,U,k,q){if(!(q.hiLevel<B)){if(1===B&&1===v&&!i)return R.reverse(),void(U&&U.reverse());for(var O,P,G,H,ae=R.length,ve=0;ve<ae;){if(k[ve]>=B){for(G=ve+1;G<ae&&k[G]>=B;)G++;for(H=ve,P=G-1;H<P;H++,P--)O=R[H],R[H]=R[P],R[P]=O,U&&(O=U[H],U[H]=U[P],U[P]=O);ve=G}ve++}}},T=function(B,R,U){var k=B.split(""),q={hiLevel:v};return U||(U=[]),D(k,U,q),function(O,P,G){if(0!==G.hiLevel&&u)for(var H,ae=0;ae<O.length;ae++)1===P[ae]&&(H=m.indexOf(O[ae]))>=0&&(O[ae]=m[H+1])}(k,U,q),S(2,k,R,U,q),S(1,k,R,U,q),k.join("")};return this.__bidiEngine__.doBidiReorder=function(B,R,U){if(function(q,O){if(O)for(var P=0;P<q.length;P++)O[P]=P;void 0===a&&(a=C(q)),void 0===c&&(c=C(q))}(B,R),o||!l||c)if(o&&l&&a^c)v=a?1:0,B=M(B,R,U);else if(!o&&l&&c)v=a?1:0,B=T(B,R,U),B=M(B,R);else if(!o||a||l||c){if(o&&!l&&a^c)B=M(B,R),a?(v=0,B=T(B,R,U)):(v=1,B=T(B,R,U),B=M(B,R));else if(o&&a&&!l&&c)v=1,B=T(B,R,U),B=M(B,R);else if(!o&&!l&&a^c){var k=u;a?(v=1,B=T(B,R,U),v=0,u=!1,B=T(B,R,U),u=k):(v=0,B=T(B,R,U),B=M(B,R),v=1,u=!1,B=T(B,R,U),u=k,B=M(B,R))}}else v=0,B=T(B,R,U);else v=a?1:0,B=T(B,R,U);return B},this.__bidiEngine__.setOptions=function(B){B&&(o=B.isInputVisual,l=B.isOutputVisual,a=B.isInputRtl,c=B.isOutputRtl,u=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=r.options||{},o=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,t.setOptions(s),"[object Array]"===Object.prototype.toString.call(i)){var a=0;for(o=[],a=0;a<i.length;a+=1)"[object Array]"===Object.prototype.toString.call(i[a])?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Er),Er.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Im(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new xRe(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new hRe(this.contents),this.head=new ARe(this),this.name=new yRe(this),this.cmap=new GZ(this),this.toUnicode={},this.hhea=new pRe(this),this.maxp=new _Re(this),this.hmtx=new bRe(this),this.post=new mRe(this),this.os2=new gRe(this),this.loca=new SRe(this),this.glyf=new wRe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)c.push(Math.round(l[o]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var vf,Im=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var r,i,s;for(s=[],r=0,i=e.length;r<i;r++)s.push(this.writeByte(e[r]));return s},n}(),hRe=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,a,l,c,u,d,f,h,A,p;for(p in h=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),o=Math.floor(d/l),u=16*h-d,(i=new Im).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(o),i.writeShort(u),c=i.pos+16*h,a=null,A=[],t)for(f=t[p],i.writeString(p),i.writeInt(n(f)),i.writeInt(c),i.writeInt(f.length),A=A.concat(f),"head"===p&&(a=c),c+=f.length;c%4;)A.push(0),c++;return i.write(A),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=jZ.call(t);t.length%4;)t.push(0);for(s=new Im(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),fRe={}.hasOwnProperty,EA=function(n,e){for(var t in e)fRe.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};vf=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var ARe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return EA(e,vf),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Im).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),zZ=function(){function n(e,t){var r,i,s,o,a,l,c,u,d,f,h,A,p,m,g,y,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,s=function(){var _,C;for(C=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)C.push(e.readUInt16());return C}(),e.pos+=2,p=function(){var _,C;for(C=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)C.push(e.readUInt16());return C}(),c=function(){var _,C;for(C=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)C.push(e.readUInt16());return C}(),u=function(){var _,C;for(C=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,a=function(){var _,C;for(C=[],l=_=0;0<=i?_<i:_>i;l=0<=i?++_:--_)C.push(e.readUInt16());return C}(),l=g=0,v=s.length;g<v;l=++g)for(m=s[l],r=y=A=p[l];A<=m?y<=m:y>=m;r=A<=m?++y:--y)0===u[l]?o=r+c[l]:0!==(o=a[u[l]/2+(r-A)-(f-l)]||0)&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=d}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,d,f,h,A,p,m,g,y,v,C,b,M,D,S,T,B,R,U,k,q,O,P,G,H,ae,ve,Q,j,K,oe,se,le,te,ee,Ae,Ee,ge;switch(k=new Im,o=Object.keys(e).sort(function(Se,ne){return Se-ne}),t){case"macroman":for(p=0,m=function(){var Se=[];for(A=0;A<256;++A)Se.push(0);return Se}(),y={0:0},s={},q=0,H=o.length;q<H;q++)null==y[ee=e[i=o[q]]]&&(y[ee]=++p),s[i]={old:e[i],new:y[e[i]]},m[i]=y[e[i]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(m),{charMap:s,subtable:k.data,maxGlyphID:p+1};case"unicode":for(R=[],d=[],v=0,y={},r={},g=c=null,O=0,ae=o.length;O<ae;O++)null==y[C=e[i=o[O]]]&&(y[C]=++v),r[i]={old:C,new:y[C]},a=y[C]-i,null!=g&&a===c||(g&&d.push(g),R.push(i),c=a),g=i;for(g&&d.push(g),d.push(65535),R.push(65535),T=2*(S=R.length),D=2*Math.pow(Math.log(S)/Math.LN2,2),f=Math.log(D/2)/Math.LN2,M=2*S-D,l=[],b=[],h=[],A=P=0,ve=R.length;P<ve;A=++P){if(u=d[A],65535===(B=R[A])){l.push(0),b.push(0);break}if(B-(U=r[B].new)>=32768)for(l.push(0),b.push(2*(h.length+S-A)),i=G=B;B<=u?G<=u:G>=u;i=B<=u?++G:--G)h.push(r[i].new);else l.push(U-B),b.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*S+2*h.length),k.writeUInt16(0),k.writeUInt16(T),k.writeUInt16(D),k.writeUInt16(f),k.writeUInt16(M),le=0,Q=d.length;le<Q;le++)k.writeUInt16(i=d[le]);for(k.writeUInt16(0),te=0,j=R.length;te<j;te++)k.writeUInt16(i=R[te]);for(Ae=0,K=l.length;Ae<K;Ae++)k.writeUInt16(a=l[Ae]);for(Ee=0,oe=b.length;Ee<oe;Ee++)k.writeUInt16(b[Ee]);for(ge=0,se=h.length;ge<se;ge++)k.writeUInt16(p=h[ge]);return{charMap:r,subtable:k.data,maxGlyphID:v+1}}},n}(),GZ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return EA(e,vf),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new zZ(t,this.offset),this.tables.push(r),r.isUnicode&&null==this.unicode&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return null==r&&(r="macroman"),i=zZ.encode(t,r),(s=new Im).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),pRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return EA(e,vf),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),gRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return EA(e,vf),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),mRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return EA(e,vf),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}.call(this)}},e}(),vRe=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},yRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return EA(e,vf),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,c,u,d,f,h;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=d=0,f=i.length;d<f;o=++d)t.pos=(s=i[o]).offset,u=t.readString(s.length),a=new vRe(u,s),null==c[h=s.nameID]&&(c[h]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),_Re=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return EA(e,vf),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),bRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return EA(e,vf),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(t.readInt16());return d}(),this.widths=function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)h.push(f[u].advance);return h}.call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),jZ=[].slice,wRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return EA(e,vf),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,c,u,d,f;return t in this.cache?this.cache[t]:(r=this.file.contents,i=(o=this.file.loca).indexOf(t),0===(s=o.lengthOf(t))?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new Im(r.read(s))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=-1===a?new ERe(l,u,f,c,d):new CRe(l,a,u,f,c,d),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),CRe=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),ERe=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Im(jZ.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),SRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return EA(e,vf),e.prototype.tag="loca",e.prototype.parse=function(t){var i;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var c=this.offsets[a+1]-this.offsets[a];c>0&&(s+=c)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},e}(),xRe=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)e[t]=i[s[t]];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)null!=(r=i[s])&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))i[s]=r=l[s];return i},n.prototype.encode=function(e,t){var r,i,s,o,l,c,u,d,f,h,A,p,m,g;for(i in r=GZ.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},g=r.charMap)h[(l=g[i]).old]=l.new;for(A in f=r.maxGlyphID,o)A in h||(h[A]=f++);return u=function(y){var v,_;for(v in _={},y)_[y[v]]=v;return _}(h),d=Object.keys(u).sort(function(y,v){return y-v}),p=function(){var y,v,_;for(_=[],y=0,v=d.length;y<v;y++)_.push(u[d[y]]);return _}(),s=this.font.glyf.encode(o,p,h),c=this.font.loca.encode(s.offsets,p),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},n}();Er.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var i,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)c.push(e.convert(t[a]));return c}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(i in s=["<<"],t)s.push("/"+i+" "+e.convert(t[i]));return s.push(">>"),s.join("\n")}return""+t},e}();const DRe=Er;let MRe=(()=>{class n{getPdf(t,r,i,s,o){console.log(t+": [GENERANDO PDF]");const a=(new Date).toISOString();s=`${s}_${a}.pdf`;const l=r.nativeElement,c=i.nativeElement;NFe()(l).then(u=>{let d=c.offsetWidth,f=c.offsetHeight,h=u.toDataURL("image/jpeg"),A=new DRe("landscape","px",[d,f]);A.addImage(h,0,0,d,f),A.save(s)}),o.next(s),o.complete()}_GetPDF(t,r,i,s){return new ci(a=>this.getPdf(t,r,i,s,a))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const TRe=["_languajeList"],BRe=["_SourceList"],NRe=["_fileUpload"],IRe=["_sudoku_board"],FRe=n=>({width:n});function RRe(n,e){if(1&n&&(he(0,"td")(1,"div",31),Me(2),ce()()),2&n){const t=e.$implicit,r=e.index,i=ln().index;Te(),We("className",r>=3&&r<=5&&i>=0&&i<3||!(r>=3&&r<=5)&&i>=3&&i<=5||r>=3&&r<=5&&i>5&&i<=8?"sudoku-cell_bright":"sudoku-cell_dark"),Te(),Pr(t)}}function ORe(n,e){if(1&n&&(he(0,"tr"),pn(1,RRe,3,2,"td",5),ce()),2&n){const t=e.$implicit;Te(),We("ngForOf",t)}}function PRe(n,e){if(1&n&&(he(0,"option",32),Me(1),ce()),2&n){const t=e.$implicit;We("value",t._index)("selected",t._selected),Te(),Zi("",t._value," ")}}function LRe(n,e){if(1&n&&(he(0,"option",32),Me(1),ce()),2&n){const t=e.$implicit;We("value",t._index)("selected",t._selected),Te(),Zi("",t._value," ")}}function URe(n,e){if(1&n&&(he(0,"div",33)(1,"div",34),Me(2),ce()()),2&n){const t=ln();Te(),We("ngStyle",lA(3,FRe,t.progress+"%")),ji("aria-valuenow",t.progress),Te(),Zi(" ",t.progress,"% ")}}function kRe(n,e){if(1&n&&(he(0,"div",35),Me(1),ce()),2&n){const t=ln();Te(),Pr(t.message)}}function HRe(n,e){if(1&n){const t=Os();he(0,"div",24)(1,"input",36),Xt("click",function(){return zn(t),$n(ln()._GetPdf())}),ce()()}if(2&n){const t=ln();Te(),We("disabled","[...Generando PDF...]"==t.message)}}let VRe=(()=>{class n{constructor(t,r,i){this.algorithmService=t,this.formBuilder=r,this.pdfEngine=i,this.board=[],this.tituloListadoLenguajes="Seleccione Backend",this.btnGenerateCaption="[GENERAR]",this.btnSolveCaption="[RESOLVER]",this.tituloGenerarDesde="Generar Desde",this._cppSourceDivHidden=!0,this._fileUploadDivHidden=!0,this.sudokuSolved=!0,this._sudokuGenerated="",this.progress=0,this.message="",this.downloadLink="",this.rf_searchForm=this.formBuilder.group({_fileUpload:["",l0.required]}),this.pageTitle="[SUDOKU]",console.log("[SUDOKU - INGRESO]")}ngAfterViewInit(){}ngOnInit(){this.__languajeList=new Array,this.__languajeList.push(new wc(0,"(SELECCIONE OPCION..)",!1)),this.__languajeList.push(new wc(1,"(.NET Core/C++)",!0)),this.__languajeList.push(new wc(2,"(Node.js)",!1)),this._cppSourceDivHidden=!1,this.__generateSourceList=new Array,this.__generateSourceList.push(new wc(0,"(SELECCIONE OPCION..)",!1)),this.__generateSourceList.push(new wc(1,"[Desde Archivo]",!1)),this.__generateSourceList.push(new wc(2,"[Desde Backend]",!0))}_cppSourceDivHiddenChanged(){console.log("SUDOKU - [DIV CPP SOURCE CHANGED]"),this._cppSourceDivHidden=1!=this._languajeList.nativeElement.options.selectedIndex,this.message=""}_fileUploadDivHiddenChanged(){console.log("SUDOKU - [DIV FILEUPLOAD CHANGED]"),this._fileUploadDivHidden=1!=this._sourceList.nativeElement.options.selectedIndex,this.message=""}GenerateFromBackend(){let t;switch(console.log("[SUDOKU - GENERATE FROM BACKEND]"),this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._GetSudoku();break;case 2:t=this.algorithmService._GetSudoku_NodeJS();break;default:return}this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",t.subscribe({next:s=>{console.log("[SUDOKU - GENERATE] - (return): "+s),this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[];console.log(o[a]);const c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}},error:s=>{console.error("[SUDOKU - GENERATE] - (ERROR) : "+JSON.stringify(s.message)),this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]"}})}selectFile(t){this.selectedFiles=t.target.files}upload(){if(console.log("[SUDOKU - GENERATE  FROM FILE]"),this.selectedFiles){const t=this.selectedFiles.item(0);t&&(this.progress=0,this.message="...cargando...",this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",this.currentFile=t,this.algorithmService.uploadSudoku(this.currentFile).subscribe({next:r=>{if(r.type===vp.UploadProgress)this.progress=Math.round(100*r.loaded/r.total);else if(r instanceof yp){console.log("RESPONSE : "+r.body);let i=r.body;i=i.replaceAll('"',""),i=i.replace(/\\r/g,""),i=i.replace(/\\n/g,""),this._sudokuGenerated=i,i=i.replaceAll("[",""),i=i.replaceAll("]",""),i=i.replaceAll("},","|"),i=i.replaceAll("{",""),i=i.replaceAll("}","");let s=i.split("|");this.board=[];for(let o=0;o<9;o++){const a=[];console.log(s[o]);const l=s[o].split(",");for(let c=0;c<9;c++)a.push(parseInt(l[c]));this.board.push(a)}}},error:r=>{console.error("[SUDOKU - GENERATE  FROM FILE] -  (ERROR)"),console.error(r),this.progress=0,this.message=r.error&&r.error.message?r.error.message:"[Could not upload the file!]",this.currentFile=void 0,this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE  FROM FILE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0}}))}else this.message="[Favor seleccione archivo...]"}_GetSudoku(){switch(console.log("[SUDOKU - GENERATE - MAIN MENU]"),this._sourceList.nativeElement.options.selectedIndex){case 1:this.upload();break;case 2:this.GenerateFromBackend();break;default:return}}_SolveSudoku(){let t;switch(console.log("[SUDOKU - SOLVE] \n"+this._sudokuGenerated),this.sudokuSolved=!0,this.btnSolveCaption="[...resolviendo...]",this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._SolveSudoku(this._sudokuGenerated);break;case 2:t=this.algorithmService._SolveSudoku_NodeJS(this._sudokuGenerated);break;default:return}t.subscribe({next:s=>{console.log("[SUDOKU - SOLVE] - (return): "+s),this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[];console.log(o[a]);const c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}},error:s=>{console.error("[SUDOKU - SOLVE] - (ERROR) : "+JSON.stringify(s.message)),this.message="[Ha ocurrido un error]"},complete:()=>{console.log("[SUDOKU - SOLVE] -  (COMPLETE)"),this.btnSolveCaption="[RESOLVER]",this.message="[Se resolvi\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0,this.rf_searchForm.reset()}})}_GetPdf(){let r="SUDOKU_BOARD_"+(this.sudokuSolved?"SOLVED":"STARTED"),i="";this.message="[...Generando PDF...]",this.pdfEngine._GetPDF(this.pageTitle,this._sudoku_board,this._sudoku_board,r).subscribe({next:s=>{i=s},error:s=>{this.message="ha ocurrido un error : "+s.message},complete:()=>{this.message=`Se ha generado el archivo PDF :[ ${i} ]`}})}static{this.\u0275fac=function(r){return new(r||n)(vt(TFe),vt(u$),vt(MRe))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-sudoku"]],viewQuery:function(r,i){if(1&r&&(ss(TRe,5),ss(BRe,5),ss(NRe,5),ss(IRe,5)),2&r){let s;pr(s=gr())&&(i._languajeList=s.first),pr(s=gr())&&(i._sourceList=s.first),pr(s=gr())&&(i._fileUpload=s.first),pr(s=gr())&&(i._sudoku_board=s.first)}},decls:58,vars:15,consts:[["_sudoku_board",""],["_languajeList",""],["_SourceList",""],["_fileUpload",""],[1,"sudoku-board"],[4,"ngFor","ngForOf"],["id","LangListDiv","align","left"],["id","tituloListadoLenguajes"],["for","LanguajeList"],["id","LanguageList","name","LanguajeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","cppSoureDiv",3,"hidden"],["href","javascript: void window.open('https://github.com/aperezNWO/CppBuilder01/blob/master/Project2/Sudoku.cpp')"],["id","SourceListDiv","align","left"],["for","SourceList"],["id","SourceList","name","SourceList",3,"change"],[3,"ngSubmit","formGroup"],["align","left",1,"fileUpload",3,"hidden"],["href","./assets/sudoku.txt","target","_blank","download","sudoku.txt"],[1,"col-12"],[1,"btn","btn-default","p-0"],["type","file","name","_fileUpload","formControlName","_fileUpload",3,"change"],["id","resetFile","type","reset"],["class","progress my-3",4,"ngIf"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","GetSudoku","type","button",3,"click","value","disabled"],["id","SolveSudoku","type","submit",3,"value","disabled"],["align","left",4,"ngIf"],["align","right"],["routerLink","/Dev"],[3,"className"],[3,"value","selected"],[1,"progress","my-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped",3,"ngStyle"],["role","alert",1,"alert","alert-secondary"],["type","button","name","btnGeneratePdf","value","[GENERAR PDF]",3,"click","disabled"]],template:function(r,i){if(1&r){const s=Os();he(0,"h1"),Me(1,"SUDOKU BOARD"),ce(),ut(2,"hr"),he(3,"div",4,0)(5,"table")(6,"tbody"),pn(7,ORe,2,1,"tr",5),ce()()(),ut(8,"hr"),he(9,"div",6)(10,"span",7),Me(11),ce(),ut(12,"label",8),Me(13," \xa0\xa0 "),he(14,"select",9,1),Xt("change",function(){return zn(s),$n(i._cppSourceDivHiddenChanged())}),pn(16,PRe,2,3,"option",10),ce(),Me(17," \xa0\xa0 "),he(18,"span",11)(19,"a",12),Me(20,"[View Source]"),ce()()(),ut(21,"hr"),he(22,"div",13)(23,"span",7),Me(24),ce(),ut(25,"label",14),Me(26," \xa0\xa0 "),he(27,"select",15,2),Xt("change",function(){return zn(s),$n(i._fileUploadDivHiddenChanged())}),pn(29,LRe,2,3,"option",10),ce()(),ut(30,"hr"),he(31,"form",16),Xt("ngSubmit",function(){return zn(s),$n(i._SolveSudoku())}),he(32,"div",17)(33,"a",18),Me(34,"[Download Template]"),ce(),ut(35,"hr"),he(36,"div",19)(37,"label",20)(38,"input",21,3),Xt("change",function(a){return zn(s),$n(i.selectFile(a))}),ce()(),Me(40," | "),he(41,"button",22),Me(42,"[RESET]"),ce()(),ut(43,"hr"),pn(44,URe,3,5,"div",23),ce(),he(45,"div",24),pn(46,kRe,2,1,"div",25),ce(),ut(47,"hr"),he(48,"div",24)(49,"input",26),Xt("click",function(){return zn(s),$n(i._GetSudoku())}),ce(),Me(50," | "),ut(51,"input",27),ce()(),ut(52,"hr"),pn(53,HRe,2,1,"div",28),ut(54,"hr"),he(55,"div",29)(56,"a",30),Me(57,"[Volver al menu]"),ce()()}2&r&&(Te(7),We("ngForOf",i.board),Te(4),Pr(i.tituloListadoLenguajes),Te(5),We("ngForOf",i.__languajeList),Te(2),We("hidden",i._cppSourceDivHidden),Te(6),Pr(i.tituloGenerarDesde),Te(5),We("ngForOf",i.__generateSourceList),Te(2),We("formGroup",i.rf_searchForm),Te(),We("hidden",i._fileUploadDivHidden),Te(12),We("ngIf",i.currentFile),Te(2),We("ngIf",i.message),Te(3),We("value",i.btnGenerateCaption)("disabled","[...generando...]"==i.btnGenerateCaption||"[...resolviendo...]"==i.btnSolveCaption),Te(2),We("value",i.btnSolveCaption)("disabled","[...resolviendo...]"==i.btnSolveCaption||"[...generando...]"==i.btnGenerateCaption||1==i.sudokuSolved),Te(2),We("ngIf",i.board.length>0))},dependencies:[Us,Jl,bc,nT,Y_,d0,h0,uA,om,$_,qE,ST],styles:[".sudoku-board[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;height:auto;border:1px solid black}.sudoku-cell_bright[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#fff}.sudoku-cell_dark[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#ccc}.fileUpload[_ngcontent-%COMP%]{padding:1em;background-color:#ccc}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#007bff}"]})}}return n})();class QRe extends oi{constructor(e,t){super()}schedule(e,t=0){return this}}const nI={setInterval(n,e,...t){const{delegate:r}=nI;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=nI;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class c8 extends QRe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return nI.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&nI.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ii(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const u8={now:()=>(u8.delegate||Date).now(),delegate:void 0};class XS{constructor(e,t=XS.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}XS.now=u8.now;class d8 extends XS{constructor(e,t=XS.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const YS=new d8(c8),zRe=YS;function rI(n=0,e,t=zRe){let r=-1;return null!=e&&(sq(e)?t=e:r=e),new ci(i=>{let s=function GRe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function qZ(n=0,e=YS){return n<0&&(n=0),rI(n,n,e)}function jRe(n,e){if(1&n&&ut(0,"div",13),2&n){const t=e.$implicit;cE("background-color",t),Ri("filled",t)}}function qRe(n,e){if(1&n&&(he(0,"div",11),pn(1,jRe,1,4,"div",12),ce()),2&n){const t=e.$implicit;Te(),We("ngForOf",t)}}function WRe(n,e){if(1&n){const t=Os();he(0,"button",8),Xt("click",function(){return zn(t),$n(ln().startGame())}),Me(1),ce()}if(2&n){const t=ln();Te(),Zi(" ",t.gameOver?"Play Again":"Start Game"," ")}}function $Re(n,e){if(1&n){const t=Os();he(0,"div",14)(1,"button",15),Xt("click",function(){return zn(t),$n(ln().moveLeft())}),Me(2,"\u2190"),ce(),he(3,"button",15),Xt("click",function(){return zn(t),$n(ln().moveRight())}),Me(4,"\u2192"),ce(),he(5,"button",8),Xt("click",function(){return zn(t),$n(ln().rotate())}),Me(6,"Rotate"),ce(),he(7,"button",8),Xt("click",function(){return zn(t),$n(ln().drop())}),Me(8,"Drop"),ce()()}}let KRe=(()=>{class n{constructor(t){this.pageRestartService=t,this.BOARD_WIDTH=10,this.BOARD_HEIGHT=20,this.TICK_INTERVAL=1e3,this.board=[],this.displayBoard=[],this.currentPiece=[],this.currentColor="",this.score=0,this.isPlaying=!1,this.gameOver=!1,this.isMobile=!1,this.TETROMINOS={I:{shape:[[1,1,1,1]],color:"#00f0f0"},O:{shape:[[1,1],[1,1]],color:"#f0f000"},T:{shape:[[0,1,0],[1,1,1]],color:"#a000f0"},S:{shape:[[0,1,1],[1,1,0]],color:"#00f000"},Z:{shape:[[1,1,0],[0,1,1]],color:"#f00000"},J:{shape:[[1,0,0],[1,1,1]],color:"#0000f0"},L:{shape:[[0,0,1],[1,1,1]],color:"#f0a000"}}}restart(){this.pageRestartService.reloadPage()}ngOnInit(){this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.initBoard()}handleKeyboardEvent(t){if(this.isPlaying&&!this.gameOver)switch(t.key){case"ArrowLeft":this.moveLeft();break;case"ArrowRight":this.moveRight();break;case"ArrowUp":this.rotate();break;case"ArrowDown":this.moveDown();break;case" ":this.drop()}}initBoard(){this.board=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill("")),this.displayBoard=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill(""))}startGame(){this.gameLoop$&&this.gameLoop$.unsubscribe(),this.initBoard(),this.score=0,this.gameOver=!1,this.isPlaying=!0,this.spawnPiece(),this.gameLoop$=qZ(this.TICK_INTERVAL).subscribe(()=>{this.gameOver||this.moveDown()})}spawnPiece(){const t=Object.keys(this.TETROMINOS),r=t[Math.floor(Math.random()*t.length)],i=this.TETROMINOS[r];this.currentPiece=i.shape.flatMap((s,o)=>s.map((a,l)=>a?{x:l+Math.floor(this.BOARD_WIDTH/2)-1,y:o}:null)).filter(s=>null!==s),this.currentColor=i.color,this.checkCollision()&&(this.gameOver=!0,this.isPlaying=!1,this.gameLoop$&&this.gameLoop$.unsubscribe()),this.updateDisplayBoard()}moveLeft(){const t=this.currentPiece.map(r=>({...r,x:r.x-1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveRight(){const t=this.currentPiece.map(r=>({...r,x:r.x+1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveDown(){const t=this.currentPiece.map(r=>({...r,y:r.y+1}));this.isValidMove(t)?(this.currentPiece=t,this.updateDisplayBoard()):(this.lockPiece(),this.clearLines(),this.spawnPiece())}drop(){for(;this.isValidMove(this.currentPiece.map(t=>({...t,y:t.y+1})));)this.currentPiece=this.currentPiece.map(t=>({...t,y:t.y+1}));this.updateDisplayBoard(),this.lockPiece(),this.clearLines(),this.spawnPiece()}rotate(){if(!this.currentPiece.length)return;const t=this.currentPiece[1],r=this.currentPiece.map(i=>({x:t.x-(i.y-t.y),y:t.y+(i.x-t.x)}));this.isValidMove(r)&&(this.currentPiece=r,this.updateDisplayBoard())}isValidMove(t){return t.every(r=>r.x>=0&&r.x<this.BOARD_WIDTH&&r.y>=0&&r.y<this.BOARD_HEIGHT&&!this.board[r.y]?.[r.x])}checkCollision(){return!this.isValidMove(this.currentPiece)}updateDisplayBoard(){this.displayBoard=this.board.map(t=>[...t]),this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.displayBoard[t.y][t.x]=this.currentColor)})}lockPiece(){this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.board[t.y][t.x]=this.currentColor)}),this.updateDisplayBoard()}clearLines(){let t=0;for(let r=this.BOARD_HEIGHT-1;r>=0;r--)this.board[r].every(i=>""!==i)&&(this.board.splice(r,1),this.board.unshift(Array(this.BOARD_WIDTH).fill("")),t++,r++);t>0&&(this.score+=100*Math.pow(2,t-1)),this.updateDisplayBoard()}ngOnDestroy(){this.gameLoop$&&this.gameLoop$.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)(vt(Ok))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-tetris"]],hostBindings:function(r,i){1&r&&Xt("keydown",function(o){return i.handleKeyboardEvent(o)},0,bQ)},decls:19,vars:6,consts:[["align","center"],[1,"game-container"],[1,"game-board"],["class","row",4,"ngFor","ngForOf"],[1,"controls"],[1,"score"],[3,"click",4,"ngIf"],["class","mobile-controls",4,"ngIf"],[3,"click"],["align","right"],["routerLink","/StableReleases"],[1,"row"],["class","cell",3,"filled","backgroundColor",4,"ngFor","ngForOf"],[1,"cell"],[1,"mobile-controls"],[2,"font-size","x-large",3,"click"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h1"),Me(2,"[TETRIS]"),ce(),ut(3,"hr"),he(4,"div",1)(5,"div",2),pn(6,qRe,2,1,"div",3),ce(),he(7,"div",4)(8,"div",5),Me(9),ce(),pn(10,WRe,2,1,"button",6)(11,$Re,9,0,"div",7),ce()(),ut(12,"hr"),he(13,"button",8),Xt("click",function(){return i.restart()}),Me(14,"[RESTART]"),ce(),ut(15,"hr"),ce(),he(16,"div",9)(17,"a",10),Me(18,"[Volver al Menu]"),ce()()),2&r&&(Te(4),Ri("game-over",i.gameOver),Te(2),We("ngForOf",i.displayBoard),Te(3),Zi("Score: ",i.score,""),Te(),We("ngIf",!i.isPlaying||i.gameOver),Te(),We("ngIf",i.isMobile))},dependencies:[Us,Jl,bc],styles:[".game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.game-board[_ngcontent-%COMP%]{border:2px solid #333;background:#f0f0f0}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{width:25px;height:25px;border:1px solid #ccc}.cell.filled[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2)}.controls[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.score[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}button[_ngcontent-%COMP%]{padding:10px 20px;margin:5px;font-size:16px;cursor:pointer}.mobile-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:20px}.game-over[_ngcontent-%COMP%]   .game-board[_ngcontent-%COMP%]{opacity:.5}@media (max-width: 600px){.cell[_ngcontent-%COMP%]{width:20px;height:20px}}"]})}}return n})(),XRe=(()=>{class n{constructor(){this.value=null,this.clickEvent=new ie}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-square"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[Ra],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(r,i){1&r&&(he(0,"button",0),Xt("click",function(){return i.onClick()}),Me(1),ce()),2&r&&(Te(),Pr(null==i.value?"_":i.value))},dependencies:[Jg],styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})(),WZ=(()=>{class n{constructor(){this.COMPUTER=1,this.HUMAN=2,this.COMPUTERMOVE="O",this.HUMANMOVE="X",this.SIDE=3,this.boardSurface=this.SIDE*this.SIDE,this.whoseTurn=this.HUMAN,this.moveIndex=0,this.board=[],this.winner=null,this.squares=Array(this.boardSurface).fill(null),this.message="",this.initialise()}initialise(){this.squares=[],this.squares=Array(9).fill(null),this.board=[];for(let t=0;t<this.SIDE;t++){const r=[];for(let i=0;i<this.SIDE;i++)r.push(null);this.board.push(r)}this.winner=null,this.moveIndex=0,this.message=""}declareWinner(t){t==this.COMPUTER?(this.message="[gan\xf3 COMPUTADOR]",this.winner=this.COMPUTERMOVE):(this.message="[gan\xf3 HUMANO]",this.winner=this.HUMANMOVE)}rowCrossed(t){for(let r=0;r<this.SIDE;r++)if(t[r][0]==t[r][1]&&t[r][1]==t[r][2]&&null!=t[r][0])return!0;return!1}columnCrossed(t){for(let r=0;r<this.SIDE;r++)if(t[0][r]==t[1][r]&&t[1][r]==t[2][r]&&null!=t[0][r])return!0;return!1}diagonalCrossed(t){return t[0][0]==t[1][1]&&t[1][1]==t[2][2]&&null!=t[0][0]||t[0][2]==t[1][1]&&t[1][1]==t[2][0]&&null!=t[0][2]}gameOver(t){return this.rowCrossed(t)||this.columnCrossed(t)||this.diagonalCrossed(t)}minimax(t,r,i){let s=0,o=0;if(1==this.gameOver(t)){if(1==i)return-1;if(0==i)return 1}if(r<9){if(1==i){o=-999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==t[a][l]&&(t[a][l]=this.COMPUTERMOVE,s=this.minimax(t,r+1,!1),t[a][l]=null,s>o&&(o=s));return o}o=999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==t[a][l]&&(t[a][l]=this.HUMANMOVE,s=this.minimax(t,r+1,!0),t[a][l]=null,s<o&&(o=s));return o}return 0}bestMove(t,r){let i=-1,s=-1,o=0,a=-999;for(let l=0;l<this.SIDE;l++)for(let c=0;c<this.SIDE;c++)null==t[l][c]&&(t[l][c]=this.COMPUTERMOVE,o=this.minimax(t,r+1,!1),t[l][c]=null,o>a&&(a=o,i=l,s=c));return 3*i+s}doPlay(t,r,i){this.whoseTurn=t;let s=0;switch(t){case this.COMPUTER:s=Math.abs(this.bestMove(this.board,this.moveIndex));break;case this.HUMAN:s=i}let o=Math.floor(s/this.SIDE),a=Math.floor(s%this.SIDE);this.board[o][a]=r,this.squares[s]=r,this.moveIndex++}_declareWinner(){let t=0==this.gameOver(this.board);return console.log("[TIC-TAC-TOE] - [Declare Winner] "),0==(t&&this.moveIndex!=this.boardSurface)&&(t&&this.moveIndex==this.boardSurface?(this.message="[EMPATE]",this.winner=null):this.declareWinner(this.whoseTurn),!0)}makeHumanMove(t){this.doPlay(this.HUMAN,this.HUMANMOVE,t)}makeComputerMove(){this.doPlay(this.COMPUTER,this.COMPUTERMOVE,0)}makeMove(t){this.squares[t]||this.winner||(this.makeHumanMove(t),0==this._declareWinner()&&(this.makeComputerMove(),this._declareWinner()))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const YRe=["_SourceList"],$Z=()=>[0,1,2];function JRe(n,e){if(1&n){const t=Os();he(0,"app-square",15),Xt("clickEvent",function(){const i=zn(t).$implicit,s=ln().$implicit;return $n(ln(2).makeMove(3*s+i))}),ce()}if(2&n){const t=e.$implicit,r=ln().$implicit;We("value",ln(2).ticTacToeEngine.squares[3*r+t])}}function ZRe(n,e){1&n&&(he(0,"div",13),pn(1,JRe,1,1,"app-square",14),ce()),2&n&&(Te(),We("ngForOf",bE(1,$Z)))}function eOe(n,e){1&n&&(he(0,"span",11),pn(1,ZRe,2,2,"div",12),ce()),2&n&&(Te(),We("ngForOf",bE(1,$Z)))}function tOe(n,e){if(1&n&&(he(0,"option",16),Me(1),ce()),2&n){const t=e.$implicit;We("value",t._index)("selected",t._selected),Te(),Zi("",t._value," ")}}function nOe(n,e){if(1&n&&(he(0,"div",17)(1,"b"),Me(2),ce()()),2&n){const t=ln();Te(2),Pr(t.ticTacToeEngine.message)}}let KZ=(()=>{class n{constructor(){this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1,this.ticTacToeEngine=new WZ}ngOnInit(){console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new wc(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new wc(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new wc(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}_tituloSourceChanged(){}makeMove(t){console.log(`[TIC-TAC-TOE] - [Click on cel : {${t}}] `),this.ticTacToeEngine.makeMove(t)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-board"]],viewQuery:function(r,i){if(1&r&&ss(YRe,5),2&r){let s;pr(s=gr())&&(i._sourceList=s.first)}},standalone:!0,features:[Ra],decls:19,vars:7,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"change","disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"]],template:function(r,i){if(1&r){const s=Os();he(0,"h1"),Me(1,"[TIC-TAC-TOE BOARD]"),ce(),ut(2,"hr"),pn(3,eOe,2,2,"span",1),ut(4,"hr"),he(5,"div",2)(6,"span",3),Me(7),ce(),ut(8,"label",4),Me(9," \xa0\xa0 "),he(10,"select",5,0),Xt("change",function(){return zn(s),$n(i._tituloSourceChanged())}),pn(12,tOe,2,3,"option",6),ce()(),ut(13,"hr"),he(14,"input",7),Xt("click",function(){return zn(s),$n(i.newGame())}),ce(),he(15,"input",8),Xt("click",function(){return zn(s),$n(i.startGame())}),ce(),ut(16,"hr"),he(17,"div",9),pn(18,nOe,3,1,"div",10),ce()}2&r&&(Te(3),We("ngIf",i.showBoard),Te(4),Pr(i.tituloSource),Te(3),We("disabled",0==i.IsNewGame),Te(2),We("ngForOf",i.__SourceList),Te(2),We("disabled",1==i.IsNewGame),Te(),We("disabled",0==i.IsNewGame),Te(3),We("ngIf",i.ticTacToeEngine.message))},dependencies:[XRe,Jg,Jl,bc]})}}return n})(),rOe=(()=>{class n{constructor(){console.log("[TIC-TAC-TOE - INICIO COMPONENTE")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-tic-tac-toe"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(ut(0,"app-board")(1,"hr"),he(2,"div",0)(3,"a",1),Me(4,"[Volver al Menu]"),ce()())},dependencies:[KZ,Us]})}}return n})(),iOe=(()=>{class n{constructor(){this.value=null,this.clickEvent=new ie}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-square-online"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[Ra],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(r,i){1&r&&(he(0,"button",0),Xt("click",function(){return i.onClick()}),Me(1),ce()),2&r&&(Te(),Pr(null==i.value?"_":i.value))},styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})();const SA=Object.create(null);SA.open="0",SA.close="1",SA.ping="2",SA.pong="3",SA.message="4",SA.upgrade="5",SA.noop="6";const iI=Object.create(null);Object.keys(SA).forEach(n=>{iI[SA[n]]=n});const h8={type:"error",data:"parser error"},XZ="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),YZ="function"==typeof ArrayBuffer,JZ=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,f8=({type:n,data:e},t,r)=>XZ&&e instanceof Blob?t?r(e):ZZ(e,r):YZ&&(e instanceof ArrayBuffer||JZ(e))?t?r(e):ZZ(new Blob([e]),r):r(SA[n]+(e||"")),ZZ=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function eee(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let A8;const JS=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<64;n++)JS["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(n)]=n;const aOe="function"==typeof ArrayBuffer,p8=(n,e)=>{if("string"!=typeof n)return{type:"message",data:tee(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:lOe(n.substring(1),e)}:iI[t]?n.length>1?{type:iI[t],data:n.substring(1)}:{type:iI[t]}:h8},lOe=(n,e)=>{if(aOe){const t=(n=>{let r,s,o,a,l,e=.75*n.length,t=n.length,i=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(r=0;r<t;r+=4)s=JS[n.charCodeAt(r)],o=JS[n.charCodeAt(r+1)],a=JS[n.charCodeAt(r+2)],l=JS[n.charCodeAt(r+3)],u[i++]=s<<2|o>>4,u[i++]=(15&o)<<4|a>>2,u[i++]=(3&a)<<6|63&l;return c})(n);return tee(t,e)}return{base64:!0,data:n}},tee=(n,e)=>"blob"===e?n instanceof Blob?n:new Blob([n]):n instanceof ArrayBuffer?n:n.buffer;let g8;function sI(n){return n.reduce((e,t)=>e+t.length,0)}function oI(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function Ua(n){if(n)return function fOe(n){for(var e in Ua.prototype)n[e]=Ua.prototype[e];return n}(n)}Ua.prototype.on=Ua.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Ua.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Ua.prototype.off=Ua.prototype.removeListener=Ua.prototype.removeAllListeners=Ua.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if((r=t[i])===e||r.fn===e){t.splice(i,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},Ua.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){r=0;for(var i=(t=t.slice(0)).length;r<i;++r)t[r].apply(this,e)}return this},Ua.prototype.emitReserved=Ua.prototype.emit,Ua.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Ua.prototype.hasListeners=function(n){return!!this.listeners(n).length};const aI="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),ch=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function iee(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const pOe=ch.setTimeout,gOe=ch.clearTimeout;function lI(n,e){e.useNativeTimers?(n.setTimeoutFn=pOe.bind(ch),n.clearTimeoutFn=gOe.bind(ch)):(n.setTimeoutFn=ch.setTimeout.bind(ch),n.clearTimeoutFn=ch.clearTimeout.bind(ch))}function vOe(n){return"string"==typeof n?function yOe(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}function see(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class wOe extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class m8 extends Ua{constructor(e){super(),this.writable=!1,lI(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new wOe(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=p8(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function _Oe(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}(e);return t.length?"?"+t:""}}class COe extends m8{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split("\x1e"),r=[];for(let i=0;i<t.length;i++){const s=p8(t[i],e);if(r.push(s),"error"===s.type)break}return r})(e,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((s,o)=>{f8(s,!1,a=>{r[o]=a,++i===t&&e(r.join("\x1e"))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=see()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let oee=!1;try{oee=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const EOe=oee;function SOe(){}class xOe extends COe{constructor(e){if(super(e),typeof location<"u"){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}let cI=(()=>{class n extends Ua{constructor(t,r,i){super(),this.createRequest=t,lI(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=void 0!==i.data?i.data:null,this._create()}_create(){var t;const r=iee(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if("POST"===this._method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;3===i.readyState&&(null===(s=this._opts.cookieJar)||void 0===s||s.parseCookies(i.getResponseHeader("set-cookie"))),4===i.readyState&&(200===i.status||1223===i.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof i.status?i.status:0)},0))},i.send(this._data)}catch(s){return void this.setTimeoutFn(()=>{this._onError(s)},0)}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=SOe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();function aee(){for(let n in cI.requests)cI.requests.hasOwnProperty(n)&&cI.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",aee):"function"==typeof addEventListener&&addEventListener("onpagehide"in ch?"pagehide":"unload",aee,!1));const DOe=function(){const n=lee({xdomain:!1});return n&&null!==n.responseType}();function lee(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||EOe))return new XMLHttpRequest}catch{}if(!e)try{return new(ch[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const cee=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class TOe extends m8{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=cee?{}:iee(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;f8(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&aI(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=see()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const v8=ch.WebSocket||ch.MozWebSocket,IOe={websocket:class BOe extends TOe{createSocket(e,t,r){return cee?new v8(e,t,r):t?new v8(e,t):new v8(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class NOe extends m8{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function hOe(n,e){g8||(g8=new TextDecoder);const t=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(0===r){if(sI(t)<1)break;const l=oI(t,1);s=!(128&~l[0]),i=127&l[0],r=i<126?3:126===i?1:2}else if(1===r){if(sI(t)<2)break;const l=oI(t,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(2===r){if(sI(t)<8)break;const l=oI(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(h8);break}i=u*Math.pow(2,32)+c.getUint32(4),r=3}else{if(sI(t)<i)break;const l=oI(t,i);a.enqueue(p8(s?l:g8.decode(l),e)),r=0}if(0===i||i>n){a.enqueue(h8);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=function dOe(){return new TransformStream({transform(n,e){!function sOe(n,e){XZ&&n.data instanceof Blob?n.data.arrayBuffer().then(eee).then(e):YZ&&(n.data instanceof ArrayBuffer||JZ(n.data))?e(eee(n.data)):f8(n,!1,t=>{A8||(A8=new TextEncoder),e(A8.encode(t))})}(n,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}n.data&&"string"!=typeof n.data&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=t===e.length-1;this._writer.write(e[t]).then(()=>{i&&aI(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class MOe extends xOe{constructor(e){super(e),this.supportsBinary=DOe&&!(e&&e.forceBase64)}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new cI(lee,this.uri(),e)}}},FOe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ROe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function y8(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),r=n.indexOf("]");-1!=t&&-1!=r&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=FOe.exec(n||""),s={},o=14;for(;o--;)s[ROe[o]]=i[o]||"";return-1!=t&&-1!=r&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function OOe(n,e){const r=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&r.splice(0,1),"/"==e.slice(-1)&&r.splice(r.length-1,1),r}(0,s.path),s.queryKey=function POe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}(0,s.query),s}const _8="function"==typeof addEventListener&&"function"==typeof removeEventListener,uI=[];_8&&addEventListener("offline",()=>{uI.forEach(n=>n())},!1);let b8=(()=>{class n extends Ua{constructor(t,r){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(r=t,t=null),t){const i=y8(t);r.hostname=i.host,r.secure="https"===i.protocol||"wss"===i.protocol,r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=y8(r.host).host);lI(this,r),this.secure=null!=r.secure?r.secure:typeof location<"u"&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function bOe(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}(this.opts.query)),_8&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},uI.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(r+=vOe(s)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,aI(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,s){if("function"==typeof r&&(s=r,r=void 0),"function"==typeof i&&(s=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const o={type:t,data:r,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),_8&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=uI.indexOf(this._offlineEventListener);-1!==i&&uI.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=4,n})();class LOe extends b8{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;b8.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if("pong"===d.type&&"probe"===d.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;b8.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=t.name,this.emitReserved("upgradeError",f)}}))};function s(){r||(r=!0,u(),t.close(),t=null)}const o=d=>{const f=new Error("probe error: "+d);f.transport=t.name,s(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function l(){o("socket closed")}function c(d){t&&d.name!==t.name&&s()}const u=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",i),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class uee extends LOe{constructor(e,t={}){const r="object"==typeof e?e:t;(!r.transports||r.transports&&"string"==typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>IOe[i]).filter(i=>!!i)),super(e,r)}}const kOe="function"==typeof ArrayBuffer,HOe=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,dee=Object.prototype.toString,VOe="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===dee.call(Blob),QOe="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===dee.call(File);function w8(n){return kOe&&(n instanceof ArrayBuffer||HOe(n))||VOe&&n instanceof Blob||QOe&&n instanceof File}function dI(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(dI(n[t]))return!0;return!1}if(w8(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return dI(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&dI(n[t]))return!0;return!1}function zOe(n){const e=[],r=n;return r.data=C8(n.data,e),r.attachments=e.length,{packet:r,buffers:e}}function C8(n,e){if(!n)return n;if(w8(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=C8(n[r],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=C8(n[r],e));return t}return n}function GOe(n,e){return n.data=E8(n.data,e),delete n.attachments,n}function E8(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=E8(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=E8(n[t],e));return n}const jOe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],qOe=5;var as=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(as||{});class WOe{constructor(e){this.replacer=e}encode(e){return e.type!==as.EVENT&&e.type!==as.ACK||!dI(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===as.EVENT?as.BINARY_EVENT:as.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return(e.type===as.BINARY_EVENT||e.type===as.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=zOe(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function hee(n){return"[object Object]"===Object.prototype.toString.call(n)}class S8 extends Ua{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===as.BINARY_EVENT;r||t.type===as.BINARY_ACK?(t.type=r?as.EVENT:as.ACK,this.reconstructor=new $Oe(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!w8(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===as[r.type])throw new Error("unknown packet type "+r.type);if(r.type===as.BINARY_EVENT||r.type===as.BINARY_ACK){const s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(s,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){const s=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(s,t)}else r.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const s=t+1;for(;++t;){const o=e.charAt(t);if(null==o||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(!S8.isPayloadValid(r.type,s))throw new Error("invalid payload");r.data=s}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case as.CONNECT:return hee(t);case as.DISCONNECT:return void 0===t;case as.CONNECT_ERROR:return"string"==typeof t||hee(t);case as.EVENT:case as.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===jOe.indexOf(t[0]));case as.ACK:case as.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class $Oe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=GOe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function yf(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const KOe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class fee extends Ua{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[yf(e,"open",this.onopen.bind(this)),yf(e,"packet",this.onpacket.bind(this)),yf(e,"error",this.onerror.bind(this)),yf(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,s;if(KOe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:as.EVENT,data:t,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const u=this.ids++,d=t.pop();this._registerAckCallback(u,d),o.id=u}const a=null===(i=null===(r=this.io.engine)||void 0===r?void 0:r.transport)||void 0===i?void 0:i.writable,l=this.connected&&!(null!==(s=this.io.engine)&&void 0!==s&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r;const i=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(null!==i?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:as.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case as.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case as.EVENT:case as.BINARY_EVENT:this.onevent(e);break;case as.ACK:case as.BINARY_ACK:this.onack(e);break;case as.DISCONNECT:this.ondisconnect();break;case as.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:as.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:as.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function _b(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}_b.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=1&Math.floor(10*e)?n+t:n-t}return 0|Math.min(n,this.max)},_b.prototype.reset=function(){this.attempts=0},_b.prototype.setMin=function(n){this.ms=n},_b.prototype.setMax=function(n){this.max=n},_b.prototype.setJitter=function(n){this.jitter=n};class x8 extends Ua{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,lI(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new _b({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||Et;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new uee(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=yf(t,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=yf(t,"error",s);if(!1!==this._timeout){const l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(yf(e,"ping",this.onping.bind(this)),yf(e,"data",this.ondata.bind(this)),yf(e,"error",this.onerror.bind(this)),yf(e,"close",this.onclose.bind(this)),yf(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){aI(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new fee(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ZS={};function hI(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function UOe(n,e="",t){let r=n;t=t||typeof location<"u"&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof t<"u"?t.protocol+"//"+n:"https://"+n),r=y8(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}(n,(e=e||{}).path||"/socket.io"),r=t.source,i=t.id;let l;return e.forceNew||e["force new connection"]||!1===e.multiplex||ZS[i]&&t.path in ZS[i].nsps?l=new x8(r,e):(ZS[i]||(ZS[i]=new x8(r,e)),l=ZS[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(hI,{Manager:x8,Socket:fee,io:hI,connect:hI});let Aee=(()=>{class n{constructor(t){this.messages=[],this.onNewMessage=new Rr;let r=t.getConfigValue("baseUrlNodeJsChat");console.log("Setting chat from url : "+r),this.socket=hI(r,{extraHeaders:{"Access-Control-Allow-Origin":"*"}}),this.socket.on("message",i=>{console.log("received message : ["+JSON.stringify(i)+"]"),this.messages.push(i),console.log("Message Array (service) : "+this.messages),this.onNewMessage.next(i)})}getMessages(){return console.log("Receiving messages to UIX..."),rr(this.messages)}sendMessage(t){this.socket.emit("message",t)}static{this.\u0275fac=function(r){return new(r||n)(Yt(um))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const XOe=["_SourceList"],pee=()=>[0,1,2];function YOe(n,e){if(1&n){const t=Os();he(0,"app-square-online",18),Xt("clickEvent",function(){const i=zn(t).$implicit,s=ln().$implicit;return $n(ln(2).makeMove(3*s+i))}),ce()}if(2&n){const t=e.$implicit,r=ln().$implicit;We("value",ln(2).ticTacToeEngine.squares[3*r+t])}}function JOe(n,e){1&n&&(he(0,"div",16),pn(1,YOe,1,1,"app-square-online",17),ce()),2&n&&(Te(),We("ngForOf",bE(1,pee)))}function ZOe(n,e){1&n&&(he(0,"span",14),pn(1,JOe,2,2,"div",15),ce()),2&n&&(Te(),We("ngForOf",bE(1,pee)))}function ePe(n,e){if(1&n&&(he(0,"option",19),Me(1),ce()),2&n){const t=e.$implicit;We("value",t._index)("selected",t._selected),Te(),Zi("",t._value," ")}}function tPe(n,e){if(1&n&&(he(0,"div",20)(1,"b"),Me(2),ce()()),2&n){const t=ln();Te(2),Pr(t.ticTacToeEngine.message)}}function nPe(n,e){if(1&n&&(he(0,"table",21)(1,"tr")(2,"td")(3,"span"),Me(4),ce()()()()),2&n){const t=e.$implicit;Te(4),Zi(" ",t," ")}}let gee=(()=>{class n{constructor(t,r){this.chatService=t,this.ticTacToeEngine=r,this.parentData=[],this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t)),console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new wc(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new wc(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new wc(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.__SourceList.push(new wc(this.ticTacToeEngine.HUMAN,"[JUGAR EN LINEA]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}sendMessage(t){console.log("sending message: ",t),this.chatService.sendMessage(t)}makeMove(t){let r=`[TIC-TAC-TOE] - [Click on cel : {${t+1}}] `;console.log(r),this.ticTacToeEngine.makeMove(t),this.chatService.sendMessage(r)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(r){return new(r||n)(vt(Aee),vt(WZ))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-board-online"]],viewQuery:function(r,i){if(1&r&&ss(XOe,5),2&r){let s;pr(s=gr())&&(i._sourceList=s.first)}},standalone:!0,features:[Ra],decls:26,vars:8,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["align","center"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","divMessages"],["class","message-data",4,"ngFor","ngForOf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"],[1,"message-data"]],template:function(r,i){if(1&r){const s=Os();he(0,"h1"),Me(1,"[TIC-TAC-TOE BOARD]"),ce(),ut(2,"hr"),pn(3,ZOe,2,2,"span",1),ut(4,"hr"),he(5,"div",2)(6,"span",3),Me(7),ce(),ut(8,"label",4),Me(9," \xa0\xa0 "),he(10,"select",5,0),pn(12,ePe,2,3,"option",6),ce()(),ut(13,"hr"),he(14,"div",7)(15,"input",8),Xt("click",function(){return zn(s),$n(i.newGame())}),ce(),he(16,"input",9),Xt("click",function(){return zn(s),$n(i.startGame())}),ce()(),ut(17,"hr"),he(18,"div",10),pn(19,tPe,3,1,"div",11),ce(),ut(20,"hr"),he(21,"h4"),Me(22,"[MESSAGES]"),ce(),ut(23,"hr"),he(24,"div",12),pn(25,nPe,5,1,"table",13),ce()}2&r&&(Te(3),We("ngIf",i.showBoard),Te(4),Pr(i.tituloSource),Te(3),We("disabled",0==i.IsNewGame),Te(2),We("ngForOf",i.__SourceList),Te(3),We("disabled",1==i.IsNewGame),Te(),We("disabled",0==i.IsNewGame),Te(3),We("ngIf",i.ticTacToeEngine.message),Te(6),We("ngForOf",i.parentData))},dependencies:[Jg,Jl,bc,iOe]})}}return n})(),rPe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-tic-tac-toe-online"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(ut(0,"app-board-online")(1,"hr"),he(2,"div",0)(3,"a",1),Me(4,"[Volver al Menu]"),ce()())},dependencies:[gee,Us]})}}return n})();const iPe=["ballCanvas"];let sPe=(()=>{class n{constructor(t){this.pageRestartService=t,this.ball={x:100,y:100,vx:5,vy:0,radius:15,mass:1},this.gravity=.5,this.friction=.98,this.restitution=.8,this.animate=()=>{this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.ball.vy+=this.gravity,this.ball.x+=this.ball.vx,this.ball.y+=this.ball.vy,(this.ball.x+this.ball.radius>this.canvas.nativeElement.width||this.ball.x-this.ball.radius<0)&&(this.ball.vx=-this.ball.vx*this.restitution),this.ball.y+this.ball.radius>this.canvas.nativeElement.height&&(this.ball.y=this.canvas.nativeElement.height-this.ball.radius,this.ball.vy=-this.ball.vy*this.restitution,this.ball.vx*=this.friction),this.ctx.beginPath(),this.ctx.arc(this.ball.x,this.ball.y,this.ball.radius,0,2*Math.PI),this.ctx.fillStyle="red",this.ctx.fill(),this.ctx.closePath(),Math.abs(this.ball.vx)<.1&&Math.abs(this.ball.vy)<.1?(this.ball.vx=0,this.ball.vy=0):requestAnimationFrame(this.animate)}}restart(){this.pageRestartService.reloadPage()}ngAfterViewInit(){this.animate()}static{this.\u0275fac=function(r){return new(r||n)(vt(Ok))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-bouncing-ball"]],viewQuery:function(r,i){if(1&r&&ss(iPe,5),2&r){let s;pr(s=gr())&&(i.canvas=s.first)}},decls:13,vars:0,consts:[["ballCanvas",""],["align","center"],["width","300","height","300"],[3,"click"],["align","right"],["routerLink","/StableReleases"]],template:function(r,i){if(1&r){const s=Os();he(0,"div",1)(1,"h1"),Me(2,"[BOUCING BALL DEMO]"),ce(),ut(3,"hr")(4,"canvas",2,0)(6,"hr"),he(7,"button",3),Xt("click",function(){return zn(s),$n(i.restart())}),Me(8,"[RESTART]"),ce(),ut(9,"hr"),he(10,"div",4)(11,"a",5),Me(12,"[Volver al Menu]"),ce()()()}},dependencies:[Us],styles:["canvas[_ngcontent-%COMP%]{border:1px solid #d3d3d3}"]})}}return n})(),Nc=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),aPe=(()=>{class n{ripple=!1;inputStyle=u5("outlined");overlayOptions={};csp=u5({nonce:void 0});filterMatchModeOptions={text:[Nc.STARTS_WITH,Nc.CONTAINS,Nc.NOT_CONTAINS,Nc.ENDS_WITH,Nc.EQUALS,Nc.NOT_EQUALS],numeric:[Nc.EQUALS,Nc.NOT_EQUALS,Nc.LESS_THAN,Nc.LESS_THAN_OR_EQUAL_TO,Nc.GREATER_THAN,Nc.GREATER_THAN_OR_EQUAL_TO],date:[Nc.DATE_IS,Nc.DATE_IS_NOT,Nc.DATE_BEFORE,Nc.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Rr;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lPe=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(vt(ma))};static \u0275dir=bn({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[Vr.None,"pTemplate","name"]},standalone:!0})}return n})(),cPe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ui({type:n});static \u0275inj=Ln({})}return n})(),uu=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)t.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)t.className+=" "+i[s]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,r){return!(!t||!r)&&(t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==t)return i;1==r[s].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==t)return s;i[o].attributes&&i[o].attributes[r]&&1==i[o].nodeType&&s++}return-1}static appendOverlay(t,r,i="self"){"self"!==i&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",s=!0){t&&r&&(s&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),"self"===i?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r,i=!0){const s=y=>{if(y)return"relative"===getComputedStyle(y).getPropertyValue("position")?y:s(y.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=r.offsetHeight??r.getBoundingClientRect().height,l=r.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),h=s(t)?.getBoundingClientRect()||{top:-1*c,left:-1*u};let A,p;l.top+a+o.height>d.height?(A=l.top-h.top-o.height,t.style.transformOrigin="bottom",l.top+A<0&&(A=-1*l.top)):(A=a+l.top-h.top,t.style.transformOrigin="top");const m=l.left+o.width-d.width;p=o.width>d.width?-1*(l.left-h.left):m>0?l.left-h.left-m:l.left-h.left,t.style.top=A+"px",t.style.left=p+"px",i&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,r,i=!0){const s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=r.offsetHeight??r.getBoundingClientRect().height,c=r.offsetWidth??r.getBoundingClientRect().width,u=r.getBoundingClientRect(),d=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),h=this.getViewport();let A,p;u.top+l+o>h.height?(A=u.top+d-o,t.style.transformOrigin="bottom",A<0&&(A=d)):(A=l+u.top+d,t.style.transformOrigin="top"),p=u.left+a>h.width?Math.max(0,u.left+f+c-a):u.left+f,t.style.top=A+"px",t.style.left=p+"px",i&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of i){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let d=this.findSingle(a,u);d&&o(d)&&r.push(d)}}9!==a.nodeType&&o(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),u=r.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,d=t.scrollTop,f=t.clientHeight,h=this.getOuterHeight(r);u<0?t.scrollTop=d+u:u+h>f&&(t.scrollTop=d+u-f+h)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,r){var i=1,a=50/r;let l=setInterval(()=>{(i-=a)<=0&&(i=0,clearInterval(l)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||s.clientWidth,height:t.innerHeight||i.clientHeight||s.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!(r&&r.el&&r.el.nativeElement))throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,r=""){let i=this.find(t,this.getFocusableSelectorString(r)),s=[];for(let o of i){const a=getComputedStyle(o);this.isVisible(o)&&"none"!=a.display&&"hidden"!=a.visibility&&s.push(o)}return s}static getFocusableElement(t,r=""){let i=this.findSingle(t,this.getFocusableSelectorString(r));if(i){const s=getComputedStyle(i);if(this.isVisible(i)&&"none"!=s.display&&"hidden"!=s.visibility)return i}return null}static getFirstFocusableElement(t,r=""){const i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){const i=n.getFocusableElements(t);let s=0;if(i&&i.length>0){const o=i.indexOf(i[0].ownerDocument.activeElement);r?s=-1==o||0===o?i.length-1:o-1:-1!=o&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const i=typeof t;if("string"===i)return document.querySelector(t);if("object"===i&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const o=(a=t)&&a.constructor&&a.call&&a.apply?t():t;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){const i=t.getAttribute(r);return isNaN(i)?"true"===i||"false"===i?"true"===i:i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,r={},...i){if(t){const s=document.createElement(t);return this.setAttributes(s,r),s.append(...i),s}}static setAttribute(t,r="",i){this.isElement(t)&&null!=i&&t.setAttribute(r,i)}static setAttributes(t,r={}){if(this.isElement(t)){const i=(s,o)=>{const a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(null!=c){const u=typeof c;if("string"===u||"number"===u)l.push(c);else if("object"===u){const d=Array.isArray(c)?i(s,c):Object.entries(c).map(([f,h])=>"style"!==s||!h&&0!==h?h?f:void 0:`${f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${h}`);l=d.length?l.concat(d.filter(f=>!!f)):l}}return l},a)};Object.entries(r).forEach(([s,o])=>{if(null!=o){const a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):"pBind"===s?this.setAttributes(t,o):(o="class"===s?[...new Set(i("class",o))].join(" ").trim():"style"===s?i("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,r=""){return!!this.isElement(t)&&t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`)}}return n})(),uPe=(()=>{class n{autofocus=!1;focused=!1;platformId=Ve(Yd);document=Ve(gs);host=Ve(N);ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){iT(this.platformId)&&this.autofocus&&setTimeout(()=>{const t=uu.getFocusableElements(this.host?.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=bn({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[Vr.HasDecoratorInputTransform,"autofocus","autofocus",Yl]},standalone:!0,features:[rE]})}return n})();class ex{static isArray(e,t=!0){return Array.isArray(e)&&(t||0!==e.length)}static isObject(e,t=!0){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&(t||0!==Object.keys(e).length)}static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,d=t instanceof RegExp;if(u!=d)return!1;if(u&&d)return e.toString()==t.toString();var f=Object.keys(e);if((o=f.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,f[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[a=f[s]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let r=t.split("."),i=e;for(let s=0,o=r.length;s<o;++s){if(null==i)return null;i=i[r[s]]}return i}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>t){r.splice(o,0,e),s=!0;break}s||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t)for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}return r}static contains(e,t){if(null!=e&&t&&t.length)for(let r of t)if(this.equals(e,r))return!0;return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let s=-1;const o=this.isEmpty(e),a=this.isEmpty(t);return s=o&&a?0:o?i:a?-i:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,r,{numeric:!0}):e<t?-1:e>t?1:0,s}static sort(e,t,r=1,i,s=1){const o=ex.compare(e,t,i,r);let a=r;return(ex.isEmpty(e)||ex.isEmpty(t))&&(a=1===s?r:s),a*o}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,d=t instanceof RegExp;if(u!=d)return!1;if(u&&d)return e.toString()==t.toString();var f=Object.keys(e);if((o=f.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,f[s]))return!1;for(s=o;0!=s--;)if(!this.deepEquals(e[a=f[s]],t[a]))return!1;return!0}return e!=e&&t!=t}}var mee=0;!function hPe(){let n=[];const i=s=>s&&parseInt(s.style.zIndex,10)||0}();const fPe=["*"];let APe=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=ex.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=hr({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[Vr.HasDecoratorInputTransform,"spin","spin",Yl],styleClass:"styleClass"},standalone:!0,features:[rE,Ra],ngContentSelectors:fPe,decls:1,vars:0,template:function(r,i){1&r&&(vE(),yE(0))},encapsulation:2,changeDetection:0})}return n})(),pPe=(()=>{class n extends APe{pathId;ngOnInit(){this.pathId="url(#"+function dPe(n="pn_id_"){return`${n}${++mee}`}()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Fs(n)))(i||n)}})();static \u0275cmp=hr({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[ps,Ra],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){1&r&&(function zh(){yr.lFrame.currentNamespace="svg"}(),he(0,"svg",0)(1,"g"),ut(2,"path",1),ce(),he(3,"defs")(4,"clipPath",2),ut(5,"rect",3),ce()()()),2&r&&($g(i.getClassNames()),ji("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),Te(),ji("clip-path",i.pathId),Te(3),We("id",i.pathId))},encapsulation:2})}return n})(),gPe=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,r,i,s,o,a){this.document=t,this.platformId=r,this.renderer=i,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){iT(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(uu.removeClass(r,"p-ink-active"),!uu.getHeight(r)&&!uu.getWidth(r)){let a=Math.max(uu.getOuterWidth(this.el.nativeElement),uu.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=uu.getOffset(this.el.nativeElement),s=t.pageX-i.left+this.document.body.scrollTop-uu.getWidth(r)/2,o=t.pageY-i.top+this.document.body.scrollLeft-uu.getHeight(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),uu.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&uu.removeClass(a,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if("string"==typeof t[r].className&&-1!==t[r].className.indexOf("p-ink"))return t[r];return null}resetInk(){let t=this.getInk();t&&uu.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),uu.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,uu.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||n)(vt(gs),vt(Yd),vt($h),vt(N),vt(Dr),vt(aPe,8))};static \u0275dir=bn({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})();const mPe=["*"],vee=n=>({class:n});function vPe(n,e){1&n&&R5(0)}function yPe(n,e){1&n&&ut(0,"span",8),2&n&&(We("ngClass",ln(3).iconClass()),ji("aria-hidden",!0)("data-pc-section","loadingicon"))}function _Pe(n,e){1&n&&ut(0,"SpinnerIcon",9),2&n&&(We("styleClass",ln(3).spinnerIconClass())("spin",!0),ji("aria-hidden",!0)("data-pc-section","loadingicon"))}function bPe(n,e){if(1&n&&(Zv(0),pn(1,yPe,1,3,"span",6)(2,_Pe,1,4,"SpinnerIcon",7),e0()),2&n){const t=ln(2);Te(),We("ngIf",t.loadingIcon),Te(),We("ngIf",!t.loadingIcon)}}function wPe(n,e){}function CPe(n,e){1&n&&pn(0,wPe,0,0,"ng-template",10),2&n&&We("ngIf",ln(2).loadingIconTemplate)}function EPe(n,e){if(1&n&&(Zv(0),pn(1,bPe,3,2,"ng-container",2)(2,CPe,1,1,null,5),e0()),2&n){const t=ln();Te(),We("ngIf",!t.loadingIconTemplate),Te(),We("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",lA(3,vee,t.iconClass()))}}function SPe(n,e){1&n&&ut(0,"span",8),2&n&&(We("ngClass",ln(2).iconClass()),ji("data-pc-section","icon"))}function xPe(n,e){}function DPe(n,e){if(1&n&&pn(0,xPe,0,0,"ng-template",10),2&n){const t=ln(2);We("ngIf",!t.icon&&t.iconTemplate)}}function MPe(n,e){if(1&n&&(Zv(0),pn(1,SPe,1,2,"span",6)(2,DPe,1,1,null,5),e0()),2&n){const t=ln();Te(),We("ngIf",t.icon&&!t.iconTemplate),Te(),We("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",lA(3,vee,t.iconClass()))}}function TPe(n,e){if(1&n&&(he(0,"span",11),Me(1),ce()),2&n){const t=ln();ji("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),Te(),Pr(t.label)}}function BPe(n,e){if(1&n&&(he(0,"span",8),Me(1),ce()),2&n){const t=ln();$g(t.badgeClass),We("ngClass",t.badgeStyleClass()),ji("data-pc-section","badge"),Te(),Pr(t.badge)}}let yee=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new ie;onFocus=new ie;onBlur=new ie;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[r])=>t+` ${r}`,"p-button-loading-icon")}iconClass(){const t={"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(r){return new(r||n)(vt(N))};static \u0275cmp=hr({type:n,selectors:[["p-button"]],contentQueries:function(r,i,s){if(1&r&&Fa(s,lPe,4),2&r){let o;pr(o=gr())&&(i.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(r,i){2&r&&Ri("p-disabled",i.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[Vr.HasDecoratorInputTransform,"disabled","disabled",Yl],loading:[Vr.HasDecoratorInputTransform,"loading","loading",Yl],loadingIcon:"loadingIcon",raised:[Vr.HasDecoratorInputTransform,"raised","raised",Yl],rounded:[Vr.HasDecoratorInputTransform,"rounded","rounded",Yl],text:[Vr.HasDecoratorInputTransform,"text","text",Yl],plain:[Vr.HasDecoratorInputTransform,"plain","plain",Yl],severity:"severity",outlined:[Vr.HasDecoratorInputTransform,"outlined","outlined",Yl],link:[Vr.HasDecoratorInputTransform,"link","link",Yl],tabindex:[Vr.HasDecoratorInputTransform,"tabindex","tabindex",d0e],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[Vr.HasDecoratorInputTransform,"autofocus","autofocus",Yl]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[rE,Ra],ngContentSelectors:mPe,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(r,i){1&r&&(vE(),he(0,"button",0),Xt("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),yE(1),pn(2,vPe,1,0,"ng-container",1)(3,EPe,3,5,"ng-container",2)(4,MPe,3,5,"ng-container",2)(5,TPe,2,3,"span",3)(6,BPe,2,5,"span",4),ce()),2&r&&(We("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",i.buttonClass)("autofocus",i.autofocus),ji("type",i.type)("aria-label",i.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",i.tabindex),Te(2),We("ngTemplateOutlet",i.contentTemplate),Te(),We("ngIf",i.loading),Te(),We("ngIf",!i.loading),Te(),We("ngIf",!i.contentTemplate&&i.label),Te(),We("ngIf",!i.contentTemplate&&i.badge))},dependencies:[bc,G_,nT,CL,gPe,uPe,pPe],encapsulation:2,changeDetection:0})}return n})(),NPe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ui({type:n});static \u0275inj=Ln({imports:[yee,cPe]})}return n})();const IPe=["_txtName"],FPe=["_txtMessage"];function RPe(n,e){1&n&&(he(0,"div",17),Me(1," Pleae enter all fields "),ce())}function OPe(n,e){if(1&n&&(he(0,"table",18)(1,"tr")(2,"td")(3,"span"),Me(4),ce()()()()),2&n){const t=e.$implicit;Te(4),Zi(" ",t," ")}}let PPe=(()=>{class n{constructor(t,r){this.chatService=t,this.datePipe=r,this.parentData=[]}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t))}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}submitForm(t){t.valid&&(console.log(t.value),this.sendMessage(t.value.txtName,t.value.txtMessage))}sendMessage(t,r){let o=`[${this.datePipe.transform(new Date,"yyyy-MM-dd HH:mm:ss")}] -[${t}] Says: "${r}"`;console.log("sending message: {"+r+"}"),this.chatService.sendMessage(o)}static{this.\u0275fac=function(r){return new(r||n)(vt(Aee),vt(xL))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-chat"]],viewQuery:function(r,i){if(1&r&&(ss(IPe,5),ss(FPe,5)),2&r){let s;pr(s=gr())&&(i.txtName=s.first),pr(s=gr())&&(i.txtMessage=s.first)}},decls:29,vars:2,consts:[["messageinputform","ngForm"],["_txtName",""],["_txtMessage",""],["id","divMessageInput","align","left"],[3,"ngSubmit"],[1,"form-group"],["for","txtName"],["type","text","id","txtName","name","txtName","maxlength","10","ngModel","","required",""],["for","txtMessage"],["type","text","id","txtMessage","name","txtMessage","maxlength","25","ngModel","","required",""],["class","form-group","align","left",4,"ngIf"],[1,"card","flex","justify-content-center"],["label","[SEND MESSAGE]","icon","pi pi-check","type","submit"],["id","divMessageOutput"],["class","message-data",4,"ngFor","ngForOf"],["align","right"],["routerLink","/Dev"],["align","left",1,"form-group"],[1,"message-data"]],template:function(r,i){if(1&r){const s=Os();he(0,"h1"),Me(1,"[CHAT]"),ce(),ut(2,"hr"),he(3,"h4"),Me(4,"[MESSAGES]"),ce(),ut(5,"hr"),he(6,"div",3)(7,"form",4,0),Xt("ngSubmit",function(){zn(s);const a=Zh(8);return $n(i.submitForm(a))}),he(9,"div",5)(10,"label",6),Me(11,"Your Name:"),ce(),ut(12,"input",7,1),ce(),he(14,"div",5)(15,"label",8),Me(16,"Your Message :"),ce(),ut(17,"input",9,2),ce(),pn(19,RPe,2,0,"div",10),he(20,"div",11),ut(21,"p-button",12),ce()()(),ut(22,"hr"),he(23,"div",13),pn(24,OPe,5,1,"table",14),ce(),ut(25,"hr"),he(26,"div",15)(27,"a",16),Me(28,"[Volver al Menu]"),ce()()}if(2&r){const s=Zh(8);Te(19),We("ngIf",0==s.valid&&s.submitted),Te(5),We("ngForOf",i.parentData.reverse())}},dependencies:[Us,Jl,bc,Y_,uA,om,$_,xT,DT,u0,X_,yee],styles:["@layer reset,primeng;@layer reset;table[_ngcontent-%COMP%]{width:400px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc;text-align:left}.form-group[_ngcontent-%COMP%]{background-color:#ccc;width:300px;margin-bottom:1em;display:flex;align-items:center}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}.message-data[_ngcontent-%COMP%]{color:#0ff}"]})}}return n})();function ll(){return ll=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ll.apply(null,arguments)}var _ee={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null},Lt=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(_ee)};function Ur(n){var e=typeof n;if("number"===e||"bigint"===e||"string"===e||"boolean"===e||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(t){return Ur(t)});if(n instanceof Date)return new Date(n.valueOf());if(Kr(n))return n;if(rx(n))return function LPe(n,e){var t={};for(var r in n)qn(n,r)&&(t[r]=e(n[r]));return t}(n,Ur);if("function"===e)return n;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function wee(n,e){for(var t in e)qn(e,t)&&(n[t]=e[t]);return n}function zp(n,e){var t,r,i;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;r++)if(!zp(n[r],e[r]))return!1;return!0}if("function"==typeof n)return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!zp(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}return n===e}function qn(n,e){return n&&Object.hasOwnProperty.call(n,e)}function du(n,e){if(fI(n,e))return n[e];throw"function"==typeof n[e]&&T8(n,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function bb(n,e,t){if(fI(n,e))return n[e]=t,t;throw new Error('No access to property "'+e+'"')}function fI(n,e){return!(!function zPe(n){return"object"==typeof n&&n&&n.constructor===Object}(n)&&!Array.isArray(n)||!qn(GPe,e)&&(e in Object.prototype||e in Function.prototype))}function T8(n,e){return!(null==n||"function"!=typeof n[e]||qn(n,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(n)||!qn(jPe,e)&&(e in Object.prototype||e in Function.prototype))}ll(Lt,_ee,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var GPe={length:!0,name:!0},jPe={toString:!0,valueOf:!0,toLocaleString:!0};class AI{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return du(this.wrappedObject,e)}set(e,t){return bb(this.wrappedObject,e,t),this}has(e){return fI(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return Mee(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){fI(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class Dee{constructor(e,t,r){this.a=e,this.b=t,this.bKeys=r,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return Mee(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function Mee(n,e){return{next:()=>{var t=n.next();return t.done?t:{value:e(t.value),done:!1}}}}function tx(){return new Map}function wb(n){if(!n)return tx();if(Cb(n))return n;if(rx(n))return new AI(n);throw new Error("createMap can create maps from objects or Maps")}function $r(n){return"number"==typeof n}function Kr(n){return!(!n||"object"!=typeof n||"function"!=typeof n.constructor)&&(!0===n.isBigNumber&&"object"==typeof n.constructor.prototype&&!0===n.constructor.prototype.isBigNumber||"function"==typeof n.constructor.isDecimal&&!0===n.constructor.isDecimal(n))}function WPe(n){return"bigint"==typeof n}function Gp(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isComplex||!1}function nx(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isFraction||!1}function uh(n){return n&&!0===n.constructor.prototype.isUnit||!1}function Ic(n){return"string"==typeof n}var Vs=Array.isArray;function mr(n){return n&&!0===n.constructor.prototype.isMatrix||!1}function dh(n){return Array.isArray(n)||mr(n)}function pI(n){return n&&n.isDenseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function $0(n){return n&&n.isSparseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function B8(n){return n&&!0===n.constructor.prototype.isRange||!1}function gI(n){return n&&!0===n.constructor.prototype.isIndex||!1}function $Pe(n){return"boolean"==typeof n}function KPe(n){return n&&!0===n.constructor.prototype.isResultSet||!1}function Tee(n){return n&&!0===n.constructor.prototype.isHelp||!1}function XPe(n){return"function"==typeof n}function YPe(n){return n instanceof Date}function JPe(n){return n instanceof RegExp}function rx(n){return!(!n||"object"!=typeof n||n.constructor!==Object||Gp(n)||nx(n))}function Cb(n){return!!n&&(n instanceof Map||n instanceof AI||"function"==typeof n.set&&"function"==typeof n.get&&"function"==typeof n.keys&&"function"==typeof n.has)}function ZPe(n){return null===n}function e5e(n){return void 0===n}function K0(n){return n&&!0===n.isAccessorNode&&!0===n.constructor.prototype.isNode||!1}function hh(n){return n&&!0===n.isArrayNode&&!0===n.constructor.prototype.isNode||!1}function t5e(n){return n&&!0===n.isAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function n5e(n){return n&&!0===n.isBlockNode&&!0===n.constructor.prototype.isNode||!1}function r5e(n){return n&&!0===n.isConditionalNode&&!0===n.constructor.prototype.isNode||!1}function Hi(n){return n&&!0===n.isConstantNode&&!0===n.constructor.prototype.isNode||!1}function N8(n){return Hi(n)||xa(n)&&1===n.args.length&&Hi(n.args[0])&&"-+~".includes(n.op)}function ix(n){return n&&!0===n.isFunctionAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function Fm(n){return n&&!0===n.isFunctionNode&&!0===n.constructor.prototype.isNode||!1}function Eb(n){return n&&!0===n.isIndexNode&&!0===n.constructor.prototype.isNode||!1}function Qs(n){return n&&!0===n.isNode&&!0===n.constructor.prototype.isNode||!1}function mI(n){return n&&!0===n.isObjectNode&&!0===n.constructor.prototype.isNode||!1}function xa(n){return n&&!0===n.isOperatorNode&&!0===n.constructor.prototype.isNode||!1}function jp(n){return n&&!0===n.isParenthesisNode&&!0===n.constructor.prototype.isNode||!1}function i5e(n){return n&&!0===n.isRangeNode&&!0===n.constructor.prototype.isNode||!1}function s5e(n){return n&&!0===n.isRelationalNode&&!0===n.constructor.prototype.isNode||!1}function Nl(n){return n&&!0===n.isSymbolNode&&!0===n.constructor.prototype.isNode||!1}function Bee(n){return n&&!0===n.constructor.prototype.isChain||!1}function no(n){var e=typeof n;return"object"===e?null===n?"null":Kr(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}var Nee=new Set(["end"]);function ye(n,e,t,r){function i(s){var o=function VPe(n,e){for(var t={},r=0;r<e.length;r++){var i=e[r],s=n[i];void 0!==s&&(t[i]=s)}return t}(s,e.map(c5e));return function a5e(n,e,t){var r=e.filter(s=>!function l5e(n){return n&&"?"===n[0]}(s)).every(s=>void 0!==t[s]);if(!r){var i=e.filter(s=>void 0===t[s]);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(i.map(s=>'"'.concat(s,'"')).join(", "),"."))}}(n,e,s),t(o)}return i.isFactory=!0,i.fn=n,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function c5e(n){return n&&"?"===n[0]?n.slice(1):n}var h5e=ye("Node",["mathWithTransform"],n=>{var{mathWithTransform:e}=n;return class r{get type(){return"Node"}get isNode(){return!0}evaluate(s){return this.compile().evaluate(s)}compile(){var s=this._compile(e,{}),o={};return{evaluate:function l(c){var u=wb(c);return function t(i){for(var s of[...Nee])if(i.has(s))throw new Error('Scope contains an illegal symbol, "'+s+'" is a reserved keyword')}(u),s(u,o,null)}}}_compile(s,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(s){throw new Error("Cannot run forEach on a Node interface")}map(s){throw new Error("Cannot run map on a Node interface")}_ifNode(s){if(!Qs(s))throw new TypeError("Callback function must return a Node");return s}traverse(s){s(this,null,null),function o(a,l){a.forEach(function(c,u,d){l(c,u,d),o(c,l)})}(this,s)}transform(s){return function o(a,l,c){var u=s(a,l,c);return u!==a?u:a.map(o)}(this,null,null)}filter(s){var o=[];return this.traverse(function(a,l,c){s(a,l,c)&&o.push(a)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(s){return s.cloneDeep()})}equals(s){return!!s&&this.type===s.type&&zp(this,s)}toString(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toString(s)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toHTML(s)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toTex(s)}_toTex(s){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(s){if(s&&"object"==typeof s)switch(typeof s.handler){case"object":case"undefined":return;case"function":return s.handler(this,s);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function sx(n){return sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(n)}function cl(n,e,t){return(e=function A5e(n){var e=function f5e(n,e){if("object"!=sx(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!=sx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==sx(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zn(n){return"boolean"==typeof n||!!isFinite(n)&&n===Math.round(n)}function Rm(n,e){return"bigint"!==e.number||function p5e(n){return/^-?\d+$/.test(n)}(n)?e.number:e.numberFallback}var Om=Math.sign||function(n){return n>0?1:n<0?-1:0},g5e=Math.log2||function(e){return Math.log(e)/Math.LN2},m5e=Math.log10||function(e){return Math.log(e)/Math.LN10},Iee=Math.log1p||function(n){return Math.log(n+1)},v5e=Math.cbrt||function(e){if(0===e)return e;var r,t=e<0;return t&&(e=-e),r=isFinite(e)?(e/((r=Math.exp(Math.log(e)/3))*r)+2*r)/3:e,t?-r:r},y5e=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function F8(n,e,t){var i={2:"0b",8:"0o",16:"0x"}[e],s="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Zn(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Zn(n))throw new Error("Value must be an integer");n<0&&(n+=2**t),s="i".concat(t)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(i).concat(n.toString(e)).concat(s)}function X0(n,e){if("function"==typeof e)return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:r,wordSize:i}=Fee(e);switch(t){case"fixed":return Ree(n,r);case"exponential":return Oee(n,r);case"engineering":return function _5e(n,e){if(isNaN(n)||!isFinite(n))return String(n);var r=vI(ox(n),e),i=r.exponent,s=r.coefficients,o=i%3==0?i:i<0?i-3-i%3:i-i%3;if($r(e))for(;e>s.length||i-o+1>s.length;)s.push(0);else for(var a=Math.abs(i-o)-(s.length-1),l=0;l<a;l++)s.push(0);for(var c=Math.abs(i-o),u=1;c>0;)u++,c--;var d=s.slice(u).join(""),f=$r(e)&&d.length||d.match(/[1-9]/)?"."+d:"",h=s.slice(0,u).join("")+f+"e"+(i>=0?"+":"")+o.toString();return r.sign+h}(n,r);case"bin":return F8(n,2,i);case"oct":return F8(n,8,i);case"hex":return F8(n,16,i);case"auto":return function b5e(n,e,t){if(isNaN(n)||!isFinite(n))return String(n);var r=kee(t?.lowerExp,-3),i=kee(t?.upperExp,5),s=ox(n),o=e?vI(s,e):s;if(o.exponent<r||o.exponent>=i)return Oee(n,e);var a=o.coefficients,l=o.exponent;a.length<e&&(a=a.concat(Sb(e-a.length))),a=a.concat(Sb(l-a.length+1+(a.length<e?e-a.length:0)));var c=l>0?l:0;return c<(a=Sb(-l).concat(a)).length-1&&a.splice(c+1,0,"."),o.sign+a.join("")}(n,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return"."!==s?s+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Fee(n){var t,r,e="auto";if(void 0!==n)if($r(n))t=n;else if(Kr(n))t=n.toNumber();else{if(!rx(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==n.precision&&(t=Uee(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),void 0!==n.wordSize&&(r=Uee(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(e=n.notation)}return{notation:e,precision:t,wordSize:r}}function ox(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),s=r.indexOf(".");i+=-1!==s?s-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(a){return i-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return 0===o.length&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function Ree(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=ox(n),r="number"==typeof e?vI(t,t.exponent+1+e):t,i=r.coefficients,s=r.exponent+1,o=s+(e||0);return i.length<o&&(i=i.concat(Sb(o-i.length))),s<0&&(i=Sb(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),r.sign+i.join("")}function Oee(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=ox(n),r=e?vI(t,e):t,i=r.coefficients,s=r.exponent;i.length<e&&(i=i.concat(Sb(e-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function vI(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var s=e-1;for(r[s]++;10===r[s];)r.pop(),0===s&&(r.unshift(0),t.exponent++,s++),r[--s]++}return t}function Sb(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function rc(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(e)&&(isFinite(n)&&isFinite(e)?n===e||Math.abs(n-e)<=Math.max(t*Math.max(Math.abs(n),Math.abs(e)),r):n===e)}var C5e=Math.acosh||function(n){return Math.log(Math.sqrt(n*n-1)+n)},E5e=Math.asinh||function(n){return Math.log(Math.sqrt(n*n+1)+n)},S5e=Math.atanh||function(n){return Math.log((1+n)/(1-n))/2},Pee=Math.cosh||function(n){return(Math.exp(n)+Math.exp(-n))/2},x5e=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2},Lee=Math.tanh||function(n){var e=Math.exp(2*n);return(e-1)/(e+1)};function Uee(n,e){return $r(n)?n:Kr(n)?n.toNumber():void e()}function kee(n,e){return $r(n)?n:Kr(n)?n.toNumber():e}function R8(n,e,t){var i=new(0,n.constructor)(2),s="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Zn(t))throw new Error("size must be an integer");if(n.greaterThan(i.pow(t-1).sub(1))||n.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(i.pow(t))),s="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(s);case 8:return"".concat(n.toOctal()).concat(s);case 16:return"".concat(n.toHexadecimal()).concat(s);default:throw new Error("Base ".concat(e," not supported "))}}function Hee(n,e){return void 0!==e?n.toExponential(e-1):n.toExponential()}function Vee(n,e){return $r(n)?n:Kr(n)?n.toNumber():e}function N5e(n,e){return n.substring(n.length-e.length,n.length)===e}function Ai(n,e){var t=function I5e(n,e){return"number"==typeof n?X0(n,e):Kr(n)?function M5e(n,e){if("function"==typeof e)return e(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:r,wordSize:i}=Fee(e);switch(t){case"fixed":return function B5e(n,e){return n.toFixed(e)}(n,r);case"exponential":return Hee(n,r);case"engineering":return function T5e(n,e){var t=n.e,r=t%3==0?t:t<0?t-3-t%3:t-t%3,s=n.mul(Math.pow(10,-r)).toPrecision(e);return s.includes("e")&&(s=new(0,n.constructor)(s).toFixed()),s+"e"+(t>=0?"+":"")+r.toString()}(n,r);case"bin":return R8(n,2,i);case"oct":return R8(n,8,i);case"hex":return R8(n,16,i);case"auto":var s=Vee(e?.lowerExp,-3),o=Vee(e?.upperExp,5);if(n.isZero())return"0";var l=n.toSignificantDigits(r),c=l.e;return(c>=s&&c<o?l.toFixed():Hee(n,r)).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],d=arguments[4];return"."!==u?u+d:d});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(n,e):function F5e(n){return n&&"object"==typeof n&&"bigint"==typeof n.s&&"bigint"==typeof n.n&&"bigint"==typeof n.d||!1}(n)?e&&"decimal"===e.fraction?n.toString():"".concat(n.s*n.n,"/").concat(n.d):Array.isArray(n)?zee(n,e):Ic(n)?xb(n):"function"==typeof n?n.syntax?String(n.syntax):"function":n&&"object"==typeof n?"function"==typeof n.format?n.format(e):n&&n.toString(e)!=={}.toString()?n.toString(e):"{"+Object.keys(n).map(r=>xb(r)+": "+Ai(n[r],e)).join(", ")+"}":String(n)}(n,e);return e&&"object"==typeof e&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function xb(n){for(var e=String(n),t="",r=0;r<e.length;){var i=e.charAt(r);t+=i in Qee?Qee[i]:i,r++}return'"'+t+'"'}var Qee={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function fh(n){var e=String(n);return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zee(n,e){if(Array.isArray(n)){for(var t="[",r=n.length,i=0;i<r;i++)0!==i&&(t+=", "),t+=zee(n[i],e);return t+"]"}return Ai(n,e)}function O8(n,e){if(!Ic(n))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+no(n)+", index: 0)");if(!Ic(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+no(e)+", index: 1)");return n===e?0:n>e?1:-1}var yI="ObjectNode",O5e=ye(yI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&("object"!=typeof i||!Object.keys(i).every(function(s){return Qs(i[s])})))throw new TypeError("Object containing Nodes expected")}get type(){return yI}get isObjectNode(){return!0}_compile(i,s){var o={};for(var a in this.properties)if(qn(this.properties,a)){var l=xb(a),c=JSON.parse(l),u=du(this.properties,a);o[c]=u._compile(i,s)}return function(f,h,A){var p={};for(var m in o)qn(o,m)&&(p[m]=o[m](f,h,A));return p}}forEach(i){for(var s in this.properties)qn(this.properties,s)&&i(this.properties[s],"properties["+xb(s)+"]",this)}map(i){var s={};for(var o in this.properties)qn(this.properties,o)&&(s[o]=this._ifNode(i(this.properties[o],"properties["+xb(o)+"]",this)));return new t(s)}clone(){var i={};for(var s in this.properties)qn(this.properties,s)&&(i[s]=this.properties[s]);return new t(i)}_toString(i){var s=[];for(var o in this.properties)qn(this.properties,o)&&s.push(xb(o)+": "+this.properties[o].toString(i));return"{"+s.join(", ")+"}"}toJSON(){return{mathjs:yI,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var s=[];for(var o in this.properties)qn(this.properties,o)&&s.push('<span class="math-symbol math-property">'+fh(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var s=[];for(var o in this.properties)qn(this.properties,o)&&s.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");return"\\left\\{\\begin{array}{ll}"+s.join("\n")+"\\end{array}\\right\\}"}}return cl(t,"name",yI),t},{isClass:!0,isNode:!0});function pi(n,e,t){if(!(this instanceof pi))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function _f(n,e,t){if(!(this instanceof _f))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function Tr(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function Gee(n,e,t){var r,i=n.length;if(i!==e[t])throw new pi(i,e[t]);if(t<e.length-1){var s=t+1;for(r=0;r<i;r++){if(!Array.isArray(n[r]))throw new pi(e.length-1,e.length,"<");Gee(n[r],e,s)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new pi(e.length+1,e.length,">")}function jee(n,e){if(0===e.length){if(Array.isArray(n))throw new pi(n.length,0)}else Gee(n,e,0)}function _I(n,e){var t=n.isMatrix?n._size:Tr(n);e._sourceSize.forEach((i,s)=>{if(null!==i&&i!==t[s])throw new pi(i,t[s])})}function ro(n,e){if(void 0!==n){if(!$r(n)||!Zn(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||"number"==typeof e&&n>=e)throw new _f(n,e)}}function Db(n){for(var e=0;e<n._dimensions.length;++e){var t=n._dimensions[e];if(t._data&&Vs(t._data)){if(0===t._size[0])return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(Ic(t)&&0===t.length)return!0}return!1}function Mb(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach(function(i){if(!$r(i)||!Zn(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ai(e)+")")}),($r(n)||Kr(n))&&(n=[n]),P8(n,e,0,void 0!==t?t:0),n}function P8(n,e,t,r){var i,s,a=e[t],l=Math.min(n.length,a);if(n.length=a,t<e.length-1){var c=t+1;for(i=0;i<l;i++)s=n[i],Array.isArray(s)||(n[i]=s=[s]),P8(s,e,c,r);for(i=l;i<a;i++)n[i]=s=[],P8(s,e,c,r)}else{for(i=0;i<l;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=l;i<a;i++)n[i]=r}}function L8(n,e){var t=ts(n),r=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new pi(0,r,"!=");var i=qee(e=U8(e,r));if(r!==i)throw new pi(i,r,"!=");try{return function P5e(n,e){for(var r,t=n,i=e.length-1;i>0;i--){var s=e[i];r=[];for(var o=t.length/s,a=0;a<o;a++)r.push(t.slice(a*s,(a+1)*s));t=r}return t}(t,e)}catch(s){throw s instanceof pi?new pi(i,r,"!="):s}}function U8(n,e){var t=qee(n),r=n.slice(),s=n.indexOf(-1);if(n.indexOf(-1,s+1)>=0)throw new Error("More than one wildcard in sizes");if(s>=0){if(e%t!=0)throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);r[s]=-e/t}return r}function qee(n){return n.reduce((e,t)=>e*t,1)}function bI(n,e){for(var t=e||Tr(n);Array.isArray(n)&&1===n.length;)n=n[0],t.shift();for(var r=t.length;1===t[r-1];)r--;return r<t.length&&(n=Wee(n,r,0),t.length=r),n}function Wee(n,e,t){var r,i;if(t<e){var s=t+1;for(r=0,i=n.length;r<i;r++)n[r]=Wee(n[r],e,s)}else for(;Array.isArray(n);)n=n[0];return n}function $ee(n,e,t,r){var i=r||Tr(n);if(t)for(var s=0;s<t;s++)n=[n],i.unshift(1);for(n=Kee(n,e,0);i.length<e;)i.push(1);return n}function Kee(n,e,t){var r,i;if(Array.isArray(n)){var s=t+1;for(r=0,i=n.length;r<i;r++)n[r]=Kee(n[r],e,s)}else for(var o=t;o<e;o++)n=[n];return n}function ts(n){if(!Array.isArray(n))return n;var e=[];return n.forEach(function t(r){Array.isArray(r)?r.forEach(t):e.push(r)}),e}function Pm(n,e){return Array.prototype.map.call(n,e)}function Xee(n,e){Array.prototype.forEach.call(n,e)}function Yee(n,e){if(1!==Tr(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,t=>e.test(t))}function Jee(n,e){return Array.prototype.join.call(n,e)}function Tb(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;var e=[],t=0;e[0]={value:n[0],identifier:0};for(var r=1;r<n.length;r++)n[r]===n[r-1]?t++:t=0,e.push({value:n[r],identifier:t});return e}function wI(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;for(var e=[],t=0;t<n.length;t++)e.push(n[t].value);return e}function CI(n,e){for(var t,r=0,i=0;i<n.length;i++){var s=n[i],o=Array.isArray(s);if(0===i&&o&&(r=s.length),o&&s.length!==r)return;var a=o?CI(s,e):e(s);if(void 0===t)t=a;else if(t!==a)return"mixed"}return t}function Zee(n,e,t,r){if(r<t){if(n.length!==e.length)throw new pi(n.length,e.length);for(var i=[],s=0;s<n.length;s++)i[s]=Zee(n[s],e[s],t,r+1);return i}return n.concat(e)}function ete(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(1===n.length)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,r){return Zee(t,r,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function EI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.map(f=>f.length),i=Math.max(...r),s=new Array(i).fill(null),o=0;o<e.length;o++)for(var a=e[o],l=r[o],c=0;c<l;c++){var u=i-l+c;a[c]>s[u]&&(s[u]=a[c])}for(var d=0;d<e.length;d++)tte(e[d],s);return s}function tte(n,e){for(var t=e.length,r=n.length,i=0;i<r;i++){var s=t-r+i;if(n[i]<e[s]&&n[i]>1||n[i]>e[s])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(e[s]))}}function Lm(n,e){var t=Tr(n);if(zp(t,e))return n;tte(t,e);var r=EI(t,e),i=r.length,s=[...Array(i-t.length).fill(1),...t],o=function k5e(n){return ll([],n)}(n);t.length<i&&(t=Tr(o=L8(o,s)));for(var a=0;a<i;a++)t[a]<r[a]&&(t=Tr(o=U5e(o,r[a],a)));return o}function U5e(n,e,t){return ete(...Array(e).fill(n),t)}function k8(n,e){if(!Array.isArray(n))throw new Error("Array expected");var t=Tr(n);if(e.length!==t.length)throw new pi(e.length,t.length);for(var r=0;r<e.length;r++)ro(e[r],t[r]);return e.reduce((i,s)=>i[s],n)}function H8(n,e,t,r){return Array.isArray(n)?n.map(function(i,s){return H8(i,e.concat(s),t,r)}):r(n,e,t)}function ax(n,e){return new Dee(n,new AI(e),new Set(Object.keys(e)))}(pi.prototype=new RangeError).constructor=RangeError,pi.prototype.name="DimensionError",pi.prototype.isDimensionError=!0,(_f.prototype=new RangeError).constructor=RangeError,_f.prototype.name="IndexError",_f.prototype.isIndexError=!0;var bf=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function SI(n,e){if(!e||"auto"!==e)return n;for(var t=n;jp(t);)t=t.content;return t}function Ws(n,e,t,r){var i=n;"keep"!==e&&(i=n.getContent());for(var s=i.getIdentifier(),o=null,a=0;a<bf.length;a++)if(s in bf[a]){o=a;break}if("OperatorNode:multiply"===s&&i.implicit&&"show"!==t){var l=SI(i.args[0],e);!(Hi(l)&&r&&"OperatorNode:divide"===r.getIdentifier()&&N8(SI(r.args[0],e)))&&("OperatorNode:divide"!==l.getIdentifier()||!N8(SI(l.args[0],e))||!Hi(SI(l.args[1])))&&(o+=1)}return o}function lx(n,e){var t=n;"keep"!==e&&(t=n.getContent());var r=t.getIdentifier(),i=Ws(t,e);if(null===i)return null;var s=bf[i][r];if(qn(s,"associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+s.associativity+"'.")}return null}function V8(n,e,t){var r="keep"!==t?n.getContent():n,i="keep"!==t?n.getContent():e,s=r.getIdentifier(),o=i.getIdentifier(),a=Ws(r,t);if(null===a)return null;var l=bf[a][s];if(qn(l,"associativeWith")&&l.associativeWith instanceof Array){for(var c=0;c<l.associativeWith.length;c++)if(l.associativeWith[c]===o)return!0;return!1}return null}var V5e=_e(7636),Q8={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ns={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},nte={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ns.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ns.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ns.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ns.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ns.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ns.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ns.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ns.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ns.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ns.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ns.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ns.bitAnd,"${args[1]}\\right)")},bitNot:{1:ns.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ns.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ns.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ns.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ns.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ns.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ns.and,"${args[1]}\\right)")},not:{1:ns.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ns.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ns.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ns.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(ns.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ns.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ns.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ns.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ns.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ns.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ns.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ns.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ns.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ns.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(Q8.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},rte={deg:"^\\circ"};function z8(n){return V5e(n,{preserveFormatting:!0})}function ite(n,e){return(e=!(typeof e>"u")&&e)?qn(rte,n)?rte[n]:"\\mathrm{"+z8(n)+"}":qn(Q8,n)?Q8[n]:z8(n)}var xI="OperatorNode",G5e=ye(xI,["Node"],n=>{var{Node:e}=n;function t(s,o){var a=s;if("auto"===o)for(;jp(a);)a=a.content;return!!Hi(a)||!!xa(a)&&t(a.args[0],o)}function r(s,o,a,l,c){var f,u=Ws(s,o,a),d=lx(s,o);if("all"===o||l.length>2&&"OperatorNode:add"!==s.getIdentifier()&&"OperatorNode:multiply"!==s.getIdentifier())return l.map(function(T){switch(T.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(l.length){case 0:f=[];break;case 1:var h=Ws(l[0],o,a,s);if(c&&null!==h){var A,p;if("keep"===o?(A=l[0].getIdentifier(),p=s.getIdentifier()):(A=l[0].getContent().getIdentifier(),p=s.getContent().getIdentifier()),!1===bf[u][p].latexLeftParens){f=[!1];break}if(!1===bf[h][A].latexParens){f=[!1];break}}if(null===h){f=[!1];break}if(h<=u){f=[!0];break}f=[!1];break;case 2:var m,g=Ws(l[0],o,a,s),y=V8(s,l[0],o);m=null!==g&&(g===u&&"right"===d&&!y||g<u);var v,b,M,D,_=Ws(l[1],o,a,s),C=V8(s,l[1],o);v=null!==_&&(_===u&&"left"===d&&!C||_<u),c&&("keep"===o?(b=s.getIdentifier(),M=s.args[0].getIdentifier(),D=s.args[1].getIdentifier()):(b=s.getContent().getIdentifier(),M=s.args[0].getContent().getIdentifier(),D=s.args[1].getContent().getIdentifier()),null!==g&&(!1===bf[u][b].latexLeftParens&&(m=!1),!1===bf[g][M].latexParens&&(m=!1)),null!==_&&(!1===bf[u][b].latexRightParens&&(v=!1),!1===bf[_][D].latexParens&&(v=!1))),f=[m,v];break;default:("OperatorNode:add"===s.getIdentifier()||"OperatorNode:multiply"===s.getIdentifier())&&(f=l.map(function(T){var B=Ws(T,o,a,s),R=V8(s,T,o),U=lx(T,o);return null!==B&&(u===B&&d===U&&!R||B<u)}))}if(l.length>=2&&"OperatorNode:multiply"===s.getIdentifier()&&s.implicit&&"all"!==o&&"hide"===a)for(var S=1;S<f.length;++S)t(l[S],o)&&!f[S-1]&&("keep"!==o||!jp(l[S-1]))&&(f[S]=!0);return f}class i extends e{constructor(o,a,l,c,u){if(super(),"string"!=typeof o)throw new TypeError('string expected for parameter "op"');if("string"!=typeof a)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Qs))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===c,this.isPercentage=!0===u,this.op=o,this.fn=a,this.args=l||[]}get type(){return xI}get isOperatorNode(){return!0}_compile(o,a){if("string"!=typeof this.fn||!T8(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=du(o,this.fn),c=Pm(this.args,function(A){return A._compile(o,a)});if("function"==typeof l&&!0===l.rawArgs){var u=this.args;return function(p,m,g){return l(u,o,ax(p,m))}}if(1===c.length){var d=c[0];return function(p,m,g){return l(d(p,m,g))}}if(2===c.length){var f=c[0],h=c[1];return function(p,m,g){return l(f(p,m,g),h(p,m,g))}}return function(p,m,g){return l.apply(null,Pm(c,function(y){return y(p,m,g)}))}}forEach(o){for(var a=0;a<this.args.length;a++)o(this.args[a],"args["+a+"]",this)}map(o){for(var a=[],l=0;l<this.args.length;l++)a[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,a,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!1);if(1===c.length){var d=lx(this,a),f=c[0].toString(o);u[0]&&(f="("+f+")");var h=/[a-zA-Z]+/.test(this.op);return"right"===d?this.op+(h?" ":"")+f:"left"===d?f+(h?" ":"")+this.op:f+this.op}if(2===c.length){var A=c[0].toString(o),p=c[1].toString(o);return u[0]&&(A="("+A+")"),u[1]&&(p="("+p+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?A+" "+p:A+" "+this.op+" "+p}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var m=c.map(function(g,y){return g=g.toString(o),u[y]&&(g="("+g+")"),g});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?m.join(" "):m.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:xI,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!1);if(1===c.length){var d=lx(this,a),f=c[0].toHTML(o);return u[0]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===d?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+fh(this.op)+"</span>"+f:f+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+fh(this.op)+"</span>"}if(2===c.length){var h=c[0].toHTML(o),A=c[1].toHTML(o);return u[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u[1]&&(A='<span class="math-parenthesis math-round-parenthesis">(</span>'+A+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?h+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+A:h+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+fh(this.op)+"</span>"+A}var p=c.map(function(m,g){return m=m.toHTML(o),u[g]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),m});return c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?p.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):p.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+fh(this.op)+"</span>"):'<span class="math-function">'+fh(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!0),d=ns[this.fn];if(d=typeof d>"u"?this.op:d,1===c.length){var f=lx(this,a),h=c[0].toTex(o);return u[0]&&(h="\\left(".concat(h,"\\right)")),"right"===f?d+h:h+d}if(2===c.length){var A=c[0],p=A.toTex(o);u[0]&&(p="\\left(".concat(p,"\\right)"));var y,g=c[1].toTex(o);switch(u[1]&&(g="\\left(".concat(g,"\\right)")),y="keep"===a?A.getIdentifier():A.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return d+"{"+p+"}{"+g+"}";case"OperatorNode:pow":switch(p="{"+p+"}",g="{"+g+"}",y){case"ConditionalNode":case"OperatorNode:divide":p="\\left(".concat(p,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===l)return p+"~"+g}return p+d+g}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var v=c.map(function(_,C){return _=_.toTex(o),u[C]&&(_="\\left(".concat(_,"\\right)")),_});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===l?v.join("~"):v.join(d)}return"\\mathrm{"+this.fn+"}\\left("+c.map(function(_){return _.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return cl(i,"name",xI),i},{isClass:!0,isNode:!0}),DI="ParenthesisNode",q5e=ye(DI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),!Qs(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return DI}get isParenthesisNode(){return!0}_compile(i,s){return this.content._compile(i,s)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var s=i(this.content,"content",this);return new t(s)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:DI,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return cl(t,"name",DI),t},{isClass:!0,isNode:!0}),MI="RelationalNode",$5e=ye(MI,["Node"],n=>{var{Node:e}=n,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends e{constructor(s,o){if(super(),!Array.isArray(s))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(s.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=s,this.params=o}get type(){return MI}get isRelationalNode(){return!0}_compile(s,o){var a=this,l=this.params.map(c=>c._compile(s,o));return function(u,d,f){for(var h,A=l[0](u,d,f),p=0;p<a.conditionals.length;p++)if(h=A,A=l[p+1](u,d,f),!du(s,a.conditionals[p])(h,A))return!1;return!0}}forEach(s){this.params.forEach((o,a)=>s(o,"params["+a+"]",this),this)}map(s){return new r(this.conditionals.slice(),this.params.map((o,a)=>this._ifNode(s(o,"params["+a+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ws(this,o,s&&s.implicit),l=this.params.map(function(d,f){var h=Ws(d,o,s&&s.implicit);return"all"===o||null!==h&&h<=a?"("+d.toString(s)+")":d.toString(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=" "+t[this.conditionals[u]],c+=" "+l[u+1];return c}toJSON(){return{mathjs:MI,conditionals:this.conditionals,params:this.params}}static fromJSON(s){return new r(s.conditionals,s.params)}_toHTML(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ws(this,o,s&&s.implicit),l=this.params.map(function(d,f){var h=Ws(d,o,s&&s.implicit);return"all"===o||null!==h&&h<=a?'<span class="math-parenthesis math-round-parenthesis">(</span>'+d.toHTML(s)+'<span class="math-parenthesis math-round-parenthesis">)</span>':d.toHTML(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+fh(t[this.conditionals[u]])+"</span>"+l[u+1];return c}_toTex(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ws(this,o,s&&s.implicit),l=this.params.map(function(d,f){var h=Ws(d,o,s&&s.implicit);return"all"===o||null!==h&&h<=a?"\\left("+d.toTex(s)+"\right)":d.toTex(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=ns[this.conditionals[u]]+l[u+1];return c}}return cl(r,"name",MI),r},{isClass:!0,isNode:!0}),TI="ArrayNode",X5e=ye(TI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Qs))throw new TypeError("Array containing Nodes expected")}get type(){return TI}get isArrayNode(){return!0}_compile(i,s){var o=Pm(this.items,function(c){return c._compile(i,s)});if("Array"!==i.config.matrix){var l=i.matrix;return function(u,d,f){return l(Pm(o,function(h){return h(u,d,f)}))}}return function(u,d,f){return Pm(o,function(h){return h(u,d,f)})}}forEach(i){for(var s=0;s<this.items.length;s++)i(this.items[s],"items["+s+"]",this)}map(i){for(var s=[],o=0;o<this.items.length;o++)s[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(s)}clone(){return new t(this.items.slice(0))}_toString(i){return"["+this.items.map(function(o){return o.toString(i)}).join(", ")+"]"}toJSON(){return{mathjs:TI,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(o){return o.toHTML(i)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){return function s(o,a){var l=o.some(hh)&&!o.every(hh),c=a||l,u=c?"&":"\\\\",d=o.map(function(f){return f.items?s(f.items,!a):f.toTex(i)}).join(u);return l||!c||c&&!a?"\\begin{bmatrix}"+d+"\\end{bmatrix}":d}(this.items,!1)}}return cl(t,"name",TI),t},{isClass:!0,isNode:!0}),BI="BlockNode",J5e=ye(BI,["ResultSet","Node"],n=>{var{ResultSet:e,Node:t}=n;class r extends t{constructor(s){if(super(),!Array.isArray(s))throw new Error("Array expected");this.blocks=s.map(function(o){var a=o&&o.node,l=!o||void 0===o.visible||o.visible;if(!Qs(a))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof l)throw new TypeError('Property "visible" must be a boolean');return{node:a,visible:l}})}get type(){return BI}get isBlockNode(){return!0}_compile(s,o){var a=Pm(this.blocks,function(l){return{evaluate:l.node._compile(s,o),visible:l.visible}});return function(c,u,d){var f=[];return Xee(a,function(A){var p=A.evaluate(c,u,d);A.visible&&f.push(p)}),new e(f)}}forEach(s){for(var o=0;o<this.blocks.length;o++)s(this.blocks[o].node,"blocks["+o+"].node",this)}map(s){for(var o=[],a=0;a<this.blocks.length;a++){var l=this.blocks[a],c=this._ifNode(s(l.node,"blocks["+a+"].node",this));o[a]={node:c,visible:l.visible}}return new r(o)}clone(){var s=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new r(s)}_toString(s){return this.blocks.map(function(o){return o.node.toString(s)+(o.visible?"":";")}).join("\n")}toJSON(){return{mathjs:BI,blocks:this.blocks}}static fromJSON(s){return new r(s.blocks)}_toHTML(s){return this.blocks.map(function(o){return o.node.toHTML(s)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(s){return this.blocks.map(function(o){return o.node.toTex(s)+(o.visible?"":";")}).join("\\;\\;\n")}}return cl(r,"name",BI),r},{isClass:!0,isNode:!0}),NI="ConditionalNode",eLe=ye(NI,["Node"],n=>{var{Node:e}=n;class r extends e{constructor(s,o,a){if(super(),!Qs(s))throw new TypeError("Parameter condition must be a Node");if(!Qs(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Qs(a))throw new TypeError("Parameter falseExpr must be a Node");this.condition=s,this.trueExpr=o,this.falseExpr=a}get type(){return NI}get isConditionalNode(){return!0}_compile(s,o){var a=this.condition._compile(s,o),l=this.trueExpr._compile(s,o),c=this.falseExpr._compile(s,o);return function(d,f,h){return function t(i){if("number"==typeof i||"boolean"==typeof i||"string"==typeof i)return!!i;if(i){if(Kr(i))return!i.isZero();if(Gp(i))return!(!i.re&&!i.im);if(uh(i))return!!i.value}if(null==i)return!1;throw new TypeError('Unsupported type of condition "'+no(i)+'"')}(a(d,f,h))?l(d,f,h):c(d,f,h)}}forEach(s){s(this.condition,"condition",this),s(this.trueExpr,"trueExpr",this),s(this.falseExpr,"falseExpr",this)}map(s){return new r(this._ifNode(s(this.condition,"condition",this)),this._ifNode(s(this.trueExpr,"trueExpr",this)),this._ifNode(s(this.falseExpr,"falseExpr",this)))}clone(){return new r(this.condition,this.trueExpr,this.falseExpr)}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ws(this,o,s&&s.implicit),l=this.condition.toString(s),c=Ws(this.condition,o,s&&s.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=a)&&(l="("+l+")");var u=this.trueExpr.toString(s),d=Ws(this.trueExpr,o,s&&s.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==d&&d<=a)&&(u="("+u+")");var f=this.falseExpr.toString(s),h=Ws(this.falseExpr,o,s&&s.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==h&&h<=a)&&(f="("+f+")"),l+" ? "+u+" : "+f}toJSON(){return{mathjs:NI,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(s){return new r(s.condition,s.trueExpr,s.falseExpr)}_toHTML(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ws(this,o,s&&s.implicit),l=this.condition.toHTML(s),c=Ws(this.condition,o,s&&s.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=a)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.trueExpr.toHTML(s),d=Ws(this.trueExpr,o,s&&s.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==d&&d<=a)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var f=this.falseExpr.toHTML(s),h=Ws(this.falseExpr,o,s&&s.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==h&&h<=a)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+u+'<span class="math-operator math-conditional-operator">:</span>'+f}_toTex(s){return"\\begin{cases} {"+this.trueExpr.toTex(s)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(s)+"}\\\\{"+this.falseExpr.toTex(s)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return cl(r,"name",NI),r},{isClass:!0,isNode:!0}),II="ConstantNode",nLe=ye(II,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){super(),this.value=i}get type(){return II}get isConstantNode(){return!0}_compile(i,s){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return Ai(this.value,i)}_toHTML(i){var s=this._toString(i);switch(no(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+s+"</span>";case"string":return'<span class="math-string">'+s+"</span>";case"boolean":return'<span class="math-boolean">'+s+"</span>";case"null":return'<span class="math-null-symbol">'+s+"</span>";case"undefined":return'<span class="math-undefined">'+s+"</span>";default:return'<span class="math-symbol">'+s+"</span>"}}toJSON(){return{mathjs:II,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var s=this._toString(i),o=no(this.value);switch(o){case"string":return"\\mathtt{"+z8(s)+"}";case"number":case"BigNumber":if(!("BigNumber"===o?this.value.isFinite():isFinite(this.value)))return this.value.valueOf()<0?"-\\infty":"\\infty";var l=s.toLowerCase().indexOf("e");return-1!==l?s.substring(0,l)+"\\cdot10^{"+s.substring(l+1)+"}":s;case"bigint":return s.toString();case"Fraction":return this.value.toLatex();default:return s}}}return cl(t,"name",II),t},{isClass:!0,isNode:!0}),FI="RangeNode",iLe=ye(FI,["Node"],n=>{var{Node:e}=n;function t(i,s,o){var a=Ws(i,s,o),l={},c=Ws(i.start,s,o);if(l.start=null!==c&&c<=a||"all"===s,i.step){var u=Ws(i.step,s,o);l.step=null!==u&&u<=a||"all"===s}var d=Ws(i.end,s,o);return l.end=null!==d&&d<=a||"all"===s,l}class r extends e{constructor(s,o,a){if(super(),!Qs(s))throw new TypeError("Node expected");if(!Qs(o))throw new TypeError("Node expected");if(a&&!Qs(a))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=s,this.end=o,this.step=a||null}get type(){return FI}get isRangeNode(){return!0}needsEnd(){return this.filter(function(o){return Nl(o)&&"end"===o.name}).length>0}_compile(s,o){var a=s.range,l=this.start._compile(s,o),c=this.end._compile(s,o);if(this.step){var u=this.step._compile(s,o);return function(f,h,A){return a(l(f,h,A),c(f,h,A),u(f,h,A))}}return function(f,h,A){return a(l(f,h,A),c(f,h,A))}}forEach(s){s(this.start,"start",this),s(this.end,"end",this),this.step&&s(this.step,"step",this)}map(s){return new r(this._ifNode(s(this.start,"start",this)),this._ifNode(s(this.end,"end",this)),this.step&&this._ifNode(s(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(s){var l,a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),c=this.start.toString(s);if(a.start&&(c="("+c+")"),l=c,this.step){var u=this.step.toString(s);a.step&&(u="("+u+")"),l+=":"+u}var d=this.end.toString(s);return a.end&&(d="("+d+")"),l+":"+d}toJSON(){return{mathjs:FI,start:this.start,end:this.end,step:this.step}}static fromJSON(s){return new r(s.start,s.end,s.step)}_toHTML(s){var l,a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),c=this.start.toHTML(s);if(a.start&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=c,this.step){var u=this.step.toHTML(s);a.step&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+u}var d=this.end.toHTML(s);return a.end&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-range-operator">:</span>'+d}_toTex(s){var a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),l=this.start.toTex(s);if(a.start&&(l="\\left(".concat(l,"\\right)")),this.step){var c=this.step.toTex(s);a.step&&(c="\\left(".concat(c,"\\right)")),l+=":"+c}var u=this.end.toTex(s);return a.end&&(u="\\left(".concat(u,"\\right)")),l+":"+u}}return cl(r,"name",FI),r},{isClass:!0,isNode:!0}),aLe=ye("reviver",["classes"],n=>{var{classes:e}=n;return function(r,i){var s=e[i&&i.mathjs];return s&&"function"==typeof s.fromJSON?s.fromJSON(i):i}}),uLe=ye("Chain",["?on","math","typed"],n=>{var{on:e,math:t,typed:r}=n;function i(c){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.value=Bee(c)?c.value:c}function o(c,u){!function kPe(n,e,t){var i,r=!0;Object.defineProperty(n,e,{get:function(){return r&&(i=t(),r=!1),i},set:function(o){i=o,r=!1},configurable:!0,enumerable:!0})}(i.prototype,c,function(){var f=u();if("function"==typeof f)return a(f)})}function a(c){return function(){if(0===arguments.length)return new i(c(this.value));for(var u=[this.value],d=0;d<arguments.length;d++)u[d+1]=arguments[d];if(r.isTypedFunction(c)){var f=r.resolve(c,u);if(1===f.params.length)throw new Error("chain function "+c.name+" cannot match rest parameter between chain value and additional arguments.");return new i(f.implementation.apply(c,u))}return new i(c.apply(c,u))}}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return Ai(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(c){return new i(c.value)},i.createProxy=function(c,u){if("string"==typeof c)!function s(c,u){"function"==typeof u&&(i.prototype[c]=a(u))}(c,u);else{var d=function(A){qn(c,A)&&void 0===l[A]&&o(A,()=>c[A])};for(var f in c)d(f)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(c,u,d){d||o(c,u)}),i},{isClass:!0}),RI="FunctionAssignmentNode",hLe=ye(RI,["typed","Node"],n=>{var{typed:e,Node:t}=n;function r(s,o,a){var l=Ws(s,o,a),c=Ws(s.expr,o,a);return"all"===o||null!==c&&c<=l}class i extends t{constructor(o,a,l){if(super(),"string"!=typeof o)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(a))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Qs(l))throw new TypeError('Node expected for parameter "expr"');if(Nee.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var c=new Set;for(var u of a){var d="string"==typeof u?u:u.name;if(c.has(d))throw new Error('Duplicate parameter name "'.concat(d,'"'));c.add(d)}this.name=o,this.params=a.map(function(f){return f&&f.name||f}),this.types=a.map(function(f){return f&&f.type||"any"}),this.expr=l}get type(){return RI}get isFunctionAssignmentNode(){return!0}_compile(o,a){var l=Object.create(a);Xee(this.params,function(A){l[A]=!0});var c=this.expr._compile(o,l),u=this.name,d=this.params,f=Jee(this.types,","),h=u+"("+Jee(this.params,", ")+")";return function(p,m,g){var y={};y[f]=function(){for(var _=Object.create(m),C=0;C<d.length;C++)_[d[C]]=arguments[C];return c(p,_,g)};var v=e(u,y);return v.syntax=h,p.set(u,v),v}}forEach(o){o(this.expr,"expr",this)}map(o){var a=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),a)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return r(this,a,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:RI,name:this.name,params:this.params.map(function(a,l){return{name:a,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",l=[],c=0;c<this.params.length;c++)l.push('<span class="math-symbol math-parameter">'+fh(this.params[c])+"</span>");var u=this.expr.toHTML(o);return r(this,a,o&&o.implicit)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+fh(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+u}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return r(this,a,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(ite).join(",")+"\\right)="+l}}return cl(i,"name",RI),i},{isClass:!0,isNode:!0}),ALe=ye("chain",["typed","Chain"],n=>{var{typed:e,Chain:t}=n;return e("chain",{"":function(){return new t},any:function(i){return new t(i)}})}),OI="IndexNode",gLe=ye(OI,["Node","size"],n=>{var{Node:e,size:t}=n;class r extends e{constructor(s,o){if(super(),this.dimensions=s,this.dotNotation=o||!1,!Array.isArray(s)||!s.every(Qs))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return OI}get isIndexNode(){return!0}_compile(s,o){var a=Pm(this.dimensions,function(c,u){if(c.filter(A=>A.isSymbolNode&&"end"===A.name).length>0){var f=Object.create(o);f.end=!0;var h=c._compile(s,f);return function(p,m,g){if(!mr(g)&&!Vs(g)&&!Ic(g))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+no(g));var y=t(g).valueOf(),v=Object.create(m);return v.end=y[u],h(p,v,g)}}return c._compile(s,o)}),l=du(s,"index");return function(u,d,f){var h=Pm(a,function(A){return A(u,d,f)});return l(...h)}}forEach(s){for(var o=0;o<this.dimensions.length;o++)s(this.dimensions[o],"dimensions["+o+"]",this)}map(s){for(var o=[],a=0;a<this.dimensions.length;a++)o[a]=this._ifNode(s(this.dimensions[a],"dimensions["+a+"]",this));return new r(o,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&Hi(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(s){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:OI,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(s){return new r(s.dimensions,s.dotNotation)}_toHTML(s){for(var o=[],a=0;a<this.dimensions.length;a++)o[a]=this.dimensions[a].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+fh(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(s){var o=this.dimensions.map(function(a){return a.toTex(s)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return cl(r,"name",OI),r},{isClass:!0,isNode:!0});function hu(n){return n&&n.isIndexError?new _f(n.index+1,n.min+1,void 0!==n.max?n.max+1:void 0):n}function ote(n){var{subset:e}=n;return function(r,i){try{if(Array.isArray(r))return e(r,i);if(r&&"function"==typeof r.subset)return r.subset(i);if("string"==typeof r)return e(r,i);if("object"==typeof r){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return du(r,i.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw hu(s)}}}var PI="AccessorNode",vLe=ye(PI,["subset","Node"],n=>{var{subset:e,Node:t}=n,r=ote({subset:e});function i(o){return!(K0(o)||hh(o)||Hi(o)||Fm(o)||mI(o)||jp(o)||Nl(o))}class s extends t{constructor(a,l){if(super(),!Qs(a))throw new TypeError('Node expected for parameter "object"');if(!Eb(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=a,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return PI}get isAccessorNode(){return!0}_compile(a,l){var c=this.object._compile(a,l),u=this.index._compile(a,l);if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(h,A,p){return du(c(h,A,p),d)}}return function(h,A,p){var m=c(h,A,p),g=u(h,A,m);return r(m,g)}}forEach(a){a(this.object,"object",this),a(this.index,"index",this)}map(a){return new s(this._ifNode(a(this.object,"object",this)),this._ifNode(a(this.index,"index",this)))}clone(){return new s(this.object,this.index)}_toString(a){var l=this.object.toString(a);return i(this.object)&&(l="("+l+")"),l+this.index.toString(a)}_toHTML(a){var l=this.object.toHTML(a);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(a)}_toTex(a){var l=this.object.toTex(a);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(a)}toJSON(){return{mathjs:PI,object:this.object,index:this.index}}static fromJSON(a){return new s(a.object,a.index)}}return cl(s,"name",PI),s},{isClass:!0,isNode:!0}),LI="AssignmentNode",bLe=ye(LI,["subset","?matrix","Node"],n=>{var{subset:e,matrix:t,Node:r}=n,i=ote({subset:e}),s=function yLe(n){var{subset:e,matrix:t}=n;return function(i,s,o){try{if(Array.isArray(i))return t(i).subset(s,o).valueOf().forEach((l,c)=>{i[c]=l}),i;if(i&&"function"==typeof i.subset)return i.subset(s,o);if("string"==typeof i)return e(i,s,o);if("object"==typeof i){if(!s.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return bb(i,s.getObjectProperty(),o),i}throw new TypeError("Cannot apply index: unsupported type of object")}catch(l){throw hu(l)}}}({subset:e,matrix:t});function o(l,c,u){c||(c="keep");var d=Ws(l,c,u),f=Ws(l.value,c,u);return"all"===c||null!==f&&f<=d}class a extends r{constructor(c,u,d){if(super(),this.object=c,this.index=d?u:null,this.value=d||u,!Nl(c)&&!K0(c))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Nl(c)&&"end"===c.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!Eb(this.index))throw new TypeError('IndexNode expected as "index"');if(!Qs(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return LI}get isAssignmentNode(){return!0}_compile(c,u){var d=this.object._compile(c,u),f=this.index?this.index._compile(c,u):null,h=this.value._compile(c,u),A=this.object.name;if(this.index){if(this.index.isObjectProperty()){var p=this.index.getObjectProperty();return function(_,C,b){var M=d(_,C,b),D=h(_,C,b);return bb(M,p,D),D}}if(Nl(this.object))return function(_,C,b){var M=d(_,C,b),D=h(_,C,b),S=f(_,C,M);return _.set(A,s(M,S,D)),D};var m=this.object.object._compile(c,u);if(this.object.index.isObjectProperty()){var g=this.object.index.getObjectProperty();return function(_,C,b){var M=m(_,C,b),D=du(M,g),S=f(_,C,D),T=h(_,C,b);return bb(M,g,s(D,S,T)),T}}var y=this.object.index._compile(c,u);return function(_,C,b){var M=m(_,C,b),D=y(_,C,M),S=i(M,D),T=f(_,C,S),B=h(_,C,b);return s(M,D,s(S,T,B)),B}}if(!Nl(this.object))throw new TypeError("SymbolNode expected as object");return function(_,C,b){var M=h(_,C,b);return _.set(A,M),M}}forEach(c){c(this.object,"object",this),this.index&&c(this.index,"index",this),c(this.value,"value",this)}map(c){var u=this._ifNode(c(this.object,"object",this)),d=this.index?this._ifNode(c(this.index,"index",this)):null,f=this._ifNode(c(this.value,"value",this));return new a(u,d,f)}clone(){return new a(this.object,this.index,this.value)}_toString(c){var u=this.object.toString(c),d=this.index?this.index.toString(c):"",f=this.value.toString(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(f="("+f+")"),u+d+" = "+f}toJSON(){return{mathjs:LI,object:this.object,index:this.index,value:this.value}}static fromJSON(c){return new a(c.object,c.index,c.value)}_toHTML(c){var u=this.object.toHTML(c),d=this.index?this.index.toHTML(c):"",f=this.value.toHTML(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(f='<span class="math-paranthesis math-round-parenthesis">(</span>'+f+'<span class="math-paranthesis math-round-parenthesis">)</span>'),u+d+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+f}_toTex(c){var u=this.object.toTex(c),d=this.index?this.index.toTex(c):"",f=this.value.toTex(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(f="\\left(".concat(f,"\\right)")),u+d+"="+f}}return cl(a,"name",LI),a},{isClass:!0,isNode:!0}),ELe=ye("SymbolNode",["math","?Unit","Node"],n=>{var{math:e,Unit:t,Node:r}=n;function i(o){return!!t&&t.isValuelessUnit(o)}class s extends r{constructor(a){if(super(),"string"!=typeof a)throw new TypeError('String expected for parameter "name"');this.name=a}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(a,l){var c=this.name;if(!0===l[c])return function(d,f,h){return du(f,c)};if(c in a)return function(d,f,h){return d.has(c)?d.get(c):du(a,c)};var u=i(c);return function(d,f,h){return d.has(c)?d.get(c):u?new t(null,c):s.onUndefinedSymbol(c)}}forEach(a){}map(a){return this.clone()}static onUndefinedSymbol(a){throw new Error("Undefined symbol "+a)}clone(){return new s(this.name)}_toString(a){return this.name}_toHTML(a){var l=fh(this.name);return"true"===l||"false"===l?'<span class="math-symbol math-boolean">'+l+"</span>":"i"===l?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":"Infinity"===l?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":"NaN"===l?'<span class="math-symbol math-nan-symbol">'+l+"</span>":"null"===l?'<span class="math-symbol math-null-symbol">'+l+"</span>":"undefined"===l?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(a){return new s(a.name)}_toTex(a){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var c=ite(this.name,l);return"\\"===c[0]?c:" "+c}}return s},{isClass:!0,isNode:!0}),UI="FunctionNode",xLe=ye(UI,["math","Node","SymbolNode"],n=>{var e,{math:t,Node:r,SymbolNode:i}=n,s=l=>Ai(l,{truncate:78});function o(l,c,u){for(var A,d="",f=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,h=0;null!==(A=f.exec(l));)if(d+=l.substring(h,A.index),h=A.index,"$$"===A[0])d+="$",h++;else{h+=A[0].length;var p=c[A[1]];if(!p)throw new ReferenceError("Template: Property "+A[1]+" does not exist.");if(void 0===A[2])switch(typeof p){case"string":d+=p;break;case"object":if(Qs(p))d+=p.toTex(u);else{if(!Array.isArray(p))throw new TypeError("Template: "+A[1]+" has to be a Node, String or array of Nodes");d+=p.map(function(m,g){if(Qs(m))return m.toTex(u);throw new TypeError("Template: "+A[1]+"["+g+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+A[1]+" has to be a Node, String or array of Nodes")}else{if(!Qs(p[A[2]]&&p[A[2]]))throw new TypeError("Template: "+A[1]+"["+A[2]+"] is not a Node.");d+=p[A[2]].toTex(u)}}return d+l.slice(h)}class a extends r{constructor(c,u){if(super(),"string"==typeof c&&(c=new i(c)),!Qs(c))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(u)||!u.every(Qs))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=c,this.args=u||[]}get name(){return this.fn.name||""}get type(){return UI}get isFunctionNode(){return!0}_compile(c,u){var d=this.args.map(D=>D._compile(c,u));if(!Nl(this.fn)){if(K0(this.fn)&&Eb(this.fn.index)&&this.fn.index.isObjectProperty()){var y=this.fn.object._compile(c,u),v=this.fn.index.getObjectProperty(),_=this.args;return function(S,T,B){var R=y(S,T,B),U=function QPe(n,e){if(!T8(n,e))throw new Error('No access to method "'+e+'"');return n[e]}(R,v);if(null!=U&&U.rawArgs)return U(_,c,ax(S,T));var k=d.map(q=>q(S,T,B));return U.apply(R,k)}}var C=this.fn.toString(),b=this.fn._compile(c,u),M=this.args;return function(S,T,B){var R=b(S,T,B);if("function"!=typeof R)throw new TypeError("Expression '".concat(C,"' did not evaluate to a function; value is:")+"\n  ".concat(s(R)));if(R.rawArgs)return R(M,c,ax(S,T));var U=d.map(k=>k(S,T,B));return R.apply(R,U)}}var f=this.fn.name;if(u[f]){var g=this.args;return function(S,T,B){var R=du(T,f);if("function"!=typeof R)throw new TypeError("Argument '".concat(f,"' was not a function; received: ").concat(s(R)));if(R.rawArgs)return R(g,c,ax(S,T));var U=d.map(k=>k(S,T,B));return R.apply(R,U)}}var h=f in c?du(c,f):void 0,p=D=>{var S;if(D.has(f))S=D.get(f);else{if(!(f in c))return a.onUndefinedFunction(f);S=du(c,f)}if("function"==typeof S)return S;throw new TypeError("'".concat(f,"' is not a function; its value is:\n  ").concat(s(S)))};if("function"==typeof h&&!0===h.rawArgs){var m=this.args;return function(S,T,B){var R=p(S);return!0===R.rawArgs?R(m,c,ax(S,T)):R(...d.map(k=>k(S,T,B)))}}switch(d.length){case 0:return function(S,T,B){return p(S)()};case 1:return function(S,T,B){return p(S)((0,d[0])(S,T,B))};case 2:return function(S,T,B){var R=p(S),k=d[1];return R((0,d[0])(S,T,B),k(S,T,B))};default:return function(S,T,B){return p(S)(...d.map(k=>k(S,T,B)))}}}forEach(c){c(this.fn,"fn",this);for(var u=0;u<this.args.length;u++)c(this.args[u],"args["+u+"]",this)}map(c){for(var u=this._ifNode(c(this.fn,"fn",this)),d=[],f=0;f<this.args.length;f++)d[f]=this._ifNode(c(this.args[f],"args["+f+"]",this));return new a(u,d)}clone(){return new a(this.fn,this.args.slice(0))}toString(c){var u,d=this.fn.toString(c);return c&&"object"==typeof c.handler&&qn(c.handler,d)&&(u=c.handler[d](this,c)),typeof u<"u"?u:super.toString(c)}_toString(c){var u=this.args.map(function(f){return f.toString(c)});return(ix(this.fn)?"("+this.fn.toString(c)+")":this.fn.toString(c))+"("+u.join(", ")+")"}toJSON(){return{mathjs:UI,fn:this.fn,args:this.args}}_toHTML(c){var u=this.args.map(function(d){return d.toHTML(c)});return'<span class="math-function">'+fh(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(c){var u;return c&&"object"==typeof c.handler&&qn(c.handler,this.name)&&(u=c.handler[this.name](this,c)),typeof u<"u"?u:super.toTex(c)}_toTex(c){var d,f,u=this.args.map(function(h){return h.toTex(c)});switch(nte[this.name]&&(d=nte[this.name]),t[this.name]&&("function"==typeof t[this.name].toTex||"object"==typeof t[this.name].toTex||"string"==typeof t[this.name].toTex)&&(d=t[this.name].toTex),typeof d){case"function":f=d(this,c);break;case"string":f=o(d,this,c);break;case"object":switch(typeof d[u.length]){case"function":f=d[u.length](this,c);break;case"string":f=o(d[u.length],this,c)}}return typeof f<"u"?f:o("\\mathrm{${name}}\\left(${args}\\right)",this,c)}getIdentifier(){return this.type+":"+this.name}}return e=a,cl(a,"name",UI),cl(a,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),cl(a,"fromJSON",function(l){return new e(l.fn,l.args)}),a},{isClass:!0,isNode:!0});function ate(n){var r,i,e=n.length,t=n[0].length,s=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);s.push(o)}return s}function Bb(n){for(var e=0;e<n.length;e++)if(dh(n[e]))return!0;return!1}function qp(n,e){mr(n)&&(n=n.valueOf());for(var t=0,r=n.length;t<r;t++){var i=n[t];Array.isArray(i)?qp(i,e):e(i)}}function Qr(n,e,t){return n&&"function"==typeof n.map?n.map(function(r){return Qr(r,e,t)}):e(n)}function kI(n,e,t){var r=Array.isArray(n)?Tr(n):n.size();if(e<0||e>=r.length)throw new _f(e,r.length);return mr(n)?n.create(HI(n.valueOf(),e,t),n.datatype()):HI(n,e,t)}function HI(n,e,t){var r,i,s,o;if(e<=0){if(Array.isArray(n[0])){for(o=ate(n),i=[],r=0;r<o.length;r++)i[r]=HI(o[r],e-1,t);return i}for(s=n[0],r=1;r<n.length;r++)s=t(s,n[r]);return s}for(i=[],r=0;r<n.length;r++)i[r]=HI(n[r],e-1,t);return i}function lte(n,e,t,r,i,s,o,a,l,c,u){var A,m,g,d=n._values,f=n._index,h=n._ptr;if(r)for(m=h[e+1],A=h[e];A<m;A++)t[g=f[A]]!==s?(t[g]=s,o.push(g),c?(r[g]=l?a(d[A],u):a(u,d[A]),i[g]=s):r[g]=d[A]):(r[g]=l?a(d[A],r[g]):a(r[g],d[A]),i[g]=s);else for(m=h[e+1],A=h[e];A<m;A++)t[g=f[A]]!==s?(t[g]=s,o.push(g)):i[g]=s}var MLe=ye("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],n=>{var{typed:e,numeric:t,config:r,AccessorNode:i,ArrayNode:s,AssignmentNode:o,BlockNode:a,ConditionalNode:l,ConstantNode:c,FunctionAssignmentNode:u,FunctionNode:d,IndexNode:f,ObjectNode:h,OperatorNode:A,ParenthesisNode:p,RangeNode:m,RelationalNode:g,SymbolNode:y}=n,v=e("parse",{string:function(Fe){return ve(Fe,{})},"Array | Matrix":function(Fe){return _(Fe,{})},"string, Object":function(Fe,Xe){return ve(Fe,void 0!==Xe.nodes?Xe.nodes:{})},"Array | Matrix, Object":_});function _($){var Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Xe=void 0!==Fe.nodes?Fe.nodes:{};return Qr($,function(Ne){if("string"!=typeof Ne)throw new TypeError("String expected");return ve(Ne,Xe)})}var C={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},M={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},D={true:!0,false:!1,null:null,undefined:void 0},S=["NaN","Infinity"],T={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function R($,Fe){return $.expression.substr($.index,Fe)}function U($){return R($,1)}function k($){$.index++}function q($){return $.expression.charAt($.index-1)}function O($){return $.expression.charAt($.index+1)}function P($){for($.tokenType=C.NULL,$.token="",$.comment="";;){if("#"===U($))for(;"\n"!==U($)&&""!==U($);)$.comment+=U($),k($);if(!v.isWhitespace(U($),$.nestingLevel))break;k($)}if(""!==U($)){if("\n"===U($)&&!$.nestingLevel)return $.tokenType=C.DELIMITER,$.token=U($),void k($);var Fe=U($),Xe=R($,2),Ne=R($,3);if(3===Ne.length&&b[Ne])return $.tokenType=C.DELIMITER,$.token=Ne,k($),k($),void k($);if(2===Xe.length&&b[Xe])return $.tokenType=C.DELIMITER,$.token=Xe,k($),void k($);if(b[Fe])return $.tokenType=C.DELIMITER,$.token=Fe,void k($);if(v.isDigitDot(Fe)){$.tokenType=C.NUMBER;var xt=R($,2);if("0b"===xt||"0o"===xt||"0x"===xt){for($.token+=U($),k($),$.token+=U($),k($);v.isHexDigit(U($));)$.token+=U($),k($);if("."===U($))for($.token+=".",k($);v.isHexDigit(U($));)$.token+=U($),k($);else if("i"===U($))for($.token+="i",k($);v.isDigit(U($));)$.token+=U($),k($);return}if("."===U($)){if($.token+=U($),k($),!v.isDigit(U($)))return void($.tokenType=C.DELIMITER)}else{for(;v.isDigit(U($));)$.token+=U($),k($);v.isDecimalMark(U($),O($))&&($.token+=U($),k($))}for(;v.isDigit(U($));)$.token+=U($),k($);if("E"===U($)||"e"===U($))if(v.isDigit(O($))||"-"===O($)||"+"===O($)){if($.token+=U($),k($),("+"===U($)||"-"===U($))&&($.token+=U($),k($)),!v.isDigit(U($)))throw Sn($,'Digit expected, got "'+U($)+'"');for(;v.isDigit(U($));)$.token+=U($),k($);if(v.isDecimalMark(U($),O($)))throw Sn($,'Digit expected, got "'+U($)+'"')}else if("."===O($))throw k($),Sn($,'Digit expected, got "'+U($)+'"')}else{if(!v.isAlpha(U($),q($),O($))){for($.tokenType=C.UNKNOWN;""!==U($);)$.token+=U($),k($);throw Sn($,'Syntax error in part "'+$.token+'"')}for(;v.isAlpha(U($),q($),O($))||v.isDigit(U($));)$.token+=U($),k($);$.tokenType=qn(M,$.token)?C.DELIMITER:C.SYMBOL}}else $.tokenType=C.DELIMITER}function G($){do{P($)}while("\n"===$.token)}function H($){$.nestingLevel++}function ae($){$.nestingLevel--}function ve($,Fe){var Xe=function B(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:C.NULL,nestingLevel:0,conditionalLevel:null}}();ll(Xe,{expression:$,extraNodes:Fe}),P(Xe);var Ne=function Q($){var Fe,Xe=[];for(""!==$.token&&"\n"!==$.token&&";"!==$.token&&(Fe=j($),$.comment&&(Fe.comment=$.comment));"\n"===$.token||";"===$.token;)0===Xe.length&&Fe&&Xe.push({node:Fe,visible:";"!==$.token}),P($),"\n"!==$.token&&";"!==$.token&&""!==$.token&&(Fe=j($),$.comment&&(Fe.comment=$.comment),Xe.push({node:Fe,visible:";"!==$.token}));return Xe.length>0?new a(Xe):(Fe||(Fe=new c(void 0),$.comment&&(Fe.comment=$.comment)),Fe)}(Xe);if(""!==Xe.token)throw Xe.tokenType===C.DELIMITER?an(Xe,"Unexpected operator "+Xe.token):Sn(Xe,'Unexpected part "'+Xe.token+'"');return Ne}function j($){var Fe,Xe,Ne,xt,rt=function K($){for(var Fe=function oe($){for(var Fe=se($);"or"===$.token;)G($),Fe=new A("or","or",[Fe,se($)]);return Fe}($);"?"===$.token;){var Xe=$.conditionalLevel;$.conditionalLevel=$.nestingLevel,G($);var Ne=Fe,xt=j($);if(":"!==$.token)throw Sn($,"False part of conditional expression expected");$.conditionalLevel=null,G($);var rt=j($);Fe=new l(Ne,xt,rt),$.conditionalLevel=Xe}return Fe}($);if("="===$.token){if(Nl(rt))return Fe=rt.name,G($),Ne=j($),new o(new y(Fe),Ne);if(K0(rt))return G($),Ne=j($),new o(rt.object,rt.index,Ne);if(Fm(rt)&&Nl(rt.fn)&&(xt=!0,Xe=[],Fe=rt.name,rt.args.forEach(function(It,fn){Nl(It)?Xe[fn]=It.name:xt=!1}),xt))return G($),Ne=j($),new u(Fe,Xe,Ne);throw Sn($,"Invalid left hand side of assignment operator =")}return rt}function se($){for(var Fe=le($);"xor"===$.token;)G($),Fe=new A("xor","xor",[Fe,le($)]);return Fe}function le($){for(var Fe=te($);"and"===$.token;)G($),Fe=new A("and","and",[Fe,te($)]);return Fe}function te($){for(var Fe=ee($);"|"===$.token;)G($),Fe=new A("|","bitOr",[Fe,ee($)]);return Fe}function ee($){for(var Fe=Ae($);"^|"===$.token;)G($),Fe=new A("^|","bitXor",[Fe,Ae($)]);return Fe}function Ae($){for(var Fe=Ee($);"&"===$.token;)G($),Fe=new A("&","bitAnd",[Fe,Ee($)]);return Fe}function Ee($){for(var Fe=[ge($)],Xe=[],Ne={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};qn(Ne,$.token);)Xe.push({name:$.token,fn:Ne[$.token]}),G($),Fe.push(ge($));return 1===Fe.length?Fe[0]:2===Fe.length?new A(Xe[0].name,Xe[0].fn,Fe):new g(Xe.map(rt=>rt.fn),Fe)}function ge($){var Fe,Xe,Ne,xt;Fe=Se($);for(var rt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};qn(rt,$.token);)Ne=rt[Xe=$.token],G($),xt=[Fe,Se($)],Fe=new A(Xe,Ne,xt);return Fe}function Se($){var Fe,Xe,Ne,xt;Fe=ne($);for(var rt={to:"to",in:"to"};qn(rt,$.token);)Ne=rt[Xe=$.token],G($),"in"===Xe&&""===$.token?Fe=new A("*","multiply",[Fe,new y("in")],!0):(xt=[Fe,ne($)],Fe=new A(Xe,Ne,xt));return Fe}function ne($){var Fe,Xe=[];if(Fe=":"===$.token?new c(1):Y($),":"===$.token&&$.conditionalLevel!==$.nestingLevel){for(Xe.push(Fe);":"===$.token&&Xe.length<3;)G($),Xe.push(")"===$.token||"]"===$.token||","===$.token||""===$.token?new y("end"):Y($));Fe=3===Xe.length?new m(Xe[0],Xe[2],Xe[1]):new m(Xe[0],Xe[1])}return Fe}function Y($){var Fe,Xe,Ne,xt;Fe=W($);for(var rt={"+":"add","-":"subtract"};qn(rt,$.token);){Ne=rt[Xe=$.token],G($);var It=W($);xt=It.isPercentage?[Fe,new A("*","multiply",[Fe,It])]:[Fe,It],Fe=new A(Xe,Ne,xt)}return Fe}function W($){var Fe,Xe,Ne,xt;Xe=Fe=Be($);for(var rt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};qn(rt,$.token);)if(xt=rt[Ne=$.token],G($),"%"===Ne&&$.tokenType===C.DELIMITER&&"("!==$.token)if(""!==$.token&&rt[$.token]){var It=new A("/","divide",[Fe,new c(100)],!1,!0);xt=rt[Ne=$.token],G($),Xe=Be($),Fe=new A(Ne,xt,[It,Xe])}else Fe=new A("/","divide",[Fe,new c(100)],!1,!0);else Xe=Be($),Fe=new A(Ne,xt,[Fe,Xe]);return Fe}function Be($){var Fe,Xe;for(Xe=Fe=Ce($);$.tokenType===C.SYMBOL||"in"===$.token&&Hi(Fe)||"in"===$.token&&xa(Fe)&&"unaryMinus"===Fe.fn&&Hi(Fe.args[0])||$.tokenType===C.NUMBER&&!Hi(Xe)&&(!xa(Xe)||"!"===Xe.op)||"("===$.token;)Xe=Ce($),Fe=new A("*","multiply",[Fe,Xe],!0);return Fe}function Ce($){for(var Fe=Pe($),Xe=Fe,Ne=[];"/"===$.token&&N8(Xe);){if(Ne.push(ll({},$)),G($),$.tokenType!==C.NUMBER){ll($,Ne.pop());break}if(Ne.push(ll({},$)),G($),$.tokenType!==C.SYMBOL&&"("!==$.token&&"in"!==$.token){Ne.pop(),ll($,Ne.pop());break}ll($,Ne.pop()),Ne.pop(),Xe=Pe($),Fe=new A("/","divide",[Fe,Xe])}return Fe}function Pe($){var Fe,Xe,Ne,xt={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return qn(xt,$.token)?(Ne=xt[$.token],Fe=$.token,G($),Xe=[Pe($)],new A(Fe,Ne,Xe)):function Oe($){var Fe,Xe,Ne,xt;return Fe=function re($){var Fe,Xe,Ne;Fe=function J($){var Fe=[];if($.tokenType===C.SYMBOL&&qn($.extraNodes,$.token)){var Xe=$.extraNodes[$.token];if(P($),"("===$.token){if(Fe=[],H($),P($),")"!==$.token)for(Fe.push(j($));","===$.token;)P($),Fe.push(j($));if(")"!==$.token)throw Sn($,"Parenthesis ) expected");ae($),P($)}return new Xe(Fe)}return function Ue($){var Xe;return $.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M?(Xe=$.token,P($),Qe($,qn(D,Xe)?new c(D[Xe]):S.includes(Xe)?new c(t(Xe,"number")):new y(Xe))):function it($){var Xe;return'"'===$.token||"'"===$.token?(Xe=Ye($,$.token),Qe($,new c(Xe))):function Vt($){var Fe,Xe,Ne,xt;if("["===$.token){if(H($),P($),"]"!==$.token){var rt=kt($);if(";"===$.token){for(Ne=1,Xe=[rt];";"===$.token;)P($),"]"!==$.token&&(Xe[Ne]=kt($),Ne++);if("]"!==$.token)throw Sn($,"End of matrix ] expected");ae($),P($),xt=Xe[0].items.length;for(var It=1;It<Ne;It++)if(Xe[It].items.length!==xt)throw an($,"Column dimensions mismatch ("+Xe[It].items.length+" !== "+xt+")");Fe=new s(Xe)}else{if("]"!==$.token)throw Sn($,"End of matrix ] expected");ae($),P($),Fe=rt}}else ae($),P($),Fe=new s([]);return Qe($,Fe)}return function Ot($){if("{"===$.token){H($);var Fe,Xe={};do{if(P($),"}"!==$.token){if('"'===$.token||"'"===$.token)Fe=Ye($,$.token);else{if(!($.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M))throw Sn($,"Symbol or string expected as object key");Fe=$.token,P($)}if(":"!==$.token)throw Sn($,"Colon : expected after object key");P($),Xe[Fe]=j($)}}while(","===$.token);if("}"!==$.token)throw Sn($,"Comma , or bracket } expected after object value");ae($),P($);var Ne=new h(Xe);return Qe($,Ne)}return function En($){var Fe;if($.tokenType===C.NUMBER){Fe=$.token,P($);var Xe=Rm(Fe,r),Ne=t(Fe,Xe);return new c(Ne)}return function ot($){var Fe;if("("===$.token){if(H($),P($),Fe=j($),")"!==$.token)throw Sn($,"Parenthesis ) expected");return ae($),P($),Qe($,Fe=new p(Fe))}return function wn($){throw Sn($,""===$.token?"Unexpected end of expression":"Value expected")}($)}($)}($)}($)}($)}($)}($)}($);for(var rt={"!":"factorial","'":"ctranspose"};qn(rt,$.token);)Ne=rt[Xe=$.token],P($),Fe=Qe($,Fe=new A(Xe,Ne,[Fe]));return Fe}($),("^"===$.token||".^"===$.token)&&(Ne="^"===(Xe=$.token)?"pow":"dotPow",G($),xt=[Fe,Pe($)],Fe=new A(Xe,Ne,xt)),Fe}($)}function Qe($,Fe,Xe){for(var Ne;("("===$.token||"["===$.token||"."===$.token)&&(!Xe||Xe.includes($.token));)if(Ne=[],"("===$.token){if(!Nl(Fe)&&!K0(Fe))return Fe;if(H($),P($),")"!==$.token)for(Ne.push(j($));","===$.token;)P($),Ne.push(j($));if(")"!==$.token)throw Sn($,"Parenthesis ) expected");ae($),P($),Fe=new d(Fe,Ne)}else if("["===$.token){if(H($),P($),"]"!==$.token)for(Ne.push(j($));","===$.token;)P($),Ne.push(j($));if("]"!==$.token)throw Sn($,"Parenthesis ] expected");ae($),P($),Fe=new i(Fe,new f(Ne))}else{if(P($),!($.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M))throw Sn($,"Property name expected after dot");Ne.push(new c($.token)),P($),Fe=new i(Fe,new f(Ne,!0))}return Fe}function Ye($,Fe){for(var Xe="";""!==U($)&&U($)!==Fe;)if("\\"===U($)){k($);var Ne=U($),xt=T[Ne];if(void 0!==xt)Xe+=xt,$.index+=1;else{if("u"!==Ne)throw Sn($,"Bad escape character \\".concat(Ne));var rt=$.expression.slice($.index+1,$.index+5);if(!/^[0-9A-Fa-f]{4}$/.test(rt))throw Sn($,"Invalid unicode character \\u".concat(rt));Xe+=String.fromCharCode(parseInt(rt,16)),$.index+=5}}else Xe+=U($),k($);if(P($),$.token!==Fe)throw Sn($,"End of string ".concat(Fe," expected"));return P($),Xe}function kt($){for(var Fe=[j($)],Xe=1;","===$.token;)P($),"]"!==$.token&&";"!==$.token&&(Fe[Xe]=j($),Xe++);return new s(Fe)}function vn($){return $.index-$.token.length+1}function Sn($,Fe){var Xe=vn($),Ne=new SyntaxError(Fe+" (char "+Xe+")");return Ne.char=Xe,Ne}function an($,Fe){var Xe=vn($),Ne=new SyntaxError(Fe+" (char "+Xe+")");return Ne.char=Xe,Ne}return v.isAlpha=function(Fe,Xe,Ne){return v.isValidLatinOrGreek(Fe)||v.isValidMathSymbol(Fe,Ne)||v.isValidMathSymbol(Xe,Fe)},v.isValidLatinOrGreek=function(Fe){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Fe)},v.isValidMathSymbol=function(Fe,Xe){return/^[\uD835]$/.test(Fe)&&/^[\uDC00-\uDFFF]$/.test(Xe)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Xe)},v.isWhitespace=function(Fe,Xe){return" "===Fe||"\t"===Fe||"\n"===Fe&&Xe>0},v.isDecimalMark=function(Fe,Xe){return"."===Fe&&"/"!==Xe&&"*"!==Xe&&"^"!==Xe},v.isDigitDot=function(Fe){return Fe>="0"&&Fe<="9"||"."===Fe},v.isDigit=function(Fe){return Fe>="0"&&Fe<="9"},v.isHexDigit=function(Fe){return Fe>="0"&&Fe<="9"||Fe>="a"&&Fe<="f"||Fe>="A"&&Fe<="F"},e.addConversion({from:"string",to:"Node",convert:v}),v}),NLe=ye("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],n=>{var{typed:e,parse:t,ConstantNode:r,FunctionNode:i,OperatorNode:s,ParenthesisNode:o}=n;function a(l,c){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!c)return l;if(Nl(l)){if(u.has(l.name)){var d=Array.from(u).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(d,"}"))}var f=c.get(l.name);if(Qs(f)){var h=new Set(u);return h.add(l.name),a(f,c,h)}return"number"==typeof f?t(String(f)):void 0!==f?new r(f):l}if(xa(l)){var A=l.args.map(function(m){return a(m,c,u)});return new s(l.op,l.fn,A,l.implicit)}if(jp(l))return new o(a(l.content,c,u));if(Fm(l)){var p=l.args.map(function(m){return a(m,c,u)});return new i(l.name,p)}return l.map(m=>a(m,c,u))}return e("resolve",{Node:a,"Node, Map | null | undefined":a,"Node, Object":(l,c)=>a(l,wb(c)),"Array | Matrix":e.referToSelf(l=>c=>c.map(u=>l(u))),"Array | Matrix, null | undefined":e.referToSelf(l=>c=>c.map(u=>l(u))),"Array, Object":e.referTo("Array,Map",l=>(c,u)=>l(c,wb(u))),"Matrix, Object":e.referTo("Matrix,Map",l=>(c,u)=>l(c,wb(u))),"Array | Matrix, Map":e.referToSelf(l=>(c,u)=>c.map(d=>l(d,u)))})});function ute(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function G8(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ute(Object(t),!0).forEach(function(r){cl(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ute(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var j8=ye("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],n=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:r}=n,i=!0,s=!1,o="defaultF",a={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:s,total:i,commutative:s,associative:s},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:s,total:i,commutative:s,associative:s},paren:{trivial:i,total:i,commutative:i,associative:s},defaultF:{trivial:s,total:i,commutative:s,associative:s}};function u(v,_){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,b=o;if("string"==typeof v?b=v:xa(v)?b=v.fn.toString():Fm(v)?b=v.name:jp(v)&&(b="paren"),qn(C,b)){var M=C[b];if(qn(M,_))return M[_];if(qn(a,b))return a[b][_]}if(qn(C,o)){var D=C[o];return qn(D,_)?D[_]:a[o][_]}if(qn(a,b)){var S=a[b];if(qn(S,_))return S[_]}return a[o][_]}function f(v){return u(v,"associative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:a)}function p(v,_){var C,b=[],M=function(S){for(var T=0;T<S.args.length;T++){var B=S.args[T];xa(B)&&C===B.op?M(B):b.push(B)}};return f(v,_)?(C=v.op,M(v),b):v.args}function y(v){return xa(v)?function(_){try{return new t(v.op,v.fn,_,v.implicit)}catch(C){return console.error(C),[]}}:function(_){return new e(new r(v.name),_)}}return{createMakeNodeFunction:y,hasProperty:u,isCommutative:function d(v){return u(v,"commutative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:a)},isAssociative:f,mergeContext:function h(v,_){var C=G8({},v);for(var b in _)C[b]=qn(v,b)?G8(G8({},_[b]),v[b]):_[b];return C},flatten:function A(v,_){if(!v.args||0===v.args.length)return v;v.args=p(v,_);for(var C=0;C<v.args.length;C++)A(v.args[C],_)},allChildren:p,unflattenr:function m(v,_){if(v.args&&0!==v.args.length){for(var C=y(v),b=v.args.length,M=0;M<b;M++)m(v.args[M],_);if(b>2&&f(v,_)){for(var D=v.args.pop();v.args.length>0;)D=C([v.args.pop(),D]);v.args=D.args}}},unflattenl:function g(v,_){if(v.args&&0!==v.args.length){for(var C=y(v),b=v.args.length,M=0;M<b;M++)g(v.args[M],_);if(b>2&&f(v,_)){for(var D=v.args.shift();v.args.length>0;)D=C([D,v.args.shift()]);v.args=D.args}}},defaultContext:a,realContext:{divide:{total:s},log:{total:s}},positiveContext:{subtract:{total:s},abs:{trivial:i},log:{total:i}}}});function q8(){throw new Error('No "bignumber" implementation available')}function dte(){throw new Error('No "fraction" implementation available')}function hte(){throw new Error('No "matrix" implementation available')}var PLe=ye("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],n=>{var{typed:e,config:t,mathWithTransform:r,matrix:i,fraction:s,bignumber:o,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:u,IndexNode:d,ObjectNode:f,OperatorNode:h,SymbolNode:A}=n,{isCommutative:p,isAssociative:m,allChildren:g,createMakeNodeFunction:y}=j8({FunctionNode:u,OperatorNode:h,SymbolNode:A}),v=e("simplifyConstant",{Node:q=>M(k(q,{})),"Node, Object":function(O,P){return M(k(O,P))}});function _(q){return nx(q)?q.valueOf():q instanceof Array?q.map(_):mr(q)?i(_(q.valueOf())):q}function C(q,O,P){try{return r[q].apply(null,O)}catch{return O=O.map(_),S(r[q].apply(null,O),P)}}var b=e({Fraction:function B(q){var O=H=>"BigNumber"===t.number&&o?o(H):Number(H),P=q.s*q.n,G=P<0n?new h("-","unaryMinus",[new c(-O(P))]):new c(O(P));return 1n===q.d?G:new h("/","divide",[G,new c(O(q.d))])},number:function(O){return O<0?T(new c(-O)):new c(O)},BigNumber:function(O){return O<0?T(new c(-O)):new c(O)},bigint:function(O){return O<0n?T(new c(-O)):new c(O)},Complex:function(O){throw new Error("Cannot convert Complex number to Node")},string:function(O){return new c(O)},Matrix:function(O){return new l(O.valueOf().map(P=>b(P)))}});function M(q){return Qs(q)?q:b(q)}function D(q,O){if(O&&!1!==O.exactFractions&&isFinite(q)&&s){var G=s(q),H=O&&"number"==typeof O.fractionsLimit?O.fractionsLimit:1/0;if(G.valueOf()===q&&G.n<H&&G.d<H)return G}return q}var S=e({"string, Object":function(O,P){var G=Rm(O,t);return"BigNumber"===G?(void 0===o&&q8(),o(O)):"bigint"===G?BigInt(O):"Fraction"===G?(void 0===s&&dte(),s(O)):D(parseFloat(O),P)},"Fraction, Object":function(O,P){return O},"BigNumber, Object":function(O,P){return O},"number, Object":function(O,P){return D(O,P)},"bigint, Object":function(O,P){return O},"Complex, Object":function(O,P){return 0!==O.im?O:D(O.re,P)},"Matrix, Object":function(O,P){return i(D(O.valueOf()))},"Array, Object":function(O,P){return O.map(D)}});function T(q){return new h("-","unaryMinus",[q])}function U(q,O,P,G){var H=O.shift(),ae=O.reduce((ve,Q)=>{if(!Qs(Q)){var j=ve.pop();if(Qs(j))return[j,Q];try{return ve.push(C(q,[j,Q],G)),ve}catch{ve.push(j)}}ve.push(M(ve.pop()));var K=1===ve.length?ve[0]:P(ve);return[P([K,M(Q)])]},[H]);return 1===ae.length?ae[0]:P([ae[0],b(ae[1])])}function k(q,O){switch(q.type){case"SymbolNode":return q;case"ConstantNode":switch(typeof q.value){case"number":case"bigint":return S(q.value,O);case"string":return q.value;default:if(!isNaN(q.value))return S(q.value,O)}return q;case"FunctionNode":if(r[q.name]&&r[q.name].rawArgs)return q;if(!["add","multiply"].includes(q.name)){var G=q.args.map(Ee=>k(Ee,O));if(!G.some(Qs))try{return C(q.name,G,O)}catch{}if("size"===q.name&&1===G.length&&hh(G[0])){for(var H=[],ae=G[0];hh(ae);)H.push(ae.items.length),ae=ae.items[0];return i(H)}return new u(q.name,G.map(M))}case"OperatorNode":var Q,j,ve=q.fn.toString(),K=y(q);if(xa(q)&&q.isUnary())j=Qs((Q=[k(q.args[0],O)])[0])?K(Q):C(ve,Q,O);else if(m(q,O.context))if(Q=(Q=g(q,O.context)).map(Ee=>k(Ee,O)),p(ve,O.context)){for(var oe=[],se=[],le=0;le<Q.length;le++)Qs(Q[le])?se.push(Q[le]):oe.push(Q[le]);oe.length>1?(j=U(ve,oe,K,O),se.unshift(j),j=U(ve,se,K,O)):j=U(ve,Q,K,O)}else j=U(ve,Q,K,O);else j=U(ve,Q=q.args.map(Ee=>k(Ee,O)),K,O);return j;case"ParenthesisNode":return k(q.content,O);case"AccessorNode":return function R(q,O,P){if(!Eb(O))return new a(M(q),M(O));if(hh(q)||mr(q)){for(var G=Array.from(O.dimensions);G.length>0;)if(Hi(G[0])&&"string"!=typeof G[0].value){var H=S(G.shift().value,P);hh(q)?q=q.items[H-1]:(q=q.valueOf()[H-1])instanceof Array&&(q=i(q))}else{if(!(G.length>1&&Hi(G[1])&&"string"!=typeof G[1].value))break;var ae=S(G[1].value,P),ve=[],Q=hh(q)?q.items:q.valueOf();for(var j of Q)if(hh(j))ve.push(j.items[ae-1]);else{if(!mr(q))break;ve.push(j[ae-1])}if(ve.length!==Q.length)break;q=hh(q)?new l(ve):i(ve),G.splice(1,1)}return G.length===O.dimensions.length?new a(M(q),O):G.length>0?(O=new d(G),new a(M(q),O)):q}if(mI(q)&&1===O.dimensions.length&&Hi(O.dimensions[0])){var K=O.dimensions[0].value;return K in q.properties?q.properties[K]:new c}return new a(M(q),O)}(k(q.object,O),k(q.index,O),O);case"ArrayNode":var te=q.items.map(Ee=>k(Ee,O));return te.some(Qs)?new l(te.map(M)):i(te);case"IndexNode":return new d(q.dimensions.map(Ee=>v(Ee,O)));case"ObjectNode":var ee={};for(var Ae in q.properties)ee[Ae]=v(q.properties[Ae],O);return new f(ee);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(q.type))}}return v}),ULe=ye("compile",["typed","parse"],n=>{var{typed:e,parse:t}=n;return e("compile",{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return Qr(i,function(s){return t(s).compile()})}})}),Ate="simplifyCore",HLe=ye(Ate,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,equal:r,isZero:i,AccessorNode:u,ArrayNode:d,ConstantNode:f,FunctionNode:h,IndexNode:A,ObjectNode:p,OperatorNode:m,SymbolNode:y}=n,v=new f(0),_=new f(1),C=new f(!0),b=new f(!1);function M(B){return xa(B)&&["and","not","or"].includes(B.op)}var{hasProperty:D,isCommutative:S}=j8({FunctionNode:h,OperatorNode:m,SymbolNode:y});function T(B){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=R?R.context:void 0;if(D(B,"trivial",U)){if(Fm(B)&&1===B.args.length)return T(B.args[0],R);var k=!1,q=0;if(B.forEach(se=>{1==++q&&(k=T(se,R))}),1===q)return k}var O=B;if(Fm(O)){var P=function H5e(n){var e="OperatorNode:"+n;for(var t of bf)if(e in t)return t[e].op;return null}(O.name);if(!P)return new h(T(O.fn),O.args.map(se=>T(se,R)));if(O.args.length>2&&D(O,"associative",U))for(;O.args.length>2;){var G=O.args.pop(),H=O.args.pop();O.args.push(new m(P,O.name,[G,H]))}O=new m(P,O.name,O.args)}if(xa(O)&&O.isUnary()){var ae=T(O.args[0],R);if("~"===O.op&&xa(ae)&&ae.isUnary()&&"~"===ae.op||"not"===O.op&&xa(ae)&&ae.isUnary()&&"not"===ae.op&&M(ae.args[0]))return ae.args[0];var ve=!0;if("-"===O.op&&xa(ae)&&(ae.isBinary()&&"subtract"===ae.fn&&(O=new m("-","subtract",[ae.args[1],ae.args[0]]),ve=!1),ae.isUnary()&&"-"===ae.op))return ae.args[0];if(ve)return new m(O.op,O.fn,[ae])}if(xa(O)&&O.isBinary()){var Q=T(O.args[0],R),j=T(O.args[1],R);if("+"===O.op){if(Hi(Q)&&i(Q.value))return j;if(Hi(j)&&i(j.value))return Q;xa(j)&&j.isUnary()&&"-"===j.op&&(O=new m("-","subtract",[Q,j=j.args[0]]))}if("-"===O.op)return xa(j)&&j.isUnary()&&"-"===j.op?T(new m("+","add",[Q,j.args[0]]),R):Hi(Q)&&i(Q.value)?T(new m("-","unaryMinus",[j])):Hi(j)&&i(j.value)?Q:new m(O.op,O.fn,[Q,j]);if("*"===O.op){if(Hi(Q)){if(i(Q.value))return v;if(r(Q.value,1))return j}if(Hi(j)){if(i(j.value))return v;if(r(j.value,1))return Q;if(S(O,U))return new m(O.op,O.fn,[j,Q],O.implicit)}return new m(O.op,O.fn,[Q,j],O.implicit)}if("/"===O.op)return Hi(Q)&&i(Q.value)?v:Hi(j)&&r(j.value,1)?Q:new m(O.op,O.fn,[Q,j]);if("^"===O.op&&Hi(j)){if(i(j.value))return _;if(r(j.value,1))return Q}if("and"===O.op){if(Hi(Q)){if(!Q.value)return b;if(M(j))return j;if(Hi(j))return j.value?C:b}if(Hi(j)){if(!j.value)return b;if(M(Q))return Q}}if("or"===O.op){if(Hi(Q)){if(Q.value)return C;if(M(j))return j}if(Hi(j)){if(j.value)return C;if(M(Q))return Q}}return new m(O.op,O.fn,[Q,j])}if(xa(O))return new m(O.op,O.fn,O.args.map(se=>T(se,R)));if(hh(O))return new d(O.items.map(se=>T(se,R)));if(K0(O))return new u(T(O.object,R),T(O.index,R));if(Eb(O))return new A(O.dimensions.map(se=>T(se,R)));if(mI(O)){var K={};for(var oe in O.properties)K[oe]=T(O.properties[oe],R);return new p(K)}return O}return e(Ate,{Node:T,"Node,Object":T})}),QLe=ye("evaluate",["typed","parse"],n=>{var{typed:e,parse:t}=n;return e("evaluate",{string:function(i){var s=tx();return t(i).compile().evaluate(s)},"string, Map | Object":function(i,s){return t(i).compile().evaluate(s)},"Array | Matrix":function(i){var s=tx();return Qr(i,function(o){return t(o).compile().evaluate(s)})},"Array | Matrix, Map | Object":function(i,s){return Qr(i,function(o){return t(o).compile().evaluate(s)})}})}),jLe=ye("Help",["evaluate"],n=>{var{evaluate:e}=n;function t(r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!r)throw new Error('Argument "doc" missing');this.doc=r}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var r=this.doc||{},i="\n";if(r.name&&(i+="Name: "+r.name+"\n\n"),r.category&&(i+="Category: "+r.category+"\n\n"),r.description&&(i+="Description:\n    "+r.description+"\n\n"),r.syntax&&(i+="Syntax:\n    "+r.syntax.join("\n    ")+"\n\n"),r.examples){i+="Examples:\n";for(var s=!1,o=e("config()"),a={config:d=>(s=!0,e("config(newConfig)",{newConfig:d}))},l=0;l<r.examples.length;l++){var c=r.examples[l];i+="    "+c+"\n";var u=void 0;try{u=e(c,a)}catch(d){u=d}void 0!==u&&!Tee(u)&&(i+="        "+Ai(u,{precision:14})+"\n")}i+="\n",s&&e("config(originalConfig)",{originalConfig:o})}return r.mayThrow&&r.mayThrow.length&&(i+="Throws: "+r.mayThrow.join(", ")+"\n\n"),r.seealso&&r.seealso.length&&(i+="See also: "+r.seealso.join(", ")+"\n"),i},t.prototype.toJSON=function(){var r=Ur(this.doc);return r.mathjs="Help",r},t.fromJSON=function(r){var i={};return Object.keys(r).filter(s=>"mathjs"!==s).forEach(s=>{i[s]=r[s]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0}),$Le=ye("Parser",["evaluate","parse"],n=>{var{evaluate:e,parse:t}=n;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:tx(),writable:!1})}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(s){return e(s,this.scope)},r.prototype.get=function(s){if(this.scope.has(s))return this.scope.get(s)},r.prototype.getAll=function(){return function qPe(n){if(n instanceof AI)return n.wrappedObject;var e={};for(var t of n.keys())bb(e,t,n.get(t));return e}(this.scope)},r.prototype.getAllAsMap=function(){return this.scope},r.prototype.set=function(s,o){if(!function i(s){if(0===s.length)return!1;for(var o=0;o<s.length;o++){var a=s.charAt(o-1),l=s.charAt(o),c=s.charAt(o+1);if(!(t.isAlpha(l,a,c)||o>0&&t.isDigit(l)))return!1}return!0}(s))throw new Error("Invalid variable name: '".concat(s,"'. Variable names must follow the specified rules."));return this.scope.set(s,o),o},r.prototype.remove=function(s){this.scope.delete(s)},r.prototype.clear=function(){this.scope.clear()},r},{isClass:!0});function gte(n){return Hi(n)||xa(n)&&n.isUnary()&&Hi(n.args[0])}function VI(n){return!!(Hi(n)||(Fm(n)||xa(n))&&n.args.every(VI)||jp(n)&&VI(n.content))}var YLe=ye("simplify",["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],n=>{var{typed:e,parse:t,equal:r,resolve:i,simplifyConstant:s,simplifyCore:o,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:u,IndexNode:d,ObjectNode:f,OperatorNode:h,ParenthesisNode:A,SymbolNode:p,replacer:m}=n,{hasProperty:g,isCommutative:y,isAssociative:v,mergeContext:_,flatten:C,unflattenr:b,unflattenl:M,createMakeNodeFunction:D,defaultContext:S,realContext:T,positiveContext:B}=j8({FunctionNode:u,OperatorNode:h,SymbolNode:p});e.addConversion({from:"Object",to:"Map",convert:wb});var R=e("simplify",{Node:H,"Node, Map":(te,ee)=>H(te,!1,ee),"Node, Map, Object":(te,ee,Ae)=>H(te,!1,ee,Ae),"Node, Array":H,"Node, Array, Map":H,"Node, Array, Map, Object":H});function U(te){return te.transform(function(ee){return jp(ee)?U(ee.content):ee})}e.removeConversion({from:"Object",to:"Map",convert:wb}),R.defaultContext=S,R.realContext=T,R.positiveContext=B;var k={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function q(te,ee){var Ae={};if(te.s){var Ee=te.s.split("->");if(2!==Ee.length)throw SyntaxError("Could not parse rule: "+te.s);Ae.l=Ee[0],Ae.r=Ee[1]}else Ae.l=te.l,Ae.r=te.r;for(var ge of(Ae.l=U(t(Ae.l)),Ae.r=U(t(Ae.r)),["imposeContext","repeat","assuming"]))ge in te&&(Ae[ge]=te[ge]);if(te.evaluate&&(Ae.evaluate=t(te.evaluate)),v(Ae.l,ee)){var ne,Se=!y(Ae.l,ee);Se&&(ne=G());var Y=D(Ae.l),W=G();Ae.expanded={},Ae.expanded.l=Y([Ae.l,W]),C(Ae.expanded.l,ee),b(Ae.expanded.l,ee),Ae.expanded.r=Y([Ae.r,W]),Se&&(Ae.expandedNC1={},Ae.expandedNC1.l=Y([ne,Ae.l]),Ae.expandedNC1.r=Y([ne,Ae.r]),Ae.expandedNC2={},Ae.expandedNC2.l=Y([ne,Ae.expanded.l]),Ae.expandedNC2.r=Y([ne,Ae.expanded.r]))}return Ae}R.rules=[o,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},s,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},s,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var P=0;function G(){return new p("_p"+P++)}function H(te,ee){var Ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tx(),Ee=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ge=Ee.consoleDebug;ee=function O(te,ee){for(var Ae=[],Ee=0;Ee<te.length;Ee++){var ge=te[Ee],Se=void 0,ne=typeof ge;switch(ne){case"string":ge={s:ge};case"object":Se=q(ge,ee);break;case"function":Se=ge;break;default:throw TypeError("Unsupported type of rule: "+ne)}Ae.push(Se)}return Ae}(ee||R.rules,Ee.context);for(var Se=i(te,Ae),ne={},Y=(Se=U(Se)).toString({parenthesis:"all"});!ne[Y];){ne[Y]=!0,P=0;var W=Y;ge&&console.log("Working on: ",Y);for(var Be=0;Be<ee.length;Be++){var Ce="";if("function"==typeof ee[Be]?(Se=ee[Be](Se,Ee),ge&&(Ce=ee[Be].name)):(C(Se,Ee.context),Se=ve(Se,ee[Be],Ee.context),ge&&(Ce="".concat(ee[Be].l.toString()," -> ").concat(ee[Be].r.toString()))),ge){var Pe=Se.toString({parenthesis:"all"});Pe!==W&&(console.log("Applying",Ce,"produced",Pe),W=Pe)}M(Se,Ee.context)}Y=Se.toString({parenthesis:"all"})}return Se}function ae(te,ee,Ae){var Ee=te;if(te)for(var ge=0;ge<te.length;++ge){var Se=ve(te[ge],ee,Ae);Se!==te[ge]&&(Ee===te&&(Ee=te.slice()),Ee[ge]=Se)}return Ee}function ve(te,ee,Ae){if(ee.assuming)for(var Ee in ee.assuming)for(var ge in ee.assuming[Ee])if(g(Ee,ge,Ae)!==ee.assuming[Ee][ge])return te;var Se=_(ee.imposeContext,Ae),ne=te;if(ne instanceof h||ne instanceof u){var Y=ae(ne.args,ee,Ae);Y!==ne.args&&((ne=ne.clone()).args=Y)}else if(ne instanceof A){if(ne.content){var W=ve(ne.content,ee,Ae);W!==ne.content&&(ne=new A(W))}}else if(ne instanceof l){var Be=ae(ne.items,ee,Ae);Be!==ne.items&&(ne=new l(Be))}else if(ne instanceof a){var Ce=ne.object;ne.object&&(Ce=ve(ne.object,ee,Ae));var Pe=ne.index;ne.index&&(Pe=ve(ne.index,ee,Ae)),(Ce!==ne.object||Pe!==ne.index)&&(ne=new a(Ce,Pe))}else if(ne instanceof d){var Oe=ae(ne.dimensions,ee,Ae);Oe!==ne.dimensions&&(ne=new d(Oe))}else if(ne instanceof f){var re=!1,J={};for(var Ue in ne.properties)J[Ue]=ve(ne.properties[Ue],ee,Ae),J[Ue]!==ne.properties[Ue]&&(re=!0);re&&(ne=new f(J))}var Qe=ee.r,it=se(ee.l,ne,Se)[0];if(!it&&ee.expanded&&(Qe=ee.expanded.r,it=se(ee.expanded.l,ne,Se)[0]),!it&&ee.expandedNC1&&(Qe=ee.expandedNC1.r,(it=se(ee.expandedNC1.l,ne,Se)[0])||(Qe=ee.expandedNC2.r,it=se(ee.expandedNC2.l,ne,Se)[0])),it){var Ye=ne.implicit;ne=Qe.clone(),Ye&&"implicit"in Qe&&(ne.implicit=!0),ne=ne.transform(function(Vt){return Vt.isSymbolNode&&qn(it.placeholders,Vt.name)?it.placeholders[Vt.name].clone():Vt})}return ee.repeat&&ne!==te&&(ne=ve(ne,ee,Ae)),ne}function j(te,ee){var Ae={placeholders:{}};if(!te.placeholders&&!ee.placeholders)return Ae;if(!te.placeholders)return ee;if(!ee.placeholders)return te;for(var Ee in te.placeholders)if(qn(te.placeholders,Ee)&&(Ae.placeholders[Ee]=te.placeholders[Ee],qn(ee.placeholders,Ee)&&!le(te.placeholders[Ee],ee.placeholders[Ee])))return null;for(var ge in ee.placeholders)qn(ee.placeholders,ge)&&(Ae.placeholders[ge]=ee.placeholders[ge]);return Ae}function K(te,ee){var Ae=[];if(0===te.length||0===ee.length)return Ae;for(var Ee,ge=0;ge<te.length;ge++)for(var Se=0;Se<ee.length;Se++)(Ee=j(te[ge],ee[Se]))&&Ae.push(Ee);return Ae}function se(te,ee,Ae,Ee){var ge=[{placeholders:{}}];if(te instanceof h&&ee instanceof h||te instanceof u&&ee instanceof u){if(te instanceof h){if(te.op!==ee.op||te.fn!==ee.fn)return[]}else if(te instanceof u&&te.name!==ee.name)return[];if(!(1===ee.args.length&&1===te.args.length||!v(ee,Ae)&&ee.args.length===te.args.length||Ee)){if(ee.args.length>=2&&2===te.args.length){for(var Ce=function Q(te,ee){var Ee,ge,Ae=[],Se=D(te);if(y(te,ee))for(var ne=0;ne<te.args.length;ne++)(ge=te.args.slice(0)).splice(ne,1),Ee=1===ge.length?ge[0]:Se(ge),Ae.push(Se([te.args[ne],Ee]));else for(var Y=1;Y<te.args.length;Y++){var W=te.args[0];Y>1&&(W=Se(te.args.slice(0,Y))),Ee=1===(ge=te.args.slice(Y)).length?ge[0]:Se(ge),Ae.push(Se([W,Ee]))}return Ae}(ee,Ae),Pe=[],Oe=0;Oe<Ce.length;Oe++){var re=se(te,Ce[Oe],Ae,!0);Pe=Pe.concat(re)}return Pe}if(te.args.length>2)throw Error("Unexpected non-binary associative function: "+te.toString());return[]}for(var Se=[],ne=0;ne<te.args.length;ne++){var Y=se(te.args[ne],ee.args[ne],Ae);if(0===Y.length)break;Se.push(Y)}if(Se.length!==te.args.length){if(!y(ee,Ae)||1===te.args.length)return[];if(te.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var W=se(te.args[0],ee.args[1],Ae);if(0===W.length)return[];var Be=se(te.args[1],ee.args[0],Ae);if(0===Be.length)return[];Se=[W,Be]}ge=function oe(te){if(0===te.length)return te;for(var ee=te.reduce(K),Ae=[],Ee={},ge=0;ge<ee.length;ge++){var Se=JSON.stringify(ee[ge],m);Ee[Se]||(Ee[Se]=!0,Ae.push(ee[ge]))}return Ae}(Se)}else if(te instanceof p){if(0===te.name.length)throw new Error("Symbol in rule has 0 length...!?");if(k[te.name]){if(te.name!==ee.name)return[]}else switch(te.name[1]>="a"&&te.name[1]<="z"?te.name.substring(0,2):te.name[0]){case"n":case"_p":ge[0].placeholders[te.name]=ee;break;case"c":case"cl":if(!Hi(ee))return[];ge[0].placeholders[te.name]=ee;break;case"v":if(Hi(ee))return[];ge[0].placeholders[te.name]=ee;break;case"vl":if(!Nl(ee))return[];ge[0].placeholders[te.name]=ee;break;case"cd":if(!gte(ee))return[];ge[0].placeholders[te.name]=ee;break;case"vd":if(gte(ee))return[];ge[0].placeholders[te.name]=ee;break;case"ce":if(!VI(ee))return[];ge[0].placeholders[te.name]=ee;break;case"ve":if(VI(ee))return[];ge[0].placeholders[te.name]=ee;break;default:throw new Error("Invalid symbol in rule: "+te.name)}}else{if(!(te instanceof c))return[];if(!r(te.value,ee.value))return[]}return ge}function le(te,ee){if(te instanceof c&&ee instanceof c){if(!r(te.value,ee.value))return!1}else if(te instanceof p&&ee instanceof p){if(te.name!==ee.name)return!1}else{if(!(te instanceof h&&ee instanceof h||te instanceof u&&ee instanceof u))return!1;if(te instanceof h){if(te.op!==ee.op||te.fn!==ee.fn)return!1}else if(te instanceof u&&te.name!==ee.name)return!1;if(te.args.length!==ee.args.length)return!1;for(var Ae=0;Ae<te.args.length;Ae++)if(!le(te.args[Ae],ee.args[Ae]))return!1}return!0}return R}),mte="symbolicEqual",ZLe=ye(mte,["parse","simplify","typed","OperatorNode"],n=>{var{simplify:t,typed:r,OperatorNode:i}=n;function s(o,a){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=new i("-","subtract",[o,a]),u=t(c,{},l);return Hi(u)&&!u.value}return r(mte,{"Node, Node":s,"Node, Node, Object":s})}),t3e=ye("leafCount",["parse","typed"],n=>{var{typed:t}=n;function r(i){var s=0;return i.forEach(o=>{s+=r(o)}),s||1}return t("leafCount",{Node:function(s){return r(s)}})}),r3e=ye("parser",["typed","Parser"],n=>{var{typed:e,Parser:t}=n;return e("parser",{"":function(){return new t}})}),_te="rationalize",s3e=ye(_te,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],n=>{var{typed:t,simplifyConstant:d,simplifyCore:f,simplify:h,ConstantNode:_,OperatorNode:D,SymbolNode:S}=n;function B(O){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],H=function U(){var O=[f,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},d,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],P=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],H=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ae={};return ae.firstRules=O.concat(P,H),ae.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],ae.sucDivRules=H,ae.firstRulesAgain=O.concat(P),ae.finalRules=[f,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},d,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ae}(),ae=function R(O,P,G,H){var ae=[],ve=h(O,H,P,{exactFractions:!1}),Q="+-*"+((G=!!G)?"/":"");!function K(oe){var se=oe.type;if("FunctionNode"===se)throw new Error("There is an unsolved function call");if("OperatorNode"===se)if("^"===oe.op){if("ConstantNode"!==oe.args[1].type||!Zn(parseFloat(oe.args[1].value)))throw new Error("There is a non-integer exponent");K(oe.args[0])}else{if(!Q.includes(oe.op))throw new Error("Operator "+oe.op+" invalid in polynomial expression");for(var le=0;le<oe.args.length;le++)K(oe.args[le])}else if("SymbolNode"===se){var te=oe.name;-1===ae.indexOf(te)&&ae.push(te)}else if("ParenthesisNode"===se)K(oe.content);else if("ConstantNode"!==se)throw new Error("type "+se+" is not allowed in polynomial expression")}(ve);var j={};return j.expression=ve,j.variables=ae,j}(O,P,!0,H.firstRules),ve=ae.variables.length,Q={exactFractions:!1},j={exactFractions:!0};if(O=ae.expression,ve>=1){O=k(O);var K,oe,te,se=!0,le=!1;for(O=h(O,H.firstRules,{},Q);oe=se?H.distrDivRules:H.sucDivRules,se=!se,(te=(O=h(O,oe,{},j)).toString())!==K;)le=!0,K=te;le&&(O=h(O,H.firstRulesAgain,{},Q)),O=h(O,H.finalRules,{},Q)}var ee=[],Ae={};return"OperatorNode"===O.type&&O.isBinary()&&"/"===O.op?(1===ve&&(O.args[0]=q(O.args[0],ee),O.args[1]=q(O.args[1])),G&&(Ae.numerator=O.args[0],Ae.denominator=O.args[1])):(1===ve&&(O=q(O,ee)),G&&(Ae.numerator=O,Ae.denominator=null)),G?(Ae.coefficients=ee,Ae.variables=ae.variables,Ae.expression=O,Ae):O}return t(_te,{Node:B,"Node, boolean":(O,P)=>B(O,{},P),"Node, Object":B,"Node, Object, boolean":B});function k(O,P,G){var H=O.type,ae=arguments.length>1;if("OperatorNode"===H&&O.isBinary()){var Q,ve=!1;if("^"===O.op&&("ParenthesisNode"===O.args[0].type||"OperatorNode"===O.args[0].type)&&"ConstantNode"===O.args[1].type&&(ve=(Q=parseFloat(O.args[1].value))>=2&&Zn(Q)),ve){if(Q>2){var j=O.args[0],K=new D("^","pow",[O.args[0].cloneDeep(),new _(Q-1)]);O=new D("*","multiply",[j,K])}else O=new D("*","multiply",[O.args[0],O.args[0].cloneDeep()]);ae&&("content"===G?P.content=O:P.args[G]=O)}}if("ParenthesisNode"===H)k(O.content,O,"content");else if("ConstantNode"!==H&&"SymbolNode"!==H)for(var oe=0;oe<O.args.length;oe++)k(O.args[oe],O,oe);if(!ae)return O}function q(O,P){void 0===P&&(P=[]),P[0]=0;var H=0,ae="";!function te(ee,Ae,Ee){var ge=ee.type;if("FunctionNode"===ge)throw new Error("There is an unsolved function call");if("OperatorNode"===ge){if(!"+-*^".includes(ee.op))throw new Error("Operator "+ee.op+" invalid");if(null!==Ae){if(("unaryMinus"===ee.fn||"pow"===ee.fn)&&"add"!==Ae.fn&&"subtract"!==Ae.fn&&"multiply"!==Ae.fn)throw new Error("Invalid "+ee.op+" placing");if(("subtract"===ee.fn||"add"===ee.fn||"multiply"===ee.fn)&&"add"!==Ae.fn&&"subtract"!==Ae.fn)throw new Error("Invalid "+ee.op+" placing");if(("subtract"===ee.fn||"add"===ee.fn||"unaryMinus"===ee.fn)&&0!==Ee.noFil)throw new Error("Invalid "+ee.op+" placing")}("^"===ee.op||"*"===ee.op)&&(Ee.fire=ee.op);for(var Se=0;Se<ee.args.length;Se++)"unaryMinus"===ee.fn&&(Ee.oper="-"),("+"===ee.op||"subtract"===ee.fn)&&(Ee.fire="",Ee.cte=1,Ee.oper=0===Se?"+":ee.op),Ee.noFil=Se,te(ee.args[Se],ee,Ee)}else if("SymbolNode"===ge){if(ee.name!==ae&&""!==ae)throw new Error("There is more than one variable");if(ae=ee.name,null===Ae)return void(P[1]=1);if("^"===Ae.op&&0!==Ee.noFil)throw new Error("In power the variable should be the first parameter");if("*"===Ae.op&&1!==Ee.noFil)throw new Error("In multiply the variable should be the second parameter");(""===Ee.fire||"*"===Ee.fire)&&(H<1&&(P[1]=0),P[1]+=Ee.cte*("+"===Ee.oper?1:-1),H=Math.max(1,H))}else{if("ConstantNode"!==ge)throw new Error("Type "+ge+" is not allowed");var ne=parseFloat(ee.value);if(null===Ae)return void(P[0]=ne);if("^"===Ae.op){if(1!==Ee.noFil)throw new Error("Constant cannot be powered");if(!Zn(ne)||ne<=0)throw new Error("Non-integer exponent is not allowed");for(var Y=H+1;Y<ne;Y++)P[Y]=0;return ne>H&&(P[ne]=0),P[ne]+=Ee.cte*("+"===Ee.oper?1:-1),void(H=Math.max(ne,H))}Ee.cte=ne,""===Ee.fire&&(P[0]+=Ee.cte*("+"===Ee.oper?1:-1))}}(O,null,{cte:1,oper:"+",fire:""});for(var Q,ve=!0,j=H=P.length-1;j>=0;j--)if(0!==P[j]){var K=new _(ve?P[j]:Math.abs(P[j])),oe=P[j]<0?"-":"+";if(j>0){var se=new S(ae);if(j>1){var le=new _(j);se=new D("^","pow",[se,le])}K=-1===P[j]&&ve?new D("-","unaryMinus",[se]):1===Math.abs(P[j])?se:new D("*","multiply",[K,se])}Q=ve?K:"+"===oe?new D("+","add",[Q,K]):new D("-","subtract",[Q,K]),ve=!1}return ve?new _(0):Q}}),bte="derivative",a3e=ye(bte,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,config:t,parse:r,simplify:i,equal:s,isZero:o,numeric:a,ConstantNode:l,FunctionNode:c,OperatorNode:u,ParenthesisNode:d,SymbolNode:f}=n;function h(_,C){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},M=new Map,D=C.name,T=y(_,function S(B){var R=M.get(B);if(void 0!==R)return R;var U=g(S,B,D);return M.set(B,U),U});return b.simplify?i(T):T}function A(_){var C=r(_);if(!C.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(_)," into a variable in function derivative"));return C}var p=e(bte,{"Node, SymbolNode":h,"Node, SymbolNode, Object":h,"Node, string":(_,C)=>h(_,A(C)),"Node, string, Object":(_,C,b)=>h(_,A(C),b)});p._simplify=!0,p.toTex=function(_){return m.apply(null,_.args)};var m=e("_derivTex",{"Node, SymbolNode":function(C,b){return Hi(C)&&"string"===no(C.value)?m(r(C.value).toString(),b.toString(),1):m(C.toTex(),b.toString(),1)},"Node, ConstantNode":function(C,b){if("string"===no(b.value))return m(C,r(b.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(C,b,M){return m(C.toString(),b.name,M.value)},"string, string, number":function(C,b,M){return(1===M?"{d\\over d"+b+"}":"{d^{"+M+"}\\over d"+b+"^{"+M+"}}")+"\\left[".concat(C,"\\right]")}}),g=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(C,b,M){return b.name!==M},"function, ParenthesisNode, string":function(C,b,M){return C(b.content,M)},"function, FunctionAssignmentNode, string":function(C,b,M){return!b.params.includes(M)||C(b.expr,M)},"function, FunctionNode | OperatorNode, string":function(C,b,M){return b.args.every(D=>C(D,M))}}),y=e("_derivative",{"ConstantNode, function":function(){return v(0)},"SymbolNode, function":function(C,b){return b(C)?v(0):v(1)},"ParenthesisNode, function":function(C,b){return new d(y(C.content,b))},"FunctionAssignmentNode, function":function(C,b){return b(C)?v(0):y(C.expr,b)},"FunctionNode, function":function(C,b){if(b(C))return v(0);var D,B,R,U,M=C.args[0],S=!1,T=!1;switch(C.name){case"cbrt":S=!0,B=new u("*","multiply",[v(3),new u("^","pow",[M,new u("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===C.args.length)S=!0,B=new u("*","multiply",[v(2),new c("sqrt",[M])]);else if(2===C.args.length)return D=new u("/","divide",[v(1),C.args[1]]),y(new u("^","pow",[M,D]),b);break;case"log10":D=v(10);case"log":if(D||1!==C.args.length){if(1===C.args.length&&D||2===C.args.length&&b(C.args[1]))B=new u("*","multiply",[M.clone(),new c("log",[D||C.args[1]])]),S=!0;else if(2===C.args.length)return y(new u("/","divide",[new c("log",[M]),new c("log",[C.args[1]])]),b)}else B=M.clone(),S=!0;break;case"pow":if(2===C.args.length)return y(new u("^","pow",[M,C.args[1]]),b);break;case"exp":B=new c("exp",[M.clone()]);break;case"sin":B=new c("cos",[M.clone()]);break;case"cos":B=new u("-","unaryMinus",[new c("sin",[M.clone()])]);break;case"tan":B=new u("^","pow",[new c("sec",[M.clone()]),v(2)]);break;case"sec":B=new u("*","multiply",[C,new c("tan",[M.clone()])]);break;case"csc":T=!0,B=new u("*","multiply",[C,new c("cot",[M.clone()])]);break;case"cot":T=!0,B=new u("^","pow",[new c("csc",[M.clone()]),v(2)]);break;case"asin":S=!0,B=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])]);break;case"acos":S=!0,T=!0,B=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])]);break;case"atan":S=!0,B=new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)]);break;case"asec":S=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acsc":S=!0,T=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acot":S=!0,T=!0,B=new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)]);break;case"sinh":B=new c("cosh",[M.clone()]);break;case"cosh":B=new c("sinh",[M.clone()]);break;case"tanh":B=new u("^","pow",[new c("sech",[M.clone()]),v(2)]);break;case"sech":T=!0,B=new u("*","multiply",[C,new c("tanh",[M.clone()])]);break;case"csch":T=!0,B=new u("*","multiply",[C,new c("coth",[M.clone()])]);break;case"coth":T=!0,B=new u("^","pow",[new c("csch",[M.clone()]),v(2)]);break;case"asinh":S=!0,B=new c("sqrt",[new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)])]);break;case"acosh":S=!0,B=new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])]);break;case"atanh":S=!0,B=new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])]);break;case"asech":S=!0,T=!0,B=new u("*","multiply",[M.clone(),new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])])]);break;case"acsch":S=!0,T=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acoth":S=!0,T=!0,B=new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])]);break;case"abs":B=new u("/","divide",[new c(new f("abs"),[M.clone()]),M.clone()]);break;default:throw new Error('Cannot process function "'+C.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}S?(R="/",U="divide"):(R="*",U="multiply");var k=y(M,b);return T&&(k=new u("-","unaryMinus",[k])),new u(R,U,[k,B])},"OperatorNode, function":function(C,b){if(b(C))return v(0);if("+"===C.op)return new u(C.op,C.fn,C.args.map(function(O){return y(O,b)}));if("-"===C.op){if(C.isUnary())return new u(C.op,C.fn,[y(C.args[0],b)]);if(C.isBinary())return new u(C.op,C.fn,[y(C.args[0],b),y(C.args[1],b)])}if("*"===C.op){var M=C.args.filter(function(O){return b(O)});if(M.length>0){var D=C.args.filter(function(O){return!b(O)}),S=1===D.length?D[0]:new u("*","multiply",D),T=M.concat(y(S,b));return new u("*","multiply",T)}return new u("+","add",C.args.map(function(O){return new u("*","multiply",C.args.map(function(P){return P===O?y(P,b):P.clone()}))}))}if("/"===C.op&&C.isBinary()){var B=C.args[0],R=C.args[1];return b(R)?new u("/","divide",[y(B,b),R]):b(B)?new u("*","multiply",[new u("-","unaryMinus",[B]),new u("/","divide",[y(R,b),new u("^","pow",[R.clone(),v(2)])])]):new u("/","divide",[new u("-","subtract",[new u("*","multiply",[y(B,b),R.clone()]),new u("*","multiply",[B.clone(),y(R,b)])]),new u("^","pow",[R.clone(),v(2)])])}if("^"===C.op&&C.isBinary()){var U=C.args[0],k=C.args[1];if(b(U))return Hi(U)&&(o(U.value)||s(U.value,1))?v(0):new u("*","multiply",[C,new u("*","multiply",[new c("log",[U.clone()]),y(k.clone(),b)])]);if(b(k)){if(Hi(k)){if(o(k.value))return v(0);if(s(k.value,1))return y(U,b)}var q=new u("^","pow",[U.clone(),new u("-","subtract",[k,v(1)])]);return new u("*","multiply",[k.clone(),new u("*","multiply",[y(U,b),q])])}return new u("*","multiply",[new u("^","pow",[U.clone(),k.clone()]),new u("+","add",[new u("*","multiply",[y(U,b),new u("/","divide",[k.clone(),U.clone()])]),new u("*","multiply",[y(k,b),new c("log",[U.clone()])])])])}throw new Error('Cannot process operator "'+C.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function v(_,C){return new l(a(_,C||Rm(String(_),t)))}return p}),wte={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Cte={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},R8e={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},bigint:{name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:wte,E:wte,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:Cte,PI:Cte,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]}},P8e=ye("help",["typed","mathWithTransform","Help"],n=>{var{typed:e,mathWithTransform:t,Help:r}=n;return e("help",{any:function(s){var o,a=s;if("string"!=typeof s)for(o in t)if(qn(t,o)&&s===t[o]){a=o;break}var l=du(R8e,a);if(!l)throw new Error('No documentation found on "'+("function"==typeof a?a.name:a)+'"');return new r(l)}})}),QI=_e(6645);function Y0(n,e,t){if(QI.isTypedFunction(n)){var r=(e.isMatrix?e.size():Tr(e)).map(()=>0),i=e.isMatrix?e.get(r):k8(e,r),s=1===Object.keys(n.signatures).length,o=function L8e(n,e,t,r){for(var i=[e,t,r],s=3;s>0;s--){var o=i.slice(0,s);if(null!==QI.resolve(n,o))return s}}(n,i,r,e),a=s?Object.values(n.signatures)[0]:n;return o>=1&&o<=3?function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return Ste(a,c.slice(0,o),t,n.name)}:function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return Ste(a,c,t,n.name)}}return n}function Ste(n,e,t,r){try{return n(...e)}catch(i){!function U8e(n,e,t,r){var i;if(n instanceof TypeError&&"wrongType"===(null===(i=n.data)||void 0===i?void 0:i.category)){var s=[];throw s.push("value: ".concat(no(e[0]))),e.length>=2&&s.push("index: ".concat(no(e[1]))),e.length>=3&&s.push("array: ".concat(no(e[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(r,"(").concat(s.join(", "),") at index ").concat(JSON.stringify(e[1])))}throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(r,": ").concat(n.message))}(i,e,t,r)}}var xte=ye("filter",["typed"],n=>{var{typed:e}=n;return e("filter",{"Array, function":Dte,"Matrix, function":function(r,i){return r.create(Dte(r.valueOf(),i),r.datatype())},"Array, RegExp":Yee,"Matrix, RegExp":function(r,i){return r.create(Yee(r.valueOf(),i),r.datatype())}})});function Dte(n,e){var t=Y0(e,n,"filter");return function L5e(n,e){if(1!==Tr(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,e)}(n,function(r,i,s){return t(r,[i],s)})}function W8(n,e,t){var r=n.filter(function(l){return Nl(l)&&!(l.name in e)&&!t.has(l.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+n+'"');var i=r.name,s=new Map,o=new Dee(t,s,new Set([i])),a=n.compile();return function(c){return s.set(i,c),a.evaluate(o)}}var $8=ye("transformCallback",["typed"],n=>{var{typed:e}=n;return function(r,i){return e.isTypedFunction(r)?t(r,i):Mte(r,r.length,i)};function t(r,i){var s=Object.fromEntries(Object.entries(r.signatures).map(o=>{var[a,l]=o,c=a.split(",").length;return e.isTypedFunction(l)?[a,t(l,i)]:[a,Mte(l,c,i)]}));return"string"==typeof r.name?e(r.name,s):e(s)}});function Mte(n,e,t){return e===t?n:e===t+1?function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.slice(0,t),a=Tte(i[t]);return n(...o,a)}:e>t+1?function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.slice(0,t),a=Tte(i[t]),l=i.slice(t+1);return n(...o,a,...l)}:n}function Tte(n){return n.map(e=>e+1)}var j8e=ye("filter",["typed"],n=>{var{typed:e}=n;function t(i,s,o){var a=xte({typed:e}),l=$8({typed:e});if(0===i.length)return a();var c=i[0];if(1===i.length)return a(c);var u=i.length-1,d=i[u];return c&&(c=r(c,o)),d&&(d=Nl(d)||ix(d)?r(d,o):W8(d,s,o)),a(c,l(d,u))}function r(i,s){return i.compile().evaluate(s)}return t.rawArgs=!0,t},{isTransformFunction:!0}),K8="forEach",Bte=ye(K8,["typed"],n=>{var{typed:e}=n;return e(K8,{"Array, function":W8e,"Matrix, function":function(r,i){r.forEach(i)}})});function W8e(n,e){H8(n,[],n,Y0(e,n,K8))}var X8e=ye("forEach",["typed"],n=>{var{typed:e}=n,t=Bte({typed:e}),r=$8({typed:e});function i(o,a,l){if(0===o.length)return t();var c=o[0];if(1===o.length)return t(c);var u=o.length-1,d=o[u];return c&&(c=s(c,l)),d&&(d=Nl(d)||ix(d)?s(d,l):W8(d,a,l)),t(c,r(d,u))}function s(o,a){return o.compile().evaluate(a)}return i.rawArgs=!0,i},{isTransformFunction:!0}),Nte=ye("map",["typed"],n=>{var{typed:e}=n;return e("map",{"Array, function":r,"Matrix, function":function(s,o){return s.map(o)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,s,o)=>function t(i,s){if("function"!=typeof s)throw new Error("Last argument must be a callback function");var u,o=i[0].isMatrix,a=EI(...i.map(_=>_.isMatrix?_.size():Tr(_))),l=o?(_,C)=>_.get(C):k8,c=i.map(o?_=>_.isMatrix?_.create(Lm(_.toArray(),a),_.datatype()):i[0].create(Lm(_.valueOf(),a)):_=>Lm(_.isMatrix?_.toArray():_,a));if(e.isTypedFunction(s)){var d=a.map(()=>0),f=c.map(_=>l(_,d)),h=function v(_,C,b,M){return null!==e.resolve(_,[...C,b,...M])?2:null!==e.resolve(_,[...C,b])?1:(e.resolve(_,C),0)}(s,f,d,c);u=g(h)}else{var p=function y(_,C){return _.length>C+1?2:_.length===C+1?1:0}(s,i.length);u=g(p)}var m=(_,C)=>u([_,...c.slice(1).map(b=>l(b,C))],C);return o?c[0].map(m):r(c[0],m);function g(_){switch(_){case 0:return C=>s(...C);case 1:return(C,b)=>s(...C,b);case 2:return(C,b)=>s(...C,b,...c)}}}([i,s,...o.slice(0,o.length-1)],o[o.length-1])});function r(i,s){return H8(i,[],i,Y0(s,i,"map"))}}),eHe=ye("map",["typed"],n=>{var{typed:e}=n,t=Nte({typed:e}),r=$8({typed:e});function i(s,o,a){if(0===s.length)return t();if(1===s.length)return t(s[0]);var l=s.length-1,c=s.slice(0,l),u=s[l];return c=c.map(f=>d(f,a)),u&&(u=Nl(u)||ix(u)?d(u,a):W8(u,o,a)),t(...c,r(u,l));function d(f,h){return f.compile().evaluate(h)}}return i.rawArgs=!0,i},{isTransformFunction:!0}),Y8=ye("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n;return e("apply",{"Array | Matrix, number | BigNumber, function":function(i,s,o){if(!t(s))throw new TypeError("Integer number expected for dimension");var a=Array.isArray(i)?Tr(i):i.size();if(s<0||s>=a.length)throw new _f(s,a.length);return mr(i)?i.create(zI(i.valueOf(),s,o),i.datatype()):zI(i,s,o)}})});function zI(n,e,t){var r,i,s;if(e<=0){if(Array.isArray(n[0])){for(s=function nHe(n){var r,i,e=n.length,t=n[0].length,s=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);s.push(o)}return s}(n),i=[],r=0;r<s.length;r++)i[r]=zI(s[r],e-1,t);return i}return t(n)}for(i=[],r=0;r<n.length;r++)i[r]=zI(n[r],e-1,t);return i}var sHe=ye("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n,r=Y8({typed:e,isInteger:t});return e("apply",{"...any":function(s){var o=s[1];$r(o)?s[1]=o-1:Kr(o)&&(s[1]=o.minus(1));try{return r.apply(null,s)}catch(a){throw hu(a)}}})},{isTransformFunction:!0}),fu=ye("matAlgo03xDSf",["typed"],n=>{var{typed:e}=n;return function(r,i,s,o){var a=r._data,l=r._size,c=r._datatype||r.getDataType(),u=i._values,d=i._index,f=i._ptr,h=i._size,A=i._datatype||void 0===i._data?i._datatype:i.getDataType();if(l.length!==h.length)throw new pi(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,p=l[0],m=l[1],y=0,v=s;"string"==typeof c&&c===A&&"mixed"!==c&&(y=e.convert(0,g=c),v=e.find(s,[g,g]));for(var _=[],C=0;C<p;C++)_[C]=[];for(var b=[],M=[],D=0;D<m;D++){for(var S=D+1,B=f[D+1],R=f[D];R<B;R++){var U=d[R];b[U]=o?v(u[R],a[U][D]):v(a[U][D],u[R]),M[U]=S}for(var k=0;k<p;k++)_[k][D]=M[k]===S?b[k]:o?v(y,a[k][D]):v(a[k][D],y)}return r.createDenseMatrix({data:_,size:[p,m],datatype:c===r._datatype&&A===i._datatype?g:void 0})}}),ul=ye("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,d=i._size,f=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,h=d[0],A=d[1],m=o;"string"==typeof f&&(s=e.convert(s,p=f),m=e.find(o,[p,p]));for(var g=[],y=[],v=[],_=0;_<A;_++){for(var C=_+1,M=u[_+1],D=u[_];D<M;D++){var S=c[D];y[S]=l[D],v[S]=C}for(var T=0;T<h;T++)0===_&&(g[T]=[]),g[T][_]=v[T]===C?a?m(s,y[T]):m(y[T],s):a?m(s,0):m(0,s)}return new t({data:g,size:[h,A],datatype:p})}}),GI=ye("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,d=i._datatype||void 0===i._data?i._datatype:i.getDataType(),f=s._values,h=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new pi(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof d&&d===m&&"mixed"!==d&&(_=e.find(t,[v=d,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var k,q,O,P,M=a&&f?[]:void 0,D=[],S=[],T=M?[]:void 0,B=M?[]:void 0,R=[],U=[];for(q=0;q<y;q++){S[q]=D.length;var G=q+1;for(O=c[q],P=c[q+1];O<P;O++)D.push(k=l[O]),R[k]=G,T&&(T[k]=a[O]);for(O=A[q],P=A[q+1];O<P;O++)R[k=h[O]]!==G&&D.push(k),U[k]=G,B&&(B[k]=f[O]);if(M)for(O=S[q];O<D.length;){var H=R[k=D[O]],ae=U[k];if(H===G||ae===G){var j=b(H===G?T[k]:C,ae===G?B[k]:C);_(j,C)?D.splice(O,1):(M.push(j),O++)}}}return S[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:S,size:[g,y],datatype:d===i._datatype&&m===s._datatype?v:void 0})}}),AHe=ye("matAlgo13xDD",["typed"],n=>{var{typed:e}=n;return function(i,s,o){var a=i._data,l=i._size,c=i._datatype,u=s._data,d=s._size,f=s._datatype,h=[];if(l.length!==d.length)throw new pi(l.length,d.length);for(var A=0;A<l.length;A++){if(l[A]!==d[A])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");h[A]=l[A]}var p,m=o;"string"==typeof c&&c===f&&(m=e.find(o,[p=c,p]));var g=h.length>0?t(m,0,h,h[0],a,u):[];return i.createDenseMatrix({data:g,size:h,datatype:p})};function t(r,i,s,o,a,l){var c=[];if(i===s.length-1)for(var u=0;u<o;u++)c[u]=r(a[u],l[u]);else for(var d=0;d<o;d++)c[d]=t(r,i+1,s,s[i+1],a[d],l[d]);return c}}),wf=ye("matAlgo14xDs",["typed"],n=>{var{typed:e}=n;return function(i,s,o,a){var d,l=i._data,c=i._size,u=i._datatype,f=o;"string"==typeof u&&(s=e.convert(s,d=u),f=e.find(o,[d,d]));var h=c.length>0?t(f,0,c,c[0],l,s,a):[];return i.createDenseMatrix({data:h,size:Ur(c),datatype:d})};function t(r,i,s,o,a,l,c){var u=[];if(i===s.length-1)for(var d=0;d<o;d++)u[d]=c?r(l,a[d]):r(a[d],l);else for(var f=0;f<o;f++)u[f]=t(r,i+1,s,s[i+1],a[f],l,c);return u}});function Il(n,e){if(zp(n.size(),e.size()))return[n,e];var t=EI(n.size(),e.size());return[n,e].map(r=>function mHe(n,e){return zp(n.size(),e)?n:n.create(Lm(n.valueOf(),e),n.datatype())}(r,t))}var io=ye("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:e,matrix:t}=n,r=AHe({typed:e}),i=wf({typed:e});return function(o){var c,a=o.elop,l=o.SD||o.DS;a?(c={"DenseMatrix, DenseMatrix":(h,A)=>r(...Il(h,A),a),"Array, Array":(h,A)=>r(...Il(t(h),t(A)),a).valueOf(),"Array, DenseMatrix":(h,A)=>r(...Il(t(h),A),a),"DenseMatrix, Array":(h,A)=>r(...Il(h,t(A)),a)},o.SS&&(c["SparseMatrix, SparseMatrix"]=(h,A)=>o.SS(...Il(h,A),a,!1)),o.DS&&(c["DenseMatrix, SparseMatrix"]=(h,A)=>o.DS(...Il(h,A),a,!1),c["Array, SparseMatrix"]=(h,A)=>o.DS(...Il(t(h),A),a,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(h,A)=>l(...Il(A,h),a,!0),c["SparseMatrix, Array"]=(h,A)=>l(...Il(t(A),h),a,!0))):(c={"DenseMatrix, DenseMatrix":e.referToSelf(h=>(A,p)=>r(...Il(A,p),h)),"Array, Array":e.referToSelf(h=>(A,p)=>r(...Il(t(A),t(p)),h).valueOf()),"Array, DenseMatrix":e.referToSelf(h=>(A,p)=>r(...Il(t(A),p),h)),"DenseMatrix, Array":e.referToSelf(h=>(A,p)=>r(...Il(A,t(p)),h))},o.SS&&(c["SparseMatrix, SparseMatrix"]=e.referToSelf(h=>(A,p)=>o.SS(...Il(A,p),h,!1))),o.DS&&(c["DenseMatrix, SparseMatrix"]=e.referToSelf(h=>(A,p)=>o.DS(...Il(A,p),h,!1)),c["Array, SparseMatrix"]=e.referToSelf(h=>(A,p)=>o.DS(...Il(t(A),p),h,!1))),l&&(c["SparseMatrix, DenseMatrix"]=e.referToSelf(h=>(A,p)=>l(...Il(p,A),h,!0)),c["SparseMatrix, Array"]=e.referToSelf(h=>(A,p)=>l(...Il(t(p),A),h,!0))));var u=o.scalar||"any";(o.Ds||o.Ss)&&(a?(c["DenseMatrix,"+u]=(h,A)=>i(h,A,a,!1),c[u+", DenseMatrix"]=(h,A)=>i(A,h,a,!0),c["Array,"+u]=(h,A)=>i(t(h),A,a,!1).valueOf(),c[u+", Array"]=(h,A)=>i(t(A),h,a,!0).valueOf()):(c["DenseMatrix,"+u]=e.referToSelf(h=>(A,p)=>i(A,p,h,!1)),c[u+", DenseMatrix"]=e.referToSelf(h=>(A,p)=>i(p,A,h,!0)),c["Array,"+u]=e.referToSelf(h=>(A,p)=>i(t(A),p,h,!1).valueOf()),c[u+", Array"]=e.referToSelf(h=>(A,p)=>i(t(p),A,h,!0).valueOf())));var f=void 0!==o.sS?o.sS:o.Ss;return a?(o.Ss&&(c["SparseMatrix,"+u]=(h,A)=>o.Ss(h,A,a,!1)),f&&(c[u+", SparseMatrix"]=(h,A)=>f(A,h,a,!0))):(o.Ss&&(c["SparseMatrix,"+u]=e.referToSelf(h=>(A,p)=>o.Ss(A,p,h,!1))),f&&(c[u+", SparseMatrix"]=e.referToSelf(h=>(A,p)=>f(p,A,h,!0)))),a&&a.signatures&&wee(c,a.signatures),c}}),J8="number, number";function Fte(n){return!n}function Z8(n,e){return!(!n&&!e)}function eH(n,e){return!!n!=!!e}function tH(n,e){return!(!n||!e)}Fte.signature="number",Z8.signature=J8,eH.signature=J8,tH.signature=J8;var Ote=ye("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=fu({typed:e}),a=GI({typed:e,equalScalar:r}),l=ul({typed:e,DenseMatrix:i}),c=io({typed:e,matrix:t,concat:s});return e("or",{"number, number":Z8,"Complex, Complex":function(d,f){return 0!==d.re||0!==d.im||0!==f.re||0!==f.im},"BigNumber, BigNumber":function(d,f){return!d.isZero()&&!d.isNaN()||!f.isZero()&&!f.isNaN()},"bigint, bigint":Z8,"Unit, Unit":e.referToSelf(u=>(d,f)=>u(d.value||0,f.value||0))},c({SS:a,DS:o,Ss:l}))}),EHe=ye("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=Ote({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s});function a(l,c,u){var d=l[0].compile().evaluate(u);if(!dh(d)&&o(d,!1))return!0;var f=l[1].compile().evaluate(u);return o(d,f)}return a.rawArgs=!0,a},{isTransformFunction:!0}),Cf=ye("matAlgo02xDS0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o,a){var l=i._data,c=i._size,u=i._datatype||i.getDataType(),d=s._values,f=s._index,h=s._ptr,A=s._size,p=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(c.length!==A.length)throw new pi(c.length,A.length);if(c[0]!==A[0]||c[1]!==A[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+A+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,m=c[0],g=c[1],v=t,_=0,C=o;"string"==typeof u&&u===p&&"mixed"!==u&&(v=e.find(t,[y=u,y]),_=e.convert(0,y),C=e.find(o,[y,y]));for(var b=[],M=[],D=[],S=0;S<g;S++){D[S]=M.length;for(var B=h[S+1],R=h[S];R<B;R++){var U=f[R],k=a?C(d[R],l[U][S]):C(l[U][S],d[R]);v(k,_)||(M.push(U),b.push(k))}}return D[g]=M.length,s.createSparseMatrix({values:b,index:M,ptr:D,size:[m,g],datatype:u===i._datatype&&p===s._datatype?y:void 0})}}),ic=ye("matAlgo11xS0s",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,d=i._size,f=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,h=d[0],A=d[1],m=t,g=0,y=o;"string"==typeof f&&(m=e.find(t,[p=f,p]),g=e.convert(0,p),s=e.convert(s,p),y=e.find(o,[p,p]));for(var v=[],_=[],C=[],b=0;b<A;b++){C[b]=_.length;for(var D=u[b+1],S=u[b];S<D;S++){var T=c[S],B=a?y(s,l[S]):y(l[S],s);m(B,g)||(_.push(T),v.push(B))}}return C[A]=_.length,i.createSparseMatrix({values:v,index:_,ptr:C,size:[h,A],datatype:p})}}),jI=ye("matAlgo06xS0S0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._size,c=i._datatype||void 0===i._data?i._datatype:i.getDataType(),u=s._values,d=s._size,f=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(l.length!==d.length)throw new pi(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var p,h=l[0],A=l[1],m=t,g=0,y=o;"string"==typeof c&&c===f&&"mixed"!==c&&(m=e.find(t,[p=c,p]),g=e.convert(0,p),y=e.find(o,[p,p]));for(var v=a&&u?[]:void 0,_=[],C=[],b=v?[]:void 0,M=[],D=[],S=0;S<A;S++){C[S]=_.length;var T=S+1;if(lte(i,S,M,b,D,T,_,y),lte(s,S,M,b,D,T,_,y),b)for(var B=C[S];B<_.length;){var R=_[B];if(D[R]===T){var U=b[R];m(U,g)?_.splice(B,1):(v.push(U),B++)}else _.splice(B,1)}else for(var k=C[S];k<_.length;)D[_[k]]!==T?_.splice(k,1):k++}return C[A]=_.length,i.createSparseMatrix({values:v,index:_,ptr:C,size:[h,A],datatype:c===i._datatype&&f===s._datatype?p:void 0})}}),Lte=ye("and",["typed","matrix","equalScalar","zeros","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=Cf({typed:e,equalScalar:r}),l=jI({typed:e,equalScalar:r}),c=ic({typed:e,equalScalar:r}),u=wf({typed:e}),d=io({typed:e,matrix:t,concat:o});return e("and",{"number, number":tH,"Complex, Complex":function(h,A){return!(0===h.re&&0===h.im||0===A.re&&0===A.im)},"BigNumber, BigNumber":function(h,A){return!(h.isZero()||A.isZero()||h.isNaN()||A.isNaN())},"bigint, bigint":tH,"Unit, Unit":e.referToSelf(f=>(h,A)=>f(h.value||0,A.value||0)),"SparseMatrix, any":e.referToSelf(f=>(h,A)=>s(A)?i(h.size(),h.storage()):c(h,A,f,!1)),"DenseMatrix, any":e.referToSelf(f=>(h,A)=>s(A)?i(h.size(),h.storage()):u(h,A,f,!1)),"any, SparseMatrix":e.referToSelf(f=>(h,A)=>s(h)?i(h.size(),h.storage()):c(A,h,f,!0)),"any, DenseMatrix":e.referToSelf(f=>(h,A)=>s(h)?i(h.size(),h.storage()):u(A,h,f,!0)),"Array, any":e.referToSelf(f=>(h,A)=>f(t(h),A).valueOf()),"any, Array":e.referToSelf(f=>(h,A)=>f(h,t(A)).valueOf())},d({SS:l,DS:a}))}),RHe=ye("and",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=Lte({typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o});function l(c,u,d){var f=c[0].compile().evaluate(d);if(!dh(f)&&!a(f,!0))return!1;var h=c[1].compile().evaluate(d);return a(f,h)}return l.rawArgs=!0,l},{isTransformFunction:!0}),kte=ye("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:r}=n;return e("concat",{"...Array | Matrix | number | BigNumber":function(s){var o,c,a=s.length,l=-1,u=!1,d=[];for(o=0;o<a;o++){var f=s[o];if(mr(f)&&(u=!0),$r(f)||Kr(f)){if(o!==a-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=f.valueOf(),!r(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>c)throw new _f(l,c+1)}else{var h=Ur(f).valueOf(),A=Tr(h);if(d[o]=h,c=l,l=A.length-1,o>0&&l!==c)throw new pi(c+1,l+1)}}if(0===d.length)throw new SyntaxError("At least one matrix expected");for(var p=d.shift();d.length;)p=ete(p,d.shift(),l);return u?t(p):p},"...string":function(s){return s.join("")}})}),UHe=ye("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:r}=n,i=kte({typed:e,matrix:t,isInteger:r});return e("concat",{"...any":function(o){var a=o.length-1,l=o[a];$r(l)?o[a]=l-1:Kr(l)&&(o[a]=l.minus(1));try{return i.apply(null,o)}catch(c){throw hu(c)}}})},{isTransformFunction:!0});function Au(n,e,t){var r;return String(n).includes("Unexpected type")?(r=arguments.length>2?" (type: "+no(t)+", value: "+JSON.stringify(t)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):String(n).includes("complex numbers")?(r=arguments.length>2?" (type: "+no(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):n}var Vte=ye("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:r,larger:i}=n;return e("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return kI(l,c.valueOf(),s)},"...":function(l){if(Bb(l))throw new TypeError("Scalar values expected in function max");return o(l)}});function s(a,l){try{return i(a,l)?a:l}catch(c){throw Au(c,"max",l)}}function o(a){var l;if(qp(a,function(c){try{isNaN(c)&&"number"==typeof c?l=NaN:(void 0===l||i(c,l))&&(l=c)}catch(u){throw Au(u,"max",c)}}),void 0===l)throw new Error("Cannot calculate max of an empty array");return"string"==typeof l&&(l=r(l,Rm(l,t))),l}});function Um(n){if(2===n.length&&dh(n[0])){var e=(n=n.slice())[1];(function VHe(n){return $r(n)||Kr(n)})(e)&&(n[1]=function HHe(n){return $r(n)?n-1:Kr(n)?n.minus(1):n}(e))}return n}var GHe=ye("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:r,larger:i}=n,s=Vte({typed:e,config:t,numeric:r,larger:i});return e("max",{"...any":function(a){a=Um(a);try{return s.apply(null,a)}catch(l){throw hu(l)}}})},{isTransformFunction:!0}),Qte=/\$([\w.]+)/g,Gte=ye("print",["typed"],n=>{var{typed:e}=n;return e("print",{"string, Object | Array":jte,"string, Object | Array, number | Object":jte})});function jte(n,e,t){return n.replace(Qte,function(r,i){var s=i.split("."),o=e[s.shift()];for(void 0!==o&&o.isMatrix&&(o=o.toArray());s.length&&void 0!==o;){var a=s.shift();o=a?o[a]:o+"."}return void 0!==o?Ic(o)?o:Ai(o,t):r})}var WHe=ye("print",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,s=Gte({typed:e,matrix:t,zeros:r,add:i});return e("print",{"string, Object | Array":function(l,c){return s(o(l),c)},"string, Object | Array, number | Object":function(l,c,u){return s(o(l),c,u)}});function o(a){return a.replace(Qte,l=>"$"+l.slice(1).split(".").map(function(d){return!isNaN(d)&&d.length>0?parseInt(d)-1:d}).join("."))}},{isTransformFunction:!0});function $He(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero()||e.eq(-1)||n.eq(e))return n;if(e.isZero()||n.eq(-1))return e;if(!n.isFinite()||!e.isFinite()){if(!n.isFinite()&&!e.isFinite())return n.isNegative()===e.isNegative()?n:new t(0);if(!n.isFinite())return e.isNegative()?n:n.isNegative()?new t(0):e;if(!e.isFinite())return n.isNegative()?e:e.isNegative()?new t(0):n}return nH(n,e,function(r,i){return r&i})}function cx(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var e=n.constructor,t=e.precision;e.config({precision:1e9});var r=n.plus(new e(1));return r.s=-r.s||null,e.config({precision:t}),r}function KHe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);var r=new t(-1);return n.isZero()||e.eq(r)||n.eq(e)?e:e.isZero()||n.eq(r)?n:n.isFinite()&&e.isFinite()?nH(n,e,function(i,s){return i|s}):!n.isFinite()&&!n.isNegative()&&e.isNegative()||n.isNegative()&&!e.isNegative()&&!e.isFinite()?r:n.isNegative()&&e.isNegative()?n.isFinite()?n:e:n.isFinite()?e:n}function nH(n,e,t){var i,s,u,d,f,r=n.constructor,o=+(n.s<0),a=+(e.s<0);if(o){i=qI(cx(n));for(var l=0;l<i.length;++l)i[l]^=1}else i=qI(n);if(a){s=qI(cx(e));for(var c=0;c<s.length;++c)s[c]^=1}else s=qI(e);i.length<=s.length?(u=i,d=s,f=o):(u=s,d=i,f=a);var h=u.length,A=d.length,p=1^t(o,a),m=new r(1^p),g=new r(1),y=new r(2),v=r.precision;for(r.config({precision:1e9});h>0;)t(u[--h],d[--A])===p&&(m=m.plus(g)),g=g.times(y);for(;A>0;)t(f,d[--A])===p&&(m=m.plus(g)),g=g.times(y);return r.config({precision:v}),0===p&&(m.s=-m.s),m}function qI(n){for(var e=n.d,t=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",s=7-i.length;s--;)i="0"+i;t+=i}for(var o=t.length;"0"===t.charAt(o);)o--;var a=n.e,l=t.slice(0,o+1||1),c=l.length;if(a>0)if(++a>c)for(a-=c;a--;)l+="0";else a<c&&(l=l.slice(0,a)+"."+l.slice(a));for(var u=[0],d=0;d<l.length;){for(var f=u.length;f--;)u[f]*=10;u[0]+=parseInt(l.charAt(d++));for(var h=0;h<u.length;++h)u[h]>1&&(null==u[h+1]&&(u[h+1]=0),u[h+1]+=u[h]>>1,u[h]&=1)}return u.reverse()}function XHe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero())return e;if(e.isZero())return n;if(n.eq(e))return new t(0);var r=new t(-1);return n.eq(r)?cx(e):e.eq(r)?cx(n):n.isFinite()&&e.isFinite()?nH(n,e,function(i,s){return i^s}):n.isFinite()||e.isFinite()?new t(n.isNegative()===e.isNegative()?1/0:-1/0):r}function YHe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:n.isFinite()||e.isFinite()?e.lt(55)?n.times(Math.pow(2,e.toNumber())+""):n.times(new t(2).pow(e)):new t(NaN)}function JHe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:e.isFinite()?e.lt(55)?n.div(Math.pow(2,e.toNumber())+"").floor():n.div(new t(2).pow(e)).floor():n.isNegative()?new t(-1):n.isFinite()?new t(0):new t(NaN)}var Nb="number, number";function Wte(n,e){if(!Zn(n)||!Zn(e))throw new Error("Integers expected in function bitAnd");return n&e}function $te(n){if(!Zn(n))throw new Error("Integer expected in function bitNot");return~n}function Kte(n,e){if(!Zn(n)||!Zn(e))throw new Error("Integers expected in function bitOr");return n|e}function Xte(n,e){if(!Zn(n)||!Zn(e))throw new Error("Integers expected in function bitXor");return n^e}function Yte(n,e){if(!Zn(n)||!Zn(e))throw new Error("Integers expected in function leftShift");return n<<e}function Jte(n,e){if(!Zn(n)||!Zn(e))throw new Error("Integers expected in function rightArithShift");return n>>e}function Zte(n,e){if(!Zn(n)||!Zn(e))throw new Error("Integers expected in function rightLogShift");return n>>>e}Wte.signature=Nb,$te.signature="number",Kte.signature=Nb,Xte.signature=Nb,Yte.signature=Nb,Jte.signature=Nb,Zte.signature=Nb;var tne=ye("bitAnd",["typed","matrix","equalScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,s=Cf({typed:e,equalScalar:r}),o=jI({typed:e,equalScalar:r}),a=ic({typed:e,equalScalar:r});return e("bitAnd",{"number, number":Wte,"BigNumber, BigNumber":$He,"bigint, bigint":(c,u)=>c&u},io({typed:e,matrix:t,concat:i})({SS:o,DS:s,Ss:a}))}),r6e=ye("bitAnd",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=tne({typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o});function l(c,u,d){var f=c[0].compile().evaluate(d);if(!dh(f)){if(isNaN(f))return NaN;if(0===f||!1===f)return 0}var h=c[1].compile().evaluate(d);return a(f,h)}return l.rawArgs=!0,l},{isTransformFunction:!0}),rne=ye("diff",["typed","matrix","subtract","number"],n=>{var{typed:e,matrix:t,subtract:r,number:i}=n;return e("diff",{"Array | Matrix":function(u){return mr(u)?t(o(u.toArray())):o(u)},"Array | Matrix, number":function(u,d){if(!Zn(d))throw new RangeError("Dimension must be a whole number");return mr(u)?t(s(u.toArray(),d)):s(u,d)},"Array, BigNumber":e.referTo("Array,number",c=>(u,d)=>c(u,i(d))),"Matrix, BigNumber":e.referTo("Matrix,number",c=>(u,d)=>c(u,i(d)))});function s(c,u){if(mr(c)&&(c=c.toArray()),!Array.isArray(c))throw RangeError("Array/Matrix does not have that many dimensions");if(u>0){var d=[];return c.forEach(f=>{d.push(s(f,u-1))}),d}if(0===u)return o(c);throw RangeError("Cannot have negative dimension")}function o(c){for(var u=[],d=c.length,f=1;f<d;f++)u.push(a(c[f-1],c[f]));return u}function a(c,u){mr(c)&&(c=c.toArray()),mr(u)&&(u=u.toArray());var d=Array.isArray(c),f=Array.isArray(u);if(d&&f)return function l(c,u){if(c.length!==u.length)throw RangeError("Not all sub-arrays have the same length");for(var d=[],f=c.length,h=0;h<f;h++)d.push(a(c[h],u[h]));return d}(c,u);if(!d&&!f)return r(u,c);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}),o6e=ye("diff",["typed","matrix","subtract","number","bignumber"],n=>{var{typed:e,matrix:t,subtract:r,number:i,bignumber:s}=n,o=rne({typed:e,matrix:t,subtract:r,number:i,bignumber:s});return e("diff",{"...any":function(l){l=Um(l);try{return o.apply(null,l)}catch(c){throw hu(c)}}})},{isTransformFunction:!0}),one=ye("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:r,smaller:i}=n;return e("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return kI(l,c.valueOf(),s)},"...":function(l){if(Bb(l))throw new TypeError("Scalar values expected in function min");return o(l)}});function s(a,l){try{return i(a,l)?a:l}catch(c){throw Au(c,"min",l)}}function o(a){var l;if(qp(a,function(c){try{isNaN(c)&&"number"==typeof c?l=NaN:(void 0===l||i(c,l))&&(l=c)}catch(u){throw Au(u,"min",c)}}),void 0===l)throw new Error("Cannot calculate min of an empty array");return"string"==typeof l&&(l=r(l,Rm(l,t))),l}}),u6e=ye("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:r,smaller:i}=n,s=one({typed:e,config:t,numeric:r,smaller:i});return e("min",{"...any":function(a){a=Um(a);try{return s.apply(null,a)}catch(l){throw hu(l)}}})},{isTransformFunction:!0}),lne=ye("subset",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n;return e("subset",{"Matrix, Index":function(a,l){return Db(l)?t():(_I(a,l),a.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(a,l){var c=o(t(a),l);return l.isScalar()?c:c.valueOf()}}),"Object, Index":f6e,"string, Index":h6e,"Matrix, Index, any, any":function(a,l,c,u){return Db(l)?a:(_I(a,l),a.clone().subset(l,function s(o,a){if("string"==typeof o)throw new Error("can't boradcast a string");if(a._isScalar)return o;var l=a.size();if(!l.every(c=>c>0))return o;try{return i(o,r(l))}catch{return o}}(c,l),u))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c,u){var d=o(t(a),l,c,u);return d.isMatrix?d.valueOf():d}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c){return o(t(a),l,c,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c){return o(a,l,c,void 0)}}),"string, Index, string":cne,"string, Index, string, string":cne,"Object, Index, any":A6e})});function h6e(n,e){if(!gI(e))throw new TypeError("Index expected");if(Db(e))return"";if(_I(Array.from(n),e),1!==e.size().length)throw new pi(e.size().length,1);var t=n.length;ro(e.min()[0],t),ro(e.max()[0],t);var r=e.dimension(0),i="";return r.forEach(function(s){i+=n.charAt(s)}),i}function cne(n,e,t,r){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(Db(e))return n;if(_I(Array.from(n),e),1!==e.size().length)throw new pi(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0);if(i.size()[0]!==t.length)throw new pi(i.size()[0],t.length);var o=n.length;ro(e.min()[0]),ro(e.max()[0]);for(var a=[],l=0;l<o;l++)a[l]=n.charAt(l);if(i.forEach(function(d,f){a[d]=t.charAt(f[0])}),a.length>o)for(var c=o-1,u=a.length;c<u;c++)a[c]||(a[c]=r);return a.join("")}function f6e(n,e){if(!Db(e)){if(1!==e.size().length)throw new pi(e.size(),1);var t=e.dimension(0);if("string"!=typeof t)throw new TypeError("String expected as index to retrieve an object property");return du(n,t)}}function A6e(n,e,t){if(Db(e))return n;if(1!==e.size().length)throw new pi(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=Ur(n);return bb(i,r,t),i}var Ine,Wp,m6e=ye("subset",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,s=lne({typed:e,matrix:t,zeros:r,add:i});return e("subset",{"...any":function(a){try{return s.apply(null,a)}catch(l){throw hu(l)}}})},{isTransformFunction:!0}),J0=ye("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,d=i._size,f=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,h=d[0],A=d[1],m=o;"string"==typeof f&&(s=e.convert(s,p=f),m=e.find(o,[p,p]));for(var g=[],y=[],v=[],_=0;_<A;_++){for(var C=_+1,M=u[_+1],D=u[_];D<M;D++){var S=c[D];y[S]=l[D],v[S]=C}for(var T=0;T<h;T++)0===_&&(g[T]=[]),g[T][_]=v[T]===C?a?m(s,y[T]):m(y[T],s):s}return new t({data:g,size:[h,A],datatype:p})}}),rH=ye("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,d=i._datatype||void 0===i._data?i._datatype:i.getDataType(),f=s._values,h=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new pi(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof d&&d===m&&"mixed"!==d&&(_=e.find(t,[v=d,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var k,q,O,G,M=a&&f?[]:void 0,D=[],S=[],T=a&&f?[]:void 0,B=a&&f?[]:void 0,R=[],U=[];for(q=0;q<y;q++){S[q]=D.length;var H=q+1;for(G=c[q+1],O=c[q];O<G;O++)D.push(k=l[O]),R[k]=H,T&&(T[k]=a[O]);for(G=A[q+1],O=A[q];O<G;O++)if(R[k=h[O]]===H){if(T){var ae=b(T[k],f[O]);_(ae,C)?R[k]=null:T[k]=ae}}else D.push(k),U[k]=H,B&&(B[k]=f[O]);if(T&&B)for(O=S[q];O<D.length;)R[k=D[O]]===H?(M[O]=T[k],O++):U[k]===H?(M[O]=B[k],O++):D.splice(O,1)}return S[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:S,size:[g,y],datatype:d===i._datatype&&m===s._datatype?v:void 0})}}),km=ye("matAlgo01xDSid",["typed"],n=>{var{typed:e}=n;return function(r,i,s,o){var a=r._data,l=r._size,c=r._datatype||r.getDataType(),u=i._values,d=i._index,f=i._ptr,h=i._size,A=i._datatype||void 0===i._data?i._datatype:i.getDataType();if(l.length!==h.length)throw new pi(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v,_,p=l[0],m=l[1],g="string"==typeof c&&"mixed"!==c&&c===A?c:void 0,y=g?e.find(s,[g,g]):s,C=[];for(v=0;v<p;v++)C[v]=[];var b=[],M=[];for(_=0;_<m;_++){for(var D=_+1,T=f[_+1],B=f[_];B<T;B++)b[v=d[B]]=o?y(u[B],a[v][_]):y(a[v][_],u[B]),M[v]=D;for(v=0;v<p;v++)C[v][_]=M[v]===D?b[v]:a[v][_]}return r.createDenseMatrix({data:C,size:[p,m],datatype:c===r._datatype&&A===i._datatype?g:void 0})}}),dne=ye("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=km({typed:e}),a=rH({typed:e,equalScalar:r}),l=J0({typed:e,DenseMatrix:i});return e("bitOr",{"number, number":Kte,"BigNumber, BigNumber":KHe,"bigint, bigint":(u,d)=>u|d},io({typed:e,matrix:t,concat:s})({SS:a,DS:o,Ss:l}))}),D6e=ye("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=dne({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s});function a(l,c,u){var d=l[0].compile().evaluate(u);if(!dh(d)){if(isNaN(d))return NaN;if(-1===d)return-1;if(!0===d)return 1}var f=l[1].compile().evaluate(u);return o(d,f)}return a.rawArgs=!0,a},{isTransformFunction:!0}),WI="cumsum",hne=ye(WI,["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:r}=n;return e(WI,{Array:i,Matrix:function(c){return c.create(i(c.valueOf(),c.datatype()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(c,u){return c.create(o(c.valueOf(),u),c.datatype())},"...":function(c){if(Bb(c))throw new TypeError("All values expected to be scalar in function cumsum");return i(c)}});function i(l){try{return s(l)}catch(c){throw Au(c,WI)}}function s(l){if(0===l.length)return[];for(var c=[r(l[0])],u=1;u<l.length;++u)c.push(t(c[u-1],l[u]));return c}function o(l,c){var u=Tr(l);if(c<0||c>=u.length)throw new _f(c,u.length);try{return a(l,c)}catch(d){throw Au(d,WI)}}function a(l,c){var u,d,f;if(c<=0){if(Array.isArray(l[0][0])){for(f=ate(l),d=[],u=0;u<f.length;u++)d[u]=a(f[u],c-1);return d}return s(l)}for(d=[],u=0;u<l.length;u++)d[u]=a(l[u],c-1);return d}}),B6e=ye("cumsum",["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:r}=n,i=hne({typed:e,add:t,unaryPlus:r});return e("cumsum",{"...any":function(o){if(2===o.length&&dh(o[0])){var a=o[1];$r(a)?o[1]=a-1:Kr(a)&&(o[1]=a.minus(1))}try{return i.apply(null,o)}catch(l){throw hu(l)}}})},{isTransformFunction:!0}),F6e=ye("index",["Index","getMatrixDataType"],n=>{var{Index:e,getMatrixDataType:t}=n;return function(){for(var i=[],s=0,o=arguments.length;s<o;s++){var a=arguments[s];if(B8(a))a.start--,a.end-=a.step>0?0:2;else if(a&&!0===a.isSet)a=a.map(function(c){return c-1});else if(Vs(a)||mr(a))"boolean"!==t(a)&&(a=a.map(function(c){return c-1}));else if($r(a))a--;else if(Kr(a))a=a.toNumber()-1;else if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[s]=a}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0}),pne=ye("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:r,numeric:i}=n;return e("sum",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function o(a,l){try{return kI(a,l,r)}catch(u){throw Au(u,"sum")}},"...":function(l){if(Bb(l))throw new TypeError("Scalar values expected in function sum");return s(l)}});function s(a){var l;return qp(a,function(c){try{l=void 0===l?c:r(l,c)}catch(u){throw Au(u,"sum",c)}}),void 0===l&&(l=i(0,t.number)),"string"==typeof l&&(l=i(l,Rm(l,t))),l}}),P6e=ye("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:r,numeric:i}=n,s=pne({typed:e,config:t,add:r,numeric:i});return e("sum",{"...any":function(a){a=Um(a);try{return s.apply(null,a)}catch(l){throw hu(l)}}})},{isTransformFunction:!0}),vne=ye("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u}=n;return e("range",{string:f,"string, boolean":f,"number, number":function(m,g){return d(h(m,g,1,!1))},"number, number, number":function(m,g,y){return d(h(m,g,y,!1))},"number, number, boolean":function(m,g,y){return d(h(m,g,1,y))},"number, number, number, boolean":function(m,g,y,v){return d(h(m,g,y,v))},"BigNumber, BigNumber":function(m,g){return d(h(m,g,new(0,m.constructor)(1),!1))},"BigNumber, BigNumber, BigNumber":function(m,g,y){return d(h(m,g,y,!1))},"BigNumber, BigNumber, boolean":function(m,g,y){return d(h(m,g,new(0,m.constructor)(1),y))},"BigNumber, BigNumber, BigNumber, boolean":function(m,g,y,v){return d(h(m,g,y,v))},"Unit, Unit, Unit":function(m,g,y){return d(h(m,g,y,!1))},"Unit, Unit, Unit, boolean":function(m,g,y,v){return d(h(m,g,y,v))}});function d(p){return"Matrix"===t.matrix?r?r(p):hte():p}function f(p,m){var g=function A(p){var g=p.split(":").map(function(v){return Number(v)});if(g.some(function(v){return isNaN(v)}))return null;switch(g.length){case 2:return{start:g[0],end:g[1],step:1};case 3:return{start:g[0],end:g[2],step:g[1]};default:return null}}(p);if(!g)throw new SyntaxError('String "'+p+'" is no valid range');return"BigNumber"===t.number?(void 0===i&&q8(),d(h(i(g.start),i(g.end),i(g.step)))):d(h(g.start,g.end,g.step,m))}function h(p,m,g,y){for(var v=[],_=u(g)?y?o:s:y?l:a,C=p;_(C,m);)v.push(C),C=c(C,g);return v}}),H6e=ye("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u}=n,d=vne({typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u});return e("range",{"...any":function(h){return"boolean"!=typeof h[h.length-1]&&h.push(!0),d.apply(null,h)}})},{isTransformFunction:!0}),_ne=ye("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e("row",{"Matrix, number":s,"Array, number":function(a,l){return s(r(Ur(a)),l).valueOf()}});function s(o,a){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");ro(a,o.size()[0]);var l=i(0,o.size()[1]),c=new t(a,l),u=o.subset(c);return mr(u)?u:r([[u]])}}),G6e=ye("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n,s=_ne({typed:e,Index:t,matrix:r,range:i});return e("row",{"...any":function(a){var l=a.length-1,c=a[l];$r(c)&&(a[l]=c-1);try{return s.apply(null,a)}catch(u){throw hu(u)}}})},{isTransformFunction:!0}),wne=ye("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e("column",{"Matrix, number":s,"Array, number":function(a,l){return s(r(Ur(a)),l).valueOf()}});function s(o,a){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");ro(a,o.size()[1]);var l=i(0,o.size()[0]),c=new t(l,a),u=o.subset(c);return mr(u)?u:r([[u]])}}),$6e=ye("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n,s=wne({typed:e,Index:t,matrix:r,range:i});return e("column",{"...any":function(a){var l=a.length-1,c=a[l];$r(c)&&(a[l]=c-1);try{return s.apply(null,a)}catch(u){throw hu(u)}}})},{isTransformFunction:!0}),Ene=ye("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:r}=n;return e("mean",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function i(o,a){try{var l=kI(o,a,t),c=Array.isArray(o)?Tr(o):o.size();return r(l,c[a])}catch(u){throw Au(u,"mean")}},"...":function(a){if(Bb(a))throw new TypeError("Scalar values expected in function mean");return s(a)}});function s(o){var a,l=0;if(qp(o,function(c){try{a=void 0===a?c:t(a,c),l++}catch(u){throw Au(u,"mean",c)}}),0===l)throw new Error("Cannot calculate the mean of an empty array");return r(a,l)}}),J6e=ye("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:r}=n,i=Ene({typed:e,add:t,divide:r});return e("mean",{"...any":function(o){o=Um(o);try{return i.apply(null,o)}catch(a){throw hu(a)}}})},{isTransformFunction:!0}),Sne="quantileSeq",xne=ye(Sne,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:d,larger:f}=n,h=Y8({typed:e,isInteger:c});return e(Sne,{"Array | Matrix, number | BigNumber":(y,v)=>p(y,v,!1),"Array | Matrix, number | BigNumber, number":(y,v,_)=>A(y,v,!1,_,p),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(y,v,_,C)=>A(y,v,_,C,p),"Array | Matrix, Array | Matrix":(y,v)=>m(y,v,!1),"Array | Matrix, Array | Matrix, number":(y,v,_)=>A(y,v,!1,_,m),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(y,v,_,C)=>A(y,v,_,C,m)});function A(y,v,_,C,b){return h(y,C,M=>b(M,v,_))}function p(y,v,_){var C,b=y.valueOf();if(u(v,0))throw new Error("N/prob must be non-negative");if(d(v,1))return $r(v)?g(b,v,_):t(g(b,v,_));if(f(v,1)){if(!c(v))throw new Error("N must be a positive integer");if(f(v,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var M=r(v,1);C=[];for(var D=0;u(D,v);D++){var S=s(D+1,M);C.push(g(b,S,_))}return $r(v)?C:t(C)}}function m(y,v,_){for(var C=y.valueOf(),b=v.valueOf(),M=[],D=0;D<b.length;++D)M.push(g(C,b[D],_));return M}function g(y,v,_){var C=ts(y),b=C.length;if(0===b)throw new Error("Cannot calculate quantile of an empty sequence");var T,B,M=$r(v)?v*(b-1):v.times(b-1),D=$r(v)?Math.floor(M):M.floor().toNumber(),S=$r(v)?M%1:M.minus(D);if(c(M))return _?C[M]:a(C,$r(v)?M:M.valueOf());if(_)T=C[D],B=C[D+1];else{B=a(C,D+1),T=C[D];for(var R=0;R<D;++R)l(C[R],T)>0&&(T=C[R])}return r(o(T,i(1,S)),o(B,S))}}),nVe=ye("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:d,larger:f}=n,h=xne({typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:d,larger:f});return e("quantileSeq",{"Array | Matrix, number | BigNumber":h,"Array | Matrix, number | BigNumber, number":(p,m,g)=>h(p,m,A(g)),"Array | Matrix, number | BigNumber, boolean":h,"Array | Matrix, number | BigNumber, boolean, number":(p,m,g,y)=>h(p,m,g,A(y)),"Array | Matrix, Array | Matrix":h,"Array | Matrix, Array | Matrix, number":(p,m,g)=>h(p,m,A(g)),"Array | Matrix, Array | Matrix, boolean":h,"Array | Matrix, Array | Matrix, boolean, number":(p,m,g,y)=>h(p,m,g,A(y))});function A(p){return Um([[],p])[1]}},{isTransformFunction:!0}),iH="unbiased",Mne=ye("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a}=n;return e("variance",{"Array | Matrix":function(d){return l(d,iH)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(d,f){return c(d,f,iH)},"Array | Matrix, number | BigNumber, string":c,"...":function(d){return l(d,iH)}});function l(u,d){var f,h=0;if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(qp(u,function(m){try{f=void 0===f?m:t(f,m),h++}catch(g){throw Au(g,"variance",m)}}),0===h)throw new Error("Cannot calculate variance of an empty array");var A=s(f,h);if(f=void 0,qp(u,function(m){var g=r(m,A);f=void 0===f?i(g,g):t(f,i(g,g))}),a(f))return f;switch(d){case"uncorrected":return s(f,h);case"biased":return s(f,h+1);case"unbiased":var p=Kr(f)?f.mul(0):0;return 1===h?p:s(f,h-1);default:throw new Error('Unknown normalization "'+d+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(u,d,f){try{if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(u,d,h=>l(h,f))}catch(h){throw Au(h,"variance")}}}),sVe=ye("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a}=n,l=Mne({typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a});return e("variance",{"...any":function(u){u=Um(u);try{return l.apply(null,u)}catch(d){throw hu(d)}}})},{isTransformFunction:!0}),Nne=ye("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:r,variance:i}=n;return e("std",{"Array | Matrix":s,"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":s,"Array | Matrix, number | BigNumber, string":s,"...":function(a){return s(a)}});function s(o,a){if(0===o.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return dh(l)?t(l,r):r(l)}catch(c){throw c instanceof TypeError&&c.message.includes(" variance")?new TypeError(c.message.replace(" variance"," std")):c}}}),cVe=ye("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:r,variance:i}=n,s=Nne({typed:e,map:t,sqrt:r,variance:i});return e("std",{"...any":function(a){a=Um(a);try{return s.apply(null,a)}catch(l){throw hu(l)}}})},{isTransformFunction:!0}),Ib=9e15,Hm=1e9,sH="0123456789abcdef",$I="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",KI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",oH={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ib,maxE:Ib,crypto:!1},zr=!0,XI="[DecimalError] ",Vm=XI+"Invalid argument: ",Fne=XI+"Precision limit exceeded",Rne=XI+"crypto unavailable",One="[object Decimal]",Fc=Math.floor,dl=Math.pow,uVe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,dVe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,hVe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Pne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ef=1e7,_r=7,AVe=$I.length-1,aH=KI.length-1,Zt={toStringTag:One};function sc(n){var e,t,r,i=n.length-1,s="",o=n[0];if(i>0){for(s+=o,e=1;e<i;e++)(t=_r-(r=n[e]+"").length)&&(s+=Qm(t)),s+=r;(t=_r-(r=(o=n[e])+"").length)&&(s+=Qm(t))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}function ju(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Vm+n)}function ux(n,e,t,r){var i,s,o,a;for(s=n[0];s>=10;s/=10)--e;return--e<0?(e+=_r,i=0):(i=Math.ceil((e+1)/_r),e%=_r),s=dl(10,_r-e),a=n[i]%s|0,null==r?e<3?(0==e?a=a/100|0:1==e&&(a=a/10|0),o=t<4&&99999==a||t>3&&49999==a||5e4==a||0==a):o=(t<4&&a+1==s||t>3&&a+1==s/2)&&(n[i+1]/s/100|0)==dl(10,e-2)-1||(a==s/2||0==a)&&!(n[i+1]/s/100|0):e<4?(0==e?a=a/1e3|0:1==e?a=a/100|0:2==e&&(a=a/10|0),o=(r||t<4)&&9999==a||!r&&t>3&&4999==a):o=((r||t<4)&&a+1==s||!r&&t>3&&a+1==s/2)&&(n[i+1]/s/1e3|0)==dl(10,e-3)-1,o}function YI(n,e,t){for(var r,s,i=[0],o=0,a=n.length;o<a;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=sH.indexOf(n.charAt(o++)),r=0;r<i.length;r++)i[r]>t-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/t|0,i[r]%=t)}return i.reverse()}Zt.absoluteValue=Zt.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),or(n)},Zt.ceil=function(){return or(new this.constructor(this),this.e+1,2)},Zt.clampedTo=Zt.clamp=function(n,e){var r=this,i=r.constructor;if(n=new i(n),e=new i(e),!n.s||!e.s)return new i(NaN);if(n.gt(e))throw Error(Vm+e);return r.cmp(n)<0?n:r.cmp(e)>0?e:new i(r)},Zt.comparedTo=Zt.cmp=function(n){var e,t,r,i,s=this,o=s.d,a=(n=new s.constructor(n)).d,l=s.s,c=n.s;if(!o||!a)return l&&c?l!==c?l:o===a?0:!o^l<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?l:a[0]?-c:0;if(l!==c)return l;if(s.e!==n.e)return s.e>n.e^l<0?1:-1;for(e=0,t=(r=o.length)<(i=a.length)?r:i;e<t;++e)if(o[e]!==a[e])return o[e]>a[e]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1},Zt.cosine=Zt.cos=function(){var n,e,t=this,r=t.constructor;return t.d?t.d[0]?(e=r.rounding,r.precision=(n=r.precision)+Math.max(t.e,t.sd())+_r,r.rounding=1,t=function pVe(n,e){var t,r,i;if(e.isZero())return e;(r=e.d.length)<32?i=(1/eF(4,t=Math.ceil(r/3))).toString():(t=16,i="2.3283064365386962890625e-10"),n.precision+=t,e=Fb(n,1,e.times(i),new n(1));for(var s=t;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return n.precision-=t,e}(r,Qne(r,t)),r.precision=n,r.rounding=e,or(2==Wp||3==Wp?t.neg():t,n,e,!0)):new r(1):new r(NaN)},Zt.cubeRoot=Zt.cbrt=function(){var n,e,t,r,i,s,o,a,l,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(zr=!1,(s=u.s*dl(u.s*u,1/3))&&Math.abs(s)!=1/0?r=new d(s.toString()):(t=sc(u.d),(s=((n=u.e)-t.length+1)%3)&&(t+=1==s||-2==s?"0":"00"),s=dl(t,1/3),n=Fc((n+1)/3)-(n%3==(n<0?-1:2)),(r=new d(t=s==1/0?"5e"+n:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+n)).s=u.s),o=(n=d.precision)+3;;)if(c=(l=(a=r).times(a).times(a)).plus(u),r=fo(c.plus(u).times(a),c.plus(l),o+2,1),sc(a.d).slice(0,o)===(t=sc(r.d)).slice(0,o)){if("9999"!=(t=t.slice(o-3,o+1))&&(i||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(or(r,n+1,1),e=!r.times(r).times(r).eq(u));break}if(!i&&(or(a,n+1,0),a.times(a).times(a).eq(u))){r=a;break}o+=4,i=1}return zr=!0,or(r,n,d.rounding,e)},Zt.decimalPlaces=Zt.dp=function(){var n,e=this.d,t=NaN;if(e){if(t=((n=e.length-1)-Fc(this.e/_r))*_r,n=e[n])for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t},Zt.dividedBy=Zt.div=function(n){return fo(this,new this.constructor(n))},Zt.dividedToIntegerBy=Zt.divToInt=function(n){var t=this.constructor;return or(fo(this,new t(n),0,1,1),t.precision,t.rounding)},Zt.equals=Zt.eq=function(n){return 0===this.cmp(n)},Zt.floor=function(){return or(new this.constructor(this),this.e+1,3)},Zt.greaterThan=Zt.gt=function(n){return this.cmp(n)>0},Zt.greaterThanOrEqualTo=Zt.gte=function(n){var e=this.cmp(n);return 1==e||0===e},Zt.hyperbolicCosine=Zt.cosh=function(){var n,e,t,r,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;r=o.rounding,o.precision=(t=o.precision)+Math.max(s.e,s.sd())+4,o.rounding=1,(i=s.d.length)<32?e=(1/eF(4,n=Math.ceil(i/3))).toString():(n=16,e="2.3283064365386962890625e-10"),s=Fb(o,1,s.times(e),new o(1),!0);for(var l,c=n,u=new o(8);c--;)l=s.times(s),s=a.minus(l.times(u.minus(l.times(u))));return or(s,o.precision=t,o.rounding=r,!0)},Zt.hyperbolicSine=Zt.sinh=function(){var n,e,t,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.rounding,s.precision=(e=s.precision)+Math.max(i.e,i.sd())+4,s.rounding=1,(r=i.d.length)<3)i=Fb(s,2,i,i,!0);else{n=1.4*Math.sqrt(r),i=Fb(s,2,i=i.times(1/eF(5,n=n>16?16:0|n)),i,!0);for(var o,a=new s(5),l=new s(16),c=new s(20);n--;)o=i.times(i),i=i.times(a.plus(o.times(l.times(o).plus(c))))}return s.precision=e,s.rounding=t,or(i,e,t,!0)},Zt.hyperbolicTangent=Zt.tanh=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+7,r.rounding=1,fo(t.sinh(),t.cosh(),r.precision=n,r.rounding=e)):new r(t.s)},Zt.inverseCosine=Zt.acos=function(){var n,e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,s=t.rounding;return-1!==r?0===r?e.isNeg()?Sf(t,i,s):new t(0):new t(NaN):e.isZero()?Sf(t,i+4,s).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),n=Sf(t,i+4,s).times(.5),t.precision=i,t.rounding=s,n.minus(e))},Zt.inverseHyperbolicCosine=Zt.acosh=function(){var n,e,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(e=r.rounding,r.precision=(n=r.precision)+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,zr=!1,t=t.times(t).minus(1).sqrt().plus(t),zr=!0,r.precision=n,r.rounding=e,t.ln()):new r(t)},Zt.inverseHyperbolicSine=Zt.asinh=function(){var n,e,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,zr=!1,t=t.times(t).plus(1).sqrt().plus(t),zr=!0,r.precision=n,r.rounding=e,t.ln())},Zt.inverseHyperbolicTangent=Zt.atanh=function(){var n,e,t,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=s.precision,e=s.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?or(new s(i),n,e,!0):(s.precision=t=r-i.e,i=fo(i.plus(1),new s(1).minus(i),t+n,1),s.precision=n+4,s.rounding=1,i=i.ln(),s.precision=n,s.rounding=e,i.times(.5))):new s(NaN)},Zt.inverseSine=Zt.asin=function(){var n,e,t,r,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),t=s.precision,r=s.rounding,-1!==e?0===e?((n=Sf(s,t+4,r).times(.5)).s=i.s,n):new s(NaN):(s.precision=t+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=t,s.rounding=r,i.times(2)))},Zt.inverseTangent=Zt.atan=function(){var n,e,t,r,i,s,o,a,l,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=aH)return(o=Sf(u,d+4,f).times(.25)).s=c.s,o}else{if(!c.s)return new u(NaN);if(d+4<=aH)return(o=Sf(u,d+4,f).times(.5)).s=c.s,o}for(u.precision=a=d+10,u.rounding=1,n=t=Math.min(28,a/_r+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(zr=!1,e=Math.ceil(a/_r),r=1,l=c.times(c),o=new u(c),i=c;-1!==n;)if(i=i.times(l),s=o.minus(i.div(r+=2)),i=i.times(l),void 0!==(o=s.plus(i.div(r+=2))).d[e])for(n=e;o.d[n]===s.d[n]&&n--;);return t&&(o=o.times(2<<t-1)),zr=!0,or(o,u.precision=d,u.rounding=f,!0)},Zt.isFinite=function(){return!!this.d},Zt.isInteger=Zt.isInt=function(){return!!this.d&&Fc(this.e/_r)>this.d.length-2},Zt.isNaN=function(){return!this.s},Zt.isNegative=Zt.isNeg=function(){return this.s<0},Zt.isPositive=Zt.isPos=function(){return this.s>0},Zt.isZero=function(){return!!this.d&&0===this.d[0]},Zt.lessThan=Zt.lt=function(n){return this.cmp(n)<0},Zt.lessThanOrEqualTo=Zt.lte=function(n){return this.cmp(n)<1},Zt.logarithm=Zt.log=function(n){var e,t,r,i,s,o,a,l,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(null==n)n=new u(10),e=!0;else{if(t=(n=new u(n)).d,n.s<0||!t||!t[0]||n.eq(1))return new u(NaN);e=n.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new u(t&&!t[0]?-1/0:1!=c.s?NaN:t?0:1/0);if(e)if(t.length>1)s=!0;else{for(i=t[0];i%10==0;)i/=10;s=1!==i}if(zr=!1,o=zm(c,a=d+5),r=e?ZI(u,a+10):zm(n,a),ux((l=fo(o,r,a,1)).d,i=d,f))do{if(o=zm(c,a+=10),r=e?ZI(u,a+10):zm(n,a),l=fo(o,r,a,1),!s){+sc(l.d).slice(i+1,i+15)+1==1e14&&(l=or(l,d+1,0));break}}while(ux(l.d,i+=10,f));return zr=!0,or(l,d,f)},Zt.minus=Zt.sub=function(n){var e,t,r,i,s,o,a,l,c,u,d,f,h=this,A=h.constructor;if(n=new A(n),!h.d||!n.d)return h.s&&n.s?h.d?n.s=-n.s:n=new A(n.d||h.s!==n.s?h:NaN):n=new A(NaN),n;if(h.s!=n.s)return n.s=-n.s,h.plus(n);if(f=n.d,a=A.precision,l=A.rounding,!(c=h.d)[0]||!f[0]){if(f[0])n.s=-n.s;else{if(!c[0])return new A(3===l?-0:0);n=new A(h)}return zr?or(n,a,l):n}if(t=Fc(n.e/_r),u=Fc(h.e/_r),c=c.slice(),s=u-t){for((d=s<0)?(e=c,s=-s,o=f.length):(e=f,t=u,o=c.length),s>(r=Math.max(Math.ceil(a/_r),o)+2)&&(s=r,e.length=1),e.reverse(),r=s;r--;)e.push(0);e.reverse()}else{for((d=(r=c.length)<(o=f.length))&&(o=r),r=0;r<o;r++)if(c[r]!=f[r]){d=c[r]<f[r];break}s=0}for(d&&(e=c,c=f,f=e,n.s=-n.s),r=f.length-(o=c.length);r>0;--r)c[o++]=0;for(r=f.length;r>s;){if(c[--r]<f[r]){for(i=r;i&&0===c[--i];)c[i]=Ef-1;--c[i],c[r]+=Ef}c[r]-=f[r]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--t;return c[0]?(n.d=c,n.e=JI(c,t),zr?or(n,a,l):n):new A(3===l?-0:0)},Zt.modulo=Zt.mod=function(n){var e,t=this,r=t.constructor;return n=new r(n),!t.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||t.d&&!t.d[0]?or(new r(t),r.precision,r.rounding):(zr=!1,9==r.modulo?(e=fo(t,n.abs(),0,3,1)).s*=n.s:e=fo(t,n,0,r.modulo,1),e=e.times(n),zr=!0,t.minus(e))},Zt.naturalExponential=Zt.exp=function(){return lH(this)},Zt.naturalLogarithm=Zt.ln=function(){return zm(this)},Zt.negated=Zt.neg=function(){var n=new this.constructor(this);return n.s=-n.s,or(n)},Zt.plus=Zt.add=function(n){var e,t,r,i,s,o,a,l,c,u,d=this,f=d.constructor;if(n=new f(n),!d.d||!n.d)return d.s&&n.s?d.d||(n=new f(n.d||d.s===n.s?d:NaN)):n=new f(NaN),n;if(d.s!=n.s)return n.s=-n.s,d.minus(n);if(u=n.d,a=f.precision,l=f.rounding,!(c=d.d)[0]||!u[0])return u[0]||(n=new f(d)),zr?or(n,a,l):n;if(s=Fc(d.e/_r),r=Fc(n.e/_r),c=c.slice(),i=s-r){for(i<0?(t=c,i=-i,o=u.length):(t=u,r=s,o=c.length),i>(o=(s=Math.ceil(a/_r))>o?s+1:o+1)&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for((o=c.length)-(i=u.length)<0&&(i=o,t=u,u=c,c=t),e=0;i;)e=(c[--i]=c[i]+u[i]+e)/Ef|0,c[i]%=Ef;for(e&&(c.unshift(e),++r),o=c.length;0==c[--o];)c.pop();return n.d=c,n.e=JI(c,r),zr?or(n,a,l):n},Zt.precision=Zt.sd=function(n){var e,t=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(Vm+n);return t.d?(e=Lne(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e},Zt.round=function(){var n=this,e=n.constructor;return or(new e(n),n.e+1,e.rounding)},Zt.sine=Zt.sin=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+Math.max(t.e,t.sd())+_r,r.rounding=1,t=function mVe(n,e){var t,r=e.d.length;if(r<3)return e.isZero()?e:Fb(n,2,e,e);t=1.4*Math.sqrt(r),e=Fb(n,2,e=e.times(1/eF(5,t=t>16?16:0|t)),e);for(var i,s=new n(5),o=new n(16),a=new n(20);t--;)i=e.times(e),e=e.times(s.plus(i.times(o.times(i).minus(a))));return e}(r,Qne(r,t)),r.precision=n,r.rounding=e,or(Wp>2?t.neg():t,n,e,!0)):new r(NaN)},Zt.squareRoot=Zt.sqrt=function(){var n,e,t,r,i,s,o=this,a=o.d,l=o.e,c=o.s,u=o.constructor;if(1!==c||!a||!a[0])return new u(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(zr=!1,0==(c=Math.sqrt(+o))||c==1/0?(((e=sc(a)).length+l)%2==0&&(e+="0"),c=Math.sqrt(e),l=Fc((l+1)/2)-(l<0||l%2),r=new u(e=c==1/0?"5e"+l:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+l)):r=new u(c.toString()),t=(l=u.precision)+3;;)if(r=(s=r).plus(fo(o,s,t+2,1)).times(.5),sc(s.d).slice(0,t)===(e=sc(r.d)).slice(0,t)){if("9999"!=(e=e.slice(t-3,t+1))&&(i||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(or(r,l+1,1),n=!r.times(r).eq(o));break}if(!i&&(or(s,l+1,0),s.times(s).eq(o))){r=s;break}t+=4,i=1}return zr=!0,or(r,l,u.rounding,n)},Zt.tangent=Zt.tan=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+10,r.rounding=1,(t=t.sin()).s=1,t=fo(t,new r(1).minus(t.times(t)).sqrt(),n+10,0),r.precision=n,r.rounding=e,or(2==Wp||4==Wp?t.neg():t,n,e,!0)):new r(NaN)},Zt.times=Zt.mul=function(n){var e,t,r,i,s,o,a,l,c,u=this,d=u.constructor,f=u.d,h=(n=new d(n)).d;if(n.s*=u.s,!(f&&f[0]&&h&&h[0]))return new d(!n.s||f&&!f[0]&&!h||h&&!h[0]&&!f?NaN:f&&h?0*n.s:n.s/0);for(t=Fc(u.e/_r)+Fc(n.e/_r),(l=f.length)<(c=h.length)&&(s=f,f=h,h=s,o=l,l=c,c=o),s=[],r=o=l+c;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+h[r]*f[i-r-1]+e,s[i--]=a%Ef|0,e=a/Ef|0;s[i]=(s[i]+e)%Ef|0}for(;!s[--o];)s.pop();return e?++t:s.shift(),n.d=s,n.e=JI(s,t),zr?or(n,d.precision,d.rounding):n},Zt.toBinary=function(n,e){return uH(this,2,n,e)},Zt.toDecimalPlaces=Zt.toDP=function(n,e){var t=this,r=t.constructor;return t=new r(t),void 0===n?t:(ju(n,0,Hm),void 0===e?e=r.rounding:ju(e,0,8),or(t,n+t.e+1,e))},Zt.toExponential=function(n,e){var t,r=this,i=r.constructor;return void 0===n?t=xA(r,!0):(ju(n,0,Hm),void 0===e?e=i.rounding:ju(e,0,8),t=xA(r=or(new i(r),n+1,e),!0,n+1)),r.isNeg()&&!r.isZero()?"-"+t:t},Zt.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return void 0===n?t=xA(i):(ju(n,0,Hm),void 0===e?e=s.rounding:ju(e,0,8),t=xA(r=or(new s(i),n+i.e+1,e),!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t},Zt.toFraction=function(n){var e,t,r,i,s,o,a,l,c,u,d,f,h=this,A=h.d,p=h.constructor;if(!A)return new p(h);if(c=t=new p(1),r=l=new p(0),s=(e=new p(r)).e=Lne(A)-h.e-1,e.d[0]=dl(10,(o=s%_r)<0?_r+o:o),null==n)n=s>0?e:c;else{if(!(a=new p(n)).isInt()||a.lt(c))throw Error(Vm+a);n=a.gt(e)?s>0?e:c:a}for(zr=!1,a=new p(sc(A)),u=p.precision,p.precision=s=A.length*_r*2;d=fo(a,e,0,1,1),1!=(i=t.plus(d.times(r))).cmp(n);)t=r,r=i,c=l.plus(d.times(i=c)),l=i,e=a.minus(d.times(i=e)),a=i;return i=fo(n.minus(t),r,0,1,1),l=l.plus(i.times(c)),t=t.plus(i.times(r)),l.s=c.s=h.s,f=fo(c,r,s,1).minus(h).abs().cmp(fo(l,t,s,1).minus(h).abs())<1?[c,r]:[l,t],p.precision=u,zr=!0,f},Zt.toHexadecimal=Zt.toHex=function(n,e){return uH(this,16,n,e)},Zt.toNearest=function(n,e){var t=this,r=t.constructor;if(t=new r(t),null==n){if(!t.d)return t;n=new r(1),e=r.rounding}else{if(n=new r(n),void 0===e?e=r.rounding:ju(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(zr=!1,t=fo(t,n,0,e,1).times(n),zr=!0,or(t)):(n.s=t.s,t=n),t},Zt.toNumber=function(){return+this},Zt.toOctal=function(n,e){return uH(this,8,n,e)},Zt.toPower=Zt.pow=function(n){var e,t,r,i,s,o,a=this,l=a.constructor,c=+(n=new l(n));if(!(a.d&&n.d&&a.d[0]&&n.d[0]))return new l(dl(+a,c));if((a=new l(a)).eq(1))return a;if(r=l.precision,s=l.rounding,n.eq(1))return or(a,r,s);if((e=Fc(n.e/_r))>=n.d.length-1&&(t=c<0?-c:c)<=9007199254740991)return i=Une(l,a,t,r),n.s<0?new l(1).div(i):or(i,r,s);if((o=a.s)<0){if(e<n.d.length-1)return new l(NaN);if(1&n.d[e]||(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(e=0!=(t=dl(+a,c))&&isFinite(t)?new l(t+"").e:Fc(c*(Math.log("0."+sc(a.d))/Math.LN10+a.e+1)))>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(zr=!1,l.rounding=a.s=1,t=Math.min(12,(e+"").length),(i=lH(n.times(zm(a,r+t)),r)).d&&ux((i=or(i,r+5,1)).d,r,s)&&+sc((i=or(lH(n.times(zm(a,(e=r+10)+t)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=or(i,r+1,0)),i.s=o,zr=!0,l.rounding=s,or(i,r,s))},Zt.toPrecision=function(n,e){var t,r=this,i=r.constructor;return void 0===n?t=xA(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(ju(n,1,Hm),void 0===e?e=i.rounding:ju(e,0,8),t=xA(r=or(new i(r),n,e),n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+t:t},Zt.toSignificantDigits=Zt.toSD=function(n,e){var r=this.constructor;return void 0===n?(n=r.precision,e=r.rounding):(ju(n,1,Hm),void 0===e?e=r.rounding:ju(e,0,8)),or(new r(this),n,e)},Zt.toString=function(){var n=this,e=n.constructor,t=xA(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t},Zt.truncated=Zt.trunc=function(){return or(new this.constructor(this),this.e+1,1)},Zt.valueOf=Zt.toJSON=function(){var n=this,e=n.constructor,t=xA(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};var fo=function(){function n(r,i,s){var o,a=0,l=r.length;for(r=r.slice();l--;)r[l]=(o=r[l]*i+a)%s|0,a=o/s|0;return a&&r.unshift(a),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function t(r,i,s,o){for(var a=0;s--;)r[s]-=a,r[s]=(a=r[s]<i[s]?1:0)*o+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o,a,l){var c,u,d,f,h,A,p,m,g,y,v,_,C,b,M,D,S,T,B,R,U=r.constructor,k=r.s==i.s?1:-1,q=r.d,O=i.d;if(!(q&&q[0]&&O&&O[0]))return new U(r.s&&i.s&&(q?!O||q[0]!=O[0]:O)?q&&0==q[0]||!O?0*k:k/0:NaN);for(l?(h=1,u=r.e-i.e):(l=Ef,u=Fc(r.e/(h=_r))-Fc(i.e/h)),B=O.length,S=q.length,y=(g=new U(k)).d=[],d=0;O[d]==(q[d]||0);d++);if(O[d]>(q[d]||0)&&u--,null==s?(b=s=U.precision,o=U.rounding):b=a?s+(r.e-i.e)+1:s,b<0)y.push(1),A=!0;else{if(b=b/h+2|0,d=0,1==B){for(f=0,O=O[0],b++;(d<S||f)&&b--;d++)y[d]=(M=f*l+(q[d]||0))/O|0,f=M%O|0;A=f||d<S}else{for((f=l/(O[0]+1)|0)>1&&(O=n(O,f,l),q=n(q,f,l),B=O.length,S=q.length),D=B,_=(v=q.slice(0,B)).length;_<B;)v[_++]=0;(R=O.slice()).unshift(0),T=O[0],O[1]>=l/2&&++T;do{f=0,(c=e(O,v,B,_))<0?(C=v[0],B!=_&&(C=C*l+(v[1]||0)),(f=C/T|0)>1?(f>=l&&(f=l-1),1==(c=e(p=n(O,f,l),v,m=p.length,_=v.length))&&(f--,t(p,B<m?R:O,m,l))):(0==f&&(c=f=1),p=O.slice()),(m=p.length)<_&&p.unshift(0),t(v,p,_,l),-1==c&&(c=e(O,v,B,_=v.length))<1&&(f++,t(v,B<_?R:O,_,l)),_=v.length):0===c&&(f++,v=[0]),y[d++]=f,c&&v[0]?v[_++]=q[D]||0:(v=[q[D]],_=1)}while((D++<S||void 0!==v[0])&&b--);A=void 0!==v[0]}y[0]||y.shift()}if(1==h)g.e=u,Ine=A;else{for(d=1,f=y[0];f>=10;f/=10)d++;g.e=d+u*h-1,or(g,a?s+g.e+1:s,o,A)}return g}}();function or(n,e,t,r){var i,s,o,a,l,c,u,d,f,h=n.constructor;e:if(null!=e){if(!(d=n.d))return n;for(i=1,a=d[0];a>=10;a/=10)i++;if((s=e-i)<0)s+=_r,l=(u=d[f=0])/dl(10,i-(o=e)-1)%10|0;else if((f=Math.ceil((s+1)/_r))>=(a=d.length)){if(!r)break e;for(;a++<=f;)d.push(0);u=l=0,i=1,o=(s%=_r)-_r+1}else{for(u=a=d[f],i=1;a>=10;a/=10)i++;l=(o=(s%=_r)-_r+i)<0?0:u/dl(10,i-o-1)%10|0}if(r=r||e<0||void 0!==d[f+1]||(o<0?u:u%dl(10,i-o-1)),c=t<4?(l||r)&&(0==t||t==(n.s<0?3:2)):l>5||5==l&&(4==t||r||6==t&&(s>0?o>0?u/dl(10,i-o):0:d[f-1])%10&1||t==(n.s<0?8:7)),e<1||!d[0])return d.length=0,c?(d[0]=dl(10,(_r-(e-=n.e+1)%_r)%_r),n.e=-e||0):d[0]=n.e=0,n;if(0==s?(d.length=f,a=1,f--):(d.length=f+1,a=dl(10,_r-s),d[f]=o>0?(u/dl(10,i-o)%dl(10,o)|0)*a:0),c)for(;;){if(0==f){for(s=1,o=d[0];o>=10;o/=10)s++;for(o=d[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(n.e++,d[0]==Ef&&(d[0]=1));break}if(d[f]+=a,d[f]!=Ef)break;d[f--]=0,a=1}for(s=d.length;0===d[--s];)d.pop()}return zr&&(n.e>h.maxE?(n.d=null,n.e=NaN):n.e<h.minE&&(n.e=0,n.d=[0])),n}function xA(n,e,t){if(!n.isFinite())return Vne(n);var r,i=n.e,s=sc(n.d),o=s.length;return e?(t&&(r=t-o)>0?s=s.charAt(0)+"."+s.slice(1)+Qm(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n.e<0?"e":"e+")+n.e):i<0?(s="0."+Qm(-i-1)+s,t&&(r=t-o)>0&&(s+=Qm(r))):i>=o?(s+=Qm(i+1-o),t&&(r=t-i-1)>0&&(s=s+"."+Qm(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-o)>0&&(i+1===o&&(s+="."),s+=Qm(r))),s}function JI(n,e){var t=n[0];for(e*=_r;t>=10;t/=10)e++;return e}function ZI(n,e,t){if(e>AVe)throw zr=!0,t&&(n.precision=t),Error(Fne);return or(new n($I),e,1,!0)}function Sf(n,e,t){if(e>aH)throw Error(Fne);return or(new n(KI),e,t,!0)}function Lne(n){var e=n.length-1,t=e*_r+1;if(e=n[e]){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function Qm(n){for(var e="";n--;)e+="0";return e}function Une(n,e,t,r){var i,s=new n(1),o=Math.ceil(r/_r+4);for(zr=!1;;){if(t%2&&zne((s=s.times(e)).d,o)&&(i=!0),0===(t=Fc(t/2))){t=s.d.length-1,i&&0===s.d[t]&&++s.d[t];break}zne((e=e.times(e)).d,o)}return zr=!0,s}function kne(n){return 1&n.d[n.d.length-1]}function Hne(n,e,t){for(var r,i=new n(e[0]),s=0;++s<e.length;){if(!(r=new n(e[s])).s){i=r;break}i[t](r)&&(i=r)}return i}function lH(n,e){var t,r,i,s,o,a,l,c=0,u=0,d=0,f=n.constructor,h=f.rounding,A=f.precision;if(!n.d||!n.d[0]||n.e>17)return new f(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==e?(zr=!1,l=A):l=e,a=new f(.03125);n.e>-2;)n=n.times(a),d+=5;for(l+=r=Math.log(dl(2,d))/Math.LN10*2+5|0,t=s=o=new f(1),f.precision=l;;){if(s=or(s.times(n),l,1),t=t.times(++u),sc((a=o.plus(fo(s,t,l,1))).d).slice(0,l)===sc(o.d).slice(0,l)){for(i=d;i--;)o=or(o.times(o),l,1);if(null!=e)return f.precision=A,o;if(!(c<3&&ux(o.d,l-r,h,c)))return or(o,f.precision=A,h,zr=!0);f.precision=l+=10,t=s=a=new f(1),u=0,c++}o=a}}function zm(n,e){var t,r,i,s,o,a,l,c,u,d,f,h=1,p=n,m=p.d,g=p.constructor,y=g.rounding,v=g.precision;if(p.s<0||!m||!m[0]||!p.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=p.s?NaN:m?0:p);if(null==e?(zr=!1,u=v):u=e,g.precision=u+=10,r=(t=sc(m)).charAt(0),!(Math.abs(s=p.e)<15e14))return c=ZI(g,u+2,v).times(s+""),p=zm(new g(r+"."+t.slice(1)),u-10).plus(c),g.precision=v,null==e?or(p,v,y,zr=!0):p;for(;r<7&&1!=r||1==r&&t.charAt(1)>3;)r=(t=sc((p=p.times(n)).d)).charAt(0),h++;for(s=p.e,r>1?(p=new g("0."+t),s++):p=new g(r+"."+t.slice(1)),d=p,l=o=p=fo(p.minus(1),p.plus(1),u,1),f=or(p.times(p),u,1),i=3;;){if(o=or(o.times(f),u,1),sc((c=l.plus(fo(o,new g(i),u,1))).d).slice(0,u)===sc(l.d).slice(0,u)){if(l=l.times(2),0!==s&&(l=l.plus(ZI(g,u+2,v).times(s+""))),l=fo(l,new g(h),u,1),null!=e)return g.precision=v,l;if(!ux(l.d,u-10,y,a))return or(l,g.precision=v,y,zr=!0);g.precision=u+=10,c=o=p=fo(d.minus(1),d.plus(1),u,1),f=or(p.times(p),u,1),i=a=1}l=c,i+=2}}function Vne(n){return String(n.s*n.s/0)}function cH(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,n.e=t=t-r-1,n.d=[],r=(t+1)%_r,t<0&&(r+=_r),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=_r;r<i;)n.d.push(+e.slice(r,r+=_r));e=e.slice(r),r=_r-e.length}else r-=i;for(;r--;)e+="0";n.d.push(+e),zr&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function Fb(n,e,t,r,i){var s,o,a,l,u=n.precision,d=Math.ceil(u/_r);for(zr=!1,l=t.times(t),a=new n(r);;){if(o=fo(a.times(l),new n(e++*e++),u,1),a=i?r.plus(o):r.minus(o),r=fo(o.times(l),new n(e++*e++),u,1),void 0!==(o=a.plus(r)).d[d]){for(s=d;o.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=r,r=o,o=s}return zr=!0,o.d.length=d+1,o}function eF(n,e){for(var t=n;--e;)t*=n;return t}function Qne(n,e){var t,r=e.s<0,i=Sf(n,n.precision,1),s=i.times(.5);if((e=e.abs()).lte(s))return Wp=r?4:1,e;if((t=e.divToInt(i)).isZero())Wp=r?3:2;else{if((e=e.minus(t.times(i))).lte(s))return Wp=kne(t)?r?2:3:r?4:1,e;Wp=kne(t)?r?1:4:r?3:2}return e.minus(i).abs()}function uH(n,e,t,r){var i,s,o,a,l,c,u,d,f,h=n.constructor,A=void 0!==t;if(A?(ju(t,1,Hm),void 0===r?r=h.rounding:ju(r,0,8)):(t=h.precision,r=h.rounding),n.isFinite()){for(A?(i=2,16==e?t=4*t-3:8==e&&(t=3*t-2)):i=e,(o=(u=xA(n)).indexOf("."))>=0&&(u=u.replace(".",""),(f=new h(1)).e=u.length-o,f.d=YI(xA(f),10,i),f.e=f.d.length),s=l=(d=YI(u,10,i)).length;0==d[--l];)d.pop();if(d[0]){if(o<0?s--:((n=new h(n)).d=d,n.e=s,d=(n=fo(n,f,t,r,0,i)).d,s=n.e,c=Ine),o=d[t],a=i/2,c=c||void 0!==d[t+1],c=r<4?(void 0!==o||c)&&(0===r||r===(n.s<0?3:2)):o>a||o===a&&(4===r||c||6===r&&1&d[t-1]||r===(n.s<0?8:7)),d.length=t,c)for(;++d[--t]>i-1;)d[t]=0,t||(++s,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,u="";o<l;o++)u+=sH.charAt(d[o]);if(A){if(l>1)if(16==e||8==e){for(o=16==e?4:3,--l;l%o;l++)u+="0";for(l=(d=YI(u,i,e)).length;!d[l-1];--l);for(o=1,u="1.";o<l;o++)u+=sH.charAt(d[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s))}else u=A?"0p+0":"0";u=(16==e?"0x":2==e?"0b":8==e?"0o":"")+u}else u=Vne(n);return n.s<0?"-"+u:u}function zne(n,e){if(n.length>e)return n.length=e,!0}function vVe(n){return new this(n).abs()}function yVe(n){return new this(n).acos()}function _Ve(n){return new this(n).acosh()}function bVe(n,e){return new this(n).plus(e)}function wVe(n){return new this(n).asin()}function CVe(n){return new this(n).asinh()}function EVe(n){return new this(n).atan()}function SVe(n){return new this(n).atanh()}function xVe(n,e){n=new this(n),e=new this(e);var t,r=this.precision,i=this.rounding,s=r+4;return n.s&&e.s?n.d||e.d?!e.d||n.isZero()?(t=e.s<0?Sf(this,r,i):new this(0)).s=n.s:!n.d||e.isZero()?(t=Sf(this,s,1).times(.5)).s=n.s:e.s<0?(this.precision=s,this.rounding=1,t=this.atan(fo(n,e,s,1)),e=Sf(this,s,1),this.precision=r,this.rounding=i,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(fo(n,e,s,1)):(t=Sf(this,s,1).times(e.s>0?.25:.75)).s=n.s:t=new this(NaN),t}function DVe(n){return new this(n).cbrt()}function MVe(n){return or(n=new this(n),n.e+1,2)}function TVe(n,e,t){return new this(n).clamp(e,t)}function BVe(n){if(!n||"object"!=typeof n)throw Error(XI+"Object expected");var e,t,r,i=!0===n.defaults,s=["precision",1,Hm,"rounding",0,8,"toExpNeg",-Ib,0,"toExpPos",0,Ib,"maxE",0,Ib,"minE",-Ib,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(t=s[e],i&&(this[t]=oH[t]),void 0!==(r=n[t])){if(!(Fc(r)===r&&r>=s[e+1]&&r<=s[e+2]))throw Error(Vm+t+": "+r);this[t]=r}if(t="crypto",i&&(this[t]=oH[t]),void 0!==(r=n[t])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Vm+t+": "+r);if(r){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(Rne);this[t]=!0}else this[t]=!1}return this}function NVe(n){return new this(n).cos()}function IVe(n){return new this(n).cosh()}function FVe(n,e){return new this(n).div(e)}function RVe(n){return new this(n).exp()}function OVe(n){return or(n=new this(n),n.e+1,3)}function PVe(){var n,e,t=new this(0);for(zr=!1,n=0;n<arguments.length;)if((e=new this(arguments[n++])).d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return zr=!0,new this(1/0);t=e}return zr=!0,t.sqrt()}function jne(n){return n instanceof dx||n&&n.toStringTag===One||!1}function LVe(n){return new this(n).ln()}function UVe(n,e){return new this(n).log(e)}function kVe(n){return new this(n).log(2)}function HVe(n){return new this(n).log(10)}function VVe(){return Hne(this,arguments,"lt")}function QVe(){return Hne(this,arguments,"gt")}function zVe(n,e){return new this(n).mod(e)}function GVe(n,e){return new this(n).mul(e)}function jVe(n,e){return new this(n).pow(e)}function qVe(n){var e,t,r,i,s=0,o=new this(1),a=[];if(void 0===n?n=this.precision:ju(n,1,Hm),r=Math.ceil(n/_r),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));s<r;)(i=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Rne);for(e=crypto.randomBytes(r*=4);s<r;)(i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(i%1e7),s+=4);s=r/4}else for(;s<r;)a[s++]=1e7*Math.random()|0;for(r=a[--s],n%=_r,r&&n&&(i=dl(10,_r-n),a[s]=(r/i|0)*i);0===a[s];s--)a.pop();if(s<0)t=0,a=[0];else{for(t=-1;0===a[0];t-=_r)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<_r&&(t-=_r-r)}return o.e=t,o.d=a,o}function WVe(n){return or(n=new this(n),n.e+1,this.rounding)}function $Ve(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function KVe(n){return new this(n).sin()}function XVe(n){return new this(n).sinh()}function YVe(n){return new this(n).sqrt()}function JVe(n,e){return new this(n).sub(e)}function ZVe(){var n=0,e=arguments,t=new this(e[n]);for(zr=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return zr=!0,or(t,this.precision,this.rounding)}function eQe(n){return new this(n).tan()}function tQe(n){return new this(n).tanh()}function nQe(n){return or(n=new this(n),n.e+1,1)}Zt[Symbol.for("nodejs.util.inspect.custom")]=Zt.toString,Zt[Symbol.toStringTag]="Decimal";var dx=Zt.constructor=function Gne(n){var e,t,r;function i(s){var o,a,l,c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,jne(s))return c.s=s.s,void(zr?!s.d||s.e>i.maxE?(c.e=NaN,c.d=null):s.e<i.minE?(c.e=0,c.d=[0]):(c.e=s.e,c.d=s.d.slice()):(c.e=s.e,c.d=s.d?s.d.slice():s.d));if("number"==(l=typeof s)){if(0===s)return c.s=1/s<0?-1:1,c.e=0,void(c.d=[0]);if(s<0?(s=-s,c.s=-1):c.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;return void(zr?o>i.maxE?(c.e=NaN,c.d=null):o<i.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[s]):(c.e=o,c.d=[s]))}return 0*s!=0?(s||(c.s=NaN),c.e=NaN,void(c.d=null)):cH(c,s.toString())}if("string"!==l)throw Error(Vm+s);return 45===(a=s.charCodeAt(0))?(s=s.slice(1),c.s=-1):(43===a&&(s=s.slice(1)),c.s=1),Pne.test(s)?cH(c,s):function gVe(n,e){var t,r,i,s,o,a,l,c,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Pne.test(e))return cH(n,e)}else if("Infinity"===e||"NaN"===e)return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(dVe.test(e))t=16,e=e.toLowerCase();else if(uVe.test(e))t=2;else{if(!hVe.test(e))throw Error(Vm+e);t=8}for((s=e.search(/p/i))>0?(l=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),r=n.constructor,(o=s>=0)&&(s=(a=(e=e.replace(".","")).length)-s,i=Une(r,new r(t),s,2*s)),s=u=(c=YI(e,t,Ef)).length-1;0===c[s];--s)c.pop();return s<0?new r(0*n.s):(n.e=JI(c,u),n.d=c,zr=!1,o&&(n=fo(n,i,4*a)),l&&(n=n.times(Math.abs(l)<54?dl(2,l):dx.pow(2,l))),zr=!0,n)}(c,s)}if(i.prototype=Zt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=BVe,i.clone=Gne,i.isDecimal=jne,i.abs=vVe,i.acos=yVe,i.acosh=_Ve,i.add=bVe,i.asin=wVe,i.asinh=CVe,i.atan=EVe,i.atanh=SVe,i.atan2=xVe,i.cbrt=DVe,i.ceil=MVe,i.clamp=TVe,i.cos=NVe,i.cosh=IVe,i.div=FVe,i.exp=RVe,i.floor=OVe,i.hypot=PVe,i.ln=LVe,i.log=UVe,i.log10=HVe,i.log2=kVe,i.max=VVe,i.min=QVe,i.mod=zVe,i.mul=GVe,i.pow=jVe,i.random=qVe,i.round=WVe,i.sign=$Ve,i.sin=KVe,i.sinh=XVe,i.sqrt=YVe,i.sub=JVe,i.sum=ZVe,i.tan=eQe,i.tanh=tQe,i.trunc=nQe,void 0===n&&(n={}),n&&!0!==n.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}(oH);$I=new dx($I),KI=new dx(KI);const tF=dx;var sQe=ye("BigNumber",["?on","config"],n=>{var{on:e,config:t}=n,r=tF.clone({precision:t.precision,modulo:tF.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,s){i.precision!==s.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const Rc=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},Ah=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},dH=function(n,e){return(n=Math.abs(n))<(e=Math.abs(e))&&([n,e]=[e,n]),n<1e8?Math.sqrt(n*n+e*e):(e/=n,n*Math.sqrt(1+e*e))},Rb=function(){throw SyntaxError("Invalid Param")};function hH(n,e){const t=Math.abs(n),r=Math.abs(e);return 0===n?Math.log(r):0===e?Math.log(t):t<3e3&&r<3e3?.5*Math.log(n*n+e*e):(n*=.5,e*=.5,.5*Math.log(n*n+e*e)+Math.LN2)}const aQe={re:0,im:0},Z0=function(n,e){const t=aQe;if(null==n)t.re=t.im=0;else if(void 0!==e)t.re=n,t.im=e;else switch(typeof n){case"object":if("im"in n&&"re"in n)t.re=n.re,t.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Pt.INFINITY;t.re=n.abs*Math.cos(n.arg),t.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Pt.INFINITY;t.re=n.r*Math.cos(n.phi),t.im=n.r*Math.sin(n.phi)}else 2===n.length?(t.re=n[0],t.im=n[1]):Rb();break;case"string":t.im=t.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,s=0;null===r&&Rb();for(let o=0;o<r.length;o++){const a=r[o];" "===a||"\t"===a||"\n"===a||("+"===a?i++:"-"===a?s++:"i"===a||"I"===a?(i+s===0&&Rb()," "===r[o+1]||isNaN(r[o+1])?t.im+=parseFloat((s%2?"-":"")+"1"):(t.im+=parseFloat((s%2?"-":"")+r[o+1]),o++),i=s=0):((i+s===0||isNaN(a))&&Rb(),"i"===r[o+1]||"I"===r[o+1]?(t.im+=parseFloat((s%2?"-":"")+a),o++):t.re+=parseFloat((s%2?"-":"")+a),i=s=0))}i+s>0&&Rb();break;case"number":t.im=0,t.re=n;break;default:Rb()}return isNaN(t.re)||isNaN(t.im),t};function Pt(n,e){if(!(this instanceof Pt))return new Pt(n,e);const t=Z0(n,e);this.re=t.re,this.im=t.im}Pt.prototype={re:0,im:0,sign:function(){const n=dH(this.re,this.im);return new Pt(this.re/n,this.im/n)},add:function(n,e){const t=Z0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Pt.NAN:Pt.INFINITY:new Pt(this.re+t.re,this.im+t.im)},sub:function(n,e){const t=Z0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Pt.NAN:Pt.INFINITY:new Pt(this.re-t.re,this.im-t.im)},mul:function(n,e){const t=Z0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r&&0===t.re&&0===t.im||i&&0===this.re&&0===this.im?Pt.NAN:r||i?Pt.INFINITY:0===t.im&&0===this.im?new Pt(this.re*t.re,0):new Pt(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(n,e){const t=Z0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),s=0===this.re&&0===this.im,o=0===t.re&&0===t.im;if(s&&o||r&&i)return Pt.NAN;if(o||r)return Pt.INFINITY;if(s||i)return Pt.ZERO;if(0===t.im)return new Pt(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const a=t.re/t.im,l=t.re*a+t.im;return new Pt((this.re*a+this.im)/l,(this.im*a-this.re)/l)}{const a=t.im/t.re,l=t.im*a+t.re;return new Pt((this.re+this.im*a)/l,(this.im-this.re*a)/l)}},pow:function(n,e){const t=Z0(n,e),r=0===this.re&&0===this.im;if(0===t.re&&0===t.im)return Pt.ONE;if(0===t.im){if(0===this.im&&this.re>0)return new Pt(Math.pow(this.re,t.re),0);if(0===this.re)switch((t.re%4+4)%4){case 0:return new Pt(Math.pow(this.im,t.re),0);case 1:return new Pt(0,Math.pow(this.im,t.re));case 2:return new Pt(-Math.pow(this.im,t.re),0);case 3:return new Pt(0,-Math.pow(this.im,t.re))}}if(r&&t.re>0)return Pt.ZERO;const s=Math.atan2(this.im,this.re),o=hH(this.re,this.im);let a=Math.exp(t.re*o-t.im*s),l=t.im*o+t.re*s;return new Pt(a*Math.cos(l),a*Math.sin(l))},sqrt:function(){const n=this.re,e=this.im;if(0===e)return n>=0?new Pt(Math.sqrt(n),0):new Pt(0,Math.sqrt(-n));const t=dH(n,e);let r=Math.sqrt(.5*(t+Math.abs(n))),i=Math.abs(e)/(2*r);return n>=0?new Pt(r,e<0?-i:i):new Pt(i,e<0?-r:r)},exp:function(){const n=Math.exp(this.re);return 0===this.im?new Pt(n,0):new Pt(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,e=this.im;return new Pt(Math.expm1(n)*Math.cos(e)+function(n){const e=Math.PI/4;if(-e>n||n>e)return Math.cos(n)-1;const t=n*n;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(n)*Math.sin(e))},log:function(){const n=this.re,e=this.im;return 0===e&&n>0?new Pt(Math.log(n),0):new Pt(hH(n,e),Math.atan2(e,n))},abs:function(){return dH(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,e=this.im;return new Pt(Math.sin(n)*Rc(e),Math.cos(n)*Ah(e))},cos:function(){const n=this.re,e=this.im;return new Pt(Math.cos(n)*Rc(e),-Math.sin(n)*Ah(e))},tan:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)+Rc(e);return new Pt(Math.sin(n)/t,Ah(e)/t)},cot:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)-Rc(e);return new Pt(-Math.sin(n)/t,Ah(e)/t)},sec:function(){const n=this.re,e=this.im,t=.5*Rc(2*e)+.5*Math.cos(2*n);return new Pt(Math.cos(n)*Rc(e)/t,Math.sin(n)*Ah(e)/t)},csc:function(){const n=this.re,e=this.im,t=.5*Rc(2*e)-.5*Math.cos(2*n);return new Pt(Math.sin(n)*Rc(e)/t,-Math.cos(n)*Ah(e)/t)},asin:function(){const n=this.re,e=this.im,t=new Pt(e*e-n*n+1,-2*n*e).sqrt(),r=new Pt(t.re-e,t.im+n).log();return new Pt(r.im,-r.re)},acos:function(){const n=this.re,e=this.im,t=new Pt(e*e-n*n+1,-2*n*e).sqrt(),r=new Pt(t.re-e,t.im+n).log();return new Pt(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,e=this.im;if(0===n){if(1===e)return new Pt(0,1/0);if(-1===e)return new Pt(0,-1/0)}const t=n*n+(1-e)*(1-e),r=new Pt((1-e*e-n*n)/t,-2*n/t).log();return new Pt(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,e=this.im;if(0===e)return new Pt(Math.atan2(1,n),0);const t=n*n+e*e;return 0!==t?new Pt(n/t,-e/t).atan():new Pt(0!==n?n/0:0,0!==e?-e/0:0).atan()},asec:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Pt(0,1/0);const t=n*n+e*e;return 0!==t?new Pt(n/t,-e/t).acos():new Pt(0!==n?n/0:0,0!==e?-e/0:0).acos()},acsc:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Pt(Math.PI/2,1/0);const t=n*n+e*e;return 0!==t?new Pt(n/t,-e/t).asin():new Pt(0!==n?n/0:0,0!==e?-e/0:0).asin()},sinh:function(){const n=this.re,e=this.im;return new Pt(Ah(n)*Math.cos(e),Rc(n)*Math.sin(e))},cosh:function(){const n=this.re,e=this.im;return new Pt(Rc(n)*Math.cos(e),Ah(n)*Math.sin(e))},tanh:function(){const n=2*this.re,e=2*this.im,t=Rc(n)+Math.cos(e);return new Pt(Ah(n)/t,Math.sin(e)/t)},coth:function(){const n=2*this.re,e=2*this.im,t=Rc(n)-Math.cos(e);return new Pt(Ah(n)/t,-Math.sin(e)/t)},csch:function(){const n=this.re,e=this.im,t=Math.cos(2*e)-Rc(2*n);return new Pt(-2*Ah(n)*Math.cos(e)/t,2*Rc(n)*Math.sin(e)/t)},sech:function(){const n=this.re,e=this.im,t=Math.cos(2*e)+Rc(2*n);return new Pt(2*Rc(n)*Math.cos(e)/t,-2*Ah(n)*Math.sin(e)/t)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const e=this.asin();return this.re=-this.im,this.im=n,n=e.re,e.re=-e.im,e.im=n,e},acosh:function(){const n=this.acos();if(n.im<=0){const e=n.re;n.re=-n.im,n.im=e}else{const e=n.im;n.im=-n.re,n.re=e}return n},atanh:function(){const n=this.re,e=this.im,t=n>1&&0===e,r=1-n,i=1+n,s=r*r+e*e,o=0!==s?new Pt((i*r-e*e)/s,(e*r+i*e)/s):new Pt(-1!==n?n/0:0,0!==e?e/0:0),a=o.re;return o.re=hH(o.re,o.im)/2,o.im=Math.atan2(o.im,a)/2,t&&(o.im=-o.im),o},acoth:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Pt(0,Math.PI/2);const t=n*n+e*e;return 0!==t?new Pt(n/t,-e/t).atanh():new Pt(0!==n?n/0:0,0!==e?-e/0:0).atanh()},acsch:function(){const n=this.re,e=this.im;if(0===e)return new Pt(0!==n?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const t=n*n+e*e;return 0!==t?new Pt(n/t,-e/t).asinh():new Pt(0!==n?n/0:0,0!==e?-e/0:0).asinh()},asech:function(){const n=this.re,e=this.im;if(this.isZero())return Pt.INFINITY;const t=n*n+e*e;return 0!==t?new Pt(n/t,-e/t).acosh():new Pt(0!==n?n/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Pt.INFINITY;if(this.isInfinite())return Pt.ZERO;const n=this.re,e=this.im,t=n*n+e*e;return new Pt(n/t,-e/t)},conjugate:function(){return new Pt(this.re,-this.im)},neg:function(){return new Pt(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Pt(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Pt(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Pt(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,e){const t=Z0(n,e);return Math.abs(t.re-this.re)<=Pt.EPSILON&&Math.abs(t.im-this.im)<=Pt.EPSILON},clone:function(){return new Pt(this.re,this.im)},toString:function(){let n=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Pt.EPSILON&&(n=0),Math.abs(e)<Pt.EPSILON&&(e=0),0===e?t+n:(0!==n?(t+=n,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),1!==e&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Pt.ZERO=new Pt(0,0),Pt.ONE=new Pt(1,0),Pt.I=new Pt(0,1),Pt.PI=new Pt(Math.PI,0),Pt.E=new Pt(Math.E,0),Pt.INFINITY=new Pt(1/0,1/0),Pt.NAN=new Pt(NaN,NaN),Pt.EPSILON=1e-15;var uQe=ye("Complex",[],()=>(Object.defineProperty(Pt,"name",{value:"Complex"}),Pt.prototype.constructor=Pt,Pt.prototype.type="Complex",Pt.prototype.isComplex=!0,Pt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Pt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Pt.prototype.format=function(n){var t=this.im,r=this.re,i=X0(this.re,n),s=X0(this.im,n),o=$r(n)?n:n?n.precision:null;if(null!==o){var a=Math.pow(10,-o);Math.abs(r/t)<a&&(r=0),Math.abs(t/r)<a&&(t=0)}return 0===t?i:0===r?1===t?"i":-1===t?"-i":s+"i":t<0?-1===t?i+" - i":i+" - "+s.substring(1)+"i":1===t?i+" + i":i+" + "+s+"i"},Pt.fromPolar=function(n){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return Pt(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],r=arguments[1];if($r(t)){if(uh(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),$r(r))return new Pt({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Pt.prototype.valueOf=Pt.prototype.toString,Pt.fromJSON=function(n){return new Pt(n)},Pt.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},Pt),{isClass:!0});function hQe(n){var e=0,t=1,r=Object.create(null),i=Object.create(null),s=0,o=function(l){var c=i[l];if(c&&(delete r[c],delete i[l],--e,t===c)){if(!e)return s=0,void(t=1);for(;!Object.prototype.hasOwnProperty.call(r,++t););}};return n=Math.abs(n),{hit:function(l){var c=i[l],u=++s;if(r[u]=l,i[l]=u,!c)return++e<=n?void 0:(o(l=r[t]),l);if(delete r[c],t===c)for(;!Object.prototype.hasOwnProperty.call(r,++t););},delete:o,clear:function(){e=s=0,t=1,r=Object.create(null),i=Object.create(null)}}}function hx(n){var{hasher:e,limit:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function r(){"object"!=typeof r.cache&&(r.cache={values:new Map,lru:hQe(t||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=e(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var a=n.apply(n,i);return r.cache.values.set(o,a),r.cache.values.delete(r.cache.lru.hit(o)),a}}var fQe=hx(function(n){return new n(1).exp()},{hasher:nF}),AQe=hx(function(n){return new n(1).plus(new n(5).sqrt()).div(2)},{hasher:nF}),fH=hx(function(n){return n.acos(-1)},{hasher:nF}),pQe=hx(function(n){return fH(n).times(2)},{hasher:nF});function nF(n){return n[0].precision}var gQe=Math.PI,mQe=2*Math.PI,vQe=Math.E,_Qe=ye("true",[],()=>!0),bQe=ye("false",[],()=>!1),wQe=ye("null",[],()=>null),CQe=Nd("Infinity",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1/0):1/0}),EQe=Nd("NaN",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(NaN):NaN}),SQe=Nd("pi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?fH(t):gQe}),xQe=Nd("tau",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?pQe(t):mQe}),DQe=Nd("e",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?fQe(t):vQe}),MQe=Nd("phi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?AQe(t):1.618033988749895}),TQe=Nd("LN2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).ln():Math.LN2}),BQe=Nd("LN10",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(10).ln():Math.LN10}),NQe=Nd("LOG2E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(2).ln()):Math.LOG2E}),IQe=Nd("LOG10E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(10).ln()):Math.LOG10E}),FQe=Nd("SQRT1_2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t("0.5").sqrt():Math.SQRT1_2}),RQe=Nd("SQRT2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).sqrt():Math.SQRT2}),OQe=Nd("i",["Complex"],n=>{var{Complex:e}=n;return e.I}),PQe=ye("version",[],()=>"14.0.1");function Nd(n,e,t){return ye(n,e,t,{recreateOnConfigChange:!0})}var LQe=Gr("speedOfLight","299792458","m s^-1"),UQe=Gr("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),kQe=Gr("planckConstant","6.62607015e-34","J s"),HQe=Gr("reducedPlanckConstant","1.0545718176461565e-34","J s"),VQe=Gr("magneticConstant","1.25663706212e-6","N A^-2"),QQe=Gr("electricConstant","8.8541878128e-12","F m^-1"),zQe=Gr("vacuumImpedance","376.730313667","ohm"),GQe=Gr("coulomb","8.987551792261171e9","N m^2 C^-2"),jQe=Gr("elementaryCharge","1.602176634e-19","C"),qQe=Gr("bohrMagneton","9.2740100783e-24","J T^-1"),WQe=Gr("conductanceQuantum","7.748091729863649e-5","S"),$Qe=Gr("inverseConductanceQuantum","12906.403729652257","ohm"),KQe=Gr("magneticFluxQuantum","2.0678338484619295e-15","Wb"),XQe=Gr("nuclearMagneton","5.0507837461e-27","J T^-1"),YQe=Gr("klitzing","25812.807459304513","ohm"),JQe=Gr("bohrRadius","5.29177210903e-11","m"),ZQe=Gr("classicalElectronRadius","2.8179403262e-15","m"),eze=Gr("electronMass","9.1093837015e-31","kg"),tze=Gr("fermiCoupling","1.1663787e-5","GeV^-2"),nze=rF("fineStructure",.0072973525693),rze=Gr("hartreeEnergy","4.3597447222071e-18","J"),ize=Gr("protonMass","1.67262192369e-27","kg"),sze=Gr("deuteronMass","3.3435830926e-27","kg"),oze=Gr("neutronMass","1.6749271613e-27","kg"),aze=Gr("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),lze=Gr("rydberg","10973731.568160","m^-1"),cze=Gr("thomsonCrossSection","6.6524587321e-29","m^2"),uze=rF("weakMixingAngle",.2229),dze=rF("efimovFactor",22.7),hze=Gr("atomicMass","1.66053906660e-27","kg"),fze=Gr("avogadro","6.02214076e23","mol^-1"),Aze=Gr("boltzmann","1.380649e-23","J K^-1"),pze=Gr("faraday","96485.33212331001","C mol^-1"),gze=Gr("firstRadiation","3.7417718521927573e-16","W m^2"),mze=Gr("loschmidt","2.686780111798444e25","m^-3"),vze=Gr("gasConstant","8.31446261815324","J K^-1 mol^-1"),yze=Gr("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),_ze=Gr("molarVolume","0.022413969545014137","m^3 mol^-1"),bze=rF("sackurTetrode",-1.16487052358),wze=Gr("secondRadiation","0.014387768775039337","m K"),Cze=Gr("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),Eze=Gr("wienDisplacement","2.897771955e-3","m K"),Sze=Gr("molarMass","0.99999999965e-3","kg mol^-1"),xze=Gr("molarMassC12","11.9999999958e-3","kg mol^-1"),Dze=Gr("gravity","9.80665","m s^-2"),Mze=Gr("planckLength","1.616255e-35","m"),Tze=Gr("planckMass","2.176435e-8","kg"),Bze=Gr("planckTime","5.391245e-44","s"),Nze=Gr("planckCharge","1.87554603778e-18","C"),Ize=Gr("planckTemperature","1.416785e+32","K");function Gr(n,e,t){return ye(n,["config","Unit","BigNumber"],i=>{var{config:s,Unit:o,BigNumber:a}=i,c=new o("BigNumber"===s.number?new a(e):parseFloat(e),t);return c.fixPrefix=!0,c})}function rF(n,e){return ye(n,["config","BigNumber"],r=>{var{config:i,BigNumber:s}=r;return"BigNumber"===i.number?new s(e):e})}typeof BigInt>"u"&&(BigInt=function(n){if(isNaN(n))throw new Error("");return n});const ar=BigInt(0),gi=BigInt(1),fx=BigInt(2),AH=BigInt(5),qu=BigInt(10),Rn={s:gi,n:ar,d:gi};function $p(n,e){try{n=BigInt(n)}catch{throw Gm()}return n*e}function xf(n){return"bigint"==typeof n?n:Math.floor(n)}function Po(n,e){if(e===ar)throw pH();const t=Object.create(ph.prototype);t.s=n<ar?-gi:gi;const r=ey(n=n<ar?-n:n,e);return t.n=n/r,t.d=e/r,t}function Ob(n){const e={};let t=n,r=fx,i=AH-gi;for(;i<=t;){for(;t%r===ar;)t/=r,e[r]=(e[r]||ar)+gi;i+=gi+fx*r++}return t!==n?t>1&&(e[t]=(e[t]||ar)+gi):e[n]=(e[n]||ar)+gi,e}const Fl=function(n,e){let t=ar,r=gi,i=gi;if(null!=n)if(void 0!==e){if("bigint"==typeof n)t=n;else{if(isNaN(n))throw Gm();if(n%1!=0)throw qne();t=BigInt(n)}if("bigint"==typeof e)r=e;else{if(isNaN(e))throw Gm();if(e%1!=0)throw qne();r=BigInt(e)}i=t*r}else if("object"==typeof n){if("d"in n&&"n"in n)t=BigInt(n.n),r=BigInt(n.d),"s"in n&&(t*=BigInt(n.s));else if(0 in n)t=BigInt(n[0]),1 in n&&(r=BigInt(n[1]));else{if("bigint"!=typeof n)throw Gm();t=n}i=t*r}else if("number"==typeof n){if(isNaN(n))throw Gm();if(n<0&&(i=-gi,n=-n),n%1==0)t=BigInt(n);else if(n>0){let s=1,o=0,a=1,l=1,c=1,u=1e7;for(n>=1&&(s=10**Math.floor(1+Math.log10(n)),n/=s);a<=u&&c<=u;){let d=(o+l)/(a+c);if(n===d){a+c<=u?(t=o+l,r=a+c):c>a?(t=l,r=c):(t=o,r=a);break}n>d?(o+=l,a+=c):(l+=o,c+=a),a>u?(t=l,r=c):(t=o,r=a)}t=BigInt(t)*BigInt(s),r=BigInt(r)}}else if("string"==typeof n){let s=0,o=ar,a=ar,l=ar,c=gi,u=gi,d=n.replace(/_/g,"").match(/\d+|./g);if(null===d)throw Gm();if("-"===d[s]?(i=-gi,s++):"+"===d[s]&&s++,d.length===s+1?a=$p(d[s++],i):"."===d[s+1]||"."===d[s]?("."!==d[s]&&(o=$p(d[s++],i)),s++,(s+1===d.length||"("===d[s+1]&&")"===d[s+3]||"'"===d[s+1]&&"'"===d[s+3])&&(a=$p(d[s],i),c=qu**BigInt(d[s].length),s++),("("===d[s]&&")"===d[s+2]||"'"===d[s]&&"'"===d[s+2])&&(l=$p(d[s+1],i),u=qu**BigInt(d[s+1].length)-gi,s+=3)):"/"===d[s+1]||":"===d[s+1]?(a=$p(d[s],i),c=$p(d[s+2],gi),s+=3):"/"===d[s+3]&&" "===d[s+1]&&(o=$p(d[s],i),a=$p(d[s+2],i),c=$p(d[s+4],gi),s+=5),!(d.length<=s))throw Gm();r=c*u,i=t=l+r*o+u*a}else{if("bigint"!=typeof n)throw Gm();t=n,i=n,r=gi}if(r===ar)throw pH();Rn.s=i<ar?-gi:gi,Rn.n=t<ar?-t:t,Rn.d=r<ar?-r:r};function ey(n,e){if(!n)return e;if(!e)return n;for(;;){if(!(n%=e))return e;if(!(e%=n))return n}}function ph(n,e){if(Fl(n,e),!(this instanceof ph))return Po(Rn.s*Rn.n,Rn.d);n=ey(Rn.d,Rn.n),this.s=Rn.s,this.n=Rn.n/n,this.d=Rn.d/n}var pH=function(){return new Error("Division by Zero")},Gm=function(){return new Error("Invalid argument")},qne=function(){return new Error("Parameters must be integer")};ph.prototype={s:gi,n:ar,d:gi,abs:function(){return Po(this.n,this.d)},neg:function(){return Po(-this.s*this.n,this.d)},add:function(n,e){return Fl(n,e),Po(this.s*this.n*Rn.d+Rn.s*this.d*Rn.n,this.d*Rn.d)},sub:function(n,e){return Fl(n,e),Po(this.s*this.n*Rn.d-Rn.s*this.d*Rn.n,this.d*Rn.d)},mul:function(n,e){return Fl(n,e),Po(this.s*Rn.s*this.n*Rn.n,this.d*Rn.d)},div:function(n,e){return Fl(n,e),Po(this.s*Rn.s*this.n*Rn.d,this.d*Rn.n)},clone:function(){return Po(this.s*this.n,this.d)},mod:function(n,e){if(void 0===n)return Po(this.s*this.n%this.d,gi);if(Fl(n,e),ar===Rn.n*this.d)throw pH();return Po(this.s*(Rn.d*this.n)%(Rn.n*this.d),Rn.d*this.d)},gcd:function(n,e){return Fl(n,e),Po(ey(Rn.n,this.n)*ey(Rn.d,this.d),Rn.d*this.d)},lcm:function(n,e){return Fl(n,e),Rn.n===ar&&this.n===ar?Po(ar,gi):Po(Rn.n*this.n,ey(Rn.n,this.n)*ey(Rn.d,this.d))},inverse:function(){return Po(this.s*this.d,this.n)},pow:function(n,e){if(Fl(n,e),Rn.d===gi)return Rn.s<ar?Po((this.s*this.d)**Rn.n,this.n**Rn.n):Po((this.s*this.n)**Rn.n,this.d**Rn.n);if(this.s<ar)return null;let t=Ob(this.n),r=Ob(this.d),i=gi,s=gi;for(let o in t)if("1"!==o){if("0"===o){i=ar;break}if(t[o]*=Rn.n,t[o]%Rn.d!==ar)return null;t[o]/=Rn.d,i*=BigInt(o)**t[o]}for(let o in r)if("1"!==o){if(r[o]*=Rn.n,r[o]%Rn.d!==ar)return null;r[o]/=Rn.d,s*=BigInt(o)**r[o]}return Rn.s<ar?Po(s,i):Po(i,s)},log:function(n,e){if(Fl(n,e),this.s<=ar||Rn.s<=ar)return null;const t={},r=Ob(Rn.n),i=Ob(Rn.d),s=Ob(this.n),o=Ob(this.d);for(const c in i)r[c]=(r[c]||ar)-i[c];for(const c in o)s[c]=(s[c]||ar)-o[c];for(const c in r)"1"!==c&&(t[c]=!0);for(const c in s)"1"!==c&&(t[c]=!0);let a=null,l=null;for(const c in t){const u=r[c]||ar,d=s[c]||ar;if(u===ar){if(d!==ar)return null;continue}let f=d,h=u;const A=ey(f,h);if(f/=A,h/=A,null===a&&null===l)a=f,l=h;else if(f*l!=a*h)return null}return null!==a&&null!==l?Po(a,l):null},equals:function(n,e){return Fl(n,e),this.s*this.n*Rn.d==Rn.s*Rn.n*this.d},lt:function(n,e){return Fl(n,e),this.s*this.n*Rn.d<Rn.s*Rn.n*this.d},lte:function(n,e){return Fl(n,e),this.s*this.n*Rn.d<=Rn.s*Rn.n*this.d},gt:function(n,e){return Fl(n,e),this.s*this.n*Rn.d>Rn.s*Rn.n*this.d},gte:function(n,e){return Fl(n,e),this.s*this.n*Rn.d>=Rn.s*Rn.n*this.d},compare:function(n,e){Fl(n,e);let t=this.s*this.n*Rn.d-Rn.s*Rn.n*this.d;return(ar<t)-(t<ar)},ceil:function(n){return n=qu**BigInt(n||0),Po(xf(this.s*n*this.n/this.d)+(n*this.n%this.d>ar&&this.s>=ar?gi:ar),n)},floor:function(n){return n=qu**BigInt(n||0),Po(xf(this.s*n*this.n/this.d)-(n*this.n%this.d>ar&&this.s<ar?gi:ar),n)},round:function(n){return n=qu**BigInt(n||0),Po(xf(this.s*n*this.n/this.d)+this.s*((this.s>=ar?gi:ar)+fx*(n*this.n%this.d)>this.d?gi:ar),n)},roundTo:function(n,e){Fl(n,e);const t=this.n*Rn.d,r=this.d*Rn.n,i=t%r;let s=xf(t/r);return i+i>=r&&s++,Po(this.s*s*Rn.n,Rn.d)},divisible:function(n,e){return Fl(n,e),!(!(Rn.n*this.d)||this.n*Rn.d%(Rn.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n){let e=this.n,t=this.d;n=n||15;let r=function Oze(n,e){for(;e%fx===ar;e/=fx);for(;e%AH===ar;e/=AH);if(e===gi)return ar;let t=qu%e,r=1;for(;t!==gi;r++)if(t=t*qu%e,r>2e3)return ar;return BigInt(r)}(0,t),i=function Pze(n,e,t){let r=gi,i=function Rze(n,e,t){let r=gi;for(;e>ar;n=n*n%t,e>>=gi)e&gi&&(r=r*n%t);return r}(qu,t,e);for(let s=0;s<300;s++){if(r===i)return BigInt(s);r=r*qu%e,i=i*qu%e}return 0}(0,t,r),s=this.s<ar?"-":"";if(s+=xf(e/t),e%=t,e*=qu,e&&(s+="."),r){for(let o=i;o--;)s+=xf(e/t),e%=t,e*=qu;s+="(";for(let o=r;o--;)s+=xf(e/t),e%=t,e*=qu;s+=")"}else for(let o=n;e&&o--;)s+=xf(e/t),e%=t,e*=qu;return s},toFraction:function(n){let e=this.n,t=this.d,r=this.s<ar?"-":"";if(t===gi)r+=e;else{let i=xf(e/t);n&&i>ar&&(r+=i,r+=" ",e%=t),r+=e,r+="/",r+=t}return r},toLatex:function(n){let e=this.n,t=this.d,r=this.s<ar?"-":"";if(t===gi)r+=e;else{let i=xf(e/t);n&&i>ar&&(r+=i,e%=t),r+="\\frac{",r+=e,r+="}{",r+=t,r+="}"}return r},toContinued:function(){let n=this.n,e=this.d,t=[];do{t.push(xf(n/e));let r=n%e;n=e,e=r}while(n!==gi);return t},simplify:function(n){const e=BigInt(1/(n||.001)|0),t=this.abs(),r=t.toContinued();for(let i=1;i<r.length;i++){let s=Po(r[i-1],gi);for(let a=i-2;a>=0;a--)s=s.inverse().add(r[a]);let o=s.sub(t);if(o.n*e<o.d)return s.mul(this.s)}return this}};var kze=ye("Fraction",[],()=>(Object.defineProperty(ph,"name",{value:"Fraction"}),ph.prototype.constructor=ph,ph.prototype.type="Fraction",ph.prototype.isFraction=!0,ph.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},ph.fromJSON=function(n){return new ph(n)},ph),{isClass:!0}),Qze=ye("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0}),jze=ye("Range",[],()=>{function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,s=null!=t,o=null!=r;if(i)if(Kr(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(s)if(Kr(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter end must be a number");if(o)if(Kr(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=s?parseFloat(t):0,this.step=o?parseFloat(r):1}return n.prototype.type="Range",n.prototype.isRange=!0,n.parse=function(e){if("string"!=typeof e)return null;var r=e.split(":").map(function(s){return parseFloat(s)});if(r.some(function(s){return isNaN(s)}))return null;switch(r.length){case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[2],r[1]);default:return null}},n.prototype.clone=function(){return new n(this.start,this.end,this.step)},n.prototype.size=function(){var e=0,r=this.step,s=this.end-this.start;return Om(r)===Om(s)?e=Math.ceil(s/r):0===s&&(e=0),isNaN(e)&&(e=0),[e]},n.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},n.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},n.prototype.forEach=function(e){var t=this.start,r=this.step,i=this.end,s=0;if(r>0)for(;t<i;)e(t,[s],this),t+=r,s++;else if(r<0)for(;t>i;)e(t,[s],this),t+=r,s++},n.prototype.map=function(e){var t=[];return this.forEach(function(r,i,s){t[i[0]]=e(r,i,s)}),t},n.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r[0]]=t}),e},n.prototype.valueOf=function(){return this.toArray()},n.prototype.format=function(e){var t=X0(this.start,e);return 1!==this.step&&(t+=":"+X0(this.step,e)),t+":"+X0(this.end,e)},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n},{isClass:!0}),$ze=ye("ResultSet",[],()=>{function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return n.prototype.type="ResultSet",n.prototype.isResultSet=!0,n.prototype.valueOf=function(){return this.entries},n.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},n.fromJSON=function(e){return new n(e.entries)},n},{isClass:!0}),Yze=ye("DenseMatrix",["Matrix"],n=>{var{Matrix:e}=n;function t(u,d){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!Ic(d))throw new Error("Invalid datatype: "+d);if(mr(u))"DenseMatrix"===u.type?(this._data=Ur(u._data),this._size=Ur(u._size),this._datatype=d||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=d||u._datatype);else if(u&&Vs(u.data)&&Vs(u.size))this._data=u.data,this._size=u.size,jee(this._data,this._size),this._datatype=d||u.datatype;else if(Vs(u))this._data=c(u),this._size=Tr(this._data),jee(this._data,this._size),this._datatype=d;else{if(u)throw new TypeError("Unsupported type of data ("+no(u)+")");this._data=[],this._size=[0],this._datatype=d}}function i(u,d,f,h){var A=h===f-1,p=d.dimension(h);return A?p.map(function(m){return ro(m,u.length),u[m]}).valueOf():p.map(function(m){return ro(m,u.length),i(u[m],d,f,h+1)}).valueOf()}function o(u,d,f,h,A){var p=A===h-1;d.dimension(A).forEach(p?function(g,y){ro(g),u[g]=f[y[0]]}:function(g,y){ro(g),o(u[g],d,f[y[0]],h,A+1)})}function a(u,d,f){if(0===d.length){for(var h=u._data;Vs(h);)h=h[0];return h}return u._size=d.slice(0),u._data=Mb(u._data,u._size,f),u}function l(u,d,f){for(var h=u._size.slice(0),A=!1;h.length<d.length;)h.push(0),A=!0;for(var p=0,m=d.length;p<m;p++)d[p]>h[p]&&(h[p]=d[p],A=!0);A&&a(u,h,f)}function c(u){return mr(u)?c(u.valueOf()):Vs(u)?u.map(c):u}return(t.prototype=new e).createDenseMatrix=function(u,d){return new t(u,d)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return CI(this._data,no)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(u,d){return new t(u,d)},t.prototype.subset=function(u,d,f){switch(arguments.length){case 1:return function r(u,d){if(!gI(d))throw new TypeError("Invalid index");if(d.isScalar())return u.get(d.min());var h=d.size();if(h.length!==u._size.length)throw new pi(h.length,u._size.length);for(var A=d.min(),p=d.max(),m=0,g=u._size.length;m<g;m++)ro(A[m],u._size[m]),ro(p[m],u._size[m]);return new t(i(u._data,d,h.length,0),u._datatype)}(this,u);case 2:case 3:return function s(u,d,f,h){if(!d||!0!==d.isIndex)throw new TypeError("Invalid index");var m,A=d.size(),p=d.isScalar();if(mr(f)?(m=f.size(),f=f.valueOf()):m=Tr(f),p){if(0!==m.length)throw new TypeError("Scalar expected");u.set(d.min(),f,h)}else{if(!zp(m,A))try{m=Tr(f=Lm(0===m.length?[f]:f,A))}catch{}if(A.length<u._size.length)throw new pi(A.length,u._size.length,"<");if(m.length<A.length){for(var g=0,y=0;1===A[g]&&1===m[g];)g++;for(;1===A[g];)y++,g++;f=$ee(f,A.length,y,m)}if(!zp(A,m))throw new pi(A,m,">");l(u,d.max().map(function(b){return b+1}),h),o(u._data,d,f,A.length,0)}return u}(this,u,d,f);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(u){return k8(this._data,u)},t.prototype.set=function(u,d,f){if(!Vs(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new pi(u.length,this._size.length,"<");var h,A,p;l(this,u.map(function(y){return y+1}),f);var g=this._data;for(h=0,A=u.length-1;h<A;h++)ro(p=u[h],g.length),g=g[p];return ro(p=u[u.length-1],g.length),g[p]=d,this},t.prototype.resize=function(u,d,f){if(!dh(u))throw new TypeError("Array or Matrix expected");var h=u.valueOf().map(p=>Array.isArray(p)&&1===p.length?p[0]:p);return a(f?this.clone():this,h,d)},t.prototype.reshape=function(u,d){var f=d?this.clone():this;f._data=L8(f._data,u);var h=f._size.reduce((A,p)=>A*p);return f._size=U8(u,h),f},t.prototype.clone=function(){return new t({data:Ur(this._data),size:Ur(this._size),datatype:this._datatype})},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(u){var d=this,f=d.size();if(1!==f.length){var A=Array(f.length).fill(0),p=Array(f.length-1),m=p.length-1;p[0]=d._data[0];for(var g=0;g<m;g++)p[g+1]=p[g][0];for(A[m]=-1;;){var y=void 0;for(y=m;y>=0;y--){if(A[y]++,A[y]!==f[y]){p[y]=0===y?d._data[A[y]]:p[y-1][A[y]];for(var v=y;v<m;v++)p[v+1]=p[v][0];for(var _=0;_<f[p.length];_++)A[p.length]=_,u(p[m],_,A.slice(0));break}A[y]=0}if(-1===y)break}}else for(var h=0;h<f[0];h++)u(d._data,h,[h])},t.prototype.map=function(u){var d=this,f=new t(d),h=Y0(u,d._data,"map");return f._forEach(function(A,p,m){A[p]=h(A[p],m,d)}),f},t.prototype.forEach=function(u){var d=this,f=Y0(u,d._data,"map");d._forEach(function(h,A,p){f(h[A],p,d)})},t.prototype[Symbol.iterator]=function*(){var u=function*(f,h){if(Vs(f))for(var A=0;A<f.length;A++)yield*u(f[A],h.concat(A));else yield{value:f,index:h}};yield*u(this._data,[])},t.prototype.rows=function(){var u=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var h of f)u.push(new t([h],this._datatype));return u},t.prototype.columns=function(){var u=this,d=[],f=this.size();if(2!==f.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,A=function(g){var y=h.map(v=>[v[g]]);d.push(new t(y,u._datatype))},p=0;p<f[1];p++)A(p);return d},t.prototype.toArray=function(){return Ur(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(u){return Ai(this._data,u)},t.prototype.toString=function(){return Ai(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(u){if(u){if(Kr(u)&&(u=u.toNumber()),!$r(u)||!Zn(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var d=u>0?u:0,f=u<0?-u:0,p=Math.min(this._size[0]-f,this._size[1]-d),m=[],g=0;g<p;g++)m[g]=this._data[g+f][g+d];return new t({data:m,size:[p],datatype:this._datatype})},t.diagonal=function(u,d,f,h){if(!Vs(u))throw new TypeError("Array expected, size parameter");if(2!==u.length)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(M){if(Kr(M)&&(M=M.toNumber()),!$r(M)||!Zn(M)||M<1)throw new Error("Size values must be positive integers");return M}),f){if(Kr(f)&&(f=f.toNumber()),!$r(f)||!Zn(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var v,A=f>0?f:0,p=f<0?-f:0,m=u[0],g=u[1],y=Math.min(m-p,g-A);if(Vs(d)){if(d.length!==y)throw new Error("Invalid value array length");v=function(D){return d[D]}}else if(mr(d)){var _=d.size();if(1!==_.length||_[0]!==y)throw new Error("Invalid matrix length");v=function(D){return d.get([D])}}else v=function(){return d};h||(h=Kr(v(0))?v(0).mul(0):0);var C=[];if(u.length>0){C=Mb(C,u,h);for(var b=0;b<y;b++)C[b+p][b+A]=v(b)}return new t({data:C,size:[m,g]})},t.fromJSON=function(u){return new t(u)},t.prototype.swapRows=function(u,d){if(!($r(u)&&Zn(u)&&$r(d)&&Zn(d)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return ro(u,this._size[0]),ro(d,this._size[0]),t._swapRows(u,d,this._data),this},t._swapRows=function(u,d,f){var h=f[u];f[u]=f[d],f[d]=h},t},{isClass:!0}),e7e=ye("replacer",[],()=>function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?"bigint"==typeof t?{mathjs:"bigint",value:String(t)}:t:{mathjs:"number",value:String(t)}}),Wne=function(){return Wne=QI.create,QI},n7e=ye("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:r,DenseMatrix:i,Fraction:s}=e,o=Wne();return o.clear(),o.addTypes([{name:"number",test:$r},{name:"Complex",test:Gp},{name:"BigNumber",test:Kr},{name:"bigint",test:WPe},{name:"Fraction",test:nx},{name:"Unit",test:uh},{name:"identifier",test:a=>Ic&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:Ic},{name:"Chain",test:Bee},{name:"Array",test:Vs},{name:"Matrix",test:mr},{name:"DenseMatrix",test:pI},{name:"SparseMatrix",test:$0},{name:"Range",test:B8},{name:"Index",test:gI},{name:"boolean",test:$Pe},{name:"ResultSet",test:KPe},{name:"Help",test:Tee},{name:"function",test:XPe},{name:"Date",test:YPe},{name:"RegExp",test:JPe},{name:"null",test:ZPe},{name:"undefined",test:e5e},{name:"AccessorNode",test:K0},{name:"ArrayNode",test:hh},{name:"AssignmentNode",test:t5e},{name:"BlockNode",test:n5e},{name:"ConditionalNode",test:r5e},{name:"ConstantNode",test:Hi},{name:"FunctionNode",test:Fm},{name:"FunctionAssignmentNode",test:ix},{name:"IndexNode",test:Eb},{name:"Node",test:Qs},{name:"ObjectNode",test:mI},{name:"OperatorNode",test:xa},{name:"ParenthesisNode",test:jp},{name:"RangeNode",test:i5e},{name:"RelationalNode",test:s5e},{name:"SymbolNode",test:Nl},{name:"Map",test:Cb},{name:"Object",test:rx}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||iF(l),function w5e(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return r||sF(l),new r(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return r||sF(l),new r(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return t||iF(l),new t(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return s||oF(l),new s(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return r||sF(l),new r(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){s||oF(l);var c=new s(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){t||iF(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){s||oF(l);try{return new s(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){r||sF(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||iF(l),new t(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return s||oF(l),new s(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||function r7e(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(a,l,c)=>{var u=o.createError(a,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&dh(l[0])&&c.some(f=>!f.params.includes(","))){var d=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw d.data=u.data,d}throw u},o.onMismatch=(a,l,c)=>{var u=o.createError(a,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&dh(l[0])&&c.some(f=>!f.params.includes(","))){var d=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw d.data=u.data,d}throw u},o});function iF(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function sF(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function oF(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var Wu="number",Kp="number, number";function $ne(n){return Math.abs(n)}function Kne(n,e){return n+e}function Xne(n,e){return n-e}function Yne(n,e){return n*e}function Jne(n){return-n}function Zne(n){return n}function Ax(n){return v5e(n)}function ere(n){return n*n*n}function tre(n){return Math.exp(n)}function nre(n){return y5e(n)}function rre(n,e){if(!Zn(n)||!Zn(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===n||0===e)return 0;for(var t,r=n*e;0!==e;)e=n%(t=e),n=t;return Math.abs(r/n)}function ire(n){return m5e(n)}function sre(n){return g5e(n)}function ore(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=e<0;if(t&&(e=-e),0===e)throw new Error("Root must be non-zero");if(n<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===n)return t?1/0:0;if(!isFinite(n))return t?0:n;var r=Math.pow(Math.abs(n),1/e);return r=n<0?-r:r,t?1/r:r}function gH(n){return Om(n)}function are(n){return n*n}function lre(n,e){var t,r,i,s=0,o=1,a=1,l=0;if(!Zn(n)||!Zn(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)i=n-(r=Math.floor(n/e))*e,t=s,s=o-r*s,o=t,t=a,a=l-r*a,l=t,n=e,e=i;return n<0?[-n,-o,-l]:[n,n?o:0,l]}function cre(n,e){return n*n<1&&e===1/0||n*n>1&&e===-1/0?0:Math.pow(n,e)}function px(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Zn(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Ree(n,e))}$ne.signature=Wu,Kne.signature=Kp,Xne.signature=Kp,Yne.signature=Kp,Jne.signature=Wu,Zne.signature=Wu,Ax.signature=Wu,ere.signature=Wu,tre.signature=Wu,nre.signature=Wu,rre.signature=Kp,ire.signature=Wu,sre.signature=Wu,gH.signature=Wu,are.signature=Wu,lre.signature=Kp,cre.signature=Kp;var h7e=ye("abs",["typed"],n=>{var{typed:e}=n;return e("abs",{number:$ne,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t,!0))})}),A7e=ye("acos",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("acos",{number:function(s){return s>=-1&&s<=1||t.predictable?Math.acos(s):new r(s,0).acos()},Complex:function(s){return s.acos()},BigNumber:function(s){return s.acos()}})}),Lo="number";function hre(n){return C5e(n)}function fre(n){return Math.atan(1/n)}function Are(n){return isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0}function pre(n){return Math.asin(1/n)}function gre(n){var e=1/n;return Math.log(e+Math.sqrt(e*e+1))}function mre(n){return Math.acos(1/n)}function vre(n){var e=1/n,t=Math.sqrt(e*e-1);return Math.log(t+e)}function yre(n){return E5e(n)}function _re(n){return S5e(n)}function bre(n){return 1/Math.tan(n)}function wre(n){var e=Math.exp(2*n);return(e+1)/(e-1)}function Cre(n){return 1/Math.sin(n)}function Ere(n){return 0===n?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(n)-Math.exp(-n)))*Om(n)}function Sre(n){return 1/Math.cos(n)}function xre(n){return 2/(Math.exp(n)+Math.exp(-n))}function Dre(n){return x5e(n)}hre.signature=Lo,fre.signature=Lo,Are.signature=Lo,pre.signature=Lo,gre.signature=Lo,mre.signature=Lo,vre.signature=Lo,yre.signature=Lo,_re.signature=Lo,bre.signature=Lo,wre.signature=Lo,Cre.signature=Lo,Ere.signature=Lo,Sre.signature=Lo,xre.signature=Lo,Dre.signature=Lo;var x7e=ye("acot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acot",{number:fre,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})}),M7e=ye("acsc",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("acsc",{number:function(o){return o<=-1||o>=1||t.predictable?pre(o):new r(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})}),B7e=ye("addScalar",["typed"],n=>{var{typed:e}=n;return e("addScalar",{"number, number":Kne,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"bigint, bigint":function(r,i){return r+i},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==i.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var s=r.clone();return s.value=e.find(t,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})}),I7e=ye("arg",["typed"],n=>{var{typed:e}=n;return e("arg",{number:function(r){return Math.atan2(0,r)},BigNumber:function(r){return r.constructor.atan2(0,r)},Complex:function(r){return r.arg()},"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t))})}),R7e=ye("asech",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("asech",{number:function(o){if(o<=1&&o>=-1||t.predictable){var a=1/o;if(a>0||t.predictable)return vre(o);var l=Math.sqrt(a*a-1);return new r(Math.log(l-a),Math.PI)}return new r(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})}),L7e=ye("asinh",["typed"],n=>{var{typed:e}=n;return e("asinh",{number:yre,Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()}})}),H7e=ye("atan",["typed"],n=>{var{typed:e}=n;return e("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()}})}),Q7e=ye("atanh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("atanh",{number:function(s){return s<=1&&s>=-1||t.predictable?_re(s):new r(s,0).atanh()},Complex:function(s){return s.atanh()},BigNumber:function(s){return s.atanh()}})}),j7e=ye("bigint",["typed"],n=>{var{typed:e}=n,t=e("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":e.referToSelf(r=>i=>Qr(i,r))});return t.fromJSON=function(r){return BigInt(r.value)},t}),W7e=ye("bitNot",["typed"],n=>{var{typed:e}=n;return e("bitNot",{number:$te,BigNumber:cx,bigint:t=>~t,"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t))})}),K7e=ye("boolean",["typed"],n=>{var{typed:e}=n;return e("boolean",{"":function(){return!1},boolean:function(r){return r},number:function(r){return!!r},null:function(r){return!1},BigNumber:function(r){return!r.isZero()},string:function(r){var i=r.toLowerCase();if("true"===i)return!0;if("false"===i)return!1;var s=Number(r);if(""!==r&&!isNaN(s))return!!s;throw new Error('Cannot convert "'+r+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t))})}),Y7e=ye("clone",["typed"],n=>{var{typed:e}=n;return e("clone",{any:Ur})});function Xp(n,e){if(e<n)return 1;if(e===n)return e;var t=e+n>>1;return Xp(n,t)*Xp(t+1,e)}function Lre(n,e){if(!Zn(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!Zn(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>n)throw new TypeError("k must be less than or equal to n");for(var t=n-e,r=1,s=2,o=e<t?e:t,a=e<t?t+1:e+1;a<=n;++a)for(r*=a;s<=o&&r%s==0;)r/=s,++s;return s<=o&&(r/=Xp(s,o)),r}Lre.signature="number, number";var Ure="combinations",Z7e=ye(Ure,["typed"],n=>{var{typed:e}=n;return e(Ure,{"number, number":Lre,"BigNumber, BigNumber":function(r,i){var o,a,s=r.constructor,l=r.minus(i),c=new s(1);if(!kre(r)||!kre(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(r))throw new TypeError("k must be less than n in function combinations");if(o=c,i.lt(l))for(a=c;a.lte(l);a=a.plus(c))o=o.times(i.plus(a)).dividedBy(a);else for(a=c;a.lte(i);a=a.plus(c))o=o.times(l.plus(a)).dividedBy(a);return o}})});function kre(n){return n.isInteger()&&n.gte(0)}var nGe=ye("complex",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,s){return new t(i,s)},"BigNumber, BigNumber":function(i,s){return new t(i.toNumber(),s.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(r=>i=>Qr(i,r))})}),iGe=ye("conj",["typed"],n=>{var{typed:e}=n;return e("conj",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t))})}),Pb=ye("trigUnit",["typed"],n=>{var{typed:e}=n;return{Unit:e.referToSelf(t=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,r.valueType())(r.value)})}}),oGe=ye("cos",["typed"],n=>{var{typed:e}=n,t=Pb({typed:e});return e("cos",{number:Math.cos,"Complex | BigNumber":r=>r.cos()},t)}),lGe=ye("cot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("cot",{number:bre,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},Pb({typed:e}))}),uGe=ye("csc",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csc",{number:Cre,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},Pb({typed:e}))}),hGe=ye("cube",["typed"],n=>{var{typed:e}=n;return e("cube",{number:ere,Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},bigint:function(r){return r*r*r},Fraction:function(r){return r.pow(3)},Unit:function(r){return r.pow(3)}})});function $u(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!n.isNaN()&&!e.isNaN()&&(n.isFinite()&&e.isFinite()?!!n.eq(e)||n.minus(e).abs().lte(n.constructor.max(n.constructor.max(n.abs(),e.abs()).mul(t),r)):n.eq(e))}var Lb=ye("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[r.valueType(),i.valueType()])(r.value,i.value)})}}),aF="equalScalar",pGe=ye(aF,["typed","config"],n=>{var{typed:e,config:t}=n,r=Lb({typed:e});return e(aF,{"boolean, boolean":function(s,o){return s===o},"number, number":function(s,o){return rc(s,o,t.relTol,t.absTol)},"BigNumber, BigNumber":function(s,o){return s.eq(o)||$u(s,o,t.relTol,t.absTol)},"bigint, bigint":function(s,o){return s===o},"Fraction, Fraction":function(s,o){return s.equals(o)},"Complex, Complex":function(s,o){return function fGe(n,e,t,r){return rc(n.re,e.re,t,r)&&rc(n.im,e.im,t,r)}(s,o,t.relTol,t.absTol)}},r)}),vGe=(ye(aF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(aF,{"number, number":function(i,s){return rc(i,s,t.relTol,t.absTol)}})}),ye("erf",["typed"],n=>{var{typed:e}=n;return e("name",{number:function(o){var a=Math.abs(o);return a>=bGe?Om(o):a<=yGe?Om(o)*function t(s){var c,o=s*s,a=Yp[0][4]*o,l=o;for(c=0;c<3;c+=1)a=(a+Yp[0][c])*o,l=(l+Ub[0][c])*o;return s*(a+Yp[0][3])/(l+Ub[0][3])}(a):a<=4?Om(o)*(1-function r(s){var l,o=Yp[1][8]*s,a=s;for(l=0;l<7;l+=1)o=(o+Yp[1][l])*s,a=(a+Ub[1][l])*s;var c=(o+Yp[1][7])/(a+Ub[1][7]),u=parseInt(16*s)/16,d=(s-u)*(s+u);return Math.exp(-u*u)*Math.exp(-d)*c}(a)):Om(o)*(1-function i(s){var c,o=1/(s*s),a=Yp[2][5]*o,l=o;for(c=0;c<4;c+=1)a=(a+Yp[2][c])*o,l=(l+Ub[2][c])*o;var u=o*(a+Yp[2][4])/(l+Ub[2][4]);u=(_Ge-u)/s;var d=(s-(o=parseInt(16*s)/16))*(s+o);return Math.exp(-o*o)*Math.exp(-d)*u}(a))},"Array | Matrix":e.referToSelf(s=>o=>Qr(o,s))})})),yGe=.46875,_Ge=.5641895835477563,Yp=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Ub=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],bGe=Math.pow(2,53),CGe=ye("exp",["typed"],n=>{var{typed:e}=n;return e("exp",{number:tre,Complex:function(r){return r.exp()},BigNumber:function(r){return r.exp()}})}),SGe=ye("expm1",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("expm1",{number:nre,Complex:function(i){var s=Math.exp(i.re);return new t(s*Math.cos(i.im)-1,s*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),DGe=ye("flatten",["typed"],n=>{var{typed:e}=n;return e("flatten",{Array:function(r){return ts(r)},Matrix:function(r){return r.create(ts(r.toArray()),r.datatype())}})}),TGe=ye("format",["typed"],n=>{var{typed:e}=n;return e("format",{any:Ai,"any, Object | function | number | BigNumber":Ai})}),Kre="getMatrixDataType",NGe=ye(Kre,["typed"],n=>{var{typed:e}=n;return e(Kre,{Array:function(r){return CI(r,no)},Matrix:function(r){return r.getDataType()}})}),FGe=ye("hex",["typed","format"],n=>{var{typed:e,format:t}=n;return e("hex",{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"hex",wordSize:s})}})}),OGe=ye("im",["typed"],n=>{var{typed:e}=n;return e("im",{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t))})}),LGe=ye("isInteger",["typed"],n=>{var{typed:e}=n;return e("isInteger",{number:Zn,BigNumber:function(r){return r.isInt()},bigint:function(r){return!0},Fraction:function(r){return 1n===r.d},"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t))})}),gx="number";function Zre(n){return n<0}function eie(n){return n>0}function tie(n){return Number.isNaN(n)}Zre.signature=gx,eie.signature=gx,tie.signature=gx;var nie="isNegative",VGe=ye(nie,["typed","config"],n=>{var{typed:e,config:t}=n;return e(nie,{number:r=>!rc(r,0,t.relTol,t.absTol)&&Zre(r),BigNumber:r=>!$u(r,new r.constructor(0),t.relTol,t.absTol)&&r.isNeg()&&!r.isZero()&&!r.isNaN(),bigint:r=>r<0n,Fraction:r=>r.s<0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Qr(i,r))})}),rie="isPositive",zGe=ye(rie,["typed","config"],n=>{var{typed:e,config:t}=n;return e(rie,{number:r=>!rc(r,0,t.relTol,t.absTol)&&eie(r),BigNumber:r=>!($u(r,new r.constructor(0),t.relTol,t.absTol)||r.isNeg()||r.isZero()||r.isNaN()),bigint:r=>r>0n,Fraction:r=>r.s>0n&&r.n>0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Qr(i,r))})}),jGe=ye("isZero",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e("isZero",{"number | BigNumber | Complex | Fraction":r=>t(r,0),bigint:r=>0n===r,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Qr(i,r))})});function lF(n){var e;if(Zn(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:Xp(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*lF(1-n));if(n>=171.35)return 1/0;if(n>85){var t=n*n,r=t*n,i=r*n,s=i*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*t)-139/(51840*r)-571/(2488320*i)+163879/(209018880*s)+5246819/(75246796800*s*n))}--n,e=kb[0];for(var o=1;o<kb.length;++o)e+=kb[o]/(n+o);var a=n+sie+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,n+.5)*Math.exp(-a)*e}lF.signature="number";var sie=4.7421875,kb=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],oie=.9189385332046728,aie=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function cF(n){if(n<0)return NaN;if(0===n)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-cF(1-n);for(var e=5+(n-=1)+.5,t=aie[0],r=6;r>=1;r--)t+=aie[r]/(n+r);return oie+(n+.5)*Math.log(e)-e+Math.log(t)}cF.signature="number";var KGe=ye("lgamma",["Complex","typed"],n=>{var{Complex:e,typed:t}=n,s=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t("lgamma",{number:cF,Complex:function o(c){if(c.isNaN())return new e(NaN,NaN);if(0===c.im)return new e(cF(c.re),0);if(c.re>=7||Math.abs(c.im)>=7)return a(c);if(c.re<=.1){var h=function D5e(n,e){return(n>0||!(n<0)&&1/n==1/0)^(e>0||!(e<0)&&1/e==1/0)?-n:n}(6.283185307179586,c.im)*Math.floor(.5*c.re+.25),A=c.mul(Math.PI).sin().log(),p=o(new e(1-c.re,-c.im));return new e(1.1447298858494002,h).sub(A).sub(p)}return c.im>=0?l(c):l(c.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function a(c){for(var u=c.sub(.5).mul(c.log()).sub(c).add(oie),d=new e(1,0).div(c),f=d.div(c),h=s[0],A=s[1],p=2*f.re,m=f.re*f.re+f.im*f.im,g=2;g<8;g++){var y=A;A=-m*h+s[g],h=p*h+y}var v=d.mul(f.mul(h).add(A));return u.add(v)}function l(c){var u=0,d=0,f=c;for(c=c.add(1);c.re<=7;){var h=(f=f.mul(c)).im<0?1:0;0!==h&&0===d&&u++,d=h,c=c.add(1)}return a(c).sub(f.log()).sub(new e(0,2*u*Math.PI*1))}}),YGe=ye("log10",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("log10",{number:function(s){return s>=0||t.predictable?ire(s):new r(s,0).log().div(Math.LN10)},Complex:function(s){return new r(s).log().div(Math.LN10)},BigNumber:function(s){return!s.isNegative()||t.predictable?s.log():new r(s.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>s=>Qr(s,i))})}),ZGe=ye("log2",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("log2",{number:function(o){return o>=0||t.predictable?sre(o):i(new r(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new r(o.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>o=>Qr(o,s))});function i(s){var o=Math.sqrt(s.re*s.re+s.im*s.im);return new r(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(s.im,s.re)/Math.LN2)}}),n9e=ye("multiplyScalar",["typed"],n=>{var{typed:e}=n;return e("multiplyScalar",{"number, number":Yne,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"bigint, bigint":function(r,i){return r*i},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,r)=>r.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,r)=>t.multiply(r)})}),i9e=ye("not",["typed"],n=>{var{typed:e}=n;return e("not",{"null | undefined":()=>!0,number:Fte,Complex:function(r){return 0===r.re&&0===r.im},BigNumber:function(r){return r.isZero()||r.isNaN()},bigint:t=>!t,Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t))})}),c9e=ye("number",["typed"],n=>{var{typed:e}=n,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if("NaN"===i)return NaN;var s=function a9e(n){var e=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return e?{input:n,radix:{"0b":2,"0o":8,"0x":16}[e[1]],integerPart:e[2],fractionalPart:e[3]}:null}(i);if(s)return function l9e(n){for(var e=parseInt(n.integerPart,n.radix),t=0,r=0;r<n.fractionalPart.length;r++)t+=parseInt(n.fractionalPart[r],n.radix)/Math.pow(n.radix,r+1);var s=e+t;if(isNaN(s))throw new SyntaxError('String "'+n.input+'" is not a valid number');return s}(s);var o=0,a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),i=a[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(a){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l-=2**o)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),null:function(i){return 0},"Unit, string | Unit":function(i,s){return i.toNumber(s)},"Array | Matrix":e.referToSelf(r=>i=>Qr(i,r))});return t.fromJSON=function(r){return parseFloat(r.value)},t}),d9e=ye("oct",["typed","format"],n=>{var{typed:e,format:t}=n;return e("oct",{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"oct",wordSize:s})}})}),fie=_e(6499),h9e=fie(Date.now());function Hb(n){var e;return function t(i){e=null===i?h9e:fie(String(i))}(n),function r(){return e()}}var Aie="pickRandom",A9e=ye(Aie,["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Hb(t.randomSeed);return r&&r("config",function(o,a){o.randomSeed!==a.randomSeed&&(i=Hb(o.randomSeed))}),e(Aie,{"Array | Matrix":function(a){return s(a,{})},"Array | Matrix, Object":function(a,l){return s(a,l)},"Array | Matrix, number":function(a,l){return s(a,{number:l})},"Array | Matrix, Array | Matrix":function(a,l){return s(a,{weights:l})},"Array | Matrix, Array | Matrix, number":function(a,l,c){return s(a,{number:c,weights:l})},"Array | Matrix, number, Array | Matrix":function(a,l,c){return s(a,{number:l,weights:c})}});function s(o,a){var{number:l,weights:c,elementWise:u=!0}=a,d=typeof l>"u";d&&(l=1);var f=mr(o)?o.create:mr(c)?c.create:null;o=o.valueOf(),c&&(c=c.valueOf()),!0===u&&(o=ts(o),c=ts(c));var h=0;if(typeof c<"u"){if(c.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var A=0,p=c.length;A<p;A++){if(!$r(c[A])||c[A]<0)throw new Error("Weights must be an array of positive numbers");h+=c[A]}}for(var y,m=o.length,g=[];g.length<l;){if(typeof c>"u")y=o[Math.floor(i()*m)];else for(var v=i()*h,_=0,C=o.length;_<C;_++)if((v-=c[_])<0){y=o[_];break}g.push(y)}return d?g[0]:f?f(g):g}});function mH(n,e){var t=[];if((n=n.slice(0)).length>1)for(var r=0,i=n.shift();r<i;r++)t.push(mH(n,e));else for(var s=0,o=n.shift();s<o;s++)t.push(e());return t}var g9e=ye("random",["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Hb(t.randomSeed);return r&&r("config",function(a,l){a.randomSeed!==l.randomSeed&&(i=Hb(a.randomSeed))}),e("random",{"":()=>o(0,1),number:a=>o(0,a),"number, number":(a,l)=>o(a,l),"Array | Matrix":a=>s(a,0,1),"Array | Matrix, number":(a,l)=>s(a,0,l),"Array | Matrix, number, number":(a,l,c)=>s(a,l,c)});function s(a,l,c){var u=mH(a.valueOf(),()=>o(l,c));return mr(a)?a.create(u,"number"):u}function o(a,l){return a+i()*(l-a)}}),v9e=ye("re",["typed"],n=>{var{typed:e}=n;return e("re",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t))})}),_9e=ye("sec",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sec",{number:Sre,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},Pb({typed:e}))}),w9e=ye("sign",["typed","BigNumber","Fraction","complex"],n=>{var{typed:e,BigNumber:t,complex:r,Fraction:i}=n;return e("sign",{number:gH,Complex:function(o){return 0===o.im?r(gH(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},bigint:function(o){return o>0n?1n:o<0n?-1n:0n},Fraction:function(o){return new i(o.s)},"Array | Matrix":e.referToSelf(s=>o=>Qr(o,s,!0)),Unit:e.referToSelf(s=>o=>{if(!o._isDerived()&&0!==o.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return e.find(s,o.valueType())(o.value)})})}),E9e=ye("sin",["typed"],n=>{var{typed:e}=n,t=Pb({typed:e});return e("sin",{number:Math.sin,"Complex | BigNumber":r=>r.sin()},t)}),D9e=ye("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:e,equalScalar:t,Matrix:r}=n;function i(p,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!Ic(m))throw new Error("Invalid datatype: "+m);if(mr(p))!function s(p,m,g){"SparseMatrix"===m.type?(p._values=m._values?Ur(m._values):void 0,p._index=Ur(m._index),p._ptr=Ur(m._ptr),p._size=Ur(m._size),p._datatype=g||m._datatype):o(p,m.valueOf(),g||m._datatype)}(this,p,m);else if(p&&Vs(p.index)&&Vs(p.ptr)&&Vs(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=m||p.datatype;else if(Vs(p))o(this,p,m);else{if(p)throw new TypeError("Unsupported type of data ("+no(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function o(p,m,g){p._values=[],p._index=[],p._ptr=[],p._datatype=g;var y=m.length,v=0,_=t,C=0;if(Ic(g)&&(_=e.find(t,[g,g])||t,C=e.convert(0,g)),y>0){var b=0;do{p._ptr.push(p._index.length);for(var M=0;M<y;M++){var D=m[M];if(Vs(D)){if(0===b&&v<D.length&&(v=D.length),b<D.length){var S=D[b];_(S,C)||(p._values.push(S),p._index.push(M))}}else 0===b&&v<1&&(v=1),_(D,C)||(p._values.push(D),p._index.push(M))}b++}while(b<v)}p._ptr.push(p._index.length),p._size=[y,v]}function c(p,m,g,y){if(g-m==0)return g;for(var v=m;v<g;v++)if(y[v]===p)return v;return m}function d(p,m,g,y,v,_,C){v.splice(p,0,y),_.splice(p,0,m);for(var b=g+1;b<C.length;b++)C[b]++}function f(p,m,g,y){var v=y||0,_=t,C=0;Ic(p._datatype)&&(_=e.find(t,[p._datatype,p._datatype])||t,C=e.convert(0,p._datatype),v=e.convert(v,p._datatype));var S,T,B,b=!_(v,C),M=p._size[0],D=p._size[1];if(g>D){for(T=D;T<g;T++)if(p._ptr[T]=p._values.length,b)for(S=0;S<M;S++)p._values.push(v),p._index.push(S);p._ptr[g]=p._values.length}else g<D&&(p._ptr.splice(g+1,D-g),p._values.splice(p._ptr[g],p._values.length),p._index.splice(p._ptr[g],p._index.length));if(D=g,m>M){if(b){var R=0;for(T=0;T<D;T++){p._ptr[T]=p._ptr[T]+R,B=p._ptr[T+1]+R;var U=0;for(S=M;S<m;S++,U++)p._values.splice(B+U,0,v),p._index.splice(B+U,0,S),R++}p._ptr[D]=p._values.length}}else if(m<M){var k=0;for(T=0;T<D;T++){p._ptr[T]=p._ptr[T]-k;var O=p._ptr[T+1]-k;for(B=p._ptr[T];B<O;B++)(S=p._index[B])>m-1&&(p._values.splice(B,1),p._index.splice(B,1),k++)}p._ptr[T]=p._values.length}return p._size[0]=m,p._size[1]=g,p}function A(p,m,g,y,v){var M,D,_=y[0],C=y[1],b=[];for(M=0;M<_;M++)for(b[M]=[],D=0;D<C;D++)b[M][D]=0;for(D=0;D<C;D++)for(var T=g[D+1],B=g[D];B<T;B++)b[M=m[B]][D]=p?v?Ur(p[B]):p[B]:1;return b}return(i.prototype=new r).createSparseMatrix=function(p,m){return new i(p,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return CI(this._values,no)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(p,m){return new i(p,m)},i.prototype.density=function(){var p=this._size[0],m=this._size[1];return 0!==p&&0!==m?this._index.length/(p*m):0},i.prototype.subset=function(p,m,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function a(p,m){if(!gI(m))throw new TypeError("Invalid index");if(m.isScalar())return p.get(m.min());var y=m.size();if(y.length!==p._size.length)throw new pi(y.length,p._size.length);var v,_,C,b,M=m.min(),D=m.max();for(v=0,_=p._size.length;v<_;v++)ro(M[v],p._size[v]),ro(D[v],p._size[v]);var S=p._values,T=p._index,B=p._ptr,R=m.dimension(0),U=m.dimension(1),k=[],q=[];R.forEach(function(H,ae){q[H]=ae[0],k[H]=!0});var O=S?[]:void 0,P=[],G=[];return U.forEach(function(H){for(G.push(P.length),C=B[H],b=B[H+1];C<b;C++)!0===k[v=T[C]]&&(P.push(q[v]),O&&O.push(S[C]))}),G.push(P.length),new i({values:O,index:P,ptr:G,size:y,datatype:p._datatype})}(this,p);case 2:case 3:return function l(p,m,g,y){if(!m||!0!==m.isIndex)throw new TypeError("Invalid index");var C,v=m.size(),_=m.isScalar();if(mr(g)?(C=g.size(),g=g.toArray()):C=Tr(g),_){if(0!==C.length)throw new TypeError("Scalar expected");p.set(m.min(),g,y)}else{if(1!==v.length&&2!==v.length)throw new pi(v.length,p._size.length,"<");if(C.length<v.length){for(var b=0,M=0;1===v[b]&&1===C[b];)b++;for(;1===v[b];)M++,b++;g=$ee(g,v.length,M,C)}if(!zp(v,C))throw new pi(v,C,">");if(1===v.length)m.dimension(0).forEach(function(B,R){ro(B),p.set([B,0],g[R[0]],y)});else{var S=m.dimension(0),T=m.dimension(1);S.forEach(function(B,R){ro(B),T.forEach(function(U,k){ro(U),p.set([B,U],g[R[0]][k[0]],y)})})}}return p}(this,p,m,g);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(p){if(!Vs(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new pi(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=p[0],g=p[1];ro(m,this._size[0]),ro(g,this._size[1]);var y=c(m,this._ptr[g],this._ptr[g+1],this._index);return y<this._ptr[g+1]&&this._index[y]===m?this._values[y]:0},i.prototype.set=function(p,m,g){if(!Vs(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new pi(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=p[0],v=p[1],_=this._size[0],C=this._size[1],b=t,M=0;Ic(this._datatype)&&(b=e.find(t,[this._datatype,this._datatype])||t,M=e.convert(0,this._datatype)),(y>_-1||v>C-1)&&(f(this,Math.max(y+1,_),Math.max(v+1,C),g),_=this._size[0],C=this._size[1]),ro(y,_),ro(v,C);var D=c(y,this._ptr[v],this._ptr[v+1],this._index);return D<this._ptr[v+1]&&this._index[D]===y?b(m,M)?function u(p,m,g,y,v){g.splice(p,1),y.splice(p,1);for(var _=m+1;_<v.length;_++)v[_]--}(D,v,this._values,this._index,this._ptr):this._values[D]=m:b(m,M)||d(D,y,v,m,this._values,this._index,this._ptr),this},i.prototype.resize=function(p,m,g){if(!dh(p))throw new TypeError("Array or Matrix expected");var y=p.valueOf().map(_=>Array.isArray(_)&&1===_.length?_[0]:_);if(2!==y.length)throw new Error("Only two dimensions matrix are supported");return y.forEach(function(_){if(!$r(_)||!Zn(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ai(y)+")")}),f(g?this.clone():this,y[0],y[1],m)},i.prototype.reshape=function(p,m){if(!Vs(p))throw new TypeError("Array expected");if(2!==p.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(H){if(!$r(H)||!Zn(H)||H<=-2||0===H)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ai(p)+")")});var g=this._size[0]*this._size[1];if(g!==(p=U8(p,g))[0]*p[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var v=m?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return v;for(var _=[],C=0;C<v._ptr.length;C++)for(var b=0;b<v._ptr[C+1]-v._ptr[C];b++)_.push(C);for(var M=v._values.slice(),D=v._index.slice(),S=0;S<v._index.length;S++){var R=D[S]*v._size[1]+_[S];_[S]=R%p[1],D[S]=Math.floor(R/p[1])}v._values.length=0,v._index.length=0,v._ptr.length=p[1]+1,v._size=p.slice();for(var U=0;U<v._ptr.length;U++)v._ptr[U]=0;for(var k=0;k<M.length;k++){var q=D[k],O=_[k],P=M[k];d(c(q,v._ptr[O],v._ptr[O+1],v._index),q,O,P,v._values,v._index,v._ptr)}return v},i.prototype.clone=function(){return new i({values:this._values?Ur(this._values):void 0,index:Ur(this._index),ptr:Ur(this._ptr),size:Ur(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(p,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,y=this._size[0],v=this._size[1],_=Y0(p,g,"map");return function h(p,m,g,y,v,_,C){var b=[],M=[],D=[],S=t,T=0;Ic(p._datatype)&&(S=e.find(t,[p._datatype,p._datatype])||t,T=e.convert(0,p._datatype));for(var B=function(j,K,oe){var se=_(j,K,oe);S(se,T)||(b.push(se),M.push(K))},R=y;R<=v;R++){D.push(b.length);var U=p._ptr[R],k=p._ptr[R+1];if(C)for(var q=U;q<k;q++){var O=p._index[q];O>=m&&O<=g&&B(p._values[q],O-m,R-y)}else{for(var P={},G=U;G<k;G++)P[p._index[G]]=p._values[G];for(var ae=m;ae<=g;ae++)B(ae in P?P[ae]:0,ae-m,R-y)}}return D.push(b.length),new i({values:b,index:M,ptr:D,size:[g-m+1,v-y+1]})}(this,0,y-1,0,v-1,function(M,D,S){return _(M,[D,S],g)},m)},i.prototype.forEach=function(p,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,y=this._size[0],v=this._size[1],_=Y0(p,g,"forEach"),C=0;C<v;C++){var b=this._ptr[C],M=this._ptr[C+1];if(m)for(var D=b;D<M;D++)_(this._values[D],[this._index[D],C],g);else{for(var T={},B=b;B<M;B++)T[this._index[B]]=this._values[B];for(var U=0;U<y;U++)_(U in T?T[U]:0,[U,C],g)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],m=0;m<p;m++)for(var y=this._ptr[m+1],v=this._ptr[m];v<y;v++){var _=this._index[v];yield{value:this._values[v],index:[_,m]}}},i.prototype.toArray=function(){return A(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return A(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(p){for(var m=this._size[0],g=this._size[1],y=this.density(),v="Sparse Matrix ["+Ai(m,p)+" x "+Ai(g,p)+"] density: "+Ai(y,p)+"\n",_=0;_<g;_++)for(var b=this._ptr[_+1],M=this._ptr[_];M<b;M++)v+="\n    ("+Ai(this._index[M],p)+", "+Ai(_,p)+") ==> "+(this._values?Ai(this._values[M],p):"X");return v},i.prototype.toString=function(){return Ai(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(p){if(p){if(Kr(p)&&(p=p.toNumber()),!$r(p)||!Zn(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var m=p>0?p:0,g=p<0?-p:0,v=this._size[1],_=Math.min(this._size[0]-g,v-m),C=[],b=[],M=[];M[0]=0;for(var D=m;D<v&&C.length<_;D++)for(var T=this._ptr[D+1],B=this._ptr[D];B<T;B++){var R=this._index[B];if(R===D-m+g){C.push(this._values[B]),b[C.length-1]=R-g;break}}return M.push(C.length),new i({values:C,index:b,ptr:M,size:[_,1]})},i.fromJSON=function(p){return new i(p)},i.diagonal=function(p,m,g,y,v){if(!Vs(p))throw new TypeError("Array expected, size parameter");if(2!==p.length)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(H){if(Kr(H)&&(H=H.toNumber()),!$r(H)||!Zn(H)||H<1)throw new Error("Size values must be positive integers");return H}),g){if(Kr(g)&&(g=g.toNumber()),!$r(g)||!Zn(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var _=t,C=0;Ic(v)&&(_=e.find(t,[v,v])||t,C=e.convert(0,v));var B,b=g>0?g:0,M=g<0?-g:0,D=p[0],S=p[1],T=Math.min(D-M,S-b);if(Vs(m)){if(m.length!==T)throw new Error("Invalid value array length");B=function(ae){return m[ae]}}else if(mr(m)){var R=m.size();if(1!==R.length||R[0]!==T)throw new Error("Invalid matrix length");B=function(ae){return m.get([ae])}}else B=function(){return m};for(var U=[],k=[],q=[],O=0;O<S;O++){q.push(U.length);var P=O-b;if(P>=0&&P<T){var G=B(P);_(G,C)||(k.push(P+M),U.push(G))}}return q.push(U.length),new i({values:U,index:k,ptr:q,size:[D,S]})},i.prototype.swapRows=function(p,m){if(!($r(p)&&Zn(p)&&$r(m)&&Zn(m)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return ro(p,this._size[0]),ro(m,this._size[0]),i._swapRows(p,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(p,m,g,y,v){for(var C=y[p+1],b=y[p];b<C;b++)v(g[b],m[b])},i._swapRows=function(p,m,g,y,v,_){for(var C=0;C<g;C++){var b=_[C],M=_[C+1],D=c(p,b,M,v),S=c(m,b,M,v);if(D<M&&S<M&&v[D]===p&&v[S]===m){if(y){var T=y[D];y[D]=y[S],y[S]=T}}else if(D<M&&v[D]===p&&(S>=M||v[S]!==m)){var B=y?y[D]:void 0;v.splice(S,0,m),y&&y.splice(S,0,B),v.splice(S<=D?D+1:D,1),y&&y.splice(S<=D?D+1:D,1)}else if(S<M&&v[S]===m&&(D>=M||v[D]!==p)){var R=y?y[S]:void 0;v.splice(D,0,p),y&&y.splice(D,0,R),v.splice(D<=S?S+1:S,1),y&&y.splice(D<=S?S+1:S,1)}}},i},{isClass:!0}),T9e=ye("splitUnit",["typed"],n=>{var{typed:e}=n;return e("splitUnit",{"Unit, Array":function(r,i){return r.splitUnit(i)}})}),N9e=ye("square",["typed"],n=>{var{typed:e}=n;return e("square",{number:are,Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},bigint:function(r){return r*r},Fraction:function(r){return r.mul(r)},Unit:function(r){return r.pow(2)}})}),F9e=ye("string",["typed"],n=>{var{typed:e}=n;return e("string",{"":function(){return""},number:X0,null:function(r){return"null"},boolean:function(r){return r+""},string:function(r){return r},"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t)),any:function(r){return String(r)}})}),Cie="subtractScalar",O9e=ye(Cie,["typed"],n=>{var{typed:e}=n;return e(Cie,{"number, number":Xne,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"bigint, bigint":function(r,i){return r-i},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==i.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var s=r.clone();return s.value=e.find(t,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})}),L9e=ye("tan",["typed"],n=>{var{typed:e}=n,t=Pb({typed:e});return e("tan",{number:Math.tan,"Complex | BigNumber":r=>r.tan()},t)}),k9e=ye("typeOf",["typed"],n=>{var{typed:e}=n;return e("typeOf",{any:no})}),V9e=ye("acosh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("acosh",{number:function(s){return s>=1||t.predictable?hre(s):s<=-1?new r(Math.log(Math.sqrt(s*s-1)-s),Math.PI):new r(s,0).acosh()},Complex:function(s){return s.acosh()},BigNumber:function(s){return s.acosh()}})}),z9e=ye("acsch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acsch",{number:gre,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})}),j9e=ye("asec",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("asec",{number:function(o){return o<=-1||o>=1||t.predictable?mre(o):new r(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})}),$9e=ye("bignumber",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(s){var o=s[2],a=t(s[1]),l=new t(2).pow(Number(o));if(a.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new t(2).pow(Number(o)-1);return a.gte(c)?a.sub(l):a}return new t(i)},BigNumber:function(i){return i},bigint:function(i){return new t(i.toString())},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),Fraction:function(i){return new t(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(r=>i=>Qr(i,r))})}),Tie="combinationsWithRep",X9e=ye(Tie,["typed"],n=>{var{typed:e}=n;return e(Tie,{"number, number":function(r,i){if(!Zn(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Zn(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r<1)throw new TypeError("k must be less than or equal to n + k - 1");return i<r-1?Xp(r,r+i-1)/Xp(1,i):Xp(i+1,r+i-1)/Xp(1,r-1)},"BigNumber, BigNumber":function(r,i){var o,a,l=new(0,r.constructor)(1),c=r.minus(l);if(!Bie(r)||!Bie(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,i.lt(c))for(a=l;a.lte(c);a=a.plus(l))o=o.times(i.plus(a)).dividedBy(a);else for(a=l;a.lte(i);a=a.plus(l))o=o.times(c.plus(a)).dividedBy(a);return o}})});function Bie(n){return n.isInteger()&&n.gte(0)}var J9e=ye("cosh",["typed"],n=>{var{typed:e}=n;return e("cosh",{number:Pee,"Complex | BigNumber":t=>t.cosh()})}),eje=ye("csch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csch",{number:Ere,Complex:r=>r.csch(),BigNumber:r=>new t(1).div(r.sinh())})}),nje=ye("isNaN",["typed"],n=>{var{typed:e}=n;return e("isNaN",{number:tie,BigNumber:function(r){return r.isNaN()},bigint:function(r){return!1},Fraction:function(r){return!1},Complex:function(r){return r.isNaN()},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t))})}),ije=ye("isPrime",["typed"],n=>{var{typed:e}=n;return e("isPrime",{number:function(r){if(r<=3)return r>1;if(r%2==0||r%3==0)return!1;for(var i=5;i*i<=r;i+=6)if(r%i==0||r%(i+2)==0)return!1;return!0},bigint:function(r){if(r<=3n)return r>1n;if(r%2n===0n||r%3n===0n)return!1;for(var i=5n;i*i<=r;i+=6n)if(r%i===0n||r%(i+2n)===0n)return!1;return!0},BigNumber:function(r){if(r.lte(3))return r.gt(1);if(r.mod(2).eq(0)||r.mod(3).eq(0))return!1;if(r.lt(Math.pow(2,32))){for(var i=r.toNumber(),s=5;s*s<=i;s+=6)if(i%s==0||i%(s+2)==0)return!1;return!0}function o(y,v,_){for(var C=1;!v.eq(0);)v.mod(2).eq(0)?(v=v.div(2),y=y.mul(y).mod(_)):(v=v.sub(1),C=y.mul(C).mod(_));return C}for(var a=r.constructor.clone({precision:2*r.toFixed(0).length}),l=0,c=(r=new a(r)).sub(1);c.mod(2).eq(0);)c=c.div(2),l+=1;var u=null;if(r.lt("3317044064679887385961981"))u=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(y=>y<r);else{var d=Math.min(r.toNumber()-2,Math.floor(2*Math.pow(r.toFixed(0).length*Math.log(10),2)));u=[];for(var f=2;f<=d;f+=1)u.push(d)}for(var h=0;h<u.length;h+=1){var A=u[h],p=o(r.sub(r).add(A),c,r);if(!p.eq(1))for(var m=0,g=p;!g.eq(r.sub(1));m+=1,g=g.mul(g).mod(r))if(m===l-1)return!1}return!0},"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t))})}),oje=ye("randomInt",["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Hb(t.randomSeed);return r&&r("config",function(a,l){a.randomSeed!==l.randomSeed&&(i=Hb(a.randomSeed))}),e("randomInt",{"":()=>o(0,1),number:a=>o(0,a),"number, number":(a,l)=>o(a,l),"Array | Matrix":a=>s(a,0,1),"Array | Matrix, number":(a,l)=>s(a,0,l),"Array | Matrix, number, number":(a,l,c)=>s(a,l,c)});function s(a,l,c){var u=mH(a.valueOf(),()=>o(l,c));return mr(a)?a.create(u,"number"):u}function o(a,l){return Math.floor(a+i()*(l-a))}}),lje=ye("sech",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sech",{number:xre,Complex:r=>r.sech(),BigNumber:r=>new t(1).div(r.cosh())})}),uje=ye("sinh",["typed"],n=>{var{typed:e}=n;return e("sinh",{number:Dre,"Complex | BigNumber":t=>t.sinh()})}),hje=ye("sparse",["typed","SparseMatrix"],n=>{var{typed:e,SparseMatrix:t}=n;return e("sparse",{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,s){return new t(i,s)}})}),pje=ye("sqrt",["config","typed","Complex"],n=>{var{config:e,typed:t,Complex:r}=n;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(s){return isNaN(s)?NaN:s>=0||e.predictable?Math.sqrt(s):new r(s,0).sqrt()}}),mje=ye("squeeze",["typed"],n=>{var{typed:e}=n;return e("squeeze",{Array:function(r){return bI(Ur(r))},Matrix:function(r){var i=bI(r.toArray());return Array.isArray(i)?r.create(i,r.datatype()):i},any:function(r){return Ur(r)}})}),_je=ye("tanh",["typed"],n=>{var{typed:e}=n;return e("tanh",{number:Lee,"Complex | BigNumber":t=>t.tanh()})}),Hie="unaryMinus",wje=ye(Hie,["typed"],n=>{var{typed:e}=n;return e(Hie,{number:Jne,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>r=>{var i=r.clone();return i.value=e.find(t,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t,!0))})}),Eje=ye("acoth",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("acoth",{number:function(o){return o>=1||o<=-1||t.predictable?Are(o):new r(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})}),xje=ye("bin",["typed","format"],n=>{var{typed:e,format:t}=n;return e("bin",{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"bin",wordSize:s})}})}),Mje=ye("coth",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("coth",{number:wre,Complex:r=>r.coth(),BigNumber:r=>new t(1).div(r.tanh())})}),Nje=ye("fraction",["typed","Fraction"],n=>{var{typed:e,Fraction:t}=n;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,s){return new t(i,s)},"bigint, bigint":function(i,s){return new t(i,s)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},bigint:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>Qr(i,r))})}),Fje=ye("isNumeric",["typed"],n=>{var{typed:e}=n;return e("isNumeric",{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>r=>Qr(r,t))})}),Oje=ye("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,DenseMatrix:r,SparseMatrix:i}=n;return e("matrix",{"":function(){return s([])},string:function(a){return s([],a)},"string, string":function(a,l){return s([],a,l)},Array:function(a){return s(a)},Matrix:function(a){return s(a,a.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(o,a,l){if("dense"===a||"default"===a||void 0===a)return new r(o,l);if("sparse"===a)return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),qie="matrixFromFunction",Lje=ye(qie,["typed","matrix","isZero"],n=>{var{typed:e,matrix:t,isZero:r}=n;return e(qie,{"Array | Matrix, function, string, string":function(o,a,l,c){return i(o,a,l,c)},"Array | Matrix, function, string":function(o,a,l){return i(o,a,l)},"Matrix, function":function(o,a){return i(o,a,"dense")},"Array, function":function(o,a){return i(o,a,"dense").toArray()},"Array | Matrix, string, function":function(o,a,l){return i(o,l,a)},"Array | Matrix, string, string, function":function(o,a,l,c){return i(o,c,a,l)}});function i(s,o,a,l){var c;return(c=void 0!==l?t(a,l):t(a)).resize(s),c.forEach(function(u,d){var f=o(d);r(f)||c.set(d,f)}),c}}),kje=ye("mode",["typed","isNaN","isNumeric"],n=>{var{typed:e,isNaN:t,isNumeric:r}=n;return e("mode",{"Array | Matrix":i,"...":function(o){return i(o)}});function i(s){if(0===(s=ts(s.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var a={},l=[],c=0,u=0;u<s.length;u++){var d=s[u];if(r(d)&&t(d))throw new Error("Cannot calculate mode of an array containing NaN values");d in a||(a[d]=0),a[d]++,a[d]===c?l.push(d):a[d]>c&&(c=a[d],l=[d])}return l}}),Qje=ye("numeric",["number","?bignumber","?fraction"],n=>{var{number:e,bignumber:t,fraction:r}=n,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:o=>e(o),BigNumber:t?o=>t(o):q8,bigint:o=>BigInt(o),Fraction:r?o=>r(o):dte};return function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var u=no(a);if(!(u in i))throw new TypeError("Cannot convert "+a+' of type "'+u+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in s))throw new TypeError("Cannot convert "+a+' to type "'+l+'"; valid output types are '+Object.keys(s).join(", "));return l===u?a:s[l](a)}}),Gje=ye("prod",["typed","config","multiplyScalar","numeric"],n=>{var{typed:e,config:t,multiplyScalar:r,numeric:i}=n;return e("prod",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(a,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(a){return s(a)}});function s(o){var a;if(qp(o,function(l){try{a=void 0===a?l:r(a,l)}catch(c){throw Au(c,"prod",l)}}),"string"==typeof a&&(a=i(a,Rm(a,t))),void 0===a)throw new Error("Cannot calculate prod of an empty array");return a}}),qje=ye("reshape",["typed","isInteger","matrix"],n=>{var{typed:e,isInteger:t}=n;return e("reshape",{"Matrix, Array":function(i,s){return i.reshape(s,!0)},"Array, Array":function(i,s){return s.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),L8(i,s)}})}),$je=ye("size",["typed","config","?matrix"],n=>{var{typed:e,config:t,matrix:r}=n;return e("size",{Matrix:function(s){return s.create(s.size(),"number")},Array:Tr,string:function(s){return"Array"===t.matrix?[s.length]:r([s.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(s){return"Array"===t.matrix?[]:r?r([],"dense","number"):hte()}})}),Xje=ye("transpose",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return e("transpose",{Array:o=>r(t(o)).valueOf(),Matrix:r,any:Ur});function r(o){var l,a=o.size();switch(a.length){case 1:l=o.clone();break;case 2:var c=a[0],u=a[1];if(0===u)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Ai(a)+")");switch(o.storage()){case"dense":l=function i(o,a,l){for(var d,c=o._data,u=[],f=0;f<l;f++){d=u[f]=[];for(var h=0;h<a;h++)d[h]=Ur(c[h][f])}return o.createDenseMatrix({data:u,size:[l,a],datatype:o._datatype})}(o,c,u);break;case"sparse":l=function s(o,a,l){for(var c=o._values,u=o._index,d=o._ptr,f=c?[]:void 0,h=[],A=[],p=[],m=0;m<a;m++)p[m]=0;var g,y,v;for(g=0,y=u.length;g<y;g++)p[u[g]]++;for(var _=0,C=0;C<a;C++)A.push(_),_+=p[C],p[C]=A[C];for(A.push(_),v=0;v<l;v++)for(var M=d[v+1],D=d[v];D<M;D++){var S=p[u[D]]++;h[S]=v,c&&(f[S]=Ur(c[D]))}return o.createSparseMatrix({values:f,index:h,ptr:A,size:[l,a],datatype:o._datatype})}(o,c,u)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Ai(a)+")")}return l}}),Jje=ye("xgcd",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("xgcd",{"number, number":function(a,l){var c=lre(a,l);return"Array"===t.matrix?c:r(c)},"BigNumber, BigNumber":function s(o,a){var l,c,u,g,d=new i(0),f=new i(1),h=d,A=f,p=f,m=d;if(!o.isInt()||!a.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!a.isZero();)c=o.div(a).floor(),u=o.mod(a),l=h,h=A.minus(c.times(h)),A=l,l=p,p=m.minus(c.times(p)),m=l,o=a,a=u;return g=o.lt(d)?[o.neg(),A.neg(),m.neg()]:[o,o.isZero()?0:A,m],"Array"===t.matrix?g:r(g)}})}),eqe=ye("zeros",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("zeros",{"":function(){return"Array"===t.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var d=c.pop();return s(c,d)}return"Array"===t.matrix?s(c):s(c,"default")},Array:s,Matrix:function(c){var u=c.storage();return s(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return s(c.valueOf(),u)}});function s(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,d,f){Kr(u)&&(c=!0,f[d]=u.toNumber())}),c}(l),d=u?new i(0):0;if(function a(l){l.forEach(function(c){if("number"!=typeof c||!Zn(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}(l),c){var f=r(c);return l.length>0?f.resize(l,d):f}var h=[];return l.length>0?Mb(h,l,d):h}}),nqe=ye("asin",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("asin",{number:function(s){return s>=-1&&s<=1||t.predictable?Math.asin(s):new r(s,0).asin()},Complex:function(s){return s.asin()},BigNumber:function(s){return s.asin()}})}),iqe=ye("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],n=>{var{config:e,typed:t,isNegative:r,unaryMinus:i,matrix:s,Complex:o,BigNumber:a,Fraction:l}=n;return t("cbrt",{number:Ax,Complex:c,"Complex, boolean":c,BigNumber:function(f){return f.cbrt()},Unit:function u(d){if(d.value&&Gp(d.value)){var f=d.clone();return f.value=1,(f=f.pow(1/3)).value=c(d.value),f}var A,h=r(d.value);h&&(d.value=i(d.value)),A=Kr(d.value)?new a(1).div(3):nx(d.value)?new l(1,3):1/3;var p=d.pow(A);return h&&(p.value=i(p.value)),p}});function c(d,f){var h=d.arg()/3,A=d.abs(),p=new o(Ax(A),0).mul(new o(0,h).exp());if(f){var m=[p,new o(Ax(A),0).mul(new o(0,h+2*Math.PI/3).exp()),new o(Ax(A),0).mul(new o(0,h-2*Math.PI/3).exp())];return"Array"===e.matrix?m:s(m)}return p}}),oqe=ye("count",["typed","size","prod"],n=>{var{typed:e,size:t,prod:r}=n;return e("count",{string:function(s){return s.length},"Matrix | Array":function(s){return r(t(s))}})}),rse="ctranspose",lqe=ye(rse,["typed","transpose","conj"],n=>{var{typed:e,transpose:t,conj:r}=n;return e(rse,{any:function(s){return r(t(s))}})}),uqe=ye("diag",["typed","matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e("diag",{Array:function(c){return s(c,0,Tr(c),null)},"Array, number":function(c,u){return s(c,u,Tr(c),null)},"Array, BigNumber":function(c,u){return s(c,u.toNumber(),Tr(c),null)},"Array, string":function(c,u){return s(c,0,Tr(c),u)},"Array, number, string":function(c,u,d){return s(c,u,Tr(c),d)},"Array, BigNumber, string":function(c,u,d){return s(c,u.toNumber(),Tr(c),d)},Matrix:function(c){return s(c,0,c.size(),c.storage())},"Matrix, number":function(c,u){return s(c,u,c.size(),c.storage())},"Matrix, BigNumber":function(c,u){return s(c,u.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,u){return s(c,0,c.size(),u)},"Matrix, number, string":function(c,u,d){return s(c,u,c.size(),d)},"Matrix, BigNumber, string":function(c,u,d){return s(c,u.toNumber(),c.size(),d)}});function s(l,c,u,d){if(!Zn(c))throw new TypeError("Second parameter in function diag must be an integer");var f=c>0?c:0,h=c<0?-c:0;switch(u.length){case 1:return function o(l,c,u,d,f,h){var A=[d+f,d+h];if(u&&"sparse"!==u&&"dense"!==u)throw new TypeError("Unknown matrix type ".concat(u,'"'));var p="sparse"===u?i.diagonal(A,l,c):r.diagonal(A,l,c);return null!==u?p:p.valueOf()}(l,c,d,u[0],h,f);case 2:return function a(l,c,u,d,f,h){if(mr(l)){var A=l.diagonal(c);return null!==u?u!==A.storage()?t(A,u):A:A.valueOf()}for(var p=Math.min(d[0]-f,d[1]-h),m=[],g=0;g<p;g++)m[g]=l[g+f][g+h];return null!==u?t(m):m}(l,c,d,u,h,f)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}),sse="divideScalar",hqe=ye(sse,["typed","numeric"],n=>{var{typed:e}=n;return e(sse,{"number, number":function(i,s){return i/s},"Complex, Complex":function(i,s){return i.div(s)},"BigNumber, BigNumber":function(i,s){return i.div(s)},"bigint, bigint":function(i,s){return i/s},"Fraction, Fraction":function(i,s){return i.div(s)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),DA=ye("matAlgo07xSSf",["typed","SparseMatrix"],n=>{var{typed:e,SparseMatrix:t}=n;return function(s,o,a){var l=s._size,c=s._datatype||void 0===s._data?s._datatype:s.getDataType(),u=o._size,d=o._datatype||void 0===o._data?o._datatype:o.getDataType();if(l.length!==u.length)throw new pi(l.length,u.length);if(l[0]!==u[0]||l[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+u+")");var A,f=l[0],h=l[1],p=0,m=a;"string"==typeof c&&c===d&&"mixed"!==c&&(p=e.convert(0,A=c),m=e.find(a,[A,A]));for(var g=[],y=[],v=new Array(h+1).fill(0),_=[],C=[],b=[],M=[],D=0;D<h;D++){var S=D+1,T=0;r(s,D,b,_,S),r(o,D,M,C,S);for(var B=0;B<f;B++){var k=m(b[B]===S?_[B]:p,M[B]===S?C[B]:p);0!==k&&!1!==k&&(y.push(B),g.push(k),T++)}v[D+1]=v[D]+T}return new t({values:g,index:y,ptr:v,size:[f,h],datatype:c===s._datatype&&d===o._datatype?A:void 0})};function r(i,s,o,a,l){for(var c=i._values,u=i._index,d=i._ptr,f=d[s],h=d[s+1];f<h;f++){var A=u[f];o[A]=l,a[A]=c[f]}}}),gqe=ye("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:r,divideScalar:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=Cf({typed:e,equalScalar:r}),c=fu({typed:e}),u=DA({typed:e,SparseMatrix:a}),d=ic({typed:e,equalScalar:r}),f=ul({typed:e,DenseMatrix:s});return e("dotDivide",io({typed:e,matrix:t,concat:o})({elop:i,SS:u,DS:c,SD:l,Ss:d,sS:f}))}),uF="equal",vqe=ye(uF,["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=fu({typed:e}),l=DA({typed:e,SparseMatrix:o}),c=ul({typed:e,DenseMatrix:i}),u=io({typed:e,matrix:t,concat:s});return e(uF,yqe({typed:e,equalScalar:r}),u({elop:r,SS:l,DS:a,Ss:c}))}),yqe=ye(uF,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(uF,{"any, any":function(i,s){return null===i?null===s:null===s?null===i:void 0===i?void 0===s:void 0===s?void 0===i:t(i,s)}})}),ase="hasNumericValue",bqe=ye(ase,["typed","isNumeric"],n=>{var{typed:e,isNumeric:t}=n;return e(ase,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})}),Cqe=ye("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i,DenseMatrix:s,SparseMatrix:o}=n;return e("identity",{"":function(){return"Matrix"===t.matrix?r([]):[]},string:function(u){return r(u)},"number | BigNumber":function(u){return l(u,u,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, string":function(u,d){return l(u,u,d)},"number | BigNumber, number | BigNumber":function(u,d){return l(u,d,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,d,f){return l(u,d,f)},Array:function(u){return a(u)},"Array, string":function(u,d){return a(u,d)},Matrix:function(u){return a(u.valueOf(),u.storage())},"Matrix, string":function(u,d){return a(u.valueOf(),d)}});function a(c,u){switch(c.length){case 0:return u?r(u):[];case 1:return l(c[0],c[0],u);case 2:return l(c[0],c[1],u);default:throw new Error("Vector containing two values expected")}}function l(c,u,d){var f=Kr(c)||Kr(u)?i:null;if(Kr(c)&&(c=c.toNumber()),Kr(u)&&(u=u.toNumber()),!Zn(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!Zn(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var h=f?new i(1):1,A=f?new f(0):0,p=[c,u];if(d){if("sparse"===d)return o.diagonal(p,h,0,A);if("dense"===d)return s.diagonal(p,h,0,A);throw new TypeError('Unknown matrix type "'.concat(d,'"'))}for(var m=Mb([],p,A),g=c<u?c:u,y=0;y<g;y++)m[y][y]=h;return m}}),Sqe=ye("kron",["typed","matrix","multiplyScalar"],n=>{var{typed:e,matrix:t,multiplyScalar:r}=n;return e("kron",{"Matrix, Matrix":function(o,a){return t(i(o.toArray(),a.toArray()))},"Matrix, Array":function(o,a){return t(i(o.toArray(),a))},"Array, Matrix":function(o,a){return t(i(o,a.toArray()))},"Array, Array":i});function i(s,o){if(1===Tr(s).length&&(s=[s]),1===Tr(o).length&&(o=[o]),Tr(s).length>2||Tr(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(s.length)+", y = "+JSON.stringify(o.length)+")");var a=[],l=[];return s.map(function(c){return o.map(function(u){return a.push(l=[]),c.map(function(d){return u.map(function(f){return l.push(r(d,f))})})})})&&a}}),dF="largerEq",Dqe=ye(dF,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=fu({typed:e}),l=DA({typed:e,SparseMatrix:o}),c=ul({typed:e,DenseMatrix:i}),u=io({typed:e,matrix:r,concat:s}),d=Lb({typed:e});return e(dF,Mqe({typed:e,config:t}),{"boolean, boolean":(f,h)=>f>=h,"BigNumber, BigNumber":function(h,A){return h.gte(A)||$u(h,A,t.relTol,t.absTol)},"bigint, bigint":function(h,A){return h>=A},"Fraction, Fraction":(f,h)=>-1!==f.compare(h),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,u({SS:l,DS:a,Ss:c}))}),Mqe=ye(dF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(dF,{"number, number":function(i,s){return i>=s||rc(i,s,t.relTol,t.absTol)}})}),vH=ye("matAlgo08xS0Sid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,d=i._datatype||void 0===i._data?i._datatype:i.getDataType(),f=s._values,h=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new pi(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!a||!f)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof d&&d===m&&"mixed"!==d&&(_=e.find(t,[v=d,v]),C=e.convert(0,v),b=e.find(o,[v,v]));for(var R,k,q,M=[],D=[],S=[],T=[],B=[],O=0;O<y;O++){S[O]=D.length;var P=O+1;for(k=c[O+1],R=c[O];R<k;R++)B[q=l[R]]=P,T[q]=a[R],D.push(q);for(k=A[O+1],R=A[O];R<k;R++)B[q=h[R]]===P&&(T[q]=b(T[q],f[R]));for(R=S[O];R<D.length;){var G=T[q=D[R]];_(G,C)?D.splice(R,1):(M.push(G),R++)}}return S[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:S,size:[g,y],datatype:d===i._datatype&&m===s._datatype?v:void 0})}}),yH=ye("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return{"Array, number":e.referTo("DenseMatrix, number",r=>(i,s)=>r(t(i),s).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",r=>(i,s)=>r(t(i),s).valueOf()),"number, Array":e.referTo("number, DenseMatrix",r=>(i,s)=>r(i,t(s)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",r=>(i,s)=>r(i,t(s)).valueOf())}}),Iqe=ye("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=km({typed:e}),l=Cf({typed:e,equalScalar:r}),c=vH({typed:e,equalScalar:r}),u=J0({typed:e,DenseMatrix:s}),d=ic({typed:e,equalScalar:r}),f=wf({typed:e}),h=io({typed:e,matrix:t,concat:o}),A=yH({typed:e,matrix:t});return e("leftShift",{"number, number":Yte,"BigNumber, BigNumber":YHe,"bigint, bigint":(p,m)=>p<<m,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():f(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):f(g,m,p,!0))},A,h({SS:c,DS:a,SD:l}))});function mx(n){var{DenseMatrix:e}=n;return function(r,i,s){var o=r.size();if(2!==o.length)throw new RangeError("Matrix must be two dimensional (size: "+Ai(o)+")");var a=o[0];if(a!==o[1])throw new RangeError("Matrix must be square (size: "+Ai(o)+")");var c=[];if(mr(i)){var u=i.size(),d=i._data;if(1===u.length){if(u[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var f=0;f<a;f++)c[f]=[d[f]];return new e({data:c,size:[a,1],datatype:i._datatype})}if(2===u.length){if(u[0]!==a||1!==u[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(pI(i)){if(s){c=[];for(var h=0;h<a;h++)c[h]=[d[h][0]];return new e({data:c,size:[a,1],datatype:i._datatype})}return i}if($0(i)){for(var A=0;A<a;A++)c[A]=[0];for(var p=i._values,m=i._index,g=i._ptr,y=g[1],v=g[0];v<y;v++)c[m[v]][0]=p[v];return new e({data:c,size:[a,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Vs(i)){var C=Tr(i);if(1===C.length){if(C[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<a;b++)c[b]=[i[b]];return new e({data:c,size:[a,1]})}if(2===C.length){if(C[0]!==a||1!==C[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var M=0;M<a;M++)c[M]=[i[M][0]];return new e({data:c,size:[a,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Rqe=ye("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=mx({DenseMatrix:a});return e("lsolve",{"SparseMatrix, Array | Matrix":function(f,h){return function u(d,f){for(var h=(f=l(d,f,!0))._data,A=d._size[0],p=d._size[1],m=d._values,g=d._index,y=d._ptr,v=[],_=0;_<p;_++){var C=h[_][0]||0;if(o(C,0))v[_]=[0];else{for(var b=0,M=[],D=[],T=y[_+1],B=y[_];B<T;B++){var R=g[B];R===_?b=m[B]:R>_&&(M.push(m[B]),D.push(R))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=r(C,b),k=0,q=D.length;k<q;k++){var O=D[k];h[O]=[s(h[O][0]||0,i(U,M[k]))]}v[_]=[U]}}return new a({data:v,size:[A,1]})}(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return c(f,h)},"Array, Array | Matrix":function(f,h){return c(t(f),h).valueOf()}});function c(d,f){for(var h=(f=l(d,f,!0))._data,A=d._size[0],p=d._size[1],m=[],g=d._data,y=0;y<p;y++){var v=h[y][0]||0,_=void 0;if(o(v,0))_=0;else{var C=g[y][y];if(o(C,0))throw new Error("Linear system cannot be solved since matrix is singular");_=r(v,C);for(var b=y+1;b<A;b++)h[b]=[s(h[b][0]||0,i(_,g[b][y]))]}m[y]=[_]}return new a({data:m,size:[A,1]})}}),hse="matrixFromColumns",Pqe=ye(hse,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(hse,{"...Array":function(l){return s(l)},"...Matrix":function(l){return t(s(l.map(c=>c.toArray())))}});function s(a){if(0===a.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(a[0]),c=[],u=0;u<l;u++)c[u]=[];for(var d of a){var f=o(d);if(f!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|f));for(var h=r(d),A=0;A<l;A++)c[A].push(h[A])}return c}function o(a){var l=i(a);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Uqe=ye("nthRoot",["typed","matrix","equalScalar","BigNumber","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,concat:s}=n,o=km({typed:e}),a=Cf({typed:e,equalScalar:r}),l=jI({typed:e,equalScalar:r}),c=ic({typed:e,equalScalar:r}),u=io({typed:e,matrix:t,concat:s});function d(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e("nthRoot",{number:ore,"number, number":ore,BigNumber:h=>f(h,new i(2)),"BigNumber, BigNumber":f,Complex:d,"Complex, number":d,Array:e.referTo("DenseMatrix,number",h=>A=>h(t(A),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",h=>A=>h(A,2)),SparseMatrix:e.referTo("SparseMatrix,number",h=>A=>h(A,2)),"SparseMatrix, SparseMatrix":e.referToSelf(h=>(A,p)=>{if(1===p.density())return l(A,p,h);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(h=>(A,p)=>{if(1===p.density())return o(A,p,h,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",h=>(A,p)=>h(t(A),p)),"number | BigNumber, SparseMatrix":e.referToSelf(h=>(A,p)=>{if(1===p.density())return c(p,A,h,!0);throw new Error("Root must be non-zero")})},u({scalar:"number | BigNumber",SD:a,Ss:c,sS:!1}));function f(h,A){var p=i.precision,m=i.clone({precision:p+2}),g=new i(0),y=new m(1),v=A.isNegative();if(v&&(A=A.neg()),A.isZero())throw new Error("Root must be non-zero");if(h.isNegative()&&!A.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(h.isZero())return v?new m(1/0):0;if(!h.isFinite())return v?g:h;var _=h.abs().pow(y.div(A));return _=h.isNeg()?_.neg():_,new i((v?y.div(_):_).toPrecision(p))}}),Vqe=ye("ones",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("ones",{"":function(){return"Array"===t.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var d=c.pop();return s(c,d)}return"Array"===t.matrix?s(c):s(c,"default")},Array:s,Matrix:function(c){var u=c.storage();return s(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return s(c.valueOf(),u)}});function s(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,d,f){Kr(u)&&(c=!0,f[d]=u.toNumber())}),c}(l),d=u?new i(1):1;if(function a(l){l.forEach(function(c){if("number"!=typeof c||!Zn(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}(l),c){var f=r(c);return l.length>0?f.resize(l,d):f}var h=[];return l.length>0?Mb(h,l,d):h}}),zqe=ye("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],n=>{var{typed:e,matrix:t,zeros:r,identity:i,isZero:s,equal:o,sign:a,sqrt:l,conj:c,unaryMinus:u,addScalar:d,divideScalar:f,multiplyScalar:h,subtractScalar:A,complex:p}=n;return ll(e("qr",{DenseMatrix:function(_){return g(_)},SparseMatrix:function(_){return function y(v){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(_){var b=g(t(_));return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:m});function m(v){var T,B,R,_=v._size[0],C=v._size[1],b=i([_],"dense"),M=b._data,D=v.clone(),S=D._data,U=r([_],"");for(R=0;R<Math.min(C,_);++R){var k=S[R][R],q=u(o(k,0)?1:a(k)),O=c(q),P=0;for(T=R;T<_;T++)P=d(P,h(S[T][R],c(S[T][R])));var G=h(q,l(P));if(!s(G)){var H=A(k,G);for(U[R]=1,T=R+1;T<_;T++)U[T]=f(S[T][R],H);var ae=u(c(f(H,G))),ve=void 0;for(B=R;B<C;B++){for(ve=0,T=R;T<_;T++)ve=d(ve,h(c(U[T]),S[T][B]));for(ve=h(ve,ae),T=R;T<_;T++)S[T][B]=h(A(S[T][B],h(U[T],ve)),O)}for(T=0;T<_;T++){for(ve=0,B=R;B<_;B++)ve=d(ve,h(M[T][B],U[B]));for(ve=h(ve,ae),B=R;B<_;++B)M[T][B]=f(A(M[T][B],h(ve,c(U[B]))),O)}}}return{Q:b,R:D,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function g(v){var _=m(v),C=_.R._data;if(v._data.length>0)for(var b="Complex"===C[0][0].type?p(0):0,M=0;M<C.length;++M)for(var D=0;D<M&&D<(C[0]||[]).length;++D)C[M][D]=b;return _}});function ty(n,e,t,r){if(!(this instanceof ty))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=e,this.min=t,this.max=r,this.message="Wrong number of arguments in function "+n+" ("+e+" provided, "+t+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}(ty.prototype=new Error).constructor=Error,ty.prototype.name="ArgumentsError",ty.prototype.isArgumentsError=!0;var qqe=ye("resize",["config","matrix"],n=>{var{config:e,matrix:t}=n;return function(s,o,a){if(2!==arguments.length&&3!==arguments.length)throw new ty("resize",arguments.length,2,3);if(mr(o)&&(o=o.valueOf()),Kr(o[0])&&(o=o.map(function(u){return Kr(u)?u.toNumber():u})),mr(s))return s.resize(o,a,!0);if("string"==typeof s)return function r(i,s,o){if(void 0!==o){if("string"!=typeof o||1!==o.length)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(1!==s.length)throw new pi(s.length,1);var a=s[0];if("number"!=typeof a||!Zn(a))throw new TypeError("Invalid size, must contain positive integers (size: "+Ai(s)+")");if(i.length>a)return i.substring(0,a);if(i.length<a){for(var l=i,c=0,u=a-i.length;c<u;c++)l+=o;return l}return i}(s,o,a);var l=!Array.isArray(s)&&"Array"!==e.matrix;if(0===o.length){for(;Array.isArray(s);)s=s[0];return Ur(s)}Array.isArray(s)||(s=[s]);var c=Mb(s=Ur(s),o,a);return l?t(c):c}}),pse="rightArithShift",$qe=ye(pse,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=km({typed:e}),l=Cf({typed:e,equalScalar:r}),c=vH({typed:e,equalScalar:r}),u=J0({typed:e,DenseMatrix:s}),d=ic({typed:e,equalScalar:r}),f=wf({typed:e}),h=io({typed:e,matrix:t,concat:o}),A=yH({typed:e,matrix:t});return e(pse,{"number, number":Jte,"BigNumber, BigNumber":JHe,"bigint, bigint":(p,m)=>p>>m,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():f(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):f(g,m,p,!0))},A,h({SS:c,DS:a,SD:l}))}),Vb="Number of decimals in function round must be an integer",Xqe=ye("round",["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],n=>{var{typed:e,config:t,matrix:r,equalScalar:i,zeros:s,BigNumber:o,DenseMatrix:a}=n,l=ic({typed:e,equalScalar:i}),c=ul({typed:e,DenseMatrix:a}),u=wf({typed:e});function d(f){return Math.abs(ox(f).exponent)}return e("round",{number:function(h){var A=px(h,d(t.relTol));return px(rc(h,A,t.relTol,t.absTol)?A:h)},"number, number":function(h,A){var p=d(t.relTol);if(A>=p)return px(h,A);var m=px(h,p);return px(rc(h,m,t.relTol,t.absTol)?m:h,A)},"number, BigNumber":function(h,A){if(!A.isInteger())throw new TypeError(Vb);return new o(h).toDecimalPlaces(A.toNumber())},Complex:function(h){return h.round()},"Complex, number":function(h,A){if(A%1)throw new TypeError(Vb);return h.round(A)},"Complex, BigNumber":function(h,A){if(!A.isInteger())throw new TypeError(Vb);var p=A.toNumber();return h.round(p)},BigNumber:function(h){var A=new o(h).toDecimalPlaces(d(t.relTol));return($u(h,A,t.relTol,t.absTol)?A:h).toDecimalPlaces(0)},"BigNumber, BigNumber":function(h,A){if(!A.isInteger())throw new TypeError(Vb);var p=d(t.relTol);if(A>=p)return h.toDecimalPlaces(A.toNumber());var m=h.toDecimalPlaces(p);return($u(h,m,t.relTol,t.absTol)?m:h).toDecimalPlaces(A.toNumber())},Fraction:function(h){return h.round()},"Fraction, number":function(h,A){if(A%1)throw new TypeError(Vb);return h.round(A)},"Fraction, BigNumber":function(h,A){if(!A.isInteger())throw new TypeError(Vb);return h.round(A.toNumber())},"Unit, number, Unit":e.referToSelf(f=>function(h,A,p){var m=h.toNumeric(p);return p.multiply(f(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(f=>(h,A,p)=>f(h,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(f=>(h,A,p)=>Qr(h,m=>f(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(f=>(h,A)=>f(h,0,A)),"Array | Matrix":e.referToSelf(f=>h=>Qr(h,f,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(f=>(h,A)=>l(h,A,f,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(f=>(h,A)=>u(h,A,f,!1)),"Array, number | BigNumber":e.referToSelf(f=>(h,A)=>u(r(h),A,f,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(f=>(h,A)=>i(h,0)?s(A.size(),A.storage()):c(A,h,f,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(f=>(h,A)=>i(h,0)?s(A.size(),A.storage()):u(A,h,f,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(f=>(h,A)=>u(r(A),h,f,!0).valueOf())})}),hF="smaller",Jqe=ye(hF,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=fu({typed:e}),l=DA({typed:e,SparseMatrix:o}),c=ul({typed:e,DenseMatrix:i}),u=io({typed:e,matrix:r,concat:s}),d=Lb({typed:e});return e(hF,Zqe({typed:e,config:t}),{"boolean, boolean":(f,h)=>f<h,"BigNumber, BigNumber":function(h,A){return h.lt(A)&&!$u(h,A,t.relTol,t.absTol)},"bigint, bigint":(f,h)=>f<h,"Fraction, Fraction":(f,h)=>-1===f.compare(h),"Complex, Complex":function(h,A){throw new TypeError("No ordering relation is defined for complex numbers")}},d,u({SS:l,DS:a,Ss:c}))}),Zqe=ye(hF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(hF,{"number, number":function(i,s){return i<s&&!rc(i,s,t.relTol,t.absTol)}})}),tWe=ye("subtract",["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,subtractScalar:i,DenseMatrix:o,concat:a}=n,l=km({typed:e}),c=fu({typed:e}),u=GI({typed:e,equalScalar:r}),d=J0({typed:e,DenseMatrix:o}),f=ul({typed:e,DenseMatrix:o});return e("subtract",{"any, any":i},io({typed:e,matrix:t,concat:a})({elop:i,SS:u,DS:l,SD:c,Ss:f,sS:d}))}),rWe=ye("to",["typed","matrix","concat"],n=>{var{typed:e,matrix:t,concat:r}=n;return e("to",{"Unit, Unit | string":(s,o)=>s.to(o)},io({typed:e,matrix:t,concat:r})({Ds:!0}))}),sWe=ye("unaryPlus",["typed","config","numeric"],n=>{var{typed:e,config:t,numeric:r}=n;return e("unaryPlus",{number:Zne,Complex:function(s){return s},BigNumber:function(s){return s},bigint:function(s){return s},Fraction:function(s){return s},Unit:function(s){return s.clone()},"Array | Matrix":e.referToSelf(i=>s=>Qr(s,i,!0)),boolean:function(s){return r(s?1:0,t.number)},string:function(s){return r(s,Rm(s,t))}})}),aWe=ye("usolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=mx({DenseMatrix:a});return e("usolve",{"SparseMatrix, Array | Matrix":function(f,h){return function u(d,f){for(var h=(f=l(d,f,!0))._data,A=d._size[0],m=d._values,g=d._index,y=d._ptr,v=[],_=d._size[1]-1;_>=0;_--){var C=h[_][0]||0;if(o(C,0))v[_]=[0];else{for(var b=0,M=[],D=[],S=y[_],B=y[_+1]-1;B>=S;B--){var R=g[B];R===_?b=m[B]:R<_&&(M.push(m[B]),D.push(R))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=r(C,b),k=0,q=D.length;k<q;k++){var O=D[k];h[O]=[s(h[O][0],i(U,M[k]))]}v[_]=[U]}}return new a({data:v,size:[A,1]})}(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return c(f,h)},"Array, Array | Matrix":function(f,h){return c(t(f),h).valueOf()}});function c(d,f){for(var h=(f=l(d,f,!0))._data,A=d._size[0],m=[],g=d._data,y=d._size[1]-1;y>=0;y--){var v=h[y][0]||0,_=void 0;if(o(v,0))_=0;else{var C=g[y][y];if(o(C,0))throw new Error("Linear system cannot be solved since matrix is singular");_=r(v,C);for(var b=y-1;b>=0;b--)h[b]=[s(h[b][0]||0,i(_,g[b][y]))]}m[y]=[_]}return new a({data:m,size:[A,1]})}}),cWe=ye("xor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i,SparseMatrix:s}=n,o=fu({typed:e}),a=DA({typed:e,SparseMatrix:s}),l=ul({typed:e,DenseMatrix:r}),c=io({typed:e,matrix:t,concat:i});return e("xor",{"number, number":eH,"Complex, Complex":function(d,f){return(0!==d.re||0!==d.im)!=(0!==f.re||0!==f.im)},"bigint, bigint":eH,"BigNumber, BigNumber":function(d,f){return(!d.isZero()&&!d.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(u=>(d,f)=>u(d.value||0,f.value||0))},c({SS:a,DS:o,Ss:l}))}),dWe=ye("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:e,matrix:t,addScalar:r,equalScalar:i,DenseMatrix:s,concat:a}=n,l=km({typed:e}),c=rH({typed:e,equalScalar:i}),u=J0({typed:e,DenseMatrix:s}),d=io({typed:e,matrix:t,concat:a});return e("add",{"any, any":r,"any, any, ...any":e.referToSelf(f=>(h,A,p)=>{for(var m=f(h,A),g=0;g<p.length;g++)m=f(m,p[g]);return m})},d({elop:r,DS:l,SS:c,Ss:u}))}),Cse=ye("matAlgo09xS0Sf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,d=i._datatype||void 0===i._data?i._datatype:i.getDataType(),f=s._values,h=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new pi(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof d&&d===m&&"mixed"!==d&&(_=e.find(t,[v=d,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var R,U,k,O,M=a&&f?[]:void 0,D=[],S=[],T=M?[]:void 0,B=[];for(U=0;U<y;U++){S[U]=D.length;var P=U+1;if(T)for(O=A[U+1],k=A[U];k<O;k++)B[R=h[k]]=P,T[R]=f[k];for(O=c[U+1],k=c[U];k<O;k++)if(R=l[k],T){var H=b(a[k],B[R]===P?T[R]:C);_(H,C)||(D.push(R),M.push(H))}else D.push(R)}return S[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:S,size:[g,y],datatype:d===i._datatype&&m===s._datatype?v:void 0})}}),pWe=ye("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,DenseMatrix:s,concat:o}=n,a=Cf({typed:e,equalScalar:r}),l=fu({typed:e}),c=Cse({typed:e,equalScalar:r}),u=ic({typed:e,equalScalar:r}),d=ul({typed:e,DenseMatrix:s}),f=io({typed:e,matrix:t,concat:o});return e("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":(h,A)=>i.atan2(h,A)},f({scalar:"number | BigNumber",SS:c,DS:l,SD:a,Ss:u,sS:d}))}),mWe=ye("bitXor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i,SparseMatrix:s}=n,o=fu({typed:e}),a=DA({typed:e,SparseMatrix:s}),l=ul({typed:e,DenseMatrix:r});return e("bitXor",{"number, number":Xte,"BigNumber, BigNumber":XHe,"bigint, bigint":(u,d)=>u^d},io({typed:e,matrix:t,concat:i})({SS:a,DS:o,Ss:l}))}),yWe=ye("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],n=>{var{typed:e,addScalar:t,divideScalar:r,multiplyScalar:i,combinations:s,isNegative:o,isInteger:a}=n;return e("catalan",{"number | BigNumber":function(c){if(!a(c)||o(c))throw new TypeError("Non-negative integer value expected in function catalan");return r(s(i(c,2),c),t(c,1))}})}),fF="compare",bWe=ye(fF,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],n=>{var{typed:e,config:t,equalScalar:r,matrix:i,BigNumber:s,Fraction:o,DenseMatrix:a,concat:l}=n,c=fu({typed:e}),u=GI({typed:e,equalScalar:r}),d=ul({typed:e,DenseMatrix:a}),f=io({typed:e,matrix:i,concat:l}),h=Lb({typed:e});return e(fF,wWe({typed:e,config:t}),{"boolean, boolean":function(p,m){return p===m?0:p>m?1:-1},"BigNumber, BigNumber":function(p,m){return $u(p,m,t.relTol,t.absTol)?new s(0):new s(p.cmp(m))},"bigint, bigint":function(p,m){return p===m?0n:p>m?1n:-1n},"Fraction, Fraction":function(p,m){return new o(p.compare(m))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:u,DS:c,Ss:d}))}),wWe=ye(fF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(fF,{"number, number":function(i,s){return rc(i,s,t.relTol,t.absTol)?0:i>s?1:-1}})}),Dse="compareText",CWe=["typed","matrix","concat"];O8.signature="any, any";var EWe=ye(Dse,CWe,n=>{var{typed:e,matrix:t,concat:r}=n,i=io({typed:e,matrix:t,concat:r});return e(Dse,O8,i({elop:O8,Ds:!0}))}),xWe=ye("deepEqual",["typed","equal"],n=>{var{typed:e,equal:t}=n;return e("deepEqual",{"any, any":function(s,o){return r(s.valueOf(),o.valueOf())}});function r(i,s){if(Array.isArray(i)){if(Array.isArray(s)){var o=i.length;if(o!==s.length)return!1;for(var a=0;a<o;a++)if(!r(i[a],s[a]))return!1;return!0}return!1}return!Array.isArray(s)&&t(i,s)}}),MWe=ye("distance",["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],n=>{var{typed:e,addScalar:t,subtractScalar:r,multiplyScalar:i,divideScalar:s,deepEqual:o,sqrt:a,abs:l}=n;return e("distance",{"Array, Array, Array":function(C,b,M){if(2===C.length&&2===b.length&&2===M.length){if(!u(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!u(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!u(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(b,M))throw new TypeError("LinePoint1 should not be same with LinePoint2");var D=r(M[1],b[1]),S=r(b[0],M[0]),T=r(i(M[0],b[1]),i(b[0],M[1]));return m(C[0],C[1],D,S,T)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(C,b,M){if(2===Object.keys(C).length&&2===Object.keys(b).length&&2===Object.keys(M).length){if(!u(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!u(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!u(M))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(A(b),A(M)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in C&&"pointY"in C&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in M&&"lineTwoPtY"in M){var D=r(M.lineTwoPtY,b.lineOnePtY),S=r(b.lineOnePtX,M.lineTwoPtX),T=r(i(M.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,M.lineTwoPtY));return m(C.pointX,C.pointY,D,S,T)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(C,b){if(2===C.length&&3===b.length){if(!u(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(C[0],C[1],b[0],b[1],b[2])}if(3===C.length&&6===b.length){if(!d(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(C[0],C[1],C[2],b[0],b[1],b[2],b[3],b[4],b[5])}if(C.length===b.length&&C.length>0){if(!f(C))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!f(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return y(C,b)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(C,b){if(2===Object.keys(C).length&&3===Object.keys(b).length){if(!u(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return m(C.pointX,C.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(C).length&&6===Object.keys(b).length){if(!d(C))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!h(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return g(C.pointX,C.pointY,C.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}if(2===Object.keys(C).length&&2===Object.keys(b).length){if(!u(C))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!u(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointTwoX"in b&&"pointTwoY"in b)return y([C.pointOneX,C.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(C).length&&3===Object.keys(b).length){if(!d(C))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointOneZ"in C&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return y([C.pointOneX,C.pointOneY,C.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(C){if(!function p(_){if(2===_[0].length&&c(_[0][0])&&c(_[0][1])){if(_.some(C=>2!==C.length||!c(C[0])||!c(C[1])))return!1}else{if(!(3===_[0].length&&c(_[0][0])&&c(_[0][1])&&c(_[0][2])))return!1;if(_.some(C=>3!==C.length||!c(C[0])||!c(C[1])||!c(C[2])))return!1}return!0}(C))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function v(_){for(var C=[],b=[],M=[],D=0;D<_.length-1;D++)for(var S=D+1;S<_.length;S++)2===_[0].length?(b=[_[D][0],_[D][1]],M=[_[S][0],_[S][1]]):3===_[0].length&&(b=[_[D][0],_[D][1],_[D][2]],M=[_[S][0],_[S][1],_[S][2]]),C.push(y(b,M));return C}(C)}});function c(_){return"number"==typeof _||Kr(_)}function u(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])}function d(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])&&c(_[2])}function f(_){return Array.isArray(_)||(_=A(_)),_.every(c)}function h(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])&&c(_[2])&&c(_[3])&&c(_[4])&&c(_[5])}function A(_){for(var C=Object.keys(_),b=[],M=0;M<C.length;M++)b.push(_[C[M]]);return b}function m(_,C,b,M,D){var S=l(t(t(i(b,_),i(M,C)),D)),T=a(t(i(b,b),i(M,M)));return s(S,T)}function g(_,C,b,M,D,S,T,B,R){var U=[r(i(r(D,C),R),i(r(S,b),B)),r(i(r(S,b),T),i(r(M,_),R)),r(i(r(M,_),B),i(r(D,C),T))];U=a(t(t(i(U[0],U[0]),i(U[1],U[1])),i(U[2],U[2])));var k=a(t(t(i(T,T),i(B,B)),i(R,R)));return s(U,k)}function y(_,C){for(var b=_.length,M=0,D=0,S=0;S<b;S++)D=r(_[S],C[S]),M=t(i(D,D),M);return a(M)}}),BWe=ye("dot",["typed","addScalar","multiplyScalar","conj","size"],n=>{var{typed:e,addScalar:t,multiplyScalar:r,conj:i,size:s}=n;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function a(u,d){var f=o(u,d),h=mr(u)?u._data:u,A=mr(u)?u._datatype||u.getDataType():void 0,p=mr(d)?d._data:d,m=mr(d)?d._datatype||d.getDataType():void 0,g=2===c(u).length,y=2===c(d).length,v=t,_=r;if(A&&m&&A===m&&"string"==typeof A&&"mixed"!==A){var C=A;v=e.find(t,[C,C]),_=e.find(r,[C,C])}if(!g&&!y){for(var b=_(i(h[0]),p[0]),M=1;M<f;M++)b=v(b,_(i(h[M]),p[M]));return b}if(!g&&y){for(var D=_(i(h[0]),p[0][0]),S=1;S<f;S++)D=v(D,_(i(h[S]),p[S][0]));return D}if(g&&!y){for(var T=_(i(h[0][0]),p[0]),B=1;B<f;B++)T=v(T,_(i(h[B][0]),p[B]));return T}if(g&&y){for(var R=_(i(h[0][0]),p[0][0]),U=1;U<f;U++)R=v(R,_(i(h[U][0]),p[U][0]));return R}},"SparseMatrix, SparseMatrix":function l(u,d){o(u,d);for(var f=u._index,h=u._values,A=d._index,p=d._values,m=0,g=t,y=r,v=0,_=0;v<f.length&&_<A.length;){var C=f[v],b=A[_];C<b?v++:C>b?_++:C===b&&(m=g(m,y(h[v],p[_])),v++,_++)}return m}});function o(u,d){var A,p,f=c(u),h=c(d);if(1===f.length)A=f[0];else{if(2!==f.length||1!==f[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");A=f[0]}if(1===h.length)p=h[0];else{if(2!==h.length||1!==h[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");p=h[0]}if(A!==p)throw new RangeError("Vectors must have equal length ("+A+" != "+p+")");if(0===A)throw new RangeError("Cannot calculate the dot product of empty vectors");return A}function c(u){return mr(u)?u.size():s(u)}}),IWe=ye("equalText",["typed","compareText","isZero"],n=>{var{typed:e,compareText:t,isZero:r}=n;return e("equalText",{"any, any":function(s,o){return r(t(s,o))}})}),_H="floor",FWe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],RWe=ye(_H,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(_H,{number:function(s){return rc(s,r(s),t.relTol,t.absTol)?r(s):Math.floor(s)},"number, number":function(s,o){if(rc(s,r(s,o),t.relTol,t.absTol))return r(s,o);var[a,l]="".concat(s,"e").split("e"),c=Math.floor(Number("".concat(a,"e").concat(Number(l)+o)));return[a,l]="".concat(c,"e").split("e"),Number("".concat(a,"e").concat(Number(l)-o))}})}),Ise=ye(_H,FWe,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}=n,l=ic({typed:e,equalScalar:s}),c=ul({typed:e,DenseMatrix:a}),u=wf({typed:e}),d=RWe({typed:e,config:t,round:r});return e("floor",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(h){return h.floor()},"Complex, number":function(h,A){return h.floor(A)},"Complex, BigNumber":function(h,A){return h.floor(A.toNumber())},BigNumber:function(h){return $u(h,r(h),t.relTol,t.absTol)?r(h):h.floor()},"BigNumber, BigNumber":function(h,A){return $u(h,r(h,A),t.relTol,t.absTol)?r(h,A):h.toDecimalPlaces(A.toNumber(),tF.ROUND_FLOOR)},Fraction:function(h){return h.floor()},"Fraction, number":function(h,A){return h.floor(A)},"Fraction, BigNumber":function(h,A){return h.floor(A.toNumber())},"Unit, number, Unit":e.referToSelf(f=>function(h,A,p){var m=h.toNumeric(p);return p.multiply(f(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(f=>(h,A,p)=>f(h,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(f=>(h,A,p)=>Qr(h,m=>f(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(f=>(h,A)=>f(h,0,A)),"Array | Matrix":e.referToSelf(f=>h=>Qr(h,f,!0)),"Array, number | BigNumber":e.referToSelf(f=>(h,A)=>Qr(h,p=>f(p,A),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(f=>(h,A)=>l(h,A,f,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(f=>(h,A)=>u(h,A,f,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(f=>(h,A)=>u(i(A),h,f,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(f=>(h,A)=>s(h,0)?o(A.size(),A.storage()):"dense"===A.storage()?u(A,h,f,!0):c(A,h,f,!0))})}),Rse=ye("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a,concat:l}=n,c=Ise({typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}),u=Cf({typed:e,equalScalar:s}),d=fu({typed:e}),f=GI({typed:e,equalScalar:s}),h=ic({typed:e,equalScalar:s}),A=ul({typed:e,DenseMatrix:a});return e("mod",{"number, number":function m(g,y){return 0===y?g:g-y*c(g/y)},"BigNumber, BigNumber":function(y,v){return v.isZero()?y:y.sub(v.mul(c(y.div(v))))},"bigint, bigint":function(y,v){if(0n===v)return y;if(y<0){var _=y%v;return 0n===_?_:_+v}return y%v},"Fraction, Fraction":function(y,v){return v.equals(0)?y:y.sub(v.mul(c(y.div(v))))}},io({typed:e,matrix:i,concat:l})({SS:f,DS:d,SD:u,Ss:h,sS:A}))}),PWe=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],bH="number | BigNumber | Fraction | Matrix | Array",LWe="".concat(bH,", ").concat(bH,", ...").concat(bH);function Pse(n){return!n.some(e=>Array.isArray(e))}var UWe=ye("gcd",PWe,n=>{var{typed:e,matrix:t,config:r,round:i,equalScalar:s,zeros:o,BigNumber:a,DenseMatrix:l,concat:c}=n,u=Rse({typed:e,config:r,round:i,matrix:t,equalScalar:s,zeros:o,DenseMatrix:l,concat:c}),d=km({typed:e}),f=rH({typed:e,equalScalar:s}),h=J0({typed:e,DenseMatrix:l});return e("gcd",{"number, number":function p(g,y){if(!Zn(g)||!Zn(y))throw new Error("Parameters in function gcd must be integer numbers");for(var v;0!==y;)v=u(g,y),g=y,y=v;return g<0?-g:g},"BigNumber, BigNumber":function m(g,y){if(!g.isInt()||!y.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var v=new a(0);!y.isZero();){var _=u(g,y);g=y,y=_}return g.lt(v)?g.neg():g},"Fraction, Fraction":(g,y)=>g.gcd(y)},io({typed:e,matrix:t,concat:c})({SS:f,DS:d,Ss:h}),{[LWe]:e.referToSelf(g=>(y,v,_)=>{for(var C=g(y,v),b=0;b<_.length;b++)C=g(C,_[b]);return C}),Array:e.referToSelf(g=>y=>{if(1===y.length&&Array.isArray(y[0])&&Pse(y[0]))return g(...y[0]);if(Pse(y))return g(...y);throw new ty("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(g=>y=>g(y.toArray()))})}),HWe=ye("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],n=>{var{typed:e,abs:t,addScalar:r,divideScalar:i,multiplyScalar:s,sqrt:o,smaller:a,isPositive:l}=n;return e("hypot",{"... number | BigNumber":c,Array:c,Matrix:u=>c(ts(u.toArray()))});function c(u){for(var d=0,f=0,h=0;h<u.length;h++){if(Gp(u[h]))throw new TypeError("Unexpected type of argument to hypot");var A=t(u[h]);a(f,A)?(d=s(d,s(i(f,A),i(f,A))),d=r(d,1),f=A):d=r(d,l(A)?s(i(A,f),i(A,f)):A)}return s(f,o(d))}}),zWe=ye("ImmutableDenseMatrix",["smaller","DenseMatrix"],n=>{var{smaller:e,DenseMatrix:t}=n;function r(i,s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!Ic(s))throw new Error("Invalid datatype: "+s);if(mr(i)||Vs(i)){var o=new t(i,s);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Vs(i.data)&&Vs(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+no(i)+")");this._data=[],this._size=[0],this._datatype=s,this._min=null,this._max=null}}return(r.prototype=new t).type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(i){switch(arguments.length){case 1:var s=t.prototype.subset.call(this,i);return mr(s)?new r({data:s._data,size:s._size,datatype:s._datatype}):s;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:Ur(this._data),size:Ur(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(i){return new r(i)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(null===this._min){var i=null;this.forEach(function(s){(null===i||e(s,i))&&(i=s)}),this._min=null!==i?i:void 0}return this._min},r.prototype.max=function(){if(null===this._max){var i=null;this.forEach(function(s){(null===i||e(i,s))&&(i=s)}),this._max=null!==i?i:void 0}return this._max},r},{isClass:!0}),qWe=ye("Index",["ImmutableDenseMatrix","getMatrixDataType"],n=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=n;function r(s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,a=arguments.length;o<a;o++){var l=arguments[o],c=Vs(l),u=mr(l),d=null;if(B8(l))this._dimensions.push(l),this._isScalar=!1;else if(c||u){var f=void 0;"boolean"===t(l)?(c&&(f=i(Use(l).valueOf())),u&&(f=i(Use(l._data).valueOf())),d=l.valueOf().length):f=i(l.valueOf()),this._dimensions.push(f);var h=f.size();(1!==h.length||1!==h[0]||null!==d)&&(this._isScalar=!1)}else if("number"==typeof l)this._dimensions.push(i([l]));else{if("string"!=typeof l)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(l)}this._sourceSize.push(d)}}function i(s){for(var o=0,a=s.length;o<a;o++)if("number"!=typeof s[o]||!Zn(s[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(s)}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var s=new r;return s._dimensions=Ur(this._dimensions),s._isScalar=this._isScalar,s._sourceSize=this._sourceSize,s},r.create=function(s){var o=new r;return r.apply(o,s),o},r.prototype.size=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?1:l.size()[0]}return s},r.prototype.max=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?l:l.max()}return s},r.prototype.min=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?l:l.min()}return s},r.prototype.forEach=function(s){for(var o=0,a=this._dimensions.length;o<a;o++)s(this._dimensions[o],o,this)},r.prototype.dimension=function(s){return"number"!=typeof s?null:this._dimensions[s]||null},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.valueOf=r.prototype.toArray=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s.push("string"==typeof l?l:l.toArray())}return s},r.prototype.toString=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s.push("string"==typeof l?JSON.stringify(l):l.toString())}return"["+s.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(s){return r.create(s.dimensions)},r},{isClass:!0});function Use(n){var e=[];return n.forEach((t,r)=>{t&&e.push(r)}),e}var AF="larger",$We=ye(AF,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=fu({typed:e}),l=DA({typed:e,SparseMatrix:o}),c=ul({typed:e,DenseMatrix:i}),u=io({typed:e,matrix:r,concat:s}),d=Lb({typed:e});return e(AF,KWe({typed:e,config:t}),{"boolean, boolean":(f,h)=>f>h,"BigNumber, BigNumber":function(h,A){return h.gt(A)&&!$u(h,A,t.relTol,t.absTol)},"bigint, bigint":(f,h)=>f>h,"Fraction, Fraction":(f,h)=>1===f.compare(h),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,u({SS:l,DS:a,Ss:c}))}),KWe=ye(AF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(AF,{"number, number":function(i,s){return i>s&&!rc(i,s,t.relTol,t.absTol)}})}),YWe=ye("log",["config","typed","typeOf","divideScalar","Complex"],n=>{var{typed:e,typeOf:t,config:r,divideScalar:i,Complex:s}=n;return e("log",{number:function(a){return a>=0||r.predictable?function o7e(n,e){return e?Math.log(n)/Math.log(e):Math.log(n)}(a):new s(a,0).log()},Complex:function(a){return a.log()},BigNumber:function(a){return!a.isNegative()||r.predictable?a.ln():new s(a.toNumber(),0).log()},"any, any":e.referToSelf(o=>(a,l)=>{if("Fraction"===t(a)&&"Fraction"===t(l)){var c=a.log(l);if(null!==c)return c}return i(o(a),o(l))})})}),ZWe=ye("lsolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=mx({DenseMatrix:a});return e("lsolveAll",{"SparseMatrix, Array | Matrix":function(f,h){return function u(d,f){for(var h=[l(d,f,!0)._data.map(ve=>ve[0])],A=d._size[0],p=d._size[1],m=d._values,g=d._index,y=d._ptr,v=0;v<p;v++)for(var _=h.length,C=0;C<_;C++){for(var b=h[C],M=[],D=[],T=y[v+1],B=0,R=y[v];R<T;R++){var U=g[R];U===v?B=m[R]:U>v&&(M.push(m[R]),D.push(U))}if(o(B,0))if(o(b[v],0)){if(0===C){var P=[...b];P[v]=1;for(var G=0,H=D.length;G<H;G++){var ae=D[G];P[ae]=s(P[ae],M[G])}h.push(P)}}else{if(0===C)return[];h.splice(C,1),C-=1,_-=1}else{b[v]=r(b[v],B);for(var k=0,q=D.length;k<q;k++){var O=D[k];b[O]=s(b[O],i(b[v],M[k]))}}}return h.map(ve=>new a({data:ve.map(Q=>[Q]),size:[A,1]}))}(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return c(f,h)},"Array, Array | Matrix":function(f,h){return c(t(f),h).map(m=>m.valueOf())}});function c(d,f){for(var h=[l(d,f,!0)._data.map(D=>D[0])],A=d._data,p=d._size[0],m=d._size[1],g=0;g<m;g++)for(var y=h.length,v=0;v<y;v++){var _=h[v];if(o(A[g][g],0))if(o(_[g],0)){if(0===v){var b=[..._];b[g]=1;for(var M=g+1;M<m;M++)b[M]=s(b[M],A[M][g]);h.push(b)}}else{if(0===v)return[];h.splice(v,1),v-=1,y-=1}else{_[g]=r(_[g],A[g][g]);for(var C=g+1;C<m;C++)_[C]=s(_[C],i(_[g],A[C][g]))}}return h.map(D=>new a({data:D.map(S=>[S]),size:[p,1]}))}}),Vse="matrixFromRows",t$e=ye(Vse,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(Vse,{"...Array":function(l){return s(l)},"...Matrix":function(l){return t(s(l.map(c=>c.toArray())))}});function s(a){if(0===a.length)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(a[0]),c=[];for(var u of a){var d=o(u);if(d!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|d));c.push(r(u))}return c}function o(a){var l=i(a);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),r$e=ye("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],n=>{var{typed:e,matrix:t,addScalar:r,multiplyScalar:i,equalScalar:s,dot:o}=n,a=ic({typed:e,equalScalar:s}),l=wf({typed:e});function c(C,b){switch(C.length){case 1:switch(b.length){case 1:if(C[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(C[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+b[0]+")");break;case 2:if(C[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":function p(C,b){var k,M=C._data,D=C._size,S=C._datatype||C.getDataType(),T=b._data,B=b._datatype||b.getDataType(),R=D[0],U=D[1],q=r,O=i;S&&B&&S===B&&"string"==typeof S&&"mixed"!==S&&(q=e.find(r,[k=S,k]),O=e.find(i,[k,k]));for(var P=[],G=0;G<R;G++){for(var H=M[G],ae=O(H[0],T[0]),ve=1;ve<U;ve++)ae=q(ae,O(H[ve],T[ve]));P[G]=ae}return C.createDenseMatrix({data:P,size:[R],datatype:S===C._datatype&&B===b._datatype?k:void 0})},"SparseMatrix, any":function y(C,b){var M=C._values,D=C._index,S=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var G,B=b._data,R=b._datatype||b.getDataType(),U=C._size[0],k=b._size[0],q=[],O=[],P=[],H=r,ae=i,ve=s,Q=0;T&&R&&T===R&&"string"==typeof T&&"mixed"!==T&&(H=e.find(r,[G=T,G]),ae=e.find(i,[G,G]),ve=e.find(s,[G,G]),Q=e.convert(0,G));var j=[],K=[];P[0]=0;for(var oe=0;oe<k;oe++){var se=B[oe];if(!ve(se,Q))for(var te=S[oe+1],ee=S[oe];ee<te;ee++){var Ae=D[ee];K[Ae]?j[Ae]=H(j[Ae],ae(se,M[ee])):(K[Ae]=!0,O.push(Ae),j[Ae]=ae(se,M[ee]))}}for(var Ee=O.length,ge=0;ge<Ee;ge++)q[ge]=j[O[ge]];return P[1]=O.length,C.createSparseMatrix({values:q,index:O,ptr:P,size:[U,1],datatype:T===C._datatype&&R===b._datatype?G:void 0})}}),A=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function m(C,b){var O,M=C._data,D=C._size,S=C._datatype||C.getDataType(),T=b._data,B=b._size,R=b._datatype||b.getDataType(),U=D[0],k=D[1],q=B[1],P=r,G=i;S&&R&&S===R&&"string"==typeof S&&"mixed"!==S&&"mixed"!==S&&(P=e.find(r,[O=S,O]),G=e.find(i,[O,O]));for(var H=[],ae=0;ae<U;ae++){var ve=M[ae];H[ae]=[];for(var Q=0;Q<q;Q++){for(var j=G(ve[0],T[0][Q]),K=1;K<k;K++)j=P(j,G(ve[K],T[K][Q]));H[ae][Q]=j}}return C.createDenseMatrix({data:H,size:[U,q],datatype:S===C._datatype&&R===b._datatype?O:void 0})},"DenseMatrix, SparseMatrix":function g(C,b){var M=C._data,D=C._size,S=C._datatype||C.getDataType(),T=b._values,B=b._index,R=b._ptr,U=b._size,k=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P,q=D[0],O=U[1],G=r,H=i,ae=s,ve=0;S&&k&&S===k&&"string"==typeof S&&"mixed"!==S&&(G=e.find(r,[P=S,P]),H=e.find(i,[P,P]),ae=e.find(s,[P,P]),ve=e.convert(0,P));for(var Q=[],j=[],K=[],oe=b.createSparseMatrix({values:Q,index:j,ptr:K,size:[q,O],datatype:S===C._datatype&&k===b._datatype?P:void 0}),se=0;se<O;se++){K[se]=j.length;var le=R[se],te=R[se+1];if(te>le)for(var ee=0,Ae=0;Ae<q;Ae++){for(var Ee=Ae+1,ge=void 0,Se=le;Se<te;Se++){var ne=B[Se];ee!==Ee?(ge=H(M[Ae][ne],T[Se]),ee=Ee):ge=G(ge,H(M[Ae][ne],T[Se]))}ee===Ee&&!ae(ge,ve)&&(j.push(Ae),Q.push(ge))}}return K[O]=j.length,oe},"SparseMatrix, DenseMatrix":function v(C,b){var M=C._values,D=C._index,S=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O,B=b._data,R=b._datatype||b.getDataType(),U=C._size[0],k=b._size[0],q=b._size[1],P=r,G=i,H=s,ae=0;T&&R&&T===R&&"string"==typeof T&&"mixed"!==T&&(P=e.find(r,[O=T,O]),G=e.find(i,[O,O]),H=e.find(s,[O,O]),ae=e.convert(0,O));for(var ve=[],Q=[],j=[],K=C.createSparseMatrix({values:ve,index:Q,ptr:j,size:[U,q],datatype:T===C._datatype&&R===b._datatype?O:void 0}),oe=[],se=[],le=0;le<q;le++){j[le]=Q.length;for(var te=le+1,ee=0;ee<k;ee++){var Ae=B[ee][le];if(!H(Ae,ae))for(var ge=S[ee+1],Se=S[ee];Se<ge;Se++){var ne=D[Se];se[ne]!==te?(se[ne]=te,Q.push(ne),oe[ne]=G(Ae,M[Se])):oe[ne]=P(oe[ne],G(Ae,M[Se]))}}for(var W=Q.length,Be=j[le];Be<W;Be++)ve[Be]=oe[Q[Be]]}return j[q]=Q.length,K},"SparseMatrix, SparseMatrix":function _(C,b){var G,M=C._values,D=C._index,S=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType(),B=b._values,R=b._index,U=b._ptr,k=b._datatype||void 0===b._data?b._datatype:b.getDataType(),q=C._size[0],O=b._size[1],P=M&&B,H=r,ae=i;T&&k&&T===k&&"string"==typeof T&&"mixed"!==T&&(H=e.find(r,[G=T,G]),ae=e.find(i,[G,G]));for(var le,ee,Ae,ge,Se,ne,ve=P?[]:void 0,Q=[],j=[],K=C.createSparseMatrix({values:ve,index:Q,ptr:j,size:[q,O],datatype:T===C._datatype&&k===b._datatype?G:void 0}),oe=P?[]:void 0,se=[],Y=0;Y<O;Y++){j[Y]=Q.length;var W=Y+1;for(ge=U[Y+1],Ae=U[Y];Ae<ge;Ae++)if(ne=R[Ae],P)for(ee=S[ne+1],le=S[ne];le<ee;le++)se[Se=D[le]]!==W?(se[Se]=W,Q.push(Se),oe[Se]=ae(B[Ae],M[le])):oe[Se]=H(oe[Se],ae(B[Ae],M[le]));else for(ee=S[ne+1],le=S[ne];le<ee;le++)se[Se=D[le]]!==W&&(se[Se]=W,Q.push(Se));if(P)for(var Ce=Q.length,Pe=j[Y];Pe<Ce;Pe++)ve[Pe]=oe[Q[Pe]]}return j[O]=Q.length,K}});return e("multiply",i,{"Array, Array":e.referTo("Matrix, Matrix",C=>(b,M)=>{c(Tr(b),Tr(M));var D=C(t(b),t(M));return mr(D)?D.valueOf():D}),"Matrix, Matrix":function(b,M){var D=b.size(),S=M.size();return c(D,S),1===D.length?1===S.length?function u(C,b,M){if(0===M)throw new Error("Cannot multiply two empty vectors");return o(C,b)}(b,M,D[0]):function d(C,b){if("dense"!==b.storage())throw new Error("Support for SparseMatrix not implemented");return function f(C,b){var q,M=C._data,D=C._size,S=C._datatype||C.getDataType(),T=b._data,B=b._size,R=b._datatype||b.getDataType(),U=D[0],k=B[1],O=r,P=i;S&&R&&S===R&&"string"==typeof S&&"mixed"!==S&&(O=e.find(r,[q=S,q]),P=e.find(i,[q,q]));for(var G=[],H=0;H<k;H++){for(var ae=P(M[0],T[0][H]),ve=1;ve<U;ve++)ae=O(ae,P(M[ve],T[ve][H]));G[H]=ae}return C.createDenseMatrix({data:G,size:[k],datatype:S===C._datatype&&R===b._datatype?q:void 0})}(C,b)}(b,M):1===S.length?h(b,M):A(b,M)},"Matrix, Array":e.referTo("Matrix,Matrix",C=>(b,M)=>C(b,t(M))),"Array, Matrix":e.referToSelf(C=>(b,M)=>C(t(b,M.storage()),M)),"SparseMatrix, any":function(b,M){return a(b,M,i,!1)},"DenseMatrix, any":function(b,M){return l(b,M,i,!1)},"any, SparseMatrix":function(b,M){return a(M,b,i,!0)},"any, DenseMatrix":function(b,M){return l(M,b,i,!0)},"Array, any":function(b,M){return l(t(b),M,i,!1).valueOf()},"any, Array":function(b,M){return l(t(M),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(C=>(b,M,D)=>{for(var S=C(b,M),T=0;T<D.length;T++)S=C(S,D[T]);return S})})}),s$e=ye("nthRoots",["config","typed","divideScalar","Complex"],n=>{var{typed:e,Complex:i}=n,s=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function o(a,l){if(l<0)throw new Error("Root must be greater than zero");if(0===l)throw new Error("Root must be non-zero");if(l%1!=0)throw new Error("Root must be an integer");if(0===a||0===a.abs())return[new i(0,0)];var u,c="number"==typeof a;(c||0===a.re||0===a.im)&&(u=c?2*+(a<0):0===a.im?2*+(a.re<0):2*+(a.im<0)+1);for(var d=a.arg(),f=a.abs(),h=[],A=Math.pow(f,1/l),p=0;p<l;p++){var m=(u+4*p)/l;m!==Math.round(m)?h.push(new i({r:A,phi:(d+2*Math.PI*p)/l})):h.push(s[m%4](A))}return h}return e("nthRoots",{Complex:function(l){return o(l,2)},"Complex, number":o})}),Gse="partitionSelect",a$e=ye(Gse,["typed","isNumeric","isNaN","compare"],n=>{var{typed:e,isNumeric:t,isNaN:r,compare:i}=n,s=i,o=(c,u)=>-i(c,u);return e(Gse,{"Array | Matrix, number":function(u,d){return a(u,d,s)},"Array | Matrix, number, string":function(u,d,f){if("asc"===f)return a(u,d,s);if("desc"===f)return a(u,d,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":a});function a(c,u,d){if(!Zn(u)||u<0)throw new Error("k must be a non-negative integer");if(mr(c)){if(c.size().length>1)throw new Error("Only one dimensional matrices supported");return l(c.valueOf(),u,d)}if(Array.isArray(c))return l(c,u,d)}function l(c,u,d){if(u>=c.length)throw new Error("k out of bounds");for(var f=0;f<c.length;f++)if(t(c[f])&&r(c[f]))return c[f];for(var h=0,A=c.length-1;h<A;){for(var p=h,m=A,g=c[Math.floor(Math.random()*(A-h+1))+h];p<m;)if(d(c[p],g)>=0){var y=c[m];c[m]=c[p],c[p]=y,--m}else++p;d(c[p],g)>0&&--p,u<=p?A=p:h=p+1}return c[u]}}),jse="rightLogShift",c$e=ye(jse,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=km({typed:e}),l=Cf({typed:e,equalScalar:r}),c=vH({typed:e,equalScalar:r}),u=J0({typed:e,DenseMatrix:s}),d=ic({typed:e,equalScalar:r}),f=wf({typed:e}),h=io({typed:e,matrix:t,concat:o}),A=yH({typed:e,matrix:t});return e(jse,{"number, number":Zte,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():f(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):f(g,m,p,!0))},A,h({SS:c,DS:a,SD:l}))});function qse(n,e,t,r,i,s,o){var a=0;for(t[o]=n;a>=0;){var l=t[o+a],c=t[r+l];-1===c?(a--,s[e++]=l):(t[r+l]=t[i+c],t[o+ ++a]=c)}return e}function jm(n){return-n-2}var g$e=ye("csAmd",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:r}=n;return function(u,d){if(!d||u<=0||u>3)return null;var f=d._size,h=f[0],A=f[1],p=0,m=Math.max(16,10*Math.sqrt(A)),g=function i(c,u,d,f,h){var A=r(u);if(1===c&&f===d)return e(u,A);if(2===c){for(var p=A._index,m=A._ptr,g=0,y=0;y<d;y++){var v=m[y];if(m[y]=g,!(m[y+1]-v>h))for(var _=m[y+1];v<_;v++)p[g++]=p[v]}return m[d]=g,u=r(A),t(A,u)}return t(A,u)}(u,d,h,A,m=Math.min(A-2,m));!function f$e(n,e,t){for(var r=n._values,i=n._index,s=n._ptr,a=n._size[1],l=0,c=0;c<a;c++){var u=s[c];for(s[c]=l;u<s[c+1];u++)e(i[u],c,r?r[u]:1,t)&&(i[l]=i[u],r&&(r[l]=r[u]),l++)}s[a]=l,i.splice(l,i.length-l),r&&r.splice(l,r.length-l)}(g,l,null);for(var H,ae,ve,Q,j,K,oe,se,le,te,ee,Ae,Ee,ge,Se,ne,y=g._index,v=g._ptr,_=v[A],C=[],b=[],D=A+1,S=2*(A+1),T=3*(A+1),B=4*(A+1),R=5*(A+1),U=6*(A+1),k=7*(A+1),q=C,O=function s(c,u,d,f,h,A,p,m,g,y,v,_){for(var C=0;C<c;C++)d[f+C]=u[C+1]-u[C];d[f+c]=0;for(var b=0;b<=c;b++)d[h+b]=-1,A[b]=-1,d[p+b]=-1,d[m+b]=-1,d[g+b]=1,d[y+b]=1,d[v+b]=0,d[_+b]=d[f+b];var M=a(0,0,d,y,c);return d[v+c]=-2,u[c]=-1,d[y+c]=0,M}(A,v,b,0,T,q,S,k,D,U,B,R),P=function o(c,u,d,f,h,A,p,m,g,y,v){for(var _=0,C=0;C<c;C++){var b=d[f+C];if(0===b)d[h+C]=-2,_++,u[C]=-1,d[A+C]=0;else if(b>p)d[m+C]=0,d[h+C]=-1,_++,u[C]=jm(c),d[m+c]++;else{var M=d[g+b];-1!==M&&(y[M]=C),d[v+C]=d[g+b],d[g+b]=C}}return _}(A,v,b,R,B,U,m,D,T,q,S),G=0;P<A;){for(ve=-1;G<A&&-1===(ve=b[T+G]);G++);-1!==b[S+ve]&&(q[b[S+ve]]=-1),b[T+G]=b[S+ve];var Y=b[B+ve],W=b[D+ve];P+=W;var Be=0;b[D+ve]=-W;var Ce=v[ve],Pe=0===Y?Ce:_,Oe=Pe;for(Q=1;Q<=Y+1;Q++){for(Q>Y?(K=ve,oe=Ce,se=b[0+ve]-Y):(oe=v[K=y[Ce++]],se=b[0+K]),j=1;j<=se;j++)!((le=b[D+(H=y[oe++])])<=0)&&(Be+=le,b[D+H]=-le,y[Oe++]=H,-1!==b[S+H]&&(q[b[S+H]]=q[H]),-1!==q[H]?b[S+q[H]]=b[S+H]:b[T+b[R+H]]=b[S+H]);K!==ve&&(v[K]=jm(ve),b[U+K]=0)}for(0!==Y&&(_=Oe),b[R+ve]=Be,v[ve]=Pe,b[0+ve]=Oe-Pe,b[B+ve]=-2,O=a(O,p,b,U,A),te=Pe;te<Oe;te++)if(!((ee=b[B+(H=y[te])])<=0)){var re=O-(le=-b[D+H]);for(Ce=v[H],Ae=v[H]+ee-1;Ce<=Ae;Ce++)b[U+(K=y[Ce])]>=O?b[U+K]-=le:0!==b[U+K]&&(b[U+K]=b[R+K]+re)}for(te=Pe;te<Oe;te++){for(Ee=(Ae=v[H=y[te]])+b[B+H]-1,ge=Ae,Se=0,ne=0,Ce=Ae;Ce<=Ee;Ce++)if(0!==b[U+(K=y[Ce])]){var J=b[U+K]-O;J>0?(ne+=J,y[ge++]=K,Se+=K):(v[K]=jm(ve),b[U+K]=0)}b[B+H]=ge-Ae+1;var Ue=ge,Qe=Ae+b[0+H];for(Ce=Ee+1;Ce<Qe;Ce++){var it=b[D+(ae=y[Ce])];it<=0||(ne+=it,y[ge++]=ae,Se+=ae)}0===ne?(v[H]=jm(ve),Be-=le=-b[D+H],W+=le,P+=le,b[D+H]=0,b[B+H]=-1):(b[R+H]=Math.min(b[R+H],ne),y[ge]=y[Ue],y[Ue]=y[Ae],y[Ae]=ve,b[0+H]=ge-Ae+1,b[S+H]=b[k+(Se=(Se<0?-Se:Se)%A)],b[k+Se]=H,q[H]=Se)}for(b[R+ve]=Be,O=a(O+(p=Math.max(p,Be)),p,b,U,A),te=Pe;te<Oe;te++)if(!(b[D+(H=y[te])]>=0))for(H=b[k+(Se=q[H])],b[k+Se]=-1;-1!==H&&-1!==b[S+H];H=b[S+H],O++){for(se=b[0+H],ee=b[B+H],Ce=v[H]+1;Ce<=v[H]+se-1;Ce++)b[U+y[Ce]]=O;var Ye=H;for(ae=b[S+H];-1!==ae;){var Vt=b[0+ae]===se&&b[B+ae]===ee;for(Ce=v[ae]+1;Vt&&Ce<=v[ae]+se-1;Ce++)b[U+y[Ce]]!==O&&(Vt=0);Vt?(v[ae]=jm(H),b[D+H]+=b[D+ae],b[D+ae]=0,b[B+ae]=-1,b[S+Ye]=ae=b[S+ae]):(Ye=ae,ae=b[S+ae])}}for(Ce=Pe,te=Pe;te<Oe;te++)!((le=-b[D+(H=y[te])])<=0)&&(b[D+H]=le,ne=b[R+H]+Be-le,-1!==b[T+(ne=Math.min(ne,A-P-le))]&&(q[b[T+ne]]=H),b[S+H]=b[T+ne],q[H]=-1,b[T+ne]=H,G=Math.min(G,ne),b[R+H]=ne,y[Ce++]=H);b[D+ve]=W,0==(b[0+ve]=Ce-Pe)&&(v[ve]=-1,b[U+ve]=0),0!==Y&&(_=Ce)}for(H=0;H<A;H++)v[H]=jm(v[H]);for(ae=0;ae<=A;ae++)b[T+ae]=-1;for(ae=A;ae>=0;ae--)b[D+ae]>0||(b[S+ae]=b[T+v[ae]],b[T+v[ae]]=ae);for(K=A;K>=0;K--)b[D+K]<=0||-1!==v[K]&&(b[S+K]=b[T+v[K]],b[T+v[K]]=K);for(ve=0,H=0;H<=A;H++)-1===v[H]&&(ve=qse(H,ve,b,T,S,C,U));return C.splice(C.length-1,1),C};function a(c,u,d,f,h){if(c<2||c+u<0){for(var A=0;A<h;A++)0!==d[f+A]&&(d[f+A]=1);c=2}return c}function l(c,u){return c!==u}});function m$e(n,e,t,r,i,s,o){var a,l,u,c=0;if(n<=e||t[r+e]<=t[i+n])return-1;t[i+n]=t[r+e];var d=t[s+n];if(t[s+n]=e,-1===d)c=1,u=n;else{for(c=2,u=d;u!==t[o+u];u=t[o+u]);for(a=d;a!==u;a=l)l=t[o+a],t[o+a]=u}return{jleaf:c,q:u}}var _$e=ye("csCounts",["transpose"],n=>{var{transpose:e}=n;return function(t,r,i,s){if(!t||!r||!i)return null;var c,u,d,f,h,p,o=t._size,a=o[0],l=o[1],m=4*l+(s?l+a+1:0),g=[],v=l,_=2*l,C=3*l,b=4*l,M=5*l+1;for(d=0;d<m;d++)g[d]=-1;var D=[],S=e(t),T=S._index,B=S._ptr;for(d=0;d<l;d++)for(D[u=i[d]]=-1===g[C+u]?1:0;-1!==u&&-1===g[C+u];u=r[u])g[C+u]=d;if(s){for(d=0;d<l;d++)g[i[d]]=d;for(c=0;c<a;c++){for(d=l,p=B[c+1],h=B[c];h<p;h++)d=Math.min(d,g[T[h]]);g[M+c]=g[b+d],g[b+d]=c}}for(c=0;c<l;c++)g[0+c]=c;for(d=0;d<l;d++){for(-1!==r[u=i[d]]&&D[r[u]]--,f=s?g[b+d]:u;-1!==f;f=s?g[M+f]:-1)for(h=B[f];h<B[f+1];h++){var R=m$e(c=T[h],u,g,C,v,_,0);R.jleaf>=1&&D[u]++,2===R.jleaf&&D[R.q]--}-1!==r[u]&&(g[0+u]=r[u])}for(u=0;u<l;u++)-1!==r[u]&&(D[r[u]]+=D[u]);return D}}),C$e=ye("csSqr",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:r}=n,i=g$e({add:e,multiply:t,transpose:r}),s=_$e({transpose:r});return function(l,c,u){var A,d=c._ptr,h=c._size[1],p={};if(p.q=i(l,c),l&&!p.q)return null;if(u){var m=l?function u$e(n,e,t,r){for(var i=n._values,s=n._index,o=n._ptr,a=n._size,l=n._datatype,c=a[0],u=a[1],d=r&&n._values?[]:null,f=[],h=[],A=0,p=0;p<u;p++){h[p]=A;for(var m=t?t[p]:p,y=o[m+1],v=o[m];v<y;v++)f[A]=e?e[s[v]]:s[v],d&&(d[A]=i[v]),A++}return h[u]=A,n.createSparseMatrix({values:d,index:f,ptr:h,size:[c,u],datatype:l})}(c,null,p.q,0):c;p.parent=function h$e(n,e){if(!n)return null;var d,f,t=n._index,r=n._ptr,i=n._size,s=i[0],o=i[1],a=[],l=[],u=o;if(e)for(d=0;d<s;d++)l[u+d]=-1;for(var h=0;h<o;h++){a[h]=-1,l[0+h]=-1;for(var p=r[h+1],m=r[h];m<p;m++){var g=t[m];for(d=e?l[u+g]:g;-1!==d&&d<h;d=f)f=l[0+d],l[0+d]=h,-1===f&&(a[d]=h);e&&(l[u+g]=h)}}return a}(m,1);var g=function d$e(n,e){if(!n)return null;var r,t=0,i=[],s=[],a=e,l=2*e;for(r=0;r<e;r++)s[0+r]=-1;for(r=e-1;r>=0;r--)-1!==n[r]&&(s[a+r]=s[0+n[r]],s[0+n[r]]=r);for(r=0;r<e;r++)-1===n[r]&&(t=qse(r,t,s,0,a,i,l));return i}(p.parent,h);if(p.cp=s(m,p.parent,g,1),m&&p.parent&&p.cp&&function o(a,l){var c=a._ptr,u=a._index,d=a._size,f=d[0],h=d[1];l.pinv=[],l.leftmost=[];var b,M,D,T,A=l.parent,p=l.pinv,m=l.leftmost,g=[],v=f,_=f+h,C=f+2*h;for(M=0;M<h;M++)g[v+M]=-1,g[_+M]=-1,g[C+M]=0;for(b=0;b<f;b++)m[b]=-1;for(M=h-1;M>=0;M--)for(T=c[M+1],D=c[M];D<T;D++)m[u[D]]=M;for(b=f-1;b>=0;b--)p[b]=-1,-1!==(M=m[b])&&(0==g[C+M]++&&(g[_+M]=b),g[0+b]=g[v+M],g[v+M]=b);for(l.lnz=0,l.m2=f,M=0;M<h;M++)if(b=g[v+M],l.lnz++,b<0&&(b=l.m2++),p[b]=M,!(--C[M]<=0)){l.lnz+=g[C+M];var B=A[M];-1!==B&&(0===g[C+B]&&(g[_+B]=g[_+M]),g[0+g[_+M]]=g[v+B],g[v+B]=g[0+b],g[C+B]+=g[C+M])}for(b=0;b<f;b++)p[b]<0&&(p[b]=M++);return!0}(m,p))for(p.unz=0,A=0;A<h;A++)p.unz+=p.cp[A]}else p.unz=4*d[h]+h,p.lnz=p.unz;return p}});function wH(n,e){return n[e]<0}function Wse(n,e){n[e]=jm(n[e])}function $se(n){return n<0?jm(n):n}function E$e(n,e,t,r,i){var c,u,d,s=e._index,o=e._ptr,l=e._size[1],f=0;for(r[0]=n;f>=0;){n=r[f];var h=i?i[n]:n;wH(o,n)||(Wse(o,n),r[l+f]=h<0?0:$se(o[h]));var A=1;for(u=r[l+f],d=h<0?0:$se(o[h+1]);u<d;u++)if(!wH(o,c=s[u])){r[l+f]=u,r[++f]=c,A=0;break}A&&(f--,r[--t]=n)}return t}var M$e=ye("csSpsolve",["divideScalar","multiply","subtract"],n=>{var{divideScalar:e,multiply:t,subtract:r}=n;return function(s,o,a,l,c,u,d){var _,C,b,M,f=s._values,h=s._index,A=s._ptr,m=s._size[1],g=o._values,y=o._index,v=o._ptr,D=function S$e(n,e,t,r,i){var u,f,s=n._ptr,a=e._index,l=e._ptr,c=n._size[1],h=c;for(f=l[t+1],u=l[t];u<f;u++){var A=a[u];wH(s,A)||(h=E$e(A,n,h,r,i))}for(u=h;u<c;u++)Wse(s,r[u]);return h}(s,o,a,l,u);for(_=D;_<m;_++)c[l[_]]=0;for(b=v[a+1],_=C=v[a];_<b;_++)c[y[_]]=g[_];for(var S=D;S<m;S++){var T=l[S],B=u?u[T]:T;if(!(B<0))for(C=A[B],b=A[B+1],c[T]=e(c[T],f[d?C:b-1]),_=d?C+1:C,M=d?b:b-1;_<M;_++){var R=h[_];c[R]=r(c[R],t(f[_],c[T]))}}return D}}),N$e=ye("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],n=>{var{abs:e,divideScalar:t,multiply:r,subtract:i,larger:s,largerEq:o,SparseMatrix:a}=n,l=M$e({divideScalar:t,multiply:r,subtract:i});return function(u,d,f){if(!u)return null;var p,A=u._size[1],m=100,g=100;d&&(p=d.q,m=d.lnz||m,g=d.unz||g);var B,R,y=[],v=[],_=[],C=new a({values:y,index:v,ptr:_,size:[A,A]}),b=[],M=[],D=[],S=new a({values:b,index:M,ptr:D,size:[A,A]}),T=[],U=[],k=[];for(B=0;B<A;B++)U[B]=0,T[B]=-1,_[B+1]=0;m=0,g=0;for(var q=0;q<A;q++){_[q]=m,D[q]=g;var O=p?p[q]:q,P=l(C,u,O,k,U,T,1),G=-1,H=-1;for(R=P;R<A;R++)if(T[B=k[R]]<0){var ae=e(U[B]);s(ae,H)&&(H=ae,G=B)}else M[g]=T[B],b[g++]=U[B];if(-1===G||H<=0)return null;T[O]<0&&o(e(U[O]),r(H,f))&&(G=O);var ve=U[G];for(M[g]=q,b[g++]=ve,T[G]=q,v[m]=G,y[m++]=1,R=P;R<A;R++)T[B=k[R]]<0&&(v[m]=B,y[m++]=t(U[B],ve)),U[B]=0}for(_[A]=m,D[A]=g,R=0;R<m;R++)v[R]=T[v[R]];return y.splice(m,y.length-m),v.splice(m,v.length-m),b.splice(g,b.length-g),M.splice(g,M.length-g),{L:C,U:S,pinv:T}}}),F$e=ye("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],n=>{var{typed:e,abs:t,add:r,multiply:i,transpose:s,divideScalar:o,subtract:a,larger:l,largerEq:c,SparseMatrix:u}=n,d=C$e({add:r,multiply:i,transpose:s}),f=N$e({abs:t,divideScalar:o,multiply:i,subtract:a,larger:l,largerEq:c,SparseMatrix:u});return e("slu",{"SparseMatrix, number, number":function(A,p,m){if(!Zn(p)||p<0||p>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=d(p,A,!1),y=f(A,g,m);return{L:y.L,U:y.U,p:y.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),P$e=ye("trace",["typed","matrix","add"],n=>{var{typed:e,matrix:t,add:r}=n;return e("trace",{Array:function(a){return i(t(a))},SparseMatrix:function s(o){var a=o._values,l=o._index,c=o._ptr,u=o._size,f=u[1];if(u[0]===f){var h=0;if(a.length>0)for(var A=0;A<f;A++)for(var m=c[A+1],g=c[A];g<m;g++){var y=l[g];if(y===A){h=r(h,a[g]);break}if(y>A)break}return h}throw new RangeError("Matrix must be square (size: "+Ai(u)+")")},DenseMatrix:i,any:Ur});function i(o){var a=o._size,l=o._data;switch(a.length){case 1:if(1===a[0])return Ur(l[0]);throw new RangeError("Matrix must be square (size: "+Ai(a)+")");case 2:var c=a[0];if(c===a[1]){for(var d=0,f=0;f<c;f++)d=r(d,l[f][f]);return d}throw new RangeError("Matrix must be square (size: "+Ai(a)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Ai(a)+")")}}}),U$e=ye("usolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=mx({DenseMatrix:a});return e("usolveAll",{"SparseMatrix, Array | Matrix":function(f,h){return function u(d,f){for(var h=[l(d,f,!0)._data.map(ve=>ve[0])],A=d._size[0],m=d._values,g=d._index,y=d._ptr,v=d._size[1]-1;v>=0;v--)for(var _=h.length,C=0;C<_;C++){for(var b=h[C],M=[],D=[],S=y[v],B=0,R=y[v+1]-1;R>=S;R--){var U=g[R];U===v?B=m[R]:U<v&&(M.push(m[R]),D.push(U))}if(o(B,0))if(o(b[v],0)){if(0===C){var P=[...b];P[v]=1;for(var G=0,H=D.length;G<H;G++){var ae=D[G];P[ae]=s(P[ae],M[G])}h.push(P)}}else{if(0===C)return[];h.splice(C,1),C-=1,_-=1}else{b[v]=r(b[v],B);for(var k=0,q=D.length;k<q;k++){var O=D[k];b[O]=s(b[O],i(b[v],M[k]))}}}return h.map(ve=>new a({data:ve.map(Q=>[Q]),size:[A,1]}))}(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return c(f,h)},"Array, Array | Matrix":function(f,h){return c(t(f),h).map(m=>m.valueOf())}});function c(d,f){for(var h=[l(d,f,!0)._data.map(D=>D[0])],A=d._data,p=d._size[0],g=d._size[1]-1;g>=0;g--)for(var y=h.length,v=0;v<y;v++){var _=h[v];if(o(A[g][g],0))if(o(_[g],0)){if(0===v){var b=[..._];b[g]=1;for(var M=g-1;M>=0;M--)b[M]=s(b[M],A[M][g]);h.push(b)}}else{if(0===v)return[];h.splice(v,1),v-=1,y-=1}else{_[g]=r(_[g],A[g][g]);for(var C=g-1;C>=0;C--)_[C]=s(_[C],i(_[g],A[C][g]))}}return h.map(D=>new a({data:D.map(S=>[S]),size:[p,1]}))}}),H$e=ye("zpk2tf",["typed","add","multiply","Complex","number"],n=>{var{typed:e,add:t,multiply:r,Complex:i,number:s}=n;return e("zpk2tf",{"Array,Array,number":function(c,u,d){return o(c,u,d)},"Array,Array":function(c,u){return o(c,u,1)},"Matrix,Matrix,number":function(c,u,d){return o(c.valueOf(),u.valueOf(),d)},"Matrix,Matrix":function(c,u){return o(c.valueOf(),u.valueOf(),1)}});function o(l,c,u){l.some(y=>"BigNumber"===y.type)&&(l=l.map(y=>s(y))),c.some(y=>"BigNumber"===y.type)&&(c=c.map(y=>s(y)));for(var d=[i(1,0)],f=[i(1,0)],h=0;h<l.length;h++){var A=l[h];"number"==typeof A&&(A=i(A,0)),d=a(d,[i(1,0),i(-A.re,-A.im)])}for(var p=0;p<c.length;p++){var m=c[p];"number"==typeof m&&(m=i(m,0)),f=a(f,[i(1,0),i(-m.re,-m.im)])}for(var g=0;g<d.length;g++)d[g]=r(d[g],u);return[d,f]}function a(l,c){for(var u=[],d=0;d<l.length+c.length-1;d++){u[d]=i(0,0);for(var f=0;f<l.length;f++)d-f>=0&&d-f<c.length&&(u[d]=t(u[d],r(l[f],c[d-f])))}return u}}),CH="ceil",V$e=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Q$e=ye(CH,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(CH,{number:function(s){return rc(s,r(s),t.relTol,t.absTol)?r(s):Math.ceil(s)},"number, number":function(s,o){if(rc(s,r(s,o),t.relTol,t.absTol))return r(s,o);var[a,l]="".concat(s,"e").split("e"),c=Math.ceil(Number("".concat(a,"e").concat(Number(l)+o)));return[a,l]="".concat(c,"e").split("e"),Number("".concat(a,"e").concat(Number(l)-o))}})}),z$e=ye(CH,V$e,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}=n,l=ic({typed:e,equalScalar:s}),c=ul({typed:e,DenseMatrix:a}),u=wf({typed:e}),d=Q$e({typed:e,config:t,round:r});return e("ceil",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(h){return h.ceil()},"Complex, number":function(h,A){return h.ceil(A)},"Complex, BigNumber":function(h,A){return h.ceil(A.toNumber())},BigNumber:function(h){return $u(h,r(h),t.relTol,t.absTol)?r(h):h.ceil()},"BigNumber, BigNumber":function(h,A){return $u(h,r(h,A),t.relTol,t.absTol)?r(h,A):h.toDecimalPlaces(A.toNumber(),tF.ROUND_CEIL)},Fraction:function(h){return h.ceil()},"Fraction, number":function(h,A){return h.ceil(A)},"Fraction, BigNumber":function(h,A){return h.ceil(A.toNumber())},"Unit, number, Unit":e.referToSelf(f=>function(h,A,p){var m=h.toNumeric(p);return p.multiply(f(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(f=>(h,A,p)=>f(h,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(f=>(h,A,p)=>Qr(h,m=>f(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(f=>(h,A)=>f(h,0,A)),"Array | Matrix":e.referToSelf(f=>h=>Qr(h,f,!0)),"Array, number | BigNumber":e.referToSelf(f=>(h,A)=>Qr(h,p=>f(p,A),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(f=>(h,A)=>l(h,A,f,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(f=>(h,A)=>u(h,A,f,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(f=>(h,A)=>u(i(A),h,f,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(f=>(h,A)=>s(h,0)?o(A.size(),A.storage()):"dense"===A.storage()?u(A,h,f,!0):c(A,h,f,!0))})}),Qb=_e(3556),Jse="compareNatural",j$e=ye(Jse,["typed","compare"],n=>{var{typed:e,compare:t}=n,r=t.signatures["boolean,boolean"];return e(Jse,{"any, any":function i(l,c){var f,u=no(l),d=no(c);if(!("number"!==u&&"BigNumber"!==u&&"Fraction"!==u||"number"!==d&&"BigNumber"!==d&&"Fraction"!==d))return"0"!==(f=t(l,c)).toString()?f>0?1:-1:Qb(u,d);var h=["Array","DenseMatrix","SparseMatrix"];if(h.includes(u)||h.includes(d))return 0!==(f=s(i,l,c))?f:Qb(u,d);if(u!==d)return Qb(u,d);if("Complex"===u)return function q$e(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0}(l,c);if("Unit"===u)return l.equalBase(c)?i(l.value,c.value):o(i,l.formatUnits(),c.formatUnits());if("boolean"===u)return r(l,c);if("string"===u)return Qb(l,c);if("Object"===u)return function a(l,c,u){var d=Object.keys(c),f=Object.keys(u);d.sort(Qb),f.sort(Qb);var h=o(l,d,f);if(0!==h)return h;for(var A=0;A<d.length;A++){var p=l(c[d[A]],u[f[A]]);if(0!==p)return p}return 0}(i,l,c);if("null"===u||"undefined"===u)return 0;throw new TypeError('Unsupported type of value "'+u+'"')}});function s(l,c,u){return $0(c)&&$0(u)?o(l,c.toJSON().values,u.toJSON().values):$0(c)?s(l,c.toArray(),u):$0(u)?s(l,c,u.toArray()):pI(c)?s(l,c.toJSON().data,u):pI(u)?s(l,c,u.toJSON().data):Array.isArray(c)?Array.isArray(u)?o(l,c,u):s(l,c,[u]):s(l,[c],u)}function o(l,c,u){for(var d=0,f=Math.min(c.length,u.length);d<f;d++){var h=l(c[d],u[d]);if(0!==h)return h}return c.length>u.length?1:c.length<u.length?-1:0}}),Zse="composition",$$e=ye(Zse,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],n=>{var{typed:e,addScalar:t,combinations:r,isPositive:i,isInteger:o,larger:a}=n;return e(Zse,{"number | BigNumber, number | BigNumber":function(c,u){if(!(o(c)&&i(c)&&o(u)&&i(u)))throw new TypeError("Positive integer value expected in function composition");if(a(u,c))throw new TypeError("k must be less than or equal to n in function composition");return r(t(c,-1),t(u,-1))}})}),X$e=ye("cross",["typed","matrix","subtract","multiply"],n=>{var{typed:e,matrix:t,subtract:r,multiply:i}=n;return e("cross",{"Matrix, Matrix":function(a,l){return t(s(a.toArray(),l.toArray()))},"Matrix, Array":function(a,l){return t(s(a.toArray(),l))},"Array, Matrix":function(a,l){return t(s(a,l.toArray()))},"Array, Array":s});function s(o,a){var l=Math.max(Tr(o).length,Tr(a).length);o=bI(o),a=bI(a);var c=Tr(o),u=Tr(a);if(1!==c.length||1!==u.length||3!==c[0]||3!==u[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+u.join(", ")+"])");var d=[r(i(o[1],a[2]),i(o[2],a[1])),r(i(o[2],a[0]),i(o[0],a[2])),r(i(o[0],a[1]),i(o[1],a[0]))];return l>1?[d]:d}}),J$e=ye("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],n=>{var{typed:e,matrix:t,subtractScalar:r,multiply:i,divideScalar:s,isZero:o,unaryMinus:a}=n;return e("det",{any:function(u){return Ur(u)},"Array | Matrix":function(u){var d;switch((d=mr(u)?u.size():Array.isArray(u)?(u=t(u)).size():[]).length){case 0:return Ur(u);case 1:if(1===d[0])return Ur(u.valueOf()[0]);if(0===d[0])return 1;throw new RangeError("Matrix must be square (size: "+Ai(d)+")");case 2:var f=d[0],h=d[1];if(f===h)return function l(c,u,d){if(1===u)return Ur(c[0][0]);if(2===u)return r(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var f=!1,h=new Array(u).fill(0).map((M,D)=>D),A=0;A<u;A++){var p=h[A];if(o(c[p][A])){var m=void 0;for(m=A+1;m<u;m++)if(!o(c[h[m]][A])){p=h[m],h[m]=h[A],h[A]=p,f=!f;break}if(m===u)return c[p][A]}for(var g=c[p][A],y=0===A?1:c[h[A-1]][A-1],v=A+1;v<u;v++)for(var _=h[v],C=A+1;C<u;C++)c[_][C]=s(r(i(c[_][C],g),i(c[_][A],c[p][C])),y)}var b=c[h[u-1]][u-1];return f?a(b):b}(u.clone().valueOf(),f);if(0===h)return 1;throw new RangeError("Matrix must be square (size: "+Ai(d)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Ai(d)+")")}}})}),noe="dotMultiply",eKe=ye(noe,["typed","matrix","equalScalar","multiplyScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,multiplyScalar:i,concat:s}=n,o=Cf({typed:e,equalScalar:r}),a=Cse({typed:e,equalScalar:r}),l=ic({typed:e,equalScalar:r}),c=io({typed:e,matrix:t,concat:s});return e(noe,c({elop:i,SS:a,DS:o,Ss:l}))}),rKe=ye("FibonacciHeap",["smaller","larger"],n=>{var{smaller:e,larger:t}=n,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(u,d,f){d.left.right=d.right,d.right.left=d.left,f.degree--,f.child===d&&(f.child=d.right),0===f.degree&&(f.child=null),d.left=u,d.right=u.right,u.right=d,d.right.left=d,d.parent=null,d.mark=!1}function a(u,d){var f=d.parent;f&&(d.mark?(o(u,d,f),a(f)):d.mark=!0)}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(u,d){var f={key:u,value:d,degree:0};if(this._minimum){var h=this._minimum;f.left=h,f.right=h.right,h.right=f,f.right.left=f,e(u,h.key)&&(this._minimum=f)}else f.left=f,f.right=f,this._minimum=f;return this._size++,f},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var u=this._minimum;if(null===u)return u;for(var d=this._minimum,f=u.degree,h=u.child;f>0;){var A=h.right;h.left.right=h.right,h.right.left=h.left,h.left=d,h.right=d.right,d.right=h,h.right.left=h,h.parent=null,h=A,f--}return u.left.right=u.right,u.right.left=u.left,d=u===u.right?null:function c(u,d){var m,f=Math.floor(Math.log(d)*r)+1,h=new Array(f),A=0,p=u;if(p)for(A++,p=p.right;p!==u;)A++,p=p.right;for(;A>0;){for(var g=p.degree,y=p.right;m=h[g];){if(t(p.key,m.key)){var v=m;m=p,p=v}l(m,p),h[g]=null,g++}h[g]=p,p=y,A--}u=null;for(var _=0;_<f;_++)(m=h[_])&&(u?(m.left.right=m.right,m.right.left=m.left,m.left=u,m.right=u.right,u.right=m,m.right.left=m,e(m.key,u.key)&&(u=m)):u=m);return u}(d=u.right,this._size),this._size--,this._minimum=d,u},i.prototype.remove=function(u){this._minimum=function s(u,d,f){d.key=f;var h=d.parent;return h&&e(d.key,h.key)&&(o(u,d,h),a(u,h)),e(d.key,u.key)&&(u=d),u}(this._minimum,u,-1),this.extractMinimum()};var l=function(d,f){d.left.right=d.right,d.right.left=d.left,d.parent=f,f.child?(d.left=f.child,d.right=f.child.right,f.child.right=d,d.right.left=d):(f.child=d,d.right=d,d.left=d),f.degree++,d.mark=!1};return i},{isClass:!0}),iKe=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],sKe=ye("fix",["typed","ceil","floor"],n=>{var{typed:e,ceil:t,floor:r}=n;return e("fix",{number:function(s){return s>0?r(s):t(s)},"number, number":function(s,o){return s>0?r(s,o):t(s,o)}})}),oKe=ye("fix",iKe,n=>{var{typed:e,Complex:t,matrix:r,ceil:i,floor:s,equalScalar:o,zeros:a,DenseMatrix:l}=n,c=ul({typed:e,DenseMatrix:l}),u=wf({typed:e}),d=sKe({typed:e,ceil:i,floor:s});return e("fix",{number:d.signatures.number,"number, number | BigNumber":d.signatures["number,number"],Complex:function(h){return new t(h.re>0?Math.floor(h.re):Math.ceil(h.re),h.im>0?Math.floor(h.im):Math.ceil(h.im))},"Complex, number":function(h,A){return new t(h.re>0?s(h.re,A):i(h.re,A),h.im>0?s(h.im,A):i(h.im,A))},"Complex, BigNumber":function(h,A){var p=A.toNumber();return new t(h.re>0?s(h.re,p):i(h.re,p),h.im>0?s(h.im,p):i(h.im,p))},BigNumber:function(h){return h.isNegative()?i(h):s(h)},"BigNumber, number | BigNumber":function(h,A){return h.isNegative()?i(h,A):s(h,A)},Fraction:function(h){return h.s<0n?h.ceil():h.floor()},"Fraction, number | BigNumber":function(h,A){return h.s<0n?i(h,A):s(h,A)},"Unit, number, Unit":e.referToSelf(f=>function(h,A,p){var m=h.toNumeric(p);return p.multiply(f(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(f=>(h,A,p)=>f(h,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(f=>(h,A,p)=>Qr(h,m=>f(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(f=>(h,A)=>f(h,0,A)),"Array | Matrix":e.referToSelf(f=>h=>Qr(h,f,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(f=>(h,A)=>Qr(h,p=>f(p,A),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(f=>(h,A)=>u(r(A),h,f,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(f=>(h,A)=>o(h,0)?a(A.size(),A.storage()):"dense"===A.storage()?u(A,h,f,!0):c(A,h,f,!0))})}),lKe=ye("index",["typed","Index"],n=>{var{typed:e,Index:t}=n;return e("index",{"...number | string | BigNumber | Range | Array | Matrix":function(i){var s=i.map(function(a){return Kr(a)?a.toNumber():Vs(a)||mr(a)?a.map(function(l){return Kr(l)?l.toNumber():l}):a}),o=new t;return t.apply(o,s),o}})}),dKe=ye("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],n=>{var{typed:e,config:t,abs:r,add:i,addScalar:s,matrix:o,multiply:a,multiplyScalar:l,divideScalar:c,subtract:u,smaller:d,equalScalar:f,flatten:h,isZero:A,isNumeric:p}=n;return e("intersect",{"Array, Array, Array":m,"Array, Array, Array, Array":g,"Matrix, Matrix, Matrix":function(B,R,U){var k=m(B.valueOf(),R.valueOf(),U.valueOf());return null===k?null:o(k)},"Matrix, Matrix, Matrix, Matrix":function(B,R,U,k){var q=g(B.valueOf(),R.valueOf(),U.valueOf(),k.valueOf());return null===q?null:o(q)}});function m(T,B,R){if(T=y(T),B=y(B),R=y(R),!_(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function C(T){return 4===T.length&&p(T[0])&&p(T[1])&&p(T[2])&&p(T[3])}(R))throw new TypeError("Array with 4 numbers expected as third argument");return function S(T,B,R,U,k,q,O,P,G,H){var ae=l(T,O),ve=l(U,O),Q=l(B,P),j=l(k,P),K=l(R,G),oe=l(q,G),se=u(u(u(H,ae),Q),K),le=u(u(u(s(s(ve,j),oe),ae),Q),K),te=c(se,le);return[s(T,l(te,u(U,T))),s(B,l(te,u(k,B))),s(R,l(te,u(q,R)))]}(T[0],T[1],T[2],B[0],B[1],B[2],R[0],R[1],R[2],R[3])}function g(T,B,R,U){if(T=y(T),B=y(B),R=y(R),U=y(U),2===T.length){if(!v(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!v(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!v(R))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!v(U))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function b(T,B,R,U){var k=T,q=R,O=u(k,B),P=u(q,U),G=u(l(O[0],P[1]),l(P[0],O[1]));if(A(G)||d(r(G),t.relTol))return null;var H=l(P[0],k[1]),ae=l(P[1],k[0]),ve=l(P[0],q[1]),Q=l(P[1],q[0]),j=c(s(u(u(H,ae),ve),Q),G);return i(a(O,j),k)}(T,B,R,U)}if(3===T.length){if(!_(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_(U))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function D(T,B,R,U,k,q,O,P,G,H,ae,ve){var Q=M(T,O,H,O,B,P,ae,P,R,G,ve,G),j=M(H,O,U,T,ae,P,k,B,ve,G,q,R),K=M(T,O,U,T,B,P,k,B,R,G,q,R),oe=M(H,O,H,O,ae,P,ae,P,ve,G,ve,G),se=M(U,T,U,T,k,B,k,B,q,R,q,R),le=u(l(Q,j),l(K,oe)),te=u(l(se,oe),l(j,j));if(A(te))return null;var ee=c(le,te),Ae=c(s(Q,l(ee,j)),oe),Ee=s(T,l(ee,u(U,T))),ge=s(B,l(ee,u(k,B))),Se=s(R,l(ee,u(q,R))),ne=s(O,l(Ae,u(H,O))),Y=s(P,l(Ae,u(ae,P))),W=s(G,l(Ae,u(ve,G)));return f(Ee,ne)&&f(ge,Y)&&f(Se,W)?[Ee,ge,Se]:null}(T[0],T[1],T[2],B[0],B[1],B[2],R[0],R[1],R[2],U[0],U[1],U[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function y(T){return 1===T.length?T[0]:T.length>1&&Array.isArray(T[0])&&T.every(B=>Array.isArray(B)&&1===B.length)?h(T):T}function v(T){return 2===T.length&&p(T[0])&&p(T[1])}function _(T){return 3===T.length&&p(T[0])&&p(T[1])&&p(T[2])}function M(T,B,R,U,k,q,O,P,G,H,ae,ve){var Q=l(u(T,B),u(R,U)),j=l(u(k,q),u(O,P)),K=l(u(G,H),u(ae,ve));return s(s(Q,j),K)}}),fKe=ye("invmod",["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],n=>{var{typed:e,BigNumber:r,xgcd:i,equal:s,smaller:o,mod:a,add:l,isInteger:c}=n;return e("invmod",{"number, number":u,"BigNumber, BigNumber":u});function u(d,f){if(!c(d)||!c(f))throw new Error("Parameters in function invmod must be integer numbers");if(d=a(d,f),s(f,0))throw new Error("Divisor must be non zero");var h=i(d,f);h=h.valueOf();var[A,p]=h;return s(A,r(1))?(p=a(p,f),o(p,r(0))&&(p=l(p,f)),p):NaN}}),pKe=ye("lcm",["typed","matrix","equalScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,s=Cf({typed:e,equalScalar:r}),o=jI({typed:e,equalScalar:r}),a=ic({typed:e,equalScalar:r}),l=io({typed:e,matrix:t,concat:i}),c="number | BigNumber | Fraction | Matrix | Array",u={};return u["".concat(c,", ").concat(c,", ...").concat(c)]=e.referToSelf(f=>(h,A,p)=>{for(var m=f(h,A),g=0;g<p.length;g++)m=f(m,p[g]);return m}),e("lcm",{"number, number":rre,"BigNumber, BigNumber":function d(f,h){if(!f.isInt()||!h.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(f.isZero())return f;if(h.isZero())return h;for(var A=f.times(h);!h.isZero();){var p=h;h=f.mod(p),f=p}return A.div(f).abs()},"Fraction, Fraction":(f,h)=>f.lcm(h)},l({SS:o,DS:s,Ss:a}),u)}),mKe=ye("log1p",["typed","config","divideScalar","log","Complex"],n=>{var{typed:e,config:t,divideScalar:r,log:i,Complex:s}=n;return e("log1p",{number:function(l){return l>=-1||t.predictable?Iee(l):o(new s(l,0))},Complex:o,BigNumber:function(l){var c=l.plus(1);return!c.isNegative()||t.predictable?c.ln():o(new s(l.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>l=>Qr(l,a)),"any, any":e.referToSelf(a=>(l,c)=>r(a(l),i(c)))});function o(a){var l=a.re+1;return new s(Math.log(Math.sqrt(l*l+a.im*a.im)),Math.atan2(a.im,l))}}),aoe="setCartesian",yKe=ye(aoe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(aoe,{"Array | Matrix, Array | Matrix":function(l,c){var u=[];if(0!==r(t(l),new s(0))&&0!==r(t(c),new s(0))){var d=ts(Array.isArray(l)?l:l.toArray()).sort(i),f=ts(Array.isArray(c)?c:c.toArray()).sort(i);u=[];for(var h=0;h<d.length;h++)for(var A=0;A<f.length;A++)u.push([d[h],f[A]])}return Array.isArray(l)&&Array.isArray(c)?u:new o(u)}})}),loe="setDistinct",bKe=ye(loe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(loe,{"Array | Matrix":function(l){var c;if(0===r(t(l),new s(0)))c=[];else{var u=ts(Array.isArray(l)?l:l.toArray()).sort(i);(c=[]).push(u[0]);for(var d=1;d<u.length;d++)0!==i(u[d],u[d-1])&&c.push(u[d])}return Array.isArray(l)?c:new o(c)}})}),coe="setIsSubset",CKe=ye(coe,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(coe,{"Array | Matrix, Array | Matrix":function(a,l){if(0===r(t(a),new s(0)))return!0;if(0===r(t(l),new s(0)))return!1;for(var d,c=Tb(ts(Array.isArray(a)?a:a.toArray()).sort(i)),u=Tb(ts(Array.isArray(l)?l:l.toArray()).sort(i)),f=0;f<c.length;f++){d=!1;for(var h=0;h<u.length;h++)if(0===i(c[f].value,u[h].value)&&c[f].identifier===u[h].identifier){d=!0;break}if(!1===d)return!1}return!0}})}),uoe="setPowerset",SKe=ye(uoe,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(uoe,{"Array | Matrix":function(c){if(0===r(t(c),new s(0)))return[];for(var u=ts(Array.isArray(c)?c:c.toArray()).sort(i),d=[],f=0;f.toString(2).length<=u.length;)d.push(o(u,f.toString(2).split("").reverse())),f++;return function a(l){for(var c=[],u=l.length-1;u>0;u--)for(var d=0;d<u;d++)l[d].length>l[d+1].length&&(c=l[d],l[d]=l[d+1],l[d+1]=c);return l}(d)}});function o(l,c){for(var u=[],d=0;d<c.length;d++)"1"===c[d]&&u.push(l[d]);return u}}),pF="smallerEq",DKe=ye(pF,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=fu({typed:e}),l=DA({typed:e,SparseMatrix:o}),c=ul({typed:e,DenseMatrix:i}),u=io({typed:e,matrix:r,concat:s}),d=Lb({typed:e});return e(pF,MKe({typed:e,config:t}),{"boolean, boolean":(f,h)=>f<=h,"BigNumber, BigNumber":function(h,A){return h.lte(A)||$u(h,A,t.relTol,t.absTol)},"bigint, bigint":(f,h)=>f<=h,"Fraction, Fraction":(f,h)=>1!==f.compare(h),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,u({SS:l,DS:a,Ss:c}))}),MKe=ye(pF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(pF,{"number, number":function(i,s){return i<=s||rc(i,s,t.relTol,t.absTol)}})}),BKe=ye("sort",["typed","matrix","compare","compareNatural"],n=>{var{typed:e,matrix:t,compare:r,compareNatural:i}=n,s=r,o=(u,d)=>-r(u,d);return e("sort",{Array:function(d){return l(d),d.sort(s)},Matrix:function(d){return c(d),t(d.toArray().sort(s),d.storage())},"Array, function":function(d,f){return l(d),d.sort(f)},"Matrix, function":function(d,f){return c(d),t(d.toArray().sort(f),d.storage())},"Array, string":function(d,f){return l(d),d.sort(a(f))},"Matrix, string":function(d,f){return c(d),t(d.toArray().sort(a(f)),d.storage())}});function a(u){if("asc"===u)return s;if("desc"===u)return o;if("natural"===u)return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(u){if(1!==Tr(u).length)throw new Error("One dimensional array expected")}function c(u){if(1!==u.size().length)throw new Error("One dimensional matrix expected")}}),gF="unequal",IKe=ye(gF,["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,equalScalar:r,matrix:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=fu({typed:e}),c=DA({typed:e,SparseMatrix:a}),u=ul({typed:e,DenseMatrix:s}),d=io({typed:e,matrix:i,concat:o});return e(gF,FKe({typed:e,equalScalar:r}),d({elop:function f(h,A){return!r(h,A)},SS:c,DS:l,Ss:u}))}),FKe=ye(gF,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(gF,{"any, any":function(i,s){return null===i?null!==s:null===s?null!==i:void 0===i?void 0!==s:void 0===s?void 0!==i:!t(i,s)}})}),hoe="setDifference",OKe=ye(hoe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(hoe,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===r(t(l),new s(0)))u=[];else{if(0===r(t(c),new s(0)))return ts(l.toArray());var d=Tb(ts(Array.isArray(l)?l:l.toArray()).sort(i)),f=Tb(ts(Array.isArray(c)?c:c.toArray()).sort(i));u=[];for(var h,A=0;A<d.length;A++){h=!1;for(var p=0;p<f.length;p++)if(0===i(d[A].value,f[p].value)&&d[A].identifier===f[p].identifier){h=!0;break}h||u.push(d[A])}}return Array.isArray(l)&&Array.isArray(c)?wI(u):new o(wI(u))}})}),foe="setMultiplicity",LKe=ye(foe,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(foe,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(a,l){if(0===r(t(l),new s(0)))return 0;for(var c=ts(Array.isArray(l)?l:l.toArray()),u=0,d=0;d<c.length;d++)0===i(c[d],a)&&u++;return u}})}),Aoe="setSymDifference",kKe=ye(Aoe,["typed","size","concat","subset","setDifference","Index"],n=>{var{typed:e,size:t,concat:r,subset:i,setDifference:s,Index:o}=n;return e(Aoe,{"Array | Matrix, Array | Matrix":function(l,c){if(0===i(t(l),new o(0)))return ts(c);if(0===i(t(c),new o(0)))return ts(l);var u=ts(l),d=ts(c);return r(s(u,d),s(d,u))}})}),QKe=ye("Spa",["addScalar","equalScalar","FibonacciHeap"],n=>{var{addScalar:e,equalScalar:t,FibonacciHeap:r}=n;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(s,o){if(this._values[s])this._values[s].value=o;else{var a=this._heap.insert(s,o);this._values[s]=a}},i.prototype.get=function(s){var o=this._values[s];return o?o.value:0},i.prototype.accumulate=function(s,o){var a=this._values[s];a?a.value=e(a.value,o):(a=this._heap.insert(s,o),this._values[s]=a)},i.prototype.forEach=function(s,o,a){var l=this._heap,c=this._values,u=[],d=l.extractMinimum();for(d&&u.push(d);d&&d.key<=o;)d.key>=s&&(t(d.value,0)||a(d.key,d.value,this)),(d=l.extractMinimum())&&u.push(d);for(var f=0;f<u.length;f++){var h=u[f];c[(d=l.insert(h.key,h.value)).key]=d}},i.prototype.swap=function(s,o){var a=this._values[s],l=this._values[o];if(!a&&l)a=this._heap.insert(s,l.value),this._heap.remove(l),this._values[s]=a,this._values[o]=void 0;else if(a&&!l)l=this._heap.insert(o,a.value),this._heap.remove(a),this._values[o]=l,this._values[s]=void 0;else if(a&&l){var c=a.value;a.value=l.value,l.value=c}},i},{isClass:!0}),GKe=ye("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],n=>{var{typed:e,matrix:t,divideScalar:r,addScalar:i,multiply:s,unaryMinus:o,det:a,identity:l,abs:c}=n;return e("inv",{"Array | Matrix":function(f){var h=mr(f)?f.size():Tr(f);switch(h.length){case 1:if(1===h[0])return mr(f)?t([r(1,f.valueOf()[0])]):[r(1,f[0])];throw new RangeError("Matrix must be square (size: "+Ai(h)+")");case 2:var A=h[0],p=h[1];if(A===p)return mr(f)?t(u(f.valueOf(),A,p),f.storage()):u(f,A,p);throw new RangeError("Matrix must be square (size: "+Ai(h)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Ai(h)+")")}},any:function(f){return r(1,f)}});function u(d,f,h){var A,p,m,g,y;if(1===f){if(0===(g=d[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,g)]]}if(2===f){var v=a(d);if(0===v)throw Error("Cannot calculate inverse, determinant is zero");return[[r(d[1][1],v),r(o(d[0][1]),v)],[r(o(d[1][0]),v),r(d[0][0],v)]]}var _=d.concat();for(A=0;A<f;A++)_[A]=_[A].concat();for(var C=l(f).valueOf(),b=0;b<h;b++){var M=c(_[b][b]),D=b;for(A=b+1;A<f;)c(_[A][b])>M&&(M=c(_[A][b]),D=A),A++;if(0===M)throw Error("Cannot calculate inverse, determinant is zero");(A=D)!==b&&(y=_[b],_[b]=_[A],_[A]=y,y=C[b],C[b]=C[A],C[A]=y);var S=_[b],T=C[b];for(A=0;A<f;A++){var B=_[A],R=C[A];if(A!==b){if(0!==B[b]){for(m=r(o(B[b]),S[b]),p=b;p<h;p++)B[p]=i(B[p],s(m,S[p]));for(p=0;p<h;p++)R[p]=i(R[p],s(m,T[p]))}}else{for(m=S[b],p=b;p<h;p++)B[p]=r(B[p],m);for(p=0;p<h;p++)R[p]=r(R[p],m)}}}return C}}),qKe=ye("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],n=>{var{typed:e,matrix:t,abs:r,addScalar:i,divideScalar:s,multiplyScalar:o,subtractScalar:a,larger:l,equalScalar:c,unaryMinus:u,DenseMatrix:d,SparseMatrix:f,Spa:h}=n;return e("lup",{DenseMatrix:function(g){return A(g)},SparseMatrix:function(g){return function p(m){var q,O,P,g=m._size[0],y=m._size[1],v=Math.min(g,y),_=m._values,C=m._index,b=m._ptr,M=[],D=[],S=[],T=[g,v],B=[],R=[],U=[],k=[v,y],G=[],H=[];for(q=0;q<g;q++)G[q]=q,H[q]=q;var ve=function(){var j=new h;O<g&&(S.push(M.length),M.push(1),D.push(O)),U.push(B.length);var oe=b[O+1];for(P=b[O];P<oe;P++)j.set(G[q=C[P]],_[P]);O>0&&j.forEach(0,O-1,function(ee,Ae){f._forEachRow(ee,M,D,S,function(Ee,ge){Ee>ee&&j.accumulate(Ee,u(o(ge,Ae)))})});var se=O,le=j.get(O),te=r(le);j.forEach(O+1,g-1,function(ee,Ae){var Ee=r(Ae);l(Ee,te)&&(se=ee,te=Ee,le=Ae)}),O!==se&&(f._swapRows(O,se,T[1],M,D,S),f._swapRows(O,se,k[1],B,R,U),j.swap(O,se),function(j,K){var oe=H[j],se=H[K];G[oe]=K,G[se]=j,H[j]=se,H[K]=oe}(O,se)),j.forEach(0,g-1,function(ee,Ae){ee<=O?(B.push(Ae),R.push(ee)):(Ae=s(Ae,le),c(Ae,0)||(M.push(Ae),D.push(ee)))})};for(O=0;O<y;O++)ve();return U.push(B.length),S.push(M.length),{L:new f({values:M,index:D,ptr:S,size:T}),U:new f({values:B,index:R,ptr:U,size:k}),p:G,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(g)},Array:function(g){var v=A(t(g));return{L:v.L.valueOf(),U:v.U.valueOf(),p:v.p}}});function A(m){var S,T,B,g=m._size[0],y=m._size[1],v=Math.min(g,y),_=Ur(m._data),C=[],b=[g,v],M=[],D=[v,y],R=[];for(S=0;S<g;S++)R[S]=S;for(T=0;T<y;T++){if(T>0)for(S=0;S<g;S++){var U=Math.min(S,T),k=0;for(B=0;B<U;B++)k=i(k,o(_[S][B],_[B][T]));_[S][T]=a(_[S][T],k)}var q=T,O=0,P=0;for(S=T;S<g;S++){var G=_[S][T],H=r(G);l(H,O)&&(q=S,O=H,P=G)}if(T!==q&&(R[T]=[R[q],R[q]=R[T]][0],d._swapRows(T,q,_)),T<g)for(S=T+1;S<g;S++)c(_[S][T],0)||(_[S][T]=s(_[S][T],P))}for(T=0;T<y;T++)for(S=0;S<g;S++)0===T&&(S<y&&(M[S]=[]),C[S]=[]),S<T?(S<y&&(M[S][T]=_[S][T]),T<g&&(C[S][T]=0)):S!==T?(S<y&&(M[S][T]=0),T<g&&(C[S][T]=_[S][T])):(S<y&&(M[S][T]=_[S][T]),T<g&&(C[S][T]=1));var ve=new d({data:C,size:b}),Q=new d({data:M,size:D}),j=[];for(S=0,v=R.length;S<v;S++)j[R[S]]=S;return{L:ve,U:Q,p:j,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),$Ke=ye("pinv",["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],n=>{var{typed:e,matrix:t,inv:r,deepEqual:i,equal:s,dotDivide:o,dot:a,ctranspose:l,divideScalar:c,multiply:u,add:d,Complex:f}=n;return e("pinv",{"Array | Matrix":function(v){var _=mr(v)?v.size():Tr(v);switch(_.length){case 1:return g(v)?l(v):1===_[0]?r(v):o(l(v),a(v,v));case 2:if(g(v))return l(v);var C=_[0],b=_[1];if(C===b)try{return r(v)}catch(M){if(!(M instanceof Error&&M.message.match(/Cannot calculate inverse, determinant is zero/)))throw M}return mr(v)?t(h(v.valueOf(),C,b),v.storage()):h(v,C,b);default:throw new RangeError("Matrix must be two dimensional (size: "+Ai(_)+")")}},any:function(v){return s(v,0)?Ur(v):c(1,v)}});function h(y,v,_){var{C,F:b}=function p(y,v,_){var C=function A(y,v,_){for(var C=Ur(y),b=0,M=0;M<v;M++){if(_<=b)return C;for(var D=M;m(C[D][b]);)if(v===++D&&(D=M,_===++b))return C;[C[D],C[M]]=[C[M],C[D]];for(var S=C[M][b],T=0;T<_;T++)C[M][T]=o(C[M][T],S);for(var B=0;B<v;B++)if(B!==M){S=C[B][b];for(var R=0;R<_;R++)C[B][R]=d(C[B][R],u(-1,u(S,C[M][R])))}b++}return C}(y,v,_),b=y.map((D,S)=>D.filter((T,B)=>B<v&&!m(a(C[B],C[B]))));return{C:b,F:C.filter((D,S)=>!m(a(C[S],C[S])))}}(y,v,_),M=u(r(u(l(C),C)),l(C)),D=u(l(b),r(u(b,l(b))));return u(D,M)}function m(y){return s(d(y,f(1,1)),d(0,f(1,1)))}function g(y){return i(d(y,f(1,1)),d(u(y,0),f(1,1)))}}),XKe=ye("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],n=>{var{typed:e,config:t,identity:r,multiply:i,matrix:s,inv:o,number:a,fraction:l,Complex:c}=n;return e("pow",{"number, number":u,"Complex, Complex":function(A,p){return A.pow(p)},"BigNumber, BigNumber":function(A,p){return p.isInteger()||A>=0||t.predictable?A.pow(p):new c(A.toNumber(),0).pow(p.toNumber(),0)},"bigint, bigint":(h,A)=>h**A,"Fraction, Fraction":function(A,p){var m=A.pow(p);if(null!=m)return m;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return u(A.valueOf(),p.valueOf())},"Array, number":d,"Array, BigNumber":function(A,p){return d(A,p.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(A,p){return f(A,p.toNumber())},"Unit, number | BigNumber":function(A,p){return A.pow(p)}});function u(h,A){if(t.predictable&&!Zn(A)&&h<0)try{var p=l(A),m=a(p);if((A===m||Math.abs((A-m)/A)<1e-14)&&p.d%2n===1n)return(p.n%2n===0n?1:-1)*Math.pow(-h,A)}catch{}return t.predictable&&(h<-1&&A===1/0||h>-1&&h<0&&A===-1/0)?NaN:Zn(A)||h>=0||t.predictable?cre(h,A):h*h<1&&A===1/0||h*h>1&&A===-1/0?0:new c(h,0).pow(A,0)}function d(h,A){if(!Zn(A))throw new TypeError("For A^b, b must be an integer (value is "+A+")");var p=Tr(h);if(2!==p.length)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(A<0)try{return d(o(h),-A)}catch(y){throw"Cannot calculate inverse, determinant is zero"===y.message?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+A+")"):y}for(var m=r(p[0]).valueOf(),g=h;A>=1;)!(1&~A)&&(m=i(g,m)),A>>=1,g=i(g,g);return m}function f(h,A){return s(d(h.valueOf(),A))}}),yoe="setIntersect",JKe=ye(yoe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(yoe,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===r(t(l),new s(0))||0===r(t(c),new s(0)))u=[];else{var d=Tb(ts(Array.isArray(l)?l:l.toArray()).sort(i)),f=Tb(ts(Array.isArray(c)?c:c.toArray()).sort(i));u=[];for(var h=0;h<d.length;h++)for(var A=0;A<f.length;A++)if(0===i(d[h].value,f[A].value)&&d[h].identifier===f[A].identifier){u.push(d[h]);break}}return Array.isArray(l)&&Array.isArray(c)?wI(u):new o(wI(u))}})}),eXe=ye("setUnion",["typed","size","concat","subset","setIntersect","setSymDifference","Index"],n=>{var{typed:e,size:t,concat:r,subset:i,setIntersect:s,setSymDifference:o,Index:a}=n;return e("setUnion",{"Array | Matrix, Array | Matrix":function(c,u){if(0===i(t(c),new a(0)))return ts(u);if(0===i(t(u),new a(0)))return ts(c);var d=ts(c),f=ts(u);return r(o(d,f),s(d,f))}})}),nXe=ye("sqrtm",["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],n=>{var{typed:e,abs:t,add:r,multiply:i,map:s,sqrt:o,subtract:a,inv:l,size:c,max:u,identity:d}=n,h=1e-6;return e("sqrtm",{"Array | Matrix":function(m){var g=mr(m)?m.size():Tr(m);switch(g.length){case 1:if(1===g[0])return s(m,o);throw new RangeError("Matrix must be square (size: "+Ai(g)+")");case 2:if(g[0]===g[1])return function A(p){var m,g=0,y=p,v=d(c(p));do{var _=y;if(y=i(.5,r(_,l(v))),v=i(.5,r(v,l(_))),(m=u(t(a(y,_))))>h&&++g>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(m>h);return y}(m);throw new RangeError("Matrix must be square (size: "+Ai(g)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+Ai(g)+")")}}})});function woe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function SH(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?woe(Object(t),!0).forEach(function(r){cl(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):woe(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var sXe=ye("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],n=>{var _,C,b,{on:e,config:t,addScalar:r,subtractScalar:i,multiplyScalar:s,divideScalar:o,pow:a,abs:l,fix:c,round:u,equal:d,isNumeric:f,format:h,number:A,Complex:p,BigNumber:m,Fraction:g}=n,y=A;function v(Y,W){if(!(this instanceof v))throw new Error("Constructor must be called with the new operator");if(null!=Y&&!f(Y)&&!Gp(Y))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===W)this.units=[],this.dimensions=G.map(Ce=>0);else if("string"==typeof W){var Be=v.parse(W);this.units=Be.units,this.dimensions=Be.dimensions}else{if(!uh(W)||null!==W.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=W.fixPrefix,this.skipAutomaticSimplification=W.skipAutomaticSimplification,this.dimensions=W.dimensions.slice(0),this.units=W.units.map(Ce=>ll({},Ce))}this.value=this._normalize(Y)}function M(){for(;" "===b||"\t"===b;)T()}function S(Y){return Y>="0"&&Y<="9"}function T(){C++,b=_.charAt(C)}function B(Y){b=_.charAt(C=Y)}function R(){var Y="",W=C;if("+"===b?T():"-"===b&&(Y+=b,T()),!function D(Y){return Y>="0"&&Y<="9"||"."===Y}(b))return B(W),null;if("."===b){if(Y+=b,T(),!S(b))return B(W),null}else{for(;S(b);)Y+=b,T();"."===b&&(Y+=b,T())}for(;S(b);)Y+=b,T();if("E"===b||"e"===b){var Be="",Ce=C;if(Be+=b,T(),("+"===b||"-"===b)&&(Be+=b,T()),!S(b))return B(Ce),Y;for(Y+=Be;S(b);)Y+=b,T()}return Y}function U(){for(var Y="";S(b)||v.isValidAlpha(b);)Y+=b,T();var W=Y.charAt(0);return v.isValidAlpha(W)?Y:null}function k(Y){return b===Y?(T(),Y):null}Object.defineProperty(v,"name",{value:"Unit"}),v.prototype.constructor=v,v.prototype.type="Unit",v.prototype.isUnit=!0,v.parse=function(Y,W){if(W=W||{},C=-1,b="","string"!=typeof(_=Y))throw new TypeError("Invalid argument in Unit.parse, string expected");var Be=new v;Be.units=[];var Ce=1,Pe=!1;T(),M();var Oe=R(),re=null;if(Oe){if("BigNumber"===t.number)re=new m(Oe);else if("Fraction"===t.number)try{re=new g(Oe)}catch{re=parseFloat(Oe)}else re=parseFloat(Oe);M(),k("*")?(Ce=1,Pe=!0):k("/")&&(Ce=-1,Pe=!0)}for(var J=[],Ue=1;;){for(M();"("===b;)J.push(Ce),Ue*=Ce,Ce=1,T(),M();var Qe;if(!b)break;var it=b;if(null===(Qe=U()))throw new SyntaxError('Unexpected "'+it+'" in "'+_+'" at index '+C.toString());var Ye=q(Qe);if(null===Ye)throw new SyntaxError('Unit "'+Qe+'" not found.');var Vt=Ce*Ue;if(M(),k("^")){M();var kt=R();if(null===kt)throw new SyntaxError('In "'+Y+'", "^" must be followed by a floating-point number');Vt*=kt}Be.units.push({unit:Ye.unit,prefix:Ye.prefix,power:Vt});for(var Ot=0;Ot<G.length;Ot++)Be.dimensions[Ot]+=(Ye.unit.dimensions[Ot]||0)*Vt;for(M();")"===b;){if(0===J.length)throw new SyntaxError('Unmatched ")" in "'+_+'" at index '+C.toString());Ue/=J.pop(),T(),M()}Pe=!1,k("*")?(Ce=1,Pe=!0):k("/")?(Ce=-1,Pe=!0):Ce=1,Ye.unit.base&&(se.auto[Ye.unit.base.key]={unit:Ye.unit,prefix:Ye.prefix})}if(M(),b)throw new SyntaxError('Could not parse: "'+Y+'"');if(Pe)throw new SyntaxError('Trailing characters: "'+Y+'"');if(0!==J.length)throw new SyntaxError('Unmatched "(" in "'+_+'"');if(0===Be.units.length&&!W.allowNoUnits)throw new SyntaxError('"'+Y+'" contains no units');return Be.value=void 0!==re?Be._normalize(re):null,Be},v.prototype.clone=function(){var Y=new v;Y.fixPrefix=this.fixPrefix,Y.skipAutomaticSimplification=this.skipAutomaticSimplification,Y.value=Ur(this.value),Y.dimensions=this.dimensions.slice(0),Y.units=[];for(var W=0;W<this.units.length;W++)for(var Be in Y.units[W]={},this.units[W])qn(this.units[W],Be)&&(Y.units[W][Be]=this.units[W][Be]);return Y},v.prototype.valueType=function(){return no(this.value)},v.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},v.prototype._normalize=function(Y){if(null==Y||0===this.units.length)return Y;for(var W=Y,Be=v._getNumberConverter(no(Y)),Ce=0;Ce<this.units.length;Ce++){var Pe=Be(this.units[Ce].unit.value),Oe=Be(this.units[Ce].prefix.value),re=Be(this.units[Ce].power);W=s(W,a(s(Pe,Oe),re))}return W},v.prototype._denormalize=function(Y,W){if(null==Y||0===this.units.length)return Y;for(var Be=Y,Ce=v._getNumberConverter(no(Y)),Pe=0;Pe<this.units.length;Pe++){var Oe=Ce(this.units[Pe].unit.value),re=Ce(this.units[Pe].prefix.value),J=Ce(this.units[Pe].power);Be=o(Be,a(s(Oe,re),J))}return Be};var q=hx(Y=>{if(qn(j,Y)){var W=j[Y];return{unit:W,prefix:W.prefixes[""]}}for(var Ce in j)if(qn(j,Ce)&&N5e(Y,Ce)){var Pe=j[Ce],re=Y.substring(0,Y.length-Ce.length),J=qn(Pe.prefixes,re)?Pe.prefixes[re]:void 0;if(void 0!==J)return{unit:Pe,prefix:J}}return null},{hasher:Y=>Y[0],limit:100});function O(Y){return Y.equalBase(H.NONE)&&null!==Y.value&&!t.predictable?Y.value:Y}v.isValuelessUnit=function(Y){return null!==q(Y)},v.prototype.hasBase=function(Y){if("string"==typeof Y&&(Y=H[Y]),!Y)return!1;for(var W=0;W<G.length;W++)if(Math.abs((this.dimensions[W]||0)-(Y.dimensions[W]||0))>1e-12)return!1;return!0},v.prototype.equalBase=function(Y){for(var W=0;W<G.length;W++)if(Math.abs((this.dimensions[W]||0)-(Y.dimensions[W]||0))>1e-12)return!1;return!0},v.prototype.equals=function(Y){return this.equalBase(Y)&&d(this.value,Y.value)},v.prototype.multiply=function(Y){for(var W=this.clone(),Be=uh(Y)?Y:new v(Y),Ce=0;Ce<G.length;Ce++)W.dimensions[Ce]=(this.dimensions[Ce]||0)+(Be.dimensions[Ce]||0);for(var Pe=0;Pe<Be.units.length;Pe++){var Oe=SH({},Be.units[Pe]);W.units.push(Oe)}if(null!==this.value||null!==Be.value){var re=null===this.value?this._normalize(1):this.value,J=null===Be.value?Be._normalize(1):Be.value;W.value=s(re,J)}else W.value=null;return uh(Y)&&(W.skipAutomaticSimplification=!1),O(W)},v.prototype.divideInto=function(Y){return new v(Y).divide(this)},v.prototype.divide=function(Y){for(var W=this.clone(),Be=uh(Y)?Y:new v(Y),Ce=0;Ce<G.length;Ce++)W.dimensions[Ce]=(this.dimensions[Ce]||0)-(Be.dimensions[Ce]||0);for(var Pe=0;Pe<Be.units.length;Pe++){var Oe=SH(SH({},Be.units[Pe]),{},{power:-Be.units[Pe].power});W.units.push(Oe)}if(null!==this.value||null!==Be.value){var re=null===this.value?this._normalize(1):this.value,J=null===Be.value?Be._normalize(1):Be.value;W.value=o(re,J)}else W.value=null;return uh(Y)&&(W.skipAutomaticSimplification=!1),O(W)},v.prototype.pow=function(Y){for(var W=this.clone(),Be=0;Be<G.length;Be++)W.dimensions[Be]=(this.dimensions[Be]||0)*Y;for(var Ce=0;Ce<W.units.length;Ce++)W.units[Ce].power*=Y;return W.value=null!==W.value?a(W.value,Y):null,W.skipAutomaticSimplification=!1,O(W)},v.prototype.abs=function(){var Y=this.clone();if(null!==Y.value)if(Y._isDerived()||0===Y.units.length||0===Y.units[0].unit.offset)Y.value=l(Y.value);else{var W=Y._numberConverter(),Be=W(Y.units[0].unit.value),Ce=W(Y.units[0].unit.offset),Pe=s(Be,Ce);Y.value=i(l(r(Y.value,Pe)),Pe)}for(var Oe in Y.units)("VA"===Y.units[Oe].unit.name||"VAR"===Y.units[Oe].unit.name)&&(Y.units[Oe].unit=j.W);return Y},v.prototype.to=function(Y){var Be,W=null===this.value?this._normalize(1):this.value;if("string"==typeof Y)Be=v.parse(Y);else{if(!uh(Y))throw new Error("String or Unit expected as parameter");Be=Y.clone()}if(!this.equalBase(Be))throw new Error("Units do not match ('".concat(Be.toString(),"' != '").concat(this.toString(),"')"));if(null!==Be.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||0===this.units.length||0===Be.units.length||this.units[0].unit.offset===Be.units[0].unit.offset)Be.value=Ur(W);else{var Ce=v._getNumberConverter(no(W)),re=s(this.units[0].unit.value,this.units[0].unit.offset),Qe=s(Be.units[0].unit.value,Be.units[0].unit.offset);Be.value=r(W,Ce(i(re,Qe)))}return Be.fixPrefix=!0,Be.skipAutomaticSimplification=!0,Be},v.prototype.toNumber=function(Y){return y(this.toNumeric(Y))},v.prototype.toNumeric=function(Y){var W;return(W=Y?this.to(Y):this.clone())._isDerived()||0===W.units.length?W._denormalize(W.value):W._denormalize(W.value,W.units[0].prefix.value)},v.prototype.toString=function(){return this.format()},v.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},v.fromJSON=function(Y){var W,Be=new v(Y.value,null!==(W=Y.unit)&&void 0!==W?W:void 0);return Be.fixPrefix=Y.fixPrefix||!1,Be},v.prototype.valueOf=v.prototype.toString,v.prototype.simplify=function(){var Be,Pe,Y=this.clone(),W=[];for(var Ce in le)if(qn(le,Ce)&&Y.hasBase(H[Ce])){Be=Ce;break}if("NONE"===Be)Y.units=[];else if(Be&&qn(le,Be)&&(Pe=le[Be]),Pe)Y.units=[{unit:Pe.unit,prefix:Pe.prefix,power:1}];else{for(var Oe=!1,re=0;re<G.length;re++){var J=G[re];Math.abs(Y.dimensions[re]||0)>1e-12&&(qn(le,J)?W.push({unit:le[J].unit,prefix:le[J].prefix,power:Y.dimensions[re]||0}):Oe=!0)}W.length<Y.units.length&&!Oe&&(Y.units=W)}return Y},v.prototype.toSI=function(){for(var Y=this.clone(),W=[],Be=0;Be<G.length;Be++){var Ce=G[Be];if(Math.abs(Y.dimensions[Be]||0)>1e-12){if(!qn(se.si,Ce))throw new Error("Cannot express custom unit "+Ce+" in SI units");W.push({unit:se.si[Ce].unit,prefix:se.si[Ce].prefix,power:Y.dimensions[Be]||0})}}return Y.units=W,Y.fixPrefix=!0,Y.skipAutomaticSimplification=!0,null!==this.value?(Y.value=null,this.to(Y)):Y},v.prototype.formatUnits=function(){for(var Y="",W="",Be=0,Ce=0,Pe=0;Pe<this.units.length;Pe++)this.units[Pe].power>0?(Be++,Y+=" "+this.units[Pe].prefix.name+this.units[Pe].unit.name,Math.abs(this.units[Pe].power-1)>1e-15&&(Y+="^"+this.units[Pe].power)):this.units[Pe].power<0&&Ce++;if(Ce>0)for(var Oe=0;Oe<this.units.length;Oe++)this.units[Oe].power<0&&(Be>0?(W+=" "+this.units[Oe].prefix.name+this.units[Oe].unit.name,Math.abs(this.units[Oe].power+1)>1e-15&&(W+="^"+-this.units[Oe].power)):(W+=" "+this.units[Oe].prefix.name+this.units[Oe].unit.name,W+="^"+this.units[Oe].power));Y=Y.substr(1),W=W.substr(1),Be>1&&Ce>0&&(Y="("+Y+")"),Ce>1&&Be>0&&(W="("+W+")");var re=Y;return Be>0&&Ce>0&&(re+=" / "),re+W},v.prototype.format=function(Y){var W=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),Be=!1;for(var Ce in typeof W.value<"u"&&null!==W.value&&Gp(W.value)&&(Be=Math.abs(W.value.re)<1e-14),W.units)qn(W.units,Ce)&&W.units[Ce].unit&&("VA"===W.units[Ce].unit.name&&Be?W.units[Ce].unit=j.VAR:"VAR"===W.units[Ce].unit.name&&!Be&&(W.units[Ce].unit=j.VA));1===W.units.length&&!W.fixPrefix&&Math.abs(W.units[0].power-Math.round(W.units[0].power))<1e-14&&(W.units[0].prefix=W._bestPrefix());var Pe=W._denormalize(W.value),Oe=null!==W.value?h(Pe,Y||{}):"",re=W.formatUnits();return W.value&&Gp(W.value)&&(Oe="("+Oe+")"),re.length>0&&Oe.length>0&&(Oe+=" "),Oe+re},v.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Y=null!==this.value?l(this.value):0,W=l(this.units[0].unit.value),Be=this.units[0].prefix;if(0===Y)return Be;var Ce=this.units[0].power,Pe=Math.log(Y/Math.pow(Be.value*W,Ce))/Math.LN10-1.2;if(Pe>-2.200001&&Pe<1.800001)return Be;Pe=Math.abs(Pe);var Oe=this.units[0].unit.prefixes;for(var re in Oe)if(qn(Oe,re)){var J=Oe[re];if(J.scientific){var Ue=Math.abs(Math.log(Y/Math.pow(J.value*W,Ce))/Math.LN10-1.2);(Ue<Pe||Ue===Pe&&J.name.length<Be.name.length)&&(Be=J,Pe=Ue)}}return Be},v.prototype.splitUnit=function(Y){for(var W=this.clone(),Be=[],Ce=0;Ce<Y.length&&(W=W.to(Y[Ce]),Ce!==Y.length-1);Ce++){var Pe=W.toNumeric(),Oe=u(Pe),Ue=new v(d(Oe,Pe)?Oe:c(W.toNumeric()),Y[Ce].toString());Be.push(Ue),W=i(W,Ue)}for(var Qe=0,it=0;it<Be.length;it++)Qe=r(Qe,Be[it].value);return d(Qe,this.value)&&(W.value=0),Be.push(W),Be};var P={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};P.SHORTLONG=ll({},P.SHORT,P.LONG),P.BINARY_SHORT=ll({},P.BINARY_SHORT_SI,P.BINARY_SHORT_IEC),P.BINARY_LONG=ll({},P.BINARY_LONG_SI,P.BINARY_LONG_IEC);var G=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],H={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ae in H)qn(H,ae)&&(H[ae].key=ae);var Q={name:"",base:{},value:1,offset:0,dimensions:G.map(Y=>0)},j={meter:{name:"meter",base:H.LENGTH,prefixes:P.LONG,value:1,offset:0},inch:{name:"inch",base:H.LENGTH,prefixes:P.NONE,value:.0254,offset:0},foot:{name:"foot",base:H.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yard:{name:"yard",base:H.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mile:{name:"mile",base:H.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},link:{name:"link",base:H.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rod:{name:"rod",base:H.LENGTH,prefixes:P.NONE,value:5.0292,offset:0},chain:{name:"chain",base:H.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:H.LENGTH,prefixes:P.NONE,value:1e-10,offset:0},m:{name:"m",base:H.LENGTH,prefixes:P.SHORT,value:1,offset:0},in:{name:"in",base:H.LENGTH,prefixes:P.NONE,value:.0254,offset:0},ft:{name:"ft",base:H.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yd:{name:"yd",base:H.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mi:{name:"mi",base:H.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},li:{name:"li",base:H.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rd:{name:"rd",base:H.LENGTH,prefixes:P.NONE,value:5.02921,offset:0},ch:{name:"ch",base:H.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},mil:{name:"mil",base:H.LENGTH,prefixes:P.NONE,value:254e-7,offset:0},m2:{name:"m2",base:H.SURFACE,prefixes:P.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:H.SURFACE,prefixes:P.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:H.SURFACE,prefixes:P.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:H.SURFACE,prefixes:P.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:H.SURFACE,prefixes:P.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:H.SURFACE,prefixes:P.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:H.SURFACE,prefixes:P.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:H.SURFACE,prefixes:P.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:H.SURFACE,prefixes:P.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:H.SURFACE,prefixes:P.NONE,value:1e4,offset:0},m3:{name:"m3",base:H.VOLUME,prefixes:P.CUBIC,value:1,offset:0},L:{name:"L",base:H.VOLUME,prefixes:P.SHORT,value:.001,offset:0},l:{name:"l",base:H.VOLUME,prefixes:P.SHORT,value:.001,offset:0},litre:{name:"litre",base:H.VOLUME,prefixes:P.LONG,value:.001,offset:0},cuin:{name:"cuin",base:H.VOLUME,prefixes:P.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:H.VOLUME,prefixes:P.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:H.VOLUME,prefixes:P.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:H.VOLUME,prefixes:P.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:H.VOLUME,prefixes:P.NONE,value:15e-6,offset:0},drop:{name:"drop",base:H.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:H.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},minim:{name:"minim",base:H.VOLUME,prefixes:P.NONE,value:6.1611519921875e-8,offset:0},fluiddram:{name:"fluiddram",base:H.VOLUME,prefixes:P.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:H.VOLUME,prefixes:P.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:H.VOLUME,prefixes:P.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:H.VOLUME,prefixes:P.NONE,value:1e-6,offset:0},cup:{name:"cup",base:H.VOLUME,prefixes:P.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:H.VOLUME,prefixes:P.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:H.VOLUME,prefixes:P.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:H.VOLUME,prefixes:P.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:H.VOLUME,prefixes:P.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:H.VOLUME,prefixes:P.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:H.VOLUME,prefixes:P.NONE,value:.238480942392,offset:0},g:{name:"g",base:H.MASS,prefixes:P.SHORT,value:.001,offset:0},gram:{name:"gram",base:H.MASS,prefixes:P.LONG,value:.001,offset:0},ton:{name:"ton",base:H.MASS,prefixes:P.SHORT,value:907.18474,offset:0},t:{name:"t",base:H.MASS,prefixes:P.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:H.MASS,prefixes:P.LONG,value:1e3,offset:0},grain:{name:"grain",base:H.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:H.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:H.MASS,prefixes:P.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:H.MASS,prefixes:P.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:H.MASS,prefixes:P.NONE,value:45.359237,offset:0},stick:{name:"stick",base:H.MASS,prefixes:P.NONE,value:.115,offset:0},stone:{name:"stone",base:H.MASS,prefixes:P.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:H.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:H.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:H.MASS,prefixes:P.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:H.MASS,prefixes:P.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:H.MASS,prefixes:P.NONE,value:45.359237,offset:0},s:{name:"s",base:H.TIME,prefixes:P.SHORT,value:1,offset:0},min:{name:"min",base:H.TIME,prefixes:P.NONE,value:60,offset:0},h:{name:"h",base:H.TIME,prefixes:P.NONE,value:3600,offset:0},second:{name:"second",base:H.TIME,prefixes:P.LONG,value:1,offset:0},sec:{name:"sec",base:H.TIME,prefixes:P.LONG,value:1,offset:0},minute:{name:"minute",base:H.TIME,prefixes:P.NONE,value:60,offset:0},hour:{name:"hour",base:H.TIME,prefixes:P.NONE,value:3600,offset:0},day:{name:"day",base:H.TIME,prefixes:P.NONE,value:86400,offset:0},week:{name:"week",base:H.TIME,prefixes:P.NONE,value:604800,offset:0},month:{name:"month",base:H.TIME,prefixes:P.NONE,value:2629800,offset:0},year:{name:"year",base:H.TIME,prefixes:P.NONE,value:31557600,offset:0},decade:{name:"decade",base:H.TIME,prefixes:P.NONE,value:315576e3,offset:0},century:{name:"century",base:H.TIME,prefixes:P.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:H.TIME,prefixes:P.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:H.FREQUENCY,prefixes:P.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:H.FREQUENCY,prefixes:P.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:H.ANGLE,prefixes:P.SHORT,value:1,offset:0},radian:{name:"radian",base:H.ANGLE,prefixes:P.LONG,value:1,offset:0},deg:{name:"deg",base:H.ANGLE,prefixes:P.SHORT,value:null,offset:0},degree:{name:"degree",base:H.ANGLE,prefixes:P.LONG,value:null,offset:0},grad:{name:"grad",base:H.ANGLE,prefixes:P.SHORT,value:null,offset:0},gradian:{name:"gradian",base:H.ANGLE,prefixes:P.LONG,value:null,offset:0},cycle:{name:"cycle",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},A:{name:"A",base:H.CURRENT,prefixes:P.SHORT,value:1,offset:0},ampere:{name:"ampere",base:H.CURRENT,prefixes:P.LONG,value:1,offset:0},K:{name:"K",base:H.TEMPERATURE,prefixes:P.SHORT,value:1,offset:0},degC:{name:"degC",base:H.TEMPERATURE,prefixes:P.SHORT,value:1,offset:273.15},degF:{name:"degF",base:H.TEMPERATURE,prefixes:P.SHORT,value:new g(5,9),offset:459.67},degR:{name:"degR",base:H.TEMPERATURE,prefixes:P.SHORT,value:new g(5,9),offset:0},kelvin:{name:"kelvin",base:H.TEMPERATURE,prefixes:P.LONG,value:1,offset:0},celsius:{name:"celsius",base:H.TEMPERATURE,prefixes:P.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:H.TEMPERATURE,prefixes:P.LONG,value:new g(5,9),offset:459.67},rankine:{name:"rankine",base:H.TEMPERATURE,prefixes:P.LONG,value:new g(5,9),offset:0},mol:{name:"mol",base:H.AMOUNT_OF_SUBSTANCE,prefixes:P.SHORT,value:1,offset:0},mole:{name:"mole",base:H.AMOUNT_OF_SUBSTANCE,prefixes:P.LONG,value:1,offset:0},cd:{name:"cd",base:H.LUMINOUS_INTENSITY,prefixes:P.SHORT,value:1,offset:0},candela:{name:"candela",base:H.LUMINOUS_INTENSITY,prefixes:P.LONG,value:1,offset:0},N:{name:"N",base:H.FORCE,prefixes:P.SHORT,value:1,offset:0},newton:{name:"newton",base:H.FORCE,prefixes:P.LONG,value:1,offset:0},dyn:{name:"dyn",base:H.FORCE,prefixes:P.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:H.FORCE,prefixes:P.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:H.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:H.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:H.FORCE,prefixes:P.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:H.FORCE,prefixes:P.NONE,value:9.80665,offset:0},J:{name:"J",base:H.ENERGY,prefixes:P.SHORT,value:1,offset:0},joule:{name:"joule",base:H.ENERGY,prefixes:P.LONG,value:1,offset:0},erg:{name:"erg",base:H.ENERGY,prefixes:P.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:H.ENERGY,prefixes:P.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:H.ENERGY,prefixes:P.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:H.ENERGY,prefixes:P.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:H.ENERGY,prefixes:P.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:H.POWER,prefixes:P.SHORT,value:1,offset:0},watt:{name:"watt",base:H.POWER,prefixes:P.LONG,value:1,offset:0},hp:{name:"hp",base:H.POWER,prefixes:P.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:H.POWER,prefixes:P.SHORT,value:p.I,offset:0},VA:{name:"VA",base:H.POWER,prefixes:P.SHORT,value:1,offset:0},Pa:{name:"Pa",base:H.PRESSURE,prefixes:P.SHORT,value:1,offset:0},psi:{name:"psi",base:H.PRESSURE,prefixes:P.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:H.PRESSURE,prefixes:P.NONE,value:101325,offset:0},bar:{name:"bar",base:H.PRESSURE,prefixes:P.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:H.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:H.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:H.PRESSURE,prefixes:P.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:H.PRESSURE,prefixes:P.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:H.ELECTRIC_CHARGE,prefixes:P.LONG,value:1,offset:0},C:{name:"C",base:H.ELECTRIC_CHARGE,prefixes:P.SHORT,value:1,offset:0},farad:{name:"farad",base:H.ELECTRIC_CAPACITANCE,prefixes:P.LONG,value:1,offset:0},F:{name:"F",base:H.ELECTRIC_CAPACITANCE,prefixes:P.SHORT,value:1,offset:0},volt:{name:"volt",base:H.ELECTRIC_POTENTIAL,prefixes:P.LONG,value:1,offset:0},V:{name:"V",base:H.ELECTRIC_POTENTIAL,prefixes:P.SHORT,value:1,offset:0},ohm:{name:"ohm",base:H.ELECTRIC_RESISTANCE,prefixes:P.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:H.ELECTRIC_INDUCTANCE,prefixes:P.LONG,value:1,offset:0},H:{name:"H",base:H.ELECTRIC_INDUCTANCE,prefixes:P.SHORT,value:1,offset:0},siemens:{name:"siemens",base:H.ELECTRIC_CONDUCTANCE,prefixes:P.LONG,value:1,offset:0},S:{name:"S",base:H.ELECTRIC_CONDUCTANCE,prefixes:P.SHORT,value:1,offset:0},weber:{name:"weber",base:H.MAGNETIC_FLUX,prefixes:P.LONG,value:1,offset:0},Wb:{name:"Wb",base:H.MAGNETIC_FLUX,prefixes:P.SHORT,value:1,offset:0},tesla:{name:"tesla",base:H.MAGNETIC_FLUX_DENSITY,prefixes:P.LONG,value:1,offset:0},T:{name:"T",base:H.MAGNETIC_FLUX_DENSITY,prefixes:P.SHORT,value:1,offset:0},b:{name:"b",base:H.BIT,prefixes:P.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:H.BIT,prefixes:P.BINARY_LONG,value:1,offset:0},B:{name:"B",base:H.BIT,prefixes:P.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:H.BIT,prefixes:P.BINARY_LONG,value:8,offset:0}},K={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function oe(Y){if("BigNumber"===Y.number){var W=fH(m);j.rad.value=new m(1),j.deg.value=W.div(180),j.grad.value=W.div(200),j.cycle.value=W.times(2),j.arcsec.value=W.div(648e3),j.arcmin.value=W.div(10800)}else j.rad.value=1,j.deg.value=Math.PI/180,j.grad.value=Math.PI/200,j.cycle.value=2*Math.PI,j.arcsec.value=Math.PI/648e3,j.arcmin.value=Math.PI/10800;j.radian.value=j.rad.value,j.degree.value=j.deg.value,j.gradian.value=j.grad.value}oe(t),e&&e("config",function(Y,W){Y.number!==W.number&&oe(Y)});var se={si:{NONE:{unit:Q,prefix:P.NONE[""]},LENGTH:{unit:j.m,prefix:P.SHORT[""]},MASS:{unit:j.g,prefix:P.SHORT.k},TIME:{unit:j.s,prefix:P.SHORT[""]},CURRENT:{unit:j.A,prefix:P.SHORT[""]},TEMPERATURE:{unit:j.K,prefix:P.SHORT[""]},LUMINOUS_INTENSITY:{unit:j.cd,prefix:P.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:j.mol,prefix:P.SHORT[""]},ANGLE:{unit:j.rad,prefix:P.SHORT[""]},BIT:{unit:j.bits,prefix:P.SHORT[""]},FORCE:{unit:j.N,prefix:P.SHORT[""]},ENERGY:{unit:j.J,prefix:P.SHORT[""]},POWER:{unit:j.W,prefix:P.SHORT[""]},PRESSURE:{unit:j.Pa,prefix:P.SHORT[""]},ELECTRIC_CHARGE:{unit:j.C,prefix:P.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:j.F,prefix:P.SHORT[""]},ELECTRIC_POTENTIAL:{unit:j.V,prefix:P.SHORT[""]},ELECTRIC_RESISTANCE:{unit:j.ohm,prefix:P.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:j.H,prefix:P.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:j.S,prefix:P.SHORT[""]},MAGNETIC_FLUX:{unit:j.Wb,prefix:P.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:j.T,prefix:P.SHORT[""]},FREQUENCY:{unit:j.Hz,prefix:P.SHORT[""]}}};se.cgs=JSON.parse(JSON.stringify(se.si)),se.cgs.LENGTH={unit:j.m,prefix:P.SHORT.c},se.cgs.MASS={unit:j.g,prefix:P.SHORT[""]},se.cgs.FORCE={unit:j.dyn,prefix:P.SHORT[""]},se.cgs.ENERGY={unit:j.erg,prefix:P.NONE[""]},se.us=JSON.parse(JSON.stringify(se.si)),se.us.LENGTH={unit:j.ft,prefix:P.NONE[""]},se.us.MASS={unit:j.lbm,prefix:P.NONE[""]},se.us.TEMPERATURE={unit:j.degF,prefix:P.NONE[""]},se.us.FORCE={unit:j.lbf,prefix:P.NONE[""]},se.us.ENERGY={unit:j.BTU,prefix:P.BTU[""]},se.us.POWER={unit:j.hp,prefix:P.NONE[""]},se.us.PRESSURE={unit:j.psi,prefix:P.NONE[""]},se.auto=JSON.parse(JSON.stringify(se.si));var le=se.auto;for(var te in v.setUnitSystem=function(Y){if(!qn(se,Y))throw new Error("Unit system "+Y+" does not exist. Choices are: "+Object.keys(se).join(", "));le=se[Y]},v.getUnitSystem=function(){for(var Y in se)if(qn(se,Y)&&se[Y]===le)return Y},v.typeConverters={BigNumber:function(W){return null!=W&&W.isFraction?new m(String(W.n)).div(String(W.d)).times(String(W.s)):new m(W+"")},Fraction:function(W){return new g(W)},Complex:function(W){return W},number:function(W){return null!=W&&W.isFraction?A(W):W}},v.prototype._numberConverter=function(){var Y=v.typeConverters[this.valueType()];if(Y)return Y;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},v._getNumberConverter=function(Y){if(!v.typeConverters[Y])throw new TypeError('Unsupported type "'+Y+'"');return v.typeConverters[Y]},j)if(qn(j,te)){var ee=j[te];ee.dimensions=ee.base.dimensions}for(var Ae in K)if(qn(K,Ae)){var Ee=j[K[Ae]],ge={};for(var Se in Ee)qn(Ee,Se)&&(ge[Se]=Ee[Se]);ge.name=Ae,j[Ae]=ge}return v.isValidAlpha=function(W){return/^[a-zA-Z]$/.test(W)},v.createUnit=function(Y,W){if("object"!=typeof Y)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(W&&W.override)for(var Be in Y)if(qn(Y,Be)&&v.deleteUnit(Be),Y[Be].aliases)for(var Ce=0;Ce<Y[Be].aliases.length;Ce++)v.deleteUnit(Y[Be].aliases[Ce]);var Pe;for(var Oe in Y)qn(Y,Oe)&&(Pe=v.createUnitSingle(Oe,Y[Oe]));return Pe},v.createUnitSingle=function(Y,W){if((typeof W>"u"||null===W)&&(W={}),"string"!=typeof Y)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(qn(j,Y))throw new Error('Cannot create unit "'+Y+'": a unit with that name already exists');!function ne(Y){for(var W=0;W<Y.length;W++){if(b=Y.charAt(W),0===W&&!v.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+Y+'"');if(W>0&&!v.isValidAlpha(b)&&!S(b))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+Y+'"')}}(Y);var Oe,re,J,Be=null,Ce=[],Pe=0;if(W&&"Unit"===W.type)Be=W.clone();else if("string"==typeof W)""!==W&&(Oe=W);else{if("object"!=typeof W)throw new TypeError('Cannot create unit "'+Y+'" from "'+W.toString()+'": expecting "string" or "Unit" or "Object"');Oe=W.definition,re=W.prefixes,Pe=W.offset,J=W.baseName,W.aliases&&(Ce=W.aliases.valueOf())}if(Ce)for(var Ue=0;Ue<Ce.length;Ue++)if(qn(j,Ce[Ue]))throw new Error('Cannot create alias "'+Ce[Ue]+'": a unit with that name already exists');if(Oe&&"string"==typeof Oe&&!Be)try{Be=v.parse(Oe,{allowNoUnits:!0})}catch(Fe){throw Fe.message='Could not create unit "'+Y+'" from "'+Oe+'": '+Fe.message,Fe}else Oe&&"Unit"===Oe.type&&(Be=Oe.clone());Ce=Ce||[],Pe=Pe||0,re=re&&re.toUpperCase&&P[re.toUpperCase()]||P.NONE;var Qe={};if(Be){Qe={name:Y,value:Be.value,dimensions:Be.dimensions.slice(0),prefixes:re,offset:Pe};var kt=!1;for(var Ot in H)if(qn(H,Ot)){for(var En=!0,ot=0;ot<G.length;ot++)if(Math.abs((Qe.dimensions[ot]||0)-(H[Ot].dimensions[ot]||0))>1e-12){En=!1;break}if(En){kt=!0,Qe.base=H[Ot];break}}if(!kt){J=J||Y+"_STUFF";var wn={dimensions:Be.dimensions.slice(0)};wn.key=J,H[J]=wn,le[J]={unit:Qe,prefix:P.NONE[""]},Qe.base=H[J]}}else{if(G.indexOf(J=J||Y+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+Y+'": a base unit with that name already exists (and cannot be overridden)');for(var it in G.push(J),H)qn(H,it)&&(H[it].dimensions[G.length-1]=0);for(var Ye={dimensions:[]},Vt=0;Vt<G.length;Vt++)Ye.dimensions[Vt]=0;Ye.dimensions[G.length-1]=1,Ye.key=J,H[J]=Ye,Qe={name:Y,value:1,dimensions:H[J].dimensions.slice(0),prefixes:re,offset:Pe,base:H[J]},le[J]={unit:Qe,prefix:P.NONE[""]}}v.UNITS[Y]=Qe;for(var vn=0;vn<Ce.length;vn++){var Sn=Ce[vn],an={};for(var $ in Qe)qn(Qe,$)&&(an[$]=Qe[$]);an.name=Sn,v.UNITS[Sn]=an}return delete q.cache,new v(null,Y)},v.deleteUnit=function(Y){delete v.UNITS[Y],delete q.cache},v.PREFIXES=P,v.BASE_DIMENSIONS=G,v.BASE_UNITS=H,v.UNIT_SYSTEMS=se,v.UNITS=j,v},{isClass:!0}),aXe=ye("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,equalScalar:t,matrix:r,pow:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=fu({typed:e}),c=DA({typed:e,SparseMatrix:a}),u=ic({typed:e,equalScalar:t}),d=ul({typed:e,DenseMatrix:s}),f=io({typed:e,matrix:r,concat:o}),h={};for(var A in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,A)&&!A.includes("Matrix")&&!A.includes("Array")&&(h[A]=i.signatures[A]);var p=e(h);return e("dotPow",f({elop:p,SS:c,DS:l,Ss:u,sS:d}))}),cXe=ye("expm",["typed","abs","add","identity","inv","multiply"],n=>{var{typed:e,abs:t,add:r,identity:i,inv:s,multiply:o}=n;return e("expm",{Matrix:function(d){var f=d.size();if(2!==f.length||f[0]!==f[1])throw new RangeError("Matrix must be square (size: "+Ai(f)+")");for(var h=f[0],p=function a(u){for(var d=u.size()[0],f=0,h=0;h<d;h++){for(var A=0,p=0;p<d;p++)A+=t(u.get([h,p]));f=Math.max(A,f)}return f}(d),m=function l(u,d){for(var h=0;h<30;h++)for(var A=0;A<=h;A++){var p=h-A;if(c(u,A,p)<d)return{q:A,j:p}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(p,1e-15),g=m.q,y=m.j,v=o(d,Math.pow(2,-y)),_=i(h),C=i(h),b=1,M=v,D=-1,S=1;S<=g;S++)S>1&&(M=o(M,v),D=-D),_=r(_,o(b=b*(g-S+1)/((2*g-S+1)*S),M)),C=r(C,o(b*D,M));for(var T=o(s(C),_),B=0;B<y;B++)T=o(T,T);return $0(d)?d.createSparseMatrix(T):T}});function c(u,d,f){for(var h=1,A=2;A<=d;A++)h*=A;for(var p=h,m=d+1;m<=2*d;m++)p*=m;var g=p*(2*d+1);return 8*Math.pow(u/Math.pow(2,f),2*d)*h*h/(p*g)}}),dXe=ye("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],n=>{var{typed:e,addScalar:r,multiplyScalar:i,divideScalar:s,exp:o,tau:a,i:l,dotDivide:c,conj:u,pow:d,ceil:f,log2:h}=n;return e("fft",{Array:A,Matrix:function(v){return v.create(A(v.valueOf()),v.datatype())}});function A(y){var v=Tr(y);return 1===v.length?g(y):p(y.map(_=>A(_,v.slice(1))),0)}function p(y,v){var _=Tr(y);if(0!==v)return new Array(_[0]).fill(0).map((b,M)=>p(y[M],v-1));if(1===_.length)return g(y);function C(b){var M=Tr(b);return new Array(M[1]).fill(0).map((D,S)=>new Array(M[0]).fill(0).map((T,B)=>b[B][S]))}return C(p(C(y),1))}function g(y){var v=y.length;if(1===v)return[y[0]];if(v%2==0){for(var _=[...g(y.filter((D,S)=>S%2==0)),...g(y.filter((D,S)=>S%2==1))],C=0;C<v/2;C++){var b=_[C],M=i(_[C+v/2],o(i(i(a,l),s(-C,v))));_[C]=r(b,M),_[C+v/2]=r(b,i(-1,M))}return _}return function m(y){for(var v=y.length,_=o(s(i(-1,i(l,a)),v)),C=[],b=1-v;b<v;b++)C.push(d(_,s(d(b,2),2)));for(var M=d(2,f(h(v+v-1))),D=[...new Array(v).fill(0).map((O,P)=>i(y[P],C[v-1+P])),...new Array(M-v).fill(0)],S=[...new Array(v+v-1).fill(0).map((O,P)=>s(1,C[P])),...new Array(M-(v+v-1)).fill(0)],T=g(D),B=g(S),R=new Array(M).fill(0).map((O,P)=>i(T[P],B[P])),U=c(u(A(u(R))),M),k=[],q=v-1;q<v+v-1;q++)k.push(i(U[q],C[q]));return k}(y)}}),fXe=ye("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],n=>{var{typed:e,config:t,BigNumber:s,Complex:o}=n;return e("gamma",{number:lF,Complex:function a(c){if(0===c.im)return lF(c.re);if(c.re<.5){var u=new o(1-c.re,-c.im),d=new o(Math.PI*c.re,Math.PI*c.im);return new o(Math.PI).div(d.sin()).div(a(u))}c=new o(c.re-1,c.im);for(var f=new o(kb[0],0),h=1;h<kb.length;++h){var A=new o(kb[h],0);f=f.add(A.div(c.add(h)))}var p=new o(c.re+sie+.5,c.im),m=Math.sqrt(2*Math.PI),g=p.pow(c.add(.5)),y=p.neg().exp();return f.mul(m).mul(g).mul(y)},BigNumber:function(u){if(u.isInteger())return u.isNegative()||u.isZero()?new s(1/0):l(u.minus(1));if(!u.isFinite())return new s(u.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(c){if(c<8)return new s([1,1,2,6,24,120,720,5040][c]);var u=t.precision+(0|Math.log(c.toNumber())),d=s.clone({precision:u});if(c%2==1)return c.times(l(new s(c-1)));for(var f=c,h=new d(c),A=c.toNumber();f>2;)h=h.times(A+=f-=2);return new s(h.toPrecision(s.precision))}}),pXe=ye("ifft",["typed","fft","dotDivide","conj"],n=>{var{typed:e,fft:t,dotDivide:r,conj:i}=n;return e("ifft",{"Array | Matrix":function(o){var a=mr(o)?o.size():Tr(o);return r(i(t(i(o))),a.reduce((l,c)=>l*c,1))}})}),Moe="createUnit",mXe=ye(Moe,["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e(Moe,{"Object, Object":function(i,s){return t.createUnit(i,s)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,s,o){var a={};return a[i]=s,t.createUnit(a,o)},"string, Unit | string | Object":function(i,s){var o={};return o[i]=s,t.createUnit(o,{})},string:function(i){var s={};return s[i]={},t.createUnit(s,{})}})}),_Xe=ye("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],n=>{var{typed:e,matrix:t,multiply:r,equalScalar:i,divideScalar:s,inv:o}=n,a=ic({typed:e,equalScalar:i}),l=wf({typed:e});return e("divide",wee({"Array | Matrix, Array | Matrix":function(u,d){return r(u,o(d))},"DenseMatrix, any":function(u,d){return l(u,d,s,!1)},"SparseMatrix, any":function(u,d){return a(u,d,s,!1)},"Array, any":function(u,d){return l(t(u),d,s,!1).valueOf()},"any, Array | Matrix":function(u,d){return r(u,o(d))}},s.signatures))}),wXe=ye("factorial",["typed","gamma"],n=>{var{typed:e,gamma:t}=n;return e("factorial",{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(r=>i=>Qr(i,r))})});function Boe(n,e){var t,r=e.length,i=[];if(n)for(t=0;t<r;t++)i[n[t]]=e[t];else for(t=0;t<r;t++)i[t]=e[t];return i}var EXe=ye("lusolve",["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],n=>{var{typed:e,matrix:t,lup:r,slu:i,usolve:s,lsolve:o,DenseMatrix:a}=n,l=mx({DenseMatrix:a});return e("lusolve",{"Array, Array | Matrix":function(f,h){f=t(f);var A=r(f);return u(A.L,A.U,A.p,null,h).valueOf()},"DenseMatrix, Array | Matrix":function(f,h){var A=r(f);return u(A.L,A.U,A.p,null,h)},"SparseMatrix, Array | Matrix":function(f,h){var A=r(f);return u(A.L,A.U,A.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(f,h,A,p){var m=i(f,A,p);return u(m.L,m.U,m.p,m.q,h)},"Object, Array | Matrix":function(f,h){return u(f.L,f.U,f.p,f.q,h)}});function c(d){if(mr(d))return d;if(Vs(d))return t(d);throw new TypeError("Invalid Matrix LU decomposition")}function u(d,f,h,A,p){d=c(d),f=c(f),h&&((p=l(d,p,!0))._data=Boe(h,p._data));var m=o(d,p),g=s(f,m);return A&&(g._data=Boe(A,g._data)),g}}),Ioe="multinomial",xXe=ye(Ioe,["typed","add","divide","multiply","factorial","isInteger","isPositive"],n=>{var{typed:e,add:t,divide:r,multiply:i,factorial:s,isInteger:o,isPositive:a}=n;return e(Ioe,{"Array | Matrix":function(c){var u=0,d=1;return qp(c,function(f){if(!o(f)||!a(f))throw new TypeError("Positive integer value expected in function multinomial");u=t(u,f),d=i(d,s(f))}),r(s(u),d)}})}),Foe="permutations",MXe=ye(Foe,["typed","factorial"],n=>{var{typed:e,factorial:t}=n;return e(Foe,{"number | BigNumber":t,"number, number":function(i,s){if(!Zn(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Zn(s)||s<0)throw new TypeError("Positive integer value expected in function permutations");if(s>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Xp(i-s+1,i)},"BigNumber, BigNumber":function(i,s){var o,a;if(!Roe(i)||!Roe(s))throw new TypeError("Positive integer value expected in function permutations");if(s.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");for(o=i.mul(0).add(1),a=i.minus(s).plus(1);a.lte(i);a=a.plus(1))o=o.times(a);return o}})});function Roe(n){return n.isInteger()&&n.gte(0)}var Ooe="polynomialRoot",BXe=ye(Ooe,["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],n=>{var{typed:e,isZero:t,equalScalar:r,add:i,subtract:s,multiply:o,divide:a,sqrt:l,unaryMinus:c,cbrt:u,typeOf:d,im:f,re:h}=n;return e(Ooe,{"number|Complex, ...number|Complex":(A,p)=>{for(var m=[A,...p];m.length>0&&t(m[m.length-1]);)m.pop();if(m.length<2)throw new RangeError("Polynomial [".concat(A,", ").concat(p,"] must have a non-zero non-constant coefficient"));switch(m.length){case 2:return[c(a(m[0],m[1]))];case 3:var[g,y,v]=m,_=o(2,v),C=o(y,y),b=o(4,v,g);if(r(C,b))return[a(c(y),_)];var M=l(s(C,b));return[a(s(M,y),_),a(s(c(M),y),_)];case 4:var[D,S,T,B]=m,R=c(o(3,B)),U=o(T,T),k=o(3,B,S),q=i(o(2,T,T,T),o(27,B,B,D)),O=o(9,B,T,S);if(r(U,k)&&r(q,O))return[a(T,R)];var ve,P=s(U,k),G=s(q,O),H=i(o(18,B,T,S,D),o(T,T,S,S)),ae=i(o(4,T,T,T,D),o(4,B,S,S,S),o(27,B,B,D,D));return r(H,ae)?[a(s(o(4,B,T,S),i(o(9,B,B,D),o(T,T,T))),o(B,P)),a(s(o(9,B,D),o(T,S)),o(2,P))]:(ve=r(U,k)?G:a(i(G,l(s(o(G,G),o(4,P,P,P)))),2),u(ve,!0).toArray().map(K=>a(i(T,K,a(P,K)),R)).map(K=>"Complex"===d(K)&&r(h(K),h(K)+f(K))?h(K):K));default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(m))}}})}),IXe=ye("setSize",["typed","compareNatural"],n=>{var{typed:e,compareNatural:t}=n;return e("setSize",{"Array | Matrix":function(i){return Array.isArray(i)?ts(i).length:ts(i.toArray()).length},"Array | Matrix, boolean":function(i,s){if(!1===s||0===i.length)return Array.isArray(i)?ts(i).length:ts(i.toArray()).length;for(var o=ts(Array.isArray(i)?i:i.toArray()).sort(t),a=1,l=1;l<o.length;l++)0!==t(o[l],o[l-1])&&a++;return a}})});function Loe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}var PXe=ye("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,max:o,map:a,abs:l,isPositive:c,isNegative:u,larger:d,smaller:f,matrix:h,bignumber:A,unaryMinus:p}=n;function m(D){return function(S,T,B,R){if(2!==T.length||!T.every(b)&&!T.every(uh))throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var k=T[0],q=T[1],O=d(q,k),P=R.firstStep;if(void 0!==P&&!c(P))throw new Error('"firstStep" must be positive');var G=R.maxStep;if(void 0!==G&&!c(G))throw new Error('"maxStep" must be positive');var H=R.minStep;if(H&&u(H))throw new Error('"minStep" must be positive or zero');var ae=[k,q,P,H,G].filter(Ue=>void 0!==Ue);if(!ae.every(b)&&!ae.every(uh))throw new Error('Inconsistent type of "t" dependant variables');for(var Q=R.tol?R.tol:1e-4,j=R.minDelta?R.minDelta:.2,K=R.maxDelta?R.maxDelta:5,oe=R.maxIter?R.maxIter:1e4,se=[k,q,...B,G,H].some(Kr),[le,te,ee,Ae]=se?[A(D.a),A(D.c),A(D.b),A(D.bp)]:[D.a,D.c,D.b,D.bp],Ee=P?O?P:p(P):s(r(q,k),1),ge=[k],Se=[B],ne=r(ee,Ae),Y=0,W=0,Be=function _(D){return D?f:d}(O),Ce=function C(D){var S=D?d:f;return function(T,B,R){var U=t(T,R);return S(U,B)?r(B,T):R}}(O);Be(ge[Y],q);){var Pe=[];Ee=Ce(ge[Y],q,Ee),Pe.push(S(ge[Y],Se[Y]));for(var Oe=1;Oe<te.length;++Oe)Pe.push(S(t(ge[Y],i(te[Oe],Ee)),t(Se[Y],i(Ee,le[Oe],Pe))));var re=o(l(a(i(ne,Pe),Ue=>uh(Ue)?Ue.value:Ue)));re<Q&&Q/re>1/4&&(ge.push(t(ge[Y],Ee)),Se.push(t(Se[Y],i(Ee,ee,Pe))),Y++);var J=.84*(Q/re)**.2;if(f(J,j)?J=j:d(J,K)&&(J=K),J=se?A(J):J,Ee=i(Ee,J),G&&d(l(Ee),G)?Ee=O?G:p(G):H&&f(l(Ee),H)&&(Ee=O?H:p(H)),++W>oe)throw new Error("Maximum number of iterations reached, try changing options")}return{t:ge,y:Se}}}function g(D,S,T,B){return m({a:[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(D,S,T,B)}function y(D,S,T,B){return m({a:[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(D,S,T,B)}function v(D,S,T,B){var R=B.method?B.method:"RK45",U={RK23:g,RK45:y};if(R.toUpperCase()in U){var k=function FXe(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Loe(Object(t),!0).forEach(function(r){cl(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Loe(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({},B);return delete k.method,U[R.toUpperCase()](D,S,T,k)}var q=Object.keys(U).map(P=>'"'.concat(P,'"')),O="".concat(q.slice(0,-1).join(", ")," and ").concat(q.slice(-1));throw new Error('Unavailable method "'.concat(R,'". Available methods are ').concat(O))}function b(D){return Kr(D)||$r(D)}function M(D,S,T,B){var R=v(D,S.toArray(),T.toArray(),B);return{t:h(R.t),y:h(R.y)}}return e("solveODE",{"function, Array, Array, Object":v,"function, Matrix, Matrix, Object":M,"function, Array, Array":(D,S,T)=>v(D,S,T,{}),"function, Matrix, Matrix":(D,S,T)=>M(D,S,T,{}),"function, Array, number | BigNumber | Unit":(D,S,T)=>{var B=v(D,S,[T],{});return{t:B.t,y:B.y.map(R=>R[0])}},"function, Matrix, number | BigNumber | Unit":(D,S,T)=>{var B=v(D,S.toArray(),[T],{});return{t:h(B.t),y:h(B.y.map(R=>R[0]))}},"function, Array, number | BigNumber | Unit, Object":(D,S,T,B)=>{var R=v(D,S,[T],B);return{t:R.t,y:R.y.map(U=>U[0])}},"function, Matrix, number | BigNumber | Unit, Object":(D,S,T,B)=>{var R=v(D,S.toArray(),[T],B);return{t:h(R.t),y:h(R.y.map(U=>U[0]))}}})}),Uoe="stirlingS2",UXe=ye(Uoe,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],n=>{var{typed:e,addScalar:t,multiplyScalar:i,isNegative:c,isInteger:u,number:d,bignumber:f,larger:h}=n,A=[],p=[];return e(Uoe,{"number | BigNumber, number | BigNumber":function(g,y){if(!u(g)||c(g)||!u(y)||c(y))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(h(y,g))throw new TypeError("k must be less than or equal to n in function stirlingS2");var v=!($r(g)&&$r(y)),_=v?p:A,C=v?f:d,b=d(g),M=d(y);if(_[b]&&_[b].length>M)return _[b][M];for(var D=0;D<=b;++D)if(_[D]||(_[D]=[C(0===D?1:0)]),0!==D)for(var S=_[D],T=_[D-1],B=S.length;B<=D&&B<=M;++B)S[B]=B===D?1:t(i(C(B),T[B]),T[B-1]);return _[b][M]}})}),HXe=ye("unit",["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e("unit",{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,s){return new t(i,s)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>Qr(i,r))})}),Hoe="bellNumbers",QXe=ye(Hoe,["typed","addScalar","isNegative","isInteger","stirlingS2"],n=>{var{typed:e,addScalar:t,isNegative:r,isInteger:i,stirlingS2:s}=n;return e(Hoe,{"number | BigNumber":function(a){if(!i(a)||r(a))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,c=0;c<=a;c++)l=t(l,s(a,c));return l}})});var qXe=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],WXe=ye("eigs",qXe,n=>{var{config:e,typed:t,matrix:r,addScalar:i,subtract:s,equal:o,abs:a,atan:l,cos:c,sin:u,multiplyScalar:d,divideScalar:f,inv:h,bignumber:A,multiply:p,add:m,larger:g,column:y,flatten:v,number:_,complex:C,sqrt:b,diag:M,size:D,reshape:S,qr:T,usolve:B,usolveAll:R,im:U,re:k,smaller:q,matrixFromColumns:O,dot:P}=n,G=function GXe(n){var{config:e,addScalar:t,subtract:r,abs:i,atan:s,cos:o,sin:a,multiplyScalar:l,inv:c,bignumber:u,multiply:d,add:f}=n;function m(S,T,B){return Math.abs(T-S)<=e.relTol?Math.PI/4:.5*Math.atan(2*B/(T-S))}function g(S,T,B){var R=r(T,S);return i(R)<=e.relTol?u(-1).acos().div(4):l(.5,s(d(2,B,c(R))))}function y(S,T,B,R){for(var U=S.length,k=Math.cos(T),q=Math.sin(T),O=Array(U).fill(0),P=Array(U).fill(0),G=0;G<U;G++)O[G]=k*S[G][B]-q*S[G][R],P[G]=q*S[G][B]+k*S[G][R];for(var H=0;H<U;H++)S[H][B]=O[H],S[H][R]=P[H];return S}function v(S,T,B,R){for(var U=S.length,k=o(T),q=a(T),O=Array(U).fill(u(0)),P=Array(U).fill(u(0)),G=0;G<U;G++)O[G]=r(l(k,S[G][B]),l(q,S[G][R])),P[G]=t(l(q,S[G][B]),l(k,S[G][R]));for(var H=0;H<U;H++)S[H][B]=O[H],S[H][R]=P[H];return S}function _(S,T,B,R){for(var U=S.length,k=u(o(T)),q=u(a(T)),O=l(k,k),P=l(q,q),G=Array(U).fill(u(0)),H=Array(U).fill(u(0)),ae=d(u(2),k,q,S[B][R]),ve=t(r(l(O,S[B][B]),ae),l(P,S[R][R])),Q=f(l(P,S[B][B]),ae,l(O,S[R][R])),j=0;j<U;j++)G[j]=r(l(k,S[B][j]),l(q,S[R][j])),H[j]=t(l(q,S[B][j]),l(k,S[R][j]));S[B][B]=ve,S[R][R]=Q,S[B][R]=u(0),S[R][B]=u(0);for(var K=0;K<U;K++)K!==B&&K!==R&&(S[B][K]=G[K],S[K][B]=G[K],S[R][K]=H[K],S[K][R]=H[K]);return S}function C(S,T,B,R){for(var U=S.length,k=Math.cos(T),q=Math.sin(T),O=k*k,P=q*q,G=Array(U).fill(0),H=Array(U).fill(0),ae=O*S[B][B]-2*k*q*S[B][R]+P*S[R][R],ve=P*S[B][B]+2*k*q*S[B][R]+O*S[R][R],Q=0;Q<U;Q++)G[Q]=k*S[B][Q]-q*S[R][Q],H[Q]=q*S[B][Q]+k*S[R][Q];S[B][B]=ae,S[R][R]=ve,S[B][R]=0,S[R][B]=0;for(var j=0;j<U;j++)j!==B&&j!==R&&(S[B][j]=G[j],S[j][B]=G[j],S[R][j]=H[j],S[j][R]=H[j]);return S}function b(S){for(var T=S.length,B=0,R=[0,1],U=0;U<T;U++)for(var k=U+1;k<T;k++)Math.abs(B)<Math.abs(S[U][k])&&(B=Math.abs(S[U][k]),R=[U,k]);return[R,B]}function M(S){for(var T=S.length,B=0,R=[0,1],U=0;U<T;U++)for(var k=U+1;k<T;k++)i(B)<i(S[U][k])&&(B=i(S[U][k]),R=[U,k]);return[R,B]}function D(S,T,B){var k,R=S.length,U=Array(R);if(B){k=Array(R);for(var q=0;q<R;q++)k[q]=Array(R)}for(var O=0;O<R;O++){for(var P=0,G=S[0],H=0;H<S.length;H++)i(S[H])<i(G)&&(G=S[P=H]);if(U[O]=S.splice(P,1)[0],B)for(var ae=0;ae<R;ae++)k[O][ae]=T[ae][P],T[ae].splice(P,1)}if(!B)return{values:U};var ve=k.map((Q,j)=>({value:U[j],vector:Q}));return{values:U,eigenvectors:ve}}return function h(S,T){var B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.relTol,R=arguments.length>3?arguments[3]:void 0,U=arguments.length>4?arguments[4]:void 0;if("number"===R)return function A(S,T,B){var k,q,R=S.length,U=Math.abs(T/R);if(B){q=new Array(R);for(var O=0;O<R;O++)q[O]=Array(R).fill(0),q[O][O]=1}for(var P=b(S);Math.abs(P[1])>=Math.abs(U);){var G=P[0][0],H=P[0][1];S=C(S,k=m(S[G][G],S[H][H],S[G][H]),G,H),B&&(q=y(q,k,G,H)),P=b(S)}for(var ae=Array(R).fill(0),ve=0;ve<R;ve++)ae[ve]=S[ve][ve];return D(Ur(ae),q,B)}(S,B,U);if("BigNumber"===R)return function p(S,T,B){var k,q,R=S.length,U=i(T/R);if(B){q=new Array(R);for(var O=0;O<R;O++)q[O]=Array(R).fill(0),q[O][O]=1}for(var P=M(S);i(P[1])>=i(U);){var G=P[0][0],H=P[0][1];S=_(S,k=g(S[G][G],S[H][H],S[G][H]),G,H),B&&(q=v(q,k,G,H)),P=M(S)}for(var ae=Array(R).fill(0),ve=0;ve<R;ve++)ae[ve]=S[ve][ve];return D(Ur(ae),q,B)}(S,B,U);throw TypeError("Unsupported data type: "+R)}}({config:e,addScalar:i,subtract:s,column:y,flatten:v,equal:o,abs:a,atan:l,cos:c,sin:u,multiplyScalar:d,inv:h,bignumber:A,complex:C,multiply:p,add:m}),H=function zXe(n){var{addScalar:e,subtract:t,flatten:r,multiply:i,multiplyScalar:s,divideScalar:o,sqrt:a,abs:l,bignumber:c,diag:u,size:d,reshape:f,inv:h,qr:A,usolve:p,usolveAll:m,equal:g,complex:y,larger:v,smaller:_,dot:b}=n;function R(Q,j,K,oe){var se=e(Q,oe),le=t(s(Q,oe),s(j,K)),te=s(se,.5),ee=s(a(t(s(se,se),s(4,le))),.5);return[e(te,ee),t(te,ee)]}function U(Q,j,K,oe,se,le,te,ee){var Ae="BigNumber"===ee,Ee="Complex"===ee,ge=Ae?c(0):Ee?y(0):0,Se=Ae?c(1):Ee?y(1):1;if(_(l(K),te))return[[Se,ge],[ge,Se]];if(v(l(t(se,le)),te))return[[t(se,oe),t(le,oe)],[K,K]];var ne=t(Q,se),Y=t(oe,se);return _(l(j),te)&&_(l(Y),te)?[[ne,Se],[K,ge]]:[[j,ge],[Y,Se]]}function k(Q,j){for(var K=0;K<Q.length;K++)Q[K].push(...Array(j-Q[K].length).fill(0));for(var oe=Q.length;oe<j;oe++)Q.push(Array(j).fill(0)),Q[oe][oe]=1;return Q}function O(Q,j,K){for(var oe=0;oe<Q.length;oe++)if(K(Q[oe],j))return oe;return-1}function P(Q,j,K,oe,se){for(var te,le="BigNumber"===se?c(1e3):1e3,ee=0;ee<5;++ee){te=G(j,K,se);try{te=p(Q,te)}catch{continue}if(v(ae(te),le))break}if(ee>=5)return null;for(ee=0;;){var Ae=p(Q,te);if(_(ae(H(te,[Ae])),oe))break;if(++ee>=10)return null;te=ve(Ae)}return te}function G(Q,j,K){var oe="BigNumber"===K,se="Complex"===K,le=Array(Q).fill(0).map(te=>2*Math.random()-1);return oe&&(le=le.map(te=>c(te))),se&&(le=le.map(te=>y(te))),ve(le=H(le,j),K)}function H(Q,j){var K=d(Q);for(var oe of j)oe=f(oe,K),Q=t(Q,i(o(b(oe,Q),b(oe,oe)),oe));return Q}function ae(Q){return l(a(b(Q,Q)))}function ve(Q,j){var oe="Complex"===j,se="BigNumber"===j?c(1):oe?y(1):1;return i(o(se,ae(Q)),Q)}return function M(Q,j,K,oe){var se=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],le=function D(Q,j,K,oe,se){var ne,le="BigNumber"===oe,te="Complex"===oe,ee=le?c(0):0,Ae=le?c(1):te?y(1):1,Ee=le?c(1):1,ge=le?c(10):2,Se=s(ge,ge);se&&(ne=Array(j).fill(Ae));for(var Y=!1;!Y;){Y=!0;for(var W=0;W<j;W++){for(var Be=ee,Ce=ee,Pe=0;Pe<j;Pe++)W!==Pe&&(Be=e(Be,l(Q[Pe][W])),Ce=e(Ce,l(Q[W][Pe])));if(!g(Be,0)&&!g(Ce,0)){for(var Oe=Ee,re=Be,J=o(Ce,ge),Ue=s(Ce,ge);_(re,J);)re=s(re,Se),Oe=s(Oe,ge);for(;v(re,Ue);)re=o(re,Se),Oe=o(Oe,ge);if(_(o(e(re,Ce),Oe),s(e(Be,Ce),.95))){Y=!1;for(var it=o(1,Oe),Ye=0;Ye<j;Ye++)W!==Ye&&(Q[W][Ye]=s(Q[W][Ye],it),Q[Ye][W]=s(Q[Ye][W],Oe));se&&(ne[W]=s(ne[W],it))}}}}return se?u(ne):null}(Q,j,0,oe,se);!function S(Q,j,K,oe,se,le){var te="BigNumber"===oe,ee="Complex"===oe,Ae=te?c(0):ee?y(0):0;te&&(K=c(K));for(var Ee=0;Ee<j-2;Ee++){for(var ge=0,Se=Ae,ne=Ee+1;ne<j;ne++){var Y=Q[ne][Ee];_(l(Se),l(Y))&&(Se=Y,ge=ne)}if(!_(l(Se),K)){if(ge!==Ee+1){var W=Q[ge];Q[ge]=Q[Ee+1],Q[Ee+1]=W;for(var Be=0;Be<j;Be++){var Ce=Q[Be][ge];Q[Be][ge]=Q[Be][Ee+1],Q[Be][Ee+1]=Ce}if(se){var Pe=le[ge];le[ge]=le[Ee+1],le[Ee+1]=Pe}}for(var Oe=Ee+2;Oe<j;Oe++){var re=o(Q[Oe][Ee],Se);if(0!==re){for(var J=0;J<j;J++)Q[Oe][J]=t(Q[Oe][J],s(re,Q[Ee+1][J]));for(var Ue=0;Ue<j;Ue++)Q[Ue][Ee+1]=e(Q[Ue][Ee+1],s(re,Q[Ue][Oe]));if(se)for(var Qe=0;Qe<j;Qe++)le[Oe][Qe]=t(le[Oe][Qe],s(re,le[Ee+1][Qe]))}}}}}(Q,j,K,oe,se,le);var{values:te,C:ee}=function T(Q,j,K,oe,se){var le="BigNumber"===oe,te="Complex"===oe,ee=le?c(1):te?y(1):1;le&&(K=c(K));for(var Ae=Ur(Q),Ee=[],ge=j,Se=[],ne=se?u(Array(j).fill(ee)):void 0,Y=se?u(Array(ge).fill(ee)):void 0,W=0;W<=100;){W+=1;for(var Be=Ae[ge-1][ge-1],Ce=0;Ce<ge;Ce++)Ae[Ce][Ce]=t(Ae[Ce][Ce],Be);var{Q:Pe,R:Oe}=A(Ae);Ae=i(Oe,Pe);for(var re=0;re<ge;re++)Ae[re][re]=e(Ae[re][re],Be);if(se&&(Y=i(Y,Pe)),1===ge||_(l(Ae[ge-1][ge-2]),K)){W=0,Ee.push(Ae[ge-1][ge-1]),se&&(Se.unshift([[1]]),k(Y,j),ne=i(ne,Y),ge>1&&(Y=u(Array(ge-1).fill(ee)))),ge-=1,Ae.pop();for(var J=0;J<ge;J++)Ae[J].pop()}else if(2===ge||_(l(Ae[ge-2][ge-3]),K)){W=0;var Ue=R(Ae[ge-2][ge-2],Ae[ge-2][ge-1],Ae[ge-1][ge-2],Ae[ge-1][ge-1]);Ee.push(...Ue),se&&(Se.unshift(U(Ae[ge-2][ge-2],Ae[ge-2][ge-1],Ae[ge-1][ge-2],Ae[ge-1][ge-1],Ue[0],Ue[1],K,oe)),k(Y,j),ne=i(ne,Y),ge>2&&(Y=u(Array(ge-2).fill(ee)))),ge-=2,Ae.pop(),Ae.pop();for(var Qe=0;Qe<ge;Qe++)Ae[Qe].pop(),Ae[Qe].pop()}if(0===ge)break}if(Ee.sort((Vt,kt)=>+t(l(Vt),l(kt))),W>100){var it=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+Ee.join(", "));throw it.values=Ee,it.vectors=[],it}var Ye=se?i(ne,function q(Q,j){for(var K=[],oe=0;oe<j;oe++)K[oe]=Array(j).fill(0);var se=0;for(var le of Q){for(var te=le.length,ee=0;ee<te;ee++)for(var Ae=0;Ae<te;Ae++)K[se+ee][se+Ae]=le[ee][Ae];se+=te}return K}(Se,j)):void 0;return{values:Ee,C:Ye}}(Q,j,K,oe,se);if(se){var Ae=function B(Q,j,K,oe,se,le,te){var ee=h(K),Ae=i(ee,Q,K),Ee="BigNumber"===te,ge="Complex"===te,Se=Ee?c(0):ge?y(0):0,ne=Ee?c(1):ge?y(1):1,Y=[],W=[];for(var Be of se){var Ce=O(Y,Be,g);-1===Ce?(Y.push(Be),W.push(1)):W[Ce]+=1}for(var Pe=[],Oe=Y.length,re=Array(j).fill(Se),J=u(Array(j).fill(ne)),Ue=function(){var Ye=Y[Qe],Vt=t(Ae,i(Ye,J)),kt=m(Vt,re);for(kt.shift();kt.length<W[Qe];){var Ot=P(Vt,j,kt,le,te);if(null===Ot)break;kt.push(Ot)}var En=i(h(oe),K);kt=kt.map(ot=>i(En,ot)),Pe.push(...kt.map(ot=>({value:Ye,vector:r(ot)})))},Qe=0;Qe<Oe;Qe++)Ue();return Pe}(Q,j,ee,le,te,K,oe);return{values:te,eigenvectors:Ae}}return{values:te}}}({config:e,addScalar:i,subtract:s,multiply:p,multiplyScalar:d,flatten:v,divideScalar:f,sqrt:b,abs:a,bignumber:A,diag:M,size:D,reshape:S,qr:T,inv:h,usolve:B,usolveAll:R,equal:o,complex:C,larger:g,smaller:q,matrixFromColumns:O,dot:P});return t("eigs",{Array:function(le){return ae(r(le))},"Array, number|BigNumber":function(le,te){return ae(r(le),{precision:te})},"Array, Object":(se,le)=>ae(r(se),le),Matrix:function(le){return ae(le,{matricize:!0})},"Matrix, number|BigNumber":function(le,te){return ae(le,{precision:te,matricize:!0})},"Matrix, Object":function(le,te){var ee={matricize:!0};return ll(ee,te),ae(le,ee)}});function ae(se){var le,te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ee=!("eigenvectors"in te)||te.eigenvectors,Ee=function ve(se,le,te){var ee=se.toArray(),Ae=se.size();if(2!==Ae.length||Ae[0]!==Ae[1])throw new RangeError("Matrix must be square (size: ".concat(Ai(Ae),")"));var Ee=Ae[0];if(function j(se,le,te){for(var ee=0;ee<le;ee++)for(var Ae=0;Ae<le;Ae++)if(g(A(a(U(se[ee][Ae]))),te))return!1;return!0}(ee,Ee,le)&&(function K(se,le){for(var te=0;te<le;te++)for(var ee=0;ee<le;ee++)se[te][ee]=k(se[te][ee])}(ee,Ee),function Q(se,le,te){for(var ee=0;ee<le;ee++)for(var Ae=ee;Ae<le;Ae++)if(g(A(a(s(se[ee][Ae],se[Ae][ee]))),te))return!1;return!0}(ee,Ee,le))){var ge=oe(se,ee,Ee);return G(ee,Ee,le,ge,te)}var Se=oe(se,ee,Ee);return H(ee,Ee,le,Se,te)}(se,null!==(le=te.precision)&&void 0!==le?le:e.relTol,ee);return te.matricize&&(Ee.values=r(Ee.values),ee&&(Ee.eigenvectors=Ee.eigenvectors.map(ge=>{var{value:Se,vector:ne}=ge;return{value:Se,vector:r(ne)}}))),ee&&Object.defineProperty(Ee,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),Ee}function oe(se,le,te){var ee=se.datatype();if("number"===ee||"BigNumber"===ee||"Complex"===ee)return ee;for(var Ae=!1,Ee=!1,ge=!1,Se=0;Se<te;Se++)for(var ne=0;ne<te;ne++){var Y=le[Se][ne];if($r(Y)||nx(Y))Ae=!0;else if(Kr(Y))Ee=!0;else{if(!Gp(Y))throw TypeError("Unsupported type in Matrix: "+no(Y));ge=!0}}if(Ee&&ge&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),ge){for(var W=0;W<te;W++)for(var Be=0;Be<te;Be++)le[W][Be]=C(le[W][Be]);return"Complex"}if(Ee){for(var Ce=0;Ce<te;Ce++)for(var Pe=0;Pe<te;Pe++)le[Ce][Pe]=A(le[Ce][Pe]);return"BigNumber"}if(Ae){for(var Oe=0;Oe<te;Oe++)for(var re=0;re<te;re++)le[Oe][re]=_(le[Oe][re]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),Voe="kldivergence",$Xe=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],KXe=ye(Voe,$Xe,n=>{var{typed:e,matrix:t,divide:r,sum:i,multiply:s,map:o,dotDivide:a,log:l,isNumeric:c}=n;return e(Voe,{"Array, Array":function(f,h){return u(t(f),t(h))},"Matrix, Array":function(f,h){return u(f,t(h))},"Array, Matrix":function(f,h){return u(t(f),h)},"Matrix, Matrix":function(f,h){return u(f,h)}});function u(d,f){var h=f.size().length,A=d.size().length;if(h>1)throw new Error("first object must be one dimensional");if(A>1)throw new Error("second object must be one dimensional");if(h!==A)throw new Error("Length of two vectors must be equal");if(0===i(d))throw new Error("Sum of elements in first object must be non zero");if(0===i(f))throw new Error("Sum of elements in second object must be non zero");var g=r(d,i(d)),y=r(f,i(f)),v=i(s(g,o(a(g,y),_=>l(_))));return c(v)?v:Number.NaN}}),XXe=["typed","add","divide","compare","partitionSelect"],YXe=ye("median",XXe,n=>{var{typed:e,add:t,divide:r,compare:i,partitionSelect:s}=n;function o(c){try{var u=(c=ts(c.valueOf())).length;if(0===u)throw new Error("Cannot calculate median of an empty array");if(u%2==0){for(var d=u/2-1,f=s(c,d+1),h=c[d],A=0;A<d;++A)i(c[A],h)>0&&(h=c[A]);return l(h,f)}var p=s(c,(u-1)/2);return a(p)}catch(m){throw Au(m,"median")}}var a=e({"number | BigNumber | Complex | Unit":function(u){return u}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(u,d){return r(t(u,d),2)}});return e("median",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,d){throw new Error("median(A, dim) is not yet supported")},"...":function(u){if(Bb(u))throw new TypeError("Scalar values expected in function median");return o(u)}})}),JXe=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],ZXe=ye("corr",JXe,n=>{var{typed:e,matrix:t,sqrt:r,sum:i,add:s,subtract:o,multiply:a,pow:l,divide:c}=n;return e("corr",{"Array, Array":function(h,A){return u(h,A)},"Matrix, Matrix":function(h,A){var p=u(h.toArray(),A.toArray());return Array.isArray(p)?t(p):p}});function u(f,h){var A=[];if(Array.isArray(f[0])&&Array.isArray(h[0])){if(f.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var p=0;p<f.length;p++){if(f[p].length!==h[p].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");A.push(d(f[p],h[p]))}return A}if(f.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return d(f,h)}function d(f,h){var A=f.length,p=i(f),m=i(h),g=f.reduce((b,M,D)=>s(b,a(M,h[D])),0),y=i(f.map(b=>l(b,2))),v=i(h.map(b=>l(b,2))),_=o(a(A,g),a(p,m)),C=r(a(o(a(A,y),l(p,2)),o(a(A,v),l(m,2))));return c(_,C)}}),eYe=["typed","add","multiply","Complex","divide","matrix"],tYe=ye("freqz",eYe,n=>{var{typed:e,add:t,multiply:r,Complex:i,divide:s,matrix:o}=n;return e("freqz",{"Array, Array":function(u,d){return a(u,d,l(512))},"Array, Array, Array":function(u,d,f){return a(u,d,f)},"Array, Array, number":function(u,d,f){if(f<0)throw new Error("w must be a positive number");return a(u,d,l(f))},"Matrix, Matrix":function(u,d){var f=l(512),{w:h,h:A}=a(u.valueOf(),d.valueOf(),f);return{w:o(h),h:o(A)}},"Matrix, Matrix, Matrix":function(u,d,f){var{h}=a(u.valueOf(),d.valueOf(),f.valueOf());return{h:o(h),w:o(f)}},"Matrix, Matrix, number":function(u,d,f){if(f<0)throw new Error("w must be a positive number");var h=l(f),{h:A}=a(u.valueOf(),d.valueOf(),h);return{h:o(A),w:o(h)}}});function a(c,u,d){for(var f=[],h=[],A=0;A<d.length;A++){for(var p=i(0,0),m=i(0,0),g=0;g<c.length;g++)p=t(p,r(c[g],i(Math.cos(-g*d[A]),Math.sin(-g*d[A]))));for(var y=0;y<u.length;y++)m=t(m,r(u[y],i(Math.cos(-y*d[A]),Math.sin(-y*d[A]))));f.push(p),h.push(m)}for(var v=[],_=0;_<f.length;_++)v.push(s(f[_],h[_]));return{h:v,w:d}}function l(c){for(var u=[],d=0;d<c;d++)u.push(d/c*Math.PI);return u}}),nYe=["typed","abs","map","median","subtract"],rYe=ye("mad",nYe,n=>{var{typed:e,abs:t,map:r,median:i,subtract:s}=n;return e("mad",{"Array | Matrix":o,"...":function(l){return o(l)}});function o(a){if(0===(a=ts(a.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(a);return i(r(a,function(c){return t(s(c,l))}))}catch(c){throw c instanceof TypeError&&c.message.includes("median")?new TypeError(c.message.replace("median","mad")):Au(c,"mad")}}}),iYe=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],sYe=ye("zeta",iYe,n=>{var{typed:e,config:t,multiply:r,pow:i,divide:s,factorial:o,equal:a,smallerEq:l,isNegative:c,gamma:u,sin:d,subtract:f,add:h,Complex:A,BigNumber:p,pi:m}=n;return e("zeta",{number:b=>g(b,M=>M,()=>20),BigNumber:b=>g(b,M=>new p(M),()=>Math.abs(Math.log10(t.relTol))),Complex:function y(b){return 0===b.re&&0===b.im?new A(-.5):1===b.re?new A(NaN,NaN):b.re===1/0&&0===b.im?new A(1):b.im===1/0||b.re===-1/0?new A(NaN,NaN):v(b,M=>M,M=>Math.round(19.5+.9*Math.abs(M.im)),M=>M.re)}});function g(b,M,D){return a(b,0)?M(-.5):a(b,1)?M(NaN):isFinite(b)?v(b,M,D,S=>S):c(b)?M(NaN):M(1)}function v(b,M,D,S){var T=D(b);if(S(b)>-(T-1)/2)return function C(b,M,D){for(var S=s(1,r(_(D(0),M),f(1,i(2,f(1,b))))),T=D(0),B=D(1);l(B,M);B=h(B,1))T=h(T,s(r((-1)**(B-1),_(B,M)),i(B,b)));return r(S,T)}(b,M(T),M);var B=r(i(2,b),i(M(m),f(b,1)));return B=r(B,d(r(s(M(m),2),b))),B=r(B,u(f(1,b))),r(B,v(f(1,b),M,D,S))}function _(b,M){for(var D=b,S=b;l(S,M);S=h(S,1)){var T=s(r(o(h(M,f(S,1))),i(4,S)),r(o(f(M,S)),o(r(2,S))));D=h(D,T)}return r(M,D)}}),oYe=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],aYe=ye("norm",oYe,n=>{var{typed:e,abs:t,add:r,pow:i,conj:s,sqrt:o,multiply:a,equalScalar:l,larger:c,smaller:u,matrix:d,ctranspose:f,eigs:h}=n;return e("norm",{number:Math.abs,Complex:function(D){return D.abs()},BigNumber:function(D){return D.abs()},boolean:function(D){return Math.abs(D)},Array:function(D){return b(d(D),2)},Matrix:function(D){return b(D,2)},"Array, number | BigNumber | string":function(D,S){return b(d(D),S)},"Matrix, number | BigNumber | string":function(D,S){return b(D,S)}});function b(M,D){var S=M.size();if(1===S.length)return function m(M,D){if(D===Number.POSITIVE_INFINITY||"inf"===D)return function A(M){var D=0;return M.forEach(function(S){var T=t(S);c(T,D)&&(D=T)},!0),D}(M);if(D===Number.NEGATIVE_INFINITY||"-inf"===D)return function p(M){var D;return M.forEach(function(S){var T=t(S);(!D||u(T,D))&&(D=T)},!0),D||0}(M);if("fro"===D)return b(M,2);if("number"==typeof D&&!isNaN(D)){if(!l(D,0)){var S=0;return M.forEach(function(T){S=r(i(t(T),D),S)},!0),i(S,1/D)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}(M,D);if(2===S.length){if(S[0]&&S[1])return function C(M,D){if(1===D)return function y(M){var D=[],S=0;return M.forEach(function(T,B){var R=B[1],U=r(D[R]||0,t(T));c(U,S)&&(S=U),D[R]=U},!0),S}(M);if(D===Number.POSITIVE_INFINITY||"inf"===D)return function _(M){var D=[],S=0;return M.forEach(function(T,B){var R=B[0],U=r(D[R]||0,t(T));c(U,S)&&(S=U),D[R]=U},!0),S}(M);if("fro"===D)return function g(M){var D=0;return M.forEach(function(S,T){D=r(D,a(S,s(S)))}),t(o(D))}(M);if(2===D)return function v(M){var D=M.size();if(D[0]!==D[1])throw new RangeError("Invalid matrix dimensions");var S=f(M),T=a(S,M),B=h(T).values.toArray();return t(o(B[B.length-1]))}(M);throw new Error("Unsupported parameter value "+D)}(M,D);throw new RangeError("Invalid matrix dimensions")}}}),$oe="rotationMatrix",lYe=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],cYe=ye($oe,lYe,n=>{var{typed:e,config:t,multiplyScalar:r,addScalar:i,unaryMinus:s,norm:o,BigNumber:a,matrix:l,DenseMatrix:c,SparseMatrix:u,cos:d,sin:f}=n;return e($oe,{"":function(){return"Matrix"===t.matrix?l([]):[]},string:function(v){return l(v)},"number | BigNumber | Complex | Unit":function(v){return h(v,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(v,_){return h(v,_)},"number | BigNumber | Complex | Unit, Array":function(v,_){var C=l(_);return A(C),g(v,C,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(v,_){A(_);var C=_.storage()||("Matrix"===t.matrix?"dense":void 0);return g(v,_,C)},"number | BigNumber | Complex | Unit, Array, string":function(v,_,C){var b=l(_);return A(b),g(v,b,C)},"number | BigNumber | Complex | Unit, Matrix, string":function(v,_,C){return A(_),g(v,_,C)}});function h(y,v){var C=Kr(y)?new a(-1):-1,b=d(y),M=f(y);return m([[b,r(C,M)],[M,b]],v)}function A(y){var v=y.size();if(v.length<1||3!==v[0])throw new RangeError("Vector must be of dimensions 1x3")}function p(y){return y.reduce((v,_)=>r(v,_))}function m(y,v){if(v){if("sparse"===v)return new u(y);if("dense"===v)return new c(y);throw new TypeError('Unknown matrix type "'.concat(v,'"'))}return y}function g(y,v,_){var C=o(v);if(0===C)throw new RangeError("Rotation around zero vector");var b=Kr(y)?a:null,M=b?new b(1):1,D=b?new b(-1):-1,S=b?new b(v.get([0])/C):v.get([0])/C,T=b?new b(v.get([1])/C):v.get([1])/C,B=b?new b(v.get([2])/C):v.get([2])/C,R=d(y),U=i(M,s(R)),k=f(y);return m([[i(R,p([S,S,U])),i(p([S,T,U]),p([D,B,k])),i(p([S,B,U]),p([T,k]))],[i(p([S,T,U]),p([B,k])),i(R,p([T,T,U])),i(p([T,B,U]),p([D,S,k]))],[i(p([S,B,U]),p([D,T,k])),i(p([T,B,U]),p([S,k])),i(R,p([B,B,U]))]],_)}}),uYe=["typed","matrix","identity","multiply","qr","norm","subtract"],dYe=ye("schur",uYe,n=>{var{typed:e,matrix:t,identity:r,multiply:i,qr:s,norm:o,subtract:a}=n;return e("schur",{Array:function(u){var d=l(t(u));return{U:d.U.valueOf(),T:d.T.valueOf()}},Matrix:function(u){return l(u)}});function l(c){var A,u=c.size()[0],d=c,f=r(u),h=0;do{A=d;var p=s(d),m=p.Q;if(d=i(p.R,m),f=i(f,m),h++>100)break}while(o(a(d,A))>1e-4);return{U:f,T:d}}}),hYe=["typed","multiply","rotationMatrix"],fYe=ye("rotate",hYe,n=>{var{typed:e,multiply:t,rotationMatrix:r}=n;return e("rotate",{"Array , number | BigNumber | Complex | Unit":function(o,a){return i(o,2),t(r(a),o).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,a){return i(o,2),t(r(a),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,a,l){return i(o,3),t(r(a,l),o)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,a,l){return i(o,3),t(r(a,l),o)}});function i(s,o){var a=Array.isArray(s)?Tr(s):s.size();if(a.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(2===a.length&&1!==a[1])throw new RangeError("Vector must be of dimensions 1x".concat(o));if(a[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}}),AYe=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],pYe=ye("sylvester",AYe,n=>{var{typed:e,schur:t,matrixFromColumns:r,matrix:i,multiply:s,range:o,concat:a,transpose:l,index:c,subset:u,add:d,subtract:f,identity:h,lusolve:A,abs:p}=n;return e("sylvester",{"Matrix, Matrix, Matrix":m,"Array, Matrix, Matrix":function(y,v,_){return m(i(y),v,_)},"Array, Array, Matrix":function(y,v,_){return m(i(y),i(v),_)},"Array, Matrix, Array":function(y,v,_){return m(i(y),v,i(_))},"Matrix, Array, Matrix":function(y,v,_){return m(y,i(v),_)},"Matrix, Array, Array":function(y,v,_){return m(y,i(v),i(_))},"Matrix, Matrix, Array":function(y,v,_){return m(y,v,i(_))},"Array, Array, Array":function(y,v,_){return m(i(y),i(v),i(_)).toArray()}});function m(g,y,v){for(var _=y.size()[0],C=g.size()[0],b=t(g),M=b.T,D=b.U,S=t(s(-1,y)),T=S.T,B=S.U,R=s(s(l(D),v),B),U=o(0,C),k=[],q=(ge,Se)=>a(ge,Se,1),O=(ge,Se)=>a(ge,Se,0),P=0;P<_;P++)if(P<_-1&&p(u(T,c(P+1,P)))>1e-5){for(var G=O(u(R,c(U,P)),u(R,c(U,P+1))),H=0;H<P;H++)G=d(G,O(s(k[H],u(T,c(H,P))),s(k[H],u(T,c(H,P+1)))));var ae=s(h(C),s(-1,u(T,c(P,P)))),ve=s(h(C),s(-1,u(T,c(P+1,P)))),Q=s(h(C),s(-1,u(T,c(P,P+1)))),j=s(h(C),s(-1,u(T,c(P+1,P+1)))),K=O(q(d(M,ae),ve),q(Q,d(M,j))),oe=A(K,G);k[P]=oe.subset(c(o(0,C),0)),k[P+1]=oe.subset(c(o(C,2*C),0)),P++}else{for(var se=u(R,c(U,P)),le=0;le<P;le++)se=d(se,s(k[le],u(T,c(le,P))));var te=u(T,c(P,P)),ee=f(M,s(te,h(C)));k[P]=A(ee,se)}var Ae=i(r(...k));return s(D,s(Ae,l(B)))}}),gYe=["typed","matrix","sylvester","multiply","transpose"],mYe=ye("lyap",gYe,n=>{var{typed:e,matrix:t,sylvester:r,multiply:i,transpose:s}=n;return e("lyap",{"Matrix, Matrix":function(a,l){return r(a,s(a),i(-1,l))},"Array, Matrix":function(a,l){return r(t(a),s(t(a)),i(-1,l))},"Matrix, Array":function(a,l){return r(a,s(t(a)),t(i(-1,l)))},"Array, Array":function(a,l){return r(t(a),s(t(a)),t(i(-1,l))).toArray()}})}),gn=sQe({config:Lt}),$s=uQe({}),Zoe=DQe({BigNumber:gn,config:Lt}),vYe=bQe({}),yYe=nze({BigNumber:gn,config:Lt}),ny=kze({}),eae=OQe({Complex:$s}),_Ye=CQe({BigNumber:gn,config:Lt}),bYe=BQe({BigNumber:gn,config:Lt}),wYe=IQe({BigNumber:gn,config:Lt}),mF=Qze({}),CYe=EQe({BigNumber:gn,config:Lt}),EYe=wQe({}),SYe=MQe({BigNumber:gn,config:Lt}),xYe=jze({}),tae=$ze({}),DYe=FQe({BigNumber:gn,config:Lt}),MYe=bze({BigNumber:gn,config:Lt}),nae=xQe({BigNumber:gn,config:Lt}),TYe=_Qe({}),BYe=PQe({}),ni=Yze({Matrix:mF}),NYe=dze({BigNumber:gn,config:Lt}),IYe=TQe({BigNumber:gn,config:Lt}),xH=SQe({BigNumber:gn,config:Lt}),rae=e7e({}),FYe=RQe({BigNumber:gn,config:Lt}),ke=n7e({BigNumber:gn,Complex:$s,DenseMatrix:ni,Fraction:ny}),RYe=uze({BigNumber:gn,config:Lt}),pu=h7e({typed:ke}),OYe=A7e({Complex:$s,config:Lt,typed:ke}),PYe=x7e({BigNumber:gn,typed:ke}),LYe=M7e({BigNumber:gn,Complex:$s,config:Lt,typed:ke}),hl=B7e({typed:ke}),UYe=I7e({typed:ke}),kYe=R7e({BigNumber:gn,Complex:$s,config:Lt,typed:ke}),HYe=L7e({typed:ke}),iae=H7e({typed:ke}),VYe=Q7e({Complex:$s,config:Lt,typed:ke}),QYe=j7e({typed:ke}),zYe=W7e({typed:ke}),GYe=K7e({typed:ke}),jYe=Y7e({typed:ke}),vF=Z7e({typed:ke}),yF=nGe({Complex:$s,typed:ke}),ry=iGe({typed:ke}),DH=oGe({typed:ke}),qYe=lGe({BigNumber:gn,typed:ke}),WYe=uGe({BigNumber:gn,typed:ke}),$Ye=hGe({typed:ke}),mi=pGe({config:Lt,typed:ke}),KYe=vGe({typed:ke}),sae=CGe({typed:ke}),XYe=SGe({Complex:$s,typed:ke}),YYe=xte({typed:ke}),vx=DGe({typed:ke}),JYe=Bte({typed:ke}),zb=TGe({typed:ke}),MH=NGe({typed:ke}),ZYe=FGe({format:zb,typed:ke}),TH=OGe({typed:ke}),Ku=LGe({typed:ke}),qm=VGe({config:Lt,typed:ke}),iy=zGe({config:Lt,typed:ke}),MA=jGe({equalScalar:mi,typed:ke}),eJe=NQe({BigNumber:gn,config:Lt}),tJe=KGe({Complex:$s,typed:ke}),nJe=YGe({Complex:$s,config:Lt,typed:ke}),oae=ZGe({Complex:$s,config:Lt,typed:ke}),sy=Nte({typed:ke}),la=n9e({typed:ke}),_F=i9e({typed:ke}),Jp=c9e({typed:ke}),rJe=d9e({format:zb,typed:ke}),iJe=A9e({config:Lt,typed:ke}),sJe=Gte({typed:ke}),oJe=g9e({config:Lt,typed:ke}),BH=v9e({typed:ke}),aJe=_9e({BigNumber:gn,typed:ke}),aae=w9e({BigNumber:gn,Fraction:ny,complex:yF,typed:ke}),bF=E9e({typed:ke}),fl=D9e({Matrix:mF,equalScalar:mi,typed:ke}),lJe=T9e({typed:ke}),cJe=N9e({typed:ke}),uJe=F9e({typed:ke}),gh=O9e({typed:ke}),dJe=L9e({typed:ke}),NH=k9e({typed:ke}),hJe=V9e({Complex:$s,config:Lt,typed:ke}),fJe=z9e({BigNumber:gn,typed:ke}),IH=Y8({isInteger:Ku,typed:ke}),AJe=j9e({BigNumber:gn,Complex:$s,config:Lt,typed:ke}),mh=$9e({BigNumber:gn,typed:ke}),pJe=X9e({typed:ke}),gJe=J9e({typed:ke}),mJe=eje({BigNumber:gn,typed:ke}),yx=nje({typed:ke}),vJe=ije({typed:ke}),yJe=oje({config:Lt,typed:ke}),_Je=lje({BigNumber:gn,typed:ke}),bJe=uje({typed:ke}),wJe=hje({SparseMatrix:fl,typed:ke}),Df=pje({Complex:$s,config:Lt,typed:ke}),CJe=mje({typed:ke}),EJe=_je({typed:ke}),TA=wje({typed:ke}),SJe=Eje({BigNumber:gn,Complex:$s,config:Lt,typed:ke}),xJe=xje({format:zb,typed:ke}),DJe=Mje({BigNumber:gn,typed:ke}),_x=Nje({Fraction:ny,typed:ke}),oy=Fje({typed:ke}),un=Oje({DenseMatrix:ni,Matrix:mF,SparseMatrix:fl,typed:ke}),MJe=Lje({isZero:MA,matrix:un,typed:ke}),TJe=kje({isNaN:yx,isNumeric:oy,typed:ke}),vh=Qje({bignumber:mh,fraction:_x,number:Jp}),lae=Gje({config:Lt,multiplyScalar:la,numeric:vh,typed:ke}),cae=qje({isInteger:Ku,matrix:un,typed:ke}),oc=$je({matrix:un,config:Lt,typed:ke}),bx=Xje({matrix:un,typed:ke}),uae=Jje({BigNumber:gn,config:Lt,matrix:un,typed:ke}),ac=eqe({BigNumber:gn,config:Lt,matrix:un,typed:ke}),BJe=nqe({Complex:$s,config:Lt,typed:ke}),dae=iqe({BigNumber:gn,Complex:$s,Fraction:ny,config:Lt,isNegative:qm,matrix:un,typed:ke,unaryMinus:TA}),qi=kte({isInteger:Ku,matrix:un,typed:ke}),NJe=oqe({prod:lae,size:oc,typed:ke}),FH=lqe({conj:ry,transpose:bx,typed:ke}),hae=uqe({DenseMatrix:ni,SparseMatrix:fl,matrix:un,typed:ke}),Uo=hqe({numeric:vh,typed:ke}),wx=gqe({DenseMatrix:ni,SparseMatrix:fl,concat:qi,divideScalar:Uo,equalScalar:mi,matrix:un,typed:ke}),yh=vqe({DenseMatrix:ni,SparseMatrix:fl,concat:qi,equalScalar:mi,matrix:un,typed:ke}),IJe=bqe({isNumeric:oy,typed:ke}),Wm=Cqe({BigNumber:gn,DenseMatrix:ni,SparseMatrix:fl,config:Lt,matrix:un,typed:ke}),FJe=Sqe({matrix:un,multiplyScalar:la,typed:ke}),wF=Dqe({DenseMatrix:ni,SparseMatrix:fl,concat:qi,config:Lt,matrix:un,typed:ke}),RJe=Iqe({DenseMatrix:ni,concat:qi,equalScalar:mi,matrix:un,typed:ke,zeros:ac}),fae=Rqe({DenseMatrix:ni,divideScalar:Uo,equalScalar:mi,matrix:un,multiplyScalar:la,subtractScalar:gh,typed:ke}),RH=Pqe({flatten:vx,matrix:un,size:oc,typed:ke}),OJe=Uqe({BigNumber:gn,concat:qi,equalScalar:mi,matrix:un,typed:ke}),PJe=Vqe({BigNumber:gn,config:Lt,matrix:un,typed:ke}),OH=zqe({addScalar:hl,complex:yF,conj:ry,divideScalar:Uo,equal:yh,identity:Wm,isZero:MA,matrix:un,multiplyScalar:la,sign:aae,sqrt:Df,subtractScalar:gh,typed:ke,unaryMinus:TA,zeros:ac}),LJe=qqe({config:Lt,matrix:un}),UJe=$qe({DenseMatrix:ni,concat:qi,equalScalar:mi,matrix:un,typed:ke,zeros:ac}),Gb=Xqe({BigNumber:gn,DenseMatrix:ni,config:Lt,equalScalar:mi,matrix:un,typed:ke,zeros:ac}),gu=Jqe({DenseMatrix:ni,SparseMatrix:fl,concat:qi,config:Lt,matrix:un,typed:ke}),Da=tWe({DenseMatrix:ni,concat:qi,equalScalar:mi,matrix:un,subtractScalar:gh,typed:ke,unaryMinus:TA}),kJe=rWe({concat:qi,matrix:un,typed:ke}),PH=sWe({config:Lt,numeric:vh,typed:ke}),LH=aWe({DenseMatrix:ni,divideScalar:Uo,equalScalar:mi,matrix:un,multiplyScalar:la,subtractScalar:gh,typed:ke}),HJe=cWe({DenseMatrix:ni,SparseMatrix:fl,concat:qi,matrix:un,typed:ke}),Oi=dWe({DenseMatrix:ni,SparseMatrix:fl,addScalar:hl,concat:qi,equalScalar:mi,matrix:un,typed:ke}),VJe=pWe({BigNumber:gn,DenseMatrix:ni,concat:qi,equalScalar:mi,matrix:un,typed:ke}),QJe=tne({concat:qi,equalScalar:mi,matrix:un,typed:ke}),zJe=dne({DenseMatrix:ni,concat:qi,equalScalar:mi,matrix:un,typed:ke}),GJe=mWe({DenseMatrix:ni,SparseMatrix:fl,concat:qi,matrix:un,typed:ke}),jJe=yWe({addScalar:hl,combinations:vF,divideScalar:Uo,isInteger:Ku,isNegative:qm,multiplyScalar:la,typed:ke}),ay=bWe({BigNumber:gn,DenseMatrix:ni,Fraction:ny,concat:qi,config:Lt,equalScalar:mi,matrix:un,typed:ke}),Aae=EWe({concat:qi,matrix:un,typed:ke}),qJe=hne({add:Oi,typed:ke,unaryPlus:PH}),UH=xWe({equal:yh,typed:ke}),WJe=rne({matrix:un,number:Jp,subtract:Da,typed:ke}),$Je=MWe({abs:pu,addScalar:hl,deepEqual:UH,divideScalar:Uo,multiplyScalar:la,sqrt:Df,subtractScalar:gh,typed:ke}),CF=BWe({addScalar:hl,conj:ry,multiplyScalar:la,size:oc,typed:ke}),KJe=IWe({compareText:Aae,isZero:MA,typed:ke}),pae=Ise({DenseMatrix:ni,config:Lt,equalScalar:mi,matrix:un,round:Gb,typed:ke,zeros:ac}),XJe=UWe({BigNumber:gn,DenseMatrix:ni,concat:qi,config:Lt,equalScalar:mi,matrix:un,round:Gb,typed:ke,zeros:ac}),YJe=HWe({abs:pu,addScalar:hl,divideScalar:Uo,isPositive:iy,multiplyScalar:la,smaller:gu,sqrt:Df,typed:ke}),gae=zWe({DenseMatrix:ni,smaller:gu}),Oc=qWe({ImmutableDenseMatrix:gae,getMatrixDataType:MH}),mu=$We({DenseMatrix:ni,SparseMatrix:fl,concat:qi,config:Lt,matrix:un,typed:ke}),kH=YWe({Complex:$s,config:Lt,divideScalar:Uo,typeOf:NH,typed:ke}),JJe=ZWe({DenseMatrix:ni,divideScalar:Uo,equalScalar:mi,matrix:un,multiplyScalar:la,subtractScalar:gh,typed:ke}),ZJe=t$e({flatten:vx,matrix:un,size:oc,typed:ke}),eZe=one({config:Lt,numeric:vh,smaller:gu,typed:ke}),mae=Rse({DenseMatrix:ni,concat:qi,config:Lt,equalScalar:mi,matrix:un,round:Gb,typed:ke,zeros:ac}),ks=r$e({addScalar:hl,dot:CF,equalScalar:mi,matrix:un,multiplyScalar:la,typed:ke}),tZe=s$e({Complex:$s,config:Lt,divideScalar:Uo,typed:ke}),nZe=Ote({DenseMatrix:ni,concat:qi,equalScalar:mi,matrix:un,typed:ke}),EF=a$e({compare:ay,isNaN:yx,isNumeric:oy,typed:ke}),rZe=c$e({DenseMatrix:ni,concat:qi,equalScalar:mi,matrix:un,typed:ke,zeros:ac}),vae=F$e({SparseMatrix:fl,abs:pu,add:Oi,divideScalar:Uo,larger:mu,largerEq:wF,multiply:ks,subtract:Da,transpose:bx,typed:ke}),Id=lne({add:Oi,matrix:un,typed:ke,zeros:ac}),HH=pne({add:Oi,config:Lt,numeric:vh,typed:ke}),iZe=P$e({add:Oi,matrix:un,typed:ke}),yae=U$e({DenseMatrix:ni,divideScalar:Uo,equalScalar:mi,matrix:un,multiplyScalar:la,subtractScalar:gh,typed:ke}),sZe=H$e({Complex:$s,add:Oi,multiply:ks,number:Jp,typed:ke}),VH=z$e({DenseMatrix:ni,config:Lt,equalScalar:mi,matrix:un,round:Gb,typed:ke,zeros:ac}),BA=j$e({compare:ay,typed:ke}),oZe=$$e({addScalar:hl,combinations:vF,isInteger:Ku,isNegative:qm,isPositive:iy,larger:mu,typed:ke}),aZe=X$e({matrix:un,multiply:ks,subtract:Da,typed:ke}),_ae=J$e({divideScalar:Uo,isZero:MA,matrix:un,multiply:ks,subtractScalar:gh,typed:ke,unaryMinus:TA}),lZe=eKe({concat:qi,equalScalar:mi,matrix:un,multiplyScalar:la,typed:ke}),bae=rKe({larger:mu,smaller:gu}),wae=oKe({Complex:$s,DenseMatrix:ni,ceil:VH,equalScalar:mi,floor:pae,matrix:un,typed:ke,zeros:ac}),Cae=lKe({Index:Oc,typed:ke}),cZe=dKe({abs:pu,add:Oi,addScalar:hl,config:Lt,divideScalar:Uo,equalScalar:mi,flatten:vx,isNumeric:oy,isZero:MA,matrix:un,multiply:ks,multiplyScalar:la,smaller:gu,subtract:Da,typed:ke}),uZe=fKe({BigNumber:gn,add:Oi,config:Lt,equal:yh,isInteger:Ku,mod:mae,smaller:gu,typed:ke,xgcd:uae}),dZe=pKe({concat:qi,equalScalar:mi,matrix:un,typed:ke}),hZe=mKe({Complex:$s,config:Lt,divideScalar:Uo,log:kH,typed:ke}),QH=Vte({config:Lt,larger:mu,numeric:vh,typed:ke}),fZe=yKe({DenseMatrix:ni,Index:Oc,compareNatural:BA,size:oc,subset:Id,typed:ke}),AZe=bKe({DenseMatrix:ni,Index:Oc,compareNatural:BA,size:oc,subset:Id,typed:ke}),pZe=CKe({Index:Oc,compareNatural:BA,size:oc,subset:Id,typed:ke}),gZe=SKe({Index:Oc,compareNatural:BA,size:oc,subset:Id,typed:ke}),jb=DKe({DenseMatrix:ni,SparseMatrix:fl,concat:qi,config:Lt,matrix:un,typed:ke}),mZe=BKe({compare:ay,compareNatural:BA,matrix:un,typed:ke}),vZe=IKe({DenseMatrix:ni,SparseMatrix:fl,concat:qi,config:Lt,equalScalar:mi,matrix:un,typed:ke}),yZe=Lte({concat:qi,equalScalar:mi,matrix:un,not:_F,typed:ke,zeros:ac}),qb=vne({bignumber:mh,matrix:un,add:Oi,config:Lt,isPositive:iy,larger:mu,largerEq:wF,smaller:gu,smallerEq:jb,typed:ke}),_Ze=_ne({Index:Oc,matrix:un,range:qb,typed:ke}),Eae=OKe({DenseMatrix:ni,Index:Oc,compareNatural:BA,size:oc,subset:Id,typed:ke}),bZe=LKe({Index:Oc,compareNatural:BA,size:oc,subset:Id,typed:ke}),Sae=kKe({Index:Oc,concat:qi,setDifference:Eae,size:oc,subset:Id,typed:ke}),xae=QKe({FibonacciHeap:bae,addScalar:hl,equalScalar:mi}),Dae=wne({Index:Oc,matrix:un,range:qb,typed:ke}),ly=GKe({abs:pu,addScalar:hl,det:_ae,divideScalar:Uo,identity:Wm,matrix:un,multiply:ks,typed:ke,unaryMinus:TA}),Mae=qKe({DenseMatrix:ni,Spa:xae,SparseMatrix:fl,abs:pu,addScalar:hl,divideScalar:Uo,equalScalar:mi,larger:mu,matrix:un,multiplyScalar:la,subtractScalar:gh,typed:ke,unaryMinus:TA}),wZe=$Ke({Complex:$s,add:Oi,ctranspose:FH,deepEqual:UH,divideScalar:Uo,dot:CF,dotDivide:wx,equal:yh,inv:ly,matrix:un,multiply:ks,typed:ke}),Mf=XKe({Complex:$s,config:Lt,fraction:_x,identity:Wm,inv:ly,matrix:un,multiply:ks,number:Jp,typed:ke}),Tae=JKe({DenseMatrix:ni,Index:Oc,compareNatural:BA,size:oc,subset:Id,typed:ke}),CZe=eXe({Index:Oc,concat:qi,setIntersect:Tae,setSymDifference:Sae,size:oc,subset:Id,typed:ke}),EZe=nXe({abs:pu,add:Oi,identity:Wm,inv:ly,map:sy,max:QH,multiply:ks,size:oc,sqrt:Df,subtract:Da,typed:ke}),Sr=sXe({BigNumber:gn,Complex:$s,Fraction:ny,abs:pu,addScalar:hl,config:Lt,divideScalar:Uo,equal:yh,fix:wae,format:zb,isNumeric:oy,multiplyScalar:la,number:Jp,pow:Mf,round:Gb,subtractScalar:gh}),SZe=zQe({BigNumber:gn,Unit:Sr,config:Lt}),xZe=Eze({BigNumber:gn,Unit:Sr,config:Lt}),DZe=hze({BigNumber:gn,Unit:Sr,config:Lt}),MZe=qQe({BigNumber:gn,Unit:Sr,config:Lt}),TZe=Aze({BigNumber:gn,Unit:Sr,config:Lt}),BZe=WQe({BigNumber:gn,Unit:Sr,config:Lt}),NZe=GQe({BigNumber:gn,Unit:Sr,config:Lt}),IZe=sze({BigNumber:gn,Unit:Sr,config:Lt}),FZe=aXe({DenseMatrix:ni,SparseMatrix:fl,concat:qi,equalScalar:mi,matrix:un,pow:Mf,typed:ke}),RZe=QQe({BigNumber:gn,Unit:Sr,config:Lt}),OZe=jQe({BigNumber:gn,Unit:Sr,config:Lt}),PZe=cXe({abs:pu,add:Oi,identity:Wm,inv:ly,multiply:ks,typed:ke}),LZe=pze({BigNumber:gn,Unit:Sr,config:Lt}),Bae=dXe({addScalar:hl,ceil:VH,conj:ry,divideScalar:Uo,dotDivide:wx,exp:sae,i:eae,log2:oae,matrix:un,multiplyScalar:la,pow:Mf,tau:nae,typed:ke}),zH=fXe({BigNumber:gn,Complex:$s,config:Lt,multiplyScalar:la,pow:Mf,typed:ke}),UZe=UQe({BigNumber:gn,Unit:Sr,config:Lt}),kZe=rze({BigNumber:gn,Unit:Sr,config:Lt}),HZe=pXe({conj:ry,dotDivide:wx,fft:Bae,typed:ke}),VZe=YQe({BigNumber:gn,Unit:Sr,config:Lt}),QZe=mze({BigNumber:gn,Unit:Sr,config:Lt}),zZe=VQe({BigNumber:gn,Unit:Sr,config:Lt}),GZe=Sze({BigNumber:gn,Unit:Sr,config:Lt}),jZe=yze({BigNumber:gn,Unit:Sr,config:Lt}),qZe=oze({BigNumber:gn,Unit:Sr,config:Lt}),WZe=XQe({BigNumber:gn,Unit:Sr,config:Lt}),$Ze=Nze({BigNumber:gn,Unit:Sr,config:Lt}),KZe=Mze({BigNumber:gn,Unit:Sr,config:Lt}),XZe=Ize({BigNumber:gn,Unit:Sr,config:Lt}),YZe=ize({BigNumber:gn,Unit:Sr,config:Lt}),JZe=aze({BigNumber:gn,Unit:Sr,config:Lt}),ZZe=HQe({BigNumber:gn,Unit:Sr,config:Lt}),eet=lze({BigNumber:gn,Unit:Sr,config:Lt}),tet=wze({BigNumber:gn,Unit:Sr,config:Lt}),net=LQe({BigNumber:gn,Unit:Sr,config:Lt}),ret=Cze({BigNumber:gn,Unit:Sr,config:Lt}),iet=cze({BigNumber:gn,Unit:Sr,config:Lt}),set=fze({BigNumber:gn,Unit:Sr,config:Lt}),oet=JQe({BigNumber:gn,Unit:Sr,config:Lt}),aet=mXe({Unit:Sr,typed:ke}),lc=_Xe({divideScalar:Uo,equalScalar:mi,inv:ly,matrix:un,multiply:ks,typed:ke}),cet=eze({BigNumber:gn,Unit:Sr,config:Lt}),Cx=wXe({gamma:zH,typed:ke}),uet=gze({BigNumber:gn,Unit:Sr,config:Lt}),det=Dze({BigNumber:gn,Unit:Sr,config:Lt}),het=$Qe({BigNumber:gn,Unit:Sr,config:Lt}),Nae=EXe({DenseMatrix:ni,lsolve:fae,lup:Mae,matrix:un,slu:vae,typed:ke,usolve:LH}),fet=KQe({BigNumber:gn,Unit:Sr,config:Lt}),Aet=xze({BigNumber:gn,Unit:Sr,config:Lt}),pet=xXe({add:Oi,divide:lc,factorial:Cx,isInteger:Ku,isPositive:iy,multiply:ks,typed:ke}),get=MXe({factorial:Cx,typed:ke}),met=Tze({BigNumber:gn,Unit:Sr,config:Lt}),vet=BXe({add:Oi,cbrt:dae,divide:lc,equalScalar:mi,im:TH,isZero:MA,multiply:ks,re:BH,sqrt:Df,subtract:Da,typeOf:NH,typed:ke,unaryMinus:TA}),yet=IXe({compareNatural:BA,typed:ke}),_et=PXe({abs:pu,add:Oi,bignumber:mh,divide:lc,isNegative:qm,isPositive:iy,larger:mu,map:sy,matrix:un,max:QH,multiply:ks,smaller:gu,subtract:Da,typed:ke,unaryMinus:TA}),Iae=UXe({bignumber:mh,addScalar:hl,combinations:vF,divideScalar:Uo,factorial:Cx,isInteger:Ku,isNegative:qm,larger:mu,multiplyScalar:la,number:Jp,pow:Mf,subtractScalar:gh,typed:ke}),bet=HXe({Unit:Sr,typed:ke}),wet=QXe({addScalar:hl,isInteger:Ku,isNegative:qm,stirlingS2:Iae,typed:ke}),Fae=WXe({abs:pu,add:Oi,addScalar:hl,atan:iae,bignumber:mh,column:Dae,complex:yF,config:Lt,cos:DH,diag:hae,divideScalar:Uo,dot:CF,equal:yh,flatten:vx,im:TH,inv:ly,larger:mu,matrix:un,matrixFromColumns:RH,multiply:ks,multiplyScalar:la,number:Jp,qr:OH,re:BH,reshape:cae,sin:bF,size:oc,smaller:gu,sqrt:Df,subtract:Da,typed:ke,usolve:LH,usolveAll:yae}),Cet=tze({BigNumber:gn,Unit:Sr,config:Lt}),Eet=vze({BigNumber:gn,Unit:Sr,config:Lt}),xet=KXe({divide:lc,dotDivide:wx,isNumeric:oy,log:kH,map:sy,matrix:un,multiply:ks,sum:HH,typed:ke}),Rae=Ene({add:Oi,divide:lc,typed:ke}),Det=_ze({BigNumber:gn,Unit:Sr,config:Lt}),Met=kQe({BigNumber:gn,Unit:Sr,config:Lt}),Tet=xne({bignumber:mh,add:Oi,compare:ay,divide:lc,isInteger:Ku,larger:mu,multiply:ks,partitionSelect:EF,smaller:gu,smallerEq:jb,subtract:Da,typed:ke}),GH=Mne({add:Oi,apply:IH,divide:lc,isNaN:yx,multiply:ks,subtract:Da,typed:ke}),Bet=ZQe({BigNumber:gn,Unit:Sr,config:Lt}),Oae=YXe({add:Oi,compare:ay,divide:lc,partitionSelect:EF,typed:ke}),Net=ZXe({add:Oi,divide:lc,matrix:un,mean:Rae,multiply:ks,pow:Mf,sqrt:Df,subtract:Da,sum:HH,typed:ke}),Iet=tYe({Complex:$s,add:Oi,divide:lc,matrix:un,multiply:ks,typed:ke}),Fet=rYe({abs:pu,map:sy,median:Oae,subtract:Da,typed:ke}),Ret=Nne({map:sy,sqrt:Df,typed:ke,variance:GH}),Oet=sYe({BigNumber:gn,Complex:$s,add:Oi,config:Lt,divide:lc,equal:yh,factorial:Cx,gamma:zH,isNegative:qm,multiply:ks,pi:xH,pow:Mf,sin:bF,smallerEq:jb,subtract:Da,typed:ke}),jH=aYe({abs:pu,add:Oi,conj:ry,ctranspose:FH,eigs:Fae,equalScalar:mi,larger:mu,matrix:un,multiply:ks,pow:Mf,smaller:gu,sqrt:Df,typed:ke}),Pae=cYe({BigNumber:gn,DenseMatrix:ni,SparseMatrix:fl,addScalar:hl,config:Lt,cos:DH,matrix:un,multiplyScalar:la,norm:jH,sin:bF,typed:ke,unaryMinus:TA}),Pet=Bze({BigNumber:gn,Unit:Sr,config:Lt}),Lae=dYe({identity:Wm,matrix:un,multiply:ks,norm:jH,qr:OH,subtract:Da,typed:ke}),Let=fYe({multiply:ks,rotationMatrix:Pae,typed:ke}),Uae=pYe({abs:pu,add:Oi,concat:qi,identity:Wm,index:Cae,lusolve:Nae,matrix:un,matrixFromColumns:RH,multiply:ks,range:qb,schur:Lae,subset:Id,subtract:Da,transpose:bx,typed:ke}),Uet=mYe({matrix:un,multiply:ks,sylvester:Uae,transpose:bx,typed:ke}),Wb={},Ex={},kae={},Pc=h5e({mathWithTransform:Ex}),$b=O5e({Node:Pc}),Zp=G5e({Node:Pc}),cy=q5e({Node:Pc}),Hae=$5e({Node:Pc}),Kb=X5e({Node:Pc}),Vae=J5e({Node:Pc,ResultSet:tae}),Qae=eLe({Node:Pc}),$m=nLe({Node:Pc}),zae=iLe({Node:Pc}),ket=aLe({classes:kae}),qH=uLe({math:Wb,typed:ke}),Gae=hLe({Node:Pc,typed:ke}),Het=ALe({Chain:qH,typed:ke}),Xb=gLe({Node:Pc,size:oc}),Yb=vLe({Node:Pc,subset:Id}),jae=bLe({matrix:un,Node:Pc,subset:Id}),Km=ELe({Unit:Sr,Node:Pc,math:Wb}),Xm=xLe({Node:Pc,SymbolNode:Km,math:Wb}),Tf=MLe({AccessorNode:Yb,ArrayNode:Kb,AssignmentNode:jae,BlockNode:Vae,ConditionalNode:Qae,ConstantNode:$m,FunctionAssignmentNode:Gae,FunctionNode:Xm,IndexNode:Xb,ObjectNode:$b,OperatorNode:Zp,ParenthesisNode:cy,RangeNode:zae,RelationalNode:Hae,SymbolNode:Km,config:Lt,numeric:vh,typed:ke}),qae=NLe({ConstantNode:$m,FunctionNode:Xm,OperatorNode:Zp,ParenthesisNode:cy,parse:Tf,typed:ke}),WH=PLe({bignumber:mh,fraction:_x,AccessorNode:Yb,ArrayNode:Kb,ConstantNode:$m,FunctionNode:Xm,IndexNode:Xb,ObjectNode:$b,OperatorNode:Zp,SymbolNode:Km,config:Lt,mathWithTransform:Ex,matrix:un,typed:ke}),Vet=ULe({parse:Tf,typed:ke}),$H=HLe({AccessorNode:Yb,ArrayNode:Kb,ConstantNode:$m,FunctionNode:Xm,IndexNode:Xb,ObjectNode:$b,OperatorNode:Zp,ParenthesisNode:cy,SymbolNode:Km,add:Oi,divide:lc,equal:yh,isZero:MA,multiply:ks,parse:Tf,pow:Mf,subtract:Da,typed:ke}),SF=QLe({parse:Tf,typed:ke}),Wae=jLe({evaluate:SF}),$ae=$Le({evaluate:SF,parse:Tf}),xF=YLe({AccessorNode:Yb,ArrayNode:Kb,ConstantNode:$m,FunctionNode:Xm,IndexNode:Xb,ObjectNode:$b,OperatorNode:Zp,ParenthesisNode:cy,SymbolNode:Km,equal:yh,parse:Tf,replacer:rae,resolve:qae,simplifyConstant:WH,simplifyCore:$H,typed:ke}),Qet=ZLe({OperatorNode:Zp,parse:Tf,simplify:xF,typed:ke}),zet=t3e({parse:Tf,typed:ke}),Get=r3e({Parser:$ae,typed:ke}),jet=s3e({bignumber:mh,fraction:_x,AccessorNode:Yb,ArrayNode:Kb,ConstantNode:$m,FunctionNode:Xm,IndexNode:Xb,ObjectNode:$b,OperatorNode:Zp,ParenthesisNode:cy,SymbolNode:Km,add:Oi,config:Lt,divide:lc,equal:yh,isZero:MA,mathWithTransform:Ex,matrix:un,multiply:ks,parse:Tf,pow:Mf,simplify:xF,simplifyConstant:WH,simplifyCore:$H,subtract:Da,typed:ke}),qet=a3e({ConstantNode:$m,FunctionNode:Xm,OperatorNode:Zp,ParenthesisNode:cy,SymbolNode:Km,config:Lt,equal:yh,isZero:MA,numeric:vh,parse:Tf,simplify:xF,typed:ke}),Wet=P8e({Help:Wae,mathWithTransform:Ex,typed:ke});ll(Wb,{e:Zoe,false:vYe,fineStructure:yYe,i:eae,Infinity:_Ye,LN10:bYe,LOG10E:wYe,NaN:CYe,null:EYe,phi:SYe,SQRT1_2:DYe,sackurTetrode:MYe,tau:nae,true:TYe,E:Zoe,version:BYe,efimovFactor:NYe,LN2:IYe,pi:xH,replacer:rae,reviver:ket,SQRT2:FYe,typed:ke,PI:xH,weakMixingAngle:RYe,abs:pu,acos:OYe,acot:PYe,acsc:LYe,addScalar:hl,arg:UYe,asech:kYe,asinh:HYe,atan:iae,atanh:VYe,bigint:QYe,bitNot:zYe,boolean:GYe,clone:jYe,combinations:vF,complex:yF,conj:ry,cos:DH,cot:qYe,csc:WYe,cube:$Ye,equalScalar:mi,erf:KYe,exp:sae,expm1:XYe,filter:YYe,flatten:vx,forEach:JYe,format:zb,getMatrixDataType:MH,hex:ZYe,im:TH,isInteger:Ku,isNegative:qm,isPositive:iy,isZero:MA,LOG2E:eJe,lgamma:tJe,log10:nJe,log2:oae,map:sy,multiplyScalar:la,not:_F,number:Jp,oct:rJe,pickRandom:iJe,print:sJe,random:oJe,re:BH,sec:aJe,sign:aae,sin:bF,splitUnit:lJe,square:cJe,string:uJe,subtractScalar:gh,tan:dJe,typeOf:NH,acosh:hJe,acsch:fJe,apply:IH,asec:AJe,bignumber:mh,chain:Het,combinationsWithRep:pJe,cosh:gJe,csch:mJe,isNaN:yx,isPrime:vJe,randomInt:yJe,sech:_Je,sinh:bJe,sparse:wJe,sqrt:Df,squeeze:CJe,tanh:EJe,unaryMinus:TA,acoth:SJe,bin:xJe,coth:DJe,fraction:_x,isNumeric:oy,matrix:un,matrixFromFunction:MJe,mode:TJe,numeric:vh,prod:lae,reshape:cae,size:oc,transpose:bx,xgcd:uae,zeros:ac,asin:BJe,cbrt:dae,concat:qi,count:NJe,ctranspose:FH,diag:hae,divideScalar:Uo,dotDivide:wx,equal:yh,hasNumericValue:IJe,identity:Wm,kron:FJe,largerEq:wF,leftShift:RJe,lsolve:fae,matrixFromColumns:RH,nthRoot:OJe,ones:PJe,qr:OH,resize:LJe,rightArithShift:UJe,round:Gb,smaller:gu,subtract:Da,to:kJe,unaryPlus:PH,usolve:LH,xor:HJe,add:Oi,atan2:VJe,bitAnd:QJe,bitOr:zJe,bitXor:GJe,catalan:jJe,compare:ay,compareText:Aae,cumsum:qJe,deepEqual:UH,diff:WJe,distance:$Je,dot:CF,equalText:KJe,floor:pae,gcd:XJe,hypot:YJe,larger:mu,log:kH,lsolveAll:JJe,matrixFromRows:ZJe,min:eZe,mod:mae,multiply:ks,nthRoots:tZe,or:nZe,partitionSelect:EF,rightLogShift:rZe,slu:vae,subset:Id,sum:HH,trace:iZe,usolveAll:yae,zpk2tf:sZe,ceil:VH,compareNatural:BA,composition:oZe,cross:aZe,det:_ae,dotMultiply:lZe,fix:wae,index:Cae,intersect:cZe,invmod:uZe,lcm:dZe,log1p:hZe,max:QH,setCartesian:fZe,setDistinct:AZe,setIsSubset:pZe,setPowerset:gZe,smallerEq:jb,sort:mZe,unequal:vZe,and:yZe,range:qb,row:_Ze,setDifference:Eae,setMultiplicity:bZe,setSymDifference:Sae,column:Dae,inv:ly,lup:Mae,pinv:wZe,pow:Mf,setIntersect:Tae,setUnion:CZe,sqrtm:EZe,vacuumImpedance:SZe,wienDisplacement:xZe,atomicMass:DZe,bohrMagneton:MZe,boltzmann:TZe,conductanceQuantum:BZe,coulomb:NZe,deuteronMass:IZe,dotPow:FZe,electricConstant:RZe,elementaryCharge:OZe,expm:PZe,faraday:LZe,fft:Bae,gamma:zH,gravitationConstant:UZe,hartreeEnergy:kZe,ifft:HZe,klitzing:VZe,loschmidt:QZe,magneticConstant:zZe,molarMass:GZe,molarPlanckConstant:jZe,neutronMass:qZe,nuclearMagneton:WZe,planckCharge:$Ze,planckLength:KZe,planckTemperature:XZe,protonMass:YZe,quantumOfCirculation:JZe,reducedPlanckConstant:ZZe,rydberg:eet,secondRadiation:tet,speedOfLight:net,stefanBoltzmann:ret,thomsonCrossSection:iet,avogadro:set,bohrRadius:oet,createUnit:aet,divide:lc,electronMass:cet,factorial:Cx,firstRadiation:uet,gravity:det,inverseConductanceQuantum:het,lusolve:Nae,magneticFluxQuantum:fet,molarMassC12:Aet,multinomial:pet,parse:Tf,permutations:get,planckMass:met,polynomialRoot:vet,resolve:qae,setSize:yet,simplifyConstant:WH,solveODE:_et,stirlingS2:Iae,unit:bet,bellNumbers:wet,compile:Vet,eigs:Fae,fermiCoupling:Cet,gasConstant:Eet,kldivergence:xet,mean:Rae,molarVolume:Det,planckConstant:Met,quantileSeq:Tet,simplifyCore:$H,variance:GH,classicalElectronRadius:Bet,evaluate:SF,median:Oae,simplify:xF,symbolicEqual:Qet,corr:Net,freqz:Iet,leafCount:zet,mad:Fet,parser:Get,rationalize:jet,std:Ret,zeta:Oet,derivative:qet,norm:jH,rotationMatrix:Pae,help:Wet,planckTime:Pet,schur:Lae,rotate:Let,sylvester:Uae,lyap:Uet,config:Lt}),ll(Ex,Wb,{filter:j8e({typed:ke}),forEach:X8e({typed:ke}),map:eHe({typed:ke}),apply:sHe({isInteger:Ku,typed:ke}),or:EHe({DenseMatrix:ni,concat:qi,equalScalar:mi,matrix:un,typed:ke}),and:RHe({add:Oi,concat:qi,equalScalar:mi,matrix:un,not:_F,typed:ke,zeros:ac}),concat:UHe({isInteger:Ku,matrix:un,typed:ke}),max:GHe({config:Lt,larger:mu,numeric:vh,typed:ke}),print:WHe({add:Oi,matrix:un,typed:ke,zeros:ac}),bitAnd:r6e({add:Oi,concat:qi,equalScalar:mi,matrix:un,not:_F,typed:ke,zeros:ac}),diff:o6e({bignumber:mh,matrix:un,number:Jp,subtract:Da,typed:ke}),min:u6e({config:Lt,numeric:vh,smaller:gu,typed:ke}),subset:m6e({add:Oi,matrix:un,typed:ke,zeros:ac}),bitOr:D6e({DenseMatrix:ni,concat:qi,equalScalar:mi,matrix:un,typed:ke}),cumsum:B6e({add:Oi,typed:ke,unaryPlus:PH}),index:F6e({Index:Oc,getMatrixDataType:MH}),sum:P6e({add:Oi,config:Lt,numeric:vh,typed:ke}),range:H6e({bignumber:mh,matrix:un,add:Oi,config:Lt,isPositive:iy,larger:mu,largerEq:wF,smaller:gu,smallerEq:jb,typed:ke}),row:G6e({Index:Oc,matrix:un,range:qb,typed:ke}),column:$6e({Index:Oc,matrix:un,range:qb,typed:ke}),mean:J6e({add:Oi,divide:lc,typed:ke}),quantileSeq:nVe({add:Oi,bignumber:mh,compare:ay,divide:lc,isInteger:Ku,larger:mu,multiply:ks,partitionSelect:EF,smaller:gu,smallerEq:jb,subtract:Da,typed:ke}),variance:sVe({add:Oi,apply:IH,divide:lc,isNaN:yx,multiply:ks,subtract:Da,typed:ke}),std:cVe({map:sy,sqrt:Df,typed:ke,variance:GH})}),ll(kae,{BigNumber:gn,Complex:$s,Fraction:ny,Matrix:mF,Node:Pc,ObjectNode:$b,OperatorNode:Zp,ParenthesisNode:cy,Range:xYe,RelationalNode:Hae,ResultSet:tae,ArrayNode:Kb,BlockNode:Vae,ConditionalNode:Qae,ConstantNode:$m,DenseMatrix:ni,RangeNode:zae,Chain:qH,FunctionAssignmentNode:Gae,SparseMatrix:fl,IndexNode:Xb,ImmutableDenseMatrix:gae,Index:Oc,AccessorNode:Yb,AssignmentNode:jae,FibonacciHeap:bae,Spa:xae,Unit:Sr,SymbolNode:Km,FunctionNode:Xm,Help:Wae,Parser:$ae}),qH.createProxy(Wb);const $et=(n,e)=>({"bg-green-100":n,"bg-red-100":e});function Ket(n,e){if(1&n&&(he(0,"div",18)(1,"strong"),Me(2,"Result:"),ce(),Me(3),ce()),2&n){const t=ln();We("ngClass",wE(2,$et,!t.error,t.error)),Te(3),Zi(" ",t.result," ")}}function Xet(n,e){if(1&n&&(he(0,"span",21),Me(1),ce()),2&n){const t=ln().$implicit;Te(),Zi(" (with ",t.variables,") ")}}function Yet(n,e){if(1&n){const t=Os();he(0,"button",19),Xt("click",function(){const i=zn(t).$implicit;return $n(ln().tryExample(i))}),Me(1),pn(2,Xet,2,1,"span",20),ce()}if(2&n){const t=e.$implicit;Te(),Zi(" ",t.expression," "),Te(),We("ngIf",t.variables)}}let Jet=(()=>{class n{constructor(){this.expression="(x + y)",this.variables='{"x": 3, "y": 4}',this.result=null,this.error=!1,this.examples=[{expression:"2 * sin(45 deg) + sqrt(16)",variables:""},{expression:"x^2 + y^2",variables:'{"x": 3, "y": 4}'},{expression:'derivative("x^2 + 2x", "x")',variables:""},{expression:"log(10) + ln(e)",variables:""},{expression:"round(2.7) + ceil(3.2)",variables:""}]}evaluate(){try{let t={};if(this.variables)try{t=JSON.parse(this.variables)}catch{throw new Error("Invalid variables format. Use valid JSON.")}const r=SF(this.expression,t);this.result="number"==typeof r?zb(r,{precision:14}):r.toString(),this.error=!1}catch(t){this.result=`Error: ${t.message}`,this.error=!0}}clear(){this.expression="",this.variables="",this.result=null,this.error=!1}tryExample(t){this.expression=t.expression,this.variables=t.variables,this.evaluate()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-math-parsing"]],decls:29,vars:4,consts:[["align","center"],[1,"container","mx-auto","p-6"],[1,"max-w-2xl","mx-auto","bg-white","p-6","rounded-lg","shadow"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","mb-2"],["placeholder","e.g., 2 * sin(45 deg)",1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],["placeholder",'e.g., {"x": 10, "y": 5}',"value",'{"x": 10, "y": 5}',1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],[1,"flex","gap-2","mb-4",2,"color","blueviolet"],[1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600",2,"background-color","#cccccc",3,"click"],[1,"px-4","py-2","bg-gray-500","text-white","rounded","hover:bg-gray-600",2,"background-color","#cccccc",3,"click"],["class","p-4 rounded",3,"ngClass",4,"ngIf"],[1,"mt-6"],[1,"font-bold","mb-2"],[1,"grid","gap-2"],["class","text-left p-2 hover:bg-gray-100 rounded",3,"click",4,"ngFor","ngForOf"],["align","right"],["routerLink","/StableReleases"],[1,"p-4","rounded",3,"ngClass"],[1,"text-left","p-2","hover:bg-gray-100","rounded",3,"click"],["class","text-sm text-gray-500",4,"ngIf"],[1,"text-sm","text-gray-500"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),Me(4,"Math Expression Parser"),ce(),ut(5,"hr"),he(6,"div",4)(7,"label",5),Me(8,"Enter Expression:"),ce(),he(9,"input",6),tf("ngModelChange",function(o){return aA(i.expression,o)||(i.expression=o),o}),Xt("keyup.enter",function(){return i.evaluate()}),ce()(),he(10,"div",4)(11,"label",5),Me(12,"Variables (JSON format):"),ce(),he(13,"input",7),tf("ngModelChange",function(o){return aA(i.variables,o)||(i.variables=o),o}),Xt("keyup.enter",function(){return i.evaluate()}),ce()(),he(14,"div",8)(15,"button",9),Xt("click",function(){return i.evaluate()}),Me(16," Calculate "),ce(),he(17,"button",10),Xt("click",function(){return i.clear()}),Me(18," Clear "),ce()(),pn(19,Ket,4,5,"div",11),he(20,"div",12)(21,"h3",13),Me(22,"Example Expressions:"),ce(),he(23,"div",14),pn(24,Yet,3,2,"button",15),ce()()()(),ut(25,"hr"),he(26,"div",16)(27,"a",17),Me(28,"[Volver al Menu]"),ce()()()),2&r&&(Te(9),ef("ngModel",i.expression),Te(4),ef("ngModel",i.variables),Te(6),We("ngIf",null!==i.result),Te(5),We("ngForOf",i.examples))},dependencies:[Us,CL,Jl,bc,uA,om,u0]})}}return n})();class NA{constructor(e,t,r){this._index=e,this._value=t,this._selected=r}}let Jb=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}set _baseUrlNetCore(t){this.__baseUrlNetCore=t}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}set _baseUrlNodeJs(t){this.__baseUrlNodeJs=t}get _baseUrlSpringBoot(){return this.__baseUrlSpringBoot}set _baseUrlSpringBoot(t){this.__baseUrlSpringBoot=t}get _baseUrlDjango(){return this.__baseUrlDjango}set _baseUrlDjango(t){this.__baseUrlDjango=t}ngOnInit(){console.log("Calling MCSDService initialization..."),this._baseUrlNetCore=this._configService.getConfigValue("baseUrlNetCore"),this._baseUrlNodeJs=this._configService.getConfigValue("baseUrlNodeJs"),this._baseUrlSpringBoot=this._configService.getConfigValue("baseUrlSpringBoot"),this._baseUrlDjango=this._configService.getConfigValue("baseUrlDjango")}constructor(t,r){this.http=t,this._configService=r,this.HTTPOptions_Text={headers:new Zl({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new Zl({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",this.__baseUrlSpringBoot="",this.__baseUrlDjango="",console.log("Calling MCSDService constructor..."),this._baseUrlNetCore=this._configService.getConfigValue("baseUrlNetCore"),this._baseUrlNodeJs=this._configService.getConfigValue("baseUrlNodeJs"),this._baseUrlSpringBoot=this._configService.getConfigValue("baseUrlSpringBoot"),this._baseUrlDjango=this._configService.getConfigValue("baseUrlDjango")}_GetWebApiAppVersion(){return this.http.get(`${this._baseUrlNetCore}demos/_GetAppVersion`,this.HTTPOptions_Text)}getCSVLinkGET(){return this.http.get(this._baseUrlNetCore+"demos/_GetCSVLinkJsonGET")}getCSVLink(){return this.http.post(this._baseUrlNetCore+"demos/_GetCSVLinkJson",this.HTTPOptions_Text)}getInformeRemotoCSV(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJson",this.HTTPOptions_Text)}getInformeRemotoCSV_STAT(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJsonSTAT",this.HTTPOptions_Text)}_SetSTATPieCache(t){let r=`${t}demos/_SetSTATPieCache`;console.log("Setting STAT Pie data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetSTATPieCache - (return): "+o)},error:o=>{console.error("_SetSTATPieCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetSTATPieCache -  (COMPLETE)")}})}getInformeRemotoCSV_NodeJS(){let t=`${this._baseUrlNodeJs}GenerarInformeCSVJson`;console.warn(" REQUESTING URL : "+t);var r={headers:new Zl({Accept:"application/text"}),responseType:"text"};return this.http.get(t,r)}getLogRemoto(t){return this.http.get(`${this._baseUrlNetCore}demos/generarinformejson`)}getLogRemotoNodeJS(t){let r=`${this._baseUrlNetCore}demos/generarinformejson`,i=this.http.get(r,this.HTTPOptions_JSON);return console.log("getLogRemotoNodeJS : "+r),i}getInformeExcel(t){return this.http.get(this._baseUrlNetCore+"demos/generarinformexls",this.HTTPOptions_Text)}getLogStatPOST(){return this.http.post(`${this._baseUrlNetCore}demos/GetConsultaLogStatPost`,this.HTTPOptions_JSON)}getLogStatGET(){return this.http.get(`${this._baseUrlNetCore}demos/GetConsultaLogStatGet`)}_SetSTATBarCache(t){let r=`${t}demos/_SetSTATBarCache`;console.log("Setting STAT Bar data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetSTATBarCache - (return): "+o)},error:o=>{console.error("_SetSTATBarCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetSTATBarCache -  (COMPLETE)")}})}upload(t){const r=new FormData;r.append("file",t);let i=`${this._baseUrlNetCore}demos/_ZipDemoGetFileName`;console.log("[GENERATE ZIP FILE] - (UPLOADING FILE) url: "+i);const s=new mp("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}SetZip(t){let r=`${this._baseUrlNetCore}demos/_SetZip?p_fileName=${t}`;return console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - fileName: "+t),console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - url     : "+r),this.http.get(r,this.HTTPOptions_JSON)}GetPDF(t){let r=`${this._baseUrlNetCore}demos/_GetPdf?subjectName=${t}`;console.log("[GENERATE PDF FILE] - [GETTING ZIP] - subjectName  : "+t),console.log("[GENERATE PDF FILE] - [GETTING ZIP] - url          : "+r);const i=new mp("GET",r,{reportProgress:!0,responseType:"text"});return this.http.request(i)}getRandomVertex(t,r){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex?p_vertexSize=${t}&p_sourcePoint=${r}`,this.HTTPOptions_Text)}getRandomVertexCpp(t,r){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex_CPP?p_vertexSize=${t}&p_sourcePoint=${r}`,this.HTTPOptions_Text)}getNewSort(){return this.http.get(`${this._baseUrlNetCore}demos/_NewSort`,this.HTTPOptions_Text)}getSort(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort?p_sortAlgoritm=${t}&p_unsortedList=${r}`,this.HTTPOptions_Text)}getSort_CPP(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort_CPP?p_sortAlgoritm=${t}&p_unsortedList=${r}`,this.HTTPOptions_Text)}_GetXmlData(){return this.http.get(`${this._baseUrlNetCore}demos/_GetXmlData`,this.HTTPOptions_Text)}_SetXmlDataToCache(t){let r=`${t}demos/_SetXmlDataToCache`;console.log("Setting XML data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetXmlDataToCache - (return): "+o)},error:o=>{console.error("_SetXmlDataToCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetXmlDataToCache -  (COMPLETE)")}})}_RegExEval(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval?p_tagSearch=${t}&p_textSearch=${r}`,this.HTTPOptions_Text)}_RegExEval_CPP(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval_CPP?p_tagSearch=${t}&p_textSearch=${r}`,this.HTTPOptions_Text)}SetLog(t,r,i=pU.Info){let s,o=`${this._baseUrlNetCore}demos/_SetLog?p_logMsg=${r}&logType=${i.toString()}`;s=this.http.get(o,this.HTTPOptions_Text),s.subscribe({next:l=>{console.warn(t+" - [LOG] - [RESULT] : "+l)},error:l=>{console.error(t+" - [LOG] - [ERROR]  : "+l)},complete:()=>{console.info(t+" - [LOG] - [COMPLETE]")}})}_GetSudoku_NodeJS(){return this.http.get(`${this._baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_GetSudoku(){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_SolveSudoku(t){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const r=new FormData;r.append("file",t);let i=`${this._baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+i);const s=new mp("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}uploadBase64Image(t){let r=this._configService.getConfigValue("baseUrlNodeJsOcr");return this.http.post(r,{base64Image:t})}_TestNodeJs(){let t=this._configService.getConfigValue("baseUrlNodeJs")+"databaseconnect",r=this.http.get(t,this.HTTPOptions_JSON);return console.log("Testing Url : ["+t+"]"),r}_TestSprinbBoot(){let t=this._configService.getConfigValue("baseUrlSpringBoot")+"hello",r=this.http.get(t,this.HTTPOptions_Text);return console.log("Testing Url : ["+t+"]"),r}_TestDjango(){let t=this._configService.getConfigValue("baseUrlDjango"),r=this.http.get(t,this.HTTPOptions_Text);return console.log("Testing Url : ["+t+"]"),r}static{this.\u0275fac=function(r){return new(r||n)(Yt(s0),Yt(um))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class DF{constructor(e,t,r){this.x=e,this.y=t,this.time=r||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class KH{constructor(e,t,r,i,s,o){this.startPoint=e,this.control2=t,this.control1=r,this.endPoint=i,this.startWidth=s,this.endWidth=o}static fromPoints(e,t){const r=this.calculateControlPoints(e[0],e[1],e[2]).c2,i=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new KH(e[1],r,i,e[2],t.start,t.end)}static calculateControlPoints(e,t,r){const i=e.x-t.x,s=e.y-t.y,o=t.x-r.x,a=t.y-r.y,l_x=(e.x+t.x)/2,l_y=(e.y+t.y)/2,c_x=(t.x+r.x)/2,c_y=(t.y+r.y)/2,u=Math.sqrt(i*i+s*s),d=Math.sqrt(o*o+a*a),A=d/(u+d),m=t.x-(c_x+(l_x-c_x)*A),g=t.y-(c_y+(l_y-c_y)*A);return{c1:new DF(l_x+m,l_y+g),c2:new DF(c_x+m,c_y+g)}}length(){let r,i,t=0;for(let s=0;s<=10;s+=1){const o=s/10,a=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){const c=a-r,u=l-i;t+=Math.sqrt(c*c+u*u)}r=a,i=l}return t}point(e,t,r,i,s){return t*(1-e)*(1-e)*(1-e)+3*r*(1-e)*(1-e)*e+3*i*(1-e)*e*e+s*e*e*e}}class MF{constructor(e,t={}){this.canvas=e,this.options=t,this._handleMouseDown=r=>{1===r.which&&(this._mouseButtonDown=!0,this._strokeBegin(r))},this._handleMouseMove=r=>{this._mouseButtonDown&&this._strokeMoveUpdate(r)},this._handleMouseUp=r=>{1===r.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(r))},this._handleTouchStart=r=>{r.preventDefault(),1===r.targetTouches.length&&this._strokeBegin(r.changedTouches[0])},this._handleTouchMove=r=>{r.preventDefault(),this._strokeMoveUpdate(r.targetTouches[0])},this._handleTouchEnd=r=>{r.target===this.canvas&&(r.preventDefault(),this._strokeEnd(r.changedTouches[0]))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this._strokeMoveUpdate=this.throttle?function ett(n,e=250){let i,s,o,t=0,r=null;const a=()=>{t=Date.now(),r=null,i=n.apply(s,o),r||(s=null,o=[])};return function(...l){const c=Date.now(),u=e-(c-t);return s=this,o=l,u<=0||u>e?(r&&(clearTimeout(r),r=null),t=c,i=n.apply(s,o),r||(s=null,o=[])):r||(r=window.setTimeout(a,u)),i}}(MF.prototype._strokeUpdate,this.throttle):MF.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const e=this._ctx,t=this.canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,t={},r){const i=new Image,s=t.ratio||window.devicePixelRatio||1,o=t.width||this.canvas.width/s,a=t.height||this.canvas.height/s;this._reset(),i.onload=()=>{this._ctx.drawImage(i,0,0,o,a),r&&r()},i.onerror=l=>{r&&r(l)},i.src=e,this._isEmpty=!1}toDataURL(e="image/png",t){return"image/svg+xml"===e?this._toSVG():this.canvas.toDataURL(e,t)}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e){this.clear(),this._fromData(e,({color:t,curve:r})=>this._drawCurve({color:t,curve:r}),({color:t,point:r})=>this._drawDot({color:t,point:r})),this._data=e}toData(){return this._data}_strokeBegin(e){this._data.push({color:this.penColor,points:[]}),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)}_strokeUpdate(e){const i=this._createPoint(e.clientX,e.clientY),s=this._data[this._data.length-1],o=s.points,a=o.length>0&&o[o.length-1],l=!!a&&i.distanceTo(a)<=this.minDistance,c=s.color;if(!a||!a||!l){const u=this._addPoint(i);a?u&&this._drawCurve({color:c,curve:u}):this._drawDot({color:c,point:i}),o.push({time:i.time,x:i.x,y:i.y})}}_strokeEnd(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,t){const r=this.canvas.getBoundingClientRect();return new DF(e-r.left,t-r.top,(new Date).getTime())}_addPoint(e){const{_lastPoints:t}=this;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);const r=this._calculateCurveWidths(t[1],t[2]),i=KH.fromPoints(t,r);return t.shift(),i}return null}_calculateCurveWidths(e,t){const r=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(r),s={end:i,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=i,s}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,t,r){const i=this._ctx;i.moveTo(e,t),i.arc(e,t,r,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:e,curve:t}){const r=this._ctx,i=t.endWidth-t.startWidth,s=2*Math.floor(t.length());r.beginPath(),r.fillStyle=e;for(let o=0;o<s;o+=1){const a=o/s,l=a*a,c=l*a,u=1-a,d=u*u,f=d*u;let h=f*t.startPoint.x;h+=3*d*a*t.control1.x,h+=3*u*l*t.control2.x,h+=c*t.endPoint.x;let A=f*t.startPoint.y;A+=3*d*a*t.control1.y,A+=3*u*l*t.control2.y,A+=c*t.endPoint.y,this._drawCurveSegment(h,A,t.startWidth+c*i)}r.closePath(),r.fill()}_drawDot({color:e,point:t}){const r=this._ctx,i="function"==typeof this.dotSize?this.dotSize():this.dotSize;r.beginPath(),this._drawCurveSegment(t.x,t.y,i),r.closePath(),r.fillStyle=e,r.fill()}_fromData(e,t,r){for(const i of e){const{color:s,points:o}=i;if(o.length>1)for(let a=0;a<o.length;a+=1){const l=o[a],c=new DF(l.x,l.y,l.time);this.penColor=s,0===a&&this._reset();const u=this._addPoint(c);u&&t({color:s,curve:u})}else this._reset(),r({color:s,point:o[0]})}}_toSVG(){const e=this._data,t=Math.max(window.devicePixelRatio||1,1),s=this.canvas.width/t,o=this.canvas.height/t,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",this.canvas.width.toString()),a.setAttribute("height",this.canvas.height.toString()),this._fromData(e,({color:h,curve:A})=>{const p=document.createElement("path");if(!(isNaN(A.control1.x)||isNaN(A.control1.y)||isNaN(A.control2.x)||isNaN(A.control2.y))){const m=`M ${A.startPoint.x.toFixed(3)},${A.startPoint.y.toFixed(3)} C ${A.control1.x.toFixed(3)},${A.control1.y.toFixed(3)} ${A.control2.x.toFixed(3)},${A.control2.y.toFixed(3)} ${A.endPoint.x.toFixed(3)},${A.endPoint.y.toFixed(3)}`;p.setAttribute("d",m),p.setAttribute("stroke-width",(2.25*A.endWidth).toFixed(3)),p.setAttribute("stroke",h),p.setAttribute("fill","none"),p.setAttribute("stroke-linecap","round"),a.appendChild(p)}},({color:h,point:A})=>{const p=document.createElement("circle"),m="function"==typeof this.dotSize?this.dotSize():this.dotSize;p.setAttribute("r",m.toString()),p.setAttribute("cx",A.x.toString()),p.setAttribute("cy",A.y.toString()),p.setAttribute("fill",h),a.appendChild(p)});const c=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${s} ${o}" width="${s}" height="${o}">`;let u=a.innerHTML;if(void 0===u){const h=document.createElement("dummy"),A=a.childNodes;h.innerHTML="";for(let p=0;p<A.length;p+=1)h.appendChild(A[p].cloneNode(!0));u=h.innerHTML}return"data:image/svg+xml;base64,"+btoa(c+u+"</svg>")}}const Kae=MF;class XH{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ttt extends XH{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class Xae extends XH{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class ntt extends XH{constructor(e){super(),this.element=e instanceof N?e.nativeElement:e}}class rtt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ttt?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Xae?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof ntt?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class itt extends rtt{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ro.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let stt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})();function Yae(n){return Array.isArray(n)?n:[n]}function ka(n){return null==n?"":"string"==typeof n?n:`${n}px`}const ltt=["addListener","removeListener"],ctt=["addEventListener","removeEventListener"],utt=["on","off"];function Rl(n,e,t,r){if(hn(t)&&(r=t,t=void 0),r)return Rl(n,e,t).pipe(YL(r));const[i,s]=function ftt(n){return hn(n.addEventListener)&&hn(n.removeEventListener)}(n)?ctt.map(o=>a=>n[o](e,a,t)):function dtt(n){return hn(n.addListener)&&hn(n.removeListener)}(n)?ltt.map(Jae(n,e)):function htt(n){return hn(n.on)&&hn(n.off)}(n)?utt.map(Jae(n,e)):[];if(!i&&LL(n))return xl(o=>Rl(o,e,t))(Sl(n));if(!i)throw new TypeError("Invalid event target");return new ci(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function Jae(n,e){return t=>r=>n[t](e,r)}const Sx={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Sx;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new oi(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Sx;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Sx;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class ptt extends d8{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Att extends c8{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Sx.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Sx.cancelAnimationFrame(t),e._scheduled=void 0)}});let YH,mtt=1;const TF={};function Zae(n){return n in TF&&(delete TF[n],!0)}const vtt={setImmediate(n){const e=mtt++;return TF[e]=!0,YH||(YH=Promise.resolve()),YH.then(()=>Zae(e)&&n()),e},clearImmediate(n){Zae(n)}},{setImmediate:ytt,clearImmediate:_tt}=vtt,BF={setImmediate(...n){const{delegate:e}=BF;return(e?.setImmediate||ytt)(...n)},clearImmediate(n){const{delegate:e}=BF;return(e?.clearImmediate||_tt)(n)},delegate:void 0};new class wtt extends d8{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class btt extends c8{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=BF.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(BF.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function ele(n,e=YS){return function Ett(n){return Pi((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(zi(t,c=>{r=!0,i=c,s||Sl(n(c)).subscribe(s=zi(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>rI(n,e))}let JH;try{JH=typeof Intl<"u"&&Intl.v8BreakIterator}catch{JH=!1}let uy,xx=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?iT(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!JH)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)(Yt(Yd))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xtt(){if(null==uy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return uy=!1,uy;if("scrollBehavior"in document.documentElement.style)uy=!0;else{const n=Element.prototype.scrollTo;uy=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return uy}function nle(n){return n.composedPath?n.composedPath()[0]:n.target}function rle(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Mtt=new xn("cdk-dir-doc",{providedIn:"root",factory:function Ttt(){return Ve(gs)}}),Btt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Itt=(()=>{class n{constructor(t){this.value="ltr",this.change=new ie,t&&(this.value=function Ntt(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Btt.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)(Yt(Mtt,8))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),e6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),Rtt=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Rr,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ci(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(ele(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):rr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ys(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function att(n){return n instanceof N?n.nativeElement:n}(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(Yt(Dr),Yt(xx),Yt(gs,8))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ile=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Rr,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ele(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||n)(Yt(xx),Yt(Dr),Yt(gs,8))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sle=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),ole=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({imports:[e6,sle,e6,sle]})}}return n})();const lle=xtt();class Ptt{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ka(-this._previousScrollPosition.left),e.style.top=ka(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),lle&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lle&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Ltt{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ys(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class cle{enable(){}disable(){}attach(){}}function t6(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function ule(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Utt{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();t6(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ktt=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new cle,this.close=o=>new Ltt(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Ptt(this._viewportRuler,this._document),this.reposition=o=>new Utt(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(r){return new(r||n)(Yt(Rtt),Yt(ile),Yt(Dr),Yt(gs))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Htt{constructor(e){if(this.scrollStrategy=new cle,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Vtt{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let dle=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(r){return new(r||n)(Yt(gs))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qtt=(()=>{class n extends dle{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||n)(Yt(gs),Yt(Dr,8))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ztt=(()=>{class n extends dle{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=nle(s)},this._clickListener=s=>{const o=nle(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||n)(Yt(gs),Yt(xx),Yt(Dr,8))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hle=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||rle()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),rle()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||n)(Yt(gs),Yt(xx))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Gtt{constructor(e,t,r,i,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Rr,this._attachments=new Rr,this._detachments=new Rr,this._locationChanges=oi.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Rr,this._outsidePointerEvents=new Rr,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(mo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ka(this._config.width),e.height=ka(this._config.height),e.minWidth=ka(this._config.minWidth),e.minHeight=ka(this._config.minHeight),e.maxWidth=ka(this._config.maxWidth),e.maxHeight=ka(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Yae(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Dl(function ale(...n){const e=RE(n),t=function f_e(n,e){return"number"==typeof NL(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Sl(r[0]):Z_(t)(sa(r,e)):zo}(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const fle="cdk-overlay-connected-position-bounding-box",jtt=/([A-Za-z%]+)$/;class qtt{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Rr,this._resizeSubscription=oi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(fle),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&dy(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(fle),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=ple(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let f=0-a,h=a+s.height-r.height,A=this._subtractOverflows(s.width,0-o,o+s.width-r.width),p=this._subtractOverflows(s.height,f,h),m=A*p;return{visibleArea:m,isCompletelyWithinViewport:s.width*s.height===m,fitsInViewportVertically:p===s.height,fitsInViewportHorizontally:A==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=Ale(this._overlayRef.getConfig().minHeight),a=Ale(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=ple(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function Wtt(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new Vtt(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,f;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const h=Math.min(r.bottom-e.y+r.top,e.y),A=this._lastBoundingBoxSize.height;s=2*h,o=e.y-h,s>A&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-A/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)f=r.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const h=Math.min(r.right-e.x+r.left,e.x),A=this._lastBoundingBoxSize.width;u=2*h,d=e.x-h,u>A&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-A/2)}return{top:o,left:d,bottom:a,right:f,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=ka(r.height),i.top=ka(r.top),i.bottom=ka(r.bottom),i.width=ka(r.width),i.left=ka(r.left),i.right=ka(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=ka(s)),o&&(i.maxWidth=ka(o))}this._lastBoundingBoxSize=r,dy(this._boundingBox.style,i)}_resetBoundingBoxStyles(){dy(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){dy(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();dy(r,this._getExactOverlayY(t,e,u)),dy(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=ka(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=ka(o.maxWidth):s&&(r.maxWidth="")),dy(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=ka(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=ka(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ule(e,r),isOriginOutsideView:t6(e,r),isOverlayClipped:ule(t,r),isOverlayOutsideView:t6(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Yae(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof N)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function dy(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ale(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(jtt);return t&&"px"!==t?null:parseFloat(e)}return n||null}function ple(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const gle="cdk-global-overlay-wrapper";class $tt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(gle),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,f="rtl"===this._overlayRef.getConfig().direction;let h="",A="",p="";l?p="flex-start":"center"===u?(p="center",f?A=d:h=d):f?"left"===u||"end"===u?(p="flex-end",h=d):("right"===u||"start"===u)&&(p="flex-start",A=d):"left"===u||"start"===u?(p="flex-start",h=d):("right"===u||"end"===u)&&(p="flex-end",A=d),e.position=this._cssPosition,e.marginLeft=l?"0":h,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":A,t.justifyContent=p,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(gle),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Ktt=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new $tt}flexibleConnectedTo(t){return new qtt(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||n)(Yt(ile),Yt(gs),Yt(xx),Yt(hle))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xtt=0,IF=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,f,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=f,this._animationsModuleType=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new Htt(t);return o.direction=o.direction||this._directionality.value,new Gtt(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Xtt++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(rf)),new itt(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||n)(Yt(ktt),Yt(hle),Yt(YC),Yt(Ktt),Yt(Qtt),Yt(Ro),Yt(Dr),Yt(gs),Yt(Itt),Yt(Q_),Yt(ztt),Yt(JO,8))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ytt=new xn("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ve(IF);return()=>n.scrollStrategies.reposition()}}),Ztt={provide:Ytt,deps:[IF],useFactory:function Jtt(n){return()=>n.scrollStrategies.reposition()}};let ent=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({providers:[IF,Ztt],imports:[e6,stt,ole,ole]})}}return n})();const tnt=["fullScreenTpl"],nnt=["nspSmall"],rnt=["nspBig"],int=["*"],mle=n=>({height:n});function snt(n,e){if(1&n&&(he(0,"div",3),ut(1,"div",4)(2,"canvas",null,2)(4,"div",5),yE(5),ce()),2&n){const t=ln();Te(),We("ngStyle",lA(2,mle,t.sectionHeight+"px")),Te(3),We("ngStyle",lA(4,mle,t.sectionHeight+"px"))}}let n6=(()=>{class n{renderer2;overlay;viewContainerRef;smallPad;bigPad;smallCanvas;bigCanvas;overlayRef;portal;signDataHistory=[];fullScreenWidth;fullScreenHeight;_isEmpty=!0;isFullScreen=!1;sectionHeight;get activePad(){return this.isFullScreen?this.bigPad:this.smallPad}options={};beginSign=new ie;endSign=new ie;fullScreenTpl;nspSmall;nspBig;fullScreen(){this.portal=new Xae(this.fullScreenTpl,this.viewContainerRef),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block(),height:"100%",width:"100%"}),this.overlayRef.attach(this.portal),setTimeout(()=>{this.initBigPad();const{width:t,height:r}=this.options,i=this.bigCanvas.getContext("2d");i.save(),i.translate(this.fullScreenWidth,0),i.rotate(90*Math.PI/180),i.drawImage(this.smallCanvas,0,0,t,r,0,0,this.fullScreenHeight,this.fullScreenWidth),i.restore()},0),this.isFullScreen=!0}miniScreen(){this.smallPad.clear();const{width:t,height:r}=this.options,i=t/this.fullScreenHeight,s=r/this.fullScreenWidth,o=this.smallCanvas.getContext("2d");o.save(),o.translate(0,r),o.rotate(-90*Math.PI/180),o.drawImage(this.bigCanvas,0,0,this.fullScreenWidth,this.fullScreenHeight,0,0,this.fullScreenWidth*i,this.fullScreenHeight*s),o.restore(),this.overlayRef.dispose(),this.bigCanvas=null,this.bigPad=null,this.isFullScreen=!1}toData(){return this.activePad.toData()}fromData(t){this.activePad.fromData(t)}toDataURL(t){switch(t){case"image/jpeg":return this.activePad.toDataURL("image/jpeg");case"image/svg+xml":return this.activePad.toDataURL("image/svg+xml");default:return this.activePad.toDataURL()}}fromDataURL(t,r,i){this.activePad.fromDataURL(t,r,i)}revert(){this.signDataHistory.pop(),this.fromData(this.signDataHistory),0===this.signDataHistory.length&&this.setEmpty()}clear(){this.setEmpty(),this.signDataHistory=[],this.activePad.clear()}isEmpty(){return this._isEmpty}setDirty(){this._isEmpty=!1}setEmpty(){this._isEmpty=!0}getContext(){return this.isFullScreen?this.bigCanvas.getContext("2d"):this.smallCanvas.getContext("2d")}initBigPad(){this.bigCanvas=this.nspBig.nativeElement;const t=JSON.parse(JSON.stringify(this.options));this.fullScreenWidth=document.documentElement.clientWidth;const{width:r,height:i}=this.options;this.fullScreenHeight=this.fullScreenWidth*r/i;const o=document.documentElement.clientHeight-this.fullScreenHeight;this.sectionHeight=o/2,t.width=this.fullScreenWidth,t.height=this.fullScreenHeight;const{css:a}=t;this.bigCanvas.width=this.fullScreenWidth,this.bigCanvas.height=this.fullScreenHeight;for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&this.renderer2.setStyle(this.bigCanvas,l,a[l]);this.bigPad=new Kae(this.bigCanvas,t),this.bigPad.onBegin=this._onBegin.bind(this),this.bigPad.onEnd=this._onEnd.bind(this)}initSmallPad(){this.smallCanvas=this.nspSmall.nativeElement;const{width:t,height:r,css:i}=this.options;this.options.width=t||300,this.options.height=r||150,this.smallCanvas.width=this.options.width,this.smallCanvas.height=this.options.height;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&this.renderer2.setStyle(this.smallCanvas,s,i[s]);this.smallPad=new Kae(this.smallCanvas,this.options),this.smallPad.onBegin=this._onBegin.bind(this),this.smallPad.onEnd=this._onEnd.bind(this)}_onBegin(){this.setDirty(),this.beginSign.emit()}_onEnd(){this.signDataHistory=this.toData(),this.endSign.emit()}setPadAttribute(t,r){this.bigPad&&(this.bigPad[t]=r),this.smallPad[t]=r}constructor(t,r,i){this.renderer2=t,this.overlay=r,this.viewContainerRef=i}ngAfterViewInit(){this.initSmallPad()}ngOnChanges(t){if(t.options.firstChange)return;const{dotSize:r,minWidth:i,maxWidth:s,throttle:o,minDistance:a,backgroundColor:l,penColor:c,velocityFilterWeight:u,width:d,height:f,css:h}=t.options.currentValue;if(r&&this.setPadAttribute("dotSize",r),i&&this.setPadAttribute("minWidth",i),s&&this.setPadAttribute("maxWidth",s),o&&this.setPadAttribute("throttle",o),a&&this.setPadAttribute("minDistance",a),l&&this.setPadAttribute("backgroundColor",l),c&&this.setPadAttribute("penColor",c),u&&this.setPadAttribute("velocityFilterWeight",u),d||f){const{width:A,height:p}=t.options.previousValue,m=this.smallPad.toDataURL(),g=new Image;g.src=m,g.onload=()=>{this.initSmallPad(),this.smallCanvas.getContext("2d").drawImage(g,0,0,A,p,0,0,d,f)}}if(h){if(this.bigCanvas)for(const A in h)Object.prototype.hasOwnProperty.call(h,A)&&this.renderer2.setStyle(this.bigCanvas,A,h[A]);if(this.smallCanvas)for(const A in h)Object.prototype.hasOwnProperty.call(h,A)&&this.renderer2.setStyle(this.smallCanvas,A,h[A])}}static \u0275fac=function(r){return new(r||n)(vt($h),vt(IF),vt(Nu))};static \u0275cmp=hr({type:n,selectors:[["ngx-signature-pad"]],viewQuery:function(r,i){if(1&r&&(ss(tnt,5),ss(nnt,5),ss(rnt,5)),2&r){let s;pr(s=gr())&&(i.fullScreenTpl=s.first),pr(s=gr())&&(i.nspSmall=s.first),pr(s=gr())&&(i.nspBig=s.first)}},inputs:{options:"options"},outputs:{beginSign:"beginSign",endSign:"endSign"},features:[qo],ngContentSelectors:int,decls:4,vars:0,consts:[["nspSmall",""],["fullScreenTpl",""],["nspBig",""],[1,"nsp-container"],[1,"section","left",2,"width","100%",3,"ngStyle"],[1,"section","right",2,"width","100%",3,"ngStyle"]],template:function(r,i){1&r&&(vE(),ut(0,"canvas",null,0),pn(2,snt,6,6,"ng-template",null,1,nf))},dependencies:[nT],styles:[".nsp-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;left:0;top:0;width:100%;height:100vh;background:#fff}.nsp-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{flex:1}.nsp-container[_ngcontent-%COMP%]   .section.left[_ngcontent-%COMP%]{border-bottom:2px dashed #dedee5}.nsp-container[_ngcontent-%COMP%]   .section.right[_ngcontent-%COMP%]{border-top:2px dashed #dedee5}"]})}return n})(),ont=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ui({type:n});static \u0275inj=Ln({imports:[Jg,ent]})}return n})();const ant=["signature"],lnt=["video"],cnt=["canvas"],unt=["_sourceList"],dnt=["_engineList"];function hnt(n,e){if(1&n&&ut(0,"img",28),2&n){const t=ln();We("src",t.capturedImage,Do)("hidden",t.capturedImageHidden)}}function fnt(n,e){if(1&n&&(he(0,"option",29),Me(1),ce()),2&n){const t=e.$implicit;We("value",t._index)("selected",t._selected),Te(),Pr(t._value)}}function Ant(n,e){if(1&n&&(he(0,"option",29),Me(1),ce()),2&n){const t=e.$implicit;We("value",t._index)("selected",t._selected),Te(),Pr(t._value)}}let pnt=(()=>{class n{constructor(t){this.mcsdService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[],this.imageURL=null}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new NA(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new NA(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new NA(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new NA(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new NA(1,"(OCR / TESSERACT - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){if(1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)){let t=this.signature?.toDataURL();this.uploadImage(t)}else this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.statusButtonSaveImage="..parsing..",this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!0,this.mcsdService.uploadBase64Image(t).subscribe(r=>{console.log("Image uploaded successfully:",r),this.status=JSON.parse(JSON.stringify(r)).message;const i=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(i),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1},r=>{console.error("Error uploading image:",r),this.status=r,this.statusButton="[save]"})}startCamera(){var t=this;return(0,mt.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(r){console.error("Error accessing the camera:",r)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,r=this.canvas.nativeElement,i=r.getContext("2d");i&&(r.width=t.videoWidth/4,r.height=t.videoHeight/4,console.log("width: "+r.width+" height: "+r.height),i.drawImage(t,0,0,r.width,r.height),this.capturedImage=r.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&this.uploadImage(this.capturedImage):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const r=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return new Blob([s],{type:i})}flipCamera(){var t=this;return(0,mt.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}static{this.\u0275fac=function(r){return new(r||n)(vt(Jb))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-ocr-photo-capture"]],viewQuery:function(r,i){if(1&r&&(ss(ant,5),ss(lnt,7),ss(cnt,5),ss(unt,5),ss(dnt,5)),2&r){let s;pr(s=gr())&&(i.signature=s.first),pr(s=gr())&&(i.videoElement=s.first),pr(s=gr())&&(i.canvas=s.first),pr(s=gr())&&(i._sourceList=s.first),pr(s=gr())&&(i._engineList=s.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=Os();he(0,"div",5)(1,"h1"),Me(2,"[MISCELANEOUS - OCR]"),ce(),he(3,"div",6),ut(4,"hr"),he(5,"ngx-signature-pad",7,0),Xt("beginSign",function(){return zn(s),$n(i.onBeginSign())})("endSign",function(){return zn(s),$n(i.onEndSign())}),ce(),ut(7,"hr"),he(8,"input",8),Xt("click",function(){return zn(s),$n(i.saveSignature())}),ce(),Me(9," | "),he(10,"button",9),Xt("click",function(){return zn(s),$n(i.clearSignature())}),Me(11,"Clear Signature"),ce(),ut(12,"br"),ce(),he(13,"div",10),ut(14,"hr"),he(15,"div",11),ut(16,"video",12,1)(18,"canvas",13,2),ce(),pn(20,hnt,1,2,"img",14),ut(21,"hr"),he(22,"button",15),Xt("click",function(){return zn(s),$n(i.capturePhoto())}),Me(23),ce(),Me(24," | "),he(25,"button",15),Xt("click",function(){return zn(s),$n(i.saveImage())}),Me(26),ce(),Me(27," | "),he(28,"button",9),Xt("click",function(){return zn(s),$n(i.flipCamera())}),Me(29,"Flip Camera"),ce()(),ut(30,"hr"),he(31,"span",16),Me(32),ce(),ut(33,"hr"),he(34,"div",17)(35,"label",18)(36,"span",19),Me(37),ce()(),Me(38," \xa0"),he(39,"select",20,3),Xt("change",function(){return zn(s),$n(i.selectionChange())}),pn(41,fnt,2,3,"option",21),ce()(),he(42,"div",22)(43,"label",23)(44,"span",24),Me(45),ce()(),Me(46," \xa0"),he(47,"select",25,4),Xt("change",function(){return zn(s),$n(i.selectionChangeEngines())}),pn(49,Ant,2,3,"option",21),ce()(),he(50,"div",26)(51,"a",27),Me(52,"[Volver al Menu]"),ce()()()}2&r&&(Te(3),We("hidden",i.hiddenCanvasContainer),Te(2),We("options",i.options),Te(3),Kg("value",i.statusButton),We("disabled","..parsing.."==i.statusButton),Te(5),We("hidden",i.hiddenCameraContainer),Te(2),We("hidden",i.cameraContainerHidden),Te(),Zd(i.videoStyle),Te(4),We("ngIf",i.capturedImage),Te(2),We("disabled",i.captureButtonDisabled),Te(),Pr(i.captureButtonStatus),Te(2),We("disabled",i.saveImageButtonDisabled),Te(),Pr(i.statusButtonSaveImage),Te(6),Pr(i.status),Te(5),Pr(i.tituloListadOrigen),Te(4),We("ngForOf",i.__sourceList),Te(4),Pr(i.titleEngineList),Te(4),We("ngForOf",i.__engineList))},dependencies:[Us,Jl,bc,d0,h0,n6],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})(),gnt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-stable-releases"]],decls:35,vars:0,consts:[["align","left"],["routerLink","/OcrPhotoCapture"],["routerLink","/Chat"],["routerLink","/Sudoku"],["routerLink","/Hanoi"],["routerLink","/Hanoi3d"],["routerLink","/TicTacToe"],["routerLink","/BouncingBall"],["routerLink","/Tetris"],["routerLink","/MathParsing"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h2"),Me(2,"[Stable Releases]"),ce(),he(3,"ul")(4,"li")(5,"a",1),Me(6,"[OCR / COMPUTER VISION]"),ce()(),he(7,"li")(8,"a",2),Me(9,"[chat]"),ce()(),he(10,"li")(11,"a",3),Me(12,"[sudoku]"),ce()(),he(13,"li")(14,"a",4),Me(15,"[hanoi towers - [ALGORITMOS - RECURSION]]"),ce()(),he(16,"li")(17,"a",5),Me(18,"[Hanoi - 3d]"),ce()(),he(19,"li")(20,"a",6),Me(21,"[tic tac toe (offline) - [ALGORITMOS - MINMAX]]"),ce()(),he(22,"li")(23,"a",7),Me(24,"[Boucing Ball]"),ce()(),he(25,"li")(26,"a",8),Me(27,"[Tetris]"),ce()(),he(28,"li")(29,"a",9),Me(30,"[Math Parsing]"),ce()()()(),ut(31,"hr"),he(32,"div",10)(33,"a",11),Me(34,"[Volver al Inicio]"),ce()())},dependencies:[Us]})}}return n})(),mnt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-dev"]],decls:38,vars:0,consts:[["align","left"],["routerLink","/HanoiAuto"],["routerLink","/HanoiRjxs"],["routerLink","/RxJsPlayground"],["routerLink","/TicTacToeOnline"],["routerLink","/Ocr"],["routerLink","/BackendTesting"],["routerLink","/SpeechRecognition"],["routerLink","/ShapeRecognition"],["routerLink","/ShapeReconCanvas"],["routerLink","/WebAssembly"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h1"),Me(2,"[Testing Releases]"),ce(),he(3,"ul")(4,"li")(5,"a",1),Me(6,"[Hanoi RxJS - Auto]"),ce()(),he(7,"li")(8,"a",2),Me(9,"[Hanoi RxJS - Manual]"),ce()(),he(10,"li")(11,"a",3),Me(12,"[RxJS Playground]"),ce()(),he(13,"li")(14,"a",4),Me(15,"[tic tac toe (online) - [ALGORITMOS - MINMAX]]"),ce()(),he(16,"li")(17,"a",5),Me(18,"[OCR]"),ce()(),he(19,"li")(20,"a",6),Me(21,"[Backend Testing]"),ce()(),he(22,"li")(23,"a",7),Me(24,"[Speech Recognition]"),ce()(),he(25,"li")(26,"a",8),Me(27,"[Shape Recognition]"),ce()(),he(28,"li")(29,"a",9),Me(30,"[Shape Recognition - Canvas]"),ce()(),he(31,"li")(32,"a",10),Me(33,"[Web Assemby Test]"),ce()()()(),ut(34,"hr"),he(35,"div",11)(36,"a",12),Me(37,"[Volver al Inicio]"),ce()())},dependencies:[Us]})}}return n})(),vnt=(()=>{class n{constructor(t,r){this.backendervice=t,this.router=r,this.lblStatusNodeJs="",this.BtnTestNodeJSCaption="[TEST NODE.JS]",this.lblStatusSpringBoot="",this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]",this.lblStatusDjango="",this.BtnTestDjangoCaption="[TEST DJANGO]"}RedirectHome(){this.router.navigateByUrl("/Home")}TestNodeJs(){console.log("[TEST NODE.JS] \n"),this.BtnTestNodeJSCaption="...(retrieving data)...",this.backendervice._TestNodeJs().subscribe({next:i=>{this.lblStatusNodeJs=JSON.parse(i).recordsets[0][0].nombreCompleto,console.log("[TEST - NODEJS] - (return): "+this.lblStatusNodeJs),this.BtnTestNodeJSCaption="[TEST NODE.JS]"},error:i=>{console.error("[TEST - NODEJS] - (ERROR) : "+JSON.stringify(i.message)),this.lblStatusNodeJs=i.message,this.BtnTestNodeJSCaption="[TEST NODE.JS]"},complete:()=>{console.log("[TEST - NODEJS]  -  (COMPLETE)")}})}TestSpringBoot(){console.log("[TEST SPRINGBOOT] \n"),this.BtnTestSpringBootCaption="...(retrieving data)...",this.backendervice._TestSprinbBoot().subscribe({next:i=>{this.lblStatusSpringBoot=i,console.log("[TEST - NODEJS] - (return): "+this.lblStatusSpringBoot),this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},error:i=>{let s=JSON.stringify(i.message);console.error("[TEST - SPRINBBOOT] - (ERROR) : "+s),this.lblStatusSpringBoot=s,this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},complete:()=>{console.log("[TEST - springboot]  -  (COMPLETE)")}})}TestDjango(){console.log("[TEST SPRINGBOOT] \n"),this.BtnTestDjangoCaption="...(retrieving data)...",this.backendervice._TestDjango().subscribe({next:i=>{this.lblStatusDjango=i,console.log("[TEST - NODEJS] - (return): "+this.lblStatusDjango),this.BtnTestDjangoCaption="[TEST DJANGO]"},error:i=>{let s=JSON.stringify(i.message);console.error("[TEST - DJANGO] - (ERROR) : "+s),this.lblStatusDjango=s,this.BtnTestDjangoCaption="[TEST DJANGO]"},complete:()=>{console.log("[TEST - DJANGO]  -  (COMPLETE)")}})}static{this.\u0275fac=function(r){return new(r||n)(vt(Jb),vt(nu))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-unt-testing"]],decls:28,vars:9,consts:[["align","left"],["type","button",3,"click","value","disabled"],["id","lblStatusNodeJs"],["id","lblStatusSprinbBoot"],["id","lblStatusDjango"],["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(he(0,"div",0),ut(1,"hr"),he(2,"h1"),Me(3,"[NODE.JS]"),ce(),ut(4,"br"),he(5,"input",1),Xt("click",function(){return i.TestNodeJs()}),ce(),ut(6,"br"),he(7,"label",2),Me(8),ce(),ut(9,"hr"),he(10,"h1"),Me(11,"[SPRING BOOT]"),ce(),he(12,"input",1),Xt("click",function(){return i.TestSpringBoot()}),ce(),ut(13,"br"),he(14,"label",3),Me(15),ce(),ut(16,"hr"),he(17,"h1"),Me(18,"[PYTHON / DJANGO]"),ce(),he(19,"input",1),Xt("click",function(){return i.TestDjango()}),ce(),ut(20,"br"),he(21,"label",4),Me(22),ce(),ut(23,"hr"),ce(),ut(24,"hr"),he(25,"div",5)(26,"a",6),Me(27,"[Volver al Menu]"),ce()()),2&r&&(Te(5),Kg("value",i.BtnTestNodeJSCaption),We("disabled","[TEST NODE.JS]"!=i.BtnTestNodeJSCaption),Te(3),Zi("Test Result :[",i.lblStatusNodeJs,"]"),Te(4),Kg("value",i.BtnTestSpringBootCaption),We("disabled","[TEST SPRINGBOOT]"!=i.BtnTestSpringBootCaption),Te(3),Zi("Test Result :[",i.lblStatusSpringBoot,"]"),Te(4),Kg("value",i.BtnTestDjangoCaption),We("disabled","[TEST DJANGO]"!=i.BtnTestDjangoCaption),Te(3),Zi("Test Result :[",i.lblStatusDjango,"]"))},dependencies:[Us]})}}return n})();const ynt=["signature"];let _nt=(()=>{class n{constructor(t){this.backendService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]"}onBeginSign(){}onEndSign(){}saveSignature(){console.log("Saving signature...");let t=this.signature?.toDataURL();console.log("Data URL:",t),this.uploadImage(t)}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.backendService.uploadBase64Image(t).subscribe(r=>{console.log("Image uploaded successfully:",r),this.status=JSON.parse(JSON.stringify(r)).message,this.statusButton="[save]";const i=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(i)},r=>{console.error("Error uploading image:",r),this.status=r,this.statusButton="[save]"})}static{this.\u0275fac=function(r){return new(r||n)(vt(Jb))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-ocr"]],viewQuery:function(r,i){if(1&r&&ss(ynt,5),2&r){let s;pr(s=gr())&&(i.signature=s.first)}},decls:19,vars:4,consts:[["signature",""],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","right"],["routerLink","/Dev"]],template:function(r,i){if(1&r){const s=Os();he(0,"h1"),Me(1,"[OCR]"),ce(),ut(2,"hr"),he(3,"div")(4,"ngx-signature-pad",1,0),Xt("beginSign",function(){return zn(s),$n(i.onBeginSign())})("endSign",function(){return zn(s),$n(i.onEndSign())}),ce()(),ut(6,"hr"),he(7,"input",2),Xt("click",function(){return zn(s),$n(i.saveSignature())}),ce(),Me(8,"\n|\n"),he(9,"button",3),Xt("click",function(){return zn(s),$n(i.clearSignature())}),Me(10,"Clear Signature"),ce(),ut(11,"br")(12,"br"),he(13,"span",4),Me(14),ce(),ut(15,"hr"),he(16,"div",5)(17,"a",6),Me(18,"[Volver al Menu]"),ce()()}2&r&&(Te(4),We("options",i.options),Te(3),Kg("value",i.statusButton),We("disabled","..parsing.."==i.statusButton),Te(7),Pr(i.status))},dependencies:[Us,n6],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}"]})}}return n})(),vle=(()=>{class n{constructor(){console.log("cv global variable : "+cv)}detectShapes(t){const r=[];if(cv.getBuildInformation){const i=cv.imread(t),s=new cv.Mat,o=new cv.Mat;cv.cvtColor(i,s,cv.COLOR_RGBA2GRAY,0),cv.Canny(s,o,50,150,3,!1);const a=new cv.MatVector,l=new cv.Mat;cv.findContours(o,a,l,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE);for(let c=0;c<a.size();c++){const u=a.get(c),d=new cv.Mat,f=.04*cv.arcLength(u,!0);cv.approxPolyDP(u,d,f,!0);let h="";if(3===d.rows)h="Tri\xe1ngulo";else if(4===d.rows){const A=cv.boundingRect(d),p=A.width/A.height;h=p>=.95&&p<=1.05?"Cuadrado":"Rect\xe1ngulo"}else d.rows>4&&(h="C\xedrculo");h&&r.push(h)}return i.delete(),s.delete(),o.delete(),a.delete(),l.delete(),r}return r}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const bnt=["video"];function wnt(n,e){if(1&n&&(he(0,"div"),ut(1,"img",5),ce()),2&n){const t=ln();Te(),We("src",t.imageURL,Do)}}function Cnt(n,e){if(1&n&&(he(0,"li"),Me(1),ce()),2&n){const t=e.$implicit;Te(),Pr(t)}}function Ent(n,e){if(1&n&&(he(0,"div",6)(1,"h3"),Me(2,"Detected Shapes:"),ce(),he(3,"ul"),pn(4,Cnt,2,1,"li",7),ce()()),2&n){const t=ln();Te(4),We("ngForOf",t.detectedShapes)}}let Snt=(()=>{class n{constructor(t,r){this.mcsdService=t,this.shapeDetectionService=r,this.detectedShapes=[],this.imageURL=null,this.videoStyle="width: 150px;height:150px; transform : scaleX(1);"}onFileSelected(t){const r=t.target.files[0];if(r){const i=new FileReader;i.onload=s=>{this.imageURL=s.target.result,this.detectShapes()},i.readAsDataURL(r)}}detectShapes(){const t=new Image;t.onload=()=>{const r=this.shapeDetectionService.detectShapes(t);this.detectedShapes=r;const i=new SpeechSynthesisUtterance(this.detectedShapes.toString());speechSynthesis.speak(i)},t.src=this.imageURL}ngAfterViewInit(){}static{this.\u0275fac=function(r){return new(r||n)(vt(Jb),vt(vle))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-open-cv-shape-recon"]],viewQuery:function(r,i){if(1&r&&ss(bnt,7),2&r){let s;pr(s=gr())&&(i.videoElement=s.first)}},decls:11,vars:2,consts:[["type","file",3,"change"],[4,"ngIf"],["align","center",4,"ngIf"],["align","right"],["routerLink","/Dev"],["alt","Uploaded Image",2,"max-width","100%","height","auto",3,"src"],["align","center"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(he(0,"h4"),Me(1,"[MISCELANEOUS / SHAPE RECOGNITION]"),ce(),ut(2,"hr"),he(3,"div")(4,"input",0),Xt("change",function(o){return i.onFileSelected(o)}),ce()(),pn(5,wnt,2,1,"div",1)(6,Ent,5,1,"div",2),ut(7,"hr"),he(8,"div",3)(9,"a",4),Me(10,"[Volver al Menu]"),ce()()),2&r&&(Te(5),We("ngIf",i.imageURL),Te(),We("ngIf",i.detectedShapes.length>0))},dependencies:[Us,Jl,bc],styles:["input[type=file][_ngcontent-%COMP%]{margin-bottom:10px}img[_ngcontent-%COMP%]{margin-top:20px}","video[_ngcontent-%COMP%] {\n    \n\n    \n\n    width: 50%;\n    \n\n    height: 50%;\n    transform: scaleX(1);\n  }"]})}}return n})();function yle(n,e){return e?t=>eS(e.pipe(mo(1),function xnt(){return Pi((n,e)=>{n.subscribe(zi(e,Ms))})}()),t.pipe(yle(n))):xl((t,r)=>Sl(n(t,r)).pipe(mo(1),Y$(t)))}function Tx(n,e=YS){const t=rI(n,e);return yle(()=>t)}let r6,i6,_le=rr(1,2,3,4,5),ble=[],wle=["a","b","c","d","e"],Cle=new ds(null),Dnt=Cle.asObservable();let Bnt=(()=>{class n{constructor(){this.TestBasicObservable()}TestBasicObservable(){r6=sa(_le).pipe(em(t=>rr(t).pipe(Tx(1e3)))),r6.subscribe({next(t){console.log("Observable emitted the next value from service to array : "+t),ble.push(t)},error(t){console.error("Behaviour subject erro: "+t)},complete(){console.log("Observable complete notification"),function Mnt(){qZ(1e3).pipe(mo(wle.length),Hr(n=>wle[n])).subscribe({next(n){console.log("Behaviour subject item : "+n),Cle.next(n)},error(n){console.error("Behaviour subject erro: "+n)},complete(){console.log("Behaviour subject complete notification"),function Tnt(){i6=sa(["A","B","C","D","E"]).pipe(em(t=>rr(t).pipe(Tx(1e3)))),i6.subscribe({next(t){console.log(`Iteration emitted Result: ${t}`)},error(t){console.error("Iteration emitted an error: "+t)},complete(){console.log("Iteration complete notification")}})}()}})}()}})}get CurrentValue(){return ble}get Numbers(){return _le}get CurrentItem(){return Dnt}get delayedObservable(){return r6}get delayedObservableIteration(){return i6}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Nnt=(()=>{class n{constructor(t){this.service=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(vt(Bnt))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-rx-jsplayground"]],decls:18,vars:9,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(he(0,"h1"),Me(1,"[RXJS PLAYGROUND]"),ce(),ut(2,"hr"),he(3,"div"),Me(4),Fu(5,"async"),ce(),ut(6,"hr"),he(7,"div"),Me(8),Fu(9,"async"),ce(),ut(10,"hr"),he(11,"div"),Me(12),Fu(13,"async"),ce(),ut(14,"hr"),he(15,"div",0)(16,"a",1),Me(17,"[Volver al Menu]"),ce()()),2&r&&(Te(4),Zi(" Current observable value : ",Ru(5,3,i.service.delayedObservable),"\n"),Te(4),Zi(" Current BehaviourSubject value : ",Ru(9,5,i.service.CurrentItem),"\n"),Te(4),Zi(" Current Iteration value : ",Ru(13,7,i.service.delayedObservableIteration),"\n"))},dependencies:[Us,j_]})}}return n})();const Int=["signature"],Fnt=["video"],Rnt=["canvas"],Ont=["_sourceList"],Pnt=["_engineList"];function Lnt(n,e){if(1&n&&ut(0,"img",28),2&n){const t=ln();We("src",t.capturedImage,Do)("hidden",t.capturedImageHidden)}}function Unt(n,e){if(1&n&&(he(0,"option",29),Me(1),ce()),2&n){const t=e.$implicit;We("value",t._index)("selected",t._selected),Te(),Pr(t._value)}}function knt(n,e){if(1&n&&(he(0,"option",29),Me(1),ce()),2&n){const t=e.$implicit;We("value",t._index)("selected",t._selected),Te(),Pr(t._value)}}let Hnt=(()=>{class n{constructor(t,r){this.backendService=t,this.shapeDetectionService=r,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[]}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new NA(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new NA(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new NA(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new NA(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new NA(1,"(CV / OPENCV - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)?this.detectShapes(this.signature?.toDataURL()):this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}startCamera(){var t=this;return(0,mt.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(r){console.error("Error accessing the camera:",r)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,r=this.canvas.nativeElement,i=r.getContext("2d");i&&(r.width=t.videoWidth/4,r.height=t.videoHeight/4,console.log("width: "+r.width+" height: "+r.height),i.drawImage(t,0,0,r.width,r.height),this.capturedImage=r.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&(this.detectShapes(this.capturedImage),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const r=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return new Blob([s],{type:i})}flipCamera(){var t=this;return(0,mt.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}detectShapes(t){const r=new Image;r.onload=()=>{const i=this.shapeDetectionService.detectShapes(r);console.log("Detected Shapes "+i),this.detectedShapes=i,this.status=this.detectedShapes.toString();const s=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(s)},r.src=t}static{this.\u0275fac=function(r){return new(r||n)(vt(Jb),vt(vle))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-shape-recon-canvas"]],viewQuery:function(r,i){if(1&r&&(ss(Int,5),ss(Fnt,7),ss(Rnt,5),ss(Ont,5),ss(Pnt,5)),2&r){let s;pr(s=gr())&&(i.signature=s.first),pr(s=gr())&&(i.videoElement=s.first),pr(s=gr())&&(i.canvas=s.first),pr(s=gr())&&(i._sourceList=s.first),pr(s=gr())&&(i._engineList=s.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=Os();he(0,"div",5)(1,"h1"),Me(2,"[MISCELANEOUS - CV]"),ce(),he(3,"div",6),ut(4,"hr"),he(5,"ngx-signature-pad",7,0),Xt("beginSign",function(){return zn(s),$n(i.onBeginSign())})("endSign",function(){return zn(s),$n(i.onEndSign())}),ce(),ut(7,"hr"),he(8,"input",8),Xt("click",function(){return zn(s),$n(i.saveSignature())}),ce(),Me(9," | "),he(10,"button",9),Xt("click",function(){return zn(s),$n(i.clearSignature())}),Me(11,"Clear Signature"),ce(),ut(12,"br"),ce(),he(13,"div",10),ut(14,"hr"),he(15,"div",11),ut(16,"video",12,1)(18,"canvas",13,2),ce(),pn(20,Lnt,1,2,"img",14),ut(21,"hr"),he(22,"button",15),Xt("click",function(){return zn(s),$n(i.capturePhoto())}),Me(23),ce(),Me(24," | "),he(25,"button",15),Xt("click",function(){return zn(s),$n(i.saveImage())}),Me(26),ce(),Me(27," | "),he(28,"button",9),Xt("click",function(){return zn(s),$n(i.flipCamera())}),Me(29,"Flip Camera"),ce()(),ut(30,"hr"),he(31,"span",16),Me(32),ce(),ut(33,"hr"),he(34,"div",17)(35,"label",18)(36,"span",19),Me(37),ce()(),Me(38," \xa0"),he(39,"select",20,3),Xt("change",function(){return zn(s),$n(i.selectionChange())}),pn(41,Unt,2,3,"option",21),ce()(),he(42,"div",22)(43,"label",23)(44,"span",24),Me(45),ce()(),Me(46," \xa0"),he(47,"select",25,4),Xt("change",function(){return zn(s),$n(i.selectionChangeEngines())}),pn(49,knt,2,3,"option",21),ce()(),he(50,"div",26)(51,"a",27),Me(52,"[Volver al Menu]"),ce()()()}2&r&&(Te(3),We("hidden",i.hiddenCanvasContainer),Te(2),We("options",i.options),Te(3),Kg("value",i.statusButton),We("disabled","..parsing.."==i.statusButton),Te(5),We("hidden",i.hiddenCameraContainer),Te(2),We("hidden",i.cameraContainerHidden),Te(),Zd(i.videoStyle),Te(4),We("ngIf",i.capturedImage),Te(2),We("disabled",i.captureButtonDisabled),Te(),Pr(i.captureButtonStatus),Te(2),We("disabled",i.saveImageButtonDisabled),Te(),Pr(i.statusButtonSaveImage),Te(6),Pr(i.status),Te(5),Pr(i.tituloListadOrigen),Te(4),We("ngForOf",i.__sourceList),Te(4),Pr(i.titleEngineList),Te(4),We("ngForOf",i.__engineList))},dependencies:[Us,Jl,bc,d0,h0,n6],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})();function Vnt(n,e){if(1&n&&(he(0,"div",8)(1,"p"),Me(2),ce()()),2&n){const t=ln();Te(2),Zi("Error: ",t.error,"")}}let Qnt=(()=>{class n{constructor(){this.isListening=!1,this.transcript="",this.error="";const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,console.error("Error:",this.error)},this.recognition.onend=()=>{this.isListening=!1,console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}ngOnInit(){}startListening(){this.recognition&&(this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t)}else alert("No text to speak!")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-speech-recognition"]],decls:20,vars:4,consts:[[1,"speech-recognition-container"],[1,"controls"],[3,"click","disabled"],[3,"click"],[1,"output"],["class","error",4,"ngIf"],["align","right"],["routerLink","/Dev"],[1,"error"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h2"),Me(2,"Speech Recognition with Angular"),ce(),he(3,"div",1)(4,"button",2),Xt("click",function(){return i.startListening()}),Me(5,"Start Listening"),ce(),he(6,"button",2),Xt("click",function(){return i.stopListening()}),Me(7,"Stop Listening"),ce(),he(8,"button",3),Xt("click",function(){return i.speakText()}),Me(9,"Speak Text"),ce()(),he(10,"div",4)(11,"h3"),Me(12,"Transcript:"),ce(),he(13,"p"),Me(14),ce()(),pn(15,Vnt,3,1,"div",5),ce(),ut(16,"hr"),he(17,"div",6)(18,"a",7),Me(19,"[Volver al Menu]"),ce()()),2&r&&(Te(4),We("disabled",i.isListening),Te(2),We("disabled",!i.isListening),Te(8),Pr(i.transcript||"No speech detected yet."),Te(),We("ngIf",i.error))},dependencies:[Us,bc],styles:[".speech-recognition-container[_ngcontent-%COMP%]{text-align:center;margin:20px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:10px 20px;font-size:16px;cursor:pointer}.output[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}.error[_ngcontent-%COMP%]{color:red;margin-top:10px}"]})}}return n})();function znt(n,e){if(1&n&&(he(0,"span",5)(1,"a",6)(2,"span",7),Me(3),ce()()()),2&n){const t=ln().$implicit;Te(),_E("routerLink","/",t.url,""),Te(2),Pr(t.text)}}function Gnt(n,e){if(1&n&&(he(0,"span"),pn(1,znt,4,3,"span",4),ce()),2&n){const t=e.$implicit;Te(),We("ngIf",t)}}let Ele=(()=>{class n{constructor(t,r,i,s){this.titleService=t,this.configService=r,this.customErrorHandler=i,this.loggingInterceptor=s,this._appBrand="",this._appVersion="",this._appEnv="",this._title="",this.pages=[{url:"/Dev",text:"[TESTING]"},{url:"/StableReleases",text:"[PRODUCTION]"},{url:"/SCM",text:"[SCM]"},{url:"/LLMs",text:"[LLMs]"}],this._appBrand=this.configService.getConfigValue("appBrand"),this._appVersion=this.configService.getConfigValue("appVersion"),this._appEnv=this.configService.getConfigValue("appEnv"),this._title=this._appBrand+"-"+this._appEnv+" - v["+this._appVersion+"]",console.log(this._title),this.titleService.setTitle(this._title)}static{this.\u0275fac=function(r){return new(r||n)(vt(AT),vt(um),vt(YF),vt(JF))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-home"]],decls:19,vars:15,consts:[["align","center",1,"animate"],["routerLink","/"],[1,"me-1",2,"width","50px",3,"src","alt"],[4,"ngFor","ngForOf"],["style","padding:5px;",4,"ngIf"],[2,"padding","5px"],[3,"routerLink"],["align","left"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h1"),Me(2),ce(),ut(3,"hr"),he(4,"a",1),ut(5,"img",2),ce(),he(6,"a",1),ut(7,"img",2),ce(),he(8,"a",1),ut(9,"img",2),ce(),he(10,"a",1),ut(11,"img",2),ce(),he(12,"a",1),ut(13,"img",2),ce(),he(14,"a",1),ut(15,"img",2),ce(),ut(16,"hr"),pn(17,Gnt,2,1,"span",3),ut(18,"hr"),ce()),2&r&&(Te(2),MM("Welcome to ",i._appBrand," - ",i._appEnv,""),Te(3),We("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",Do)("alt","Angular Logo"),Te(2),We("src","https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1024px-Node.js_logo.svg.png",Do)("alt","NodeJs Logo"),Te(2),We("src","https://upload.wikimedia.org/wikipedia/commons/d/d2/C_Sharp_Logo_2023.svg",Do)("alt","C# Logo"),Te(2),We("src","https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/ISO_C%2B%2B_Logo.svg/306px-ISO_C%2B%2B_Logo.svg.png",Do)("alt","C++ Logo"),Te(2),We("src","https://vmware.gallerycdn.vsassets.io/extensions/vmware/vscode-spring-boot/1.59.2024110900/1731113263936/Microsoft.VisualStudio.Services.Icons.Default",Do)("alt","SPRING BOOT Logo"),Te(2),We("src","https://upload.wikimedia.org/wikipedia/commons/c/c3/Python-logo-notext.svg",Do)("alt","python Logo"),Te(2),We("ngForOf",i.pages))},dependencies:[Us,Jl,bc],styles:[".animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale 2s}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}"]})}}return n})(),jnt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-not-found-page"]],decls:9,vars:0,consts:[["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(he(0,"h1"),Me(1,"[Page not found]"),ce(),ut(2,"hr"),he(3,"h4"),Me(4,"[PAGE NOT FOUND]"),ce(),ut(5,"hr"),he(6,"div",0)(7,"a",1),Me(8,"[Volver al Inicio]"),ce()())},dependencies:[Us]})}}return n})();var s6=function(n){return n[n.RoleAnonyumous=0]="RoleAnonyumous",n[n.RoleAdmin=1]="RoleAdmin",n[n.RoleMarketing=2]="RoleMarketing",n[n.RoleConfig=3]="RoleConfig",n[n.RoleEducation=4]="RoleEducation",n}(s6||{});function Sle(n,e=YS){return Pi((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(zi(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}let xle=(()=>{class n{constructor(t){this.http=t,this._loggedUser=!1}canActivate(){return!0}get loggedUser(){return this._loggedUser}set loggedUser(t){this._loggedUser=t}matchRoles(t){return"0"==t||t==this.userRoles}static{this.\u0275fac=function(r){return new(r||n)(Yt(s0))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const{isArray:Knt}=Array;function Dle(n){return 1===n.length&&Knt(n[0])?n[0]:n}function o6(...n){const e=lT(n),t=Dle(n);return t.length?new ci(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<t.length;o++)Sl(t[o]).subscribe(zi(r,a=>{if(i[o].push(a),i.every(l=>l.length)){const l=i.map(c=>c.shift());r.next(e?e(...l):l),i.some((c,u)=>!c.length&&s[u])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):zo}function a6(...n){const e=lT(n);return Pi((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let l=0;l<i;l++)Sl(n[l]).subscribe(zi(r,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(us))&&(o=null))},Ms));t.subscribe(zi(r,l=>{if(a){const c=[l,...s];r.next(e?e(...c):c)}}))})}function l6(n){return Ys((e,t)=>n<=t)}Math,Math,Math;const rit=["*"],Fit=["dialog"],Uit=(n,e,t)=>({$implicit:n,pages:e,disabled:t}),kit=n=>({disabled:!0,currentPage:n}),Hit=(n,e,t)=>({disabled:n,$implicit:e,currentPage:t}),y6=(n,e)=>({disabled:n,currentPage:e}),Vit=n=>({disabled:n});function Qit(n,e){1&n&&(he(0,"span",13),mE(1,7),ce())}function zit(n,e){1&n&&(he(0,"span",13),mE(1,8),ce())}function Git(n,e){1&n&&(he(0,"span",13),mE(1,9),ce())}function jit(n,e){1&n&&(he(0,"span",13),mE(1,10),ce())}function qit(n,e){1&n&&Me(0,"...")}function Wit(n,e){1&n&&Me(0),2&n&&Pr(e.$implicit)}function $it(n,e){}function Kit(n,e){if(1&n&&(he(0,"a",16),pn(1,$it,0,0,"ng-template",12),ce()),2&n){const t=ln(2).$implicit,r=ln(),i=Zh(9);Te(),We("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",lA(2,kit,t))}}function Xit(n,e){}function Yit(n,e){if(1&n){const t=Os();he(0,"a",17),Xt("click",function(i){zn(t);const s=ln().$implicit;return ln(2).selectPage(s),$n(i.preventDefault())}),pn(1,Xit,0,0,"ng-template",12),ce()}if(2&n){const t=ln().$implicit,r=ln(),i=r.$implicit,s=r.disabled,o=ln(),a=Zh(11);ji("tabindex",s?"-1":null)("aria-disabled",s?"true":null),Te(),We("ngTemplateOutlet",(null==o.tplNumber?null:o.tplNumber.templateRef)||a)("ngTemplateOutletContext",Q5(4,Hit,s,t,i))}}function Jit(n,e){if(1&n&&(he(0,"li",15),pn(1,Kit,2,4,"a",16)(2,Yit,2,8),ce()),2&n){const t=e.$implicit,r=ln(),i=r.$implicit,s=r.disabled,o=ln();Ri("active",t===i)("disabled",o.isEllipsis(t)||s),ji("aria-current",t===i?"page":null),Te(),$o(1,o.isEllipsis(t)?1:2)}}function Zit(n,e){1&n&&yd(0,Jit,3,6,"li",14,Jh),2&n&&_d(e.pages)}function est(n,e){}function tst(n,e){if(1&n){const t=Os();he(0,"li",15)(1,"a",18),Xt("click",function(i){return zn(t),ln().selectPage(1),$n(i.preventDefault())}),pn(2,est,0,0,"ng-template",12),ce()()}if(2&n){const t=ln(),r=Zh(1);Ri("disabled",t.previousDisabled()),Te(),ji("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Te(),We("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",wE(6,y6,t.previousDisabled(),t.page))}}function nst(n,e){}function rst(n,e){if(1&n){const t=Os();he(0,"li",15)(1,"a",19),Xt("click",function(i){zn(t);const s=ln();return s.selectPage(s.page-1),$n(i.preventDefault())}),pn(2,nst,0,0,"ng-template",12),ce()()}if(2&n){const t=ln(),r=Zh(3);Ri("disabled",t.previousDisabled()),Te(),ji("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Te(),We("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",lA(6,Vit,t.previousDisabled()))}}function ist(n,e){}function sst(n,e){}function ost(n,e){if(1&n){const t=Os();he(0,"li",15)(1,"a",20),Xt("click",function(i){zn(t);const s=ln();return s.selectPage(s.page+1),$n(i.preventDefault())}),pn(2,sst,0,0,"ng-template",12),ce()()}if(2&n){const t=ln(),r=Zh(5);Ri("disabled",t.nextDisabled()),Te(),ji("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Te(),We("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",wE(6,y6,t.nextDisabled(),t.page))}}function ast(n,e){}function lst(n,e){if(1&n){const t=Os();he(0,"li",15)(1,"a",21),Xt("click",function(i){zn(t);const s=ln();return s.selectPage(s.pageCount),$n(i.preventDefault())}),pn(2,ast,0,0,"ng-template",12),ce()()}if(2&n){const t=ln(),r=Zh(7);Ri("disabled",t.nextDisabled()),Te(),ji("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Te(),We("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",wE(6,y6,t.nextDisabled(),t.page))}}function mst(n,e){if(1&n&&(he(0,"span"),Me(1),ce()),2&n){const t=ln().$implicit;$g(ln().highlightClass),Te(),Pr(t)}}function vst(n,e){if(1&n&&(Zv(0),Me(1),e0()),2&n){const t=ln().$implicit;Te(),Pr(t)}}function yst(n,e){1&n&&pn(0,mst,2,4,"span",0)(1,vst,2,1),2&n&&$o(0,e.$index%2!=0?0:1)}const qle={animation:!0,transitionTimerDelayMs:5};let LF=(()=>{class n{constructor(){this.animation=qle.animation}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wle(n){return null!=n?`${n}`:""}function iw(n){return"string"==typeof n}function cc(n){return!isNaN(function Xu(n){return parseInt(`${n}`,10)}(n))}function Ay(n){return null!=n}function sw(n){return(n||document.body).getBoundingClientRect()}function Xle(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Mst=()=>{},{transitionTimerDelayMs:Tst}=qle,Px=new Map,bh=(n,e,t,r)=>{let i=r.context||{};const s=Px.get(e);if(s)switch(r.runningTransition){case"continue":return zo;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),Px.delete(e)}const o=t(e,r.animation,i)||Mst;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),rr(void 0).pipe(function Dst(n){return e=>new ci(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new Rr,l=new Rr,c=a.pipe(function Ynt(...n){return e=>eS(e,rr(...n))}(!0));Px.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const u=function Cst(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const d=Rl(e,"transitionend").pipe(Dl(c),Ys(({target:h})=>h===e));(function Mle(...n){return 1===(n=Dle(n)).length?Sl(n[0]):new ci(function Xnt(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(Sl(n[r]).subscribe(zi(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))})(rI(u+Tst).pipe(Dl(c)),d,l).pipe(Dl(c)).subscribe(()=>{Px.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()},Nst=(n,e,t)=>{let{direction:r,maxSize:i,dimension:s}=t;const{classList:o}=n;function a(){o.add("collapse"),"show"===r?o.add("show"):o.remove("show")}if(e)return i||(i=function Bst(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,s),t.maxSize=i,n.style[s]="show"!==r?i:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),sw(n),o.add("collapsing")),n.style[s]="show"===r?i:"0px",()=>{a(),o.remove("collapsing"),n.style[s]=""};a()};let Ist=(()=>{class n{constructor(){this._ngbConfig=Ve(LF),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_6=(()=>{class n{constructor(){this._config=Ve(Ist),this._element=Ve(N),this._zone=Ve(Dr),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ie,this.horizontal=this._config.horizontal,this.shown=new ie,this.hidden=new ie}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return bh(this._zone,this._element.nativeElement,Nst,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(r,i){2&r&&Ri("collapse-horizontal",i.horizontal)},inputs:{animation:"animation",collapsed:[Vr.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return n})(),ece=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),w6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),rce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),ice=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})();var Ao=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Ao||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const dce=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function hce(n){const e=Array.from(n.querySelectorAll(dce)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Mce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),Bce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),Iot=(()=>{class n{constructor(){this._ngbConfig=Ve(LF),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class yy{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Fot=(()=>{class n{constructor(){this._document=Ve(gs)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=o),i.overflow=s}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rot=(()=>{class n{constructor(){this._nativeElement=Ve(N).nativeElement,this._zone=Ve(Dr)}ngOnInit(){this._zone.onStable.asObservable().pipe(mo(1)).subscribe(()=>{bh(this._zone,this._nativeElement,(t,r)=>{r&&sw(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return bh(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&($g("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Ri("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ra],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})();class Nce{update(e){}close(e){}dismiss(e){}}const Oot=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Pot=["animation","backdropClass"];class Lot{_applyWindowOptions(e,t){Oot.forEach(r=>{Ay(t[r])&&(e[r]=t[r])})}_applyBackdropOptions(e,t){Pot.forEach(r=>{Ay(t[r])&&(e[r]=t[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Dl(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Dl(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Rr,this._dismissed=new Rr,this._hidden=new Rr,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function $le(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():rr(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),o6(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var R6=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(R6||{});let Uot=(()=>{class n{constructor(){this._document=Ve(gs),this._elRef=Ve(N),this._zone=Ve(Dr),this._closed$=new Rr,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ie,this.shown=new Rr,this.hidden=new Rr}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":iw(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(mo(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=o6(bh(this._zone,t,()=>t.classList.remove("show"),r),bh(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};o6(bh(this._zone,this._elRef.nativeElement,(s,o)=>{o&&sw(s),s.classList.add("show")},t),bh(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Rl(t,"keydown").pipe(Dl(this._closed$),Ys(i=>i.which===Ao.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(R6.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Rl(this._dialogEl.nativeElement,"mousedown").pipe(Dl(this._closed$),Ko(()=>r=!1),Ou(()=>Rl(t,"mouseup").pipe(Dl(this._closed$),mo(1))),Ys(({target:i})=>t===i)).subscribe(()=>{r=!0}),Rl(t,"click").pipe(Dl(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(R6.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=hce(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&bh(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&ss(Fit,7),2&r){let s;pr(s=gr())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(ji("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),$g("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Ri("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ra],ngContentSelectors:rit,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,i){1&r&&(vE(),he(0,"div",1,0)(2,"div",2),yE(3),ce()()),2&r&&$g("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),kot=(()=>{class n{constructor(){this._applicationRef=Ve(rf),this._injector=Ve(Ro),this._environmentInjector=Ve(el),this._document=Ve(gs),this._scrollBar=Ve(Fot),this._activeWindowCmptHasChanged=new Rr,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ie;const t=Ve(Dr);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const r=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=Rl(e,"focusin").pipe(Dl(t),Hr(s=>s.target));Rl(e,"keydown").pipe(Dl(t),Ys(s=>s.which===Ao.Tab),a6(i)).subscribe(([s,o])=>{const[a,l]=hce(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&Rl(e,"click").pipe(Dl(t),a6(i),Hr(s=>s[1])).subscribe(s=>s.focus())})})(t,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const s=i.container instanceof HTMLElement?i.container:Ay(i.container)?this._document.querySelector(i.container):this._document.body;if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const o=new Nce,a=(t=i.injector||t).get(el,null)||this._environmentInjector,l=this._getContentRef(t,a,r,o,i);let c=!1!==i.backdrop?this._attachBackdrop(s):void 0,u=this._attachWindowComponent(s,l.nodes),d=new Lot(u,l,c,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(mo(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),o.close=f=>{d.close(f)},o.dismiss=f=>{d.dismiss(f)},o.update=f=>{d.update(f)},d.update(i),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=cL(Rot,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=cL(Uot,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,s,o){return i?i instanceof ma?this._createFromTemplateRef(i,s):iw(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,o):new yy([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new yy([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new yy([[r]])}_createFromComponent(t,r,i,s,o){const l=cL(i,{environmentInjector:r,elementInjector:Ro.create({providers:[{provide:Nce,useValue:s}],parent:t})}),c=l.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new yy([[c]],l.hostView,l)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hot=(()=>{class n{constructor(){this._injector=Ve(Ro),this._modalStack=Ve(kot),this._config=Ve(Iot)}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ice=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({providers:[Hot]})}}return n})(),Oce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),$ot=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pce=(()=>{class n{constructor(){this.templateRef=Ve(ma)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}}return n})(),Lce=(()=>{class n{constructor(){this.templateRef=Ve(ma)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}}return n})(),Uce=(()=>{class n{constructor(){this.templateRef=Ve(ma)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}}return n})(),kce=(()=>{class n{constructor(){this.templateRef=Ve(ma)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}}return n})(),Hce=(()=>{class n{constructor(){this.templateRef=Ve(ma)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}}return n})(),Vce=(()=>{class n{constructor(){this.templateRef=Ve(ma)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}}return n})(),Qce=(()=>{class n{constructor(){this.templateRef=Ve(ma)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}}return n})(),L6=(()=>{class n{constructor(){this._config=Ve($ot),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new ie(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=function Est(n,e,t=0){return Math.max(Math.min(n,e),t)}(t,this.pageCount,1),this.page!==r&&cc(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),cc(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["ngb-pagination"]],contentQueries:function(r,i,s){if(1&r&&(Fa(s,Pce,5),Fa(s,Lce,5),Fa(s,Uce,5),Fa(s,kce,5),Fa(s,Hce,5),Fa(s,Vce,5),Fa(s,Qce,5)),2&r){let o;pr(o=gr())&&(i.tplEllipsis=o.first),pr(o=gr())&&(i.tplFirst=o.first),pr(o=gr())&&(i.tplLast=o.first),pr(o=gr())&&(i.tplNext=o.first),pr(o=gr())&&(i.tplNumber=o.first),pr(o=gr())&&(i.tplPrevious=o.first),pr(o=gr())&&(i.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[qo,Ra],decls:20,vars:12,consts:()=>{let t,r,i,s,o,a,l,c;return t=$localize`:@@ngb.pagination.first:««`,r=$localize`:@@ngb.pagination.previous:«`,i=$localize`:@@ngb.pagination.next:»`,s=$localize`:@@ngb.pagination.last:»»`,o=$localize`:@@ngb.pagination.first-aria:First`,a=$localize`:@@ngb.pagination.previous-aria:Previous`,l=$localize`:@@ngb.pagination.next-aria:Next`,c=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],t,r,i,s,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(r,i){if(1&r&&(pn(0,Qit,2,0,"ng-template",null,0,nf)(2,zit,2,0,"ng-template",null,1,nf)(4,Git,2,0,"ng-template",null,2,nf)(6,jit,2,0,"ng-template",null,3,nf)(8,qit,1,0,"ng-template",null,4,nf)(10,Wit,1,1,"ng-template",null,5,nf)(12,Zit,2,0,"ng-template",null,6,nf),he(14,"ul"),pn(15,tst,3,9,"li",11)(16,rst,3,8,"li",11)(17,ist,0,0,"ng-template",12)(18,ost,3,9,"li",11)(19,lst,3,9,"li",11),ce()),2&r){const s=Zh(13);Te(14),$g("pagination"+(i.size?" pagination-"+i.size:"")),Te(),$o(15,i.boundaryLinks?15:-1),Te(),$o(16,i.directionLinks?16:-1),Te(),We("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||s)("ngTemplateOutletContext",Q5(8,Uit,i.page,i.pages,i.disabled)),Te(),$o(18,i.directionLinks?18:-1),Te(),$o(19,i.boundaryLinks?19:-1)}},dependencies:[G_],encapsulation:2,changeDetection:0})}}return n})(),XF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),zce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),Gce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),jce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),qce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),Wce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),$ce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),Kce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),U6=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=Wle(this.result),i=Array.isArray(this.term)?this.term:[this.term],s=c=>this.accentSensitive?c:Xle(c),o=i.map(c=>function Sst(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(Wle(c)))).filter(c=>c),a=this.accentSensitive?r:Xle(r),l=o.length?a.split(new RegExp(`(${o.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=l;else{let c=0;this.parts=l.map(u=>r.substring(c,c+=u.length))}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[qo,Ra],decls:2,vars:0,consts:[[3,"class"]],template:function(r,i){1&r&&yd(0,yst,2,1,null,null,Jh),2&r&&_d(i.parts)},styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0})}}return n})();new xn("live announcer delay",{providedIn:"root",factory:()=>100});let Xce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})(),Yce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({})}}return n})();const tat=[ece,w6,rce,ice,Mce,Bce,Ice,Oce,Yce,XF,zce,Gce,jce,qce,Wce,$ce,Kce,Xce];let Jce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({imports:[tat,ece,w6,rce,ice,Mce,Bce,Ice,Oce,Yce,XF,zce,Gce,jce,qce,Wce,$ce,Kce,Xce]})}}return n})();const nat=(n,e)=>e.path;function rat(n,e){1&n&&(he(0,"span",9),Me(1,"[Cargando...]"),ce())}function iat(n,e){1&n&&(he(0,"span",9),Me(1,"[Escuchando...]"),ce())}function sat(n,e){if(1&n&&(he(0,"span",19)(1,"p"),Me(2),ce()()),2&n){const t=ln();Te(2),Zi("Error: ",t.error,"")}}function oat(n,e){if(1&n&&(he(0,"tr")(1,"td")(2,"a",21),ut(3,"ngb-highlight",22),ce()()()),2&n){const t=ln().$implicit,r=ln();Te(2),We("routerLink","/"+t.path),Te(),We("result",t.caption)("term",r.searchTerm)}}function aat(n,e){1&n&&pn(0,oat,4,3,"tr",20),2&n&&We("ngIf",""!=e.$implicit.path)}function lat(n,e){1&n&&(he(0,"tr")(1,"td",23),Me(2,"[NO SE ENCONTRARON DATOS]"),ce()())}const cat={asc:"desc",desc:"","":"asc"};let dat=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new ie}_rotatePage(){this.direction=cat[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(r,i){1&r&&Xt("click",function(){return i._rotatePage()}),2&r&&Ri("asc","asc"===i._direction)("desc","desc"===i._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),hat=(()=>{class n{constructor(t,r){this.pipe=t,this._authService=r,this.ConfigRoleString=s6.RoleConfig.toString(),this._loading=new ds(!0),this._total=new ds(0),this._search$=new Rr,this._Pagelist=new ds([]),this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(Ko(()=>this._loading.next(!0)),Sle(200),Ou(()=>this._search()),Tx(200),Ko(()=>this._loading.next(!1))).subscribe(i=>{this._Pagelist.next(i.searchPages),this._total.next(i.total)}),this._search$.next()}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}_search(){let t,r,i={searchPages:t,total:r};const{pageSize:a,page:l,searchTerm:c}=this._state;return t=eue,t=t.filter(u=>function uat(n,e,t){return n.caption?.toLowerCase().includes(e?.toLowerCase())}(u,c)),r=t.length,t=t.slice((l-1)*a,(l-1)*a+a),i={searchPages:t,total:r},rr(i)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:r}){this.headers?.forEach(i=>{i.sortable!==t&&(i.direction="")}),this.sortColumn=t,this.sortDirection=r}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(r){return new(r||n)(vt(rT),vt(xle))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-index"]],viewQuery:function(r,i){if(1&r&&ss(dat,5),2&r){let s;pr(s=gr())&&(i.headers=s)}},decls:49,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["scope","col","sortable","path"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],[4,"ngIf"],[3,"routerLink"],[3,"result","term"],["colspan","4",2,"text-align","center"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h1"),Me(2,"[INDEX]"),ce(),ut(3,"hr"),he(4,"form")(5,"div",1)(6,"label",2),Me(7,"Busqueda de Texto Completo:"),ce(),he(8,"div",3)(9,"input",4),tf("ngModelChange",function(o){return aA(i.searchTerm,o)||(i.searchTerm=o),o}),ce()(),he(10,"span",5)(11,"button",6),Xt("click",function(){return i.startListening()}),ut(12,"img",7),ce(),he(13,"button",6),Xt("click",function(){return i.stopListening()}),ut(14,"img",7),ce(),he(15,"button",6),Xt("click",function(){return i.speakText()}),ut(16,"img",7),ce(),he(17,"button",8),Xt("click",function(){return i.clearText()}),ut(18,"img",7),ce()(),pn(19,rat,2,0,"span",9),Fu(20,"async"),pn(21,iat,2,0,"span",9)(22,sat,3,1,"span",10),ce(),he(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),Me(27,"[Pagina]"),ce()()(),he(28,"tbody"),yd(29,aat,1,1,"tr",null,nat,!1,lat,3,0,"tr"),Fu(32,"async"),ce()(),he(33,"div",13)(34,"ngb-pagination",14),Fu(35,"async"),tf("pageChange",function(o){return aA(i.page,o)||(i.page=o),o}),ce(),he(36,"select",15),tf("ngModelChange",function(o){return aA(i.pageSize,o)||(i.pageSize=o),o}),he(37,"option",16),Me(38,"2 items por Pagina"),ce(),he(39,"option",16),Me(40,"4 items por Pagina"),ce(),he(41,"option",16),Me(42,"6 tems por Pagina"),ce(),he(43,"option",16),Me(44,"10 items por Pagina"),ce()()()()(),ut(45,"hr"),he(46,"div",17)(47,"a",18),Me(48,"[Volver al Inicio]"),ce()()),2&r&&(Te(9),ef("ngModel",i.searchTerm),Te(2),We("disabled",i.isListening),Te(),We("src",i.ListeningButtonIconOn,Do),Te(),We("disabled",!i.isListening),Te(),We("src",i.ListeningButtonIconOff,Do),Te(),We("disabled",i.isListening),Te(),We("src",i.SpeakerIcon,Do),Te(2),We("src",i.clearFormIcon,Do),Te(),$o(19,Ru(20,20,i.loading)?19:-1),Te(2),$o(21,i.isListening&&!i.error?21:-1),Te(),We("ngIf",i.error),Te(7),_d(Ru(32,22,i._Pagelist)),Te(5),We("collectionSize",Ru(35,24,i.total)),ef("page",i.page),We("pageSize",i.pageSize),Te(2),ef("ngModel",i.pageSize),Te(),We("ngValue",2),Te(2),We("ngValue",4),Te(2),We("ngValue",6),Te(2),We("ngValue",10))},dependencies:[Us,bc,Y_,d0,h0,uA,WE,om,$_,u0,X_,L6,U6,j_],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})();function fat(n,e){if(1&n&&(he(0,"ul")(1,"li")(2,"a",5),Me(3),ce()()()),2&n){const t=e.$implicit;Te(2),We("href",t.url,Do),Te(),Pr(t.name)}}let Aat=(()=>{class n{constructor(){this.aiPrompts=[],console.log("AI Prompts: "+JSON.stringify(cm.aiPrompts)),this.aiPrompts=cm.aiPrompts}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["llm-list"]],decls:11,vars:1,consts:[["align","center"],["align","left"],[4,"ngFor","ngForOf"],["align","right"],["routerLink","/Home"],["target","_blank",3,"href"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h4")(2,"b"),Me(3,"[LLMs]"),ce()(),ut(4,"hr"),ce(),he(5,"div",1),pn(6,fat,4,2,"ul",2),ce(),ut(7,"hr"),he(8,"div",3)(9,"a",4),Me(10,"[Inicio]"),ce()()),2&r&&(Te(6),We("ngForOf",i.aiPrompts))},dependencies:[Us,Jl]})}}return n})();class pat extends Rr{constructor(e=1/0,t=1/0,r=u8){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}class gat extends Rr{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:r,_value:i,thrownError:s,isStopped:o,_isComplete:a}=this;t?e.error(s):(o||a)&&(r&&e.next(i),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:r}=this;r||(this._isComplete=!0,e&&super.next(t),super.complete())}}class Zce{constructor(){}loadScript(e,t,r,i=null){if(typeof document<"u"&&!document.getElementById(e)){let s=document.createElement("script");s.async=!0,s.src=t,s.onload=r,i||(i=document.head),i.appendChild(s)}}}class k6{}const mat={oneTapEnabled:!0};let H6=(()=>{class n extends Zce{static{this.PROVIDER_ID="GOOGLE"}constructor(t,r){super(),this.clientId=t,this.initOptions=r,this.changeUser=new ie,this._socialUser=new ds(null),this._accessToken=new ds(null),this._receivedAccessToken=new ie,this.initOptions={...mat,...this.initOptions},this._socialUser.pipe(l6(1)).subscribe(this.changeUser),this._accessToken.pipe(l6(1)).subscribe(this._receivedAccessToken)}initialize(t,r){return new Promise((i,s)=>{try{this.loadScript(n.PROVIDER_ID,this.getGoogleLoginScriptSrc(r),()=>{if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:o})=>{const a=this.createSocialUser(o);this._socialUser.next(a)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled,use_fedcm_for_prompt:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(Ys(o=>null===o)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const o=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(a=>a).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:o,prompt:this.initOptions.prompt,callback:a=>{a.error?this._accessToken.error({code:a.error,description:a.error_description,uri:a.error_uri}):this._accessToken.next(a.access_token)}})}i()})}catch(o){s(o)}})}getLoginStatus(){return new Promise((t,r)=>{this._socialUser.value?t(this._socialUser.value):r(`No user is currently logged in with ${n.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,r)=>{google.accounts.id.revoke(this._socialUser.value.id,i=>{i.error?r(i.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,r)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe(mo(1)).subscribe(t)):r(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,r)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):r("No access token to revoke"):r("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){var t=this;return(0,mt.A)(function*(){google.accounts.id.disableAutoSelect(),t._socialUser.next(null)})()}createSocialUser(t){const r=new k6;r.idToken=t;const i=this.decodeJwt(t);return r.id=i.sub,r.name=i.name,r.email=i.email,r.photoUrl=i.picture,r.firstName=i.given_name,r.lastName=i.family_name,r}decodeJwt(t){const i=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(i).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}getGoogleLoginScriptSrc(t){return t?`https://accounts.google.com/gsi/client?hl=${t}`:"https://accounts.google.com/gsi/client"}}return n})(),V6=(()=>{class n{static{this.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found"}static{this.ERR_NOT_LOGGED_IN="Not logged in"}static{this.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?"}static{this.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token"}static{this.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token"}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}constructor(t,r,i){this._ngZone=r,this._injector=i,this.providers=new Map,this.autoLogin=!1,this.lang="",this._user=null,this._authState=new pat(1),this.initialized=!1,this._initState=new gat,t instanceof Promise?t.then(s=>{this.initialize(s)}):this.initialize(t)}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin,this.lang=void 0!==t.lang?t.lang:"";const{onError:r=console.error}=t;t.providers.forEach(i=>{this.providers.set(i.id,"prototype"in i.provider?this._injector.get(i.provider):i.provider)}),Promise.all(Array.from(this.providers.values()).map(i=>i.initialize(this.autoLogin,this.lang))).then(()=>{if(this.autoLogin){const i=[];let s=!1;this.providers.forEach((o,a)=>{const l=o.getLoginStatus();i.push(l),l.then(c=>{this.setUser(c,a),s=!0}).catch(console.debug)}),Promise.all(i).catch(()=>{s||(this._user=null,this._authState.next(null))})}this.providers.forEach((i,s)=>{q$(i.changeUser)&&i.changeUser.subscribe(o=>{this._ngZone.run(()=>{this.setUser(o,s)})})})}).catch(i=>{r(i)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){var r=this;return(0,mt.A)(function*(){const i=r.providers.get(t);if(!r.initialized)throw n.ERR_NOT_INITIALIZED;if(!i)throw n.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(i instanceof H6))throw n.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield i.getAccessToken()})()}refreshAuthToken(t){return new Promise((r,i)=>{if(this.initialized){const s=this.providers.get(t);s?"function"!=typeof s.refreshToken?i(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):s.refreshToken().then(o=>{this.setUser(o,t),r()}).catch(o=>{i(o)}):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_INITIALIZED)})}refreshAccessToken(t){return new Promise((r,i)=>{if(this.initialized)if(t!==H6.PROVIDER_ID)i(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const s=this.providers.get(t);s instanceof H6?s.revokeAccessToken().then(r).catch(i):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_INITIALIZED)})}signIn(t,r){return new Promise((i,s)=>{if(this.initialized){let o=this.providers.get(t);o?o.signIn(r).then(a=>{this.setUser(a,t),i(a)}).catch(a=>{s(a)}):s(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else s(n.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((r,i)=>{if(this.initialized)if(this._user){let o=this.providers.get(this._user.provider);o?o.signOut(t).then(()=>{r(),this.setUser(null)}).catch(a=>{i(a)}):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_LOGGED_IN);else i(n.ERR_NOT_INITIALIZED)})}setUser(t,r){t&&r&&(t.provider=r),this._user=t,this._authState.next(t)}static{this.\u0275fac=function(r){return new(r||n)(Yt("SocialAuthServiceConfig"),Yt(Dr),Yt(Ro))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vat=(()=>{class n{static initialize(t){return{ngModule:n,providers:[V6,{provide:"SocialAuthServiceConfig",useValue:t}]}}constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static{this.\u0275fac=function(r){return new(r||n)(Yt(n,12))}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({providers:[V6],imports:[Jg]})}}return n})(),Q6=(()=>{class n extends Zce{static{this.PROVIDER_ID="FACEBOOK"}constructor(t,r={}){super(),this.clientId=t,this.requestOptions={scope:"email,public_profile",locale:"en_US",fields:"name,email,picture,first_name,last_name",version:"v10.0"},this.requestOptions={...this.requestOptions,...r}}initialize(){return new Promise((t,r)=>{try{this.loadScript(n.PROVIDER_ID,`//connect.facebook.net/${this.requestOptions.locale}/sdk.js`,()=>{FB.init({appId:this.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:this.requestOptions.version}),t()})}catch(i){r(i)}})}getLoginStatus(){return new Promise((t,r)=>{FB.getLoginStatus(i=>{if("connected"===i.status){let s=i.authResponse;FB.api(`/me?fields=${this.requestOptions.fields}`,o=>{let a=new k6;a.id=o.id,a.name=o.name,a.email=o.email,a.photoUrl="https://graph.facebook.com/"+o.id+"/picture?type=normal&access_token="+s.accessToken,a.firstName=o.first_name,a.lastName=o.last_name,a.authToken=s.accessToken,a.response=o,t(a)})}else r(`No user is currently logged in with ${n.PROVIDER_ID}`)})})}signIn(t){const r={...this.requestOptions,...t};return new Promise((i,s)=>{FB.login(o=>{if(o.authResponse){let a=o.authResponse;FB.api(`/me?fields=${r.fields}`,l=>{let c=new k6;c.id=l.id,c.name=l.name,c.email=l.email,c.photoUrl="https://graph.facebook.com/"+l.id+"/picture?type=normal",c.firstName=l.first_name,c.lastName=l.last_name,c.authToken=a.accessToken,c.response=l,i(c)})}else s("User cancelled login or did not fully authorize.")},r)})}signOut(){return new Promise((t,r)=>{FB.logout(i=>{t()})})}}return n})();function _at(n,e){1&n&&(he(0,"div",12),Me(1," Nombre es requerido y debe ser por lo menos 3 caracteres de largo. "),ce())}function bat(n,e){1&n&&(he(0,"div",12),Me(1," Por favor ingrese un email v\xe1lido. "),ce())}function wat(n,e){1&n&&(he(0,"div",12),Me(1," Mensaje es rquerido y debe ser al menos 10 caracteres de largo "),ce())}function Cat(n,e){if(1&n){const t=Os();he(0,"div")(1,"div",1)(2,"form",2),Xt("ngSubmit",function(){return zn(t),$n(ln().onSubmit())}),he(3,"div",3)(4,"label",4),Me(5,"Nombre"),ce(),ut(6,"input",5),pn(7,_at,2,0,"div",6),ce(),he(8,"div",3)(9,"label",7),Me(10,"Email"),ce(),ut(11,"input",8),pn(12,bat,2,0,"div",6),ce(),he(13,"div",3)(14,"label",9),Me(15,"Mensaje"),ce(),ut(16,"textarea",10),pn(17,wat,2,0,"div",6),ce(),he(18,"button",11),Me(19,"[Enviar]"),ce()()(),ut(20,"hr"),ce()}if(2&n){let t,r,i;const s=ln();Te(2),We("formGroup",s.contactForm),Te(5),We("ngIf",(null==(t=s.contactForm.get("name"))?null:t.invalid)&&(null==(t=s.contactForm.get("name"))?null:t.touched)),Te(5),We("ngIf",(null==(r=s.contactForm.get("email"))?null:r.invalid)&&(null==(r=s.contactForm.get("email"))?null:r.touched)),Te(5),We("ngIf",(null==(i=s.contactForm.get("message"))?null:i.invalid)&&(null==(i=s.contactForm.get("message"))?null:i.touched)),Te(),We("disabled",s.contactForm.invalid)}}function Eat(n,e){if(1&n){const t=Os();he(0,"div")(1,"a",13),Xt("click",function(){return zn(t),$n(ln().isLoggedIn=!0)}),Me(2,"Volver al Formulario"),ce(),ut(3,"hr"),ce()}}let Sat=(()=>{class n{constructor(t,r,i){this.authService=t,this.fb=r,this.http=i,this.user=null,this.isLoggedIn=!0,this.contactForm=this.fb.group({name:["",[l0.required,l0.minLength(3)]],email:["",[l0.required,l0.email]],message:["",[l0.required,l0.minLength(10)]]})}ngOnInit(){this.authService.authState.subscribe(t=>{this.isLoggedIn=null!=t,console.log("Facebook User:",this.user)})}onSubmit(){this.contactForm.valid?(console.log("Form Submitted!",this.contactForm.value),this.contactForm.valid?this.http.post("https://9rfn3t-4000.csb.app/contact",this.contactForm.value).subscribe(r=>{console.log("Form submitted successfully!",r),alert("Gracias! Se le enviar\xe1 pronto un email con m\xe1s informaci\xf3n."),this.contactForm.reset()},r=>{console.error("Error submitting form:",r),alert("There was an error submitting the form. Please try again.")}):console.log("Form is invalid"),this.logout()):console.log("Form is invalid")}loginWithFacebook(){this.authService.signIn(Q6.PROVIDER_ID).then(t=>{console.log("User Data:",t),this.contactForm.get("name")?.reset(t.name),this.contactForm.get("email")?.reset(t.email)},t=>{console.error("Facebook login error:",t)})}logout(){this.authService.signOut(),this.user=null,this.isLoggedIn=!1}static{this.\u0275fac=function(r){return new(r||n)(vt(V6),vt(u$),vt(s0))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-contact-form"]],decls:6,vars:2,consts:[[4,"ngIf"],[1,"contact-form-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","type","text","maxlength","100","formControlName","name","placeholder","Ingrese su nombre"],["class","error",4,"ngIf"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Ingrese su email"],["for","message"],["id","message","formControlName","message","maxlength","100","placeholder","Ingrese su mensaje (m\xe1ximo 100 caracteres)"],["type","submit",3,"disabled"],[1,"error"],[3,"click"]],template:function(r,i){1&r&&(ut(0,"hr"),he(1,"h2"),Me(2,"Cont\xe1ctenos"),ce(),ut(3,"hr"),pn(4,Cat,21,5,"div",0)(5,Eat,4,0,"div",0)),2&r&&(Te(4),We("ngIf",i.isLoggedIn),Te(),We("ngIf",!i.isLoggedIn))},dependencies:[bc,Y_,uA,om,$_,DT,qE,ST],styles:[".contact-form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc}.error[_ngcontent-%COMP%]{color:red;font-size:12px}"]})}}return n})();const xat=(n,e)=>e.id;function Dat(n,e){1&n&&(he(0,"span",9),Me(1,"[Cargando...]"),ce())}function Mat(n,e){1&n&&(he(0,"span",9),Me(1,"[Escuchando...]"),ce())}function Tat(n,e){if(1&n&&(he(0,"span",25)(1,"p"),Me(2),ce()()),2&n){const t=ln();Te(2),Zi("Error: ",t.error,"")}}function Bat(n,e){if(1&n&&(he(0,"tr")(1,"th",26),Me(2),ce(),he(3,"td"),ut(4,"input",27),ce(),he(5,"td",0),ut(6,"ngb-highlight",28),ce(),he(7,"td",0)(8,"a",29),ut(9,"ngb-highlight",28),ce()(),he(10,"td",0)(11,"a",29),ut(12,"ngb-highlight",28),ce()(),he(13,"td",0)(14,"a",29),ut(15,"ngb-highlight",28),ce()(),he(16,"td",0)(17,"a",29),ut(18,"ngb-highlight",28),ce()()()),2&n){const t=e.$implicit,r=ln();Te(2),Pr(t.id),Te(2),We("checked",t.done),Te(2),We("result",t.description)("term",r.searchTerm),Te(2),We("href",t.field_1,Do),Te(),We("result",t.name)("term",r.searchTerm),Te(2),We("href",t.field_3,Do),Te(),We("result",t.field_2)("term",r.searchTerm),Te(2),We("href",t.field_5,Do),Te(),We("result",t.field_4)("term",r.searchTerm),Te(2),We("href",t.field_7,Do),Te(),We("result",t.field_6)("term",r.searchTerm)}}function Nat(n,e){1&n&&(he(0,"tr")(1,"td",30),Me(2,"[NO SE ENCONTRARON DATOS]"),ce()())}const Iat={asc:"desc",desc:"","":"asc"};let Rat=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new ie}_rotatePage(){this.direction=Iat[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=bn({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(r,i){1&r&&Xt("click",function(){return i._rotatePage()}),2&r&&Ri("asc","asc"===i._direction)("desc","desc"===i._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),Oat=(()=>{class n{constructor(t,r){this.pipe=t,this._authService=r,this.ConfigRoleString=s6.RoleConfig.toString(),this._loading=new ds(!0),this._total=new ds(0),this._search$=new Rr,this._Pagelist=new ds([]),this._state={page:1,pageSize:6,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(Ko(()=>this._loading.next(!0)),Sle(200),Ou(()=>this._search()),Tx(200),Ko(()=>this._loading.next(!1))).subscribe(i=>{this._Pagelist.next(i.searchPages),this._total.next(i.total)}),this._search$.next()}_search(){let t,r,i={searchPages:t,total:r};const{pageSize:a,page:l,searchTerm:c}=this._state;return console.log("search : "+JSON.stringify(cm.scmList)),t=cm.scmList,t=t.filter(u=>function Fat(n,e,t){return n.name?.toLowerCase().includes(e?.toLowerCase())||n.description?.toLowerCase().includes(e?.toLowerCase())||n.field_1?.toLowerCase().includes(e?.toLowerCase())||n.field_2?.toLowerCase().includes(e?.toLowerCase())||n.field_3?.toLowerCase().includes(e?.toLowerCase())||n.field_4?.toLowerCase().includes(e?.toLowerCase())||n.field_5?.toLowerCase().includes(e?.toLowerCase())||n.field_6?.toLowerCase().includes(e?.toLowerCase())||n.field_7?.toLowerCase().includes(e?.toLowerCase())}(u,c)),r=t.length,t=t.slice((l-1)*a,(l-1)*a+a),i={searchPages:t,total:r},rr(i)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:r}){this.headers?.forEach(i=>{i.sortable!==t&&(i.direction="")}),this.sortColumn=t,this.sortDirection=r}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(r){return new(r||n)(vt(rT),vt(xle))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-scm"]],viewQuery:function(r,i){if(1&r&&ss(Rat,5),2&r){let s;pr(s=gr())&&(i.headers=s)}},decls:61,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["align","left","scope","col","sortable","id"],["align","left","scope","col","sortable","done"],["align","left","scope","col","sortable","description"],["align","left","scope","col","sortable","name"],["align","left","scope","col","sortable","field_2"],["align","left","scope","col","sortable","field_4"],["align","left","scope","col","sortable","field_6"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],["scope","row"],["type","checkbox","name","done","id","done","value","done","readonly","",3,"checked"],[3,"result","term"],["target","_blank",3,"href"],["colspan","4",2,"text-align","center"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h1"),Me(2,"[SCM]"),ce()(),ut(3,"hr"),he(4,"form")(5,"div",1)(6,"label",2),Me(7,"Busqueda de Texto Completo:"),ce(),he(8,"div",3)(9,"input",4),tf("ngModelChange",function(o){return aA(i.searchTerm,o)||(i.searchTerm=o),o}),ce()(),he(10,"span",5)(11,"button",6),Xt("click",function(){return i.startListening()}),ut(12,"img",7),ce(),he(13,"button",6),Xt("click",function(){return i.stopListening()}),ut(14,"img",7),ce(),he(15,"button",6),Xt("click",function(){return i.speakText()}),ut(16,"img",7),ce(),he(17,"button",8),Xt("click",function(){return i.clearText()}),ut(18,"img",7),ce()(),pn(19,Dat,2,0,"span",9),Fu(20,"async"),pn(21,Mat,2,0,"span",9)(22,Tat,3,1,"span",10),ce(),he(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),Me(27,"#"),ce(),he(28,"th",13),Me(29,"(Hecho)"),ce(),he(30,"th",14),Me(31,"[Type]"),ce(),he(32,"th",15),Me(33,"[desc_1]"),ce(),he(34,"th",16),Me(35,"[desc_2]"),ce(),he(36,"th",17),Me(37,"[desc_3]"),ce(),he(38,"th",18),Me(39,"[desc_4]"),ce()()(),he(40,"tbody"),yd(41,Bat,19,16,"tr",null,xat,!1,Nat,3,0,"tr"),Fu(44,"async"),ce()(),he(45,"div",19)(46,"ngb-pagination",20),Fu(47,"async"),tf("pageChange",function(o){return aA(i.page,o)||(i.page=o),o}),ce(),he(48,"select",21),tf("ngModelChange",function(o){return aA(i.pageSize,o)||(i.pageSize=o),o}),he(49,"option",22),Me(50,"2 items por Pagina"),ce(),he(51,"option",22),Me(52,"4 items por Pagina"),ce(),he(53,"option",22),Me(54,"6 tems por Pagina"),ce(),he(55,"option",22),Me(56,"10 items por Pagina"),ce()()()(),ut(57,"hr"),he(58,"div",23)(59,"a",24),Me(60,"[Volver al Inicio]"),ce()()),2&r&&(Te(9),ef("ngModel",i.searchTerm),Te(2),We("disabled",i.isListening),Te(),We("src",i.ListeningButtonIconOn,Do),Te(),We("disabled",!i.isListening),Te(),We("src",i.ListeningButtonIconOff,Do),Te(),We("disabled",i.isListening),Te(),We("src",i.SpeakerIcon,Do),Te(2),We("src",i.clearFormIcon,Do),Te(),$o(19,Ru(20,20,i.loading)?19:-1),Te(2),$o(21,i.isListening&&!i.error?21:-1),Te(),We("ngIf",i.error),Te(19),_d(Ru(44,22,i._Pagelist)),Te(5),We("collectionSize",Ru(47,24,i.total)),ef("page",i.page),We("pageSize",i.pageSize),Te(2),ef("ngModel",i.pageSize),Te(),We("ngValue",2),Te(2),We("ngValue",4),Te(2),We("ngValue",6),Te(2),We("ngValue",10))},dependencies:[Us,bc,Y_,d0,h0,uA,WE,om,$_,u0,X_,L6,U6,j_],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})(),Pat=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-topics"]],decls:120,vars:0,consts:[["align","left"],["target","_blank","href","#"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h1"),Me(2,"[TOPICS]"),ce(),he(3,"h2"),Me(4,"[Front End]"),ce(),he(5,"ul")(6,"li")(7,"a",1),Me(8,"[Angular/Typescript]"),ce()(),he(9,"li")(10,"a",1),Me(11,"[BootStrap]"),ce()(),he(12,"li")(13,"a",1),Me(14,"[Angular Material]"),ce()(),he(15,"li")(16,"a",1),Me(17,"[jquery/css/html]"),ce()()(),he(18,"h2"),Me(19,"[Backend]"),ce(),he(20,"ul")(21,"li")(22,"a",1),Me(23,"[c# / .NET CORE]"),ce()(),he(24,"li")(25,"a",1),Me(26,"[node.js]"),ce()()(),he(27,"h2"),Me(28,"[A.I.]"),ce(),he(29,"ul")(30,"li")(31,"a",1),Me(32,"Google Gemini"),ce()(),he(33,"li")(34,"a",1),Me(35,"Chat gtp"),ce()(),he(36,"li")(37,"a",1),Me(38,"C# Accord"),ce()(),he(39,"li")(40,"a",1),Me(41,"C++ OpenCV"),ce()()(),he(42,"h2"),Me(43,"[Algorithm]"),ce(),he(44,"ul")(45,"li")(46,"a",1),Me(47,"[TAOCP]"),ce()(),he(48,"li")(49,"a",1),Me(50,"[Coursera / Neural Networks / Machine Learning]"),ce()()(),he(51,"h2"),Me(52,"[Databases]"),ce(),he(53,"ul")(54,"li")(55,"a",1),Me(56,"[MS SQL SERVER]"),ce()(),he(57,"li")(58,"a",1),Me(59,"[ORACLE]"),ce()(),he(60,"li")(61,"a",1),Me(62,"[MY SQL]"),ce()()(),he(63,"h2"),Me(64,"[Software Engineering]"),ce(),he(65,"ul")(66,"li")(67,"a",1),Me(68,"[Swebok]"),ce()(),he(69,"li")(70,"a",1),Me(71,"[Solid]"),ce()(),he(72,"li")(73,"a",1),Me(74,"[Softeware Patterns]"),ce()(),he(75,"li")(76,"a",1),Me(77,"[Clean]"),ce()()(),ut(78,"hr"),he(79,"h4"),Me(80,"[Angular - Listado por Tema]"),ce(),he(81,"ul")(82,"li"),Me(83,"Formularios basados en plantillas."),ce(),he(84,"li"),Me(85,"Fomulaios reactivos."),ce(),he(86,"li"),Me(87,"Servicios (llamadas API Rest a backends .net o node.js)."),ce(),he(88,"li"),Me(89,"Pipes (formato de fecha)."),ce(),he(90,"li"),Me(91,"Injecci\xf3n de Dependencia."),ce()(),ut(92,"hr"),he(93,"h4"),Me(94,"[Angular - Listado Por Caracter\xedstica]"),ce(),he(95,"ul")(96,"li"),Me(97,"Lectura de archivos de configuraci\xf3n."),ce(),he(98,"li"),Me(99,"Interceptores (registro de llamadas http)"),ce(),he(100,"li"),Me(101,"Manejo de errores."),ce(),he(102,"li"),Me(103,"Manejo de Graficos (canvas)."),ce(),he(104,"li"),Me(105,"Graficos estadisticos tipo Pastel y barras."),ce(),he(106,"li"),Me(107,"Exportaciones pdf, xls, csv, pdf."),ce(),he(108,"li"),Me(109,"Algoritmos (minmax, camino m\xe1s corto)."),ce(),he(110,"li"),Me(111,"OCR (Reconocimientos de Caracteres)."),ce(),he(112,"li"),Me(113,"LLamado a Sockets via Node.js (Chat)."),ce(),he(114,"li"),Me(115,"Manipulaci\xf3n de bases de datos MS SQL Server desde .net Core (backend)."),ce()()(),ut(116,"hr"),he(117,"div",2)(118,"a",3),Me(119,"[Volver al Inicio]"),ce()())},dependencies:[Us]})}}return n})(),Lat=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=hr({type:n,selectors:[["app-about"]],decls:23,vars:0,consts:[["align","left"],["routerLink","/Topics"],["routerLink","/LLMs"],["routerLink","/SCM"],["routerLink","/ContactForm"],["routerLink","/Index"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h2"),Me(2,"[ABOUT]"),ce(),he(3,"ul")(4,"li")(5,"a",1),Me(6,"[Topics]"),ce()(),he(7,"li")(8,"a",2),Me(9,"[Large Language Models List]"),ce()(),he(10,"li")(11,"a",3),Me(12,"[Software Configuration Management]"),ce()(),he(13,"li")(14,"a",4),Me(15,"[Contact Form]"),ce()(),he(16,"li")(17,"a",5),Me(18,"[Index]"),ce()()()(),ut(19,"hr"),he(20,"div",6)(21,"a",7),Me(22,"[Volver al Inicio]"),ce()())},dependencies:[Us]})}}return n})();var Uat=_e(3785),kat=_e.n(Uat);let Hat=(()=>{class n{constructor(){this.isLoaded=!1}initialize(){var t=this;return(0,mt.A)(function*(){if(!t.isLoaded)try{t.wasmModule=yield kat()(),t.isLoaded=!0}catch(r){throw console.error("Failed to load WebAssembly module:",r),r}})()}processString(t){var r=this;return(0,mt.A)(function*(){r.isLoaded||(yield r.initialize());try{let i=r.wasmModule._process_string(t);return console.log("output : "+i),i}catch(i){throw console.error("Error processing string:",i),i}})()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const eue=[{path:"Home",component:Ele,caption:"Home"},{path:"",component:Ele,caption:""},{path:"Sudoku",component:VRe,caption:"Sudoku"},{path:"TicTacToe",component:rOe,caption:"TicTacToe"},{path:"TicTacToeOnline",component:rPe,caption:"TicTacToe-Online"},{path:"Hanoi",component:Ixe,caption:"Hanoi - Timer"},{path:"HanoiRjxs",component:Mxe,caption:"Hanoi - Rjxs"},{path:"HanoiAuto",component:Sxe,caption:"Hanoi - Rjxs -Auto"},{path:"Hanoi3d",component:MFe,caption:"Hanoi - 3d"},{path:"RxJsPlayground",component:Nnt,caption:"RxJs-Playground"},{path:"OcrPhotoCapture",component:pnt,caption:"Ocr-Photo-Capture"},{path:"Ocr",component:_nt,caption:"Ocr"},{path:"Chat",component:PPe,caption:"Chat"},{path:"SpeechRecognition",component:Qnt,caption:"Speech       - Recognition"},{path:"ShapeReconCanvas",component:Hnt,caption:"Shape        - Recon - Canvas"},{path:"ShapeRecognition",component:Snt,caption:"Shape        - Recognition"},{path:"BackendTesting",component:vnt,caption:"Backend      - Testing"},{path:"BouncingBall",component:sPe,caption:"Boucing      - Testing"},{path:"Tetris",component:KRe,caption:"Tetris       - Testing"},{path:"MathParsing",component:Jet,caption:"Math         - Testing"},{path:"WebAssembly",component:(()=>{class n{constructor(t){this.stringProcessor=t,this.inputText="",this.processedText=""}ngOnInit(){var t=this;return(0,mt.A)(function*(){yield t.stringProcessor.initialize()})()}processText(){var t=this;return(0,mt.A)(function*(){try{t.processedText=yield t.stringProcessor.processString(t.inputText)}catch(r){console.error("Error:",r)}})()}static{this.\u0275fac=function(r){return new(r||n)(vt(Hat))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-web-assembly"]],decls:4,vars:2,consts:[[3,"ngModelChange","input","ngModel"]],template:function(r,i){1&r&&(he(0,"div")(1,"input",0),tf("ngModelChange",function(o){return aA(i.inputText,o)||(i.inputText=o),o}),Xt("input",function(){return i.processText()}),ce(),he(2,"p"),Me(3),ce()()),2&r&&(Te(),ef("ngModel",i.inputText),Te(2),Zi("Processed text: ",i.processedText,""))},dependencies:[uA,om,u0]})}}return n})(),caption:"WebAsemmbly  - Testing"},{path:"Dev",component:mnt,caption:"Testing Releases"},{path:"StableReleases",component:gnt,caption:"Stable Releases"},{path:"SCM",component:Oat,caption:"About - SCM"},{path:"Topics",component:Pat,caption:"About - Topics"},{path:"LLMs",component:Aat,caption:"About - LLM List"},{path:"Index",component:hat,caption:"About - Index"},{path:"ContactForm",component:Sat,caption:"About - Contact Form"},{path:"About",component:Lat,caption:"About"},{path:"**",component:jnt,caption:""}];let Vat=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=Ln({imports:[YK.forRoot(eue),YK]})}}return n})();function Qat(n,e){if(1&n){const t=Os();he(0,"ul",14)(1,"li",15)(2,"a",16),Xt("click",function(){return zn(t),$n(ln().NavbarCollapsed=!0)}),he(3,"div",17),Me(4),ce()()()()}if(2&n){const t=e.$implicit;Te(2),_E("routerLink","/",t.url,""),Te(2),Pr(t.text)}}let zat=(()=>{class n{get NavbarCollapsed(){return this.navbarCollapsed}set NavbarCollapsed(t){this.navbarCollapsed=t}constructor(t,r,i,s,o){this.router=t,this.configService=r,this.titleService=i,this.customErrorHandler=s,this.loggingInterceptor=o,this.title="PWA_DEMO_ENV_TEST",this._title="",this._appBrand="",this._appEnv="",this._appVersion="",this.runtimeVersion=T9.full,this.pages=[{url:"/Home",text:"[Home]"},{url:"/Dev",text:"[Testing Releases]"},{url:"/StableReleases",text:"[Stable Releases]"},{url:"/About",text:"[About]"}],this.navbarCollapsed=!0,this._appBrand=this.configService.getConfigValue("appBrand"),this._appEnv=this.configService.getConfigValue("appEnv"),this._appVersion=this.configService.getConfigValue("appVersion"),this._title=`${this._appBrand} - ${this._appEnv}  - v[${this._appVersion}]`,console.log(`${this._title}`)}ngOnInit(){this.titleService.setTitle(this._title)}static{this.\u0275fac=function(r){return new(r||n)(vt(nu),vt(um),vt(AT),vt(YF),vt(JF))}}static{this.\u0275cmp=hr({type:n,selectors:[["app-nav"]],decls:25,vars:7,consts:[["navbarItems",""],[1,""],[1,"navbar","navbar-expand-lg","subtitle"],["type","button","data-toggle","collapse","data-target","#navbarItems","aria-controls","navbarItems","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand"],[1,"subtitle",3,"click"],["routerLink","/"],[1,"me-1",2,"width","25px",3,"src","alt"],["id","navbarItems",1,"collapse","navbar-collapse","subtitle",3,"ngbCollapse"],["class","navbar-nav",4,"ngFor","ngForOf"],["role","main",1,"content"],[1,"footer"],["routerLink","/Index"],[1,"navbar-nav"],[1,"nav-item"],[1,"nav-link",3,"click","routerLink"],["align","left"]],template:function(r,i){if(1&r){const s=Os();he(0,"header",1)(1,"div",1)(2,"nav",2)(3,"button",3),Xt("click",function(){return zn(s),$n(i.NavbarCollapsed=!i.NavbarCollapsed)}),ut(4,"span",4),ce(),he(5,"a",5)(6,"div",6),Xt("click",function(){return zn(s),$n(i.NavbarCollapsed=!0)}),he(7,"a",7),ut(8,"img",8),ce()()(),he(9,"div",9,0),pn(11,Qat,5,3,"ul",10),ce()()()(),ut(12,"hr"),he(13,"div",11),ut(14,"router-outlet"),ce(),ut(15,"hr"),he(16,"footer")(17,"div",12)(18,"h5")(19,"a",13),Me(20,"[Index]"),ce()(),he(21,"h5"),Me(22),ce(),he(23,"h5"),Me(24),ce()()()}2&r&&(Te(8),We("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",Do)("alt","Angular Logo"),Te(),We("ngbCollapse",i.NavbarCollapsed),Te(2),We("ngForOf",i.pages),Te(11),MM("Aplication Name : ",i._appBrand," - ",i._appEnv,""),Te(2),Zi("Aplication Version : ",i._appVersion,""))},dependencies:[rU,Us,Jl,_6]})}}return n})(),YF=(()=>{class n{constructor(t){this.mcsdService=t}handleError(t){console.warn("[CUSTOM ERROR HANDLING]:\n"+t.name+"\n"+t.message),this.mcsdService.SetLog("[CUSTOM ERROR HANDLING]",t.message,pU.Error)}static{this.\u0275fac=function(r){return new(r||n)(Yt(Jb))}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JF=(()=>{class n{constructor(){}intercept(t,r){const i=Date.now();let s;return r.handle(t).pipe(Ko({next:o=>s=o instanceof yp?"succeeded":"",error:o=>s="failed"}),q_(()=>{const o=Date.now()-i;console.warn(` [REQUEST URL (INTERCEPT)] : ${t.method} "${t.urlWithParams}" ${s} in ${o} ms.`)}))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Gat(n){return n.loadAiPrompts(),n.loadSCMList(),()=>n.loadConfig()}let jat=(()=>{class n{constructor(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ui({type:n,bootstrap:[ZK]})}static{this.\u0275inj=Ln({providers:[xL,rT,s0,ibe(),[{provide:Mq,useClass:JF,multi:!0},{provide:pd,useClass:YF},um,{provide:FM,useFactory:Gat,deps:[um],multi:!0},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:Q6.PROVIDER_ID,provider:new Q6("1763416537924183")}]}}]],imports:[KZ,tX,gee,Vat,Jg,d$,rwe,x1e,rW,YCe,ont,Jce,Jce,XF,w6,U6,XF,d$,NPe,vat]})}}return n})();(function a9(n,e,t){const r=n.\u0275cmp;r.directiveDefs=KA(e,!1),r.pipeDefs=KA(t,!0)})(ZK,[zat],[]),Z1e().bootstrapModule(jat).catch(n=>console.error(n))},1234:()=>{},6645:function(ir){ir.exports=function(){"use strict";function Wn(){return!0}function _e(){return!1}function Et(){}const mt="Argument is not a typed-function.";return function St(){function yn(He){return"object"==typeof He&&null!==He&&He.constructor===Object}const gt=[{name:"number",test:function(He){return"number"==typeof He}},{name:"string",test:function(He){return"string"==typeof He}},{name:"boolean",test:function(He){return"boolean"==typeof He}},{name:"Function",test:function(He){return"function"==typeof He}},{name:"Array",test:Array.isArray},{name:"Date",test:function(He){return He instanceof Date}},{name:"RegExp",test:function(He){return He instanceof RegExp}},{name:"Object",test:yn},{name:"null",test:function(He){return null===He}},{name:"undefined",test:function(He){return void 0===He}}],On={name:"any",test:Wn,isAny:!0};let wt,Ge,Ut=0,Nt={createCount:0};function Ct(He){const Je=wt.get(He);if(Je)return Je;let lt='Unknown type "'+He+'"';const Rt=He.toLowerCase();let zt;for(zt of Ge)if(zt.toLowerCase()===Rt){lt+='. Did you mean "'+zt+'" ?';break}throw new TypeError(lt)}function Gt(He){let Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const lt=Je?Ct(Je).index:Ge.length,Rt=[];for(let Ht=0;Ht<He.length;++Ht){if(!He[Ht]||"string"!=typeof He[Ht].name||"function"!=typeof He[Ht].test)throw new TypeError("Object with properties {name: string, test: function} expected");const Tn=He[Ht].name;if(wt.has(Tn))throw new TypeError('Duplicate type name "'+Tn+'"');Rt.push(Tn),wt.set(Tn,{name:Tn,test:He[Ht].test,isAny:He[Ht].isAny,index:lt+Ht,conversionsTo:[]})}const zt=Ge.slice(lt);Ge=Ge.slice(0,lt).concat(Rt).concat(zt);for(let Ht=lt+Rt.length;Ht<Ge.length;++Ht)wt.get(Ge[Ht]).index=Ht}function tn(){wt=new Map,Ge=[],Ut=0,Gt([On],!1)}function Yr(He){const Je=Ge.filter(lt=>{const Rt=wt.get(lt);return!Rt.isAny&&Rt.test(He)});return Je.length?Je:["any"]}function _s(He){return He&&"function"==typeof He&&"_typedFunctionData"in He}function xi(He,Je,lt){if(!_s(He))throw new TypeError(mt);const Rt=lt&&lt.exact,Ht=Qi(Array.isArray(Je)?Je.join(","):Je),Tn=fr(Ht);if(!Rt||Tn in He.signatures){const Fr=He._typedFunctionData.signatureMap.get(Tn);if(Fr)return Fr}const sn=Ht.length;let Dn,Qt;if(Rt){let Fr;for(Fr in Dn=[],He.signatures)Dn.push(He._typedFunctionData.signatureMap.get(Fr))}else Dn=He._typedFunctionData.signatures;for(let Fr=0;Fr<sn;++Fr){const Mi=Ht[Fr],ws=[];let No;for(No of Dn){const us=Wa(No.params,Fr);if(us&&(!Mi.restParam||us.restParam)){if(!us.hasAny){const Ya=Ds(us);if(Mi.types.some(Qo=>!Ya.has(Qo.name)))continue}ws.push(No)}}if(Dn=ws,0===Dn.length)break}for(Qt of Dn)if(Qt.params.length<=sn)return Qt;throw new TypeError("Signature not found (signature: "+(He.name||"unnamed")+"("+fr(Ht,", ")+"))")}function fr(He){let Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return He.map(lt=>lt.name).join(Je)}function wi(He){const Je=0===He.indexOf("..."),Rt=(Je?He.length>3?He.slice(3):"any":He).split("|").map(sn=>Ct(sn.trim()));let zt=!1,Ht=Je?"...":"";return{types:Rt.map(function(sn){return zt=sn.isAny||zt,Ht+=sn.name+"|",{name:sn.name,typeIndex:sn.index,test:sn.test,isAny:sn.isAny,conversion:null,conversionIndex:-1}}),name:Ht.slice(0,-1),hasAny:zt,hasConversion:!1,restParam:Je}}function si(He){const lt=function hg(He){if(0===He.length)return[];const Je=He.map(Ct);He.length>1&&Je.sort((zt,Ht)=>zt.index-Ht.index);let lt=Je[0].conversionsTo;if(1===He.length)return lt;lt=lt.concat([]);const Rt=new Set(He);for(let zt=1;zt<Je.length;++zt){let Ht;for(Ht of Je[zt].conversionsTo)Rt.has(Ht.from)||(lt.push(Ht),Rt.add(Ht.from))}return lt}(He.types.map(Tn=>Tn.name));let Rt=He.hasAny,zt=He.name;const Ht=lt.map(function(Tn){const sn=Ct(Tn.from);return Rt=sn.isAny||Rt,zt+="|"+Tn.from,{name:Tn.from,typeIndex:sn.index,test:sn.test,isAny:sn.isAny,conversion:Tn,conversionIndex:Tn.index}});return{types:He.types.concat(Ht),name:zt,hasAny:Rt,hasConversion:Ht.length>0,restParam:He.restParam}}function Ds(He){return He.typeSet||(He.typeSet=new Set,He.types.forEach(Je=>He.typeSet.add(Je.name))),He.typeSet}function Qi(He){const Je=[];if("string"!=typeof He)throw new TypeError("Signatures must be strings");const lt=He.trim();if(""===lt)return Je;const Rt=lt.split(",");for(let zt=0;zt<Rt.length;++zt){const Ht=wi(Rt[zt].trim());if(Ht.restParam&&zt!==Rt.length-1)throw new SyntaxError('Unexpected rest parameter "'+Rt[zt]+'": only allowed for the last parameter');if(0===Ht.types.length)return null;Je.push(Ht)}return Je}function yi(He){const Je=bs(He);return!!Je&&Je.restParam}function Di(He){if(!He||0===He.types.length)return Wn;if(1===He.types.length)return Ct(He.types[0].name).test;if(2===He.types.length){const Je=Ct(He.types[0].name).test,lt=Ct(He.types[1].name).test;return function(zt){return Je(zt)||lt(zt)}}{const Je=He.types.map(function(lt){return Ct(lt.name).test});return function(Rt){for(let zt=0;zt<Je.length;zt++)if(Je[zt](Rt))return!0;return!1}}}function Aa(He){let Je,lt,Rt;if(yi(He)){Je=hn(He).map(Di);const zt=Je.length,Ht=Di(bs(He)),Tn=function(sn){for(let Dn=zt;Dn<sn.length;Dn++)if(!Ht(sn[Dn]))return!1;return!0};return function(Dn){for(let Qt=0;Qt<Je.length;Qt++)if(!Je[Qt](Dn[Qt]))return!1;return Tn(Dn)&&Dn.length>=zt+1}}return 0===He.length?function(Ht){return 0===Ht.length}:1===He.length?(lt=Di(He[0]),function(Ht){return lt(Ht[0])&&1===Ht.length}):2===He.length?(lt=Di(He[0]),Rt=Di(He[1]),function(Ht){return lt(Ht[0])&&Rt(Ht[1])&&2===Ht.length}):(Je=He.map(Di),function(Ht){for(let Tn=0;Tn<Je.length;Tn++)if(!Je[Tn](Ht[Tn]))return!1;return Ht.length===Je.length})}function Wa(He,Je){return Je<He.length?He[Je]:yi(He)?bs(He):null}function pa(He,Je){const lt=Wa(He,Je);return lt?Ds(lt):new Set}function $a(He){return null==He.conversion}function Hl(He,Je){const lt=new Set;return He.forEach(Rt=>{const zt=pa(Rt.params,Je);let Ht;for(Ht of zt)lt.add(Ht)}),lt.has("any")?["any"]:Array.from(lt)}function pl(He,Je,lt){let Rt,zt;const Ht=He||"unnamed";let sn,Tn=lt;for(sn=0;sn<Je.length;sn++){const Mi=[];if(Tn.forEach(ws=>{const us=Di(Wa(ws.params,sn));(sn<ws.params.length||yi(ws.params))&&us(Je[sn])&&Mi.push(ws)}),0===Mi.length){if(zt=Hl(Tn,sn),zt.length>0){const ws=Yr(Je[sn]);return Rt=new TypeError("Unexpected type of argument in function "+Ht+" (expected: "+zt.join(" or ")+", actual: "+ws.join(" | ")+", index: "+sn+")"),Rt.data={category:"wrongType",fn:Ht,index:sn,actual:ws,expected:zt},Rt}}else Tn=Mi}const Dn=Tn.map(function(Mi){return yi(Mi.params)?1/0:Mi.params.length});if(Je.length<Math.min.apply(null,Dn))return zt=Hl(Tn,sn),Rt=new TypeError("Too few arguments in function "+Ht+" (expected: "+zt.join(" or ")+", index: "+Je.length+")"),Rt.data={category:"tooFewArgs",fn:Ht,index:Je.length,expected:zt},Rt;const Qt=Math.max.apply(null,Dn);if(Je.length>Qt)return Rt=new TypeError("Too many arguments in function "+Ht+" (expected: "+Qt+", actual: "+Je.length+")"),Rt.data={category:"tooManyArgs",fn:Ht,index:Je.length,expectedLength:Qt},Rt;const Fr=[];for(let Mi=0;Mi<Je.length;++Mi)Fr.push(Yr(Je[Mi]).join("|"));return Rt=new TypeError('Arguments of type "'+Fr.join(", ")+'" do not match any of the defined signatures of function '+Ht+"."),Rt.data={category:"mismatch",actual:Fr},Rt}function Qc(He){let Je=Ge.length+1;for(let lt=0;lt<He.types.length;lt++)$a(He.types[lt])&&(Je=Math.min(Je,He.types[lt].typeIndex));return Je}function UA(He){let Je=Ut+1;for(let lt=0;lt<He.types.length;lt++)$a(He.types[lt])||(Je=Math.min(Je,He.types[lt].conversionIndex));return Je}function kr(He,Je){if(He.hasAny){if(!Je.hasAny)return 1}else if(Je.hasAny)return-1;if(He.restParam){if(!Je.restParam)return 1}else if(Je.restParam)return-1;if(He.hasConversion){if(!Je.hasConversion)return 1}else if(Je.hasConversion)return-1;const lt=Qc(He)-Qc(Je);if(lt<0)return-1;if(lt>0)return 1;const Rt=UA(He)-UA(Je);return Rt<0?-1:Rt>0?1:0}function Ih(He,Je){const lt=He.params,Rt=Je.params,zt=bs(lt),Ht=bs(Rt),Tn=yi(lt),sn=yi(Rt);if(Tn&&zt.hasAny){if(!sn||!Ht.hasAny)return 1}else if(sn&&Ht.hasAny)return-1;let Fr,Dn=0,Qt=0;for(Fr of lt)Fr.hasAny&&++Dn,Fr.hasConversion&&++Qt;let Mi=0,ws=0;for(Fr of Rt)Fr.hasAny&&++Mi,Fr.hasConversion&&++ws;if(Dn!==Mi)return Dn-Mi;if(Tn&&zt.hasConversion){if(!sn||!Ht.hasConversion)return 1}else if(sn&&Ht.hasConversion)return-1;if(Qt!==ws)return Qt-ws;if(Tn){if(!sn)return 1}else if(sn)return-1;const No=(lt.length-Rt.length)*(Tn?-1:1);if(0!==No)return No;const us=[];let Qo,Ya=0;for(let ci=0;ci<lt.length;++ci){const Gc=kr(lt[ci],Rt[ci]);us.push(Gc),Ya+=Gc}if(0!==Ya)return Ya;for(Qo of us)if(0!==Qo)return Qo;return 0}function By(He,Je){let lt=Je;if(He.some(zt=>zt.hasConversion)){const zt=yi(He),Ht=He.map(Vl);lt=function(){const sn=[],Dn=zt?arguments.length-1:arguments.length;for(let Qt=0;Qt<Dn;Qt++)sn[Qt]=Ht[Qt](arguments[Qt]);return zt&&(sn[Dn]=arguments[Dn].map(Ht[Dn])),Je.apply(this,sn)}}let Rt=lt;if(yi(He)){const zt=He.length-1;Rt=function(){return lt.apply(this,Jr(arguments,0,zt).concat([Jr(arguments,zt)]))}}return Rt}function Vl(He){let Je,lt,Rt,zt;const Ht=[],Tn=[];switch(He.types.forEach(function(sn){sn.conversion&&(Ht.push(Ct(sn.conversion.from).test),Tn.push(sn.conversion.convert))}),Tn.length){case 0:return function(Dn){return Dn};case 1:return Je=Ht[0],Rt=Tn[0],function(Dn){return Je(Dn)?Rt(Dn):Dn};case 2:return Je=Ht[0],lt=Ht[1],Rt=Tn[0],zt=Tn[1],function(Dn){return Je(Dn)?Rt(Dn):lt(Dn)?zt(Dn):Dn};default:return function(Dn){for(let Qt=0;Qt<Tn.length;Qt++)if(Ht[Qt](Dn))return Tn[Qt](Dn);return Dn}}}function Ql(He){return function Je(lt,Rt,zt){if(Rt<lt.length){const Ht=lt[Rt];let Tn=[];if(Ht.restParam){const sn=Ht.types.filter($a);sn.length<Ht.types.length&&Tn.push({types:sn,name:"..."+sn.map(Dn=>Dn.name).join("|"),hasAny:sn.some(Dn=>Dn.isAny),hasConversion:!1,restParam:!0}),Tn.push(Ht)}else Tn=Ht.types.map(function(sn){return{types:[sn],name:sn.name,hasAny:sn.isAny,hasConversion:sn.conversion,restParam:!1}});return function oi(He,Je){return Array.prototype.concat.apply([],He.map(Je))}(Tn,function(sn){return Je(lt,Rt+1,zt.concat([sn]))})}return[zt]}(He,0,[])}function Vd(He,Je){const lt=Math.max(He.length,Je.length);for(let sn=0;sn<lt;sn++){const Dn=pa(He,sn),Qt=pa(Je,sn);let Mi,Fr=!1;for(Mi of Qt)if(Dn.has(Mi)){Fr=!0;break}if(!Fr)return!1}const Rt=He.length,zt=Je.length,Ht=yi(He),Tn=yi(Je);return Ht?Tn?Rt===zt:zt>=Rt:Tn?Rt>=zt:Rt===zt}function dt(He,Je,lt){const Rt=[];let zt;for(zt of He){let Ht=lt[zt];if("number"!=typeof Ht)throw new TypeError('No definition for referenced signature "'+zt+'"');if(Ht=Je[Ht],"function"!=typeof Ht)return!1;Rt.push(Ht)}return Rt}function At(He,Je,lt){const Rt=function kf(He){return He.map(Je=>oo(Je)?Ka(Je.referToSelf.callback):Xa(Je)?zc(Je.referTo.references,Je.referTo.callback):Je)}(He),zt=new Array(Rt.length).fill(!1);let Ht=!0;for(;Ht;){Ht=!1;let Tn=!0;for(let sn=0;sn<Rt.length;++sn){if(zt[sn])continue;const Dn=Rt[sn];if(oo(Dn))Rt[sn]=Dn.referToSelf.callback(lt),Rt[sn].referToSelf=Dn.referToSelf,zt[sn]=!0,Tn=!1;else if(Xa(Dn)){const Qt=dt(Dn.referTo.references,Rt,Je);Qt?(Rt[sn]=Dn.referTo.callback.apply(this,Qt),Rt[sn].referTo=Dn.referTo,zt[sn]=!0,Tn=!1):Ht=!0}}if(Tn&&Ht)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Rt}function cn(He,Je){if(Nt.createCount++,0===Object.keys(Je).length)throw new SyntaxError("No signatures provided");Nt.warnAgainstDeprecatedThis&&function Jt(He){const Je=/\bthis(\(|\.signatures\b)/;Object.keys(He).forEach(lt=>{if(Je.test(He[lt].toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(Je);const lt=[],Rt=[],zt={},Ht=[];let Tn;for(Tn in Je){if(!Object.prototype.hasOwnProperty.call(Je,Tn))continue;const Gi=Qi(Tn);if(!Gi)continue;lt.forEach(function(vl){if(Vd(vl,Gi))throw new TypeError('Conflicting signatures "'+fr(vl)+'" and "'+fr(Gi)+'".')}),lt.push(Gi);const Ts=Rt.length;Rt.push(Je[Tn]);const Ac=Gi.map(si);let zl;for(zl of Ql(Ac)){const vl=fr(zl);Ht.push({params:zl,name:vl,fn:Ts}),zl.every(mg=>!mg.hasConversion)&&(zt[vl]=Ts)}}Ht.sort(Ih);const sn=At(Rt,zt,Vf);let Dn;for(Dn in zt)Object.prototype.hasOwnProperty.call(zt,Dn)&&(zt[Dn]=sn[zt[Dn]]);const Qt=[],Fr=new Map;for(Dn of Ht)Fr.has(Dn.name)||(Dn.fn=sn[Dn.fn],Qt.push(Dn),Fr.set(Dn.name,Dn));const Mi=Qt[0]&&Qt[0].params.length<=2&&!yi(Qt[0].params),ws=Qt[1]&&Qt[1].params.length<=2&&!yi(Qt[1].params),No=Qt[2]&&Qt[2].params.length<=2&&!yi(Qt[2].params),us=Qt[3]&&Qt[3].params.length<=2&&!yi(Qt[3].params),Ya=Qt[4]&&Qt[4].params.length<=2&&!yi(Qt[4].params),Qo=Qt[5]&&Qt[5].params.length<=2&&!yi(Qt[5].params),ci=Mi&&ws&&No&&us&&Ya&&Qo;for(let Gi=0;Gi<Qt.length;++Gi)Qt[Gi].test=Aa(Qt[Gi].params);const Gc=Mi?Di(Qt[0].params[0]):_e,fg=ws?Di(Qt[1].params[0]):_e,kA=No?Di(Qt[2].params[0]):_e,pv=us?Di(Qt[3].params[0]):_e,Rr=Ya?Di(Qt[4].params[0]):_e,jr=Qo?Di(Qt[5].params[0]):_e,ds=Mi?Di(Qt[0].params[1]):_e,Rh=ws?Di(Qt[1].params[1]):_e,Pi=No?Di(Qt[2].params[1]):_e,zi=us?Di(Qt[3].params[1]):_e,HA=Ya?Di(Qt[4].params[1]):_e,Hr=Qo?Di(Qt[5].params[1]):_e;for(let Gi=0;Gi<Qt.length;++Gi)Qt[Gi].implementation=By(Qt[Gi].params,Qt[Gi].fn);const VA=Mi?Qt[0].implementation:Et,Ys=ws?Qt[1].implementation:Et,zo=No?Qt[2].implementation:Et,Tw=us?Qt[3].implementation:Et,QA=Ya?Qt[4].implementation:Et,mo=Qo?Qt[5].implementation:Et,ml=Mi?Qt[0].params.length:-1,Ag=ws?Qt[1].params.length:-1,Ny=No?Qt[2].params.length:-1,ad=us?Qt[3].params.length:-1,Iy=Ya?Qt[4].params.length:-1,pg=Qo?Qt[5].params.length:-1,pt=ci?6:0,fc=Qt.length,Cu=Qt.map(Gi=>Gi.test),gg=Qt.map(Gi=>Gi.implementation),Hf=function(){for(let Ts=pt;Ts<fc;Ts++)if(Cu[Ts](arguments))return gg[Ts].apply(this,arguments);return Nt.onMismatch(He,arguments,Qt)};function Vf(Gi,Ts){return arguments.length===ml&&Gc(Gi)&&ds(Ts)?VA.apply(this,arguments):arguments.length===Ag&&fg(Gi)&&Rh(Ts)?Ys.apply(this,arguments):arguments.length===Ny&&kA(Gi)&&Pi(Ts)?zo.apply(this,arguments):arguments.length===ad&&pv(Gi)&&zi(Ts)?Tw.apply(this,arguments):arguments.length===Iy&&Rr(Gi)&&HA(Ts)?QA.apply(this,arguments):arguments.length===pg&&jr(Gi)&&Hr(Ts)?mo.apply(this,arguments):Hf.apply(this,arguments)}try{Object.defineProperty(Vf,"name",{value:He})}catch{}return Vf.signatures=zt,Vf._typedFunctionData={signatures:Qt,signatureMap:Fr},Vf}function Xn(He,Je,lt){throw pl(He,Je,lt)}function hn(He){return Jr(He,0,He.length-1)}function bs(He){return He[He.length-1]}function Jr(He,Je,lt){return Array.prototype.slice.call(He,Je,lt)}function zc(He,Je){return{referTo:{references:He,callback:Je}}}function Ka(He){if("function"!=typeof He)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:He}}}function Xa(He){return He&&"object"==typeof He.referTo&&Array.isArray(He.referTo.references)&&"function"==typeof He.referTo.callback}function oo(He){return He&&"object"==typeof He.referToSelf&&"function"==typeof He.referToSelf.callback}function gl(He,Je){if(!He)return Je;if(Je&&Je!==He){const lt=new Error("Function names do not match (expected: "+He+", actual: "+Je+")");throw lt.data={actual:Je,expected:He},lt}return He}function Ms(He){let Je;for(const lt in He)Object.prototype.hasOwnProperty.call(He,lt)&&(_s(He[lt])||"string"==typeof He[lt].signature)&&(Je=gl(Je,He[lt].name));return Je}function od(He,Je){let lt;for(lt in Je)if(Object.prototype.hasOwnProperty.call(Je,lt)){if(lt in He&&Je[lt]!==He[lt]){const Rt=new Error('Signature "'+lt+'" is defined twice');throw Rt.data={signature:lt,sourceFunction:Je[lt],destFunction:He[lt]},Rt}He[lt]=Je[lt]}}tn(),Gt(gt);const Fh=Nt;function wu(He){if(!He||"string"!=typeof He.from||"string"!=typeof He.to||"function"!=typeof He.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(He.to===He.from)throw new SyntaxError('Illegal to define conversion from "'+He.from+'" to itself.')}return Nt=function(He){const Je="string"==typeof He;let Rt=Je?He:"";const zt={};for(let Ht=Je?1:0;Ht<arguments.length;++Ht){const Tn=arguments[Ht];let Dn,sn={};if("function"==typeof Tn?(Dn=Tn.name,"string"==typeof Tn.signature?sn[Tn.signature]=Tn:_s(Tn)&&(sn=Tn.signatures)):yn(Tn)&&(sn=Tn,Je||(Dn=Ms(Tn))),0===Object.keys(sn).length){const Qt=new TypeError("Argument to 'typed' at index "+Ht+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Qt.data={index:Ht,argument:Tn},Qt}Je||(Rt=gl(Rt,Dn)),od(zt,sn)}return cn(Rt||"",zt)},Nt.create=St,Nt.createCount=Fh.createCount,Nt.onMismatch=Xn,Nt.throwMismatchError=Xn,Nt.createError=pl,Nt.clear=tn,Nt.clearConversions=function on(){let He;for(He of Ge)wt.get(He).conversionsTo=[];Ut=0},Nt.addTypes=Gt,Nt._findType=Ct,Nt.referTo=function Vo(){const He=hn(arguments).map(lt=>fr(Qi(lt))),Je=bs(arguments);if("function"!=typeof Je)throw new TypeError("Callback function expected as last argument");return zc(He,Je)},Nt.referToSelf=Ka,Nt.convert=function Ho(He,Je){const lt=Ct(Je);if(lt.test(He))return He;const Rt=lt.conversionsTo;if(0===Rt.length)throw new Error("There are no conversions to "+Je+" defined.");for(let zt=0;zt<Rt.length;zt++)if(Ct(Rt[zt].from).test(He))return Rt[zt].convert(He);throw new Error("Cannot convert "+He+" to "+Je)},Nt.findSignature=xi,Nt.find=function xs(He,Je,lt){return xi(He,Je,lt).implementation},Nt.isTypedFunction=_s,Nt.warnAgainstDeprecatedThis=!0,Nt.addType=function(He,Je){let lt="any";!1!==Je&&wt.has("Object")&&(lt="Object"),Nt.addTypes([He],lt)},Nt.addConversion=function(He){let Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};wu(He);const lt=Ct(He.to),Rt=lt.conversionsTo.find(zt=>zt.from===He.from);if(Rt){if(!Je||!Je.override)throw new Error('There is already a conversion from "'+He.from+'" to "'+lt.name+'"');Nt.removeConversion({from:Rt.from,to:He.to,convert:Rt.convert})}lt.conversionsTo.push({from:He.from,convert:He.convert,index:Ut++})},Nt.addConversions=function(He,Je){He.forEach(lt=>Nt.addConversion(lt,Je))},Nt.removeConversion=function(He){wu(He);const Je=Ct(He.to),lt=function Ii(He,Je){for(let lt=0;lt<He.length;lt++)if(Je(He[lt]))return He[lt]}(Je.conversionsTo,zt=>zt.from===He.from);if(!lt)throw new Error("Attempt to remove nonexistent conversion from "+He.from+" to "+He.to);if(lt.convert!==He.convert)throw new Error("Conversion to remove does not match existing conversion");const Rt=Je.conversionsTo.indexOf(lt);Je.conversionsTo.splice(Rt,1)},Nt.resolve=function(He,Je){if(!_s(He))throw new TypeError(mt);const lt=He._typedFunctionData.signatures;for(let Rt=0;Rt<lt.length;++Rt)if(lt[Rt].test(Je))return lt[Rt];return null},Nt}()}()},4510:ir=>{function Wn(Et,mt,St,rn,yn,gt,On){try{var wt=Et[gt](On),Ge=wt.value}catch(Ut){return void St(Ut)}wt.done?mt(Ge):Promise.resolve(Ge).then(rn,yn)}ir.exports=function _e(Et){return function(){var mt=this,St=arguments;return new Promise(function(rn,yn){var gt=Et.apply(mt,St);function On(Ge){Wn(gt,rn,yn,On,wt,"next",Ge)}function wt(Ge){Wn(gt,rn,yn,On,wt,"throw",Ge)}On(void 0)})}},ir.exports.__esModule=!0,ir.exports.default=ir.exports},7617:()=>{"use strict";const ir=":";Error;const Ql=function(dt,...At){if(Ql.translate){const cn=Ql.translate(dt,At);dt=cn[0],At=cn[1]}let Jt=kf(dt[0],dt.raw[0]);for(let cn=1;cn<dt.length;cn++)Jt+=At[cn-1]+kf(dt[cn],dt.raw[cn]);return Jt},Vd=":";function kf(dt,At){return At.charAt(0)===Vd?dt.substring(function pa(dt,At){for(let Jt=1,cn=1;Jt<dt.length;Jt++,cn++)if("\\"===At[cn])cn++;else if(dt[Jt]===ir)return Jt;throw new Error(`Unterminated $localize metadata block in "${At}".`)}(dt,At)+1):dt}globalThis.$localize=Ql},3308:(ir,Wn,_e)=>{"use strict";function Et(St,rn,yn,gt,On,wt,Ge){try{var Ut=St[wt](Ge),Nt=Ut.value}catch(Ct){return void yn(Ct)}Ut.done?rn(Nt):Promise.resolve(Nt).then(gt,On)}function mt(St){return function(){var rn=this,yn=arguments;return new Promise(function(gt,On){var wt=St.apply(rn,yn);function Ge(Nt){Et(wt,gt,On,Ge,Ut,"next",Nt)}function Ut(Nt){Et(wt,gt,On,Ge,Ut,"throw",Nt)}Ge(void 0)})}}_e.d(Wn,{A:()=>mt})},9391:(ir,Wn,_e)=>{"use strict";function Et(mt){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(St){return typeof St}:function(St){return St&&"function"==typeof Symbol&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St})(mt)}_e.d(Wn,{A:()=>Et})}},ir=>{var Wn=Et=>ir(ir.s=Et);Wn(7617),Wn(5210)}]);