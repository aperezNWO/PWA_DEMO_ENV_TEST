(self.webpackChunkAngularDijkstra=self.webpackChunkAngularDijkstra||[]).push([[792],{2809:(gr,Xn,we)=>{"use strict";var Et={};we.r(Et),we.d(Et,{Decoder:()=>_H,Encoder:()=>aPe,PacketType:()=>Ji,protocol:()=>oPe});var yt=we(467);let An=null,Mn=!1,jn=1;const zn=Symbol("SIGNAL");function bt(n){const e=An;return An=n,e}const mt={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gt(n){if(Mn)throw new Error("");if(null===An)return;An.consumerOnSignalRead(n);const e=An.nextProducerIndex++;fi(An),e<An.producerNode.length&&An.producerNode[e]!==n&&Li(An)&&Ds(An.producerNode[e],An.producerIndexOfThis[e]),An.producerNode[e]!==n&&(An.producerNode[e]=n,An.producerIndexOfThis[e]=Li(An)?po(n,An,e):0),An.producerLastReadVersion[e]=n.version}function rn(n){if((!Li(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==jn)){if(!n.producerMustRecompute(n)&&!mr(n))return n.dirty=!1,void(n.lastCleanEpoch=jn);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=jn}}function Jr(n){if(void 0===n.liveConsumerNode)return;const e=Mn;Mn=!0;try{for(const t of n.liveConsumerNode)t.dirty||Qs(t)}finally{Mn=e}}function ps(){return!1!==An?.consumerAllowSignalWrites}function Qs(n){n.dirty=!0,Jr(n),n.consumerMarkedDirty?.(n)}function mr(n){fi(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(rn(t),r!==t.version))return!0}return!1}function po(n,e,t){if(bi(n),fi(n),0===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=po(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ds(n,e){if(bi(n),fi(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Ds(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];fi(i),i.producerIndexOfThis[r]=e}}function Li(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function fi(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function bi(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}let Cd=function ru(){throw new Error};function Wp(){Cd()}let Sd=null;function xd(n,e){ps()||Wp(),n.equal(n.value,e)||(n.value=e,function ht(n){n.version++,function Yt(){jn++}(),Jr(n),Sd?.()}(n))}const Xp={...mt,equal:function Ct(n,e){return Object.is(n,e)},value:void 0};function fn(n){return"function"==typeof n}function Rs(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const li=Rs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ti(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class mi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(fn(r))try{r()}catch(s){e=s instanceof li?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ql(s)}catch(o){e=e??[],o instanceof li?e=[...e,...o.errors]:e.push(o)}}if(e)throw new li(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ql(e);else{if(e instanceof mi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ti(t,e)}remove(e){const{_finalizers:t}=this;t&&Ti(t,e),e instanceof mi&&e._removeParent(this)}}mi.EMPTY=(()=>{const n=new mi;return n.closed=!0,n})();const wc=mi.EMPTY;function Hu(n){return n instanceof mi||n&&"closed"in n&&fn(n.remove)&&fn(n.add)&&fn(n.unsubscribe)}function ql(n){fn(n)?n():n.unsubscribe()}const il={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wo={setTimeout(n,e,...t){const{delegate:r}=wo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=wo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Wl(n){wo.setTimeout(()=>{const{onUnhandledError:e}=il;if(!e)throw n;e(n)})}function zs(){}const wh=He("C",void 0,void 0);function He(n,e,t){return{kind:n,value:e,error:t}}let Je=null;function lt(n){if(il.useDeprecatedSynchronousErrorHandling){const e=!Je;if(e&&(Je={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Je;if(Je=null,t)throw r}}else n()}class Wt extends mi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hu(e)&&e.add(this)):this.destination=ao}static create(e,t,r){return new Sn(e,t,r)}next(e){this.isStopped?Wi(function Ch(n){return He("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Wi(function bA(n){return He("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wi(wh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Vt=Function.prototype.bind;function Cn(n,e){return Vt.call(n,e)}class tn{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Jt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Jt(r)}else Jt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jt(t)}}}class Sn extends Wt{constructor(e,t,r){let i;if(super(),fn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&il.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cn(e.next,s),error:e.error&&Cn(e.error,s),complete:e.complete&&Cn(e.complete,s)}):i=e}this.destination=new tn(i)}}function Jt(n){il.useDeprecatedSynchronousErrorHandling?function Ot(n){il.useDeprecatedSynchronousErrorHandling&&Je&&(Je.errorThrown=!0,Je.error=n)}(n):Wl(n)}function Wi(n,e){const{onStoppedNotification:t}=il;t&&wo.setTimeout(()=>t(n,e))}const ao={closed:!0,next:zs,error:function Ui(n){throw n},complete:zs},Vo="function"==typeof Symbol&&Symbol.observable||"@@observable";function gs(n){return n}function Ua(n){return 0===n.length?gs:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let di=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function vw(n){return n&&n instanceof Wt||function my(n){return n&&fn(n.next)&&fn(n.error)&&fn(n.complete)}(n)&&Hu(n)}(t)?t:new Sn(t,r,i);return lt(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=mf(r))((i,s)=>{const o=new Sn({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Vo](){return this}pipe(...t){return Ua(t)(this)}toPromise(t){return new(t=mf(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function mf(n){var e;return null!==(e=n??il.Promise)&&void 0!==e?e:Promise}const yw=Rs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ur=(()=>{class n extends di{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new ci(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new yw}next(t){lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?wc:(this.currentObservers=null,s.push(t),new mi(()=>{this.currentObservers=null,Ti(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new di;return t.source=this,t}}return n.create=(e,t)=>new ci(e,t),n})();class ci extends Ur{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:wc}}class Ms extends Ur{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Yp(n){return fn(n?.lift)}function ki(n){return e=>{if(Yp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Hi(n,e,t,r,i){return new vy(n,e,t,r,i)}class vy extends Wt{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Tr(n,e){return ki((t,r)=>{let i=0;t.subscribe(Hi(r,s=>{r.next(n.call(e,s,i++))}))})}const Jp=Rs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Bi(n,e){return ki((t,r)=>{let i=0;t.subscribe(Hi(r,s=>n.call(e,s,i++)&&r.next(s)))})}const Sl=new di(n=>n.complete());function Co(n){return n<=0?()=>Sl:ki((e,t)=>{let r=0;e.subscribe(Hi(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zp(n){return ki((e,t)=>{let r=!1;e.subscribe(Hi(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function yy(n=_w){return ki((e,t)=>{let r=!1;e.subscribe(Hi(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function _w(){return new Jp}function Cc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bi((i,s)=>n(i,s,r)):gs,Co(1),t?Zp(e):yy(()=>new Jp))}const _y="https://g.co/ng/security#xss";class dt extends Error{constructor(e,t){super(function Vu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Os(n){return{toString:n}.toString()}const Qu="__parameters__";function yf(n,e,t){return Os(()=>{const r=function ng(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(Qu)?l[Qu]:Object.defineProperty(l,Qu,{value:[]})[Qu];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const ls=globalThis;function ms(n){for(let e in n)if(n[e]===ms)return e;throw Error("Could not find renamed property on target object.")}function yR(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ta(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ta).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function bw(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const bR=ms({__forward_ref__:ms});function cs(n){return n.__forward_ref__=cs,n.toString=function(){return ta(this())},n}function or(n){return Cy(n)?n():n}function Cy(n){return"function"==typeof n&&n.hasOwnProperty(bR)&&n.__forward_ref__===cs}function Sh(n,e,t){n!=e&&function hr(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(t,n,e,"==")}function Rt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kr(n){return{providers:n.providers||[],imports:n.imports||[]}}function tv(n){return ww(n,na)||ww(n,wA)}function ww(n,e){return n.hasOwnProperty(e)?n[e]:null}function Sy(n){return n&&(n.hasOwnProperty(Cw)||n.hasOwnProperty(TR))?n[Cw]:null}const na=ms({\u0275prov:ms}),Cw=ms({\u0275inj:ms}),wA=ms({ngInjectableDef:ms}),TR=ms({ngInjectorDef:ms});class yn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Rt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Mw(n){return n&&!!n.\u0275providers}const rv=ms({\u0275cmp:ms}),Tw=ms({\u0275dir:ms}),Bw=ms({\u0275pipe:ms}),c2=ms({\u0275mod:ms}),bf=ms({\u0275fac:ms}),iv=ms({__NG_ELEMENT_ID__:ms}),u2=ms({__NG_ENV_ID__:ms});function Br(n){return"string"==typeof n?n:null==n?"":String(n)}function Nw(n,e){throw new dt(-201,!1)}var vi=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(vi||{});let Iw;function h2(){return Iw}function Kl(n){const e=Iw;return Iw=n,e}function Ey(n,e,t){const r=tv(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&vi.Optional?null:void 0!==e?e:void Nw()}const wf={},Ed="__NG_DI_FLAG__",ns="ngTempTokenPath",Fw=/\n/gm,SA="__source";let xl;function El(n){const e=xl;return xl=n,e}function Qo(n,e=vi.Default){if(void 0===xl)throw new dt(-203,!1);return null===xl?Ey(n,void 0,e):xl.get(n,e&vi.Optional?null:void 0,e)}function Ut(n,e=vi.Default){return(h2()||Qo)(or(n),e)}function Ve(n,e=vi.Default){return Ut(n,zu(e))}function zu(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function xA(n){const e=[];for(let t=0;t<n.length;t++){const r=or(n[t]);if(Array.isArray(r)){if(0===r.length)throw new dt(900,!1);let i,s=vi.Default;for(let o=0;o<r.length;o++){const a=r[o],l=d2(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Ut(i,s))}else e.push(Ut(r))}return e}function us(n,e){return n[Ed]=e,n.prototype[Ed]=e,n}function d2(n){return n[Ed]}const EA=us(yf("Optional"),8),sv=us(yf("SkipSelf"),4);function Xl(n,e){return n.hasOwnProperty(bf)?n[bf]:null}function Ec(n,e){n.forEach(t=>Array.isArray(t)?Ec(t,e):e(t))}function Rw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ov(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Dc(n,e,t){let r=Cf(n,e);return r>=0?n[1|r]=t:(r=~r,function og(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ow(n,e){const t=Cf(n,e);if(t>=0)return n[1|t]}function Cf(n,e){return function v2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const xh={},kr=[],Sf=new yn(""),y2=new yn("",-1),Pw=new yn("");class DA{get(e,t=wf){if(t===wf){const r=new Error(`NullInjectorError: No provider for ${ta(e)}!`);throw r.name="NullInjectorError",r}return t}}var My=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(My||{}),au=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(au||{}),Rr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Rr||{});function _2(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Ty(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Uw(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Lw(n){return 3===n||4===n||6===n}function Uw(n){return 64===n.charCodeAt(0)}function ag(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||kw(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function kw(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const b2="ng-template";function By(n,e,t,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==_2(e[i+1].toLowerCase(),t,0))return!0}else if(Hw(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&"string"==typeof(s=e[i]);)if(s.toLowerCase()===t)return!0}return!1}function Hw(n){return 4===n.type&&n.value!==b2}function LR(n,e,t){return e===(4!==n.type||t?n.value:b2)}function Vw(n,e,t){let r=4;const i=n.attrs,s=null!==i?function kR(n){for(let e=0;e<n.length;e++)if(Lw(n[e]))return e;return n.length}(i):0;let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!LR(n,l,t)||""===l&&1===e.length){if(Gu(r))return!1;o=!0}}else if(8&r){if(null===i||!By(n,i,l,t)){if(Gu(r))return!1;o=!0}}else{const c=e[++a],u=w2(l,i,Hw(n),t);if(-1===u){if(Gu(r))return!1;o=!0;continue}if(""!==c){let h;if(h=u>s?"":i[u+1].toLowerCase(),2&r&&c!==h){if(Gu(r))return!1;o=!0}}}}else{if(!o&&!Gu(r)&&!Gu(l))return!1;if(o&&Gu(l))continue;o=!1,r=l|1&r}}return Gu(r)||o}function Gu(n){return!(1&n)}function w2(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function HR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function C2(n,e,t=!1){for(let r=0;r<e.length;r++)if(Vw(n,e[r],t))return!0;return!1}function VR(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function lg(n,e){return n?":not("+e.trim()+")":e}function QR(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Gu(o)&&(e+=lg(s,i),i=""),r=o,s=s||!Gu(r);t++}return""!==i&&(e+=lg(s,i)),e}function ar(n){return Os(()=>{const e=S2(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===My.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||au.Emulated,styles:n.styles||kr,_:null,schemas:n.schemas||null,tView:null,id:""};x2(t);const r=n.dependencies;return t.directiveDefs=MA(r,!1),t.pipeDefs=MA(r,!0),t.id=function WR(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function GR(n){return ui(n)||ra(n)}function jR(n){return null!==n}function Zr(n){return Os(()=>({type:n.type,bootstrap:n.bootstrap||kr,declarations:n.declarations||kr,imports:n.imports||kr,exports:n.exports||kr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function av(n,e){if(null==n)return xh;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let s,o,a=Rr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==Rr.None?[r,a]:r,e[s]=o):t[s]=r}return t}function mn(n){return Os(()=>{const e=S2(n);return x2(e),e})}function Yl(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ui(n){return n[rv]||null}function ra(n){return n[Tw]||null}function zo(n){return n[Bw]||null}function sl(n,e){const t=n[c2]||null;if(!t&&!0===e)throw new Error(`Type ${ta(n)} does not have '\u0275mod' property.`);return t}function S2(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||xh,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||kr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:av(n.inputs,e),outputs:av(n.outputs),debugInfo:null}}function x2(n){n.features?.forEach(e=>e(n))}function MA(n,e){if(!n)return null;const t=e?zo:GR;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(jR)}function TA(n){return{\u0275providers:n}}function $R(...n){return{\u0275providers:Qw(0,n),\u0275fromNgModule:!0}}function Qw(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Ec(e,o=>{const a=o;Iy(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&E2(i,s),t}function E2(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];zw(i,s=>{e(s,r)})}}function Iy(n,e,t,r){if(!(n=or(n)))return!1;let i=null,s=Sy(n);const o=!s&&ui(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=Sy(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Iy(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ec(s.imports,u=>{Iy(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&E2(c,e)}if(!a){const c=Xl(i)||(()=>new i);e({provide:i,useFactory:c,deps:kr},i),e({provide:Pw,useValue:i,multi:!0},i),e({provide:Sf,useValue:()=>Ut(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;zw(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function zw(n,e){for(let t of n)Mw(t)&&(t=t.\u0275providers),Array.isArray(t)?zw(t,e):e(t)}const KR=ms({provide:String,useValue:ms});function lv(n){return null!==n&&"object"==typeof n&&KR in n}function Bd(n){return"function"==typeof n}const Gw=new yn(""),cg={},Fy={};let jw;function Ry(){return void 0===jw&&(jw=new DA),jw}class ka{}class ug extends ka{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ww(e,o=>this.processProvider(o)),this.records.set(y2,hg(void 0,this)),i.has("environment")&&this.records.set(ka,hg(void 0,this));const s=this.records.get(Gw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Pw,kr,vi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=bt(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),bt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=El(this),r=Kl(void 0);try{return e()}finally{El(t),Kl(r)}}get(e,t=wf,r=vi.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(u2))return e[u2](this);r=zu(r);const s=El(this),o=Kl(void 0);try{if(!(r&vi.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function eO(n){return"function"==typeof n||"object"==typeof n&&n instanceof yn}(e)&&tv(e);l=c&&this.injectableDefInScope(c)?hg(qw(e),cg):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&vi.Self?Ry():this.parent).get(e,t=r&vi.Optional&&t===wf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ns]=a[ns]||[]).unshift(ta(e)),s)throw a;return function A2(n,e,t,r){const i=n[ns];throw e[SA]&&i.unshift(e[SA]),n.message=function p2(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ta(e);if(Array.isArray(e))i=e.map(ta).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ta(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Fw,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ns]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Kl(o),El(s)}}resolveInjectorInitializers(){const e=bt(null),t=El(this),r=Kl(void 0);try{const s=this.get(Sf,kr,vi.Self);for(const o of s)o()}finally{El(t),Kl(r),bt(e)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ta(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,!1)}processProvider(e){let t=Bd(e=or(e))?e:or(e&&e.provide);const r=function Oy(n){return lv(n)?hg(void 0,n.useValue):hg(T2(n),cg)}(e);if(!Bd(e)&&!0===e.multi){let i=this.records.get(t);i||(i=hg(void 0,cg,!0),i.factory=()=>xA(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){const r=bt(null);try{return t.value===cg&&(t.value=Fy,t.value=t.factory()),"object"==typeof t.value&&t.value&&function ZR(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{bt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=or(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function qw(n){const e=tv(n),t=null!==e?e.factory:Xl(n);if(null!==t)return t;if(n instanceof yn)throw new dt(204,!1);if(n instanceof Function)return function YR(n){if(n.length>0)throw new dt(204,!1);const t=function MR(n){return n&&(n[na]||n[wA])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new dt(204,!1)}function T2(n,e,t){let r;if(Bd(n)){const i=or(n);return Xl(i)||qw(i)}if(lv(n))r=()=>or(n.useValue);else if(function M2(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...xA(n.deps||[]));else if(function D2(n){return!(!n||!n.useExisting)}(n))r=()=>Ut(or(n.useExisting));else{const i=or(n&&(n.useClass||n.provide));if(!function JR(n){return!!n.deps}(n))return Xl(i)||qw(i);r=()=>new i(...xA(n.deps))}return r}function hg(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ww(n,e){for(const t of n)Array.isArray(t)?Ww(t,e):t&&Mw(t)?Ww(t.\u0275providers,e):e(t)}function Eh(n,e){n instanceof ug&&n.assertNotDestroyed();const r=El(n),i=Kl(void 0);try{return e()}finally{El(r),Kl(i)}}function B2(){return void 0!==h2()||null!=function OR(){return xl}()}const lo=0,hn=1,er=2,No=3,vs=4,ol=5,Mc=6,dg=7,Gs=8,jo=9,lu=10,vr=11,fv=12,F2=13,Ag=14,go=15,dv=16,BA=17,xn=18,Av=19,R2=20,Dh=21,Tc=22,NA=23,Er=25,IA=1,Nd=6,Mh=7,pg=9,Ps=10;var pv=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(pv||{});function wa(n){return Array.isArray(n)&&"object"==typeof n[IA]}function al(n){return Array.isArray(n)&&!0===n[IA]}function ky(n){return!!(4&n.flags)}function FA(n){return n.componentOffset>-1}function gg(n){return!(1&~n.flags)}function ju(n){return!!n.template}function Kw(n){return!!(512&n[er])}class V2{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function eC(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}function Io(){return Q2}function Q2(n){return n.type.prototype.ngOnChanges&&(n.setInput=vO),mO}function mO(){const n=Hy(this),e=n?.current;if(e){const t=n.previous;if(t===xh)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function vO(n,e,t,r,i){const s=this.declaredInputs[r],o=Hy(n)||function yO(n,e){return n[Bc]=e}(n,{previous:xh,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new V2(c&&c.currentValue,t,l===xh),eC(n,e,i,t)}Io.ngInherit=!0;const Bc="__ngSimpleChanges__";function Hy(n){return n[Bc]||null}const Th=function(n,e,t){};let j2=!1;function ys(n){for(;Array.isArray(n);)n=n[lo];return n}function RA(n,e){return ys(e[n])}function ll(n,e){return ys(e[n.index])}function xf(n,e){return n.data[e]}function mg(n,e){return n[e]}function Nc(n,e){const t=e[n];return wa(t)?t:t[lo]}function gv(n){return!(128&~n[er])}function Bh(n,e){return null==e?null:n[e]}function W2(n){n[BA]=0}function CO(n){1024&n[er]||(n[er]|=1024,gv(n)&&mv(n))}function rC(n){return!!(9216&n[er]||n[NA]?.dirty)}function iC(n){n[lu].changeDetectionScheduler?.notify(1),rC(n)?mv(n):64&n[er]&&(function bO(){return j2}()?(n[er]|=1024,mv(n)):n[lu].changeDetectionScheduler?.notify())}function mv(n){n[lu].changeDetectionScheduler?.notify();let e=Id(n);for(;null!==e&&!(8192&e[er])&&(e[er]|=8192,gv(e));)e=Id(e)}function vv(n,e){if(!(256&~n[er]))throw new dt(911,!1);null===n[Dh]&&(n[Dh]=[]),n[Dh].push(e)}function Id(n){const e=n[No];return al(e)?e[No]:e}const dr={lFrame:sD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yv(){return dr.bindingsEnabled}function Ef(){return null!==dr.skipHydrationRootTNode}function St(){return dr.lFrame.lView}function yi(){return dr.lFrame.tView}function On(n){return dr.lFrame.contextLView=n,n[Gs]}function Un(n){return dr.lFrame.contextLView=null,n}function hs(){let n=J2();for(;null!==n&&64===n.type;)n=n.parent;return n}function J2(){return dr.lFrame.currentTNode}function _v(){const n=dr.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function qu(n,e){const t=dr.lFrame;t.currentTNode=n,t.isParent=e}function Fd(){return dr.lFrame.isParent}function bv(){dr.lFrame.isParent=!1}function Dl(){const n=dr.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ic(){return dr.lFrame.bindingIndex++}function Nh(n){const e=dr.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Gy(n){dr.lFrame.inI18n=n}function tD(n,e){const t=dr.lFrame;t.bindingIndex=t.bindingRootIndex=n,aC(e)}function aC(n){dr.lFrame.currentDirectiveIndex=n}function yg(){return dr.lFrame.currentQueryIndex}function wv(n){dr.lFrame.currentQueryIndex=n}function rD(n){const e=n[hn];return 2===e.type?e.declTNode:1===e.type?n[ol]:null}function iD(n,e,t){if(t&vi.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&vi.Host||(i=rD(s),null===i||(s=s[Ag],10&i.type))););if(null===i)return!1;e=i,n=s}const r=dr.lFrame=lC();return r.currentTNode=e,r.lView=n,!0}function jy(n){const e=lC(),t=n[hn];dr.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function lC(){const n=dr.lFrame,e=null===n?null:n.child;return null===e?sD(n):e}function sD(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function oD(){const n=dr.lFrame;return dr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const OA=oD;function qy(){const n=oD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function So(){return dr.lFrame.selectedIndex}function cu(n){dr.lFrame.selectedIndex=n}function Vi(){const n=dr.lFrame;return xf(n.tView,n.selectedIndex)}function cC(){return dr.lFrame.currentNamespace}let uC=!0;function PA(){return uC}function Jl(n){uC=n}function Sv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function LA(n,e,t){cD(n,e,3,t)}function Wy(n,e,t,r){(3&n[er])===t&&cD(n,e,t,r)}function hC(n,e){let t=n[er];(3&t)===e&&(t&=16383,t+=1,n[er]=t)}function cD(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[BA]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[BA]+=65536),(a<s||-1==s)&&(MO(n,t,e,l),n[BA]=(4294901760&n[BA])+l+2),l++}function uD(n,e){Th(4,n,e);const t=bt(null);try{e.call(n)}finally{bt(t),Th(5,n,e)}}function MO(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[er]>>14<n[BA]>>16&&(3&n[er])===e&&(n[er]+=16384,uD(a,s)):uD(a,s)}const Rd=-1;class xv{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function AC(n){return n!==Rd}function Ev(n){return 32767&n}function Dv(n,e){let t=function fD(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ag],t--;return r}let pC=!0;function $y(n){const e=pC;return pC=n,e}const dD=255,Ky=5;let FO=0;const uu={};function Tn(n,e){const t=Mv(n,e);if(-1!==t)return t;const r=e[hn];r.firstCreatePass&&(n.injectorIndex=e.length,Od(r.data,n),Od(e,null),Od(r.blueprint,null));const i=Ml(n,e),s=n.injectorIndex;if(AC(i)){const o=Ev(i),a=Dv(i,e),l=a[hn].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Od(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Mv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Ml(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=vC(i),null===r)return Rd;if(t++,i=i[Ag],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Rd}function gC(n,e,t){!function RO(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(iv)&&(r=t[iv]),null==r&&(r=t[iv]=FO++);const i=r&dD;e.data[n+(i>>Ky)]|=1<<i}(n,e,t)}function Js(n,e,t){if(t&vi.Optional||void 0!==n)return n;Nw()}function Tv(n,e,t,r){if(t&vi.Optional&&void 0===r&&(r=null),!(t&(vi.Self|vi.Host))){const i=n[jo],s=Kl(void 0);try{return i?i.get(e,r,t&vi.Optional):Ey(e,r,t&vi.Optional)}finally{Kl(s)}}return Js(r,0,t)}function AD(n,e,t,r=vi.Default,i){if(null!==n){if(2048&e[er]&&!(r&vi.Self)){const o=function LO(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[er]&&!(512&o[er]);){const a=Bv(s,o,t,r|vi.Self,uu);if(a!==uu)return a;let l=s.parent;if(!l){const c=o[R2];if(c){const u=c.get(t,uu,r);if(u!==uu)return u}l=vC(o),o=o[Ag]}s=l}return i}(n,e,t,r,uu);if(o!==uu)return o}const s=Bv(n,e,t,r,uu);if(s!==uu)return s}return Tv(e,t,r,i)}function Bv(n,e,t,r,i){const s=function PO(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(iv)?n[iv]:void 0;return"number"==typeof e?e>=0?e&dD:gD:e}(t);if("function"==typeof s){if(!iD(e,n,r))return r&vi.Host?Js(i,0,r):Tv(e,t,r,i);try{let o;if(o=s(r),null!=o||r&vi.Optional)return o;Nw()}finally{OA()}}else if("number"==typeof s){let o=null,a=Mv(n,e),l=Rd,c=r&vi.Host?e[go][ol]:null;for((-1===a||r&vi.SkipSelf)&&(l=-1===a?Ml(n,e):e[a+8],l!==Rd&&pD(r,!1)?(o=e[hn],a=Ev(l),e=Dv(l,e)):a=-1);-1!==a;){const u=e[hn];if(mC(s,a,u.data)){const h=OO(a,e,t,o,r,c);if(h!==uu)return h}l=e[a+8],l!==Rd&&pD(r,e[hn].data[a+8]===c)&&mC(s,a,e)?(o=u,a=Ev(l),e=Dv(l,e)):a=-1}}return i}function OO(n,e,t,r,i,s){const o=e[hn],a=o.data[n+8],u=UA(a,o,t,null==r?FA(a)&&pC:r!=o&&!!(3&a.type),i&vi.Host&&s===a);return null!==u?kA(e,o,u,a):uu}function UA(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,d=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<d;f++){const A=o[f];if(f<l&&t===A||f>=l&&A.type===t)return f}if(i){const f=o[l];if(f&&ju(f)&&f.type===t)return l}return null}function kA(n,e,t,r){let i=n[t];const s=e.data;if(function TO(n){return n instanceof xv}(i)){const o=i;o.resolving&&function BR(n,e){throw e&&e.join(" > "),new dt(-200,n)}(function ts(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Br(n)}(s[t]));const a=$y(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Kl(o.injectImpl):null;iD(n,r,vi.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function lD(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Q2(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&Kl(c),$y(a),o.resolving=!1,OA()}}return i}function mC(n,e,t){return!!(t[e+(n>>Ky)]&1<<n)}function pD(n,e){return!(n&vi.Self||n&vi.Host&&e)}class qo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return AD(this._tNode,this._lView,e,zu(r),t)}}function gD(){return new qo(hs(),St())}function fs(n){return Os(()=>{const e=n.prototype.constructor,t=e[bf]||Xy(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[bf]||Xy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xy(n){return Cy(n)?()=>{const e=Xy(or(n));return e&&e()}:Xl(n)}function vC(n){const e=n[hn],t=e.type;return 2===t?e.declTNode:1===t?n[ol]:null}function vD(n,e=null,t=null,r){const i=_C(n,e,t,r);return i.resolveInjectorInitializers(),i}function _C(n,e=null,t=null,r,i=new Set){const s=[t||kr,$R(n)];return r=r||("object"==typeof n?void 0:ta(n)),new ug(s,e||Ry(),r||null,i)}let Ro=(()=>{class n{static{this.THROW_IF_NOT_FOUND=wf}static{this.NULL=new DA}static create(t,r){if(Array.isArray(t))return vD({name:""},r,t,"");{const i=t.name??"";return vD({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=Rt({token:n,providedIn:"any",factory:()=>Ut(y2)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function bC(n){return n.ngOriginalError}class Wu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&bC(e);for(;t&&bC(t);)t=bC(t);return t||null}}const _D=new yn("",{providedIn:"root",factory:()=>Ve(Wu).handleError.bind(void 0)});let Ih=(()=>{class n{static{this.__NG_ELEMENT_ID__=GO}static{this.__NG_ENV_ID__=t=>t}}return n})();class zO extends Ih{constructor(e){super(),this._lView=e}onDestroy(e){return vv(this._lView,e),()=>function Vy(n,e){if(null===n[Dh])return;const t=n[Dh].indexOf(e);-1!==t&&n[Dh].splice(t,1)}(this._lView,e)}}function GO(){return new zO(St())}function E(){return S(hs(),St())}function S(n,e){return new N(ll(n,e))}let N=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=E}}return n})();function I(n){return n instanceof N?n.nativeElement:n}function Z(n){return e=>{setTimeout(n,void 0,e)}}const ie=class z extends Ur{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,B2()&&(this.destroyRef=Ve(Ih,{optional:!0})??void 0)}emit(e){const t=bt(null);try{super.next(e)}finally{bt(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Z(s),i&&(i=Z(i)),o&&(o=Z(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof mi&&e.add(a),a}};function De(){return this._results[Symbol.iterator]()}class Ee{get changes(){return this._changes??=new ie}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Ee.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=De)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function rs(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Dd(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const je="ngSkipHydration",Ze="ngskiphydration";function at(n){const e=n.mergedAttrs;if(null===e)return!1;for(let t=0;t<e.length;t+=2){const r=e[t];if("number"==typeof r)return!1;if("string"==typeof r&&r.toLowerCase()===Ze)return!0}return!1}function xt(n){return n.hasAttribute(je)}function In(n){return!(128&~n.flags)}const En=new Map;let Xr=0;const yr="__ngContext__";function Ei(n,e){wa(e)?(n[yr]=e[Av],function qn(n){En.set(n[Av],n)}(e)):n[yr]=e}function Ud(n){return GA(n[fv])}function Fh(n){return GA(n[vs])}function GA(n){for(;null!==n&&!al(n);)n=n[vs];return n}let jO;function Sg(){if(void 0!==jO)return jO;if(typeof document<"u")return document;throw new dt(210,!1)}const wD=new yn("",{providedIn:"root",factory:()=>Kue}),Kue="ng",iQ=new yn(""),Rh=new yn("",{providedIn:"platform",factory:()=>"unknown"}),qO=new yn(""),sQ=new yn("",{providedIn:"root",factory:()=>Sg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Jue(){const n=new Zy;return"browser"===Ve(Rh)&&(n.store=function Zue(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(Sg(),Ve(wD))),n}let Zy=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=Rt({token:n,providedIn:"root",factory:Jue})}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const WO="h",$O="b";var e_=function(n){return n.FirstChild="f",n.NextSibling="n",n}(e_||{});const KO="e",XO="t",wC="c",CD="x",t_="r",YO="i",JO="n",SD="d",ZO="__nghData__",CC="ngh",ehe="nghm";let oQ=()=>null;function the(n,e,t=!1){let r=n.getAttribute(CC);if(null==r)return null;const[i,s]=r.split("|");if(r=t?s:i,!r)return null;const a=t?i:s?`|${s}`:"";let l={};if(""!==r){const u=e.get(Zy,null,{optional:!0});null!==u&&(l=u.get(ZO,[])[Number(r)])}const c={data:l,firstChild:n.firstChild??null};return t&&(c.firstChild=n,xD(c,0,n.nextSibling)),a?n.setAttribute(CC,a):n.removeAttribute(CC),c}function eP(n,e,t=!1){return oQ(n,e,t)}function aQ(n){let e=n._lView;return 2===e[hn].type?null:(Kw(e)&&(e=e[Er]),e)}function xD(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function nP(n,e){return n.segmentHeads?.[e]??null}function cQ(n,e){return n.data[wC]?.[e]??null}function rP(n,e){const t=cQ(n,e)??[];let r=0;for(let i of t)r+=i[t_]*(i[CD]??1);return r}function ED(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data[SD];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}const DD=new yn(""),hQ=new yn("",{providedIn:"root",factory:()=>!1}),fQ=new yn("");let MD,TD;function n_(n){return function iP(){if(void 0===MD&&(MD=null,ls.trustedTypes))try{MD=ls.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return MD}()?.createHTML(n)||n}function pQ(n){return function sP(){if(void 0===TD&&(TD=null,ls.trustedTypes))try{TD=ls.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return TD}()?.createScriptURL(n)||n}class gQ{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_y})`}}function xg(n){return n instanceof gQ?n.changingThisBreaksApplicationSecurity:n}function EC(n,e){const t=function phe(n){return n instanceof gQ&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${_y})`)}return t===e}class ghe{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(n_(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class mhe{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=n_(e),t}}const yhe=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oP(n){return(n=String(n)).match(yhe)?n:"unsafe:"+n}function jA(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function DC(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const vQ=jA("area,br,col,hr,img,wbr"),yQ=jA("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_Q=jA("rp,rt"),aP=DC(vQ,DC(yQ,jA("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),DC(_Q,jA("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),DC(_Q,yQ)),lP=jA("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bQ=DC(lP,jA("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jA("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var r_=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(r_||{});function mo(n){const e=MC();return e?e.sanitize(r_.URL,n)||"":EC(n,"URL")?xg(n):oP(Br(n))}function xQ(n){const e=MC();if(e)return pQ(e.sanitize(r_.RESOURCE_URL,n)||"");if(EC(n,"ResourceURL"))return pQ(xg(n));throw new dt(904,!1)}function MC(){const n=St();return n&&n[lu].sanitizer}const Ohe=/^>|^->|<!--|-->|--!>|<!-$/g,Phe=/(<|>)/g,Lhe="\u200b$1\u200b";function BQ(n){return n.ownerDocument.defaultView}function Ku(n){return n instanceof Function?n():n}function If(n){return"browser"===(n??Ve(Ro)).get(Rh)}var Eg=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Eg||{});let dP;function AP(n,e){return dP(n,e)}function s_(n,e,t,r,i){if(null!=r){let s,o=!1;al(r)?s=r:wa(r)&&(o=!0,r=r[lo]);const a=ys(r);0===n&&null!==t?null==i?kQ(e,t,a):Iv(e,t,a,i||null,!0):1===n&&null!==t?Iv(e,t,a,i||null,!0):2===n?NC(e,a,o):3===n&&e.destroyNode(a),null!=s&&function ife(n,e,t,r,i){const s=t[Mh];s!==ys(t)&&s_(e,n,r,s,i);for(let a=Ps;a<t.length;a++){const l=t[a];LD(l[hn],l,n,e,r,s)}}(e,n,s,t,i)}}function pP(n,e){return n.createText(e)}function gP(n,e){return n.createComment(function DQ(n){return n.replace(Ohe,e=>e.replace(Phe,Lhe))}(e))}function FD(n,e,t){return n.createElement(e,t)}function PQ(n,e){e[lu].changeDetectionScheduler?.notify(1),LD(n,e,e[vr],2,null,null)}function LQ(n,e){const t=n[pg],r=t.indexOf(e);t.splice(r,1)}function TC(n,e){if(n.length<=Ps)return;const t=Ps+e,r=n[t];if(r){const i=r[dv];null!==i&&i!==n&&LQ(i,r),e>0&&(n[t-1][vs]=r[vs]);const s=ov(n,Ps+e);!function $he(n,e){PQ(n,e),e[lo]=null,e[ol]=null}(r[hn],r);const o=s[xn];null!==o&&o.detachView(s[hn]),r[No]=null,r[vs]=null,r[er]&=-129}return r}function RD(n,e){if(!(256&e[er])){const t=e[vr];t.destroyNode&&LD(n,e,t,3,null,null),function Xhe(n){let e=n[fv];if(!e)return mP(n[hn],n);for(;e;){let t=null;if(wa(e))t=e[fv];else{const r=e[Ps];r&&(t=r)}if(!t){for(;e&&!e[vs]&&e!==n;)wa(e)&&mP(e[hn],e),e=e[No];null===e&&(e=n),wa(e)&&mP(e[hn],e),t=e&&e[vs]}e=t}}(e)}}function mP(n,e){if(256&e[er])return;const t=bt(null);try{e[er]&=-129,e[er]|=256,e[NA]&&function Pi(n){if(fi(n),Li(n))for(let e=0;e<n.producerNode.length;e++)Ds(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[NA]),function efe(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof xv)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Th(4,a,l);try{l.call(a)}finally{Th(5,a,l)}}else{Th(4,i,s);try{s.call(i)}finally{Th(5,i,s)}}}}}(n,e),function Zhe(n,e){const t=n.cleanup,r=e[dg];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[dg]=null);const i=e[Dh];if(null!==i){e[Dh]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[hn].type&&e[vr].destroy();const r=e[dv];if(null!==r&&al(e[No])){r!==e[No]&&LQ(r,e);const i=e[xn];null!==i&&i.detachView(n)}!function ei(n){En.delete(n[Av])}(e)}finally{bt(t)}}function vP(n,e,t){return UQ(n,e.parent,t)}function UQ(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[lo];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===au.None||s===au.Emulated)return null}return ll(r,t)}}function Iv(n,e,t,r,i){n.insertBefore(e,t,r,i)}function kQ(n,e,t){n.appendChild(e,t)}function HQ(n,e,t,r,i){null!==r?Iv(n,e,t,r,i):kQ(n,e,t)}function OD(n,e){return n.parentNode(e)}function VQ(n,e,t){return zQ(n,e,t)}function QQ(n,e,t){return 40&n.type?ll(n,t):null}let yP,zQ=QQ;function GQ(n,e){zQ=n,yP=e}function PD(n,e,t,r){const i=vP(n,r,e),s=e[vr],a=VQ(r.parent||e[ol],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)HQ(s,i,t[l],a,!1);else HQ(s,i,t,a,!1);void 0!==yP&&yP(s,r,e,t,i)}function BC(n,e){if(null!==e){const t=e.type;if(3&t)return ll(e,n);if(4&t)return _P(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return BC(n,r);{const i=n[e.index];return al(i)?_P(-1,i):ys(i)}}if(32&t)return AP(e,n)()||ys(n[e.index]);{const r=jQ(n,e);return null!==r?Array.isArray(r)?r[0]:BC(Id(n[go]),r):BC(n,e.next)}}return null}function jQ(n,e){return null!==e?n[go][ol].projection[e.projection]:null}function _P(n,e){const t=Ps+n+1;if(t<e.length){const r=e[t],i=r[hn].firstChild;if(null!==i)return BC(r,i)}return e[Mh]}function NC(n,e,t){const r=OD(n,e);r&&function tfe(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}function qQ(n){n.textContent=""}function bP(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Ei(ys(a),r),t.flags|=2),32&~t.flags)if(8&l)bP(n,e,t.child,r,i,s,!1),s_(e,n,i,a,s);else if(32&l){const c=AP(t,r);let u;for(;u=c();)s_(e,n,i,u,s);s_(e,n,i,a,s)}else 16&l?WQ(n,e,r,t,i,s):s_(e,n,i,a,s);t=o?t.projectionNext:t.next}}function LD(n,e,t,r,i,s){bP(t,r,n.firstChild,e,i,s,!1)}function WQ(n,e,t,r,i,s){const o=t[go],l=o[ol].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)s_(e,n,i,l[c],s);else{let c=l;const u=o[No];In(r)&&(c.flags|=128),bP(n,e,c,u,i,s,!0)}}function $Q(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function KQ(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Ty(n,e,r),null!==i&&$Q(n,e,i),null!==s&&function ofe(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}const zr={};function Be(n=1){XQ(yi(),St(),So()+n,!1)}function XQ(n,e,t,r){if(!r)if(3&~e[er]){const s=n.preOrderHooks;null!==s&&Wy(e,s,0,t)}else{const s=n.preOrderCheckHooks;null!==s&&LA(e,s,t)}cu(t)}function pt(n,e=vi.Default){const t=St();return null===t?Ut(n,e):AD(hs(),t,or(n),e)}function JQ(n,e,t,r,i,s){const o=bt(null);try{let a=null;i&Rr.SignalBased&&(a=e[r][zn]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&Rr.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),null!==n.setInput?n.setInput(e,a,s,t,r):eC(e,a,r,s)}finally{bt(o)}}function UD(n,e,t,r,i,s,o,a,l,c,u){const h=e.blueprint.slice();return h[lo]=i,h[er]=204|r,(null!==c||n&&2048&n[er])&&(h[er]|=2048),W2(h),h[No]=h[Ag]=n,h[Gs]=t,h[lu]=o||n&&n[lu],h[vr]=a||n&&n[vr],h[jo]=l||n&&n[jo]||null,h[ol]=s,h[Av]=function Yn(){return Xr++}(),h[Mc]=u,h[R2]=c,h[go]=2==e.type?n[go]:h,h}function o_(n,e,t,r,i){let s=n.data[e];if(null===s)s=wP(n,e,t,r,i),function eD(){return dr.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=_v();s.injectorIndex=null===o?-1:o.injectorIndex}return qu(s,!0),s}function wP(n,e,t,r,i){const s=J2(),o=Fd(),l=n.data[e]=function Afe(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ef()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}function IC(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ZQ(n,e,t,r,i){const s=So(),o=2&r;try{cu(-1),o&&e.length>Er&&XQ(n,e,Er,!1),Th(o?2:0,i),t(r,i)}finally{cu(s),Th(o?3:1,i)}}function CP(n,e,t){if(ky(e)){const r=bt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{bt(r)}}}function SP(n,e,t){yv()&&(function bfe(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;FA(t)&&function Mfe(n,e,t){const r=ll(e,n),i=e7(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=kD(n,UD(n,i,null,o,r,e,null,n[lu].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Tn(t,e),Ei(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=kA(e,n,a,t);Ei(c,e),null!==o&&Tfe(0,a-i,c,l,0,o),ju(l)&&(Nc(t.index,e)[Gs]=kA(e,n,a,t))}}(n,e,t,ll(t,e)),!(64&~t.flags)&&s7(n,e,t))}function xP(n,e,t=ll){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function e7(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=EP(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function EP(n,e,t,r,i,s,o,a,l,c,u){const h=Er+r,d=h+i,f=function lfe(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:zr);return t}(h,d),A="function"==typeof c?c():c;return f[hn]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:u}}let t7=()=>null;function hfe(n){xt(n)?qQ(n):function ihe(n){const e=Sg(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(s){const o=function rhe(n){return n.textContent?.replace(/\s/gm,"")}(s);return"ngetn"===o||"ngtns"===o?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=t.nextNode();)i.push(r);for(const s of i)"ngetn"===s.textContent?s.replaceWith(e.createTextNode("")):s.remove()}(n)}function n7(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(void 0===o)continue;r??={};let a,l=Rr.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(null!==i){if(!i.hasOwnProperty(s))continue;c=i[s]}0===n?r7(r,t,c,a,l):r7(r,t,c,a)}return r}function r7(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],void 0!==i&&s.push(i)}function hu(n,e,t,r,i,s,o,a){const l=ll(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(NP(n,t,u,r,i),FA(e)&&function mfe(n,e){const t=Nc(e,n);16&t[er]||(t[er]|=64)}(t,e.index)):3&e.type&&(r=function gfe(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function DP(n,e,t,r){if(yv()){const i=null===r?null:{"":-1},s=function Cfe(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(C2(e,o.selectors,!1))if(r||(r=[]),ju(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),MP(n,e,a.length)}else r.unshift(o),MP(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&i7(n,e,t,o,i,a),i&&function Sfe(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new dt(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=ag(t.mergedAttrs,t.attrs)}function i7(n,e,t,r,i,s){for(let c=0;c<r.length;c++)gC(Tn(t,e),n,r[c].type);!function Efe(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=IC(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=ag(t.mergedAttrs,u.hostAttrs),Dfe(n,t,e,l,u),xfe(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function pfe(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const h=s[u],d=t?t.get(h):null,A=d?d.outputs:null;l=n7(0,h.inputs,u,l,d?d.inputs:null),c=n7(1,h.outputs,u,c,A);const p=null===l||null===o||Hw(e)?null:Bfe(l,u,o);a.push(p)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function s7(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function nD(){return dr.lFrame.currentDirectiveIndex}();try{cu(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];aC(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&wfe(l,c)}}finally{cu(-1),aC(o)}}function wfe(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function MP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function xfe(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ju(e)&&(t[""]=n)}}function Dfe(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Xl(i.type)),o=new xv(s,ju(i),pt);n.blueprint[r]=o,t[r]=o,function yfe(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function _fe(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,IC(n,t,i.hostVars,zr),i)}function Hd(n,e,t,r,i,s){const o=ll(n,e);!function TP(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Br(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[vr],o,s,n.value,t,r,i)}function Tfe(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)JQ(r,t,o[a++],o[a++],o[a++],o[a++])}function Bfe(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function o7(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function a7(n,e){const t=n.contentQueries;if(null!==t){const r=bt(null);try{for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const a=n.data[o];wv(t[i]),a.contentQueries(2,e[o],o)}}}finally{bt(r)}}}function kD(n,e){return n[fv]?n[F2][vs]=e:n[fv]=e,n[F2]=e,e}function BP(n,e,t){wv(0);const r=bt(null);try{e(n,t)}finally{bt(r)}}function l7(n){return n[dg]||(n[dg]=[])}function c7(n){return n.cleanup||(n.cleanup=[])}function HD(n,e){const t=n[jo],r=t?t.get(Wu,null):null;r&&r.handleError(e)}function NP(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=t[s++];JQ(n.data[o],e[o],r,a,l,i)}}function qA(n,e,t){const r=RA(e,n);!function OQ(n,e,t){n.setValue(e,t)}(n[vr],r,t)}function Nfe(n,e){const t=Nc(e,n),r=t[hn];!function Ife(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[lo];null!==i&&null===t[Mc]&&(t[Mc]=eP(i,t[jo])),IP(r,t,t[Gs])}function IP(n,e,t){jy(e);try{const r=n.viewQuery;null!==r&&BP(1,r,t);const i=n.template;null!==i&&ZQ(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[xn]?.finishViewCreation(n),n.staticContentQueries&&a7(n,e),n.staticViewQueries&&BP(2,n.viewQuery,t);const s=n.components;null!==s&&function Ffe(n,e){for(let t=0;t<e.length;t++)Nfe(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[er]&=-5,qy()}}function FC(n,e,t,r){const i=bt(null);try{const s=e.tView,l=UD(n,s,t,4096&n[er]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[dv]=n[e.index];const u=n[xn];return null!==u&&(l[xn]=u.createEmbeddedView(s)),IP(s,l,t),l}finally{bt(i)}}function h7(n,e){const t=Ps+e;if(t<n.length)return n[t]}function a_(n,e){return!e||null===e.firstChild||In(n)}function RC(n,e,t,r=!0){const i=e[hn];if(function Yhe(n,e,t,r){const i=Ps+r,s=t.length;r>0&&(t[i-1][vs]=e),r<s-Ps?(e[vs]=t[i],Rw(t,Ps+r,e)):(t.push(e),e[vs]=null),e[No]=t;const o=e[dv];null!==o&&t!==o&&function Jhe(n,e){const t=n[pg];e[go]!==e[No][No][go]&&(n[er]|=pv.HasTransplantedViews),null===t?n[pg]=[e]:t.push(e)}(o,e);const a=e[xn];null!==a&&a.insertView(n),iC(e),e[er]|=128}(i,e,n,t),r){const o=_P(t,n),a=e[vr],l=OD(a,n[Mh]);null!==l&&function Khe(n,e,t,r,i,s){r[lo]=i,r[ol]=e,LD(n,r,t,1,i,s)}(i,n[ol],a,e,l,o)}const s=e[Mc];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function FP(n,e){const t=TC(n,e);return void 0!==t&&RD(t[hn],t),t}function OC(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(ys(s)),al(s)&&f7(s,r);const o=t.type;if(8&o)OC(n,e,t.child,r);else if(32&o){const a=AP(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=jQ(e,t);if(Array.isArray(a))r.push(...a);else{const l=Id(e[go]);OC(l[hn],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function f7(n,e){for(let t=Ps;t<n.length;t++){const r=n[t],i=r[hn].firstChild;null!==i&&OC(r[hn],r,i,e)}n[Mh]!==n[lo]&&e.push(n[Mh])}let d7=[];const Lfe={...mt,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{mv(n.lView)},consumerOnSignalRead(){this.lView[NA]=this}},A7=100;function VD(n,e=!0,t=0){const r=n[lu],i=r.rendererFactory;i.begin?.();try{!function Ufe(n,e){RP(n,e);let t=0;for(;rC(n);){if(t===A7)throw new dt(103,!1);t++,RP(n,1)}}(n,t)}catch(o){throw e&&HD(n,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function kfe(n,e,t,r){const i=e[er];if(!(256&~i))return;e[lu].inlineEffectRunner?.flush(),jy(e);let o=null,a=null;(function Hfe(n){return 2!==n.type})(n)&&(a=function Rfe(n){return n[NA]??function Ofe(n){const e=d7.pop()??Object.create(Lfe);return e.lView=n,e}(n)}(e),o=function Fs(n){return n&&(n.nextProducerIndex=0),bt(n)}(a));try{W2(e),function oC(n){return dr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&ZQ(n,e,t,2,r);const l=!(3&~i);if(l){const h=n.preOrderCheckHooks;null!==h&&LA(e,h,null)}else{const h=n.preOrderHooks;null!==h&&Wy(e,h,0,null),hC(e,0)}if(function Vfe(n){for(let e=Ud(n);null!==e;e=Fh(e)){if(!(e[er]&pv.HasTransplantedViews))continue;const t=e[pg];for(let r=0;r<t.length;r++){CO(t[r])}}}(e),p7(e,0),null!==n.contentQueries&&a7(n,e),l){const h=n.contentCheckHooks;null!==h&&LA(e,h)}else{const h=n.contentHooks;null!==h&&Wy(e,h,1),hC(e,1)}!function afe(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)cu(~i);else{const s=i,o=t[++r],a=t[++r];tD(o,s),a(2,e[s])}}}finally{cu(-1)}}(n,e);const c=n.components;null!==c&&m7(e,c,0);const u=n.viewQuery;if(null!==u&&BP(2,u,r),l){const h=n.viewCheckHooks;null!==h&&LA(e,h)}else{const h=n.viewHooks;null!==h&&Wy(e,h,2),hC(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Tc]){for(const h of e[Tc])h();e[Tc]=null}e[er]&=-73}catch(l){throw mv(e),l}finally{null!==a&&(function va(n,e){if(bt(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Li(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ds(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,o),function Pfe(n){n.lView[NA]!==n&&(n.lView=null,d7.push(n))}(a)),qy()}}function p7(n,e){for(let t=Ud(n);null!==t;t=Fh(t))for(let r=Ps;r<t.length;r++)g7(t[r],e)}function Qfe(n,e,t){g7(Nc(e,n),t)}function g7(n,e){gv(n)&&RP(n,e)}function RP(n,e){const r=n[hn],i=n[er],s=n[NA];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!mr(s)),s&&(s.dirty=!1),n[er]&=-9217,o)kfe(r,n,r.template,n[Gs]);else if(8192&i){p7(n,1);const a=r.components;null!==a&&m7(n,a,1)}}function m7(n,e,t){for(let r=0;r<e.length;r++)Qfe(n,e[r],t)}function PC(n){for(n[lu].changeDetectionScheduler?.notify();n;){n[er]|=64;const e=Id(n);if(Kw(n)&&!e)return n;n=e}return null}class LC{get rootNodes(){const e=this._lView,t=e[hn];return OC(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gs]}set context(e){this._lView[Gs]=e}get destroyed(){return!(256&~this._lView[er])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[No];if(al(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(TC(e,r),ov(t,r))}this._attachedToViewContainer=!1}RD(this._lView[hn],this._lView)}onDestroy(e){vv(this._lView,e)}markForCheck(){PC(this._cdRefInjectingView||this._lView)}detach(){this._lView[er]&=-129}reattach(){iC(this._lView),this._lView[er]|=128}detectChanges(){this._lView[er]|=1024,VD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,PQ(this._lView[hn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new dt(902,!1);this._appRef=e,iC(this._lView)}}let ia=(()=>{class n{static{this.__NG_ELEMENT_ID__=jfe}}return n})();const zfe=ia,Gfe=class extends zfe{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=FC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new LC(i)}};function jfe(){return QD(hs(),St())}function QD(n,e){return 4&n.type?new Gfe(e,n,S(n,e)):null}function _7(n){const e=n[Nd]??[],r=n[No][vr];for(const i of e)ede(i,r);n[Nd]=kr}function ede(n,e){let t=0,r=n.firstChild;if(r){const i=n.data[t_];for(;t<i;){const s=r.nextSibling;NC(e,r,!1),r=s,t++}}}function b7(n){_7(n);for(let e=Ps;e<n.length;e++)GD(n[e])}function GD(n){!function tde(n){const e=n[Mc]?.i18nNodes;if(e){const t=n[vr];for(const r of e.values())NC(t,r,!1);n[Mc].i18nNodes=void 0}}(n);const e=n[hn];for(let t=Er;t<e.bindingStartIndex;t++)al(n[t])?b7(n[t]):wa(n[t])&&GD(n[t])}const rde=new RegExp(`^(\\d+)*(${$O}|${WO})*(.*)`);function UP(n){return n.index-Er}function jD(n,e,t,r){const i=UP(r);let s=function ade(n,e){const t=n.i18nNodes;if(t){const r=t.get(e);return r&&t.delete(e),r}return null}(n,i);if(!s){const o=n.data[JO];if(o?.[i])s=function cde(n,e){const[t,...r]=function sde(n){const e=n.match(rde),[t,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(const[l,c,u]of s.matchAll(/(f|n)(\d*)/g)){const h=parseInt(u,10)||1;a.push(c,h)}return[o,...a]}(n);let i;return i=t===WO?e[go][lo]:t===$O?function NQ(n){return n.ownerDocument.body}(e[go][lo]):ys(e[Number(t)+Er]),function lde(n,e){let t=n;for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case e_.FirstChild:t=t.firstChild;break;case e_.NextSibling:t=t.nextSibling}}return t}(i,r)}(o[i],t);else if(e.firstChild===r)s=n.firstChild;else{const a=null===r.prev,l=r.prev??r.parent;if(function ode(n){return!n.prev&&8===n.parent?.type}(r))s=nP(n,UP(r.parent));else{let c=ll(l,t);if(a)s=c.firstChild;else{const u=UP(l),h=nP(n,u);s=2===l.type&&h?qD(rP(n,u)+1,h):c.nextSibling}}}}return s}function qD(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}let C7=()=>null;function dde(n,e){const t=n[Nd];return e&&null!==t&&0!==t.length?t[0].data[YO]===e?t.shift():(_7(n),null):null}function l_(n,e){return C7(n,e)}class WD{}class pde{}class S7{}class mde{resolveComponentFactory(e){throw function gde(n){const e=Error(`No component factory found for ${ta(n)}.`);return e.ngComponent=n,e}(e)}}let QC=(()=>{class n{static{this.NULL=new mde}}return n})();class HP{}let Ff=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function vde(){const n=St(),t=Nc(hs().index,n);return(wa(t)?t:n)[vr]}()}}return n})(),yde=(()=>{class n{static{this.\u0275prov=Rt({token:n,providedIn:"root",factory:()=>null})}}return n})();const VP={},E7=new Set;function Rf(n){E7.has(n)||(E7.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function D7(...n){}class Cr{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ie(!1),this.onMicrotaskEmpty=new ie(!1),this.onStable=new ie(!1),this.onError=new ie(!1),typeof Zone>"u")throw new dt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function _de(){const n="function"==typeof ls.requestAnimationFrame;let e=ls[n?"requestAnimationFrame":"setTimeout"],t=ls[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Cde(n){const e=()=>{!function wde(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ls,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,zP(n),n.isCheckStableRunning=!0,QP(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),zP(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function Sde(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return M7(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),T7(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return M7(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),T7(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,zP(n),QP(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cr.isInAngularZone())throw new dt(909,!1)}static assertNotInAngularZone(){if(Cr.isInAngularZone())throw new dt(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,bde,D7,D7);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const bde={};function QP(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zP(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function M7(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function T7(n){n._nesting--,QP(n)}class B7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ie,this.onMicrotaskEmpty=new ie,this.onStable=new ie,this.onError=new ie}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}var Fv=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Fv||{});const N7={destroy(){}};function jP(n,e){!e&&function uv(n){if(!B2())throw new dt(-203,!1)}();const t=e?.injector??Ve(Ro);if(!If(t))return N7;Rf("NgAfterNextRender");const r=t.get(zC),i=r.handler??=new F7,s=e?.phase??Fv.MixedReadWrite,o=()=>{i.unregister(l),a()},a=t.get(Ih).onDestroy(o),l=Eh(t,()=>new I7(s,()=>{o(),n()}));return i.register(l),{destroy:o}}class I7{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=Ve(Cr),this.errorHandler=Ve(Wu,{optional:!0}),Ve(WD,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class F7{constructor(){this.executingCallbacks=!1,this.buckets={[Fv.EarlyRead]:new Set,[Fv.Write]:new Set,[Fv.MixedReadWrite]:new Set,[Fv.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let zC=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Rt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function KD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=bw(i,a):2==s&&(r=bw(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}class P7 extends QC{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ui(e);return new qC(t,this.ngModule)}}function L7(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const r=n[t];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}class XD{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=zu(r);const i=this.injector.get(e,VP,r);return i!==VP||t===VP?i:this.parentInjector.get(e,t,r)}}class qC extends S7{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=L7(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return L7(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function zR(n){return n.map(QR).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){const s=bt(null);try{let o=(i=i||this.ngModule)instanceof ka?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new XD(e,o):e,l=a.get(HP,null);if(null===l)throw new dt(407,!1);const c=a.get(yde,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(zC,null),changeDetectionScheduler:a.get(WD,null)},f=l.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",p=r?function cfe(n,e,t,r){const s=r.get(hQ,!1)||t===au.ShadowDom,o=n.selectRootElement(e,s);return function ufe(n){t7(n)}(o),o}(f,r,this.componentDef.encapsulation,a):FD(f,A,function Tde(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(A));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let g=null;null!==p&&(g=eP(p,a,!0));const y=EP(0,null,null,1,0,null,null,null,null,null,null),v=UD(null,y,null,m,null,null,d,f,a,null,g);let _,C;jy(v);try{const b=this.componentDef;let M,D=null;b.findHostDirectiveDefs?(M=[],D=new Map,b.findHostDirectiveDefs(b,M,D),M.push(b)):M=[b];const x=function Nde(n,e){const t=n[hn],r=Er;return n[r]=e,o_(t,r,2,"#host",null)}(v,p),T=function Ide(n,e,t,r,i,s,o){const a=i[hn];!function Fde(n,e,t,r){for(const i of n)e.mergedAttrs=ag(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(KD(e,e.mergedAttrs,!0),null!==t&&KQ(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=eP(e,i[jo]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const h=UD(i,e7(t),null,u,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&MP(a,n,r.length-1),kD(i,h),i[n.index]=h}(x,p,b,M,v,d,f);C=xf(y,Er),p&&function Ode(n,e,t,r){if(r)Ty(n,t,["ng-version","17.3.12"]);else{const{attrs:i,classes:s}=function Ny(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Gu(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Ty(n,t,i),s&&s.length>0&&$Q(n,t,s.join(" "))}}(f,b,p,r),void 0!==t&&function Pde(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(C,this.ngContentSelectors,t),_=function Rde(n,e,t,r,i,s){const o=hs(),a=i[hn],l=ll(o,i);i7(a,i,o,t,null,r);for(let u=0;u<t.length;u++)Ei(kA(i,a,o.directiveStart+u,o),i);s7(a,i,o),l&&Ei(l,i);const c=kA(i,a,o.directiveStart+o.componentOffset,o);if(n[Gs]=i[Gs]=c,null!==s)for(const u of s)u(c,e);return CP(a,o,i),c}(T,b,M,D,v,[Lde]),IP(y,v,null)}finally{qy()}return new Bde(this.componentType,_,S(C,v),v,C)}finally{bt(s)}}}class Bde extends pde{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new LC(i,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;NP(s[hn],s,i,e,t),this.previousInputValues.set(e,t),PC(Nc(this._tNode.index,s))}}get injector(){return new qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Lde(){const n=hs();Sv(St()[hn],n)}let fu=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ude}}return n})();function Ude(){return H7(hs(),St())}const kde=fu,U7=class extends kde{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return S(this._hostTNode,this._hostLView)}get injector(){return new qo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ml(this._hostTNode,this._hostLView);if(AC(e)){const t=Dv(e,this._hostLView),r=Ev(e);return new qo(t[hn].data[r+8],t)}return new qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=k7(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ps}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=l_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,a_(this._hostTNode,o)),a}createComponent(e,t,r,i,s){const o=e&&!function hv(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const A=t||{};a=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}const l=o?e:new qC(ui(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const p=(o?c:this.parentInjector).get(ka,null);p&&(s=p)}const u=ui(l.componentType??{}),h=l_(this._lContainer,u?.id??null),f=l.create(c,i,h?.firstChild??null,s);return this.insertImpl(f.hostView,a,a_(this._hostTNode,h)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function wO(n){return al(n[No])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[No],c=new U7(l,l[ol],l[No]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;return RC(o,i,s,r),e.attachToViewContainerRef(),Rw($P(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=k7(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=TC(this._lContainer,t);r&&(ov($P(this._lContainer),t),RD(r[hn],r))}detach(e){const t=this._adjustIndex(e,-1),r=TC(this._lContainer,t);return r&&null!=ov($P(this._lContainer),t)?new LC(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function k7(n){return n[8]}function $P(n){return n[8]||(n[8]=[])}function H7(n,e){let t;const r=e[n.index];return al(r)?t=r:(t=o7(r,e,null,n),e[n.index]=t,kD(e,t)),V7(t,e,n,r),new U7(t,n,e)}let V7=z7,KP=()=>!1;function z7(n,e,t,r){if(n[Mh])return;let i;i=8&t.type?ys(r):function Hde(n,e){const t=n[vr],r=t.createComment(""),i=ll(e,n);return Iv(t,OD(t,i),r,function nfe(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Mh]=i}function Vde(n,e,t){if(n[Mh]&&n[Nd])return!0;const r=t[Mc],i=e.index-Er;if(!r||function ln(n){if(In(n))return!0;let e=n.parent;for(;e;){if(In(n)||at(e))return!0;e=e.parent}return!1}(e)||ED(r,i))return!1;const o=nP(r,i),a=r.data[wC]?.[i],[l,c]=function fde(n,e){const t=[];for(const r of e)for(let i=0;i<(r[CD]??1);i++){const s={data:r,firstChild:null};r[t_]>0&&(s.firstChild=n,n=qD(r[t_],n)),t.push(s)}return[n,t]}(o,a);return n[Mh]=l,n[Nd]=c,!0}function Qde(n,e,t,r){KP(n,t,e)||z7(n,e,t,r)}class XP{constructor(e){this.queryList=e,this.matches=null}clone(){return new XP(this.queryList)}setDirty(){this.queryList.setDirty()}}class YP{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new YP(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==n5(e,t).matches&&this.queries[t].setDirty()}}class G7{constructor(e,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof e?function $de(n){return n.split(",").map(e=>e.trim())}(e):e}}class JP{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new JP(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ZP{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new ZP(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Gde(t,s)),this.matchTNodeWithReadOption(e,t,UA(t,e,s,!1,!1))}else r===ia?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,UA(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===N||i===fu||i===ia&&4&t.type)this.addMatch(t.index,-2);else{const s=UA(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Gde(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function qde(n,e,t,r){return-1===t?function jde(n,e){return 11&n.type?S(n,e):4&n.type?QD(n,e):null}(e,n):-2===t?function Wde(n,e,t){return t===N?S(e,n):t===ia?QD(e,n):t===fu?H7(e,n):void 0}(n,e,r):kA(n,n[hn],t,e)}function j7(n,e,t,r){const i=e[xn].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:qde(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function e5(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=j7(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let h=Ps;h<u.length;h++){const d=u[h];d[dv]===d[No]&&e5(d[hn],d,c,r)}if(null!==u[pg]){const h=u[pg];for(let d=0;d<h.length;d++){const f=h[d];e5(f[hn],f,c,r)}}}}}return r}function q7(n,e,t){const r=new Ee(!(4&~t));return function dfe(n,e,t,r){const i=l7(e);i.push(t),n.firstCreatePass&&c7(n).push(r,i.length-1)}(n,e,r,r.destroy),(e[xn]??=new YP).queries.push(new XP(r))-1}function K7(n,e,t){null===n.queries&&(n.queries=new JP),n.queries.track(new ZP(e,t))}function n5(n,e){return n.queries.getByIndex(e)}function X7(n,e){const t=n[hn],r=n5(t,e);return r.crossesNgTemplate?e5(t,n,e,[]):j7(t,n,r,e)}function r5(n,e){Rf("NgSignals");const t=function Ym(n){const e=Object.create(Xp);e.value=n;const t=()=>(Gt(e),e.value);return t[zn]=e,t}(n),r=t[zn];return e?.equal&&(r.equal=e.equal),t.set=i=>xd(r,i),t.update=i=>function Kp(n,e){ps()||Wp(),xd(n,e(n.value))}(r,i),t.asReadonly=J7.bind(t),t}function J7(){const n=this[zn];if(void 0===n.readonlyFn){const e=()=>this();e[zn]=n,n.readonlyFn=e}return n.readonlyFn}function Z7(n){return function Y7(n){return"function"==typeof n&&void 0!==n[zn]}(n)&&"function"==typeof n.set}function is(n){let e=function uz(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ju(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new dt(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=JD(n.inputs),o.inputTransforms=JD(n.inputTransforms),o.declaredInputs=JD(n.declaredInputs),o.outputs=JD(n.outputs);const a=i.hostBindings;a&&cAe(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&aAe(n,l),c&&lAe(n,c),sAe(n,i),yR(n.outputs,i.outputs),ju(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===is&&(t=!1)}}e=Object.getPrototypeOf(e)}!function oAe(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ag(i.hostAttrs,t=ag(t,i.hostAttrs))}}(r)}function sAe(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];if(void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function JD(n){return n===xh?{}:n===kr?[]:n}function aAe(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function lAe(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function cAe(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function $C(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}class Rv{}class Az{}class a5 extends Rv{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new P7(this);const i=sl(e);this._bootstrapComponents=Ku(i.bootstrap),this._r3Injector=_C(e,t,[{provide:Rv,useValue:this},{provide:QC,useValue:this.componentFactoryResolver},...r],ta(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class l5 extends Az{constructor(e){super(),this.moduleType=e}create(e){return new a5(this.moduleType,e,[])}}class pz extends Rv{constructor(e){super(),this.componentFactoryResolver=new P7(this),this.instance=null;const t=new ug([...e.providers,{provide:Rv,useValue:this},{provide:QC,useValue:this.componentFactoryResolver}],e.parent||Ry(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ZD(n,e,t=null){return new pz({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Tg=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ms(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tM(n){return!!c5(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function c5(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Vd(n,e,t){return n[e]=t}function sa(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ov(n,e,t,r){const i=sa(n,e,t);return sa(n,e+1,r)||i}function XC(n){return!(32&~n.flags)}function dn(n,e,t,r,i,s,o,a){const l=St(),c=yi(),u=n+Er,h=c.firstCreatePass?function bAe(n,e,t,r,i,s,o,a,l){const c=e.consts,u=o_(e,n,4,o||null,Bh(c,a));DP(e,t,u,Bh(c,l)),Sv(e,u);const h=u.tView=EP(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];qu(h,!1);const d=gz(c,l,h,n);PA()&&PD(c,l,d,h),Ei(d,l);const f=o7(d,l,d,h);return l[u]=f,kD(l,f),function Q7(n,e,t){return KP(n,e,t)}(f,h,l),gg(h)&&SP(c,l,h),null!=o&&xP(l,h,a),dn}let gz=mz;function mz(n,e,t,r){return Jl(!0),e[vr].createComment("")}function wAe(n,e,t,r){const i=e[Mc],s=!i||Ef()||XC(t)||ED(i,r);if(Jl(s),s)return mz(0,e);const o=i.data[XO]?.[r]??null;null!==o&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=o);const a=jD(i,n,e,t);return xD(i,r,a),qD(rP(i,r),a)}function Ni(n,e,t,r){const i=St();return sa(i,Ic(),e)&&(yi(),Hd(Vi(),i,n,e,t,r)),Ni}function m_(n,e,t,r){return sa(n,Ic(),t)?e+Br(t)+r:zr}function v_(n,e,t,r,i,s){const a=Ov(n,function Df(){return dr.lFrame.bindingIndex}(),t,i);return Nh(2),a?e+Br(t)+r+Br(i)+s:zr}function lM(n,e){return n<<17|e<<2}function Ng(n){return n>>17&32767}function y5(n){return 2|n}function Lv(n){return(131068&n)>>2}function _5(n,e){return-131069&n|e<<2}function b5(n){return 1|n}function $z(n,e,t,r){const i=n[t+1],s=null===e;let o=r?Ng(i):Lv(i),a=!1;for(;0!==o&&(!1===a||s);){const c=n[o+1];ape(n[o],e)&&(a=!0,n[o+1]=r?b5(c):y5(c)),o=r?Ng(c):Lv(c)}a&&(n[t+1]=r?y5(i):b5(i))}function ape(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Cf(n,e)>=0}const Qa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kz(n){return n.substring(Qa.key,Qa.keyEnd)}function lpe(n){return n.substring(Qa.value,Qa.valueEnd)}function Xz(n,e){const t=Qa.textEnd;return t===e?-1:(e=Qa.keyEnd=function hpe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Qa.key=e,t),x_(n,e,t))}function Yz(n,e){const t=Qa.textEnd;let r=Qa.key=x_(n,e,t);return t===r?-1:(r=Qa.keyEnd=function fpe(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=Zz(n,r,t),r=Qa.value=x_(n,r,t),r=Qa.valueEnd=function dpe(n,e,t){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<t;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=e9(n,l,o,t):e===o-4&&85===s&&82===i&&76===r&&40===l?a=o=e9(n,41,o,t):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(n,r,t),Zz(n,r,t))}function Jz(n){Qa.key=0,Qa.keyEnd=0,Qa.value=0,Qa.valueEnd=0,Qa.textEnd=n.length}function x_(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Zz(n,e,t,r){return(e=x_(n,e,t))<t&&e++,e}function e9(n,e,t,r){let i=-1,s=t;for(;s<r;){const o=n.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function qe(n,e,t){const r=St();return sa(r,Ic(),e)&&hu(yi(),Vi(),r,n,e,r[vr],t,!1),qe}function w5(n,e,t,r,i){const o=i?"class":"style";NP(n,t,e.inputs[o],o,r)}function eS(n,e,t){return Of(n,e,t,!1),eS}function Ci(n,e){return Of(n,e,null,!0),Ci}function Ph(n){Pf(r9,Ape,n,!1)}function Ape(n,e){for(let t=function upe(n){return Jz(n),Yz(n,x_(n,0,Qa.textEnd))}(e);t>=0;t=Yz(e,t))r9(n,Kz(e),lpe(e))}function Ig(n){Pf(_pe,Qd,n,!0)}function Qd(n,e){for(let t=function cpe(n){return Jz(n),Xz(n,x_(n,0,Qa.textEnd))}(e);t>=0;t=Xz(e,t))Dc(n,Kz(e),!0)}function Of(n,e,t,r){const i=St(),s=yi(),o=Nh(2);s.firstUpdatePass&&n9(s,n,o,r),e!==zr&&sa(i,o,e)&&i9(s,s.data[So()],i,i[vr],n,i[o+1]=function wpe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ta(xg(n)))),n}(e,t),r,o)}function Pf(n,e,t,r){const i=yi(),s=Nh(2);i.firstUpdatePass&&n9(i,null,s,r);const o=St();if(t!==zr&&sa(o,s,t)){const a=i.data[So()];if(o9(a,r)&&!t9(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=bw(l,t||"")),w5(i,a,o,t,r)}else!function bpe(n,e,t,r,i,s,o,a){i===zr&&(i=kr);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,A=null;u===h?(l+=2,c+=2,d!==f&&(A=h,p=f)):null===h||null!==u&&u<h?(l+=2,A=u):(c+=2,A=h,p=f),null!==A&&i9(n,e,t,r,A,p,o,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}(i,a,o,o[vr],o[s+1],o[s+1]=function ype(n,e,t){if(null==t||""===t)return kr;const r=[],i=xg(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function t9(n,e){return e>=n.expandoStartIndex}function n9(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[So()],o=t9(n,t);o9(s,r)&&null===e&&!o&&(e=!1),e=function ppe(n,e,t,r){const i=function vg(n){const e=dr.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=tS(t=C5(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=C5(i,n,e,t,r),null===s){let l=function gpe(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Lv(r))return n[Ng(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=C5(null,n,e,l[1],r),l=tS(l,e.attrs,r),function mpe(n,e,t,r){n[Ng(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function vpe(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=tS(r,n[s].hostAttrs,t);return tS(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function spe(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ng(o),l=Lv(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Cf(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const d=Ng(n[a+1]);n[r+1]=lM(d,a),0!==d&&(n[d+1]=_5(n[d+1],r)),n[a+1]=function rpe(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=lM(a,0),0!==a&&(n[a+1]=_5(n[a+1],r)),a=r;else n[r+1]=lM(l,0),0===a?a=r:n[l+1]=_5(n[l+1],r),l=r;c&&(n[r+1]=y5(n[r+1])),$z(n,u,r,!0),$z(n,u,r,!1),function ope(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Cf(s,e)>=0&&(t[r+1]=b5(t[r+1]))}(e,u,n,r,s),o=lM(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function C5(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=tS(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function tS(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Dc(n,o,!!t||e[++s]))}return void 0===n?null:n}function r9(n,e,t){Dc(n,e,xg(t))}function _pe(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Dc(n,r,t)}function i9(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function ipe(n){return!(1&~n)}(c)?s9(l,e,t,i,Lv(c),o):void 0;cM(u)||(cM(s)||function npe(n){return!(2&~n)}(c)&&(s=s9(l,null,t,i,a,o)),function sfe(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Eg.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Eg.Important),n.setStyle(t,r,i,s))}}(r,o,RA(So(),t),i,s))}function s9(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=t[i+1];d===zr&&(d=h?kr:void 0);let f=h?Ow(d,r):u===r?d:void 0;if(c&&!cM(f)&&(f=Ow(l,r)),cM(f)&&(a=f,o))return a;const A=n[i+1];i=o?Ng(A):Lv(A)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Ow(l,r))}return a}function cM(n){return void 0!==n}function o9(n,e){return!!(n.flags&(e?8:16))}class Fpe{destroy(e){}updateValue(e,t){}swap(e,t){const r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){const o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}}function S5(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function x5(n,e,t,r){return!(void 0===e||!e.has(r)||(n.attach(t,e.get(r)),e.delete(r),0))}function a9(n,e,t,r,i){if(x5(n,e,r,t(r,i)))n.updateValue(r,i);else{const s=n.create(r,i);n.attach(r,s)}}function l9(n,e,t,r){const i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}class c9{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}}function Oo(n,e,t){Rf("NgControlFlow");const r=St(),i=Ic(),s=E5(r,Er+n);if(sa(r,i,e)){const a=bt(null);try{if(FP(s,0),-1!==e){const l=D5(r[hn],Er+e),c=l_(s,l.tView.ssrId);RC(s,FC(r,l,t,{dehydratedView:c}),0,a_(l,c))}}finally{bt(a)}}else{const a=h7(s,0);void 0!==a&&(a[Gs]=t)}}class Ope{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ps}}function Lf(n,e){return e}class Lpe{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}}function Yu(n,e,t,r,i,s,o,a,l,c,u,h,d){Rf("NgControlFlow");const f=void 0!==l,A=St(),p=a?o.bind(A[go][Gs]):o,m=new Lpe(f,p);A[Er+n]=m,dn(n+1,e,t,r,i,s),f&&dn(n+2,l,c,u,h,d)}class Upe extends Fpe{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ps}at(e){return this.getLView(e)[Gs].$implicit}attach(e,t){const r=t[Mc];this.needsIndexUpdate||=e!==this.length,RC(this.lContainer,t,e,a_(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function kpe(n,e){return TC(n,e)}(this.lContainer,e)}create(e,t){const r=l_(this.lContainer,this.templateTNode.tView.ssrId);return FC(this.hostLView,this.templateTNode,new Ope(this.lContainer,t,e),{dehydratedView:r})}destroy(e){RD(e[hn],e)}updateValue(e,t){this.getLView(e)[Gs].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Gs].$index=e}getLView(e){return function Hpe(n,e){return h7(n,e)}(this.lContainer,e)}}function Ju(n){const e=bt(null),t=So();try{const r=St(),i=r[hn],s=r[t];if(void 0===s.liveCollection){const a=t+1,l=E5(r,a),c=D5(i,a);s.liveCollection=new Upe(l,r,c)}else s.liveCollection.reset();const o=s.liveCollection;if(function Rpe(n,e,t){let r,i,s=0,o=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){const l=n.at(s),c=e[s],u=S5(s,l,s,c,t);if(0!==u){u<0&&n.updateValue(s,c),s++;continue}const h=n.at(o),d=e[a],f=S5(o,h,a,d,t);if(0!==f){f<0&&n.updateValue(o,d),o--,a--;continue}const A=t(s,l),p=t(o,h),m=t(s,c);if(Object.is(m,p)){const g=t(a,d);Object.is(g,A)?(n.swap(s,o),n.updateValue(o,d),a--,o--):n.move(o,s),n.updateValue(s,c),s++}else if(r??=new c9,i??=l9(n,s,o,t),x5(n,r,s,m))n.updateValue(s,c),s++,o++;else if(i.has(m))r.set(A,n.detach(s)),o--;else{const g=n.create(s,e[s]);n.attach(s,g),s++,o++}}for(;s<=a;)a9(n,r,t,s,e[s]),s++}else if(null!=e){const a=e[Symbol.iterator]();let l=a.next();for(;!l.done&&s<=o;){const c=n.at(s),u=l.value,h=S5(s,c,s,u,t);if(0!==h)h<0&&n.updateValue(s,u),s++,l=a.next();else{r??=new c9,i??=l9(n,s,o,t);const d=t(s,u);if(x5(n,r,s,d))n.updateValue(s,u),s++,o++,l=a.next();else if(i.has(d)){const f=t(s,c);r.set(f,n.detach(s)),o--}else n.attach(s,n.create(s,u)),s++,o++,l=a.next()}}for(;!l.done;)a9(n,r,t,n.length,l.value),l=a.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(a=>{n.destroy(a)})}(o,n,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){const a=Ic(),l=0===o.length;if(sa(r,a,l)){const c=t+2,u=E5(r,c);if(l){const h=D5(i,c),d=l_(u,h.tView.ssrId);RC(u,FC(r,h,void 0,{dehydratedView:d}),0,a_(h,d))}else FP(u,0)}}}finally{bt(e)}}function E5(n,e){return n[e]}function D5(n,e){return xf(n,e)}function fe(n,e,t,r){const i=St(),s=yi(),o=Er+n,a=i[vr],l=s.firstCreatePass?function Vpe(n,e,t,r,i,s){const o=e.consts,l=o_(e,n,2,r,Bh(o,i));return DP(e,t,l,Bh(o,s)),null!==l.attrs&&KD(l,l.attrs,!1),null!==l.mergedAttrs&&KD(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=u9(s,i,l,a,e,n);i[o]=c;const u=gg(l);return qu(l,!0),KQ(a,c,l),!XC(l)&&PA()&&PD(s,i,c,l),0===function SO(){return dr.lFrame.elementDepthCount}()&&Ei(c,i),function xO(){dr.lFrame.elementDepthCount++}(),u&&(SP(s,i,l),CP(s,l,i)),null!==r&&xP(i,l),fe}function he(){let n=hs();Fd()?bv():(n=n.parent,qu(n,!1));const e=n;(function DO(n){return dr.skipHydrationRootTNode===n})(e)&&function Y2(){dr.skipHydrationRootTNode=null}(),function EO(){dr.lFrame.elementDepthCount--}();const t=yi();return t.firstCreatePass&&(Sv(t,n),ky(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function NO(n){return!!(8&n.flags)}(e)&&w5(t,e,St(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function dC(n){return!!(16&n.flags)}(e)&&w5(t,e,St(),e.stylesWithoutHost,!1),he}function ft(n,e,t,r){return fe(n,e,t,r),he(),ft}let u9=(n,e,t,r,i,s)=>(Jl(!0),FD(r,i,cC()));function Qpe(n,e,t,r,i,s){const o=e[Mc],a=!o||Ef()||XC(t)||ED(o,s);if(Jl(a),a)return FD(r,i,cC());const l=jD(o,n,e,t);return cQ(o,s)&&xD(o,s,l.nextSibling),o&&(at(t)||xt(l))&&FA(t)&&(function sC(n){dr.skipHydrationRootTNode=n}(t),qQ(l)),l}function Uv(n,e,t){const r=St(),i=yi(),s=n+Er,o=i.firstCreatePass?function Gpe(n,e,t,r,i){const s=e.consts,o=Bh(s,r),a=o_(e,n,8,"ng-container",o);return null!==o&&KD(a,o,!0),DP(e,t,a,Bh(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];qu(o,!0);const a=h9(i,r,o,n);return r[s]=a,PA()&&PD(i,r,a,o),Ei(a,r),gg(o)&&(SP(i,r,o),CP(i,o,r)),null!=t&&xP(r,o),Uv}function kv(){let n=hs();const e=yi();return Fd()?bv():(n=n.parent,qu(n,!1)),e.firstCreatePass&&(Sv(e,n),ky(n)&&e.queries.elementEnd(n)),kv}function M5(n,e,t){return Uv(n,e,t),kv(),M5}let h9=(n,e,t,r)=>(Jl(!0),gP(e[vr],""));function jpe(n,e,t,r){let i;const s=e[Mc],o=!s||Ef()||XC(t);if(Jl(o),o)return gP(e[vr],"");const a=jD(s,n,e,t),l=function ahe(n,e){const t=n.data;let r=t[KO]?.[e]??null;return null===r&&t[wC]?.[e]&&(r=rP(n,e)),r}(s,r);return xD(s,r,a),i=qD(l,a),i}function ws(){return St()}const Hv=void 0;var $pe=["en",[["a","p"],["AM","PM"],Hv],[["AM","PM"],Hv,Hv],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hv,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hv,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hv,"{1} 'at' {0}",Hv],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Wpe(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let E_={};function Fc(n){const e=function Kpe(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=A9(e);if(t)return t;const r=e.split("-")[0];if(t=A9(r),t)return t;if("en"===r)return $pe;throw new dt(701,!1)}function A9(n){return n in E_||(E_[n]=ls.ng&&ls.ng.common&&ls.ng.common.locales&&ls.ng.common.locales[n]),E_[n]}var co=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(co||{});const D_="en-US",uM={marker:"element"},hM={marker:"ICU"};var du=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(du||{});let p9=D_;function m9(n,e,t){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?QQ(n,0,t):ys(t[i])}function v9(n,e,t,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&-1===e.componentOffset)for(let l=1;l<s.length;l++)Iv(n,o,t[s[l]],a,!1)}}function y9(n,e){if(n.push(e),n.length>1)for(let t=n.length-2;t>=0;t--){const r=n[t];_9(r)||ege(r,e)&&null===tge(r)&&nge(r,e.index)}}function _9(n){return!(64&n.type)}function ege(n,e){return _9(e)||n.index>e.index}function tge(n){const e=n.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function nge(n,e){const t=n.insertBeforeIndex;Array.isArray(t)?t[0]=e:(GQ(m9,v9),n.insertBeforeIndex=e)}function sge(n,e,t){const r=wP(n,t,64,null,null);return y9(e,r),r}function S9(n,e,t){const r=n[vr];switch(t){case Node.COMMENT_NODE:return gP(r,e);case Node.TEXT_NODE:return pP(r,e);case Node.ELEMENT_NODE:return FD(r,e,null)}}let sS=(n,e,t,r)=>(Jl(!0),S9(n,t,r));function cge(n,e,t,r){return Jl(!0),S9(n,t,r)}function Age(){const n=[];let t,r,e=-1;function s(a,l){e=0;const c=function fM(n,e){const t=e[n.currentCaseLViewIndex];return null===t?t:t<0?~t:t}(a,l);r=null!==c?a.remove[c]:kr}function o(){if(e<r.length){const a=r[e++];return a>0?t[a]:(n.push(e,r),s(t[hn].data[~a],t),o())}return 0===n.length?null:(r=n.pop(),e=n.pop(),o())}return function i(a,l){for(t=l;n.length;)n.pop();return s(a.value,l),o}}const dM=/\ufffd(\d+):?\d*\ufffd/gi,gge=/\ufffd(\d+)\ufffd/,B9=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,oS="\ufffd",mge=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,vge=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,yge=/\uE500/g;function N9(n,e,t,r,i,s,o){const a=IC(n,r,1,null);let l=a<<du.SHIFT,c=_v();e===c&&(c=null),null===c&&(l|=du.APPEND_EAGERLY),o&&(l|=du.COMMENT,function Whe(n){void 0===dP&&(dP=n())}(Age)),i.push(l,null===s?"":s);const u=wP(n,a,o?32:1,null===s?"":s,null);y9(t,u);const h=u.index;return qu(u,!1),null!==c&&e!==c&&function ige(n,e){let t=n.insertBeforeIndex;null===t?(GQ(m9,v9),t=n.insertBeforeIndex=[null,e]):(Sh(Array.isArray(t),!0,"Expecting array here"),t.push(e))}(c,h),u}function wge(n,e,t,r,i,s,o,a){const l=a.match(dM),u=N9(e,t,r,o,i,l?null:a,!1).index;l&&aS(s,a,u,null,0,null),n.push({kind:0,index:u})}function aS(n,e,t,r,i,s){const o=n.length,a=o+1;n.push(null,null);const l=o+2,c=e.split(dM);let u=0;for(let h=0;h<c.length;h++){const d=c[h];if(1&h){const f=i+parseInt(d,10);n.push(-1-f),u|=I9(f)}else""!==d&&n.push(d)}return n.push(t<<2|(r?1:0)),r&&n.push(r,s),n[o]=u,n[a]=n.length-l,u}function I9(n){return 1<<Math.min(n,31)}function F9(n){let e,s,t="",r=0,i=!1;for(;null!==(e=mge.exec(n));)i?e[0]===`${oS}/*${s}${oS}`&&(r=e.index,i=!1):(t+=n.substring(r,e.index+e[0].length),s=e[1],i=!0);return t+=n.slice(r),t}function R9(n,e,t,r,i,s,o){let a=0;const l={type:s.type,currentCaseLViewIndex:IC(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};(function Bge(n,e,t){n.push(I9(e.mainBinding),2,-1-e.mainBinding,t<<2|2)})(r,s,o),function rge(n,e,t){const r=n.data[e];null===r?n.data[e]=t:r.value=t}(e,o,l);const c=s.values,u=[];for(let h=0;h<c.length;h++){const d=c[h],f=[];for(let p=0;p<d.length;p++){const m=d[p];if("string"!=typeof m){const g=f.push(m)-1;d[p]=`\x3c!--\ufffd${g}\ufffd--\x3e`}}const A=[];u.push(A),a=Mge(A,e,l,t,r,i,s.cases[h],d.join(""),f)|a}a&&function Nge(n,e,t){n.push(e,1,t<<2|3)}(r,a,o),n.push({kind:3,index:o,cases:u,currentCaseLViewIndex:l.currentCaseLViewIndex})}function Dge(n){const e=[],t=[];let r=1,i=0;const s=T5(n=n.replace(B9,function(o,a,l){return r="select"===l?0:1,i=parseInt(a.slice(1),10),""}));for(let o=0;o<s.length;){let a=s[o++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);const l=T5(s[o++]);e.length>t.length&&t.push(l)}return{type:r,mainBinding:i,cases:e,values:t}}function T5(n){if(!n)return[];let e=0;const t=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(n);){const a=s.index;if("}"==s[0]){if(t.pop(),0==t.length){const l=n.substring(e,a);B9.test(l)?r.push(Dge(l)):r.push(l),e=a+1}}else{if(0==t.length){const l=n.substring(e,a);r.push(l),e=a+1}t.push("{")}}const o=n.substring(e);return r.push(o),r}function Mge(n,e,t,r,i,s,o,a,l){const c=[],u=[],h=[];t.cases.push(o),t.create.push(c),t.remove.push(u),t.update.push(h);const f=function mQ(n){const e=new mhe(n);return function vhe(){try{return!!(new window.DOMParser).parseFromString(n_(""),"text/html")}catch{return!1}}()?new ghe(e):e}(Sg()).getInertBodyElement(a),A=function cP(n){return"content"in n&&function Mhe(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(f)||f;return A?O9(n,e,t,r,i,c,u,h,A,s,l,0):0}function O9(n,e,t,r,i,s,o,a,l,c,u,h){let d=0,f=l.firstChild;for(;f;){const A=IC(e,r,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const p=f,m=p.tagName.toLowerCase();if(aP.hasOwnProperty(m)){B5(s,uM,m,c,A),e.data[A]=m;const _=p.attributes;for(let b=0;b<_.length;b++){const M=_.item(b),D=M.name.toLowerCase();M.value.match(dM)?bQ.hasOwnProperty(D)&&aS(a,M.value,A,M.name,0,lP[D]?oP:null):Ige(s,A,M)}const C={kind:1,index:A,children:[]};n.push(C),d=O9(C.children,e,t,r,i,s,o,a,f,A,u,h+1)|d,P9(o,A,h)}break;case Node.TEXT_NODE:const g=f.textContent||"",y=g.match(dM);B5(s,null,y?"":g,c,A),P9(o,A,h),y&&(d=aS(a,g,A,null,0,null)|d),n.push({kind:0,index:A});break;case Node.COMMENT_NODE:const v=gge.exec(f.textContent||"");if(v){const C=u[parseInt(v[1],10)];B5(s,hM,"",c,A),R9(n,e,r,i,c,C,A),Tge(o,A,h)}}f=f.nextSibling}return d}function P9(n,e,t){0===t&&n.push(e)}function Tge(n,e,t){0===t&&(n.push(~e),n.push(e))}function B5(n,e,t,r,i){null!==e&&n.push(e),n.push(t,i,function oge(n,e,t){return n|e<<17|t<<1}(0,r,i))}function Ige(n,e,t){n.push(e<<1|1,t.name,t.value)}function U9(n,e,t=-1){const r=yi(),i=St(),s=Er+n,o=Bh(r.consts,e),a=_v();r.firstCreatePass&&function bge(n,e,t,r,i,s){const o=_v(),a=[],l=[],c=[[]],u=[[]];i=function Ege(n,e){if(function xge(n){return-1===n}(e))return F9(n);{const t=n.indexOf(`:${e}${oS}`)+2+e.toString().length,r=n.search(new RegExp(`${oS}\\/\\*\\d+:${e}${oS}`));return F9(n.substring(t,r))}}(i,s);const h=function _ge(n){return n.replace(yge," ")}(i).split(vge);for(let d=0;d<h.length;d++){let f=h[d];if(1&d){const A=47===f.charCodeAt(0),p=f.charCodeAt(A?1:0),m=Er+Number.parseInt(f.substring(A?2:1));if(A)c.shift(),u.shift(),qu(_v(),!1);else{const g=sge(n,c[0],m);c.unshift([]),qu(g,!0);const y={kind:2,index:m,children:[],type:35===p?0:1};u[0].push(y),u.unshift(y.children)}}else{const A=T5(f);for(let p=0;p<A.length;p++){let m=A[p];if(1&p){const g=m;if("object"!=typeof g)throw new Error(`Unable to parse ICU expression in "${i}" message.`);const v=N9(n,o,c[0],t,a,"",!0).index;R9(u[0],n,t,l,e,g,v)}else""!==m&&wge(u[0],n,o,c[0],a,l,t,m)}}}n.data[r]={create:a,update:l,ast:u[0]}}(r,null===a?0:a.index,i,s,o,t),2===r.type?i[go][er]|=32:i[er]|=32;const l=r.data[s],u=UQ(r,a===i[ol]?null:a,i);(function hge(n,e,t,r){const i=n[vr];for(let s=0;s<e.length;s++){const o=e[s++],c=(o&du.APPEND_EAGERLY)===du.APPEND_EAGERLY,u=o>>>du.SHIFT;let h=n[u],d=!1;null===h&&(h=n[u]=sS(n,u,e[s],(o&du.COMMENT)===du.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),d=PA()),c&&null!==t&&d&&Iv(i,t,h,r,!1)}})(i,l.create,u,a&&8&a.type?i[a.index]:null),Gy(!0)}function lS(n,e,t){U9(n,e,t),function k9(){Gy(!1)}()}function qt(n,e,t,r){const i=St(),s=yi(),o=hs();return N5(s,i,i[vr],o,n,e,r),qt}function N5(n,e,t,r,i,s,o){const a=gg(r),c=n.firstCreatePass&&c7(n),u=e[Gs],h=l7(e);let d=!0;if(3&r.type||o){const p=ll(r,e),m=o?o(p):p,g=h.length,y=o?_=>o(ys(_[r.index])):r.index;let v=null;if(!o&&a&&(v=function Gge(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[dg],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,d=!1;else{s=z9(r,e,u,s,!1);const _=t.listen(m,i,s);h.push(s,_),c&&c.push(i,y,g,g+1)}}else s=z9(r,e,u,s,!1);const f=r.outputs;let A;if(d&&null!==f&&(A=f[i])){const p=A.length;if(p)for(let m=0;m<p;m+=2){const C=e[A[m]][A[m+1]].subscribe(s),b=h.length;h.push(s,C),c&&c.push(i,r.index,b,-(b+1))}}}function Q9(n,e,t,r){const i=bt(null);try{return Th(6,e,t),!1!==t(r)}catch(s){return HD(n,s),!1}finally{Th(7,e,t),bt(i)}}function z9(n,e,t,r,i){return function s(o){if(o===Function)return r;PC(n.componentOffset>-1?Nc(n.index,e):e);let l=Q9(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=Q9(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function en(n=1){return function Fo(n){return(dr.lFrame.contextLView=function $2(n,e){for(;n>0;)e=e[Ag],n--;return e}(n,dr.lFrame.contextLView))[Gs]}(n)}function jge(n,e){let t=null;const r=function UR(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?C2(n,s,!0):VR(r,s))return i}else t=i}return t}function cS(n){const e=St()[go][ol];if(!e.projection){const r=e.projection=function sg(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?jge(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function uS(n,e=0,t){const r=St(),i=yi(),s=o_(i,Er+n,16,null,t||null);null===s.projection&&(s.projection=e),bv(),(!r[Mc]||Ef())&&32&~s.flags&&function rfe(n,e,t){WQ(e[vr],0,e,t,vP(n,t,e),VQ(t.parent||e[ol],t,e))}(i,r,s)}function Fg(n,e,t){return hS(n,"",e,"",t),Fg}function hS(n,e,t,r,i){const s=St(),o=m_(s,e,t,r);return o!==zr&&hu(yi(),Vi(),s,n,o,s[vr],i,!1),hS}function Sa(n,e,t,r){!function $7(n,e,t,r){const i=yi();if(i.firstCreatePass){const s=hs();K7(i,new G7(e,t,r),s.index),function Kde(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),!(2&~t)&&(i.staticContentQueries=!0)}return q7(i,St(),t)}(n,e,t,r)}function Ki(n,e,t){!function W7(n,e,t){const r=yi();return r.firstCreatePass&&(K7(r,new G7(n,e,t),-1),!(2&~e)&&(r.staticViewQueries=!0)),q7(r,St(),e)}(n,e,t)}function lr(n){const e=St(),t=yi(),r=yg();wv(r+1);const i=n5(t,r);if(n.dirty&&function q2(n){return!(4&~n[er])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)n.reset([]);else{const s=X7(e,r);n.reset(s,I),n.notifyOnChanges()}return!0}return!1}function cr(){return function t5(n,e){return n[xn].queries[e].queryList}(St(),yg())}function Uf(n){return mg(function zy(){return dr.lFrame.contextLView}(),Er+n)}function Te(n,e=""){const t=St(),r=yi(),i=n+Er,s=r.firstCreatePass?o_(r,i,1,e,null):r.data[i],o=aG(r,t,s,e,n);t[i]=o,PA()&&PD(r,t,o,s),qu(s,!1)}let aG=(n,e,t,r,i)=>(Jl(!0),pP(e[vr],r));function sme(n,e,t,r,i){const s=e[Mc],o=!s||Ef()||XC(t)||ED(s,i);return Jl(o),o?pP(e[vr],r):jD(s,n,e,t)}function Nr(n){return zi("",n,""),Nr}function zi(n,e,t){const r=St(),i=m_(r,n,e,t);return i!==zr&&qA(r,So(),i),zi}function AM(n,e,t,r,i){const s=St(),o=v_(s,n,e,t,r,i);return o!==zr&&qA(s,So(),o),AM}function kf(n,e,t){Z7(e)&&(e=e());const r=St();return sa(r,Ic(),e)&&hu(yi(),Vi(),r,n,e,r[vr],t,!1),kf}function zd(n,e){const t=Z7(n);return t&&n.set(e),t}function Hf(n,e){const t=St(),r=yi(),i=hs();return N5(r,t,t[vr],i,n,e),Hf}function I5(n,e,t,r,i){if(n=or(n),Array.isArray(n))for(let s=0;s<n.length;s++)I5(n[s],e,t,r,i);else{const s=yi(),o=St(),a=hs();let l=Bd(n)?n:or(n.provide);const c=T2(n),u=1048575&a.providerIndexes,h=a.directiveStart,d=a.providerIndexes>>20;if(Bd(n)||!n.multi){const f=new xv(c,i,pt),A=R5(l,e,i?u:u+d,h);-1===A?(gC(Tn(a,o),s,l),F5(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[A]=f,o[A]=f)}else{const f=R5(l,e,u+d,h),A=R5(l,e,u,u+d),m=A>=0&&t[A];if(i&&!m||!i&&!(f>=0&&t[f])){gC(Tn(a,o),s,l);const g=function ume(n,e,t,r,i){const s=new xv(n,t,pt);return s.multi=[],s.index=e,s.componentProviders=0,pG(s,i,r&&!t),s}(i?cme:lme,t.length,i,r,c);!i&&m&&(t[A].providerFactory=g),F5(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),o.push(g)}else F5(s,n,f>-1?f:A,pG(t[i?A:f],c,!i&&r));!i&&r&&m&&t[A].componentProviders++}}}function F5(n,e,t,r){const i=Bd(e),s=function XR(n){return!!n.useClass}(e);if(i||s){const l=(s?or(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function pG(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function R5(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function lme(n,e,t,r){return O5(this.multi,[])}function cme(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=kA(t,t[hn],this.providerFactory.index,r);s=a.slice(0,o),O5(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],O5(i,s);return s}function O5(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Zs(n,e=[]){return t=>{t.providersResolver=(r,i)=>function ame(n,e,t){const r=yi();if(r.firstCreatePass){const i=ju(n);I5(t,r.data,r.blueprint,i,!0),I5(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}let hme=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Qw(0,t.type),i=r.length>0?ZD([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Rt({token:n,providedIn:"environment",factory:()=>new n(Ut(ka))})}}return n})();function xa(n){Rf("NgStandalone"),n.getStandaloneInjector=e=>e.get(hme).getOrCreateStandaloneInjector(n)}function fS(n,e,t){const r=Dl()+n,i=St();return i[r]===zr?Vd(i,r,t?e.call(t):e()):function KC(n,e){return n[e]}(i,r)}function Gd(n,e,t,r){return vG(St(),Dl(),n,e,t,r)}function dS(n,e,t,r,i){return function yG(n,e,t,r,i,s,o){const a=e+t;return Ov(n,a,i,s)?Vd(n,a+2,o?r.call(o,i,s):r(i,s)):AS(n,a+2)}(St(),Dl(),n,e,t,r,i)}function P5(n,e,t,r,i,s){return function _G(n,e,t,r,i,s,o,a){const l=e+t;return function nM(n,e,t,r,i){const s=Ov(n,e,t,r);return sa(n,e+2,i)||s}(n,l,i,s,o)?Vd(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):AS(n,l+3)}(St(),Dl(),n,e,t,r,i,s)}function AS(n,e){const t=n[e];return t===zr?void 0:t}function vG(n,e,t,r,i,s){const o=e+t;return sa(n,o,i)?Vd(n,o+1,s?r.call(s,i):r(i)):AS(n,o+1)}function Au(n,e){const t=yi();let r;const i=n+Er;t.firstCreatePass?(r=function yme(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Xl(r.type)),a=Kl(pt);try{const l=$y(!1),c=s();return $y(l),function Kge(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,St(),i,c),c}finally{Kl(a)}}function pu(n,e,t){const r=n+Er,i=St(),s=mg(i,r);return function pS(n,e){return n[hn].data[e].pure}(i,r)?vG(i,Dl(),e,s.transform,t,s):s.transform(t)}function Vf(n,e){return QD(n,e)}class mS{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const UG=new mS("17.3.12");let V5=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const zG=new yn(""),vM=new yn("");let j5,z5=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,j5||(function gve(n){j5=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(Ut(Cr),Ut(G5),Ut(vM))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})(),G5=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return j5?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function yS(n){return!!n&&"function"==typeof n.then}function GG(n){return!!n&&"function"==typeof n.subscribe}const yM=new yn("");let q5=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Ve(yM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(yS(s))t.push(s);else if(GG(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const _M=new yn("");function WG(n,e){return Array.isArray(e)?e.reduce(WG,n):{...n,...e}}let wM,Qf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ve(_D),this.afterRenderEffectManager=Ve(zC),this.externalTestViews=new Set,this.beforeRender=new Ur,this.afterTick=new Ur,this.componentTypes=[],this.components=[],this.isStable=Ve(Tg).hasPendingTasks.pipe(Tr(t=>!t)),this._injector=Ve(ka)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof S7;if(!this._injector.get(q5).done)throw!i&&function Td(n){const e=ui(n)||ra(n)||zo(n);return null!==e&&e.standalone}(t),new dt(405,!1);let o;o=i?t:this._injector.get(QC).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function mve(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Rv),c=o.create(Ro.NULL,[],r||o.selector,a),u=c.location.nativeElement,h=c.injector.get(zG,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),bM(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new dt(101,!1);const r=bt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,bt(r)}}detectChangesInAttachedViews(t){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===A7)throw new dt(103,!1);if(t){const s=0===r;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)vve(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>W5(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>W5(s))))break}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;bM(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(_M,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bM(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new dt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function $G(n){wM??=new WeakMap;const e=wM.get(n);if(e)return e;const t=n.isStable.pipe(Cc(r=>r)).toPromise().then(()=>{});return wM.set(n,t),n.onDestroy(()=>wM?.delete(n)),t}function vve(n,e,t){!e&&!W5(n)||function yve(n,e,t){let r;t?(r=0,n[er]|=1024):r=64&n[er]?0:1,VD(n,e,r)}(n,t,e)}function W5(n){return rC(n)}class _ve{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let KG=(()=>{class n{compileModuleSync(t){return new l5(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ku(sl(t).declarations).reduce((o,a)=>{const l=ui(a);return l&&o.push(new qC(l)),o},[]);return new _ve(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Cve=(()=>{class n{constructor(){this.zone=Ve(Cr),this.applicationRef=Ve(Qf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sve(){const n=Ve(Cr),e=Ve(Wu);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Eve=(()=>{class n{constructor(){this.subscription=new mi,this.initialized=!1,this.zone=Ve(Cr),this.pendingTasks=Ve(Tg)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Cr.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const jd=new yn("",{providedIn:"root",factory:()=>Ve(jd,vi.Optional|vi.SkipSelf)||function Dve(){return typeof $localize<"u"&&$localize.locale||D_}()}),$5=new yn("");let ZG=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function xde(n="zone.js",e){return"noop"===n?new B7:"zone.js"===n?new Cr(e):n}(r?.ngZone,function JG(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function pAe(n,e,t){return new a5(n,e,t)}(t.moduleType,this.injector,function YG(n){return[{provide:Cr,useFactory:n},{provide:Sf,multi:!0,useFactory:()=>{const e=Ve(Cve,{optional:!0});return()=>e.initialize()}},{provide:Sf,multi:!0,useFactory:()=>{const e=Ve(Eve);return()=>{e.initialize()}}},{provide:_D,useFactory:Sve}]}(()=>i)),o=s.injector.get(Wu,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{bM(this._modules,s),a.unsubscribe()})}),function qG(n,e,t){try{const r=t();return yS(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(q5);return a.runInitializers(),a.donePromise.then(()=>(function g9(n){"string"==typeof n&&(p9=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(jd,D_)||D_),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=WG({},r);return function wve(n,e,t){const r=new l5(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Qf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new dt(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get($5,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(Ut(Ro))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Rg=null;const ej=new yn("");function tj(n,e,t=[]){const r=`Platform: ${e}`,i=new yn(r);return(s=[])=>{let o=K5();if(!o||o.injector.get(ej,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function Bve(n){if(Rg&&!Rg.get(ej,!1))throw new dt(400,!1);(function jG(){!function $p(n){Cd=n}(()=>{throw new dt(600,!1)})})(),Rg=n;const e=n.get(ZG);(function rj(n){n.get(iQ,null)?.forEach(t=>t())})(n)}(function nj(n=[],e){return Ro.create({name:e,providers:[{provide:Gw,useValue:"platform"},{provide:$5,useValue:new Set([()=>Rg=null])},...n]})}(a,r))}return function Nve(n){const e=K5();if(!e)throw new dt(401,!1);return e}()}}function K5(){return Rg?.get(ZG)??null}let zf=(()=>{class n{static{this.__NG_ELEMENT_ID__=Fve}}return n})();function Fve(n){return function Rve(n,e,t){if(FA(n)&&!t){const r=Nc(n.index,e);return new LC(r,r)}return 47&n.type?new LC(e[go],e):null}(hs(),St(),!(16&~n))}class lj{constructor(){}supports(e){return tM(e)}create(e){return new kve(e)}}const Uve=(n,e)=>e;class kve{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Uve}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<uj(r,i,s)?t:r,a=uj(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let d=0;d<c;d++){const f=d<s.length?s[d]:s[d]=0,A=f+d;u<=A&&A<c&&(s[d]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!tM(e))throw new dt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function yAe(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Hve(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new cj),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cj),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Hve{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vve{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class cj{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Vve,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uj(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class hj{constructor(){}supports(e){return e instanceof Map||c5(e)}create(){return new Qve}}class Qve{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||c5(e)))throw new dt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new zve(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class zve{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fj(){return new eL([new lj])}let eL=(()=>{class n{static{this.\u0275prov=Rt({token:n,providedIn:"root",factory:fj})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||fj()),deps:[[n,new sv,new EA]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new dt(901,!1)}}return n})();function dj(){return new xM([new hj])}let xM=(()=>{class n{static{this.\u0275prov=Rt({token:n,providedIn:"root",factory:dj})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||dj()),deps:[[n,new sv,new EA]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new dt(901,!1)}}return n})();const qve=tj(null,"core",[]);let Wve=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(Ut(Qf))}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Dj=!1,Mj=!1;function h0e(){return TA([{provide:DD,useFactory:()=>{let n=!0;return If()&&(n=!!Ve(Zy,{optional:!0})?.get(ZO,null)),n&&Rf("NgHydration"),n}},{provide:Sf,useValue:()=>{Mj=!!Ve(fQ,{optional:!0}),If()&&Ve(DD)&&(function d0e(){const n=Sg();let e;for(const t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===ehe){e=t;break}if(!e)throw new dt(-507,!1)}(),function c0e(){Dj||(Dj=!0,function nhe(){oQ=the}(),function zpe(){u9=Qpe}(),function ome(){aG=sme}(),function qpe(){h9=jpe}(),function CAe(){gz=wAe}(),function zde(){V7=Qde,KP=Vde}(),function Ade(){C7=dde}(),function ffe(){t7=hfe}(),function uge(){sS=cge}())}())},multi:!0},{provide:hQ,useFactory:()=>If()&&Ve(DD)},{provide:_M,useFactory:()=>{if(If()&&Ve(DD)){const n=Ve(Qf);return Ve(Ro),()=>{(function u0e(n,e){return $G(n)})(n).then(()=>{!function nde(n){const e=n._views;for(const t of e){const r=aQ(t);null!==r&&null!==r[lo]&&(wa(r)?GD(r):(GD(r[lo]),b7(r)))}}(n)})}}return()=>{}},multi:!0}])}function Nl(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function C0e(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}function Oj(n){const e=bt(null);try{return n()}finally{bt(e)}}function rL(n,e){const t=ui(n),r=e.elementInjector||Ry();return new qC(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let Pj=null;function Og(){return Pj}class I0e{}const Xi=new yn("");let iL=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:()=>Ve(R0e),providedIn:"platform"})}}return n})();const F0e=new yn("");let R0e=(()=>{class n extends iL{constructor(){super(),this._doc=Ve(Xi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Og().getBaseHref(this._doc)}onPopState(t){const r=Og().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Og().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function sL(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Lj(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function WA(n){return n&&"?"!==n[0]?"?"+n:n}let Qv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:()=>Ve(kj),providedIn:"root"})}}return n})();const Uj=new yn("");let kj=(()=>{class n extends Qv{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ve(Xi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return sL(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+WA(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+WA(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+WA(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Ut(iL),Ut(Uj,8))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),O0e=(()=>{class n extends Qv{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=sL(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+WA(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+WA(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Ut(iL),Ut(Uj,8))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})(),N_=(()=>{class n{constructor(t){this._subject=new ie,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function U0e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Lj(Hj(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+WA(r))}normalize(t){return n.stripTrailingSlash(function L0e(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Hj(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+WA(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+WA(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=WA}static{this.joinWithSlash=sL}static{this.stripTrailingSlash=Lj}static{this.\u0275fac=function(r){return new(r||n)(Ut(Qv))}}static{this.\u0275prov=Rt({token:n,factory:()=>function P0e(){return new N_(Ut(Qv))}(),providedIn:"root"})}}return n})();function Hj(n){return n.replace(/\/index.html$/,"")}var NM=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(NM||{}),cl=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(cl||{}),ss=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ss||{}),Zu=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Zu||{});const Ea={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function IM(n,e){return kh(Fc(n)[co.DateFormat],e)}function FM(n,e){return kh(Fc(n)[co.TimeFormat],e)}function RM(n,e){return kh(Fc(n)[co.DateTimeFormat],e)}function Uh(n,e){const t=Fc(n),r=t[co.NumberSymbols][e];if(typeof r>"u"){if(e===Ea.CurrencyDecimal)return t[co.NumberSymbols][Ea.Decimal];if(e===Ea.CurrencyGroup)return t[co.NumberSymbols][Ea.Group]}return r}function zj(n){if(!n[co.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[co.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kh(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function lL(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const X0e=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,OM={},Y0e=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $A=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}($A||{}),Cs=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Cs||{}),Ss=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ss||{});function Gj(n,e,t,r){let i=function oye(n){if(Wj(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return PM(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(X0e))return function aye(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(r)}const e=new Date(n);if(!Wj(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=KA(t,e)||e;let a,o=[];for(;e;){if(a=Y0e.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=qj(r,l),i=function sye(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function iye(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(qj(e,i)-i))}(i,r,!0));let c="";return o.forEach(u=>{const h=function rye(n){if(uL[n])return uL[n];let e;switch(n){case"G":case"GG":case"GGG":e=uo(Ss.Eras,ss.Abbreviated);break;case"GGGG":e=uo(Ss.Eras,ss.Wide);break;case"GGGGG":e=uo(Ss.Eras,ss.Narrow);break;case"y":e=Da(Cs.FullYear,1,0,!1,!0);break;case"yy":e=Da(Cs.FullYear,2,0,!0,!0);break;case"yyy":e=Da(Cs.FullYear,3,0,!1,!0);break;case"yyyy":e=Da(Cs.FullYear,4,0,!1,!0);break;case"Y":e=HM(1);break;case"YY":e=HM(2,!0);break;case"YYY":e=HM(3);break;case"YYYY":e=HM(4);break;case"M":case"L":e=Da(Cs.Month,1,1);break;case"MM":case"LL":e=Da(Cs.Month,2,1);break;case"MMM":e=uo(Ss.Months,ss.Abbreviated);break;case"MMMM":e=uo(Ss.Months,ss.Wide);break;case"MMMMM":e=uo(Ss.Months,ss.Narrow);break;case"LLL":e=uo(Ss.Months,ss.Abbreviated,cl.Standalone);break;case"LLLL":e=uo(Ss.Months,ss.Wide,cl.Standalone);break;case"LLLLL":e=uo(Ss.Months,ss.Narrow,cl.Standalone);break;case"w":e=cL(1);break;case"ww":e=cL(2);break;case"W":e=cL(1,!0);break;case"d":e=Da(Cs.Date,1);break;case"dd":e=Da(Cs.Date,2);break;case"c":case"cc":e=Da(Cs.Day,1);break;case"ccc":e=uo(Ss.Days,ss.Abbreviated,cl.Standalone);break;case"cccc":e=uo(Ss.Days,ss.Wide,cl.Standalone);break;case"ccccc":e=uo(Ss.Days,ss.Narrow,cl.Standalone);break;case"cccccc":e=uo(Ss.Days,ss.Short,cl.Standalone);break;case"E":case"EE":case"EEE":e=uo(Ss.Days,ss.Abbreviated);break;case"EEEE":e=uo(Ss.Days,ss.Wide);break;case"EEEEE":e=uo(Ss.Days,ss.Narrow);break;case"EEEEEE":e=uo(Ss.Days,ss.Short);break;case"a":case"aa":case"aaa":e=uo(Ss.DayPeriods,ss.Abbreviated);break;case"aaaa":e=uo(Ss.DayPeriods,ss.Wide);break;case"aaaaa":e=uo(Ss.DayPeriods,ss.Narrow);break;case"b":case"bb":case"bbb":e=uo(Ss.DayPeriods,ss.Abbreviated,cl.Standalone,!0);break;case"bbbb":e=uo(Ss.DayPeriods,ss.Wide,cl.Standalone,!0);break;case"bbbbb":e=uo(Ss.DayPeriods,ss.Narrow,cl.Standalone,!0);break;case"B":case"BB":case"BBB":e=uo(Ss.DayPeriods,ss.Abbreviated,cl.Format,!0);break;case"BBBB":e=uo(Ss.DayPeriods,ss.Wide,cl.Format,!0);break;case"BBBBB":e=uo(Ss.DayPeriods,ss.Narrow,cl.Format,!0);break;case"h":e=Da(Cs.Hours,1,-12);break;case"hh":e=Da(Cs.Hours,2,-12);break;case"H":e=Da(Cs.Hours,1);break;case"HH":e=Da(Cs.Hours,2);break;case"m":e=Da(Cs.Minutes,1);break;case"mm":e=Da(Cs.Minutes,2);break;case"s":e=Da(Cs.Seconds,1);break;case"ss":e=Da(Cs.Seconds,2);break;case"S":e=Da(Cs.FractionalSeconds,1);break;case"SS":e=Da(Cs.FractionalSeconds,2);break;case"SSS":e=Da(Cs.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=UM($A.Short);break;case"ZZZZZ":e=UM($A.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=UM($A.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=UM($A.Long);break;default:return null}return uL[n]=e,e}(u);c+=h?h(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function PM(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function KA(n,e){const t=function H0e(n){return Fc(n)[co.LocaleId]}(n);if(OM[t]??={},OM[t][e])return OM[t][e];let r="";switch(e){case"shortDate":r=IM(n,Zu.Short);break;case"mediumDate":r=IM(n,Zu.Medium);break;case"longDate":r=IM(n,Zu.Long);break;case"fullDate":r=IM(n,Zu.Full);break;case"shortTime":r=FM(n,Zu.Short);break;case"mediumTime":r=FM(n,Zu.Medium);break;case"longTime":r=FM(n,Zu.Long);break;case"fullTime":r=FM(n,Zu.Full);break;case"short":const i=KA(n,"shortTime"),s=KA(n,"shortDate");r=LM(RM(n,Zu.Short),[i,s]);break;case"medium":const o=KA(n,"mediumTime"),a=KA(n,"mediumDate");r=LM(RM(n,Zu.Medium),[o,a]);break;case"long":const l=KA(n,"longTime"),c=KA(n,"longDate");r=LM(RM(n,Zu.Long),[l,c]);break;case"full":const u=KA(n,"fullTime"),h=KA(n,"fullDate");r=LM(RM(n,Zu.Full),[u,h])}return r&&(OM[t][e]=r),r}function LM(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Gf(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Da(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function Z0e(n,e){switch(n){case Cs.FullYear:return e.getFullYear();case Cs.Month:return e.getMonth();case Cs.Date:return e.getDate();case Cs.Hours:return e.getHours();case Cs.Minutes:return e.getMinutes();case Cs.Seconds:return e.getSeconds();case Cs.FractionalSeconds:return e.getMilliseconds();case Cs.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===Cs.Hours)0===a&&-12===t&&(a=12);else if(n===Cs.FractionalSeconds)return function J0e(n,e){return Gf(n,3).substring(0,e)}(a,e);const l=Uh(o,Ea.MinusSign);return Gf(a,e,l,r,i)}}function uo(n,e,t=cl.Format,r=!1){return function(i,s){return function eye(n,e,t,r,i,s){switch(t){case Ss.Months:return function oL(n,e,t){const r=Fc(n),s=kh([r[co.MonthsFormat],r[co.MonthsStandalone]],e);return kh(s,t)}(e,i,r)[n.getMonth()];case Ss.Days:return function Qj(n,e,t){const r=Fc(n),s=kh([r[co.DaysFormat],r[co.DaysStandalone]],e);return kh(s,t)}(e,i,r)[n.getDay()];case Ss.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function j0e(n){const e=Fc(n);return zj(e),(e[co.ExtraData][2]||[]).map(r=>"string"==typeof r?lL(r):[lL(r[0]),lL(r[1])])}(e),u=function q0e(n,e,t){const r=Fc(n);zj(r);const s=kh([r[co.ExtraData][0],r[co.ExtraData][1]],e)||[];return kh(s,t)||[]}(e,i,r),h=c.findIndex(d=>{if(Array.isArray(d)){const[f,A]=d,p=o>=f.hours&&a>=f.minutes,m=o<A.hours||o===A.hours&&a<A.minutes;if(f.hours<A.hours){if(p&&m)return!0}else if(p||m)return!0}else if(d.hours===o&&d.minutes===a)return!0;return!1});if(-1!==h)return u[h]}return function V0e(n,e,t){const r=Fc(n),s=kh([r[co.DayPeriodsFormat],r[co.DayPeriodsStandalone]],e);return kh(s,t)}(e,i,r)[o<12?0:1];case Ss.Eras:return function Q0e(n,e){return kh(Fc(n)[co.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function UM(n){return function(e,t,r){const i=-1*r,s=Uh(t,Ea.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case $A.Short:return(i>=0?"+":"")+Gf(o,2,s)+Gf(Math.abs(i%60),2,s);case $A.ShortGMT:return"GMT"+(i>=0?"+":"")+Gf(o,1,s);case $A.Long:return"GMT"+(i>=0?"+":"")+Gf(o,2,s)+":"+Gf(Math.abs(i%60),2,s);case $A.Extended:return 0===r?"Z":(i>=0?"+":"")+Gf(o,2,s)+":"+Gf(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const tye=0,kM=4;function jj(n){const e=n.getDay(),t=0===e?-3:kM-e;return PM(n.getFullYear(),n.getMonth(),n.getDate()+t)}function cL(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=jj(t),o=function nye(n){const e=PM(n,tye,1).getDay();return PM(n,0,1+(e<=kM?kM:kM+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Gf(i,n,Uh(r,Ea.MinusSign))}}function HM(n,e=!1){return function(t,r){return Gf(jj(t).getFullYear(),n,Uh(r,Ea.MinusSign),e)}}const uL={};function qj(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Wj(n){return n instanceof Date&&!isNaN(n.valueOf())}const lye=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function AL(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Yj(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const gL=/\s+/,Jj=[];let mL=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=Jj,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(gL):Jj}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(gL):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(gL).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(pt(N),pt(Ff))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[Rr.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class _ye{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Il=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new _ye(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),eq(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{eq(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(pt(fu),pt(ia),pt(eL))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function eq(n,e){n.context.$implicit=e.item}let tc=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new bye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tq("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tq("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(pt(fu),pt(ia))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class bye{constructor(){this.$implicit=null,this.ngIf=null}}function tq(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ta(e)}'.`)}let QM=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Eg.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(pt(N),pt(xM),pt(Ff))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),F_=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(pt(fu))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Io]})}}return n})();function jf(n,e){return new dt(2100,!1)}class Eye{createSubscription(e,t){return Oj(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Oj(()=>e.unsubscribe())}}class Dye{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Mye=new Dye,Tye=new Eye;let R_=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(yS(t))return Mye;if(GG(t))return Tye;throw jf()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(pt(zf,16))}}static{this.\u0275pipe=Yl({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const Oye=new yn(""),Pye=new yn("");let _L=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return Gj(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw jf()}}static{this.\u0275fac=function(r){return new(r||n)(pt(jd,16),pt(Oye,24),pt(Pye,24))}}static{this.\u0275pipe=Yl({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),zM=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function bL(n){return!(null==n||""===n||n!=n)}(t))return null;i||=this._locale;try{return function Aye(n,e,t){return function fL(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function gye(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function pye(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const y=s.match(lye);if(null===y)throw new Error(`${s} is not a valid digit info`);const v=y[1],_=y[3],C=y[5];null!=v&&(u=AL(v)),null!=_&&(h=AL(_)),null!=C?d=AL(C):null!=_&&h>d&&(d=h)}!function mye(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let h=o;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let h=1;h<o;h++)r[h]=0}if(a>=5)if(o-1<0){for(let h=0;h>o;h--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=e+n.integerLen,u=r.reduceRight(function(h,d,f,A){return A[f]=(d+=h)<10?d:d-10,l&&(0===A[f]&&f>=c?A.pop():l=!1),d>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}(c,h,d);let f=c.digits,A=c.integerLen;const p=c.exponent;let m=[];for(l=f.every(y=>!y);A<u;A++)f.unshift(0);for(;A<0;A++)f.unshift(0);A>0?m=f.splice(A,f.length):(m=f,f=[0]);const g=[];for(f.length>=e.lgSize&&g.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)g.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&g.unshift(f.join("")),a=g.join(Uh(t,r)),m.length&&(a+=Uh(t,i)+m.join("")),p&&(a+=Uh(t,Ea.Exponential)+"+"+p)}else a=Uh(t,Ea.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function dL(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const h=l.charAt(u);"0"===h?t.minFrac=t.maxFrac=u+1:"#"===h?t.maxFrac=u+1:t.posSuf+=h}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=i.length-t.posPre.length-t.posSuf.length,h=s.indexOf("#");t.negPre=s.substring(0,h).replace(/'/g,""),t.negSuf=s.slice(h+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function aL(n,e){return Fc(n)[co.NumberFormats][e]}(e,NM.Decimal),Uh(e,Ea.MinusSign)),e,Ea.Group,Ea.Decimal,t)}(function wL(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw jf()}}static{this.\u0275fac=function(r){return new(r||n)(pt(jd,16))}}static{this.\u0275pipe=Yl({name:"number",type:n,pure:!0,standalone:!0})}}return n})();let Pg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();const iq="browser",jye="server";function GM(n){return n===iq}function CL(n){return n===jye}let $ye=(()=>{class n{static{this.\u0275prov=Rt({token:n,providedIn:"root",factory:()=>GM(Ve(Rh))?new Kye(Ve(Xi),window):new Yye})}}return n})();class Kye{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function Xye(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}class Yye{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class sq{}function Aq(n){return n&&fn(n.schedule)}function xL(n){return n[n.length-1]}function $M(n){return fn(xL(n))?n.pop():void 0}function xS(n){return Aq(xL(n))?n.pop():void 0}function Lg(n){return this instanceof Lg?(this.v=n,this):new Lg(n)}function vq(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function TL(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const NL=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function yq(n){return fn(n?.then)}function _q(n){return fn(n[Vo])}function bq(n){return Symbol.asyncIterator&&fn(n?.[Symbol.asyncIterator])}function wq(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Cq=function J_e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Sq(n){return fn(n?.[Cq])}function xq(n){return function mq(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(f){return function(A){return Promise.resolve(A).then(f,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,A){r[f]&&(i[f]=function(p){return new Promise(function(m,g){s.push([f,p,m,g])>1||l(f,p)})},A&&(i[f]=A(i[f])))}function l(f,A){try{!function c(f){f.value instanceof Lg?Promise.resolve(f.value.v).then(u,h):d(s[0][2],f)}(r[f](A))}catch(p){d(s[0][3],p)}}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,A){f(A),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Lg(t.read());if(i)return yield Lg(void 0);yield yield Lg(r)}}finally{t.releaseLock()}})}function Eq(n){return fn(n?.getReader)}function Ga(n){if(n instanceof di)return n;if(null!=n){if(_q(n))return function Z_e(n){return new di(e=>{const t=n[Vo]();if(fn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(NL(n))return function e1e(n){return new di(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(yq(n))return function t1e(n){return new di(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Wl)})}(n);if(bq(n))return Dq(n);if(Sq(n))return function n1e(n){return new di(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Eq(n))return function r1e(n){return Dq(xq(n))}(n)}throw wq(n)}function Dq(n){return new di(e=>{(function i1e(n,e){var t,r,i,s;return function pq(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=vq(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function qd(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Mq(n,e=0){return ki((t,r)=>{t.subscribe(Hi(r,i=>qd(r,n,()=>r.next(i),e),()=>qd(r,n,()=>r.complete(),e),i=>qd(r,n,()=>r.error(i),e)))})}function Tq(n,e=0){return ki((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Bq(n,e){if(!n)throw new Error("Iterable cannot be null");return new di(t=>{qd(t,e,()=>{const r=n[Symbol.asyncIterator]();qd(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Po(n,e){return e?function u1e(n,e){if(null!=n){if(_q(n))return function s1e(n,e){return Ga(n).pipe(Tq(e),Mq(e))}(n,e);if(NL(n))return function a1e(n,e){return new di(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(yq(n))return function o1e(n,e){return Ga(n).pipe(Tq(e),Mq(e))}(n,e);if(bq(n))return Bq(n,e);if(Sq(n))return function l1e(n,e){return new di(t=>{let r;return qd(t,e,()=>{r=n[Cq](),qd(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>fn(r?.return)&&r.return()})}(n,e);if(Eq(n))return function c1e(n,e){return Bq(xq(n),e)}(n,e)}throw wq(n)}(n,e):Ga(n)}function kn(...n){return Po(n,xS(n))}function ja(n,e,t=1/0){return fn(e)?ja((r,i)=>Tr((s,o)=>e(r,s,i,o))(Ga(n(r,i))),t):("number"==typeof e&&(t=e),ki((r,i)=>function h1e(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&e.complete()},f=p=>c<r?A(p):l.push(p),A=p=>{s&&e.next(p),c++;let m=!1;Ga(t(p,u++)).subscribe(Hi(e,g=>{i?.(g),s?f(g):e.next(g)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const g=l.shift();o?qd(e,o,()=>A(g)):A(g)}d()}catch(g){e.error(g)}}))};return n.subscribe(Hi(e,f,()=>{h=!0,d()})),()=>{a?.()}}(r,i,n,t)))}function Ug(n,e){return fn(e)?ja(n,e,1):ja(n,1)}function O_(n){return ki((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Oc(n,e){return ki((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Hi(r,l=>{i?.unsubscribe();let c=0;const u=s++;Ga(n(l,u)).subscribe(i=Hi(r,h=>r.next(e?e(l,h,u,c++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function vo(n,e,t){const r=fn(n)||e||t?{next:n,error:e,complete:t}:n;return r?ki((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Hi(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):gs}class KM{}class XM{}class xo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof xo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new xo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof xo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class f1e{encodeKey(e){return Nq(e)}encodeValue(e){return Nq(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const A1e=/%(\d[a-f0-9])/gi,p1e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Nq(n){return encodeURIComponent(n).replace(A1e,(e,t)=>p1e[t]??e)}function YM(n){return`${n}`}class eh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new f1e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function d1e(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(YM):[YM(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new eh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(YM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(YM(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class g1e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Iq(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Fq(n){return typeof Blob<"u"&&n instanceof Blob}function Rq(n){return typeof FormData<"u"&&n instanceof FormData}class XA{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function m1e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new xo,this.context??=new g1e,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new eh,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||Iq(this.body)||Fq(this.body)||Rq(this.body)||function v1e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof eh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Rq(this.body)?null:Fq(this.body)?this.body.type||null:Iq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof eh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),u)),new XA(t,r,o,{params:u,headers:c,context:h,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}}var YA=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(YA||{});class IL{constructor(e,t=ES.Ok,r="OK"){this.headers=e.headers||new xo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class JM extends IL{constructor(e={}){super(e),this.type=YA.ResponseHeader}clone(e={}){return new JM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class JA extends IL{constructor(e={}){super(e),this.type=YA.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new JA({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class P_ extends IL{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var ES=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(ES||{});function FL(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let zv=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof XA)s=t;else{let l,c;l=i.headers instanceof xo?i.headers:new xo(i.headers),i.params&&(c=i.params instanceof eh?i.params:new eh({fromObject:i.params})),s=new XA(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const o=kn(s).pipe(Ug(l=>this.handler.handle(l)));if(t instanceof XA||"events"===i.observe)return o;const a=o.pipe(Bi(l=>l instanceof JA));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Tr(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Tr(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Tr(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Tr(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new eh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,FL(i,r))}post(t,r,i={}){return this.request("POST",t,FL(i,r))}put(t,r,i={}){return this.request("PUT",t,FL(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Ut(KM))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();function Pq(n,e){return e(n)}function C1e(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const PL=new yn(""),DS=new yn(""),Lq=new yn(""),Uq=new yn("");function x1e(){let n=null;return(e,t)=>{null===n&&(n=(Ve(PL,{optional:!0})??[]).reduceRight(C1e,Pq));const r=Ve(Tg),i=r.add();return n(e,t).pipe(O_(()=>r.remove(i)))}}let kq=(()=>{class n extends KM{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Ve(Tg);const i=Ve(Uq,{optional:!0});this.backend=i??t}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(DS),...this.injector.get(Lq,[])]));this.chain=i.reduceRight((s,o)=>function S1e(n,e,t){return(r,i)=>Eh(t,()=>e(r,s=>n(s,i)))}(s,o,this.injector),Pq)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(O_(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(Ut(XM),Ut(ka))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();const B1e=/^\)\]\}',?\n/;let Vq=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new dt(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Po(r.\u0275loadImpl()):kn(null)).pipe(Oc(()=>new di(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((p,m)=>o.setRequestHeader(p,m.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const p=t.detectContentTypeHeader();null!==p&&o.setRequestHeader("Content-Type",p)}if(t.responseType){const p=t.responseType.toLowerCase();o.responseType="json"!==p?p:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const p=o.statusText||"OK",m=new xo(o.getAllResponseHeaders()),g=function N1e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new JM({headers:m,status:o.status,statusText:p,url:g}),l},u=()=>{let{headers:p,status:m,statusText:g,url:y}=c(),v=null;m!==ES.NoContent&&(v=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=v?ES.Ok:0);let _=m>=200&&m<300;if("json"===t.responseType&&"string"==typeof v){const C=v;v=v.replace(B1e,"");try{v=""!==v?JSON.parse(v):null}catch(b){v=C,_&&(_=!1,v={error:b,text:v})}}_?(s.next(new JA({body:v,headers:p,status:m,statusText:g,url:y||void 0})),s.complete()):s.error(new P_({error:v,headers:p,status:m,statusText:g,url:y||void 0}))},h=p=>{const{url:m}=c(),g=new P_({error:p,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});s.error(g)};let d=!1;const f=p=>{d||(s.next(c()),d=!0);let m={type:YA.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),"text"===t.responseType&&o.responseText&&(m.partialText=o.responseText),s.next(m)},A=p=>{let m={type:YA.UploadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),s.next(m)};return o.addEventListener("load",u),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),t.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",A)),o.send(a),s.next({type:YA.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",u),o.removeEventListener("timeout",h),t.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",A)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Ut(sq))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();const LL=new yn(""),Qq=new yn("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zq=new yn("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Gq{}let R1e=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yj(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Ut(Xi),Ut(Rh),Ut(Qq))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();function O1e(n,e){const t=n.url.toLowerCase();if(!Ve(LL)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=Ve(Gq).getToken(),i=Ve(zq);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var kg=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(kg||{});function Gv(n,e){return{\u0275kind:n,\u0275providers:e}}function P1e(...n){const e=[zv,Vq,kq,{provide:KM,useExisting:kq},{provide:XM,useExisting:Vq},{provide:DS,useValue:O1e,multi:!0},{provide:LL,useValue:!0},{provide:Gq,useClass:R1e}];for(const t of n)e.push(...t.\u0275providers);return TA(e)}const jq=new yn("");let U1e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({providers:[P1e(Gv(kg.LegacyInterceptors,[{provide:jq,useFactory:x1e},{provide:DS,useExisting:jq,multi:!0}]))]})}}return n})();const qq="b",Wq="h",$q="s",Kq="st",Xq="u",Yq="rt",ZM=new yn(""),k1e=["GET","HEAD"];function H1e(n,e){const{isCacheActive:t,...r}=Ve(ZM),{transferCache:i,method:s}=n;if(!t||"POST"===s&&!r.includePostRequests&&!i||"POST"!==s&&!k1e.includes(s)||!1===i||!1===r.filter?.(n))return e(n);const o=Ve(Zy),a=function Q1e(n){const{params:e,method:t,responseType:r,url:i}=n,s=Jq(e);let o=n.serializeBody();o instanceof URLSearchParams?o=Jq(o):"string"!=typeof o&&(o="");const l=function z1e(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)|0;return e+=2147483648,e.toString()}([t,r,i,o,s].join("|"));return l}(n),l=o.get(a,null);let c=r.includeHeaders;if("object"==typeof i&&i.includeHeaders&&(c=i.includeHeaders),l){const{[qq]:h,[Yq]:d,[Wq]:f,[$q]:A,[Kq]:p,[Xq]:m}=l;let g=h;switch(d){case"arraybuffer":g=(new TextEncoder).encode(h).buffer;break;case"blob":g=new Blob([h])}let y=new xo(f);return kn(new JA({body:g,headers:y,status:A,statusText:p,url:m}))}const u=CL(Ve(Rh));return e(n).pipe(vo(h=>{h instanceof JA&&u&&o.set(a,{[qq]:h.body,[Wq]:V1e(h.headers,c),[$q]:h.status,[Kq]:h.statusText,[Xq]:h.url||"",[Yq]:n.responseType})}))}function V1e(n,e){if(!e)return{};const t={};for(const r of e){const i=n.getAll(r);null!==i&&(t[r]=i)}return t}function Jq(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function G1e(n){return[{provide:ZM,useFactory:()=>(Rf("NgHttpTransferCache"),{isCacheActive:!0,...n})},{provide:Lq,useValue:H1e,multi:!0,deps:[Zy,ZM]},{provide:_M,multi:!0,useFactory:()=>{const e=Ve(Qf),t=Ve(ZM);return()=>{$G(e).then(()=>{t.isCacheActive=!1})}}}]}class j1e extends I0e{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class UL extends j1e{static makeCurrent(){!function N0e(n){Pj??=n}(new UL)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function q1e(){return MS=MS||document.querySelector("base"),MS?MS.getAttribute("href"):null}();return null==t?null:function W1e(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){MS=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yj(document.cookie,e)}}let MS=null,K1e=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();const kL=new yn("");let Zq=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new dt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Ut(kL),Ut(Cr))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();class eW{constructor(e){this._doc=e}}const HL="ng-app-id";let tW=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=CL(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${HL}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(HL),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(HL,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Xi),Ut(wD),Ut(sQ,8),Ut(Rh))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();const VL={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},QL=/%COMP%/g,Z1e=new yn("",{providedIn:"root",factory:()=>!0});function rW(n,e){return e.map(t=>t.replace(QL,n))}let zL=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=CL(a),this.defaultRenderer=new GL(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===au.ShadowDom&&(r={...r,encapsulation:au.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof sW?i.applyToHost(t):i instanceof jL&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case au.Emulated:s=new sW(l,c,r,this.appId,u,o,a,h);break;case au.ShadowDom:return new rbe(l,c,t,r,o,a,this.nonce,h);default:s=new jL(l,c,r,u,o,a,h)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Ut(Zq),Ut(tW),Ut(wD),Ut(Z1e),Ut(Xi),Ut(Rh),Ut(Cr),Ut(sQ))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();class GL{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(VL[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(iW(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(iW(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new dt(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=VL[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=VL[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Eg.DashCase|Eg.Important)?e.style.setProperty(t,r,i&Eg.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Eg.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Og().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function iW(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class rbe extends GL{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=rW(i.id,i.styles);for(const u of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jL extends GL{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?rW(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class sW extends jL{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function ebe(n){return"_ngcontent-%COMP%".replace(QL,n)}(c),this.hostAttr=function tbe(n){return"_nghost-%COMP%".replace(QL,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let ibe=(()=>{class n extends eW{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Xi))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();const oW=["alt","control","meta","shift"],sbe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},obe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let abe=(()=>{class n extends eW{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Og().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),oW.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=sbe[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oW.forEach(o=>{o!==i&&(0,obe[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Ut(Xi))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();const lW=[{provide:Rh,useValue:iq},{provide:iQ,useValue:function lbe(){UL.makeCurrent()},multi:!0},{provide:Xi,useFactory:function ube(){return function $ue(n){jO=n}(document),document},deps:[]}],hbe=tj(qve,"browser",lW),fbe=new yn(""),cW=[{provide:vM,useClass:class $1e{addToWindow(e){ls.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new dt(5103,!1);return s},ls.getAllAngularTestabilities=()=>e.getAllTestabilities(),ls.getAllAngularRootElements=()=>e.getAllRootElements(),ls.frameworkStabilizers||(ls.frameworkStabilizers=[]),ls.frameworkStabilizers.push(r=>{const i=ls.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Og().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:zG,useClass:z5,deps:[Cr,G5,vM]},{provide:z5,useClass:z5,deps:[Cr,G5,vM]}],uW=[{provide:Gw,useValue:"root"},{provide:Wu,useFactory:function cbe(){return new Wu},deps:[]},{provide:kL,useClass:ibe,multi:!0,deps:[Xi,Cr,Rh]},{provide:kL,useClass:abe,multi:!0,deps:[Xi]},zL,tW,Zq,{provide:HP,useExisting:zL},{provide:sq,useClass:K1e,deps:[]},[]];let hW=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:wD,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(Ut(fbe,12))}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({providers:[...uW,...cW],imports:[Pg,Wve]})}}return n})(),eT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Ut(Xi))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var TS=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n}(TS||{});function gbe(...n){const e=[],t=new Set,r=t.has(TS.HttpTransferCacheOptions);for(const{\u0275providers:i,\u0275kind:s}of n)t.add(s),i.length&&e.push(i);return TA([[],h0e(),t.has(TS.NoHttpTransferCache)||r?[]:G1e({}),e])}const{isArray:mbe}=Array,{getPrototypeOf:vbe,prototype:ybe,keys:_be}=Object;function pW(n){if(1===n.length){const e=n[0];if(mbe(e))return{args:e,keys:null};if(function bbe(n){return n&&"object"==typeof n&&vbe(n)===ybe}(e)){const t=_be(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:wbe}=Array;function qL(n){return Tr(e=>function Cbe(n,e){return wbe(e)?n(...e):n(e)}(n,e))}function gW(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let mW=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(pt(Ff),pt(N))}}static{this.\u0275dir=mn({type:n})}}return n})(),jv=(()=>{class n extends mW{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fs(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,features:[is]})}}return n})();const Hh=new yn(""),Ebe={provide:Hh,useExisting:cs(()=>ZA),multi:!0},Mbe=new yn("");let ZA=(()=>{class n extends mW{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dbe(){const n=Og()?Og().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(pt(Ff),pt(N),pt(Mbe,8))}}static{this.\u0275dir=mn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&qt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Zs([Ebe]),is]})}}return n})();function Hg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function yW(n){return null!=n&&"number"==typeof n.length}const Fl=new yn(""),Vg=new yn(""),Tbe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Bbe{static min(e){return function _W(n){return e=>{if(Hg(e.value)||Hg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function bW(n){return e=>{if(Hg(e.value)||Hg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return wW(e)}static requiredTrue(e){return function CW(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function SW(n){return Hg(n.value)||Tbe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function xW(n){return e=>Hg(e.value)||!yW(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return EW(e)}static pattern(e){return function DW(n){if(!n)return tT;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Hg(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return FW(e)}static composeAsync(e){return RW(e)}}function wW(n){return Hg(n.value)?{required:!0}:null}function EW(n){return e=>yW(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function tT(n){return null}function MW(n){return null!=n}function TW(n){return yS(n)?Po(n):n}function BW(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function NW(n,e){return e.map(t=>t(n))}function IW(n){return n.map(e=>function Nbe(n){return!n.validate}(e)?e:t=>e.validate(t))}function FW(n){if(!n)return null;const e=n.filter(MW);return 0==e.length?null:function(t){return BW(NW(t,e))}}function WL(n){return null!=n?FW(IW(n)):null}function RW(n){if(!n)return null;const e=n.filter(MW);return 0==e.length?null:function(t){return function Sbe(...n){const e=$M(n),{args:t,keys:r}=pW(n),i=new di(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;Ga(t[u]).subscribe(Hi(s,d=>{h||(h=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(r?gW(r,a):a),s.complete())}))}});return e?i.pipe(qL(e)):i}(NW(t,e).map(TW)).pipe(Tr(BW))}}function $L(n){return null!=n?RW(IW(n)):null}function OW(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function PW(n){return n._rawValidators}function LW(n){return n._rawAsyncValidators}function KL(n){return n?Array.isArray(n)?n:[n]:[]}function nT(n,e){return Array.isArray(n)?n.includes(e):n===e}function UW(n,e){const t=KL(e);return KL(n).forEach(i=>{nT(t,i)||t.push(i)}),t}function kW(n,e){return KL(e).filter(t=>!nT(n,t))}class HW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$L(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pc extends HW{get formDirective(){return null}get path(){return null}}class Qg extends HW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VW{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qv=(()=>{class n extends VW{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(pt(Qg,2))}}static{this.\u0275dir=mn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ci("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[is]})}}return n})(),L_=(()=>{class n extends VW{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(pt(Pc,10))}}static{this.\u0275dir=mn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ci("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[is]})}}return n})();const BS="VALID",iT="INVALID",U_="PENDING",NS="DISABLED";function JL(n){return(sT(n)?n.validators:n)||null}function ZL(n,e){return(sT(e)?e.asyncValidators:n)||null}function sT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function zW(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new dt(1e3,"");if(!r[t])throw new dt(1001,"")}function GW(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new dt(1002,"")})}class oT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===BS}get invalid(){return this.status===iT}get pending(){return this.status==U_}get disabled(){return this.status===NS}get enabled(){return this.status!==NS}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(UW(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(UW(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kW(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kW(e,this._rawAsyncValidators))}hasValidator(e){return nT(this._rawValidators,e)}hasAsyncValidator(e){return nT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=U_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=NS,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=BS,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===BS||this.status===U_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?NS:BS}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=U_,this._hasOwnPendingAsyncValidator=!0;const t=TW(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ie,this.statusChanges=new ie}_calculateStatus(){return this._allControlsDisabled()?NS:this.errors?iT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(U_)?U_:this._anyControlsHaveStatus(iT)?iT:BS}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Obe(n){return Array.isArray(n)?WL(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Pbe(n){return Array.isArray(n)?$L(n):n||null}(this._rawAsyncValidators)}}class IS extends oT{constructor(e,t,r){super(JL(t),ZL(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){GW(this,0,e),Object.keys(e).forEach(r=>{zW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class jW extends IS{}const Wv=new yn("CallSetDisabledState",{providedIn:"root",factory:()=>FS}),FS="always";function aT(n,e){return[...e.path,n]}function RS(n,e,t=FS){e3(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Ube(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qW(n,e)})}(n,e),function Hbe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function kbe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qW(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Lbe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function lT(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),uT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function e3(n,e){const t=PW(n);null!==e.validator?n.setValidators(OW(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=LW(n);null!==e.asyncValidator?n.setAsyncValidators(OW(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();cT(e._rawValidators,i),cT(e._rawAsyncValidators,i)}function uT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=PW(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=LW(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return cT(e._rawValidators,r),cT(e._rawAsyncValidators,r),t}function qW(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WW(n,e){e3(n,e)}function n3(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function $W(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function r3(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ZA?t=s:function zbe(n){return Object.getPrototypeOf(n.constructor)===jv}(s)?r=s:i=s}),i||r||t||null}const jbe={provide:Pc,useExisting:cs(()=>$v)},OS=Promise.resolve();let $v=(()=>{class n extends Pc{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ie,this.form=new IS({},WL(t),$L(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){OS.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),RS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){OS.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){OS.then(()=>{const r=this._findContainer(t.path),i=new IS({});WW(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){OS.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){OS.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,$W(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(pt(Fl,10),pt(Vg,10),pt(Wv,8))}}static{this.\u0275dir=mn({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&qt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[Rr.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zs([jbe]),is]})}}return n})();function KW(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function XW(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const PS=class extends oT{constructor(e=null,t,r){super(JL(t),ZL(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=XW(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){XW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},$be={provide:Qg,useExisting:cs(()=>Kv)},ZW=Promise.resolve();let Kv=(()=>{class n extends Qg{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new PS,this._registered=!1,this.name="",this.update=new ie,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=r3(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),n3(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){RS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ZW.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Nl(r);ZW.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?aT(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(pt(Pc,9),pt(Fl,10),pt(Vg,10),pt(Hh,10),pt(zf,8),pt(Wv,8))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Rr.None,"disabled","isDisabled"],model:[Rr.None,"ngModel","model"],options:[Rr.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zs([$be]),is,Io]})}}return n})(),k_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const i3=new yn(""),ewe={provide:Pc,useExisting:cs(()=>hT)};let hT=(()=>{class n extends Pc{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ie,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(uT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return RS(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){lT(t.control||null,t,!1),function Gbe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,$W(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(lT(r||null,t),(n=>n instanceof PS)(i)&&(RS(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);WW(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Vbe(n,e){return uT(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){e3(this.form,this),this._oldForm&&uT(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||n)(pt(Fl,10),pt(Vg,10),pt(Wv,8))}}static{this.\u0275dir=mn({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&qt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[Rr.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zs([ewe]),is,Io]})}}return n})();const rwe={provide:Qg,useExisting:cs(()=>a3)};let a3=(()=>{class n extends Qg{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new ie,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=r3(0,s)}ngOnChanges(t){this._added||this._setUpControl(),n3(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return aT(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(pt(Pc,13),pt(Fl,10),pt(Vg,10),pt(Hh,10),pt(i3,8))}}static{this.\u0275dir=mn({type:n,selectors:[["","formControlName",""]],inputs:{name:[Rr.None,"formControlName","name"],isDisabled:[Rr.None,"disabled","isDisabled"],model:[Rr.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zs([rwe]),is,Io]})}}return n})();const iwe={provide:Hh,useExisting:cs(()=>LS),multi:!0};function s$(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let LS=(()=>{class n extends jv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=s$(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function swe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fs(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&qt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zs([iwe]),is]})}}return n})(),Xv=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(s$(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(pt(N),pt(Ff),pt(LS,9))}}static{this.\u0275dir=mn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const owe={provide:Hh,useExisting:cs(()=>l3),multi:!0};function o$(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let l3=(()=>{class n extends jv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function awe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fs(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&qt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zs([owe]),is]})}}return n})(),Yv=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(o$(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(o$(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(pt(N),pt(Ff),pt(l3,9))}}static{this.\u0275dir=mn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let Jv=(()=>{class n{constructor(){this._validator=tT}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):tT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,features:[Io]})}}return n})();const uwe={provide:Fl,useExisting:cs(()=>fT),multi:!0};let fT=(()=>{class n extends Jv{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Nl,this.createValidator=t=>wW}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fs(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Ni("required",i._enabled?"":null)},inputs:{required:"required"},features:[Zs([uwe]),is]})}}return n})();const Awe={provide:Fl,useExisting:cs(()=>c3),multi:!0};let c3=(()=>{class n extends Jv{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function a$(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>EW(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fs(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ni("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Zs([Awe]),is]})}}return n})(),p$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();class g$ extends oT{constructor(e,t,r){super(JL(t),ZL(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){GW(this,0,e),e.forEach((r,i)=>{zW(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function m$(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let gwe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return m$(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new IS(i,s)}record(t,r=null){const i=this._reduceControls(t);return new jW(i,r)}control(t,r,i){let s={};return this.useNonNullable?(m$(r)?s=r:(s.validators=r,s.asyncValidators=i),new PS(t,{...s,nonNullable:!0})):new PS(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new g$(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof PS||t instanceof oT?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),v$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wv,useValue:t.callSetDisabledState??FS}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({imports:[p$]})}}return n})(),mwe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:i3,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Wv,useValue:t.callSetDisabledState??FS}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({imports:[p$]})}}return n})();var Dr=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Dr||{});const ep="*";function y$(n){return{type:Dr.Style,styles:n,offset:null}}class US{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class _${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function b$(n){return new dt(3e3,!1)}function zg(n){switch(n.length){case 0:return new US;case 1:return n[0];default:return new _$(n)}}function w$(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,h=u&&a||new Map;l.forEach((d,f)=>{let A=f,p=d;if("offset"!==f)switch(A=n.normalizePropertyName(A,i),p){case"!":p=t.get(f);break;case ep:p=r.get(f);break;default:p=n.normalizeStyleValue(f,A,p,i)}h.set(A,p)}),u||s.push(h),a=h,o=c}),i.length)throw function jwe(n){return new dt(3502,!1)}();return s}function h3(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&f3(t,"start",n)));break;case"done":n.onDone(()=>r(t&&f3(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&f3(t,"destroy",n)))}}function f3(n,e,t){const s=d3(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function d3(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function th(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function C$(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const rCe=typeof document>"u"?null:document.documentElement;function A3(n){const e=n.parentNode||n.host||null;return e===rCe?null:e}let Zv=null,S$=!1;function x$(n,e){for(;e;){if(e===n)return!0;e=A3(e)}return!1}function E$(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let p3=(()=>{class n{validateStyleProperty(t){return function sCe(n){Zv||(Zv=function oCe(){return typeof document<"u"?document.body:null}()||{},S$=!!Zv.style&&"WebkitAppearance"in Zv.style);let e=!0;return Zv.style&&!function iCe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Zv.style,!e&&S$&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Zv.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return x$(t,r)}getParentElement(t){return A3(t)}query(t,r,i){return E$(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new US(i,s)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();class g3{static{this.NOOP=new p3}}class m3{}const lCe=1e3,v3="ng-enter",dT="ng-leave",AT="ng-trigger",pT=".ng-trigger",M$="ng-animating",y3=".ng-animating";function tp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_3(parseFloat(e[1]),e[2])}function _3(n,e){return"s"===e?n*lCe:n}function gT(n,e,t){return n.hasOwnProperty("duration")?n:function uCe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(b$()),{duration:0,delay:0,easing:""};i=_3(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=_3(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Cwe(){return new dt(3100,!1)}()),a=!0),s<0&&(e.push(function Swe(){return new dt(3101,!1)}()),a=!0),a&&e.splice(l,0,b$())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Wd(n,e,t){e.forEach((r,i)=>{const s=w3(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function e0(n,e){e.forEach((t,r)=>{const i=w3(r);n.style[i]=""})}function kS(n){return Array.isArray(n)?1==n.length?n[0]:function vwe(n,e=null){return{type:Dr.Sequence,steps:n,options:e}}(n):n}const b3=new RegExp("{{\\s*(.+?)\\s*}}","g");function B$(n){let e=[];if("string"==typeof n){let t;for(;t=b3.exec(n);)e.push(t[1]);b3.lastIndex=0}return e}function HS(n,e,t){const r=`${n}`,i=r.replace(b3,(s,o)=>{let a=e[o];return null==a&&(t.push(function Ewe(n){return new dt(3003,!1)}()),a=""),a.toString()});return i==r?n:i}const dCe=/-+([a-z0-9])/g;function w3(n){return n.replace(dCe,(...e)=>e[1].toUpperCase())}function nh(n,e,t){switch(e.type){case Dr.Trigger:return n.visitTrigger(e,t);case Dr.State:return n.visitState(e,t);case Dr.Transition:return n.visitTransition(e,t);case Dr.Sequence:return n.visitSequence(e,t);case Dr.Group:return n.visitGroup(e,t);case Dr.Animate:return n.visitAnimate(e,t);case Dr.Keyframes:return n.visitKeyframes(e,t);case Dr.Style:return n.visitStyle(e,t);case Dr.Reference:return n.visitReference(e,t);case Dr.AnimateChild:return n.visitAnimateChild(e,t);case Dr.AnimateRef:return n.visitAnimateRef(e,t);case Dr.Query:return n.visitQuery(e,t);case Dr.Stagger:return n.visitStagger(e,t);default:throw function Dwe(n){return new dt(3004,!1)}()}}function C3(n,e){return window.getComputedStyle(n)[e]}const gCe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class N$ extends m3{normalizePropertyName(e,t){return w3(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(gCe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Mwe(n,e){return new dt(3005,!1)}())}return o+s}}const mT="*";const vT=new Set(["true","1"]),yT=new Set(["false","0"]);function I$(n,e){const t=vT.has(n)||yT.has(n),r=vT.has(e)||yT.has(e);return(i,s)=>{let o=n==mT||n==i,a=e==mT||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?vT.has(n):yT.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?vT.has(e):yT.has(e)),o&&a}}const _Ce=new RegExp("s*:selfs*,?","g");function S3(n,e,t,r){return new bCe(n).build(e,t,r)}class bCe{constructor(e){this._driver=e}build(e,t,r){const i=new SCe(t);return this._resetContextStyleTimingState(i),nh(this,kS(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Twe(){return new dt(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Dr.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==Dr.Transition){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function Bwe(){return new dt(3007,!1)}())}),{type:Dr.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{B$(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(function Nwe(n,e){return new dt(3008,!1)}(0,s.values()))}return{type:Dr.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=nh(this,kS(e.animation),t),i=function mCe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function vCe(n,e,t){if(":"==n[0]){const l=function yCe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Vwe(n){return new dt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Hwe(n){return new dt(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(I$(i,o)),"<"==s[0]&&(i!=mT||o!=mT)&&e.push(I$(o,i))}(r,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Dr.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:t0(e.options)}}visitSequence(e,t){return{type:Dr.Sequence,steps:e.steps.map(r=>nh(this,r,t)),options:t0(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=nh(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Dr.Group,steps:s,options:t0(e.options)}}visitAnimate(e,t){const r=function ECe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return x3(gT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=x3(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=gT(t,e);return x3(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:y$({});if(s.type==Dr.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=y$(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:Dr.Animate,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ep?r.push(a):t.errors.push(new dt(3002,!1)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:Dr.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let h=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function Fwe(n,e,t,r,i){return new dt(3010,!1)}()),h=!1),s=u.startTime),h&&c.set(l,{startTime:s,endTime:i}),t.options&&function fCe(n,e,t){const r=e.params||{},i=B$(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function xwe(n){return new dt(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:Dr.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Rwe(){return new dt(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(g=>{const y=this._makeStyleAst(g,t);let v=null!=y.offset?y.offset:function xCe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),_=0;return null!=v&&(s++,_=y.offset=v),l=l||_<0||_>1,a=a||_<c,c=_,o.push(_),y});l&&t.errors.push(function Owe(){return new dt(3012,!1)}()),a&&t.errors.push(function Pwe(){return new dt(3200,!1)}());const h=e.steps.length;let d=0;s>0&&s<h?t.errors.push(function Lwe(){return new dt(3202,!1)}()):0==s&&(d=1/(h-1));const f=h-1,A=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return u.forEach((g,y)=>{const v=d>0?y==f?1:d*y:o[y],_=v*m;t.currentTime=A+p.delay+_,p.duration=_,this._validateStyleAst(g,t),g.offset=v,r.styles.push(g)}),r}visitReference(e,t){return{type:Dr.Reference,animation:nh(this,kS(e.animation),t),options:t0(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Dr.AnimateChild,options:t0(e.options)}}visitAnimateRef(e,t){return{type:Dr.AnimateRef,animation:this.visitReference(e.animation,t),options:t0(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function wCe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(_Ce,"")),n=n.replace(/@\*/g,pT).replace(/@\w+/g,t=>pT+"-"+t.slice(1)).replace(/:animating/g,y3),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,th(t.collectedStyles,t.currentQuerySelector,new Map);const a=nh(this,kS(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Dr.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:t0(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Uwe(){return new dt(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:gT(e.timings,t.errors,!0);return{type:Dr.Stagger,animation:nh(this,kS(e.animation),t),timings:r,options:null}}}class SCe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function t0(n){return n?(n={...n}).params&&(n.params=function CCe(n){return n?{...n}:null}(n.params)):n={},n}function x3(n,e,t){return{duration:n,delay:e,easing:t}}function E3(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class _T{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const TCe=new RegExp(":enter","g"),NCe=new RegExp(":leave","g");function D3(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new ICe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class ICe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new _T;const h=new M3(e,t,c,i,s,u,[]);h.options=l;const d=l.delay?tp(l.delay):0;h.currentTimeline.delayNextStep(d),h.currentTimeline.setStyles([o],null,h.errors,l),nh(this,r,h);const f=h.timelines.filter(A=>A.containsAnimation());if(f.length&&a.size){let A;for(let p=f.length-1;p>=0;p--){const m=f[p];if(m.element===t){A=m;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([a],null,h.errors,l)}return f.length?f.map(A=>A.buildKeyframes()):[E3(t,[],[],[],0,d,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:tp(HS(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?tp(r.duration):null,a=null!=r.delay?tp(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),nh(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){i.previousNode.type==Dr.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bT);const o=tp(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>nh(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?tp(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),nh(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return gT(t.params?HS(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;s.type==Dr.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?tp(i.delay):0;s&&(t.previousNode.type===Dr.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bT);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),nh(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;nh(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}}const bT={};class M3{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new wT(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=tp(r.duration)),null!=r.delay&&(i.delay=tp(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=HS(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new M3(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=bT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new FCe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(TCe,"."+this._enterClassName)).replace(NCe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function kwe(n){return new dt(3014,!1)}()),a}}class wT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new wT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ep),this._currentKeyframe.set(t,ep);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function RCe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r??=e.keys();for(let s of r)t.set(s,ep)}else for(let[s,o]of i)t.set(s,o)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=HS(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ep),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{"!"===u?e.add(h):u===ep&&t.add(h)}),r||c.set("offset",l/this.duration),i.push(c)});const s=[...e.values()],o=[...t.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return E3(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class FCe extends wT{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);const c=new Map(e[0]);c.set("offset",O$(a)),s.push(c);const u=e.length-1;for(let h=1;h<=u;h++){let d=new Map(e[h]);const f=d.get("offset");d.set("offset",O$((t+f*r)/o)),s.push(d)}r=o,t=0,i="",e=s}return E3(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function O$(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function P$(n,e,t,r,i,s,o,a,l,c,u,h,d){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const T3={};class L${constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function OCe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const h=[],d=this.ast.options&&this.ast.options.params||T3,A=this.buildStyles(r,a&&a.params||T3,h),p=l&&l.params||T3,m=this.buildStyles(i,p,h),g=new Set,y=new Map,v=new Map,_="void"===i,C={params:U$(p,d),delay:this.ast.options?.delay},b=u?[]:D3(e,t,this.ast.animation,s,o,A,m,C,c,h);let M=0;return b.forEach(D=>{M=Math.max(D.duration+D.delay,M)}),h.length?P$(t,this._triggerName,r,i,_,A,m,[],[],y,v,M,h):(b.forEach(D=>{const x=D.element,T=th(y,x,new Set);D.preStyleProps.forEach(R=>T.add(R));const B=th(v,x,new Set);D.postStyleProps.forEach(R=>B.add(R)),x!==t&&g.add(x)}),P$(t,this._triggerName,r,i,_,A,m,b,[...g.values()],y,v,M))}}function U$(n,e){const t={...e};return Object.entries(n).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class PCe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=U$(e,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=HS(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class UCe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new PCe(i.style,i.options&&i.options.params||{},r))}),k$(this.states,"true","1"),k$(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new L$(e,i,this.states))}),this.fallbackTransition=function kCe(n,e,t){return new L$(n,{type:Dr.Transition,animation:{type:Dr.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function k$(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const HCe=new _T;class VCe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=S3(this._driver,t,r,[]);if(r.length)throw function qwe(n){return new dt(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=w$(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=D3(this._driver,t,s,v3,dT,new Map,new Map,r,HCe,i),o.forEach(u=>{const h=th(a,u.element,new Map);u.postStyleProps.forEach(d=>h.set(d,null))})):(i.push(function Wwe(){return new dt(3300,!1)}()),o=[]),i.length)throw function $we(n){return new dt(3504,!1)}();a.forEach((u,h)=>{u.forEach((d,f)=>{u.set(f,this._driver.computeStyle(h,f,ep))})});const c=zg(o.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,new Map,h)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Kwe(n){return new dt(3301,!1)}();return t}listen(e,t,r,i){const s=d3(t,"","","");return h3(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const H$="ng-animate-queued",B3="ng-animate-disabled",qCe=[],V$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},WCe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qf="__ng_removed";class N3{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function YCe(n){return n??null}(r?e.value:e),r){const{value:s,...o}=e;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const VS="void",I3=new N3(VS);class $Ce{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vh(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Xwe(n,e){return new dt(3302,!1)}();if(null==r||0==r.length)throw function Ywe(n){return new dt(3303,!1)}();if(!function JCe(n){return"start"==n||"done"==n}(r))throw function Jwe(n,e){return new dt(3400,!1)}();const s=th(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=th(this._engine.statesByElement,e,new Map);return a.has(t)||(Vh(e,AT),Vh(e,AT+"-"+t),a.set(t,I3)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Zwe(n){return new dt(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new F3(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Vh(e,AT),Vh(e,AT+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new N3(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=I3),c.value!==VS&&l.value===c.value){if(!function tSe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const p=[],m=s.matchStyles(l.value,l.params,p),g=s.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(()=>{e0(e,m),Wd(e,g)})}return}const d=th(this._engine.playersByElement,e,[]);d.forEach(p=>{p.namespaceId==this.id&&p.triggerName==t&&p.queued&&p.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),A=!1;if(!f){if(!i)return;f=s.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:A}),A||(Vh(e,H$),o.onStart(()=>{H_(e,H$)})),o.onDone(()=>{let p=this.players.indexOf(o);p>=0&&this.players.splice(p,1);const m=this._engine.playersByElement.get(e);if(m){let g=m.indexOf(o);g>=0&&m.splice(g,1)}}),this.players.push(o),d.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,pT,!0);r.forEach(i=>{if(i[qf])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,VS,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&zg(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||I3,u=new N3(VS),h=new F3(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[qf];(!s||s===V$)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Vh(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=d3(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,h3(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class KCe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new $Ce(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(CT(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!CT(t))return;const s=t[qf];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vh(e,B3)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),H_(e,B3))}removeNode(e,t,r){if(CT(t)){this.scheduler?.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[qf]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return CT(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,pT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,y3,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zg(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[qf];if(t&&t.setForRemoval){if(e[qf]=V$,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(B3)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Vh(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?zg(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function eCe(n){return new dt(3402,!1)}()}_flushAnimations(e,t){const r=new _T,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const P=this.driver.query(O,".ng-animate-queued",!0);for(let G=0;G<P.length;G++)u.add(P[G])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=G$(d,this.collectedEnterElements),A=new Map;let p=0;f.forEach((O,P)=>{const G=v3+p++;A.set(P,G),O.forEach(H=>Vh(H,G))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const P=this.collectedLeaveElements[O],G=P[qf];G&&G.setForRemoval&&(m.push(P),g.add(P),G.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(H=>g.add(H)):y.add(P))}const v=new Map,_=G$(d,Array.from(g));_.forEach((O,P)=>{const G=dT+p++;v.set(P,G),O.forEach(H=>Vh(H,G))}),e.push(()=>{f.forEach((O,P)=>{const G=A.get(P);O.forEach(H=>H_(H,G))}),_.forEach((O,P)=>{const G=v.get(P);O.forEach(H=>H_(H,G))}),m.forEach(O=>{this.processLeaveNode(O)})});const C=[],b=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(G=>{const H=G.player,ae=G.element;if(C.push(H),this.collectedEnterElements.length){const le=ae[qf];if(le&&le.setForMove){if(le.previousTriggersValues&&le.previousTriggersValues.has(G.triggerName)){const te=le.previousTriggersValues.get(G.triggerName),ee=this.statesByElement.get(G.element);if(ee&&ee.has(G.triggerName)){const Ae=ee.get(G.triggerName);Ae.value=te,ee.set(G.triggerName,Ae)}}return void H.destroy()}}const ve=!h||!this.driver.containsElement(h,ae),Q=v.get(ae),j=A.get(ae),K=this._buildInstruction(G,r,j,Q,ve);if(K.errors&&K.errors.length)return void b.push(K);if(ve)return H.onStart(()=>e0(ae,K.fromStyles)),H.onDestroy(()=>Wd(ae,K.toStyles)),void i.push(H);if(G.isFallbackTransition)return H.onStart(()=>e0(ae,K.fromStyles)),H.onDestroy(()=>Wd(ae,K.toStyles)),void i.push(H);const oe=[];K.timelines.forEach(le=>{le.stretchStartingKeyframe=!0,this.disabledNodes.has(le.element)||oe.push(le)}),K.timelines=oe,r.append(ae,K.timelines),o.push({instruction:K,player:H,element:ae}),K.queriedElements.forEach(le=>th(a,le,[]).push(H)),K.preStyleProps.forEach((le,te)=>{if(le.size){let ee=l.get(te);ee||l.set(te,ee=new Set),le.forEach((Ae,Se)=>ee.add(Se))}}),K.postStyleProps.forEach((le,te)=>{let ee=c.get(te);ee||c.set(te,ee=new Set),le.forEach((Ae,Se)=>ee.add(Se))})});if(b.length){const O=[];b.forEach(P=>{O.push(function tCe(n,e){return new dt(3505,!1)}())}),C.forEach(P=>P.destroy()),this.reportError(O)}const M=new Map,D=new Map;o.forEach(O=>{const P=O.element;r.has(P)&&(D.set(P,P),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,M))}),i.forEach(O=>{const P=O.element;this._getPreviousPlayers(P,!1,O.namespaceId,O.triggerName,null).forEach(H=>{th(M,P,[]).push(H),H.destroy()})});const x=m.filter(O=>q$(O,l,c)),T=new Map;z$(T,this.driver,y,c,ep).forEach(O=>{q$(O,l,c)&&x.push(O)});const R=new Map;f.forEach((O,P)=>{z$(R,this.driver,new Set(O),l,"!")}),x.forEach(O=>{const P=T.get(O),G=R.get(O);T.set(O,new Map([...P?.entries()??[],...G?.entries()??[]]))});const U=[],k=[],q={};o.forEach(O=>{const{element:P,player:G,instruction:H}=O;if(r.has(P)){if(u.has(P))return G.onDestroy(()=>Wd(P,H.toStyles)),G.disabled=!0,G.overrideTotalTime(H.totalTime),void i.push(G);let ae=q;if(D.size>1){let Q=P;const j=[];for(;Q=Q.parentNode;){const K=D.get(Q);if(K){ae=K;break}j.push(Q)}j.forEach(K=>D.set(K,ae))}const ve=this._buildAnimation(G.namespaceId,H,M,s,R,T);if(G.setRealPlayer(ve),ae===q)U.push(G);else{const Q=this.playersByElement.get(ae);Q&&Q.length&&(G.parentPlayer=zg(Q)),i.push(G)}}else e0(P,H.fromStyles),G.onDestroy(()=>Wd(P,H.toStyles)),k.push(G),u.has(P)&&i.push(G)}),k.forEach(O=>{const P=s.get(O.element);if(P&&P.length){const G=zg(P);O.setRealPlayer(G)}}),i.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<m.length;O++){const P=m[O],G=P[qf];if(H_(P,dT),G&&G.hasAnimation)continue;let H=[];if(a.size){let ve=a.get(P);ve&&ve.length&&H.push(...ve);let Q=this.driver.query(P,y3,!0);for(let j=0;j<Q.length;j++){let K=a.get(Q[j]);K&&K.length&&H.push(...K)}}const ae=H.filter(ve=>!ve.destroyed);ae.length?ZCe(this,P,ae):this.processLeaveNode(P)}return m.length=0,U.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const P=this.players.indexOf(O);this.players.splice(P,1)}),O.play()}),U}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==VS;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,h=th(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const A=f.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),f.destroy(),h.push(f)})}e0(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,d=t.timelines.map(A=>{const p=A.element;u.add(p);const m=p[qf];if(m&&m.removedBeforeQueried)return new US(A.duration,A.delay);const g=p!==l,y=function eSe(n){const e=[];return j$(n,e),e}((r.get(p)||qCe).map(M=>M.getRealPlayer())).filter(M=>!!M.element&&M.element===p),v=s.get(p),_=o.get(p),C=w$(this._normalizer,A.keyframes,v,_),b=this._buildPlayer(A,C,y);if(A.subTimeline&&i&&h.add(p),g){const M=new F3(e,a,p);M.setRealPlayer(b),c.push(M)}return b});c.forEach(A=>{th(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function XCe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,A.element,A))}),u.forEach(A=>Vh(A,M$));const f=zg(d);return f.onDestroy(()=>{u.forEach(A=>H_(A,M$)),Wd(l,t.toStyles)}),h.forEach(A=>{th(i,A,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new US(e.duration,e.delay)}}class F3{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new US,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>h3(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){th(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function CT(n){return n&&1===n.nodeType}function Q$(n,e){const t=n.style.display;return n.style.display=e??"none",t}function z$(n,e,t,r,i){const s=[];t.forEach(l=>s.push(Q$(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(h=>{const d=e.computeStyle(c,h,i);u.set(h,d),(!d||0==d.length)&&(c[qf]=WCe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>Q$(l,s[a++])),o}function G$(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Vh(n,e){n.classList?.add(e)}function H_(n,e){n.classList?.remove(e)}function ZCe(n,e,t){zg(t).onDone(()=>n.processLeaveNode(e))}function j$(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof _$?j$(r.players,e):e.push(r)}}function q$(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class QS{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new KCe(e.body,t,r,i),this._timelineEngine=new VCe(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=S3(this._driver,s,l,[]);if(l.length)throw function Gwe(n,e){return new dt(3404,!1)}();a=function LCe(n,e,t){return new UCe(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=C$(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=C$(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class zS{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=zS.initialStylesByElement.get(e);i||zS.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Wd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wd(this._element,this._initialStyles),this._endStyles&&(Wd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(zS.initialStylesByElement.delete(this._element),this._startStyles&&(e0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(e0(this._element,this._endStyles),this._endStyles=null),Wd(this._element,this._initialStyles),this._state=3)}}function R3(n){let e=null;return n.forEach((t,r)=>{(function rSe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class W${constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:C3(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return x$(e,t)}getParentElement(e){return A3(e)}query(e,t,r){return E$(e,t,r)}computeStyle(e,t,r){return C3(e,t)}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof W$);(function ACe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((A,p)=>c.set(p,A))});let h=function hCe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(f=>new Map(f));h=function pCe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,C3(n,a)))}}return e}(e,h,c);const d=function nSe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=R3(e[0]),e.length>1&&(r=R3(e[e.length-1]))):e instanceof Map&&(t=R3(e)),t||r?new zS(n,t,r):null}(e,h);return new W$(e,h,l,d)}}const K$="@.disabled";class X${constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==K$?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class iSe extends X${constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==K$?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function sSe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function oSe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}class aSe{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const c=this._rendererCache;let u=c.get(i);return u||(u=new X$("",i,this.engine,()=>c.delete(i)),c.set(i,u)),u}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new iSe(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let lSe=(()=>{class n extends QS{constructor(t,r,i){super(t,r,i,Ve(WD,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(Ut(Xi),Ut(g3),Ut(m3))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();const Y$=[{provide:m3,useFactory:function cSe(){return new N$}},{provide:QS,useClass:lSe},{provide:HP,useFactory:function uSe(n,e,t){return new aSe(n,e,t)},deps:[zL,QS,Cr]}],O3=[{provide:g3,useFactory:()=>new $$},{provide:qO,useValue:"BrowserAnimations"},...Y$],J$=[{provide:g3,useClass:p3},{provide:qO,useValue:"NoopAnimations"},...Y$];let hSe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?J$:O3}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({providers:O3,imports:[hW]})}}return n})();function xT(...n){const e=xS(n),t=$M(n),{args:r,keys:i}=pW(n);if(0===r.length)return Po([],e);const s=new di(function dSe(n,e,t=gs){return r=>{Z$(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)Z$(e,()=>{const c=Po(n[l],e);let u=!1;c.subscribe(Hi(r,h=>{s[l]=h,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>gW(i,o):gs));return t?s.pipe(qL(t)):s}function Z$(n,e,t){n?qd(t,n,e):e()}function V_(n=1/0){return ja(gs,n)}function GS(...n){return function ASe(){return V_(1)}()(Po(n,xS(n)))}function eK(n){return new di(e=>{Ga(n()).subscribe(e)})}function n0(n,e){const t=fn(n)?n:()=>n,r=i=>i.error(t());return new di(e?i=>e.schedule(r,0,i):r)}function P3(){return ki((n,e)=>{let t=null;n._refCount++;const r=Hi(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class tK extends di{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Yp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mi;const t=this.getSubject();e.add(this.source.subscribe(Hi(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mi.EMPTY)}return e}refCount(){return P3()(this)}}function Wf(n){return ki((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Hi(t,void 0,void 0,o=>{s=Ga(n(o,Wf(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function L3(n){return n<=0?()=>Sl:ki((e,t)=>{let r=[];e.subscribe(Hi(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rK(n){return Tr(()=>n)}function ul(n){return ki((e,t)=>{Ga(n).subscribe(Hi(t,()=>t.complete(),zs)),!t.closed&&e.subscribe(t)})}const hi="primary",jS=Symbol("RouteTitle");class vSe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Q_(n){return new vSe(n)}function ySe(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $d(n,e){const t=n?U3(n):void 0,r=e?U3(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!iK(n[i],e[i]))return!1;return!0}function U3(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function iK(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function sK(n){return n.length>0?n[n.length-1]:null}function Gg(n){return function fSe(n){return!!n&&(n instanceof di||fn(n.lift)&&fn(n.subscribe))}(n)?n:yS(n)?Po(Promise.resolve(n)):kn(n)}const bSe={exact:function lK(n,e,t){if(!r0(n.segments,e.segments)||!ET(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!lK(n.children[r],e.children[r],t))return!1;return!0},subset:cK},oK={exact:function wSe(n,e){return $d(n,e)},subset:function CSe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>iK(n[t],e[t]))},ignored:()=>!0};function aK(n,e,t){return bSe[t.paths](n.root,e.root,t.matrixParams)&&oK[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cK(n,e,t){return uK(n,e,e.segments,t)}function uK(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!r0(i,t)||e.hasChildren()||!ET(i,t,r))}if(n.segments.length===t.length){if(!r0(n.segments,t)||!ET(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!cK(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(r0(n.segments,i)&&ET(n.segments,i,r)&&n.children[hi])&&uK(n.children[hi],e,s,r)}}function ET(n,e,t){return e.every((r,i)=>oK[t](n[i].parameters,r.parameters))}class z_{constructor(e=new js([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Q_(this.queryParams),this._queryParamMap}toString(){return ESe.serialize(this)}}class js{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return DT(this)}}class qS{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Q_(this.parameters),this._parameterMap}toString(){return dK(this)}}function r0(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let G_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:()=>new k3,providedIn:"root"})}}return n})();class k3{parse(e){const t=new LSe(e);return new z_(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${WS(e.root,!0)}`,r=function TSe(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${MT(t)}=${MT(i)}`).join("&"):`${MT(t)}=${MT(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function DSe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ESe=new k3;function DT(n){return n.segments.map(e=>dK(e)).join("/")}function WS(n,e){if(!n.hasChildren())return DT(n);if(e){const t=n.children[hi]?WS(n.children[hi],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==hi&&r.push(`${i}:${WS(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function xSe(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===hi&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==hi&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===hi?[WS(n.children[hi],!1)]:[`${i}:${WS(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[hi]?`${DT(n)}/${t[0]}`:`${DT(n)}/(${t.join("//")})`}}function hK(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function MT(n){return hK(n).replace(/%3B/gi,";")}function H3(n){return hK(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function TT(n){return decodeURIComponent(n)}function fK(n){return TT(n.replace(/\+/g,"%20"))}function dK(n){return`${H3(n.path)}${function MSe(n){return Object.entries(n).map(([e,t])=>`;${H3(e)}=${H3(t)}`).join("")}(n.parameters)}`}const BSe=/^[^\/()?;#]+/;function V3(n){const e=n.match(BSe);return e?e[0]:""}const NSe=/^[^\/()?;=#]+/,FSe=/^[^=?&#]+/,OSe=/^[^&#]+/;class LSe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new js([],{}):new js([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[hi]=new js(e,t)),r}parseSegment(){const e=V3(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new dt(4009,!1);return this.capture(e),new qS(TT(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function ISe(n){const e=n.match(NSe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=V3(this.remaining);i&&(r=i,this.capture(r))}e[TT(t)]=TT(r)}parseQueryParam(e){const t=function RSe(n){const e=n.match(FSe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function PSe(n){const e=n.match(OSe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=fK(t),s=fK(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=V3(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new dt(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=hi);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[hi]:new js([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new dt(4011,!1)}}function AK(n){return n.segments.length>0?new js([],{[hi]:n}):n}function pK(n){const e={};for(const[r,i]of Object.entries(n.children)){const s=pK(i);if(r===hi&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function USe(n){if(1===n.numberOfChildren&&n.children[hi]){const e=n.children[hi];return new js(n.segments.concat(e.segments),e.children)}return n}(new js(n.segments,e))}function j_(n){return n instanceof z_}function gK(n){let e;const i=AK(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new js(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function mK(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return Q3(i,i,i,t,r);const s=function HSe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yK(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new yK(t,e,r)}(e);if(s.toRoot())return Q3(i,i,new js([],{}),t,r);const o=function VSe(n,e,t){if(n.isAbsolute)return new NT(e,!0,0);if(!t)return new NT(e,!1,NaN);if(null===t.parent)return new NT(t,!0,0);const r=BT(n.commands[0])?0:1;return function QSe(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new dt(4005,!1);i=r.segments.length}return new NT(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?KS(o.segmentGroup,o.index,s.commands):_K(o.segmentGroup,o.index,s.commands);return Q3(i,o.segmentGroup,a,t,r)}function BT(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $S(n){return"object"==typeof n&&null!=n&&n.outlets}function Q3(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:vK(n,e,t);const a=AK(pK(o));return new z_(a,s,i)}function vK(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:vK(s,e,t)}),new js(n.segments,r)}class yK{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&BT(r[0]))throw new dt(4003,!1);const i=r.find($S);if(i&&i!==sK(r))throw new dt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class NT{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function _K(n,e,t){if(n??=new js([],{}),0===n.segments.length&&n.hasChildren())return KS(n,e,t);const r=function GSe(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if($S(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!wK(l,c,o))return s;r+=2}else{if(!wK(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new js(n.segments.slice(0,r.pathIndex),{});return s.children[hi]=new js(n.segments.slice(r.pathIndex),n.children),KS(s,0,i)}return r.match&&0===i.length?new js(n.segments,{}):r.match&&!n.hasChildren()?z3(n,e,t):r.match?KS(n,0,i):z3(n,e,t)}function KS(n,e,t){if(0===t.length)return new js(n.segments,{});{const r=function zSe(n){return $S(n[0])?n[0].outlets:{[hi]:n}}(t),i={};if(Object.keys(r).some(s=>s!==hi)&&n.children[hi]&&1===n.numberOfChildren&&0===n.children[hi].segments.length){const s=KS(n.children[hi],e,t);return new js(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=_K(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new js(n.segments,i)}}function z3(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if($S(s)){const l=jSe(s.outlets);return new js(r,l)}if(0===i&&BT(t[0])){r.push(new qS(n.segments[e].path,bK(t[0]))),i++;continue}const o=$S(s)?s.outlets[hi]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&BT(a)?(r.push(new qS(o,bK(a))),i+=2):(r.push(new qS(o,{})),i++)}return new js(r,{})}function jSe(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=z3(new js([],{}),0,r))}),e}function bK(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function wK(n,e,t){return n==t.path&&$d(e,t.parameters)}const XS="imperative";var Gi=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Gi||{});class Kd{constructor(e,t){this.id=e,this.url=t}}class IT extends Kd{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Gi.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class np extends Kd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Gi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var rh=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(rh||{}),FT=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(FT||{});class q_ extends Kd{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Gi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class W_ extends Kd{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Gi.NavigationSkipped}}class RT extends Kd{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Gi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class CK extends Kd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Gi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qSe extends Kd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Gi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WSe extends Kd{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Gi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $Se extends Kd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Gi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KSe extends Kd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Gi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XSe{constructor(e){this.route=e,this.type=Gi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class YSe{constructor(e){this.route=e,this.type=Gi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class JSe{constructor(e){this.snapshot=e,this.type=Gi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZSe{constructor(e){this.snapshot=e,this.type=Gi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class exe{constructor(e){this.snapshot=e,this.type=Gi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class txe{constructor(e){this.snapshot=e,this.type=Gi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SK{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Gi.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class G3{}class j3{constructor(e){this.url=e}}class nxe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new YS,this.attachRef=null}}let YS=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new nxe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class xK{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=q3(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=q3(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=W3(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return W3(e,this._root).map(t=>t.value)}}function q3(n,e){if(n===e.value)return e;for(const t of e.children){const r=q3(n,t);if(r)return r}return null}function W3(n,e){if(n===e.value)return[e];for(const t of e.children){const r=W3(n,t);if(r.length)return r.unshift(e),r}return[]}class $f{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function $_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class EK extends xK{constructor(e,t){super(e),this.snapshot=t,X3(this,e)}toString(){return this.snapshot.toString()}}function DK(n){const e=function rxe(n){const s=new K3([],{},{},"",{},hi,n,null,{});return new MK("",new $f(s,[]))}(n),t=new Ms([new qS("",{})]),r=new Ms({}),i=new Ms({}),s=new Ms({}),o=new Ms(""),a=new s0(t,r,s,o,i,hi,n,e.root);return a.snapshot=e.root,new EK(new $f(a,[]),e)}class s0{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Tr(c=>c[jS]))??kn(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Tr(e=>Q_(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Tr(e=>Q_(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $3(n,e,t="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===e||"always"!==t&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...i?.data,...n._resolvedData}},i&&BK(i)&&(r.resolve[jS]=i.title),r}class K3{get title(){return this.data?.[jS]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Q_(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Q_(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class MK extends xK{constructor(e,t){super(t),this.url=e,X3(this,t)}toString(){return TK(this._root)}}function X3(n,e){e.value._routerState=n,e.children.forEach(t=>X3(n,t))}function TK(n){const e=n.children.length>0?` { ${n.children.map(TK).join(", ")} } `:"";return`${n.value}${e}`}function Y3(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$d(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$d(e.params,t.params)||n.paramsSubject.next(t.params),function _Se(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$d(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),$d(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function J3(n,e){const t=$d(n.params,e.params)&&function SSe(n,e){return r0(n,e)&&n.every((t,r)=>$d(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||J3(n.parent,e.parent))}function BK(n){return"string"==typeof n.title||null===n.title}let Z3=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=hi,this.activateEvents=new ie,this.deactivateEvents=new ie,this.attachEvents=new ie,this.detachEvents=new ie,this.parentContexts=Ve(YS),this.location=Ve(fu),this.changeDetector=Ve(zf),this.environmentInjector=Ve(ka),this.inputBinder=Ve(OT,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new dt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new dt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new dt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new dt(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new eU(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Io]})}}return n})();class eU{__ngOutletInjector(e){return new eU(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===s0?this.route:e===YS?this.childContexts:this.parent.get(e,t)}}const OT=new yn("");let NK=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=xT([r.queryParams,r.params,r.data]).pipe(Oc(([s,o,a],l)=>(a={...s,...o,...a},0===l?kn(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function B0e(n){const e=ui(n);if(!e)return null;const t=new qC(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();function JS(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function sxe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return JS(n,r,i);return JS(n,r)})}(n,e,t);return new $f(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>JS(n,a)),o}}const r=function oxe(n){return new s0(new Ms(n.url),new Ms(n.params),new Ms(n.queryParams),new Ms(n.fragment),new Ms(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>JS(n,s));return new $f(r,i)}}const IK="ngNavigationCancelingError";function FK(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=j_(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RK(!1,rh.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function RK(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[IK]=!0,t.cancellationCode=e,t}function OK(n){return!!n&&n[IK]}let PK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["ng-component"]],standalone:!0,features:[xa],decls:1,vars:0,template:function(r,i){1&r&&ft(0,"router-outlet")},dependencies:[Z3],encapsulation:2})}}return n})();function tU(n){const e=n.children&&n.children.map(tU),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==hi&&(t.component=PK),t}function Xd(n){return n.outlet||hi}function ZS(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Axe{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Y3(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=$_(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=$_(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=$_(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=$_(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new txe(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ZSe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Y3(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Y3(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ZS(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class LK{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class PT{constructor(e,t){this.component=e,this.route=t}}function pxe(n,e,t){const r=n._root;return ex(r,e?e._root:null,t,[r.value])}function K_(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function o2(n){return null!==tv(n)}(n)?e.get(n):n:r}function ex(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=$_(e);return n.children.forEach(o=>{(function mxe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function vxe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!r0(n.url,e.url);case"pathParamsOrQueryParamsChange":return!r0(n.url,e.url)||!$d(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!J3(n,e)||!$d(n.queryParams,e.queryParams);default:return!J3(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new LK(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ex(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new PT(a.outlet.component,o))}else o&&tx(e,a,i),i.canActivateChecks.push(new LK(r)),ex(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>tx(a,t.getContext(o),i)),i}function tx(n,e,t){const r=$_(n),i=n.value;Object.entries(r).forEach(([s,o])=>{tx(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new PT(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function nx(n){return"function"==typeof n}function UK(n){return n instanceof Jp||"EmptyError"===n?.name}const LT=Symbol("INITIAL_VALUE");function X_(){return Oc(n=>xT(n.map(e=>e.pipe(Co(1),function nK(...n){const e=xS(n);return ki((t,r)=>{(e?GS(n,t,e):GS(n,t)).subscribe(r)})}(LT)))).pipe(Tr(e=>{for(const t of e)if(!0!==t){if(t===LT)return LT;if(!1===t||t instanceof z_)return t}return!0}),Bi(e=>e!==LT),Co(1)))}function kK(n){return function Cl(...n){return Ua(n)}(vo(e=>{if(j_(e))throw FK(0,e)}),Tr(e=>!0===e))}class nU{constructor(e){this.segmentGroup=e||null}}class rU extends Error{constructor(e){super(),this.urlTree=e}}function Y_(n){return n0(new nU(n))}class Lxe{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return kn(r);if(i.numberOfChildren>1||!i.children[hi])return n0(new dt(4e3,!1));i=i.children[hi]}}applyRedirectCommands(e,t,r){const i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new rU(i);return i}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new z_(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new js(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new dt(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const iU={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uxe(n,e,t,r,i){const s=sU(n,e,t);return s.matched?(r=function lxe(n,e){return n.providers&&!n._injector&&(n._injector=ZD(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Rxe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?kn(i.map(o=>{const a=K_(o,n);return Gg(function Sxe(n){return n&&nx(n.canMatch)}(a)?a.canMatch(e,t):Eh(n,()=>a(e,t)))})).pipe(X_(),kK()):kn(!0)}(r,e,t).pipe(Tr(o=>!0===o?s:{...iU}))):kn(s)}function sU(n,e,t){if("**"===e.path)return function kxe(n){return{matched:!0,parameters:n.length>0?sK(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...iU}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ySe)(t,n,e);if(!i)return{...iU};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function HK(n,e,t,r){return t.length>0&&function Qxe(n,e,t){return t.some(r=>UT(n,e,r)&&Xd(r)!==hi)}(n,t,r)?{segmentGroup:new js(e,Vxe(r,new js(t,n.children))),slicedSegments:[]}:0===t.length&&function zxe(n,e,t){return t.some(r=>UT(n,e,r))}(n,t,r)?{segmentGroup:new js(n.segments,Hxe(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new js(n.segments,n.children),slicedSegments:t}}function Hxe(n,e,t,r){const i={};for(const s of t)if(UT(n,e,s)&&!r[Xd(s)]){const o=new js([],{});i[Xd(s)]=o}return{...r,...i}}function Vxe(n,e){const t={};t[hi]=e;for(const r of n)if(""===r.path&&Xd(r)!==hi){const i=new js([],{});t[Xd(r)]=i}return t}function UT(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class qxe{}class Kxe{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Lxe(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new dt(4002,`'${e.segmentGroup}'`)}recognize(){const e=HK(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Tr(t=>{const r=new K3([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},hi,this.rootComponentType,null,{}),i=new $f(r,t),s=new MK("",i),o=function kSe(n,e,t=null,r=null){return mK(gK(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,hi).pipe(Wf(r=>{if(r instanceof rU)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nU?this.noMatchError(r):r}))}inheritParamsAndData(e,t){const r=e.value,i=$3(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(Tr(s=>s instanceof $f?[s]:[]))}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Po(i).pipe(Ug(s=>{const o=r.children[s],a=function fxe(n,e){const t=n.filter(r=>Xd(r)===e);return t.push(...n.filter(r=>Xd(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function gSe(n,e){return ki(function pSe(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Hi(o,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Zp(null),function mSe(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bi((i,s)=>n(i,s,r)):gs,L3(1),t?Zp(e):yy(()=>new Jp))}(),ja(s=>{if(null===s)return Y_(r);const o=VK(s);return function Xxe(n){n.sort((e,t)=>e.value.outlet===hi?-1:t.value.outlet===hi?1:e.value.outlet.localeCompare(t.value.outlet))}(o),kn(o)}))}processSegment(e,t,r,i,s,o){return Po(t).pipe(Ug(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Wf(l=>{if(l instanceof nU)return kn(null);throw l}))),Cc(a=>!!a),Wf(a=>{if(UK(a))return function jxe(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?kn(new qxe):Y_(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function Gxe(n,e,t,r){return!!(Xd(n)===r||r!==hi&&UT(e,t,n))&&sU(e,n,t).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Y_(i):Y_(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=sU(t,i,s);if(!a)return Y_(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,h).pipe(ja(d=>this.processSegment(e,r,t,d.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){const o=Uxe(t,r,i,e);return"**"===r.path&&(t.children={}),o.pipe(Oc(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(Oc(({routes:l})=>{const c=r._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:d}=a,f=new K3(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Jxe(n){return n.data||{}}(r),Xd(r),r.component??r._loadedComponent??null,r,function Zxe(n){return n.resolve||{}}(r)),{segmentGroup:A,slicedSegments:p}=HK(t,u,h,l);if(0===p.length&&A.hasChildren())return this.processChildren(c,l,A).pipe(Tr(g=>null===g?null:new $f(f,g)));if(0===l.length&&0===p.length)return kn(new $f(f,[]));const m=Xd(r)===s;return this.processSegment(c,l,A,p,m?hi:s,!0).pipe(Tr(g=>new $f(f,g instanceof $f?[g]:[])))})):Y_(t)))}getChildConfig(e,t,r){return t.children?kn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?kn({routes:t._loadedRoutes,injector:t._loadedInjector}):function Fxe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?kn(!0):kn(i.map(o=>{const a=K_(o,n);return Gg(function _xe(n){return n&&nx(n.canLoad)}(a)?a.canLoad(e,t):Eh(n,()=>a(e,t)))})).pipe(X_(),kK())}(e,t,r).pipe(ja(i=>i?this.configLoader.loadChildren(e,t).pipe(vo(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Pxe(n){return n0(RK(!1,rh.GuardRejected))}())):kn({routes:[],injector:e})}}function Yxe(n){const e=n.value.routeConfig;return e&&""===e.path}function VK(n){const e=[],t=new Set;for(const r of n){if(!Yxe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=VK(r.children);e.push(new $f(r.value,i))}return e.filter(r=>!t.has(r))}function QK(n){const e=n.children.map(t=>QK(t)).flat();return[n,...e]}function oU(n){return Oc(e=>{const t=n(e);return t?Po(t).pipe(Tr(()=>e)):kn(e)})}let zK=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===hi);return r}getResolvedTitleForRoute(t){return t.data[jS]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:()=>Ve(sEe),providedIn:"root"})}}return n})(),sEe=(()=>{class n extends zK{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Ut(eT))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const J_=new yn("",{providedIn:"root",factory:()=>({})}),Z_=new yn("");let aU=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ve(KG)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return kn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Gg(t.loadComponent()).pipe(Tr(GK),vo(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),O_(()=>{this.componentLoaders.delete(t)})),i=new tK(r,()=>new Ur).pipe(P3());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return kn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function oEe(n,e,t,r){return Gg(n.loadChildren()).pipe(Tr(GK),ja(i=>i instanceof Az||Array.isArray(i)?kn(i):Po(e.compileModuleAsync(i))),Tr(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Z_,[],{optional:!0,self:!0}).flat()),{routes:o.map(tU),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(O_(()=>{this.childrenLoaders.delete(r)})),o=new tK(s,()=>new Ur).pipe(P3());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function GK(n){return function aEe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:()=>Ve(lEe),providedIn:"root"})}}return n})(),lEe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const jK=new yn(""),qK=new yn("");function cEe(n,e,t){const r=n.get(qK),i=n.get(Xi);return n.get(Cr).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),function uEe(n){return new Promise(e=>{jP(e,{injector:n})})}(n))),{onViewTransitionCreated:l}=r;return l&&Eh(n,()=>l({transition:a,from:e,to:t})),o})}let kT=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ur,this.transitionAbortSubject=new Ur,this.configLoader=Ve(aU),this.environmentInjector=Ve(ka),this.urlSerializer=Ve(G_),this.rootContexts=Ve(YS),this.location=Ve(N_),this.inputBindingEnabled=null!==Ve(OT,{optional:!0}),this.titleStrategy=Ve(zK),this.options=Ve(J_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ve(lU),this.createViewTransition=Ve(jK,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>kn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new YSe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new XSe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Ms({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:XS,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bi(s=>0!==s.id),Tr(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Oc(s=>{let o=!1,a=!1;return kn(s).pipe(Oc(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",rh.SupersededByNewNavigation),Sl;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new W_(l.id,this.urlSerializer.serialize(l.rawUrl),h,FT.IgnoredSameUrlNavigation)),l.resolve(null),Sl}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return kn(l).pipe(Oc(h=>{const d=this.transitions?.getValue();return this.events.next(new IT(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),d!==this.transitions?.getValue()?Sl:Promise.resolve(h)}),function eEe(n,e,t,r,i,s){return ja(o=>function Wxe(n,e,t,r,i,s,o="emptyOnly"){return new Kxe(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Tr(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),vo(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const d=new CK(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:d,source:f,restoredState:A,extras:p}=l,m=new IT(h,this.urlSerializer.serialize(d),f,A);this.events.next(m);const g=DK(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:g,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=d,kn(s)}{const h="";return this.events.next(new W_(l.id,this.urlSerializer.serialize(l.extractedUrl),h,FT.IgnoredByUrlHandlingStrategy)),l.resolve(null),Sl}}),vo(l=>{const c=new qSe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Tr(l=>(this.currentTransition=s={...l,guards:pxe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function xxe(n,e){return ja(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?kn({...t,guardsResult:!0}):function Exe(n,e,t,r){return Po(n).pipe(ja(i=>function Ixe(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?kn(s.map(a=>{const l=ZS(e)??i,c=K_(a,l);return Gg(function Cxe(n){return n&&nx(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):Eh(l,()=>c(n,e,t,r))).pipe(Cc())})).pipe(X_()):kn(!0)}(i.component,i.route,t,e,r)),Cc(i=>!0!==i,!0))}(o,r,i,n).pipe(ja(a=>a&&function yxe(n){return"boolean"==typeof n}(a)?function Dxe(n,e,t,r){return Po(e).pipe(Ug(i=>GS(function Txe(n,e){return null!==n&&e&&e(new JSe(n)),kn(!0)}(i.route.parent,r),function Mxe(n,e){return null!==n&&e&&e(new exe(n)),kn(!0)}(i.route,r),function Nxe(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function gxe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>eK(()=>kn(o.guards.map(l=>{const c=ZS(o.node)??t,u=K_(l,c);return Gg(function wxe(n){return n&&nx(n.canActivateChild)}(u)?u.canActivateChild(r,n):Eh(c,()=>u(r,n))).pipe(Cc())})).pipe(X_())));return kn(s).pipe(X_())}(n,i.path,t),function Bxe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return kn(!0);const i=r.map(s=>eK(()=>{const o=ZS(e)??t,a=K_(s,o);return Gg(function bxe(n){return n&&nx(n.canActivate)}(a)?a.canActivate(e,n):Eh(o,()=>a(e,n))).pipe(Cc())}));return kn(i).pipe(X_())}(n,i.route,t))),Cc(i=>!0!==i,!0))}(r,s,n,e):kn(a)),Tr(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),vo(l=>{if(s.guardsResult=l.guardsResult,j_(l.guardsResult))throw FK(0,l.guardsResult);const c=new WSe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Bi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",rh.GuardRejected),!1)),oU(l=>{if(l.guards.canActivateChecks.length)return kn(l).pipe(vo(c=>{const u=new $Se(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Oc(c=>{let u=!1;return kn(c).pipe(function tEe(n,e){return ja(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return kn(t);const s=new Set(i.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const c of QK(l))o.add(c);let a=0;return Po(o).pipe(Ug(l=>s.has(l)?function nEe(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!BK(i)&&(s[jS]=i.title),function rEe(n,e,t,r){const i=U3(n);if(0===i.length)return kn({});const s={};return Po(i).pipe(ja(o=>function iEe(n,e,t,r){const i=ZS(e)??r,s=K_(n,i);return Gg(s.resolve?s.resolve(e,t):Eh(i,()=>s(e,t)))}(n[o],e,t,r).pipe(Cc(),vo(a=>{s[o]=a}))),L3(1),rK(s),Wf(o=>UK(o)?Sl:n0(o)))}(s,n,e,r).pipe(Tr(o=>(n._resolvedData=o,n.data=$3(n,n.parent,t).resolve,null)))}(l,r,n,e):(l.data=$3(l,l.parent,n).resolve,kn(void 0))),vo(()=>a++),L3(1),ja(l=>a===o.size?kn(t):Sl))})}(this.paramsInheritanceStrategy,this.environmentInjector),vo({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",rh.NoDataFromResolver)}}))}),vo(c=>{const u=new KSe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),oU(l=>{const c=u=>{const h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(vo(d=>{u.component=d}),Tr(()=>{})));for(const d of u.children)h.push(...c(d));return h};return xT(c(l.targetSnapshot.root)).pipe(Zp(null),Co(1))}),oU(()=>this.afterPreactivation()),Oc(()=>{const{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?Po(u).pipe(Tr(()=>s)):kn(s)}),Tr(l=>{const c=function ixe(n,e,t){const r=JS(n,e._root,t?t._root:void 0);return new EK(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),vo(()=>{this.events.next(new G3)}),((n,e,t,r)=>Tr(i=>(new Axe(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Co(1),vo({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new np(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),ul(this.transitionAbortSubject.pipe(vo(l=>{throw l}))),O_(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",rh.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wf(l=>{if(a=!0,OK(l))this.events.next(new q_(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function axe(n){return OK(n)&&j_(n.url)}(l)?this.events.next(new j3(l.url)):s.resolve(!1);else{this.events.next(new RT(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return Sl}))}))}cancelNavigationTransition(t,r,i){const s=new q_(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hEe(n){return n!==XS}let fEe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:()=>Ve(AEe),providedIn:"root"})}}return n})();class dEe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let AEe=(()=>{class n extends dEe{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fs(n)))(i||n)}})()}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:()=>Ve(pEe),providedIn:"root"})}}return n})(),pEe=(()=>{class n extends WK{constructor(){super(...arguments),this.location=Ve(N_),this.urlSerializer=Ve(G_),this.options=Ve(J_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ve(lU),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new z_,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=DK(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof IT)this.stateMemento=this.createStateMemento();else if(t instanceof W_)this.rawUrlTree=r.initialUrl;else if(t instanceof CK){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof G3?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof q_&&(t.code===rh.GuardRejected||t.code===rh.NoDataFromResolver)?this.restoreHistory(r):t instanceof RT?this.restoreHistory(r,!0):t instanceof np&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fs(n)))(i||n)}})()}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var rx=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(rx||{});function $K(n,e){n.events.pipe(Bi(t=>t instanceof np||t instanceof q_||t instanceof RT||t instanceof W_),Tr(t=>t instanceof np||t instanceof W_?rx.COMPLETE:t instanceof q_&&(t.code===rh.Redirect||t.code===rh.SupersededByNewNavigation)?rx.REDIRECTING:rx.FAILED),Bi(t=>t!==rx.REDIRECTING),Co(1)).subscribe(()=>{e()})}function gEe(n){throw n}const mEe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vEe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lc=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Ve(V5),this.stateManager=Ve(WK),this.options=Ve(J_,{optional:!0})||{},this.pendingTasks=Ve(Tg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ve(kT),this.urlSerializer=Ve(G_),this.location=Ve(N_),this.urlHandlingStrategy=Ve(lU),this._events=new Ur,this.errorHandler=this.options.errorHandler||gEe,this.navigated=!1,this.routeReuseStrategy=Ve(fEe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ve(Z_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ve(OT,{optional:!0}),this.eventsSubscription=new mi,this.isNgZoneEnabled=Ve(Cr)instanceof Cr&&Cr.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof q_&&r.code!==rh.Redirect&&r.code!==rh.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof np)this.navigated=!0;else if(r instanceof j3){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hEe(i.source)};this.scheduleNavigation(o,XS,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function _Ee(n){return!(n instanceof G3||n instanceof j3)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),XS,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(tU),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let h,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{h=gK(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return mK(h,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=j_(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,XS,null,r)}navigate(t,r={skipLocationChange:!1}){return function yEe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new dt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...mEe}:!1===r?{...vEe}:r,j_(t))return aK(this.currentUrlTree,t,i);const s=this.parseUrl(t);return aK(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,d)=>{a=h,l=d});const u=this.pendingTasks.add();return $K(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ds=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Ur,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof np&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const r=null===this.href?null:function EQ(n,e,t){return function Rhe(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?xQ:mo}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(pt(Lc),pt(s0),function Pd(n){return function _s(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Lw(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(hs(),n)}("tabindex"),pt(Ff),pt(N),pt(Qv))}}static{this.\u0275dir=mn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&qt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Ni("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Rr.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Nl],skipLocationChange:[Rr.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Nl],replaceUrl:[Rr.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Nl],routerLink:"routerLink"},standalone:!0,features:[$C,Io]})}}return n})();class KK{}let CEe=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Bi(t=>t instanceof np),Ug(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=ZD(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Po(i).pipe(V_())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):kn(null);const s=i.pipe(ja(o=>null===o?kn(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Po([s,this.loader.loadComponent(r)]).pipe(V_()):s})}static{this.\u0275fac=function(r){return new(r||n)(Ut(Lc),Ut(KG),Ut(ka),Ut(KK),Ut(aU))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const cU=new yn("");let XK=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Ve(ka),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof IT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof np?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof W_&&t.code===FT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof SK&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){var i=this;this.zone.runOutsideAngular((0,yt.A)(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),jP(()=>{s()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new SK(t,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function YQ(){throw new Error("invalid")}()}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();function Yd(n,e){return{\u0275kind:n,\u0275providers:e}}function JK(){const n=Ve(Ro);return e=>{const t=n.get(Qf);if(e!==t.components[0])return;const r=n.get(Lc),i=n.get(ZK);1===n.get(uU)&&r.initialNavigation(),n.get(eX,null,vi.Optional)?.setUpPreloading(),n.get(cU,null,vi.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const ZK=new yn("",{factory:()=>new Ur}),uU=new yn("",{providedIn:"root",factory:()=>1}),eX=new yn("");function DEe(n){return Yd(0,[{provide:eX,useExisting:CEe},{provide:KK,useExisting:n}])}function TEe(n){return Yd(9,[{provide:jK,useValue:cEe},{provide:qK,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const tX=new yn("ROUTER_FORROOT_GUARD"),BEe=[N_,{provide:G_,useClass:k3},Lc,YS,{provide:s0,useFactory:function YK(n){return n.routerState.root},deps:[Lc]},aU,[]];let nX=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[BEe,[],{provide:Z_,multi:!0,useValue:t},{provide:tX,useFactory:REe,deps:[[Lc,new EA,new sv]]},{provide:J_,useValue:r||{}},r?.useHash?{provide:Qv,useClass:O0e}:{provide:Qv,useClass:kj},{provide:cU,useFactory:()=>{const n=Ve($ye),e=Ve(Cr),t=Ve(J_),r=Ve(kT),i=Ve(G_);return t.scrollOffset&&n.setOffset(t.scrollOffset),new XK(i,r,n,e,t)}},r?.preloadingStrategy?DEe(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?OEe(r):[],r?.bindToComponentInputs?Yd(8,[NK,{provide:OT,useExisting:NK}]).\u0275providers:[],r?.enableViewTransitions?TEe().\u0275providers:[],[{provide:rX,useFactory:JK},{provide:_M,multi:!0,useExisting:rX}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Z_,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Ut(tX,8))}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();function REe(n){return"guarded"}function OEe(n){return["disabled"===n.initialNavigation?Yd(3,[{provide:yM,multi:!0,useFactory:()=>{const e=Ve(Lc);return()=>{e.setUpLocationChangeListener()}}},{provide:uU,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Yd(2,[{provide:uU,useValue:0},{provide:yM,multi:!0,deps:[Ro],useFactory:e=>{const t=e.get(F0e,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Lc),s=e.get(ZK);$K(i,()=>{r(!0)}),e.get(kT).afterPreactivation=()=>(r(!0),s.closed?kn(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const rX=new yn(""),jg={externalConfig:{},pageSettingDictionary:{},scmList:[],aiPrompts:[]};let qg=(()=>{class n{constructor(t){this.http=t}loadSCMList(){return this.http.get("./assets/json/scm.json").toPromise().then(t=>{console.log("loading scm list..."+JSON.stringify(t)),jg.scmList=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadAiPrompts(){return this.http.get("./assets/json/llm.json").toPromise().then(t=>{console.log("loading LLMs..."+JSON.stringify(t)),jg.aiPrompts=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadConfig(){return this.http.get("./assets/config.json").toPromise().then(t=>{jg.externalConfig=t}).catch(t=>{console.error("Error loading configuration:",t)})}getConfigValue(t){return JSON.parse(JSON.stringify(jg.externalConfig))[t]}static{this.\u0275fac=function(r){return new(r||n)(Ut(zv))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iX=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.configService=r,this.titleService=i,this.customErrorHandler=s,this.loggingInterceptor=o,this.route=a,this.title="PWA_DEMO_ENV_TEST",this._title="",this._appName="",this._appVersion="",this.runtimeVersion=UG.full,this.redirectPage=null;let l="",c="";l="appName",c=this.configService.getConfigValue(l),this._appName=c,l="appVersion",c=this.configService.getConfigValue(l),this._appVersion=c,console.log(`${l} :  ${this.configService.getConfigValue(l)} `)}ngOnInit(){this.titleService.setTitle(`${this._appName} ${this._appVersion}`),this.route.queryParams.subscribe(t=>{this.redirectPage=t.redirectPage?t.redirectPage:"",void 0!==this.redirectPage&&"sudoku"===this.redirectPage&&(console.log("Redirecting To Page : "+this.redirectPage),this.router.navigateByUrl("/Sudoku"))})}getValueFromConfig(t){return this.configService.getConfigValue(t)}static{this.\u0275fac=function(r){return new(r||n)(pt(Lc),pt(qg),pt(eT),pt(TE),pt(LF),pt(s0))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&ft(0,"app-nav")},styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center}']})}}return n})();var hU=function(n){return n[n.Info=1]="Info",n[n.Debug=2]="Debug",n[n.Error=3]="Error",n}(hU||{});class nc{constructor(e,t,r){this._index=e,this._value=t,this._selected=r}}class e1{constructor(e,t){this.value=e,this.graph=t}}class LEe{constructor(e,t,r){this.n=e,this.from=t,this.to=r}}let sX=(()=>{class n{constructor(){this.towerA=new Map,this.towerB=new Map,this.towerC=new Map,this.steps=[],this._steps=[],this._stepsIndex=0,this._startGame=!0,this._delayInMilliseconds=1500,this._stepsAmt=0,this._diskAmt=0,this.tituloDiskAmtList="Cantidad de Discos",this.gameState$=new Ms([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new Ms(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null,this._diskAmtList=new Array,this._diskAmtList.push(new nc(0,"(seleccione opcion...)",!1)),this._diskAmtList.push(new nc(3,"3",!0)),this._diskAmtList.push(new nc(4,"4",!1))}manual_selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.manual_moveDisk(this.selectedTower,t),this.selectedTower=null)}manual_moveDisk(t,r){const i=this.gameState$.getValue(),s=i[t].pop();if(s){const o=i[r];0===o.length||o[o.length-1].size>s.size?(o.push(s),this.gameState$.next(i),this.movesSubject$.next(this.movesSubject$.getValue()+1),this._checkWinCondition()):i[t].push(s)}}manual_resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null,this.auto_newGame()}_checkWinCondition(){return 3===this.gameState$.getValue()[2].length&&(console.log("Congratulations! You solved the puzzle!"),!0)}auto_printSteps(){if(this._stepsIndex>this._stepsAmt)clearTimeout(this._timeoutId);else{if(0==this._stepsIndex&&this.steps.push("[BEGIN STEPS]"),this._steps[this._stepsIndex]){let t=document.querySelector(".steps-container");t&&(t.scrollTop=t.scrollHeight);let r=this._steps[this._stepsIndex],a=`Step ${this._stepsIndex+1} of ${this._stepsAmt}. Move disk ${r.n} from Tower ${r.from} to Tower ${r.to}`;console.log(a),this.steps.push(a),this.auto_makeMove(r);let l=r.from.charCodeAt(0)-65,c=r.to.charCodeAt(0)-65;console.log(` Manuel Step ${l} to ${c} `),this.manual_moveDisk(l,c)}this._stepsIndex++,this._stepsIndex==this._stepsAmt&&this.steps.push("[END STEPS]"),this._timeoutId=setTimeout(()=>{this.auto_printSteps()},this._delayInMilliseconds)}}auto_makeMove(t){let o,r=t.n,s=t.to;switch(t.from){case"A":o=this.towerA.get(r),this.towerA.set(r,new e1(r,"-"));break;case"B":o=this.towerB.get(r),this.towerB.set(r,new e1(r,"-"));break;case"C":o=this.towerC.get(r),this.towerC.set(r,new e1(r,"-"))}switch(s){case"A":this.towerA.set(r,o);break;case"B":this.towerB.set(r,o);break;case"C":this.towerC.set(r,o)}}auto_saveStep(t,r,i){let s=new LEe(t,r,i);this._steps.push(s),this._stepsAmt++}auto_towerOfHanoi(t,r,i,s){0!==t&&(this.auto_towerOfHanoi(t-1,r,s,i),this.auto_saveStep(t,r,i),this.auto_towerOfHanoi(t-1,s,i,r))}auto_newGame(){if(console.log("[HANOI TOWERS] - [NEW GAME]"),this._diskAmt=3,0===this._diskAmt)return;this.towerA=new Map;let t="";for(let r=1;r<=this._diskAmt;r++)t+="*",this.towerA.set(r,new e1(r,t));this.towerB=new Map;for(let r=1;r<=this._diskAmt;r++)this.towerB.set(r,new e1(r,"-"));this.towerC=new Map;for(let r=1;r<=this._diskAmt;r++)this.towerC.set(r,new e1(r,"-"));this.steps=[],this._steps=[],this._stepsIndex=0,this._stepsAmt=0,this._startGame=!1}auto_startGame(){this.auto_newGame(),console.log("[HANOI TOWERS] - [START GAME]"),0!==this._diskAmt&&(this._startGame=!0,this.auto_towerOfHanoi(this._diskAmt,"A","C","B"),this.auto_printSteps())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UEe(n,e){if(1&n&&(fe(0,"div",8),Te(1),he()),2&n){const t=e.$implicit;eS("width",20*t.size,"px"),Be(),zi(" ",t.size," ")}}function kEe(n,e){if(1&n&&(fe(0,"div",5)(1,"h2"),Te(2),he(),fe(3,"div",6),dn(4,UEe,2,3,"div",7),he()()),2&n){const t=e.$implicit,r=e.index;Be(2),zi("Tower ",r+1,""),Be(2),qe("ngForOf",t)}}let HEe=(()=>{class n{constructor(t){this.hanoiEngine=t}ngOnInit(){this.hanoiEngine.manual_resetGame()}static{this.\u0275fac=function(r){return new(r||n)(pt(sX))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-hanoi-auto"]],decls:20,vars:8,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click","disabled"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(fe(0,"h4"),Te(1,"[HANOI- AUTO]"),he(),ft(2,"br"),fe(3,"div",0),dn(4,kEe,5,2,"div",1),Au(5,"async"),he(),ft(6,"hr"),fe(7,"div")(8,"p"),Te(9),Au(10,"async"),he(),fe(11,"button",2),qt("click",function(){return i.hanoiEngine.manual_resetGame()}),Te(12,"Reset Game"),he(),Te(13," | "),fe(14,"button",2),qt("click",function(){return i.hanoiEngine.auto_startGame()}),Te(15,"Start Game"),he()(),ft(16,"hr"),fe(17,"div",3)(18,"a",4),Te(19,"[Volver al Men\xfa]"),he()()),2&r&&(Be(4),qe("ngForOf",pu(5,4,i.hanoiEngine.towers$)),Be(5),zi("Moves: ",pu(10,6,i.hanoiEngine.moves$),""),Be(2),qe("disabled",!i.hanoiEngine._checkWinCondition()),Be(3),qe("disabled",i.hanoiEngine._steps.length>0))},dependencies:[ds,Il,R_],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();function VEe(n,e){if(1&n&&(fe(0,"div",8),Te(1),he()),2&n){const t=e.$implicit;eS("width",20*t.size,"px"),Be(),zi(" ",t.size," ")}}function QEe(n,e){if(1&n){const t=ws();fe(0,"div",5)(1,"h2"),Te(2),he(),fe(3,"div",6),dn(4,VEe,2,3,"div",7),he(),fe(5,"button",2),qt("click",function(){const i=On(t).index;return Un(en().selectTower(i))}),Te(6,"Select"),he()()}if(2&n){const t=e.$implicit,r=e.index;Be(2),zi("Tower ",r+1,""),Be(2),qe("ngForOf",t)}}let zEe=(()=>{class n{constructor(){this.gameState$=new Ms([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new Ms(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null}ngOnInit(){this.resetGame()}selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.moveDisk(this.selectedTower,t),this.selectedTower=null)}moveDisk(t,r){const i=this.gameState$.getValue(),s=i[t].pop();if(s){const o=i[r];0===o.length||o[o.length-1].size>s.size?(o.push(s),this.gameState$.next(i),this.movesSubject$.next(this.movesSubject$.getValue()+1),this.checkWinCondition()):i[t].push(s)}}resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null}checkWinCondition(){3===this.gameState$.getValue()[2].length&&console.log("Congratulations! You solved the puzzle!")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-hanoi-tower"]],decls:16,vars:6,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(fe(0,"h4"),Te(1,"[HANOI- OBSERVABLE]"),he(),ft(2,"br"),fe(3,"div",0),dn(4,QEe,7,2,"div",1),Au(5,"async"),he(),fe(6,"div")(7,"p"),Te(8),Au(9,"async"),he(),fe(10,"button",2),qt("click",function(){return i.resetGame()}),Te(11,"Reset Game"),he()(),ft(12,"hr"),fe(13,"div",3)(14,"a",4),Te(15,"[Volver al Men\xfa]"),he()()),2&r&&(Be(4),qe("ngForOf",pu(5,2,i.towers$)),Be(4),zi("Moves: ",pu(9,4,i.moves$),""))},dependencies:[ds,Il,R_],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:200px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();function GEe(n,e){if(1&n&&(fe(0,"div",2)(1,"span"),Te(2),he()()),2&n){const t=e.$implicit;Be(2),Nr(t[1].graph)}}let oX=(()=>{class n{toArray(t){return Array.from(t.entries())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-tower"]],inputs:{tower:"tower"},standalone:!0,features:[xa],decls:2,vars:1,consts:[[1,"tower"],["class","disk",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(fe(0,"div",0),dn(1,GEe,3,1,"div",1),he()),2&r&&(Be(),qe("ngForOf",i.toArray(i.tower)))},dependencies:[Pg,Il]})}}return n})();function jEe(n,e){if(1&n&&(fe(0,"div",17)(1,"span"),Te(2),he()()),2&n){const t=e.$implicit;Be(2),Nr(t)}}function qEe(n,e){if(1&n&&(fe(0,"option",18),Te(1),he()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Be(),zi("",t._value," ")}}let WEe=(()=>{class n{constructor(t){this.hanoiEngine=t}static{this.\u0275fac=function(r){return new(r||n)(pt(sX))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-games-hanoi"]],decls:40,vars:8,consts:[["__diskAmtList",""],["align","left",1,"game-container"],["width","100%"],["align","center"],["width","33%","align","center"],[3,"tower"],["align","left",1,"steps-container"],["align","left","class","steps-content",4,"ngFor","ngForOf"],["id","diskAmtListDiv","align","left"],["for","diskAmtList"],["id","diskAmtList","name","diskAmtList"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left"],["type","button","id","btnNewGame","value","[NEW GAME]",3,"click","disabled"],["type","button","id","btnStartGame","value","[START GAME]",3,"click","disabled"],["align","right"],["routerLink","/Dev"],["align","left",1,"steps-content"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=ws();fe(0,"h1"),Te(1,"[HANOI TOWER BOARD]"),he(),ft(2,"hr"),fe(3,"div",1)(4,"table",2)(5,"thead")(6,"td",3),Te(7,"A"),he(),fe(8,"td",3),Te(9,"B"),he(),fe(10,"td",3),Te(11,"C"),he()(),fe(12,"tr")(13,"td",4),ft(14,"app-tower",5),he(),fe(15,"td",4),ft(16,"app-tower",5),he(),fe(17,"td",4),ft(18,"app-tower",5),he()(),ft(19,"tfoot"),he()(),ft(20,"hr"),fe(21,"div",6),dn(22,jEe,3,1,"div",7),he(),ft(23,"hr"),fe(24,"div",8)(25,"label",9),Te(26),he(),Te(27," \xa0\xa0 "),fe(28,"select",10,0),dn(30,qEe,2,3,"option",11),he()(),ft(31,"hr"),fe(32,"div",12)(33,"input",13),qt("click",function(){return On(s),Un(i.hanoiEngine.auto_newGame())}),he(),Te(34," | "),fe(35,"input",14),qt("click",function(){return On(s),Un(i.hanoiEngine.auto_startGame())}),he()(),ft(36,"hr"),fe(37,"div",15)(38,"a",16),Te(39,"[Volver al Men\xfa]"),he()()}2&r&&(Be(14),qe("tower",i.hanoiEngine.towerA),Be(2),qe("tower",i.hanoiEngine.towerB),Be(2),qe("tower",i.hanoiEngine.towerC),Be(4),qe("ngForOf",i.hanoiEngine.steps),Be(4),Nr(i.hanoiEngine.tituloDiskAmtList),Be(4),qe("ngForOf",i.hanoiEngine._diskAmtList),Be(3),qe("disabled",0==i.hanoiEngine._startGame),Be(2),qe("disabled",1==i.hanoiEngine._startGame))},dependencies:[oX,ds,Il,Xv,Yv],styles:['.game-container[_ngcontent-%COMP%]{width:"100%";padding:1em;background-color:#ccc}.steps-container[_ngcontent-%COMP%]{height:auto;width:100%;border:1px solid #000;padding:.1em;background-color:#ccc}.steps-content[_ngcontent-%COMP%]{padding:.1em}table[_ngcontent-%COMP%]{width:150px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc}']})}}return n})();const lX=1,XEe=2,rp=3,HT=0,p2e=1,g2e=2,Kg=0,m2e=1,v2e=2,y2e=3,_2e=4,b2e=5,w2e=6,C2e=7,Xg=301,a0=302,ix=306,Kf=1001,rc=1003,hl=1006,sp=1008,op=1009,AX=1010,pX=1011,ox=1012,CU=1013,Yg=1014,ih=1015,ax=1016,SU=1017,xU=1018,s1=1020,gX=35902,mX=1021,vX=1022,mu=1023,yX=1024,_X=1025,o1=1026,a1=1027,EU=1028,qT=1029,bX=1030,DU=1031,MU=1033,WT=33776,$T=33777,KT=33778,XT=33779,TU=35840,BU=35841,NU=35842,IU=35843,FU=36196,RU=37492,OU=37496,PU=37808,LU=37809,UU=37810,kU=37811,HU=37812,VU=37813,QU=37814,zU=37815,GU=37816,jU=37817,qU=37818,WU=37819,$U=37820,KU=37821,YT=36492,XU=36494,YU=36495,wX=36283,JU=36284,ZU=36285,e4=36286,sh="srgb",u1="srgb-linear",eB="linear",qs="srgb",h1=7680,EX="300 es",ap=2e3;class lp{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const s=i.indexOf(t);-1!==s&&i.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const r=this._listeners[e.type];if(void 0!==r){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const ic=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],c0=Math.PI/180,f1=180/Math.PI;function oh(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(ic[255&n]+ic[n>>8&255]+ic[n>>16&255]+ic[n>>24&255]+"-"+ic[255&e]+ic[e>>8&255]+"-"+ic[e>>16&15|64]+ic[e>>24&255]+"-"+ic[63&t|128]+ic[t>>8&255]+"-"+ic[t>>16&255]+ic[t>>24&255]+ic[255&r]+ic[r>>8&255]+ic[r>>16&255]+ic[r>>24&255]).toLowerCase()}function Gr(n,e,t){return Math.max(e,Math.min(t,n))}function lx(n,e,t){return(1-t)*n+t*e}function Uc(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ti(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const eDe_DEG2RAD=c0;class kt{constructor(e=0,t=0){kt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Gr(this.x,e.x,t.x),this.y=Gr(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Gr(this.x,e,t),this.y=Gr(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Gr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ni{constructor(e,t,r,i,s,o,a,l,c){ni.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],h=r[7],d=r[2],f=r[5],A=r[8],p=i[0],m=i[3],g=i[6],y=i[1],v=i[4],_=i[7],C=i[2],b=i[5],M=i[8];return s[0]=o*p+a*y+l*C,s[3]=o*m+a*v+l*b,s[6]=o*g+a*_+l*M,s[1]=c*p+u*y+h*C,s[4]=c*m+u*v+h*b,s[7]=c*g+u*_+h*M,s[2]=d*p+f*y+A*C,s[5]=d*m+f*v+A*b,s[8]=d*g+f*_+A*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,d=a*l-u*s,f=c*s-o*l,A=t*h+r*d+i*f;if(0===A)return this.set(0,0,0,0,0,0,0,0,0);const p=1/A;return e[0]=h*p,e[1]=(i*c-u*r)*p,e[2]=(a*r-i*o)*p,e[3]=d*p,e[4]=(u*t-i*l)*p,e[5]=(i*s-a*t)*p,e[6]=f*p,e[7]=(r*l-c*t)*p,e[8]=(o*t-r*s)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(s4.makeScale(e,t)),this}rotate(e){return this.premultiply(s4.makeRotation(-e)),this}translate(e,t){return this.premultiply(s4.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const s4=new ni;function MX(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function cx(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function nDe(){const n=cx("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const TX={};function A1(n){n in TX||(TX[n]=!0,console.warn(n))}const BX=(new ni).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),NX=(new ni).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function oDe(){const n={enabled:!0,workingColorSpace:u1,spaces:{},convert:function(i,s,o){return!1===this.enabled||s===o||!s||!o||(this.spaces[s].transfer===qs&&(i.r=cp(i.r),i.g=cp(i.g),i.b=cp(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===qs&&(i.r=p1(i.r),i.g=p1(i.g),i.b=p1(i.b))),i},fromWorkingColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},toWorkingColorSpace:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return""===i?eB:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[u1]:{primaries:e,whitePoint:r,transfer:eB,toXYZ:BX,fromXYZ:NX,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:sh},outputColorSpaceConfig:{drawingBufferColorSpace:sh}},[sh]:{primaries:e,whitePoint:r,transfer:qs,toXYZ:BX,fromXYZ:NX,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:sh}}}),n}const os=oDe();function cp(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function p1(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let g1;class aDe{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===g1&&(g1=cx("canvas")),g1.width=e.width,g1.height=e.height;const r=g1.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=g1}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=cx("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=255*cp(s[o]/255);return r.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t[r]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*cp(t[r]/255)):cp(t[r]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let lDe=0;class m1{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:lDe++}),this.uuid=oh(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(null!==i){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)s.push(o4(i[o].isDataTexture?i[o].image:i[o]))}else s=o4(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function o4(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?aDe.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let cDe=0,vu=(()=>{class n extends lp{constructor(t=n.DEFAULT_IMAGE,r=n.DEFAULT_MAPPING,i=Kf,s=Kf,o=hl,a=sp,l=mu,c=op,u=n.DEFAULT_ANISOTROPY,h=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:cDe++}),this.uuid=oh(),this.name="",this.source=new m1(t),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new kt(0,0),this.repeat=new kt(1,1),this.center=new kt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ni,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),r||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Kf:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Kf:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class As{constructor(e=0,t=0,r=0,i=1){As.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],h=l[8],d=l[1],f=l[5],A=l[9],p=l[2],m=l[6],g=l[10];if(Math.abs(u-d)<.01&&Math.abs(h-p)<.01&&Math.abs(A-m)<.01){if(Math.abs(u+d)<.1&&Math.abs(h+p)<.1&&Math.abs(A+m)<.1&&Math.abs(c+f+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const v=(c+1)/2,_=(f+1)/2,C=(g+1)/2,b=(u+d)/4,M=(h+p)/4,D=(A+m)/4;return v>_&&v>C?v<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(v),i=b/r,s=M/r):_>C?_<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(_),r=b/i,s=D/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=M/s,i=D/s),this.set(r,i,s,t),this}let y=Math.sqrt((m-A)*(m-A)+(h-p)*(h-p)+(d-u)*(d-u));return Math.abs(y)<.001&&(y=1),this.x=(m-A)/y,this.y=(h-p)/y,this.z=(d-u)/y,this.w=Math.acos((c+f+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Gr(this.x,e.x,t.x),this.y=Gr(this.y,e.y,t.y),this.z=Gr(this.z,e.z,t.z),this.w=Gr(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Gr(this.x,e,t),this.y=Gr(this.y,e,t),this.z=Gr(this.z,e,t),this.w=Gr(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class uDe extends lp{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new As(0,0,e,t),this.scissorTest=!1,this.viewport=new As(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:hl,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new vu(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new m1(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Jd extends uDe{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class a4 extends vu{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=rc,this.minFilter=rc,this.wrapR=Kf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class IX extends vu{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=rc,this.minFilter=rc,this.wrapR=Kf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class kc{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],h=r[i+3];const d=s[o+0],f=s[o+1],A=s[o+2],p=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=h);if(1===a)return e[t+0]=d,e[t+1]=f,e[t+2]=A,void(e[t+3]=p);if(h!==p||l!==d||c!==f||u!==A){let m=1-a;const g=l*d+c*f+u*A+h*p,y=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){const C=Math.sqrt(v),b=Math.atan2(C,g*y);m=Math.sin(m*b)/C,a=Math.sin(a*b)/C}const _=a*y;if(l=l*m+d*_,c=c*m+f*_,u=u*m+A*_,h=h*m+p*_,m===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=C,c*=C,u*=C,h*=C}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],h=s[o],d=s[o+1],f=s[o+2],A=s[o+3];return e[t]=a*A+u*h+l*f-c*d,e[t+1]=l*A+u*d+c*h-a*f,e[t+2]=c*A+u*f+a*d-l*h,e[t+3]=u*A-a*h-l*d-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),h=a(s/2),d=l(r/2),f=l(i/2),A=l(s/2);switch(o){case"XYZ":this._x=d*u*h+c*f*A,this._y=c*f*h-d*u*A,this._z=c*u*A+d*f*h,this._w=c*u*h-d*f*A;break;case"YXZ":this._x=d*u*h+c*f*A,this._y=c*f*h-d*u*A,this._z=c*u*A-d*f*h,this._w=c*u*h+d*f*A;break;case"ZXY":this._x=d*u*h-c*f*A,this._y=c*f*h+d*u*A,this._z=c*u*A+d*f*h,this._w=c*u*h-d*f*A;break;case"ZYX":this._x=d*u*h-c*f*A,this._y=c*f*h+d*u*A,this._z=c*u*A-d*f*h,this._w=c*u*h+d*f*A;break;case"YZX":this._x=d*u*h+c*f*A,this._y=c*f*h+d*u*A,this._z=c*u*A-d*f*h,this._w=c*u*h-d*f*A;break;case"XZY":this._x=d*u*h-c*f*A,this._y=c*f*h-d*u*A,this._z=c*u*A+d*f*h,this._w=c*u*h+d*f*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],d=r+a+h;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(o-i)*f}else if(r>a&&r>h){const f=2*Math.sqrt(1+r-a-h);this._w=(u-l)/f,this._x=.25*f,this._y=(i+o)/f,this._z=(s+c)/f}else if(a>h){const f=2*Math.sqrt(1+a-r-h);this._w=(s-c)/f,this._x=(i+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+h-r-a);this._w=(o-i)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Gr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*r+t*this._x,this._y=f*i+t*this._y,this._z=f*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*h+this._w*d,this._x=r*h+this._x*d,this._y=i*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Re{constructor(e=0,t=0,r=0){Re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(FX.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(FX.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*t-s*i),h=2*(s*r-o*t);return this.x=t+l*c+o*h-a*u,this.y=r+l*u+a*c-s*h,this.z=i+l*h+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Gr(this.x,e.x,t.x),this.y=Gr(this.y,e.y,t.y),this.z=Gr(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Gr(this.x,e,t),this.y=Gr(this.y,e,t),this.z=Gr(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return l4.copy(this).projectOnVector(e),this.sub(l4)}reflect(e){return this.sub(l4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Gr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const l4=new Re,FX=new kc;class yu{constructor(e=new Re(1/0,1/0,1/0),t=new Re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Xf.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Xf.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Xf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r){const s=r.getAttribute("position");if(!0===t&&void 0!==s&&!0!==e.isInstancedMesh)for(let o=0,a=s.count;o<a;o++)!0===e.isMesh?e.getVertexPosition(o,Xf):Xf.fromBufferAttribute(s,o),Xf.applyMatrix4(e.matrixWorld),this.expandByPoint(Xf);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),rB.copy(e.boundingBox)):(null===r.boundingBox&&r.computeBoundingBox(),rB.copy(r.boundingBox)),rB.applyMatrix4(e.matrixWorld),this.union(rB)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Xf),Xf.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ux),iB.subVectors(this.max,ux),v1.subVectors(e.a,ux),y1.subVectors(e.b,ux),_1.subVectors(e.c,ux),Zg.subVectors(y1,v1),em.subVectors(_1,y1),u0.subVectors(v1,_1);let t=[0,-Zg.z,Zg.y,0,-em.z,em.y,0,-u0.z,u0.y,Zg.z,0,-Zg.x,em.z,0,-em.x,u0.z,0,-u0.x,-Zg.y,Zg.x,0,-em.y,em.x,0,-u0.y,u0.x,0];return!(!c4(t,v1,y1,_1,iB)||(t=[1,0,0,0,1,0,0,0,1],!c4(t,v1,y1,_1,iB)))&&(sB.crossVectors(Zg,em),t=[sB.x,sB.y,sB.z],c4(t,v1,y1,_1,iB))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Xf).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Xf).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(up[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),up[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),up[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),up[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),up[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),up[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),up[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),up[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(up)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const up=[new Re,new Re,new Re,new Re,new Re,new Re,new Re,new Re],Xf=new Re,rB=new yu,v1=new Re,y1=new Re,_1=new Re,Zg=new Re,em=new Re,u0=new Re,ux=new Re,iB=new Re,sB=new Re,h0=new Re;function c4(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){h0.fromArray(n,s);const a=i.x*Math.abs(h0.x)+i.y*Math.abs(h0.y)+i.z*Math.abs(h0.z),l=e.dot(h0),c=t.dot(h0),u=r.dot(h0);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const hDe=new yu,hx=new Re,u4=new Re;class Hc{constructor(e=new Re,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):hDe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;hx.subVectors(e,this.center);const t=hx.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=.5*(r-this.radius);this.center.addScaledVector(hx,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(u4.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(hx.copy(e.center).add(u4)),this.expandByPoint(hx.copy(e.center).sub(u4))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const hp=new Re,h4=new Re,oB=new Re,tm=new Re,f4=new Re,aB=new Re,d4=new Re;class b1{constructor(e=new Re,t=new Re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,hp)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=hp.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(hp.copy(this.origin).addScaledVector(this.direction,t),hp.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){h4.copy(e).add(t).multiplyScalar(.5),oB.copy(t).sub(e).normalize(),tm.copy(this.origin).sub(h4);const s=.5*e.distanceTo(t),o=-this.direction.dot(oB),a=tm.dot(this.direction),l=-tm.dot(oB),c=tm.lengthSq(),u=Math.abs(1-o*o);let h,d,f,A;if(u>0)if(h=o*l-a,d=o*a-l,A=s*u,h>=0)if(d>=-A)if(d<=A){const p=1/u;h*=p,d*=p,f=h*(h+o*d+2*a)+d*(o*h+d+2*l)+c}else d=s,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+c;else d=-s,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+c;else d<=-A?(h=Math.max(0,-(-o*s+a)),d=h>0?-s:Math.min(Math.max(-s,-l),s),f=-h*h+d*(d+2*l)+c):d<=A?(h=0,d=Math.min(Math.max(-s,-l),s),f=d*(d+2*l)+c):(h=Math.max(0,-(o*s+a)),d=h>0?s:Math.min(Math.max(-s,-l),s),f=-h*h+d*(d+2*l)+c);else d=o>0?-s:s,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(h4).addScaledVector(oB,d),f}intersectSphere(e,t){hp.subVectors(e.center,this.origin);const r=hp.dot(this.direction),i=hp.dot(hp)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(a=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),r>l||a>i)||((a>r||r!=r)&&(r=a),(l<i||i!=i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,hp)}intersectTriangle(e,t,r,i,s){f4.subVectors(t,e),aB.subVectors(r,e),d4.crossVectors(f4,aB);let a,o=this.direction.dot(d4);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}tm.subVectors(this.origin,e);const l=a*this.direction.dot(aB.crossVectors(tm,aB));if(l<0)return null;const c=a*this.direction.dot(f4.cross(tm));if(c<0||l+c>o)return null;const u=-a*tm.dot(d4);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Ir{constructor(e,t,r,i,s,o,a,l,c,u,h,d,f,A,p,m){Ir.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,r,i,s,o,a,l,c,u,h,d,f,A,p,m)}set(e,t,r,i,s,o,a,l,c,u,h,d,f,A,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=h,g[14]=d,g[3]=f,g[7]=A,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ir).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/w1.setFromMatrixColumn(e,0).length(),s=1/w1.setFromMatrixColumn(e,1).length(),o=1/w1.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if("XYZ"===e.order){const d=o*u,f=o*h,A=a*u,p=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=f+A*c,t[5]=d-p*c,t[9]=-a*l,t[2]=p-d*c,t[6]=A+f*c,t[10]=o*l}else if("YXZ"===e.order){const d=l*u,f=l*h,A=c*u,p=c*h;t[0]=d+p*a,t[4]=A*a-f,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=f*a-A,t[6]=p+d*a,t[10]=o*l}else if("ZXY"===e.order){const d=l*u,f=l*h,A=c*u,p=c*h;t[0]=d-p*a,t[4]=-o*h,t[8]=A+f*a,t[1]=f+A*a,t[5]=o*u,t[9]=p-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const d=o*u,f=o*h,A=a*u,p=a*h;t[0]=l*u,t[4]=A*c-f,t[8]=d*c+p,t[1]=l*h,t[5]=p*c+d,t[9]=f*c-A,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const d=o*l,f=o*c,A=a*l,p=a*c;t[0]=l*u,t[4]=p-d*h,t[8]=A*h+f,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=f*h+A,t[10]=d-p*h}else if("XZY"===e.order){const d=o*l,f=o*c,A=a*l,p=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=d*h+p,t[5]=o*u,t[9]=f*h-A,t[2]=A*h-f,t[6]=a*u,t[10]=p*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(fDe,e,dDe)}lookAt(e,t,r){const i=this.elements;return ah.subVectors(e,t),0===ah.lengthSq()&&(ah.z=1),ah.normalize(),nm.crossVectors(r,ah),0===nm.lengthSq()&&(1===Math.abs(r.z)?ah.x+=1e-4:ah.z+=1e-4,ah.normalize(),nm.crossVectors(r,ah)),nm.normalize(),lB.crossVectors(ah,nm),i[0]=nm.x,i[4]=lB.x,i[8]=ah.x,i[1]=nm.y,i[5]=lB.y,i[9]=ah.y,i[2]=nm.z,i[6]=lB.z,i[10]=ah.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],h=r[5],d=r[9],f=r[13],A=r[2],p=r[6],m=r[10],g=r[14],y=r[3],v=r[7],_=r[11],C=r[15],b=i[0],M=i[4],D=i[8],x=i[12],T=i[1],B=i[5],R=i[9],U=i[13],k=i[2],q=i[6],O=i[10],P=i[14],G=i[3],H=i[7],ae=i[11],ve=i[15];return s[0]=o*b+a*T+l*k+c*G,s[4]=o*M+a*B+l*q+c*H,s[8]=o*D+a*R+l*O+c*ae,s[12]=o*x+a*U+l*P+c*ve,s[1]=u*b+h*T+d*k+f*G,s[5]=u*M+h*B+d*q+f*H,s[9]=u*D+h*R+d*O+f*ae,s[13]=u*x+h*U+d*P+f*ve,s[2]=A*b+p*T+m*k+g*G,s[6]=A*M+p*B+m*q+g*H,s[10]=A*D+p*R+m*O+g*ae,s[14]=A*x+p*U+m*P+g*ve,s[3]=y*b+v*T+_*k+C*G,s[7]=y*M+v*B+_*q+C*H,s[11]=y*D+v*R+_*O+C*ae,s[15]=y*x+v*U+_*P+C*ve,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],d=e[10],f=e[14];return e[3]*(+s*l*h-i*c*h-s*a*d+r*c*d+i*a*f-r*l*f)+e[7]*(+t*l*f-t*c*d+s*o*d-i*o*f+i*c*u-s*l*u)+e[11]*(+t*c*h-t*a*f-s*o*h+r*o*f+s*a*u-r*c*u)+e[15]*(-i*a*u-t*l*h+t*a*d+i*o*h-r*o*d+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],f=e[11],A=e[12],p=e[13],m=e[14],g=e[15],y=h*m*c-p*d*c+p*l*f-a*m*f-h*l*g+a*d*g,v=A*d*c-u*m*c-A*l*f+o*m*f+u*l*g-o*d*g,_=u*p*c-A*h*c+A*a*f-o*p*f-u*a*g+o*h*g,C=A*h*l-u*p*l-A*a*d+o*p*d+u*a*m-o*h*m,b=t*y+r*v+i*_+s*C;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/b;return e[0]=y*M,e[1]=(p*d*s-h*m*s-p*i*f+r*m*f+h*i*g-r*d*g)*M,e[2]=(a*m*s-p*l*s+p*i*c-r*m*c-a*i*g+r*l*g)*M,e[3]=(h*l*s-a*d*s-h*i*c+r*d*c+a*i*f-r*l*f)*M,e[4]=v*M,e[5]=(u*m*s-A*d*s+A*i*f-t*m*f-u*i*g+t*d*g)*M,e[6]=(A*l*s-o*m*s-A*i*c+t*m*c+o*i*g-t*l*g)*M,e[7]=(o*d*s-u*l*s+u*i*c-t*d*c-o*i*f+t*l*f)*M,e[8]=_*M,e[9]=(A*h*s-u*p*s-A*r*f+t*p*f+u*r*g-t*h*g)*M,e[10]=(o*p*s-A*a*s+A*r*c-t*p*c-o*r*g+t*a*g)*M,e[11]=(u*a*s-o*h*s-u*r*c+t*h*c+o*r*f-t*a*f)*M,e[12]=C*M,e[13]=(u*p*i-A*h*i+A*r*d-t*p*d-u*r*m+t*h*m)*M,e[14]=(A*a*i-o*p*i-A*r*l+t*p*l+o*r*m-t*a*m)*M,e[15]=(o*h*i-u*a*i+u*r*l-t*h*l-o*r*d+t*a*d)*M,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,d=s*c,f=s*u,A=s*h,p=o*u,m=o*h,g=a*h,y=l*c,v=l*u,_=l*h,C=r.x,b=r.y,M=r.z;return i[0]=(1-(p+g))*C,i[1]=(f+_)*C,i[2]=(A-v)*C,i[3]=0,i[4]=(f-_)*b,i[5]=(1-(d+g))*b,i[6]=(m+y)*b,i[7]=0,i[8]=(A+v)*M,i[9]=(m-y)*M,i[10]=(1-(d+p))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=w1.set(i[0],i[1],i[2]).length();const o=w1.set(i[4],i[5],i[6]).length(),a=w1.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Yf.copy(this);const c=1/s,u=1/o,h=1/a;return Yf.elements[0]*=c,Yf.elements[1]*=c,Yf.elements[2]*=c,Yf.elements[4]*=u,Yf.elements[5]*=u,Yf.elements[6]*=u,Yf.elements[8]*=h,Yf.elements[9]*=h,Yf.elements[10]*=h,t.setFromRotationMatrix(Yf),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=ap){const l=this.elements,c=2*s/(t-e),u=2*s/(r-i),h=(t+e)/(t-e),d=(r+i)/(r-i);let f,A;if(a===ap)f=-(o+s)/(o-s),A=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);f=-o/(o-s),A=-o*s/(o-s)}return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=A,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=ap){const l=this.elements,c=1/(t-e),u=1/(r-i),h=1/(o-s),d=(t+e)*c,f=(r+i)*u;let A,p;if(a===ap)A=(o+s)*h,p=-2*h;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);A=s*h,p=-1*h}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=p,l[14]=-A,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const w1=new Re,Yf=new Ir,fDe=new Re(0,0,0),dDe=new Re(1,1,1),nm=new Re,lB=new Re,ah=new Re,RX=new Ir,OX=new kc;let fp=(()=>{class n{constructor(t=0,r=0,i=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=r,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,i,s=this._order){return this._x=t,this._y=r,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,i=!0){const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],h=s[9],d=s[2],f=s[6],A=s[10];switch(r){case"XYZ":this._y=Math.asin(Gr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,A),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Gr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(l,A),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Gr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,A),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-Gr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,A),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Gr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(l,A));break;case"XZY":this._z=Math.asin(-Gr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-h,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,r,i){return RX.makeRotationFromQuaternion(t),this.setFromRotationMatrix(RX,r,i)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return OX.setFromEuler(this),this.setFromQuaternion(OX,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class A4{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return!!(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let ADe=0;const PX=new Re,C1=new kc,dp=new Ir,cB=new Re,fx=new Re,pDe=new Re,gDe=new kc,LX=new Re(1,0,0),UX=new Re(0,1,0),kX=new Re(0,0,1),HX={type:"added"},mDe={type:"removed"},S1={type:"childadded",child:null},p4={type:"childremoved",child:null};let yo=(()=>{class n extends lp{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ADe++}),this.uuid=oh(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new Re,r=new fp,i=new kc,s=new Re(1,1,1);r._onChange(function o(){i.setFromEuler(r,!1)}),i._onChange(function a(){r.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Ir},normalMatrix:{value:new ni}}),this.matrix=new Ir,this.matrixWorld=new Ir,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new A4,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return C1.setFromAxisAngle(t,r),this.quaternion.multiply(C1),this}rotateOnWorldAxis(t,r){return C1.setFromAxisAngle(t,r),this.quaternion.premultiply(C1),this}rotateX(t){return this.rotateOnAxis(LX,t)}rotateY(t){return this.rotateOnAxis(UX,t)}rotateZ(t){return this.rotateOnAxis(kX,t)}translateOnAxis(t,r){return PX.copy(t).applyQuaternion(this.quaternion),this.position.add(PX.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(LX,t)}translateY(t){return this.translateOnAxis(UX,t)}translateZ(t){return this.translateOnAxis(kX,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(dp.copy(this.matrixWorld).invert())}lookAt(t,r,i){t.isVector3?cB.copy(t):cB.set(t,r,i);const s=this.parent;this.updateWorldMatrix(!0,!1),fx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dp.lookAt(fx,cB,this.up):dp.lookAt(cB,fx,this.up),this.quaternion.setFromRotationMatrix(dp),s&&(dp.extractRotation(s.matrixWorld),C1.setFromRotationMatrix(dp),this.quaternion.premultiply(C1.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(HX),S1.child=t,this.dispatchEvent(S1),S1.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const r=this.children.indexOf(t);return-1!==r&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(mDe),p4.child=t,this.dispatchEvent(p4),p4.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),dp.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),dp.multiply(t.parent.matrixWorld)),t.applyMatrix4(dp),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(HX),S1.child=t,this.dispatchEvent(S1),S1.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectByProperty(t,r);if(void 0!==a)return a}}getObjectsByProperty(t,r,i=[]){this[t]===r&&i.push(this);const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].getObjectsByProperty(t,r,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fx,t,pDe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fx,gDe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverseVisible(t)}traverseAncestors(t){const r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].updateMatrixWorld(t)}updateWorldMatrix(t,r){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===r){const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(t){const r=void 0===t||"string"==typeof t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(s.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),null!==this.boundingBox&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,h=c.length;u<h;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));s.material=l}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(t.animations,this.animations[l]))}if(r){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),h=a(t.images),d=a(t.shapes),f=a(t.skeletons),A=a(t.animations),p=a(t.nodes);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),u.length>0&&(i.textures=u),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),f.length>0&&(i.skeletons=f),A.length>0&&(i.animations=A),p.length>0&&(i.nodes=p)}return i.object=s,i;function a(l){const c=[];for(const u in l){const h=l[u];delete h.metadata,c.push(h)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}return n.DEFAULT_UP=new Re(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Jf=new Re,Ap=new Re,g4=new Re,pp=new Re,x1=new Re,E1=new Re,VX=new Re,m4=new Re,v4=new Re,y4=new Re,_4=new As,b4=new As,w4=new As;class lh{constructor(e=new Re,t=new Re,r=new Re){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Jf.subVectors(e,t),i.cross(Jf);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Jf.subVectors(i,t),Ap.subVectors(r,t),g4.subVectors(e,t);const o=Jf.dot(Jf),a=Jf.dot(Ap),l=Jf.dot(g4),c=Ap.dot(Ap),u=Ap.dot(g4),h=o*c-a*a;if(0===h)return s.set(0,0,0),null;const d=1/h,f=(c*l-a*u)*d,A=(o*u-a*l)*d;return s.set(1-f-A,A,f)}static containsPoint(e,t,r,i){return null!==this.getBarycoord(e,t,r,i,pp)&&pp.x>=0&&pp.y>=0&&pp.x+pp.y<=1}static getInterpolation(e,t,r,i,s,o,a,l){return null===this.getBarycoord(e,t,r,i,pp)?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,pp.x),l.addScaledVector(o,pp.y),l.addScaledVector(a,pp.z),l)}static getInterpolatedAttribute(e,t,r,i,s,o){return _4.setScalar(0),b4.setScalar(0),w4.setScalar(0),_4.fromBufferAttribute(e,t),b4.fromBufferAttribute(e,r),w4.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(_4,s.x),o.addScaledVector(b4,s.y),o.addScaledVector(w4,s.z),o}static isFrontFacing(e,t,r,i){return Jf.subVectors(r,t),Ap.subVectors(e,t),Jf.cross(Ap).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jf.subVectors(this.c,this.b),Ap.subVectors(this.a,this.b),.5*Jf.cross(Ap).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return lh.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return lh.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return lh.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return lh.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return lh.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;x1.subVectors(i,r),E1.subVectors(s,r),m4.subVectors(e,r);const l=x1.dot(m4),c=E1.dot(m4);if(l<=0&&c<=0)return t.copy(r);v4.subVectors(e,i);const u=x1.dot(v4),h=E1.dot(v4);if(u>=0&&h<=u)return t.copy(i);const d=l*h-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(x1,o);y4.subVectors(e,s);const f=x1.dot(y4),A=E1.dot(y4);if(A>=0&&f<=A)return t.copy(s);const p=f*c-l*A;if(p<=0&&c>=0&&A<=0)return a=c/(c-A),t.copy(r).addScaledVector(E1,a);const m=u*A-f*h;if(m<=0&&h-u>=0&&f-A>=0)return VX.subVectors(s,i),a=(h-u)/(h-u+(f-A)),t.copy(i).addScaledVector(VX,a);const g=1/(m+p+d);return o=p*g,a=d*g,t.copy(r).addScaledVector(x1,o).addScaledVector(E1,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const QX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},rm={h:0,s:0,l:0},uB={h:0,s:0,l:0};function C4(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Hn{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(void 0===t&&void 0===r){const i=e;i&&i.isColor?this.copy(i):"number"==typeof i?this.setHex(i):"string"==typeof i&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=sh){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,os.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=os.workingColorSpace){return this.r=e,this.g=t,this.b=r,os.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=os.workingColorSpace){if(e=function i4(n,e){return(n%e+e)%e}(e,1),t=Gr(t,0,1),r=Gr(r,0,1),0===t)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=C4(o,s,e+1/3),this.g=C4(o,s,e),this.b=C4(o,s,e-1/3)}return os.toWorkingColorSpace(this,i),this}setStyle(e,t=sh){function r(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[2];switch(i[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=sh){const r=QX[e.toLowerCase()];return void 0!==r?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=cp(e.r),this.g=cp(e.g),this.b=cp(e.b),this}copyLinearToSRGB(e){return this.r=p1(e.r),this.g=p1(e.g),this.b=p1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=sh){return os.fromWorkingColorSpace(sc.copy(this),e),65536*Math.round(Gr(255*sc.r,0,255))+256*Math.round(Gr(255*sc.g,0,255))+Math.round(Gr(255*sc.b,0,255))}getHexString(e=sh){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=os.workingColorSpace){os.fromWorkingColorSpace(sc.copy(this),t);const r=sc.r,i=sc.g,s=sc.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=os.workingColorSpace){return os.fromWorkingColorSpace(sc.copy(this),t),e.r=sc.r,e.g=sc.g,e.b=sc.b,e}getStyle(e=sh){os.fromWorkingColorSpace(sc.copy(this),e);const t=sc.r,r=sc.g,i=sc.b;return e!==sh?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*r)},${Math.round(255*i)})`}offsetHSL(e,t,r){return this.getHSL(rm),this.setHSL(rm.h+e,rm.s+t,rm.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(rm),e.getHSL(uB);const r=lx(rm.h,uB.h,t),i=lx(rm.s,uB.s,t),s=lx(rm.l,uB.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const sc=new Hn;Hn.NAMES=QX;let vDe=0;class Vc extends lp{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:vDe++}),this.uuid=oh(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Hn(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=h1,this.stencilZFail=h1,this.stencilZPass=h1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(r.dispersion=this.dispersion),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapRotation&&(r.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),!0===this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=!0),204!==this.blendSrc&&(r.blendSrc=this.blendSrc),205!==this.blendDst&&(r.blendDst=this.blendDst),100!==this.blendEquation&&(r.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(r.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(r.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(r.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(r.depthFunc=this.depthFunc),!1===this.depthTest&&(r.depthTest=this.depthTest),!1===this.depthWrite&&(r.depthWrite=this.depthWrite),!1===this.colorWrite&&(r.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(r.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(r.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(r.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==h1&&(r.stencilFail=this.stencilFail),this.stencilZFail!==h1&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==h1&&(r.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(r.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaHash&&(r.alphaHash=!0),!0===this.alphaToCoverage&&(r.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0),!0===this.forceSinglePass&&(r.forceSinglePass=!0),!0===this.wireframe&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData),t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class gp extends Vc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Hn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fp,this.combine=HT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ma=new Re,hB=new kt;class eo{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=r,this.usage=35044,this.updateRanges=[],this.gpuType=ih,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)hB.fromBufferAttribute(this,t),hB.applyMatrix3(e),this.setXY(t,hB.x,hB.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)Ma.fromBufferAttribute(this,t),Ma.applyMatrix3(e),this.setXYZ(t,Ma.x,Ma.y,Ma.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ma.fromBufferAttribute(this,t),Ma.applyMatrix4(e),this.setXYZ(t,Ma.x,Ma.y,Ma.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ma.fromBufferAttribute(this,t),Ma.applyNormalMatrix(e),this.setXYZ(t,Ma.x,Ma.y,Ma.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ma.fromBufferAttribute(this,t),Ma.transformDirection(e),this.setXYZ(t,Ma.x,Ma.y,Ma.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Uc(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=ti(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Uc(t,this.array)),t}setX(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Uc(t,this.array)),t}setY(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Uc(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Uc(t,this.array)),t}setW(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),r=ti(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),r=ti(r,this.array),i=ti(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),r=ti(r,this.array),i=ti(i,this.array),s=ti(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class zX extends eo{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class GX extends eo{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Jn extends eo{constructor(e,t,r){super(new Float32Array(e),t,r)}}let _De=0;const Qh=new Ir,S4=new yo,D1=new Re,ch=new yu,Ax=new yu,fl=new Re;class Ai extends lp{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_De++}),this.uuid=oh(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(MX(e)?GX:zX)(e,1):e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const s=(new ni).getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Qh.makeRotationFromQuaternion(e),this.applyMatrix4(Qh),this}rotateX(e){return Qh.makeRotationX(e),this.applyMatrix4(Qh),this}rotateY(e){return Qh.makeRotationY(e),this.applyMatrix4(Qh),this}rotateZ(e){return Qh.makeRotationZ(e),this.applyMatrix4(Qh),this}translate(e,t,r){return Qh.makeTranslation(e,t,r),this.applyMatrix4(Qh),this}scale(e,t,r){return Qh.makeScale(e,t,r),this.applyMatrix4(Qh),this}lookAt(e){return S4.lookAt(e),S4.updateMatrix(),this.applyMatrix4(S4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(D1).negate(),this.translate(D1.x,D1.y,D1.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Jn(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new yu);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Re(-1/0,-1/0,-1/0),new Re(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++)ch.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(fl.addVectors(this.boundingBox.min,ch.min),this.boundingBox.expandByPoint(fl),fl.addVectors(this.boundingBox.max,ch.max),this.boundingBox.expandByPoint(fl)):(this.boundingBox.expandByPoint(ch.min),this.boundingBox.expandByPoint(ch.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Hc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Re,1/0);if(e){const r=this.boundingSphere.center;if(ch.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)Ax.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(fl.addVectors(ch.min,Ax.min),ch.expandByPoint(fl),fl.addVectors(ch.max,Ax.max),ch.expandByPoint(fl)):(ch.expandByPoint(Ax.min),ch.expandByPoint(Ax.max));ch.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)fl.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(fl));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)fl.fromBufferAttribute(a,c),l&&(D1.fromBufferAttribute(e,c),fl.add(D1)),i=Math.max(i,r.distanceToSquared(fl))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=t.position,i=t.normal,s=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new eo(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let D=0;D<r.count;D++)a[D]=new Re,l[D]=new Re;const c=new Re,u=new Re,h=new Re,d=new kt,f=new kt,A=new kt,p=new Re,m=new Re;function g(D,x,T){c.fromBufferAttribute(r,D),u.fromBufferAttribute(r,x),h.fromBufferAttribute(r,T),d.fromBufferAttribute(s,D),f.fromBufferAttribute(s,x),A.fromBufferAttribute(s,T),u.sub(c),h.sub(c),f.sub(d),A.sub(d);const B=1/(f.x*A.y-A.x*f.y);isFinite(B)&&(p.copy(u).multiplyScalar(A.y).addScaledVector(h,-f.y).multiplyScalar(B),m.copy(h).multiplyScalar(f.x).addScaledVector(u,-A.x).multiplyScalar(B),a[D].add(p),a[x].add(p),a[T].add(p),l[D].add(m),l[x].add(m),l[T].add(m))}let y=this.groups;0===y.length&&(y=[{start:0,count:e.count}]);for(let D=0,x=y.length;D<x;++D){const T=y[D],B=T.start;for(let U=B,k=B+T.count;U<k;U+=3)g(e.getX(U+0),e.getX(U+1),e.getX(U+2))}const v=new Re,_=new Re,C=new Re,b=new Re;function M(D){C.fromBufferAttribute(i,D),b.copy(C);const x=a[D];v.copy(x),v.sub(C.multiplyScalar(C.dot(x))).normalize(),_.crossVectors(b,x);const B=_.dot(l[D])<0?-1:1;o.setXYZW(D,v.x,v.y,v.z,B)}for(let D=0,x=y.length;D<x;++D){const T=y[D],B=T.start;for(let U=B,k=B+T.count;U<k;U+=3)M(e.getX(U+0)),M(e.getX(U+1)),M(e.getX(U+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new eo(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let d=0,f=r.count;d<f;d++)r.setXYZ(d,0,0,0);const i=new Re,s=new Re,o=new Re,a=new Re,l=new Re,c=new Re,u=new Re,h=new Re;if(e)for(let d=0,f=e.count;d<f;d+=3){const A=e.getX(d+0),p=e.getX(d+1),m=e.getX(d+2);i.fromBufferAttribute(t,A),s.fromBufferAttribute(t,p),o.fromBufferAttribute(t,m),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),a.fromBufferAttribute(r,A),l.fromBufferAttribute(r,p),c.fromBufferAttribute(r,m),a.add(u),l.add(u),c.add(u),r.setXYZ(A,a.x,a.y,a.z),r.setXYZ(p,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z)}else for(let d=0,f=t.count;d<f;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)fl.fromBufferAttribute(e,t),fl.normalize(),e.setXYZ(t,fl.x,fl.y,fl.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,d=new c.constructor(l.length*u);let f=0,A=0;for(let p=0,m=l.length;p<m;p++){f=a.isInterleavedBufferAttribute?l[p]*a.data.stride+a.offset:l[p]*u;for(let g=0;g<u;g++)d[A++]=c[f++]}return new eo(d,u,h)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ai,r=this.index.array,i=this.attributes;for(const a in i){const c=e(i[a],r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const f=e(c[u],r);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r)e.data.attributes[l]=r[l].toJSON(e.data);const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,d=c.length;h<d;h++)u.push(c[h].toJSON(e.data));u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i)this.setAttribute(c,i[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let d=0,f=h.length;d<f;d++)u.push(h[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const jX=new Ir,f0=new b1,fB=new Hc,qX=new Re,dB=new Re,AB=new Re,pB=new Re,x4=new Re,gB=new Re,WX=new Re,mB=new Re;class la extends yo{constructor(e=new Ai,t=new gp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(r.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){gB.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l];0!==u&&(x4.fromBufferAttribute(s[l],e),gB.addScaledVector(o?x4:x4.sub(t),u))}t.add(gB)}return t}raycast(e,t){const r=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===r.boundingSphere&&r.computeBoundingSphere(),fB.copy(r.boundingSphere),fB.applyMatrix4(s),f0.copy(e.ray).recast(e.near),(!1!==fB.containsPoint(f0.origin)||!(null===f0.intersectSphere(fB,qX)||f0.origin.distanceToSquared(qX)>(e.far-e.near)**2))&&(jX.copy(s).invert(),f0.copy(e.ray).applyMatrix4(jX),(null===r.boundingBox||!1!==f0.intersectsBox(r.boundingBox))&&this._computeIntersections(e,t,f0)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,d=s.groups,f=s.drawRange;if(null!==a)if(Array.isArray(o))for(let A=0,p=d.length;A<p;A++){const m=d[A],g=o[m.materialIndex];for(let _=Math.max(m.start,f.start),C=Math.min(a.count,Math.min(m.start+m.count,f.start+f.count));_<C;_+=3)i=vB(this,g,e,r,c,u,h,a.getX(_),a.getX(_+1),a.getX(_+2)),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=m.materialIndex,t.push(i))}else for(let m=Math.max(0,f.start),g=Math.min(a.count,f.start+f.count);m<g;m+=3)i=vB(this,o,e,r,c,u,h,a.getX(m),a.getX(m+1),a.getX(m+2)),i&&(i.faceIndex=Math.floor(m/3),t.push(i));else if(void 0!==l)if(Array.isArray(o))for(let A=0,p=d.length;A<p;A++){const m=d[A],g=o[m.materialIndex];for(let _=Math.max(m.start,f.start),C=Math.min(l.count,Math.min(m.start+m.count,f.start+f.count));_<C;_+=3)i=vB(this,g,e,r,c,u,h,_,_+1,_+2),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=m.materialIndex,t.push(i))}else for(let m=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);m<g;m+=3)i=vB(this,o,e,r,c,u,h,m,m+1,m+2),i&&(i.faceIndex=Math.floor(m/3),t.push(i))}}function vB(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,dB),n.getVertexPosition(l,AB),n.getVertexPosition(c,pB);const u=function bDe(n,e,t,r,i,s,o,a){let l;if(l=1===e.side?r.intersectTriangle(o,s,i,!0,a):r.intersectTriangle(i,s,o,0===e.side,a),null===l)return null;mB.copy(a),mB.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(mB);return c<t.near||c>t.far?null:{distance:c,point:mB.clone(),object:n}}(n,e,t,r,dB,AB,pB,WX);if(u){const h=new Re;lh.getBarycoord(WX,dB,AB,pB,h),i&&(u.uv=lh.getInterpolatedAttribute(i,a,l,c,h,new kt)),s&&(u.uv1=lh.getInterpolatedAttribute(s,a,l,c,h,new kt)),o&&(u.normal=lh.getInterpolatedAttribute(o,a,l,c,h,new Re),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new Re,materialIndex:0};lh.getNormal(dB,AB,pB,d.normal),u.face=d,u.barycoord=h}return u}class M1 extends Ai{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let d=0,f=0;function A(p,m,g,y,v,_,C,b,M,D,x){const T=_/M,B=C/D,R=_/2,U=C/2,k=b/2,q=M+1,O=D+1;let P=0,G=0;const H=new Re;for(let ae=0;ae<O;ae++){const ve=ae*B-U;for(let Q=0;Q<q;Q++)H[p]=(Q*T-R)*y,H[m]=ve*v,H[g]=k,c.push(H.x,H.y,H.z),H[p]=0,H[m]=0,H[g]=b>0?1:-1,u.push(H.x,H.y,H.z),h.push(Q/M),h.push(1-ae/D),P+=1}for(let ae=0;ae<D;ae++)for(let ve=0;ve<M;ve++){const j=d+ve+q*(ae+1),K=d+(ve+1)+q*(ae+1),oe=d+(ve+1)+q*ae;l.push(d+ve+q*ae,j,oe),l.push(j,K,oe),G+=6}a.addGroup(f,G,x),f+=G,d+=P}A("z","y","x",-1,-1,r,t,e,o,s,0),A("z","y","x",1,-1,r,t,-e,o,s,1),A("x","z","y",1,1,e,r,t,i,o,2),A("x","z","y",1,-1,e,r,-t,i,o,3),A("x","y","z",1,-1,e,t,r,i,s,4),A("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Jn(c,3)),this.setAttribute("normal",new Jn(u,3)),this.setAttribute("uv",new Jn(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new M1(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function T1(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():e[t][r]=Array.isArray(i)?i.slice():i}}return e}function Qc(n){const e={};for(let t=0;t<n.length;t++){const r=T1(n[t]);for(const i in r)e[i]=r[i]}return e}function $X(n){const e=n.getRenderTarget();return null===e?n.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:os.workingColorSpace}const CDe={clone:T1,merge:Qc};class Zd extends Vc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=T1(e.uniforms),this.uniformsGroups=function wDe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;t.uniforms[i]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)!0===this.extensions[i]&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class E4 extends yo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ir,this.projectionMatrix=new Ir,this.projectionMatrixInverse=new Ir,this.coordinateSystem=ap}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const im=new Re,KX=new kt,XX=new kt;class Rl extends E4{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*f1*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*c0*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*f1*Math.atan(Math.tan(.5*c0*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){im.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(im.x,im.y).multiplyScalar(-e/im.z),im.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(im.x,im.y).multiplyScalar(-e/im.z)}getViewSize(e,t){return this.getViewBounds(e,KX,XX),t.subVectors(XX,KX)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*c0*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class EDe extends yo{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Rl(-90,1,e,t);i.layers=this.layers,this.add(i);const s=new Rl(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new Rl(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new Rl(-90,1,e,t);a.layers=this.layers,this.add(a);const l=new Rl(-90,1,e,t);l.layers=this.layers,this.add(l);const c=new Rl(-90,1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===ap)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,h=e.getRenderTarget(),d=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),A=e.xr.enabled;e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=p,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(h,d,f),e.xr.enabled=A,r.texture.needsPMREMUpdate=!0}}class yB extends vu{constructor(e,t,r,i,s,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:Xg,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class DDe extends Jd{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new yB([r,r,r,r,r,r],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:hl}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new M1(5,5,5),s=new Zd({name:"CubemapFromEquirect",uniforms:T1(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new la(i,s),a=t.minFilter;return t.minFilter===sp&&(t.minFilter=hl),new EDe(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}class YX extends yo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new fp,this.environmentIntensity=1,this.environmentRotation=new fp,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const R4=new Re,ODe=new Re,PDe=new ni;class sm{constructor(e=new Re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=R4.subVectors(r,t).cross(ODe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(R4),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||PDe.getNormalMatrix(e),i=this.coplanarPoint(R4).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const d0=new Hc,EB=new Re;class DB{constructor(e=new sm,t=new sm,r=new sm,i=new sm,s=new sm,o=new sm){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=ap){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=i[6],d=i[7],f=i[8],A=i[9],p=i[10],m=i[11],g=i[12],y=i[13],v=i[14],_=i[15];if(r[0].setComponents(l-s,d-c,m-f,_-g).normalize(),r[1].setComponents(l+s,d+c,m+f,_+g).normalize(),r[2].setComponents(l+o,d+u,m+A,_+y).normalize(),r[3].setComponents(l-o,d-u,m-A,_-y).normalize(),r[4].setComponents(l-a,d-h,m-p,_-v).normalize(),t===ap)r[5].setComponents(l+a,d+h,m+p,_+v).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);r[5].setComponents(a,h,p,v).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),d0.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),d0.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(d0)}intersectsSprite(e){return d0.center.set(0,0,0),d0.radius=.7071067811865476,d0.applyMatrix4(e.matrixWorld),this.intersectsSphere(d0)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(EB.x=i.normal.x>0?e.max.x:e.min.x,EB.y=i.normal.y>0?e.max.y:e.min.y,EB.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(EB)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class Cx extends yo{constructor(){super(),this.isGroup=!0,this.type="Group"}}class _Y extends vu{constructor(e,t,r,i,s,o,a,l,c,u=o1){if(u!==o1&&u!==a1)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&u===o1&&(r=Yg),void 0===r&&u===a1&&(r=s1),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:rc,this.minFilter=void 0!==l?l:rc,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class m0 extends Ai{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],h=[],d=[],f=[];let A=0;const p=[],m=r/2;let g=0;function v(_){const C=A,b=new kt,M=new Re;let D=0;const x=!0===_?e:t,T=!0===_?1:-1;for(let R=1;R<=i;R++)h.push(0,m*T,0),d.push(0,T,0),f.push(.5,.5),A++;const B=A;for(let R=0;R<=i;R++){const k=R/i*l+a,q=Math.cos(k),O=Math.sin(k);M.x=x*O,M.y=m*T,M.z=x*q,h.push(M.x,M.y,M.z),d.push(0,T,0),b.x=.5*q+.5,b.y=.5*O*T+.5,f.push(b.x,b.y),A++}for(let R=0;R<i;R++){const U=C+R,k=B+R;!0===_?u.push(k,k+1,U):u.push(k+1,k,U),D+=3}c.addGroup(g,D,!0===_?1:2),g+=D}(function y(){const _=new Re,C=new Re;let b=0;const M=(t-e)/r;for(let D=0;D<=s;D++){const x=[],T=D/s,B=T*(t-e)+e;for(let R=0;R<=i;R++){const U=R/i,k=U*l+a,q=Math.sin(k),O=Math.cos(k);C.x=B*q,C.y=-T*r+m,C.z=B*O,h.push(C.x,C.y,C.z),_.set(q,M,O).normalize(),d.push(_.x,_.y,_.z),f.push(U,1-T),x.push(A++)}p.push(x)}for(let D=0;D<i;D++)for(let x=0;x<s;x++){const B=p[x+1][D],R=p[x+1][D+1],U=p[x][D+1];(e>0||0!==x)&&(u.push(p[x][D],B,U),b+=3),(t>0||x!==s-1)&&(u.push(B,R,U),b+=3)}c.addGroup(g,b,0),g+=b})(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new Jn(h,3)),this.setAttribute("normal",new Jn(d,3)),this.setAttribute("uv",new Jn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Tx extends Ai{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,h=e/a,d=t/l,f=[],A=[],p=[],m=[];for(let g=0;g<u;g++){const y=g*d-o;for(let v=0;v<c;v++)A.push(v*h-s,-y,0),p.push(0,0,1),m.push(v/a),m.push(1-g/l)}for(let g=0;g<l;g++)for(let y=0;y<a;y++){const _=y+c*(g+1),C=y+1+c*(g+1),b=y+1+c*g;f.push(y+c*g,_,b),f.push(_,C,b)}this.setIndex(f),this.setAttribute("position",new Jn(A,3)),this.setAttribute("normal",new Jn(p,3)),this.setAttribute("uv",new Jn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tx(e.width,e.height,e.widthSegments,e.heightSegments)}}class PY extends Vc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class LY extends Vc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function _0(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}class $B{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{i:if(!(e<i)){for(let a=r+2;;){if(void 0===i){if(e<s)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0}}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class LMe extends $B{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-r;break;case 2402:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*r-t;break;case 2402:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=.5*(r-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,f=this._weightNext,A=(r-t)/(i-t),p=A*A,m=p*A,g=-d*m+2*d*p-d*A,y=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*A+1,v=(-1-f)*m+(1.5+f)*p+.5*A,_=f*m-f*p;for(let C=0;C!==a;++C)s[C]=g*o[u+C]+y*o[c+C]+v*o[l+C]+_*o[h+C];return s}}class HY extends $B{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),h=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*h+o[l+d]*u;return s}}class UMe extends $B{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class tA{constructor(e,t,r,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=_0(t,this.TimeBufferType),this.values=_0(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:_0(e.times,Array),values:_0(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new UMe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new HY(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new LMe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;-1!==o&&r[o]>t;)--o;if(++o,0!==s||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==i&&function UY(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(i)l=!0;else{const h=a*r,d=h-r,f=h+r;for(let A=0;A!==r;++A){const p=t[h+A];if(p!==t[d+A]||p!==t[f+A]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,d=o*r;for(let f=0;f!==r;++f)t[d+f]=t[h+f]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}tA.prototype.TimeBufferType=Float32Array,tA.prototype.ValueBufferType=Float32Array,tA.prototype.DefaultInterpolation=2301;class H1 extends tA{constructor(e,t,r){super(e,t,r)}}H1.prototype.ValueTypeName="bool",H1.prototype.ValueBufferType=Array,H1.prototype.DefaultInterpolation=2300,H1.prototype.InterpolantFactoryMethodLinear=void 0,H1.prototype.InterpolantFactoryMethodSmooth=void 0;(class VY extends tA{}).prototype.ValueTypeName="color";(class KB extends tA{}).prototype.ValueTypeName="number";class kMe extends $B{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)kc.slerpFlat(s,0,o,c-a,o,c,l);return s}}class XB extends tA{InterpolantFactoryMethodLinear(e){return new kMe(this.times,this.values,this.getValueSize(),e)}}XB.prototype.ValueTypeName="quaternion",XB.prototype.InterpolantFactoryMethodSmooth=void 0;class V1 extends tA{constructor(e,t,r){super(e,t,r)}}V1.prototype.ValueTypeName="string",V1.prototype.ValueBufferType=Array,V1.prototype.DefaultInterpolation=2300,V1.prototype.InterpolantFactoryMethodLinear=void 0,V1.prototype.InterpolantFactoryMethodSmooth=void 0;(class YB extends tA{}).prototype.ValueTypeName="vector",Error;class b0 extends yo{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Hn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}const ck=new Ir,zY=new Re,GY=new Re;class uk{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new kt(512,512),this.map=null,this.mapPass=null,this.matrix=new Ir,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new DB,this._frameExtents=new kt(1,1),this._viewportCount=1,this._viewports=[new As(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;zY.setFromMatrixPosition(e.matrixWorld),t.position.copy(zY),GY.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(GY),t.updateMatrixWorld(),ck.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ck),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(ck)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class fk extends E4{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class KMe extends uk{constructor(){super(new fk(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class qY extends b0{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(yo.DEFAULT_UP),this.updateMatrix(),this.target=new yo,this.shadow=new KMe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class WY extends b0{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class nTe extends Rl{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}const Ak="\\[\\]\\.:\\/",lTe=new RegExp("["+Ak+"]","g"),pk="[^"+Ak+"]",cTe="[^"+Ak.replace("\\.","")+"]",ATe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",pk)+/(WCOD+)?/.source.replace("WCOD",cTe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",pk)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",pk)+"$"),pTe=["material","materials","bones","map"];class gTe{constructor(e,t,r){const i=r||_o.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}let _o=(()=>{class n{constructor(t,r,i){this.path=r,this.parsedPath=i||n.parseTrackName(r),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,i){return t&&t.isAnimationObjectGroup?new n.Composite(t,r,i):new n(t,r,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(lTe,"")}static parseTrackName(t){const r=ATe.exec(t);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=i.nodeName.substring(s+1);-1!==pTe.indexOf(o)&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=o)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(r);if(void 0!==i)return i}if(t.children){const i=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===r||l.uuid===r)return l;const c=i(l.children);if(c)return c}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)t[r++]=i[s]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,i=r.objectName,s=r.propertyName;let o=r.propertyIndex;if(t||(t=n.findNode(this.rootNode,r.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(i){let u=r.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let h=0;h<t.length;h++)if(t[h].name===u){u=h;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=gTe,n})();_o.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},_o.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},_o.prototype.GetterByBindingType=[_o.prototype._getValue_direct,_o.prototype._getValue_array,_o.prototype._getValue_arrayElement,_o.prototype._getValue_toArray],_o.prototype.SetterByBindingTypeAndVersioning=[[_o.prototype._setValue_direct,_o.prototype._setValue_direct_setNeedsUpdate,_o.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_o.prototype._setValue_array,_o.prototype._setValue_array_setNeedsUpdate,_o.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_o.prototype._setValue_arrayElement,_o.prototype._setValue_arrayElement_setNeedsUpdate,_o.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_o.prototype._setValue_fromArray,_o.prototype._setValue_fromArray_setNeedsUpdate,_o.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class oJ{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Gr(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Gr(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class bTe extends lp{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function yk(n,e,t,r){const i=function xTe(n){switch(n){case op:case AX:return{byteLength:1,components:1};case ox:case pX:case ax:return{byteLength:2,components:1};case SU:case xU:return{byteLength:2,components:4};case Yg:case CU:case ih:return{byteLength:4,components:1};case gX:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}(r);switch(t){case mX:case yX:return n*e;case _X:return n*e*2;case EU:case qT:return n*e/i.components*i.byteLength;case bX:case DU:return n*e*2/i.components*i.byteLength;case vX:return n*e*3/i.components*i.byteLength;case mu:case MU:return n*e*4/i.components*i.byteLength;case WT:case $T:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case KT:case XT:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case BU:case IU:return Math.max(n,16)*Math.max(e,8)/4;case TU:case NU:return Math.max(n,8)*Math.max(e,8)/2;case FU:case RU:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case OU:case PU:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case LU:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case UU:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case kU:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case HU:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case VU:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case QU:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case zU:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case GU:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case jU:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case qU:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case WU:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case $U:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case KU:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case YT:case XU:case YU:return Math.ceil(n/4)*Math.ceil(e/4)*16;case wX:case JU:return Math.ceil(n/4)*Math.ceil(e/4)*8;case ZU:case e4:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"171"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="171");const mJ={type:"change"},_k={type:"start"},vJ={type:"end"},aN=new b1,yJ=new sm,ETe=Math.cos(70*eDe_DEG2RAD),qa=new Re,Cu=2*Math.PI,bk=1e-6;class DTe extends bTe{constructor(e,t=null){super(e,t),this.state=-1,this.enabled=!0,this.target=new Re,this.cursor=new Re,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Re,this._lastQuaternion=new kc,this._lastTargetPosition=new Re,this._quat=(new kc).setFromUnitVectors(e.up,new Re(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new oJ,this._sphericalDelta=new oJ,this._scale=1,this._panOffset=new Re,this._rotateStart=new kt,this._rotateEnd=new kt,this._rotateDelta=new kt,this._panStart=new kt,this._panEnd=new kt,this._panDelta=new kt,this._dollyStart=new kt,this._dollyEnd=new kt,this._dollyDelta=new kt,this._dollyDirection=new Re,this._mouse=new kt,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=TTe.bind(this),this._onPointerDown=MTe.bind(this),this._onPointerUp=BTe.bind(this),this._onContextMenu=LTe.bind(this),this._onMouseWheel=FTe.bind(this),this._onKeyDown=RTe.bind(this),this._onTouchStart=OTe.bind(this),this._onTouchMove=PTe.bind(this),this._onMouseDown=NTe.bind(this),this._onMouseMove=ITe.bind(this),this._interceptControlDown=UTe.bind(this),this._interceptControlUp=kTe.bind(this),null!==this.domElement&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(mJ),this.update(),this.state=-1}update(e=null){const t=this.object.position;qa.copy(t).sub(this.target),qa.applyQuaternion(this._quat),this._spherical.setFromVector3(qa),this.autoRotate&&-1===this.state&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=Cu:r>Math.PI&&(r-=Cu),i<-Math.PI?i+=Cu:i>Math.PI&&(i-=Cu),this._spherical.theta=r<=i?Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=o!=this._spherical.radius}if(qa.setFromSpherical(this._spherical),qa.applyQuaternion(this._quatInverse),t.copy(this.target).add(qa),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const a=qa.length();o=this._clampDistance(a*this._scale);const l=a-o;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),s=!!l}else if(this.object.isOrthographicCamera){const a=new Re(this._mouse.x,this._mouse.y,0);a.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=l!==this.object.zoom;const c=new Re(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(a),this.object.updateMatrixWorld(),o=qa.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;null!==o&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(aN.origin.copy(this.object.position),aN.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(aN.direction))<ETe?this.object.lookAt(this.target):(yJ.setFromNormalAndCoplanarPoint(this.object.up,this.target),aN.intersectPlane(yJ,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,!!(s||this._lastPosition.distanceToSquared(this.object.position)>bk||8*(1-this._lastQuaternion.dot(this.object.quaternion))>bk||this._lastTargetPosition.distanceToSquared(this.target)>bk)&&(this.dispatchEvent(mJ),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(e){return null!==e?Cu/60*this.autoRotateSpeed*e:Cu/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){qa.setFromMatrixColumn(t,0),qa.multiplyScalar(-e),this._panOffset.add(qa)}_panUp(e,t){!0===this.screenSpacePanning?qa.setFromMatrixColumn(t,1):(qa.setFromMatrixColumn(t,0),qa.crossVectors(this.object.up,qa)),qa.multiplyScalar(e),this._panOffset.add(qa)}_pan(e,t){const r=this.domElement;if(this.object.isPerspectiveCamera){qa.copy(this.object.position).sub(this.target);let s=qa.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/r.clientHeight,this.object.matrix),this._panUp(2*t*s/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),s=t-r.top,a=r.height;this._mouse.x=(e-r.left)/r.width*2-1,this._mouse.y=-s/a*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Cu*this._rotateDelta.x/t.clientHeight),this._rotateUp(Cu*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Cu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Cu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Cu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Cu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(1===this._pointers.length)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._rotateStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartPan(e){if(1===this._pointers.length)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),r=e.pageX-t.x,i=e.pageY-t.y,s=Math.sqrt(r*r+i*i);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(1==this._pointers.length)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e);this._rotateEnd.set(.5*(e.pageX+r.x),.5*(e.pageY+r.y))}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Cu*this._rotateDelta.x/t.clientHeight),this._rotateUp(Cu*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(1===this._pointers.length)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panEnd.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),r=e.pageX-t.x,i=e.pageY-t.y,s=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd),this._updateZoomParameters(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return void this._pointers.splice(t,1)}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];void 0===t&&(t=new kt,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){return this._pointerPositions[e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0]]}_customWheelEvent(e){const r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(e.deltaMode){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function MTe(n){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),"touch"===n.pointerType?this._onTouchStart(n):this._onMouseDown(n)))}function TTe(n){!1!==this.enabled&&("touch"===n.pointerType?this._onTouchMove(n):this._onMouseMove(n))}function BTe(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(vJ),this.state=-1;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y})}}function NTe(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case 1:if(!1===this.enableZoom)return;this._handleMouseDownDolly(n),this.state=1;break;case 0:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}break;case 2:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}else{if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(_k)}function ITe(n){switch(this.state){case 0:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(n);break;case 1:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(n);break;case 2:if(!1===this.enablePan)return;this._handleMouseMovePan(n)}}function FTe(n){!1===this.enabled||!1===this.enableZoom||-1!==this.state||(n.preventDefault(),this.dispatchEvent(_k),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(vJ))}function RTe(n){!1!==this.enabled&&this._handleKeyDown(n)}function OTe(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case 0:if(!1===this.enableRotate)return;this._handleTouchStartRotate(n),this.state=3;break;case 1:if(!1===this.enablePan)return;this._handleTouchStartPan(n),this.state=4;break;default:this.state=-1}break;case 2:switch(this.touches.TWO){case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(n),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(n),this.state=6;break;default:this.state=-1}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(_k)}function PTe(n){switch(this._trackPointer(n),this.state){case 3:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(n),this.update();break;case 4:if(!1===this.enablePan)return;this._handleTouchMovePan(n),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(n),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=-1}}function LTe(n){!1!==this.enabled&&n.preventDefault()}function UTe(n){"Control"===n.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function kTe(n){"Control"===n.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function _J(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==t&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function HTe(n){const e=new WeakMap;return{get:function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)},remove:function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))},update:function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);return void((!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version}))}const c=e.get(a);if(void 0===c)e.set(a,function t(a,l){const c=a.array,u=a.usage,h=c.byteLength,d=n.createBuffer();let f;if(n.bindBuffer(l,d),n.bufferData(l,c,u),a.onUploadCallback(),c instanceof Float32Array)f=n.FLOAT;else if(c instanceof Uint16Array)f=a.isFloat16BufferAttribute?n.HALF_FLOAT:n.UNSIGNED_SHORT;else if(c instanceof Int16Array)f=n.SHORT;else if(c instanceof Uint32Array)f=n.UNSIGNED_INT;else if(c instanceof Int32Array)f=n.INT;else if(c instanceof Int8Array)f=n.BYTE;else if(c instanceof Uint8Array)f=n.UNSIGNED_BYTE;else{if(!(c instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);f=n.UNSIGNED_BYTE}return{buffer:d,type:f,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function r(a,l,c){const u=l.array,h=l.updateRanges;if(n.bindBuffer(c,a),0===h.length)n.bufferSubData(c,0,u);else{h.sort((f,A)=>f.start-A.start);let d=0;for(let f=1;f<h.length;f++){const A=h[d],p=h[f];p.start<=A.start+A.count+1?A.count=Math.max(A.count,p.start+p.count-A.start):(++d,h[d]=p)}h.length=d+1;for(let f=0,A=h.length;f<A;f++){const p=h[f];n.bufferSubData(c,p.start*u.BYTES_PER_ELEMENT,u,p.start,p.count)}l.clearUpdateRanges()}l.onUploadCallback()})(c.buffer,a,l),c.version=a.version}}}}const pi={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Fn={common:{diffuse:{value:new Hn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ni},alphaMap:{value:null},alphaMapTransform:{value:new ni},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ni}},envmap:{envMap:{value:null},envMapRotation:{value:new ni},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ni}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ni}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ni},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ni},normalScale:{value:new kt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ni},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ni}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ni}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ni}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Hn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Hn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ni},alphaTest:{value:0},uvTransform:{value:new ni}},sprite:{diffuse:{value:new Hn(16777215)},opacity:{value:1},center:{value:new kt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ni},alphaMap:{value:null},alphaMapTransform:{value:new ni},alphaTest:{value:0}}},nA={basic:{uniforms:Qc([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.fog]),vertexShader:pi.meshbasic_vert,fragmentShader:pi.meshbasic_frag},lambert:{uniforms:Qc([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,Fn.lights,{emissive:{value:new Hn(0)}}]),vertexShader:pi.meshlambert_vert,fragmentShader:pi.meshlambert_frag},phong:{uniforms:Qc([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,Fn.lights,{emissive:{value:new Hn(0)},specular:{value:new Hn(1118481)},shininess:{value:30}}]),vertexShader:pi.meshphong_vert,fragmentShader:pi.meshphong_frag},standard:{uniforms:Qc([Fn.common,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.roughnessmap,Fn.metalnessmap,Fn.fog,Fn.lights,{emissive:{value:new Hn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:pi.meshphysical_vert,fragmentShader:pi.meshphysical_frag},toon:{uniforms:Qc([Fn.common,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.gradientmap,Fn.fog,Fn.lights,{emissive:{value:new Hn(0)}}]),vertexShader:pi.meshtoon_vert,fragmentShader:pi.meshtoon_frag},matcap:{uniforms:Qc([Fn.common,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,{matcap:{value:null}}]),vertexShader:pi.meshmatcap_vert,fragmentShader:pi.meshmatcap_frag},points:{uniforms:Qc([Fn.points,Fn.fog]),vertexShader:pi.points_vert,fragmentShader:pi.points_frag},dashed:{uniforms:Qc([Fn.common,Fn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:pi.linedashed_vert,fragmentShader:pi.linedashed_frag},depth:{uniforms:Qc([Fn.common,Fn.displacementmap]),vertexShader:pi.depth_vert,fragmentShader:pi.depth_frag},normal:{uniforms:Qc([Fn.common,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,{opacity:{value:1}}]),vertexShader:pi.meshnormal_vert,fragmentShader:pi.meshnormal_frag},sprite:{uniforms:Qc([Fn.sprite,Fn.fog]),vertexShader:pi.sprite_vert,fragmentShader:pi.sprite_frag},background:{uniforms:{uvTransform:{value:new ni},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:pi.background_vert,fragmentShader:pi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ni}},vertexShader:pi.backgroundCube_vert,fragmentShader:pi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:pi.cube_vert,fragmentShader:pi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:pi.equirect_vert,fragmentShader:pi.equirect_frag},distanceRGBA:{uniforms:Qc([Fn.common,Fn.displacementmap,{referencePosition:{value:new Re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:pi.distanceRGBA_vert,fragmentShader:pi.distanceRGBA_frag},shadow:{uniforms:Qc([Fn.lights,Fn.fog,{color:{value:new Hn(0)},opacity:{value:1}}]),vertexShader:pi.shadow_vert,fragmentShader:pi.shadow_frag}};nA.physical={uniforms:Qc([nA.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ni},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ni},clearcoatNormalScale:{value:new kt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ni},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ni},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ni},sheen:{value:0},sheenColor:{value:new Hn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ni},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ni},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ni},transmissionSamplerSize:{value:new kt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ni},attenuationDistance:{value:0},attenuationColor:{value:new Hn(0)},specularColor:{value:new Hn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ni},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ni},anisotropyVector:{value:new kt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ni}}]),vertexShader:pi.meshphysical_vert,fragmentShader:pi.meshphysical_frag};const lN={r:0,b:0,g:0},D0=new fp,HNe=new Ir;function VNe(n,e,t,r,i,s,o){const a=new Hn(0);let c,u,l=!0===s?0:1,h=null,d=0,f=null;function A(v){let _=!0===v.isScene?v.background:null;return _&&_.isTexture&&(_=(v.backgroundBlurriness>0?t:e).get(_)),_}function g(v,_){v.getRGB(lN,$X(n)),r.buffers.color.setClear(lN.r,lN.g,lN.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(v,_=1){a.set(v),l=_,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(a,l)},render:function p(v){let _=!1;const C=A(v);null===C?g(a,l):C&&C.isColor&&(g(C,1),_=!0);const b=n.xr.getEnvironmentBlendMode();"additive"===b?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===b&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||_)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))},addToRenderList:function m(v,_){const C=A(_);C&&(C.isCubeTexture||C.mapping===ix)?(void 0===u&&(u=new la(new M1(1,1,1),new Zd({name:"BackgroundCubeMaterial",uniforms:T1(nA.backgroundCube.uniforms),vertexShader:nA.backgroundCube.vertexShader,fragmentShader:nA.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(b,M,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),D0.copy(_.backgroundRotation),D0.x*=-1,D0.y*=-1,D0.z*=-1,C.isCubeTexture&&!1===C.isRenderTargetTexture&&(D0.y*=-1,D0.z*=-1),u.material.uniforms.envMap.value=C,u.material.uniforms.flipEnvMap.value=C.isCubeTexture&&!1===C.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(HNe.makeRotationFromEuler(D0)),u.material.toneMapped=os.getTransfer(C.colorSpace)!==qs,(h!==C||d!==C.version||f!==n.toneMapping)&&(u.material.needsUpdate=!0,h=C,d=C.version,f=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):C&&C.isTexture&&(void 0===c&&(c=new la(new Tx(2,2),new Zd({name:"BackgroundMaterial",uniforms:T1(nA.background.uniforms),vertexShader:nA.background.vertexShader,fragmentShader:nA.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=C,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=os.getTransfer(C.colorSpace)!==qs,!0===C.matrixAutoUpdate&&C.updateMatrix(),c.material.uniforms.uvTransform.value.copy(C.matrix),(h!==C||d!==C.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,h=C,d=C.version,f=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))},dispose:function y(){void 0!==u&&(u.geometry.dispose(),u.material.dispose()),void 0!==c&&(c.geometry.dispose(),c.material.dispose())}}}function QNe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=d(null);let s=i,o=!1;function c(T){return n.bindVertexArray(T)}function u(T){return n.deleteVertexArray(T)}function d(T){const B=[],R=[],U=[];for(let k=0;k<t;k++)B[k]=0,R[k]=0,U[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:R,attributeDivisors:U,object:T,attributes:{},index:null}}function p(){const T=s.newAttributes;for(let B=0,R=T.length;B<R;B++)T[B]=0}function m(T){g(T,0)}function g(T,B){const U=s.enabledAttributes,k=s.attributeDivisors;s.newAttributes[T]=1,0===U[T]&&(n.enableVertexAttribArray(T),U[T]=1),k[T]!==B&&(n.vertexAttribDivisor(T,B),k[T]=B)}function y(){const T=s.newAttributes,B=s.enabledAttributes;for(let R=0,U=B.length;R<U;R++)B[R]!==T[R]&&(n.disableVertexAttribArray(R),B[R]=0)}function v(T,B,R,U,k,q,O){!0===O?n.vertexAttribIPointer(T,B,R,k,q):n.vertexAttribPointer(T,B,R,U,k,q)}function D(){x(),o=!0,s!==i&&(s=i,c(s.object))}function x(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function a(T,B,R,U,k){let q=!1;const O=function h(T,B,R){const U=!0===R.wireframe;let k=r[T.id];void 0===k&&(k={},r[T.id]=k);let q=k[B.id];void 0===q&&(q={},k[B.id]=q);let O=q[U];return void 0===O&&(O=d(function l(){return n.createVertexArray()}()),q[U]=O),O}(U,R,B);s!==O&&(s=O,c(s.object)),q=function f(T,B,R,U){const k=s.attributes,q=B.attributes;let O=0;const P=R.getAttributes();for(const G in P)if(P[G].location>=0){const ae=k[G];let ve=q[G];if(void 0===ve&&("instanceMatrix"===G&&T.instanceMatrix&&(ve=T.instanceMatrix),"instanceColor"===G&&T.instanceColor&&(ve=T.instanceColor)),void 0===ae||ae.attribute!==ve||ve&&ae.data!==ve.data)return!0;O++}return s.attributesNum!==O||s.index!==U}(T,U,R,k),q&&function A(T,B,R,U){const k={},q=B.attributes;let O=0;const P=R.getAttributes();for(const G in P)if(P[G].location>=0){let ae=q[G];void 0===ae&&("instanceMatrix"===G&&T.instanceMatrix&&(ae=T.instanceMatrix),"instanceColor"===G&&T.instanceColor&&(ae=T.instanceColor));const ve={};ve.attribute=ae,ae&&ae.data&&(ve.data=ae.data),k[G]=ve,O++}s.attributes=k,s.attributesNum=O,s.index=U}(T,U,R,k),null!==k&&e.update(k,n.ELEMENT_ARRAY_BUFFER),(q||o)&&(o=!1,function _(T,B,R,U){p();const k=U.attributes,q=R.getAttributes(),O=B.defaultAttributeValues;for(const P in q){const G=q[P];if(G.location>=0){let H=k[P];if(void 0===H&&("instanceMatrix"===P&&T.instanceMatrix&&(H=T.instanceMatrix),"instanceColor"===P&&T.instanceColor&&(H=T.instanceColor)),void 0!==H){const ae=H.normalized,ve=H.itemSize,Q=e.get(H);if(void 0===Q)continue;const j=Q.buffer,K=Q.type,oe=Q.bytesPerElement,se=K===n.INT||K===n.UNSIGNED_INT||H.gpuType===CU;if(H.isInterleavedBufferAttribute){const le=H.data,te=le.stride,ee=H.offset;if(le.isInstancedInterleavedBuffer){for(let Ae=0;Ae<G.locationSize;Ae++)g(G.location+Ae,le.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let Ae=0;Ae<G.locationSize;Ae++)m(G.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,j);for(let Ae=0;Ae<G.locationSize;Ae++)v(G.location+Ae,ve/G.locationSize,K,ae,te*oe,(ee+ve/G.locationSize*Ae)*oe,se)}else{if(H.isInstancedBufferAttribute){for(let le=0;le<G.locationSize;le++)g(G.location+le,H.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let le=0;le<G.locationSize;le++)m(G.location+le);n.bindBuffer(n.ARRAY_BUFFER,j);for(let le=0;le<G.locationSize;le++)v(G.location+le,ve/G.locationSize,K,ae,ve*oe,ve/G.locationSize*le*oe,se)}}else if(void 0!==O){const ae=O[P];if(void 0!==ae)switch(ae.length){case 2:n.vertexAttrib2fv(G.location,ae);break;case 3:n.vertexAttrib3fv(G.location,ae);break;case 4:n.vertexAttrib4fv(G.location,ae);break;default:n.vertexAttrib1fv(G.location,ae)}}}}y()}(T,B,R,U),null!==k&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(k).buffer))},reset:D,resetDefaultState:x,dispose:function C(){D();for(const T in r){const B=r[T];for(const R in B){const U=B[R];for(const k in U)u(U[k].object),delete U[k];delete B[R]}delete r[T]}},releaseStatesOfGeometry:function b(T){if(void 0===r[T.id])return;const B=r[T.id];for(const R in B){const U=B[R];for(const k in U)u(U[k].object),delete U[k];delete B[R]}delete r[T.id]},releaseStatesOfProgram:function M(T){for(const B in r){const R=r[B];if(void 0===R[T.id])continue;const U=R[T.id];for(const k in U)u(U[k].object),delete U[k];delete R[T.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:y}}function zNe(n,e,t){let r;function o(c,u,h){0!==h&&(n.drawArraysInstanced(r,c,u,h),t.update(u,r,h))}this.setMode=function i(c){r=c},this.render=function s(c,u){n.drawArrays(r,c,u),t.update(u,r,1)},this.renderInstances=o,this.renderMultiDraw=function a(c,u,h){if(0===h)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,h);let f=0;for(let A=0;A<h;A++)f+=u[A];t.update(f,r,1)},this.renderMultiDrawInstances=function l(c,u,h,d){if(0===h)return;const f=e.get("WEBGL_multi_draw");if(null===f)for(let A=0;A<c.length;A++)o(c[A],u[A],d[A]);else{f.multiDrawArraysInstancedWEBGL(r,c,0,u,0,d,0,h);let A=0;for(let p=0;p<h;p++)A+=u[p]*d[p];t.update(A,r,1)}}}function GNe(n,e,t,r){let i;function l(M){if("highp"===M){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return"mediump"===M&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=void 0!==t.precision?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const h=!0===t.logarithmicDepthBuffer,d=!0===t.reverseDepthBuffer&&e.has("EXT_clip_control"),f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function s(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const M=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:l,textureFormatReadable:function o(M){return!(M!==mu&&r.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function a(M){const D=M===ax&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==op&&r.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==ih&&!D)},precision:c,logarithmicDepthBuffer:h,reverseDepthBuffer:d,maxTextures:f,maxVertexTextures:A,maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxCubemapSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexUniforms:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:n.getParameter(n.MAX_VARYING_VECTORS),maxFragmentUniforms:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:A>0,maxSamples:n.getParameter(n.MAX_SAMPLES)}}function jNe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new sm,a=new ni,l={value:null,needsUpdate:!1};function u(h,d,f,A){const p=null!==h?h.length:0;let m=null;if(0!==p){if(m=l.value,!0!==A||null===m){const g=f+4*p,y=d.matrixWorldInverse;a.getNormalMatrix(y),(null===m||m.length<g)&&(m=new Float32Array(g));for(let v=0,_=f;v!==p;++v,_+=4)o.copy(h[v]).applyMatrix4(y,a),o.normal.toArray(m,_),m[_+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,m}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d){const f=0!==h.length||d||0!==r||i;return i=d,r=h.length,f},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,d){t=u(h,d,0)},this.setState=function(h,d,f){const A=h.clippingPlanes,p=h.clipIntersection,m=h.clipShadows,g=n.get(h);if(!i||null===A||0===A.length||s&&!m)s?u(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}();else{const y=s?0:r,v=4*y;let _=g.clippingState||null;l.value=_,_=u(A,d,v,f);for(let C=0;C!==v;++C)_[C]=t[C];g.clippingState=_,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=y}}}function qNe(n){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=Xg:304===a&&(o.mapping=a0),o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function r(o){if(o&&o.isTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new DDe(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}const bJ=[.125,.215,.35,.446,.526,.582],wk=new fk,wJ=new Hn;let Ck=null,Sk=0,xk=0,Ek=!1;const T0=(1+Math.sqrt(5))/2,z1=1/T0,CJ=[new Re(-T0,z1,0),new Re(T0,z1,0),new Re(-z1,0,T0),new Re(z1,0,T0),new Re(0,T0,-z1),new Re(0,T0,z1),new Re(-1,1,-1),new Re(1,1,-1),new Re(-1,1,1),new Re(1,1,1)];class SJ{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Ck=this._renderer.getRenderTarget(),Sk=this._renderer.getActiveCubeFace(),xk=this._renderer.getActiveMipmapLevel(),Ek=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=DJ(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=EJ(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ck,Sk,xk),this._renderer.xr.enabled=Ek,e.scissorTest=!1,cN(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Xg||e.mapping===a0?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),Ck=this._renderer.getRenderTarget(),Sk=this._renderer.getActiveCubeFace(),xk=this._renderer.getActiveMipmapLevel(),Ek=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:hl,minFilter:hl,generateMipmaps:!1,type:ax,format:mu,colorSpace:u1,depthBuffer:!1},i=xJ(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=xJ(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function WNe(n){const e=[],t=[],r=[];let i=n;const s=n-4+1+bJ.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-4?l=bJ[o-n+4-1]:0===o&&(l=0),r.push(l);const c=1/(a-2),u=-c,h=1+c,d=[u,u,h,u,h,h,u,u,h,h,u,h],f=6,A=6,p=3,m=2,g=1,y=new Float32Array(p*A*f),v=new Float32Array(m*A*f),_=new Float32Array(g*A*f);for(let b=0;b<f;b++){const M=b%3*2/3-1,D=b>2?0:-1;y.set([M,D,0,M+2/3,D,0,M+2/3,D+1,0,M,D,0,M+2/3,D+1,0,M,D+1,0],p*A*b),v.set(d,m*A*b),_.set([b,b,b,b,b,b],g*A*b)}const C=new Ai;C.setAttribute("position",new eo(y,p)),C.setAttribute("uv",new eo(v,m)),C.setAttribute("faceIndex",new eo(_,g)),e.push(C),i>4&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}(s)),this._blurMaterial=function $Ne(n,e,t){const r=new Float32Array(20),i=new Re(0,1,0);return new Zd({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return i}_compileMaterial(e){const t=new la(this._lodPlanes[0],e);this._renderer.compile(t,wk)}_sceneToCubeUV(e,t,r,i){const a=new Rl(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,d=u.toneMapping;u.getClearColor(wJ),u.toneMapping=Kg,u.autoClear=!1;const f=new gp({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),A=new la(new M1,f);let p=!1;const m=e.background;m?m.isColor&&(f.color.copy(m),e.background=null,p=!0):(f.color.copy(wJ),p=!0);for(let g=0;g<6;g++){const y=g%3;0===y?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):1===y?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const v=this._cubeSize;cN(i,y*v,g>2?v:0,v,v),u.setRenderTarget(i),p&&u.render(A,a),u.render(e,a)}A.geometry.dispose(),A.material.dispose(),u.toneMapping=d,u.autoClear=h,e.background=m}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Xg||e.mapping===a0;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=DJ()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=EJ());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new la(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;cN(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,wk)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(e,s-1,s,o,CJ[(i-s-1)%CJ.length])}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const h=new la(this._lodPlanes[i],c),d=c.uniforms,f=this._sizeLods[r]-1,A=isFinite(s)?Math.PI/(2*f):2*Math.PI/39,p=s/A,m=isFinite(s)?1+Math.floor(3*p):20;m>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);const g=[];let y=0;for(let M=0;M<20;++M){const D=M/p,x=Math.exp(-D*D/2);g.push(x),0===M?y+=x:M<m&&(y+=2*x)}for(let M=0;M<g.length;M++)g[M]=g[M]/y;d.envMap.value=e.texture,d.samples.value=m,d.weights.value=g,d.latitudinal.value="latitudinal"===o,a&&(d.poleAxis.value=a);const{_lodMax:v}=this;d.dTheta.value=A,d.mipInt.value=v-r;const _=this._sizeLods[i];cN(t,3*_*(i>v-4?i-v+4:0),4*(this._cubeSize-_),3*_,2*_),l.setRenderTarget(t),l.render(h,wk)}}function xJ(n,e,t){const r=new Jd(n,e,t);return r.texture.mapping=ix,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function cN(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function EJ(){return new Zd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function DJ(){return new Zd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function KNe(n){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function r(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,u=l===Xg||l===a0;if(c||u){let h=e.get(a);if(a.isRenderTargetTexture&&a.pmremVersion!==(void 0!==h?h.texture.pmremVersion:0))return null===t&&(t=new SJ(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(void 0!==h)return h.texture;{const f=a.image;return c&&f&&f.height>0||u&&f&&function i(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(f)?(null===t&&(t=new SJ(n)),h=c?t.fromEquirectangular(a):t.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function XNe(n){const e={};function t(r){if(void 0!==e[r])return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return null!==t(r)},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return null===i&&A1("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function YNe(n,e,t,r){const i={},s=new WeakMap;function o(h){const d=h.target;null!==d.index&&e.remove(d.index);for(const A in d.attributes)e.remove(d.attributes[A]);d.removeEventListener("dispose",o),delete i[d.id];const f=s.get(d);f&&(e.remove(f),s.delete(d)),r.releaseStatesOfGeometry(d),!0===d.isInstancedBufferGeometry&&delete d._maxInstanceCount,t.memory.geometries--}function c(h){const d=[],f=h.index,A=h.attributes.position;let p=0;if(null!==f){const y=f.array;p=f.version;for(let v=0,_=y.length;v<_;v+=3){const C=y[v+0],b=y[v+1],M=y[v+2];d.push(C,b,b,M,M,C)}}else{if(void 0===A)return;p=A.version;for(let v=0,_=A.array.length/3-1;v<_;v+=3){const C=v+0,b=v+1,M=v+2;d.push(C,b,b,M,M,C)}}const m=new(MX(d)?GX:zX)(d,1);m.version=p;const g=s.get(h);g&&e.remove(g),s.set(h,m)}return{get:function a(h,d){return!0===i[d.id]||(d.addEventListener("dispose",o),i[d.id]=!0,t.memory.geometries++),d},update:function l(h){const d=h.attributes;for(const f in d)e.update(d[f],n.ARRAY_BUFFER)},getWireframeAttribute:function u(h){const d=s.get(h);if(d){const f=h.index;null!==f&&d.version<f.version&&c(h)}else c(h);return s.get(h)}}}function JNe(n,e,t){let r,s,o;function c(d,f,A){0!==A&&(n.drawElementsInstanced(r,f,s,d*o,A),t.update(f,r,A))}this.setMode=function i(d){r=d},this.setIndex=function a(d){s=d.type,o=d.bytesPerElement},this.render=function l(d,f){n.drawElements(r,f,s,d*o),t.update(f,r,1)},this.renderInstances=c,this.renderMultiDraw=function u(d,f,A){if(0===A)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,f,0,s,d,0,A);let m=0;for(let g=0;g<A;g++)m+=f[g];t.update(m,r,1)},this.renderMultiDrawInstances=function h(d,f,A,p){if(0===A)return;const m=e.get("WEBGL_multi_draw");if(null===m)for(let g=0;g<d.length;g++)c(d[g]/o,f[g],p[g]);else{m.multiDrawElementsInstancedWEBGL(r,f,0,s,d,0,p,0,A);let g=0;for(let y=0;y<A;y++)g+=f[y]*p[y];t.update(g,r,1)}}}function ZNe(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function eIe(n,e,t){const r=new WeakMap,i=new As;return{update:function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=void 0!==u?u.length:0;let d=r.get(a);if(void 0===d||d.count!==h){let x=function(){M.dispose(),r.delete(a),a.removeEventListener("dispose",x)};void 0!==d&&d.texture.dispose();const f=void 0!==a.morphAttributes.position,A=void 0!==a.morphAttributes.normal,p=void 0!==a.morphAttributes.color,m=a.morphAttributes.position||[],g=a.morphAttributes.normal||[],y=a.morphAttributes.color||[];let v=0;!0===f&&(v=1),!0===A&&(v=2),!0===p&&(v=3);let _=a.attributes.position.count*v,C=1;_>e.maxTextureSize&&(C=Math.ceil(_/e.maxTextureSize),_=e.maxTextureSize);const b=new Float32Array(_*C*4*h),M=new a4(b,_,C,h);M.type=ih,M.needsUpdate=!0;const D=4*v;for(let T=0;T<h;T++){const B=m[T],R=g[T],U=y[T],k=_*C*4*T;for(let q=0;q<B.count;q++){const O=q*D;!0===f&&(i.fromBufferAttribute(B,q),b[k+O+0]=i.x,b[k+O+1]=i.y,b[k+O+2]=i.z,b[k+O+3]=0),!0===A&&(i.fromBufferAttribute(R,q),b[k+O+4]=i.x,b[k+O+5]=i.y,b[k+O+6]=i.z,b[k+O+7]=0),!0===p&&(i.fromBufferAttribute(U,q),b[k+O+8]=i.x,b[k+O+9]=i.y,b[k+O+10]=i.z,b[k+O+11]=4===U.itemSize?i.w:1)}}d={count:h,texture:M,size:new kt(_,C)},r.set(a,d),a.addEventListener("dispose",x)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let f=0;for(let p=0;p<c.length;p++)f+=c[p];const A=a.morphTargetsRelative?1:1-f;l.getUniforms().setValue(n,"morphTargetBaseInfluence",A),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",d.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",d.size)}}}function tIe(n,e,t,r){let i=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=r.render.frame,h=e.get(l,l.geometry);if(i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return h},dispose:function o(){i=new WeakMap}}}const MJ=new vu,TJ=new _Y(1,1),BJ=new a4,NJ=new IX,IJ=new yB,FJ=[],RJ=[],OJ=new Float32Array(16),PJ=new Float32Array(9),LJ=new Float32Array(4);function G1(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=FJ[i];if(void 0===s&&(s=new Float32Array(i),FJ[i]=s),0!==e){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Wa(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function $a(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function uN(n,e){let t=RJ[e];void 0===t&&(t=new Int32Array(e),RJ[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function nIe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function rIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wa(t,e))return;n.uniform2fv(this.addr,e),$a(t,e)}}function iIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Wa(t,e))return;n.uniform3fv(this.addr,e),$a(t,e)}}function sIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wa(t,e))return;n.uniform4fv(this.addr,e),$a(t,e)}}function oIe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Wa(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),$a(t,e)}else{if(Wa(t,r))return;LJ.set(r),n.uniformMatrix2fv(this.addr,!1,LJ),$a(t,r)}}function aIe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Wa(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),$a(t,e)}else{if(Wa(t,r))return;PJ.set(r),n.uniformMatrix3fv(this.addr,!1,PJ),$a(t,r)}}function lIe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Wa(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),$a(t,e)}else{if(Wa(t,r))return;OJ.set(r),n.uniformMatrix4fv(this.addr,!1,OJ),$a(t,r)}}function cIe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function uIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wa(t,e))return;n.uniform2iv(this.addr,e),$a(t,e)}}function hIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Wa(t,e))return;n.uniform3iv(this.addr,e),$a(t,e)}}function fIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wa(t,e))return;n.uniform4iv(this.addr,e),$a(t,e)}}function dIe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function AIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wa(t,e))return;n.uniform2uiv(this.addr,e),$a(t,e)}}function pIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Wa(t,e))return;n.uniform3uiv(this.addr,e),$a(t,e)}}function gIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wa(t,e))return;n.uniform4uiv(this.addr,e),$a(t,e)}}function mIe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();let s;r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),this.type===n.SAMPLER_2D_SHADOW?(TJ.compareFunction=515,s=TJ):s=MJ,t.setTexture2D(e||s,i)}function vIe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||NJ,i)}function yIe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||IJ,i)}function _Ie(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||BJ,i)}function wIe(n,e){n.uniform1fv(this.addr,e)}function CIe(n,e){const t=G1(e,this.size,2);n.uniform2fv(this.addr,t)}function SIe(n,e){const t=G1(e,this.size,3);n.uniform3fv(this.addr,t)}function xIe(n,e){const t=G1(e,this.size,4);n.uniform4fv(this.addr,t)}function EIe(n,e){const t=G1(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function DIe(n,e){const t=G1(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function MIe(n,e){const t=G1(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function TIe(n,e){n.uniform1iv(this.addr,e)}function BIe(n,e){n.uniform2iv(this.addr,e)}function NIe(n,e){n.uniform3iv(this.addr,e)}function IIe(n,e){n.uniform4iv(this.addr,e)}function FIe(n,e){n.uniform1uiv(this.addr,e)}function RIe(n,e){n.uniform2uiv(this.addr,e)}function OIe(n,e){n.uniform3uiv(this.addr,e)}function PIe(n,e){n.uniform4uiv(this.addr,e)}function LIe(n,e,t){const r=this.cache,i=e.length,s=uN(t,i);Wa(r,s)||(n.uniform1iv(this.addr,s),$a(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||MJ,s[o])}function UIe(n,e,t){const r=this.cache,i=e.length,s=uN(t,i);Wa(r,s)||(n.uniform1iv(this.addr,s),$a(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||NJ,s[o])}function kIe(n,e,t){const r=this.cache,i=e.length,s=uN(t,i);Wa(r,s)||(n.uniform1iv(this.addr,s),$a(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||IJ,s[o])}function HIe(n,e,t){const r=this.cache,i=e.length,s=uN(t,i);Wa(r,s)||(n.uniform1iv(this.addr,s),$a(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||BJ,s[o])}class QIe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=function bIe(n){switch(n){case 5126:return nIe;case 35664:return rIe;case 35665:return iIe;case 35666:return sIe;case 35674:return oIe;case 35675:return aIe;case 35676:return lIe;case 5124:case 35670:return cIe;case 35667:case 35671:return uIe;case 35668:case 35672:return hIe;case 35669:case 35673:return fIe;case 5125:return dIe;case 36294:return AIe;case 36295:return pIe;case 36296:return gIe;case 35678:case 36198:case 36298:case 36306:case 35682:return mIe;case 35679:case 36299:case 36307:return vIe;case 35680:case 36300:case 36308:case 36293:return yIe;case 36289:case 36303:case 36311:case 36292:return _Ie}}(t.type)}}class zIe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function VIe(n){switch(n){case 5126:return wIe;case 35664:return CIe;case 35665:return SIe;case 35666:return xIe;case 35674:return EIe;case 35675:return DIe;case 35676:return MIe;case 5124:case 35670:return TIe;case 35667:case 35671:return BIe;case 35668:case 35672:return NIe;case 35669:case 35673:return IIe;case 5125:return FIe;case 36294:return RIe;case 36295:return OIe;case 36296:return PIe;case 35678:case 36198:case 36298:case 36306:case 35682:return LIe;case 35679:case 36299:case 36307:return UIe;case 35680:case 36300:case 36308:case 36293:return kIe;case 36289:case 36303:case 36311:case 36292:return HIe}}(t.type)}}class GIe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const Mk=/(\w+)(\])?(\[|\.)?/g;function UJ(n,e){n.seq.push(e),n.map[e.id]=e}function jIe(n,e,t){const r=n.name,i=r.length;for(Mk.lastIndex=0;;){const s=Mk.exec(r);let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&Mk.lastIndex+2===i){UJ(t,void 0===c?new QIe(a,n,e):new zIe(a,n,e));break}{let h=t.map[a];void 0===h&&(h=new GIe(a),UJ(t,h)),t=h}}}class hN{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i);jIe(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,r,i){const s=this.map[t];void 0!==s&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];void 0!==i&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function kJ(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const qIe=37297;let WIe=0;const HJ=new ni;function VJ(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&""===i)return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+i+"\n\n"+function $Ie(n,e){const t=n.split("\n"),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join("\n")}(n.getShaderSource(e),o)}return i}function XIe(n,e){const t=function KIe(n){os._getMatrix(HJ,os.workingColorSpace,n);const e=`mat3( ${HJ.elements.map(t=>t.toFixed(4))} )`;switch(os.getTransfer(n)){case eB:return[e,"LinearTransferOETF"];case qs:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}(e);return[`vec4 ${n}( vec4 value ) {`,`\treturn ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join("\n")}function YIe(n,e){let t;switch(e){case m2e:t="Linear";break;case v2e:t="Reinhard";break;case y2e:t="Cineon";break;case _2e:t="ACESFilmic";break;case w2e:t="AgX";break;case C2e:t="Neutral";break;case b2e:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const fN=new Re;function Nx(n){return""!==n}function QJ(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function zJ(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const nFe=/^[ \t]*#include +<([\w\d./]+)>/gm;function Tk(n){return n.replace(nFe,iFe)}const rFe=new Map;function iFe(n,e){let t=pi[e];if(void 0===t){const r=rFe.get(e);if(void 0===r)throw new Error("Can not resolve #include <"+e+">");t=pi[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r)}return Tk(t)}const sFe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function GJ(n){return n.replace(sFe,oFe)}function oFe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function jJ(n){let e=`precision ${n.precision} float;\n\tprecision ${n.precision} int;\n\tprecision ${n.precision} sampler2D;\n\tprecision ${n.precision} samplerCube;\n\tprecision ${n.precision} sampler3D;\n\tprecision ${n.precision} sampler2DArray;\n\tprecision ${n.precision} sampler2DShadow;\n\tprecision ${n.precision} samplerCubeShadow;\n\tprecision ${n.precision} sampler2DArrayShadow;\n\tprecision ${n.precision} isampler2D;\n\tprecision ${n.precision} isampler3D;\n\tprecision ${n.precision} isamplerCube;\n\tprecision ${n.precision} isampler2DArray;\n\tprecision ${n.precision} usampler2D;\n\tprecision ${n.precision} usampler3D;\n\tprecision ${n.precision} usamplerCube;\n\tprecision ${n.precision} usampler2DArray;\n\t`;return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function fFe(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function aFe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===lX?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===XEe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===rp&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function lFe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Xg:case a0:e="ENVMAP_TYPE_CUBE";break;case ix:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function cFe(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===a0&&(e="ENVMAP_MODE_REFRACTION"),e}(t),h=function uFe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case HT:e="ENVMAP_BLENDING_MULTIPLY";break;case p2e:e="ENVMAP_BLENDING_MIX";break;case g2e:e="ENVMAP_BLENDING_ADD"}return e}(t),d=function hFe(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}(t),f=function ZIe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Nx).join("\n")}(t),A=function eFe(n){const e=[];for(const t in n){const r=n[t];!1!==r&&e.push("#define "+t+" "+r)}return e.join("\n")}(s),p=i.createProgram();let m,g,y=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(Nx).join("\n"),m.length>0&&(m+="\n"),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(Nx).join("\n"),g.length>0&&(g+="\n")):(m=[jJ(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Nx).join("\n"),g=[jJ(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Kg?"#define TONE_MAPPING":"",t.toneMapping!==Kg?pi.tonemapping_pars_fragment:"",t.toneMapping!==Kg?YIe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",pi.colorspace_pars_fragment,XIe("linearToOutputTexel",t.outputColorSpace),(os.getLuminanceCoefficients(fN),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${fN.x.toFixed(4)}, ${fN.y.toFixed(4)}, ${fN.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(Nx).join("\n")),o=Tk(o),o=QJ(o,t),o=zJ(o,t),a=Tk(a),a=QJ(a,t),a=zJ(a,t),o=GJ(o),a=GJ(a),!0!==t.isRawShaderMaterial&&(y="#version 300 es\n",m=[f,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,g=["#define varying in",t.glslVersion===EX?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===EX?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const _=y+g+a,C=kJ(i,i.VERTEX_SHADER,y+m+o),b=kJ(i,i.FRAGMENT_SHADER,_);function M(B){if(n.debug.checkShaderErrors){const R=i.getProgramInfoLog(p).trim(),U=i.getShaderInfoLog(C).trim(),k=i.getShaderInfoLog(b).trim();let q=!0,O=!0;if(!1===i.getProgramParameter(p,i.LINK_STATUS))if(q=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(i,p,C,b);else{const P=VJ(i,C,"vertex"),G=VJ(i,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(p,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+B.name+"\nMaterial Type: "+B.type+"\n\nProgram Info Log: "+R+"\n"+P+"\n"+G)}else""!==R?console.warn("THREE.WebGLProgram: Program Info Log:",R):(""===U||""===k)&&(O=!1);O&&(B.diagnostics={runnable:q,programLog:R,vertexShader:{log:U,prefix:m},fragmentShader:{log:k,prefix:g}})}i.deleteShader(C),i.deleteShader(b),D=new hN(i,p),x=function tFe(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(i,p)}let D,x;i.attachShader(p,C),i.attachShader(p,b),void 0!==t.index0AttributeName?i.bindAttribLocation(p,0,t.index0AttributeName):!0===t.morphTargets&&i.bindAttribLocation(p,0,"position"),i.linkProgram(p),this.getUniforms=function(){return void 0===D&&M(this),D},this.getAttributes=function(){return void 0===x&&M(this),x};let T=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=i.getProgramParameter(p,qIe)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(p),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=WIe++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=C,this.fragmentShader=b,this}let dFe=0;class AFe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,i=this._getShaderStage(e.vertexShader),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return void 0===r&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return void 0===r&&(r=new pFe(e),t.set(e,r)),r}}class pFe{constructor(e){this.id=dFe++,this.code=e,this.usedTimes=0}}function gFe(n,e,t,r,i,s,o){const a=new A4,l=new AFe,c=new Set,u=[],h=i.logarithmicDepthBuffer,d=i.vertexTextures;let f=i.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(x){return c.add(x),0===x?"uv":`uv${x}`}return{getParameters:function m(x,T,B,R,U){const k=R.fog,q=U.geometry,P=(x.isMeshStandardMaterial?t:e).get(x.envMap||(x.isMeshStandardMaterial?R.environment:null)),G=P&&P.mapping===ix?P.image.height:null,H=A[x.type];null!==x.precision&&(f=i.getMaxPrecision(x.precision),f!==x.precision&&console.warn("THREE.WebGLProgram.getParameters:",x.precision,"not supported, using",f,"instead."));const ae=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,ve=void 0!==ae?ae.length:0;let j,K,oe,se,Q=0;if(void 0!==q.morphAttributes.position&&(Q=1),void 0!==q.morphAttributes.normal&&(Q=2),void 0!==q.morphAttributes.color&&(Q=3),H){const gi=nA[H];j=gi.vertexShader,K=gi.fragmentShader}else j=x.vertexShader,K=x.fragmentShader,l.update(x),oe=l.getVertexShaderID(x),se=l.getFragmentShaderID(x);const le=n.getRenderTarget(),te=n.state.buffers.depth.getReversed(),ee=!0===U.isInstancedMesh,Ae=!0===U.isBatchedMesh,Se=!!x.map,xe=!!P,ne=!!x.aoMap,Y=!!x.lightMap,W=!!x.bumpMap,Me=!!x.normalMap,Ce=!!x.displacementMap,Pe=!!x.emissiveMap,Oe=!!x.metalnessMap,re=!!x.roughnessMap,J=x.anisotropy>0,Ue=x.clearcoat>0,rt=x.iridescence>0,Xe=x.sheen>0,Lt=x.transmission>0,Ft=J&&!!x.anisotropyMap,Tt=Ue&&!!x.clearcoatMap,_n=Ue&&!!x.clearcoatNormalMap,st=Ue&&!!x.clearcoatRoughnessMap,vn=rt&&!!x.iridescenceMap,pn=rt&&!!x.iridescenceThicknessMap,bn=Xe&&!!x.sheenColorMap,nn=Xe&&!!x.sheenRoughnessMap,$=!!x.specularMap,Fe=!!x.specularColorMap,Ke=!!x.specularIntensityMap,Ne=Lt&&!!x.transmissionMap,_t=Lt&&!!x.thicknessMap,Dt=!!x.alphaMap,Rn=!!x.extensions;let Ns=Kg;x.toneMapped&&(null===le||!0===le.isXRRenderTarget)&&(Ns=n.toneMapping);const Zi={shaderID:H,shaderType:x.type,shaderName:x.name,vertexShader:j,fragmentShader:K,defines:x.defines,customVertexShaderID:oe,customFragmentShaderID:se,isRawShaderMaterial:!0===x.isRawShaderMaterial,glslVersion:x.glslVersion,precision:f,batching:Ae,batchingColor:Ae&&null!==U._colorsTexture,instancing:ee,instancingColor:ee&&null!==U.instanceColor,instancingMorph:ee&&null!==U.morphTexture,supportsVertexTextures:d,outputColorSpace:null===le?n.outputColorSpace:!0===le.isXRRenderTarget?le.texture.colorSpace:u1,alphaToCoverage:!!x.alphaToCoverage,map:Se,matcap:!!x.matcap,envMap:xe,envMapMode:xe&&P.mapping,envMapCubeUVHeight:G,aoMap:ne,lightMap:Y,bumpMap:W,normalMap:Me,displacementMap:d&&Ce,emissiveMap:Pe,normalMapObjectSpace:Me&&1===x.normalMapType,normalMapTangentSpace:Me&&0===x.normalMapType,metalnessMap:Oe,roughnessMap:re,anisotropy:J,anisotropyMap:Ft,clearcoat:Ue,clearcoatMap:Tt,clearcoatNormalMap:_n,clearcoatRoughnessMap:st,dispersion:x.dispersion>0,iridescence:rt,iridescenceMap:vn,iridescenceThicknessMap:pn,sheen:Xe,sheenColorMap:bn,sheenRoughnessMap:nn,specularMap:$,specularColorMap:Fe,specularIntensityMap:Ke,transmission:Lt,transmissionMap:Ne,thicknessMap:_t,gradientMap:!!x.gradientMap,opaque:!1===x.transparent&&1===x.blending&&!1===x.alphaToCoverage,alphaMap:Dt,alphaTest:x.alphaTest>0,alphaHash:!!x.alphaHash,combine:x.combine,mapUv:Se&&p(x.map.channel),aoMapUv:ne&&p(x.aoMap.channel),lightMapUv:Y&&p(x.lightMap.channel),bumpMapUv:W&&p(x.bumpMap.channel),normalMapUv:Me&&p(x.normalMap.channel),displacementMapUv:Ce&&p(x.displacementMap.channel),emissiveMapUv:Pe&&p(x.emissiveMap.channel),metalnessMapUv:Oe&&p(x.metalnessMap.channel),roughnessMapUv:re&&p(x.roughnessMap.channel),anisotropyMapUv:Ft&&p(x.anisotropyMap.channel),clearcoatMapUv:Tt&&p(x.clearcoatMap.channel),clearcoatNormalMapUv:_n&&p(x.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&p(x.clearcoatRoughnessMap.channel),iridescenceMapUv:vn&&p(x.iridescenceMap.channel),iridescenceThicknessMapUv:pn&&p(x.iridescenceThicknessMap.channel),sheenColorMapUv:bn&&p(x.sheenColorMap.channel),sheenRoughnessMapUv:nn&&p(x.sheenRoughnessMap.channel),specularMapUv:$&&p(x.specularMap.channel),specularColorMapUv:Fe&&p(x.specularColorMap.channel),specularIntensityMapUv:Ke&&p(x.specularIntensityMap.channel),transmissionMapUv:Ne&&p(x.transmissionMap.channel),thicknessMapUv:_t&&p(x.thicknessMap.channel),alphaMapUv:Dt&&p(x.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&(Me||J),vertexColors:x.vertexColors,vertexAlphas:!0===x.vertexColors&&!!q.attributes.color&&4===q.attributes.color.itemSize,pointsUvs:!0===U.isPoints&&!!q.attributes.uv&&(Se||Dt),fog:!!k,useFog:!0===x.fog,fogExp2:!!k&&k.isFogExp2,flatShading:!0===x.flatShading,sizeAttenuation:!0===x.sizeAttenuation,logarithmicDepthBuffer:h,reverseDepthBuffer:te,skinning:!0===U.isSkinnedMesh,morphTargets:void 0!==q.morphAttributes.position,morphNormals:void 0!==q.morphAttributes.normal,morphColors:void 0!==q.morphAttributes.color,morphTargetsCount:ve,morphTextureStride:Q,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:x.dithering,shadowMapEnabled:n.shadowMap.enabled&&B.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ns,decodeVideoTexture:Se&&!0===x.map.isVideoTexture&&os.getTransfer(x.map.colorSpace)===qs,decodeVideoTextureEmissive:Pe&&!0===x.emissiveMap.isVideoTexture&&os.getTransfer(x.emissiveMap.colorSpace)===qs,premultipliedAlpha:x.premultipliedAlpha,doubleSided:2===x.side,flipSided:1===x.side,useDepthPacking:x.depthPacking>=0,depthPacking:x.depthPacking||0,index0AttributeName:x.index0AttributeName,extensionClipCullDistance:Rn&&!0===x.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Rn&&!0===x.extensions.multiDraw||Ae)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:x.customProgramCacheKey()};return Zi.vertexUv1s=c.has(1),Zi.vertexUv2s=c.has(2),Zi.vertexUv3s=c.has(3),c.clear(),Zi},getProgramCacheKey:function g(x){const T=[];if(x.shaderID?T.push(x.shaderID):(T.push(x.customVertexShaderID),T.push(x.customFragmentShaderID)),void 0!==x.defines)for(const B in x.defines)T.push(B),T.push(x.defines[B]);return!1===x.isRawShaderMaterial&&(function y(x,T){x.push(T.precision),x.push(T.outputColorSpace),x.push(T.envMapMode),x.push(T.envMapCubeUVHeight),x.push(T.mapUv),x.push(T.alphaMapUv),x.push(T.lightMapUv),x.push(T.aoMapUv),x.push(T.bumpMapUv),x.push(T.normalMapUv),x.push(T.displacementMapUv),x.push(T.emissiveMapUv),x.push(T.metalnessMapUv),x.push(T.roughnessMapUv),x.push(T.anisotropyMapUv),x.push(T.clearcoatMapUv),x.push(T.clearcoatNormalMapUv),x.push(T.clearcoatRoughnessMapUv),x.push(T.iridescenceMapUv),x.push(T.iridescenceThicknessMapUv),x.push(T.sheenColorMapUv),x.push(T.sheenRoughnessMapUv),x.push(T.specularMapUv),x.push(T.specularColorMapUv),x.push(T.specularIntensityMapUv),x.push(T.transmissionMapUv),x.push(T.thicknessMapUv),x.push(T.combine),x.push(T.fogExp2),x.push(T.sizeAttenuation),x.push(T.morphTargetsCount),x.push(T.morphAttributeCount),x.push(T.numDirLights),x.push(T.numPointLights),x.push(T.numSpotLights),x.push(T.numSpotLightMaps),x.push(T.numHemiLights),x.push(T.numRectAreaLights),x.push(T.numDirLightShadows),x.push(T.numPointLightShadows),x.push(T.numSpotLightShadows),x.push(T.numSpotLightShadowsWithMaps),x.push(T.numLightProbes),x.push(T.shadowMapType),x.push(T.toneMapping),x.push(T.numClippingPlanes),x.push(T.numClipIntersection),x.push(T.depthPacking)}(T,x),function v(x,T){a.disableAll(),T.supportsVertexTextures&&a.enable(0),T.instancing&&a.enable(1),T.instancingColor&&a.enable(2),T.instancingMorph&&a.enable(3),T.matcap&&a.enable(4),T.envMap&&a.enable(5),T.normalMapObjectSpace&&a.enable(6),T.normalMapTangentSpace&&a.enable(7),T.clearcoat&&a.enable(8),T.iridescence&&a.enable(9),T.alphaTest&&a.enable(10),T.vertexColors&&a.enable(11),T.vertexAlphas&&a.enable(12),T.vertexUv1s&&a.enable(13),T.vertexUv2s&&a.enable(14),T.vertexUv3s&&a.enable(15),T.vertexTangents&&a.enable(16),T.anisotropy&&a.enable(17),T.alphaHash&&a.enable(18),T.batching&&a.enable(19),T.dispersion&&a.enable(20),T.batchingColor&&a.enable(21),x.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.reverseDepthBuffer&&a.enable(4),T.skinning&&a.enable(5),T.morphTargets&&a.enable(6),T.morphNormals&&a.enable(7),T.morphColors&&a.enable(8),T.premultipliedAlpha&&a.enable(9),T.shadowMapEnabled&&a.enable(10),T.doubleSided&&a.enable(11),T.flipSided&&a.enable(12),T.useDepthPacking&&a.enable(13),T.dithering&&a.enable(14),T.transmission&&a.enable(15),T.sheen&&a.enable(16),T.opaque&&a.enable(17),T.pointsUvs&&a.enable(18),T.decodeVideoTexture&&a.enable(19),T.decodeVideoTextureEmissive&&a.enable(20),T.alphaToCoverage&&a.enable(21),x.push(a.mask)}(T,x),T.push(n.outputColorSpace)),T.push(x.customProgramCacheKey),T.join()},getUniforms:function _(x){const T=A[x.type];let B;return B=T?CDe.clone(nA[T].uniforms):x.uniforms,B},acquireProgram:function C(x,T){let B;for(let R=0,U=u.length;R<U;R++){const k=u[R];if(k.cacheKey===T){B=k,++B.usedTimes;break}}return void 0===B&&(B=new fFe(n,T,x,s),u.push(B)),B},releaseProgram:function b(x){if(0==--x.usedTimes){const T=u.indexOf(x);u[T]=u[u.length-1],u.pop(),x.destroy()}},releaseShaderCache:function M(x){l.remove(x)},programs:u,dispose:function D(){l.dispose()}}}function mFe(){let n=new WeakMap;return{has:function e(o){return n.has(o)},get:function t(o){let a=n.get(o);return void 0===a&&(a={},n.set(o,a)),a},remove:function r(o){n.delete(o)},update:function i(o,a,l){n.get(o)[a]=l},dispose:function s(){n=new WeakMap}}}function vFe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function qJ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function WJ(){const n=[];let e=0;const t=[],r=[],i=[];function o(h,d,f,A,p,m){let g=n[e];return void 0===g?(g={id:h.id,object:h,geometry:d,material:f,groupOrder:A,renderOrder:h.renderOrder,z:p,group:m},n[e]=g):(g.id=h.id,g.object=h,g.geometry=d,g.material=f,g.groupOrder=A,g.renderOrder=h.renderOrder,g.z=p,g.group=m),e++,g}return{opaque:t,transmissive:r,transparent:i,init:function s(){e=0,t.length=0,r.length=0,i.length=0},push:function a(h,d,f,A,p,m){const g=o(h,d,f,A,p,m);f.transmission>0?r.push(g):!0===f.transparent?i.push(g):t.push(g)},unshift:function l(h,d,f,A,p,m){const g=o(h,d,f,A,p,m);f.transmission>0?r.unshift(g):!0===f.transparent?i.unshift(g):t.unshift(g)},finish:function u(){for(let h=e,d=n.length;h<d;h++){const f=n[h];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(h,d){t.length>1&&t.sort(h||vFe),r.length>1&&r.sort(d||qJ),i.length>1&&i.sort(d||qJ)}}}function yFe(){let n=new WeakMap;return{get:function e(r,i){const s=n.get(r);let o;return void 0===s?(o=new WJ,n.set(r,[o])):i>=s.length?(o=new WJ,s.push(o)):o=s[i],o},dispose:function t(){n=new WeakMap}}}function _Fe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Re,color:new Hn};break;case"SpotLight":t={position:new Re,direction:new Re,color:new Hn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Re,color:new Hn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Re,skyColor:new Hn,groundColor:new Hn};break;case"RectAreaLight":t={color:new Hn,position:new Re,halfWidth:new Re,halfHeight:new Re}}return n[e.id]=t,t}}}let wFe=0;function CFe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function SFe(n){const e=new _Fe,t=function bFe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new kt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new kt,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Re);const i=new Re,s=new Ir,o=new Ir;return{setup:function a(c){let u=0,h=0,d=0;for(let x=0;x<9;x++)r.probe[x].set(0,0,0);let f=0,A=0,p=0,m=0,g=0,y=0,v=0,_=0,C=0,b=0,M=0;c.sort(CFe);for(let x=0,T=c.length;x<T;x++){const B=c[x],R=B.color,U=B.intensity,k=B.distance,q=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)u+=R.r*U,h+=R.g*U,d+=R.b*U;else if(B.isLightProbe){for(let O=0;O<9;O++)r.probe[O].addScaledVector(B.sh.coefficients[O],U);M++}else if(B.isDirectionalLight){const O=e.get(B);if(O.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const P=B.shadow,G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,r.directionalShadow[f]=G,r.directionalShadowMap[f]=q,r.directionalShadowMatrix[f]=B.shadow.matrix,y++}r.directional[f]=O,f++}else if(B.isSpotLight){const O=e.get(B);O.position.setFromMatrixPosition(B.matrixWorld),O.color.copy(R).multiplyScalar(U),O.distance=k,O.coneCos=Math.cos(B.angle),O.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),O.decay=B.decay,r.spot[p]=O;const P=B.shadow;if(B.map&&(r.spotLightMap[C]=B.map,C++,P.updateMatrices(B),B.castShadow&&b++),r.spotLightMatrix[p]=P.matrix,B.castShadow){const G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,r.spotShadow[p]=G,r.spotShadowMap[p]=q,_++}p++}else if(B.isRectAreaLight){const O=e.get(B);O.color.copy(R).multiplyScalar(U),O.halfWidth.set(.5*B.width,0,0),O.halfHeight.set(0,.5*B.height,0),r.rectArea[m]=O,m++}else if(B.isPointLight){const O=e.get(B);if(O.color.copy(B.color).multiplyScalar(B.intensity),O.distance=B.distance,O.decay=B.decay,B.castShadow){const P=B.shadow,G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,G.shadowCameraNear=P.camera.near,G.shadowCameraFar=P.camera.far,r.pointShadow[A]=G,r.pointShadowMap[A]=q,r.pointShadowMatrix[A]=B.shadow.matrix,v++}r.point[A]=O,A++}else if(B.isHemisphereLight){const O=e.get(B);O.skyColor.copy(B.color).multiplyScalar(U),O.groundColor.copy(B.groundColor).multiplyScalar(U),r.hemi[g]=O,g++}}m>0&&(!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=Fn.LTC_FLOAT_1,r.rectAreaLTC2=Fn.LTC_FLOAT_2):(r.rectAreaLTC1=Fn.LTC_HALF_1,r.rectAreaLTC2=Fn.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=h,r.ambient[2]=d;const D=r.hash;(D.directionalLength!==f||D.pointLength!==A||D.spotLength!==p||D.rectAreaLength!==m||D.hemiLength!==g||D.numDirectionalShadows!==y||D.numPointShadows!==v||D.numSpotShadows!==_||D.numSpotMaps!==C||D.numLightProbes!==M)&&(r.directional.length=f,r.spot.length=p,r.rectArea.length=m,r.point.length=A,r.hemi.length=g,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=_,r.spotShadowMap.length=_,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=v,r.spotLightMatrix.length=_+C-b,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=b,r.numLightProbes=M,D.directionalLength=f,D.pointLength=A,D.spotLength=p,D.rectAreaLength=m,D.hemiLength=g,D.numDirectionalShadows=y,D.numPointShadows=v,D.numSpotShadows=_,D.numSpotMaps=C,D.numLightProbes=M,r.version=wFe++)},setupView:function l(c,u){let h=0,d=0,f=0,A=0,p=0;const m=u.matrixWorldInverse;for(let g=0,y=c.length;g<y;g++){const v=c[g];if(v.isDirectionalLight){const _=r.directional[h];_.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(m),h++}else if(v.isSpotLight){const _=r.spot[f];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),_.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(m),f++}else if(v.isRectAreaLight){const _=r.rectArea[A];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),o.identity(),s.copy(v.matrixWorld),s.premultiply(m),o.extractRotation(s),_.halfWidth.set(.5*v.width,0,0),_.halfHeight.set(0,.5*v.height,0),_.halfWidth.applyMatrix4(o),_.halfHeight.applyMatrix4(o),A++}else if(v.isPointLight){const _=r.point[d];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),d++}else if(v.isHemisphereLight){const _=r.hemi[p];_.direction.setFromMatrixPosition(v.matrixWorld),_.direction.transformDirection(m),p++}}},state:r}}function $J(n){const e=new SFe(n),t=[],r=[],c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function i(u){c.camera=u,t.length=0,r.length=0},state:c,setupLights:function a(){e.setup(t)},setupLightsView:function l(u){e.setupView(t,u)},pushLight:function s(u){t.push(u)},pushShadow:function o(u){r.push(u)}}}function xFe(n){let e=new WeakMap;return{get:function t(i,s=0){const o=e.get(i);let a;return void 0===o?(a=new $J(n),e.set(i,[a])):s>=o.length?(a=new $J(n),o.push(a)):a=o[s],a},dispose:function r(){e=new WeakMap}}}function MFe(n,e,t){let r=new DB;const i=new kt,s=new kt,o=new As,a=new PY({depthPacking:3201}),l=new LY,c={},u=t.maxTextureSize,h={0:1,1:0,2:2},d=new Zd({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new kt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const A=new Ai;A.setAttribute("position",new eo(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new la(A,d),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=lX;let g=this.type;function y(b,M){const D=e.update(p);d.defines.VSM_SAMPLES!==b.blurSamples&&(d.defines.VSM_SAMPLES=b.blurSamples,f.defines.VSM_SAMPLES=b.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),null===b.mapPass&&(b.mapPass=new Jd(i.x,i.y)),d.uniforms.shadow_pass.value=b.map.texture,d.uniforms.resolution.value=b.mapSize,d.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(M,null,D,d,p,null),f.uniforms.shadow_pass.value=b.mapPass.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(M,null,D,f,p,null)}function v(b,M,D,x){let T=null;const B=!0===D.isPointLight?b.customDistanceMaterial:b.customDepthMaterial;if(void 0!==B)T=B;else if(T=!0===D.isPointLight?l:a,n.localClippingEnabled&&!0===M.clipShadows&&Array.isArray(M.clippingPlanes)&&0!==M.clippingPlanes.length||M.displacementMap&&0!==M.displacementScale||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const R=T.uuid,U=M.uuid;let k=c[R];void 0===k&&(k={},c[R]=k);let q=k[U];void 0===q&&(q=T.clone(),k[U]=q,M.addEventListener("dispose",C)),T=q}return T.visible=M.visible,T.wireframe=M.wireframe,T.side=x===rp?null!==M.shadowSide?M.shadowSide:M.side:null!==M.shadowSide?M.shadowSide:h[M.side],T.alphaMap=M.alphaMap,T.alphaTest=M.alphaTest,T.map=M.map,T.clipShadows=M.clipShadows,T.clippingPlanes=M.clippingPlanes,T.clipIntersection=M.clipIntersection,T.displacementMap=M.displacementMap,T.displacementScale=M.displacementScale,T.displacementBias=M.displacementBias,T.wireframeLinewidth=M.wireframeLinewidth,T.linewidth=M.linewidth,!0===D.isPointLight&&!0===T.isMeshDistanceMaterial&&(n.properties.get(T).light=D),T}function _(b,M,D,x,T){if(!1===b.visible)return;if(b.layers.test(M.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&T===rp)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,b.matrixWorld);const U=e.update(b),k=b.material;if(Array.isArray(k)){const q=U.groups;for(let O=0,P=q.length;O<P;O++){const G=q[O],H=k[G.materialIndex];if(H&&H.visible){const ae=v(b,H,x,T);b.onBeforeShadow(n,b,M,D,U,ae,G),n.renderBufferDirect(D,null,U,ae,b,G),b.onAfterShadow(n,b,M,D,U,ae,G)}}}else if(k.visible){const q=v(b,k,x,T);b.onBeforeShadow(n,b,M,D,U,q,null),n.renderBufferDirect(D,null,U,q,b,null),b.onAfterShadow(n,b,M,D,U,q,null)}}const R=b.children;for(let U=0,k=R.length;U<k;U++)_(R[U],M,D,x,T)}function C(b){b.target.removeEventListener("dispose",C);for(const D in c){const x=c[D],T=b.target.uuid;T in x&&(x[T].dispose(),delete x[T])}}this.render=function(b,M,D){if(!1===m.enabled||!1===m.autoUpdate&&!1===m.needsUpdate||0===b.length)return;const x=n.getRenderTarget(),T=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),R=n.state;R.setBlending(0),R.buffers.color.setClear(1,1,1,1),R.buffers.depth.setTest(!0),R.setScissorTest(!1);const U=g!==rp&&this.type===rp,k=g===rp&&this.type!==rp;for(let q=0,O=b.length;q<O;q++){const P=b[q],G=P.shadow;if(void 0===G){console.warn("THREE.WebGLShadowMap:",P,"has no shadow.");continue}if(!1===G.autoUpdate&&!1===G.needsUpdate)continue;i.copy(G.mapSize);const H=G.getFrameExtents();if(i.multiply(H),s.copy(G.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/H.x),i.x=s.x*H.x,G.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/H.y),i.y=s.y*H.y,G.mapSize.y=s.y)),null===G.map||!0===U||!0===k){const ve=this.type!==rp?{minFilter:rc,magFilter:rc}:{};null!==G.map&&G.map.dispose(),G.map=new Jd(i.x,i.y,ve),G.map.texture.name=P.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const ae=G.getViewportCount();for(let ve=0;ve<ae;ve++){const Q=G.getViewport(ve);o.set(s.x*Q.x,s.y*Q.y,s.x*Q.z,s.y*Q.w),R.viewport(o),G.updateMatrices(P,ve),r=G.getFrustum(),_(M,D,G.camera,P,this.type)}!0!==G.isPointLightShadow&&this.type===rp&&y(G,D),G.needsUpdate=!1}g=this.type,m.needsUpdate=!1,n.setRenderTarget(x,T,B)}}const TFe={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function BFe(n,e){const s=new function t(){let Ne=!1;const _t=new As;let nt=null;const Dt=new As(0,0,0,0);return{setMask:function(an){nt!==an&&!Ne&&(n.colorMask(an,an,an,an),nt=an)},setLocked:function(an){Ne=an},setClear:function(an,Qt,Rn,Ns,Zi){!0===Zi&&(an*=Ns,Qt*=Ns,Rn*=Ns),_t.set(an,Qt,Rn,Ns),!1===Dt.equals(_t)&&(n.clearColor(an,Qt,Rn,Ns),Dt.copy(_t))},reset:function(){Ne=!1,nt=null,Dt.set(-1,0,0,0)}}},o=new function r(){let Ne=!1,_t=!1,nt=null,Dt=null,an=null;return{setReversed:function(Qt){if(_t!==Qt){const Rn=e.get("EXT_clip_control");Rn.clipControlEXT(Rn.LOWER_LEFT_EXT,_t?Rn.ZERO_TO_ONE_EXT:Rn.NEGATIVE_ONE_TO_ONE_EXT);const Ns=an;an=null,this.setClear(Ns)}_t=Qt},getReversed:function(){return _t},setTest:function(Qt){Qt?le(n.DEPTH_TEST):te(n.DEPTH_TEST)},setMask:function(Qt){nt!==Qt&&!Ne&&(n.depthMask(Qt),nt=Qt)},setFunc:function(Qt){if(_t&&(Qt=TFe[Qt]),Dt!==Qt){switch(Qt){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}Dt=Qt}},setLocked:function(Qt){Ne=Qt},setClear:function(Qt){an!==Qt&&(_t&&(Qt=1-Qt),n.clearDepth(Qt),an=Qt)},reset:function(){Ne=!1,nt=null,Dt=null,an=null,_t=!1}}},a=new function i(){let Ne=!1,_t=null,nt=null,Dt=null,an=null,Qt=null,Rn=null,Ns=null,Zi=null;return{setTest:function(gi){Ne||(gi?le(n.STENCIL_TEST):te(n.STENCIL_TEST))},setMask:function(gi){_t!==gi&&!Ne&&(n.stencilMask(gi),_t=gi)},setFunc:function(gi,Xo,Zn){(nt!==gi||Dt!==Xo||an!==Zn)&&(n.stencilFunc(gi,Xo,Zn),nt=gi,Dt=Xo,an=Zn)},setOp:function(gi,Xo,Zn){(Qt!==gi||Rn!==Xo||Ns!==Zn)&&(n.stencilOp(gi,Xo,Zn),Qt=gi,Rn=Xo,Ns=Zn)},setLocked:function(gi){Ne=gi},setClear:function(gi){Zi!==gi&&(n.clearStencil(gi),Zi=gi)},reset:function(){Ne=!1,_t=null,nt=null,Dt=null,an=null,Qt=null,Rn=null,Ns=null,Zi=null}}},l=new WeakMap,c=new WeakMap;let u={},h={},d=new WeakMap,f=[],A=null,p=!1,m=null,g=null,y=null,v=null,_=null,C=null,b=null,M=new Hn(0,0,0),D=0,x=!1,T=null,B=null,R=null,U=null,k=null;const q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,P=0;const G=n.getParameter(n.VERSION);-1!==G.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(G)[1]),O=P>=1):-1!==G.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),O=P>=2);let H=null,ae={};const ve=n.getParameter(n.SCISSOR_BOX),Q=n.getParameter(n.VIEWPORT),j=(new As).fromArray(ve),K=(new As).fromArray(Q);function oe(Ne,_t,nt,Dt){const an=new Uint8Array(4),Qt=n.createTexture();n.bindTexture(Ne,Qt),n.texParameteri(Ne,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ne,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Rn=0;Rn<nt;Rn++)Ne===n.TEXTURE_3D||Ne===n.TEXTURE_2D_ARRAY?n.texImage3D(_t,0,n.RGBA,1,1,Dt,0,n.RGBA,n.UNSIGNED_BYTE,an):n.texImage2D(_t+Rn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,an);return Qt}const se={};function le(Ne){!0!==u[Ne]&&(n.enable(Ne),u[Ne]=!0)}function te(Ne){!1!==u[Ne]&&(n.disable(Ne),u[Ne]=!1)}se[n.TEXTURE_2D]=oe(n.TEXTURE_2D,n.TEXTURE_2D,1),se[n.TEXTURE_CUBE_MAP]=oe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),se[n.TEXTURE_2D_ARRAY]=oe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),se[n.TEXTURE_3D]=oe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),le(n.DEPTH_TEST),o.setFunc(3),W(!1),Me(1),le(n.CULL_FACE),ne(0);const ge={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};ge[103]=n.MIN,ge[104]=n.MAX;const xe={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA,211:n.CONSTANT_COLOR,212:n.ONE_MINUS_CONSTANT_COLOR,213:n.CONSTANT_ALPHA,214:n.ONE_MINUS_CONSTANT_ALPHA};function ne(Ne,_t,nt,Dt,an,Qt,Rn,Ns,Zi,gi){if(0!==Ne){if(!1===p&&(le(n.BLEND),p=!0),5===Ne)an=an||_t,Qt=Qt||nt,Rn=Rn||Dt,(_t!==g||an!==_)&&(n.blendEquationSeparate(ge[_t],ge[an]),g=_t,_=an),(nt!==y||Dt!==v||Qt!==C||Rn!==b)&&(n.blendFuncSeparate(xe[nt],xe[Dt],xe[Qt],xe[Rn]),y=nt,v=Dt,C=Qt,b=Rn),(!1===Ns.equals(M)||Zi!==D)&&(n.blendColor(Ns.r,Ns.g,Ns.b,Zi),M.copy(Ns),D=Zi),m=Ne,x=!1;else if(Ne!==m||gi!==x){if((100!==g||100!==_)&&(n.blendEquation(n.FUNC_ADD),g=100,_=100),gi)switch(Ne){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ne)}else switch(Ne){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ne)}y=null,v=null,C=null,b=null,M.set(0,0,0),D=0,m=Ne,x=gi}}else!0===p&&(te(n.BLEND),p=!1)}function W(Ne){T!==Ne&&(n.frontFace(Ne?n.CW:n.CCW),T=Ne)}function Me(Ne){0!==Ne?(le(n.CULL_FACE),Ne!==B&&n.cullFace(1===Ne?n.BACK:2===Ne?n.FRONT:n.FRONT_AND_BACK)):te(n.CULL_FACE),B=Ne}function Pe(Ne,_t,nt){Ne?(le(n.POLYGON_OFFSET_FILL),(U!==_t||k!==nt)&&(n.polygonOffset(_t,nt),U=_t,k=nt)):te(n.POLYGON_OFFSET_FILL)}return{buffers:{color:s,depth:o,stencil:a},enable:le,disable:te,bindFramebuffer:function ee(Ne,_t){return h[Ne]!==_t&&(n.bindFramebuffer(Ne,_t),h[Ne]=_t,Ne===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=_t),Ne===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=_t),!0)},drawBuffers:function Ae(Ne,_t){let nt=f,Dt=!1;if(Ne){nt=d.get(_t),void 0===nt&&(nt=[],d.set(_t,nt));const an=Ne.textures;if(nt.length!==an.length||nt[0]!==n.COLOR_ATTACHMENT0){for(let Qt=0,Rn=an.length;Qt<Rn;Qt++)nt[Qt]=n.COLOR_ATTACHMENT0+Qt;nt.length=an.length,Dt=!0}}else nt[0]!==n.BACK&&(nt[0]=n.BACK,Dt=!0);Dt&&n.drawBuffers(nt)},useProgram:function Se(Ne){return A!==Ne&&(n.useProgram(Ne),A=Ne,!0)},setBlending:ne,setMaterial:function Y(Ne,_t){2===Ne.side?te(n.CULL_FACE):le(n.CULL_FACE);let nt=1===Ne.side;_t&&(nt=!nt),W(nt),1===Ne.blending&&!1===Ne.transparent?ne(0):ne(Ne.blending,Ne.blendEquation,Ne.blendSrc,Ne.blendDst,Ne.blendEquationAlpha,Ne.blendSrcAlpha,Ne.blendDstAlpha,Ne.blendColor,Ne.blendAlpha,Ne.premultipliedAlpha),o.setFunc(Ne.depthFunc),o.setTest(Ne.depthTest),o.setMask(Ne.depthWrite),s.setMask(Ne.colorWrite);const Dt=Ne.stencilWrite;a.setTest(Dt),Dt&&(a.setMask(Ne.stencilWriteMask),a.setFunc(Ne.stencilFunc,Ne.stencilRef,Ne.stencilFuncMask),a.setOp(Ne.stencilFail,Ne.stencilZFail,Ne.stencilZPass)),Pe(Ne.polygonOffset,Ne.polygonOffsetFactor,Ne.polygonOffsetUnits),!0===Ne.alphaToCoverage?le(n.SAMPLE_ALPHA_TO_COVERAGE):te(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:W,setCullFace:Me,setLineWidth:function Ce(Ne){Ne!==R&&(O&&n.lineWidth(Ne),R=Ne)},setPolygonOffset:Pe,setScissorTest:function Oe(Ne){Ne?le(n.SCISSOR_TEST):te(n.SCISSOR_TEST)},activeTexture:function re(Ne){void 0===Ne&&(Ne=n.TEXTURE0+q-1),H!==Ne&&(n.activeTexture(Ne),H=Ne)},bindTexture:function J(Ne,_t,nt){void 0===nt&&(nt=null===H?n.TEXTURE0+q-1:H);let Dt=ae[nt];void 0===Dt&&(Dt={type:void 0,texture:void 0},ae[nt]=Dt),(Dt.type!==Ne||Dt.texture!==_t)&&(H!==nt&&(n.activeTexture(nt),H=nt),n.bindTexture(Ne,_t||se[Ne]),Dt.type=Ne,Dt.texture=_t)},unbindTexture:function Ue(){const Ne=ae[H];void 0!==Ne&&void 0!==Ne.type&&(n.bindTexture(Ne.type,null),Ne.type=void 0,Ne.texture=void 0)},compressedTexImage2D:function Qe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexImage3D:function rt(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texImage2D:function vn(){try{n.texImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texImage3D:function pn(){try{n.texImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},updateUBOMapping:function $(Ne,_t){let nt=c.get(_t);void 0===nt&&(nt=new WeakMap,c.set(_t,nt));let Dt=nt.get(Ne);void 0===Dt&&(Dt=n.getUniformBlockIndex(_t,Ne.name),nt.set(Ne,Dt))},uniformBlockBinding:function Fe(Ne,_t){const Dt=c.get(_t).get(Ne);l.get(_t)!==Dt&&(n.uniformBlockBinding(_t,Dt,Ne.__bindingPointIndex),l.set(_t,Dt))},texStorage2D:function _n(){try{n.texStorage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texStorage3D:function st(){try{n.texStorage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texSubImage2D:function Xe(){try{n.texSubImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texSubImage3D:function Lt(){try{n.texSubImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexSubImage2D:function Ft(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexSubImage3D:function Tt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},scissor:function bn(Ne){!1===j.equals(Ne)&&(n.scissor(Ne.x,Ne.y,Ne.z,Ne.w),j.copy(Ne))},viewport:function nn(Ne){!1===K.equals(Ne)&&(n.viewport(Ne.x,Ne.y,Ne.z,Ne.w),K.copy(Ne))},reset:function Ke(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},H=null,ae={},h={},d=new WeakMap,f=[],A=null,p=!1,m=null,g=null,y=null,v=null,_=null,C=null,b=null,M=new Hn(0,0,0),D=0,x=!1,T=null,B=null,R=null,U=null,k=null,j.set(0,0,n.canvas.width,n.canvas.height),K.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}}}function NFe(n,e,t,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),c=new kt,u=new WeakMap;let h;const d=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function A(re,J){return f?new OffscreenCanvas(re,J):cx("canvas")}function p(re,J,Ue){let Qe=1;const rt=Oe(re);if((rt.width>Ue||rt.height>Ue)&&(Qe=Ue/Math.max(rt.width,rt.height)),Qe<1){if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap||typeof VideoFrame<"u"&&re instanceof VideoFrame){const Xe=Math.floor(Qe*rt.width),Lt=Math.floor(Qe*rt.height);void 0===h&&(h=A(Xe,Lt));const Ft=J?A(Xe,Lt):h;return Ft.width=Xe,Ft.height=Lt,Ft.getContext("2d").drawImage(re,0,0,Xe,Lt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+rt.width+"x"+rt.height+") to ("+Xe+"x"+Lt+")."),Ft}return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+rt.width+"x"+rt.height+")."),re}return re}function m(re){return re.generateMipmaps}function g(re){n.generateMipmap(re)}function y(re){return re.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:re.isWebGL3DRenderTarget?n.TEXTURE_3D:re.isWebGLArrayRenderTarget||re.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function v(re,J,Ue,Qe,rt=!1){if(null!==re){if(void 0!==n[re])return n[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let Xe=J;if(J===n.RED&&(Ue===n.FLOAT&&(Xe=n.R32F),Ue===n.HALF_FLOAT&&(Xe=n.R16F),Ue===n.UNSIGNED_BYTE&&(Xe=n.R8)),J===n.RED_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.R8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.R16UI),Ue===n.UNSIGNED_INT&&(Xe=n.R32UI),Ue===n.BYTE&&(Xe=n.R8I),Ue===n.SHORT&&(Xe=n.R16I),Ue===n.INT&&(Xe=n.R32I)),J===n.RG&&(Ue===n.FLOAT&&(Xe=n.RG32F),Ue===n.HALF_FLOAT&&(Xe=n.RG16F),Ue===n.UNSIGNED_BYTE&&(Xe=n.RG8)),J===n.RG_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.RG8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.RG16UI),Ue===n.UNSIGNED_INT&&(Xe=n.RG32UI),Ue===n.BYTE&&(Xe=n.RG8I),Ue===n.SHORT&&(Xe=n.RG16I),Ue===n.INT&&(Xe=n.RG32I)),J===n.RGB_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.RGB8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.RGB16UI),Ue===n.UNSIGNED_INT&&(Xe=n.RGB32UI),Ue===n.BYTE&&(Xe=n.RGB8I),Ue===n.SHORT&&(Xe=n.RGB16I),Ue===n.INT&&(Xe=n.RGB32I)),J===n.RGBA_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.RGBA8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.RGBA16UI),Ue===n.UNSIGNED_INT&&(Xe=n.RGBA32UI),Ue===n.BYTE&&(Xe=n.RGBA8I),Ue===n.SHORT&&(Xe=n.RGBA16I),Ue===n.INT&&(Xe=n.RGBA32I)),J===n.RGB&&Ue===n.UNSIGNED_INT_5_9_9_9_REV&&(Xe=n.RGB9_E5),J===n.RGBA){const Lt=rt?eB:os.getTransfer(Qe);Ue===n.FLOAT&&(Xe=n.RGBA32F),Ue===n.HALF_FLOAT&&(Xe=n.RGBA16F),Ue===n.UNSIGNED_BYTE&&(Xe=Lt===qs?n.SRGB8_ALPHA8:n.RGBA8),Ue===n.UNSIGNED_SHORT_4_4_4_4&&(Xe=n.RGBA4),Ue===n.UNSIGNED_SHORT_5_5_5_1&&(Xe=n.RGB5_A1)}return(Xe===n.R16F||Xe===n.R32F||Xe===n.RG16F||Xe===n.RG32F||Xe===n.RGBA16F||Xe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Xe}function _(re,J){let Ue;return re?null===J||J===Yg||J===s1?Ue=n.DEPTH24_STENCIL8:J===ih?Ue=n.DEPTH32F_STENCIL8:J===ox&&(Ue=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===J||J===Yg||J===s1?Ue=n.DEPTH_COMPONENT24:J===ih?Ue=n.DEPTH_COMPONENT32F:J===ox&&(Ue=n.DEPTH_COMPONENT16),Ue}function C(re,J){return!0===m(re)||re.isFramebufferTexture&&re.minFilter!==rc&&re.minFilter!==hl?Math.log2(Math.max(J.width,J.height))+1:void 0!==re.mipmaps&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?J.mipmaps.length:1}function b(re){const J=re.target;J.removeEventListener("dispose",b),function D(re){const J=r.get(re);if(void 0===J.__webglInit)return;const Ue=re.source,Qe=d.get(Ue);if(Qe){const rt=Qe[J.__cacheKey];rt.usedTimes--,0===rt.usedTimes&&x(re),0===Object.keys(Qe).length&&d.delete(Ue)}r.remove(re)}(J),J.isVideoTexture&&u.delete(J)}function M(re){const J=re.target;J.removeEventListener("dispose",M),function T(re){const J=r.get(re);if(re.depthTexture&&(re.depthTexture.dispose(),r.remove(re.depthTexture)),re.isWebGLCubeRenderTarget)for(let Qe=0;Qe<6;Qe++){if(Array.isArray(J.__webglFramebuffer[Qe]))for(let rt=0;rt<J.__webglFramebuffer[Qe].length;rt++)n.deleteFramebuffer(J.__webglFramebuffer[Qe][rt]);else n.deleteFramebuffer(J.__webglFramebuffer[Qe]);J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer[Qe])}else{if(Array.isArray(J.__webglFramebuffer))for(let Qe=0;Qe<J.__webglFramebuffer.length;Qe++)n.deleteFramebuffer(J.__webglFramebuffer[Qe]);else n.deleteFramebuffer(J.__webglFramebuffer);if(J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&n.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer)for(let Qe=0;Qe<J.__webglColorRenderbuffer.length;Qe++)J.__webglColorRenderbuffer[Qe]&&n.deleteRenderbuffer(J.__webglColorRenderbuffer[Qe]);J.__webglDepthRenderbuffer&&n.deleteRenderbuffer(J.__webglDepthRenderbuffer)}const Ue=re.textures;for(let Qe=0,rt=Ue.length;Qe<rt;Qe++){const Xe=r.get(Ue[Qe]);Xe.__webglTexture&&(n.deleteTexture(Xe.__webglTexture),o.memory.textures--),r.remove(Ue[Qe])}r.remove(re)}(J)}function x(re){const J=r.get(re);n.deleteTexture(J.__webglTexture),delete d.get(re.source)[J.__cacheKey],o.memory.textures--}let B=0;function q(re,J){const Ue=r.get(re);if(re.isVideoTexture&&function Ce(re){const J=o.render.frame;u.get(re)!==J&&(u.set(re,J),re.update())}(re),!1===re.isRenderTargetTexture&&re.version>0&&Ue.__version!==re.version){const Qe=re.image;if(null===Qe)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Qe.complete)return void K(Ue,re,J);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,Ue.__webglTexture,n.TEXTURE0+J)}const H={1e3:n.REPEAT,[Kf]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},ae={[rc]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[hl]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[sp]:n.LINEAR_MIPMAP_LINEAR},ve={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function Q(re,J){if(J.type===ih&&!1===e.has("OES_texture_float_linear")&&(J.magFilter===hl||1007===J.magFilter||1005===J.magFilter||J.magFilter===sp||J.minFilter===hl||1007===J.minFilter||1005===J.minFilter||J.minFilter===sp)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(re,n.TEXTURE_WRAP_S,H[J.wrapS]),n.texParameteri(re,n.TEXTURE_WRAP_T,H[J.wrapT]),(re===n.TEXTURE_3D||re===n.TEXTURE_2D_ARRAY)&&n.texParameteri(re,n.TEXTURE_WRAP_R,H[J.wrapR]),n.texParameteri(re,n.TEXTURE_MAG_FILTER,ae[J.magFilter]),n.texParameteri(re,n.TEXTURE_MIN_FILTER,ae[J.minFilter]),J.compareFunction&&(n.texParameteri(re,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(re,n.TEXTURE_COMPARE_FUNC,ve[J.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(J.magFilter===rc||1005!==J.minFilter&&J.minFilter!==sp||J.type===ih&&!1===e.has("OES_texture_float_linear"))return;if(J.anisotropy>1||r.get(J).__currentAnisotropy){const Ue=e.get("EXT_texture_filter_anisotropic");n.texParameterf(re,Ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,i.getMaxAnisotropy())),r.get(J).__currentAnisotropy=J.anisotropy}}}function j(re,J){let Ue=!1;void 0===re.__webglInit&&(re.__webglInit=!0,J.addEventListener("dispose",b));const Qe=J.source;let rt=d.get(Qe);void 0===rt&&(rt={},d.set(Qe,rt));const Xe=function k(re){const J=[];return J.push(re.wrapS),J.push(re.wrapT),J.push(re.wrapR||0),J.push(re.magFilter),J.push(re.minFilter),J.push(re.anisotropy),J.push(re.internalFormat),J.push(re.format),J.push(re.type),J.push(re.generateMipmaps),J.push(re.premultiplyAlpha),J.push(re.flipY),J.push(re.unpackAlignment),J.push(re.colorSpace),J.join()}(J);if(Xe!==re.__cacheKey){void 0===rt[Xe]&&(rt[Xe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Ue=!0),rt[Xe].usedTimes++;const Lt=rt[re.__cacheKey];void 0!==Lt&&(rt[re.__cacheKey].usedTimes--,0===Lt.usedTimes&&x(J)),re.__cacheKey=Xe,re.__webglTexture=rt[Xe].texture}return Ue}function K(re,J,Ue){let Qe=n.TEXTURE_2D;(J.isDataArrayTexture||J.isCompressedArrayTexture)&&(Qe=n.TEXTURE_2D_ARRAY),J.isData3DTexture&&(Qe=n.TEXTURE_3D);const rt=j(re,J),Xe=J.source;t.bindTexture(Qe,re.__webglTexture,n.TEXTURE0+Ue);const Lt=r.get(Xe);if(Xe.version!==Lt.__version||!0===rt){t.activeTexture(n.TEXTURE0+Ue);const Ft=os.getPrimaries(os.workingColorSpace),Tt=""===J.colorSpace?null:os.getPrimaries(J.colorSpace),_n=""===J.colorSpace||Ft===Tt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,_n);let st=p(J.image,!1,i.maxTextureSize);st=Pe(J,st);const vn=s.convert(J.format,J.colorSpace),pn=s.convert(J.type);let nn,bn=v(J.internalFormat,vn,pn,J.colorSpace,J.isVideoTexture);Q(Qe,J);const $=J.mipmaps,Fe=!0!==J.isVideoTexture,Ke=void 0===Lt.__version||!0===rt,Ne=Xe.dataReady,_t=C(J,st);if(J.isDepthTexture)bn=_(J.format===a1,J.type),Ke&&(Fe?t.texStorage2D(n.TEXTURE_2D,1,bn,st.width,st.height):t.texImage2D(n.TEXTURE_2D,0,bn,st.width,st.height,0,vn,pn,null));else if(J.isDataTexture)if($.length>0){Fe&&Ke&&t.texStorage2D(n.TEXTURE_2D,_t,bn,$[0].width,$[0].height);for(let nt=0,Dt=$.length;nt<Dt;nt++)nn=$[nt],Fe?Ne&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,nn.width,nn.height,vn,pn,nn.data):t.texImage2D(n.TEXTURE_2D,nt,bn,nn.width,nn.height,0,vn,pn,nn.data);J.generateMipmaps=!1}else Fe?(Ke&&t.texStorage2D(n.TEXTURE_2D,_t,bn,st.width,st.height),Ne&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,st.width,st.height,vn,pn,st.data)):t.texImage2D(n.TEXTURE_2D,0,bn,st.width,st.height,0,vn,pn,st.data);else if(J.isCompressedTexture)if(J.isCompressedArrayTexture){Fe&&Ke&&t.texStorage3D(n.TEXTURE_2D_ARRAY,_t,bn,$[0].width,$[0].height,st.depth);for(let nt=0,Dt=$.length;nt<Dt;nt++)if(nn=$[nt],J.format!==mu)if(null!==vn)if(Fe){if(Ne)if(J.layerUpdates.size>0){const an=yk(nn.width,nn.height,J.format,J.type);for(const Qt of J.layerUpdates){const Rn=nn.data.subarray(Qt*an/nn.data.BYTES_PER_ELEMENT,(Qt+1)*an/nn.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,Qt,nn.width,nn.height,1,vn,Rn)}J.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,nn.width,nn.height,st.depth,vn,nn.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,nt,bn,nn.width,nn.height,st.depth,0,nn.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Fe?Ne&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,nn.width,nn.height,st.depth,vn,pn,nn.data):t.texImage3D(n.TEXTURE_2D_ARRAY,nt,bn,nn.width,nn.height,st.depth,0,vn,pn,nn.data)}else{Fe&&Ke&&t.texStorage2D(n.TEXTURE_2D,_t,bn,$[0].width,$[0].height);for(let nt=0,Dt=$.length;nt<Dt;nt++)nn=$[nt],J.format!==mu?null!==vn?Fe?Ne&&t.compressedTexSubImage2D(n.TEXTURE_2D,nt,0,0,nn.width,nn.height,vn,nn.data):t.compressedTexImage2D(n.TEXTURE_2D,nt,bn,nn.width,nn.height,0,nn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Fe?Ne&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,nn.width,nn.height,vn,pn,nn.data):t.texImage2D(n.TEXTURE_2D,nt,bn,nn.width,nn.height,0,vn,pn,nn.data)}else if(J.isDataArrayTexture)if(Fe){if(Ke&&t.texStorage3D(n.TEXTURE_2D_ARRAY,_t,bn,st.width,st.height,st.depth),Ne)if(J.layerUpdates.size>0){const nt=yk(st.width,st.height,J.format,J.type);for(const Dt of J.layerUpdates){const an=st.data.subarray(Dt*nt/st.data.BYTES_PER_ELEMENT,(Dt+1)*nt/st.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Dt,st.width,st.height,1,vn,pn,an)}J.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,st.width,st.height,st.depth,vn,pn,st.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,bn,st.width,st.height,st.depth,0,vn,pn,st.data);else if(J.isData3DTexture)Fe?(Ke&&t.texStorage3D(n.TEXTURE_3D,_t,bn,st.width,st.height,st.depth),Ne&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,st.width,st.height,st.depth,vn,pn,st.data)):t.texImage3D(n.TEXTURE_3D,0,bn,st.width,st.height,st.depth,0,vn,pn,st.data);else if(J.isFramebufferTexture){if(Ke)if(Fe)t.texStorage2D(n.TEXTURE_2D,_t,bn,st.width,st.height);else{let nt=st.width,Dt=st.height;for(let an=0;an<_t;an++)t.texImage2D(n.TEXTURE_2D,an,bn,nt,Dt,0,vn,pn,null),nt>>=1,Dt>>=1}}else if($.length>0){if(Fe&&Ke){const nt=Oe($[0]);t.texStorage2D(n.TEXTURE_2D,_t,bn,nt.width,nt.height)}for(let nt=0,Dt=$.length;nt<Dt;nt++)nn=$[nt],Fe?Ne&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,vn,pn,nn):t.texImage2D(n.TEXTURE_2D,nt,bn,vn,pn,nn);J.generateMipmaps=!1}else if(Fe){if(Ke){const nt=Oe(st);t.texStorage2D(n.TEXTURE_2D,_t,bn,nt.width,nt.height)}Ne&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,vn,pn,st)}else t.texImage2D(n.TEXTURE_2D,0,bn,vn,pn,st);m(J)&&g(Qe),Lt.__version=Xe.version,J.onUpdate&&J.onUpdate(J)}re.__version=J.version}function se(re,J,Ue,Qe,rt,Xe){const Lt=s.convert(Ue.format,Ue.colorSpace),Ft=s.convert(Ue.type),Tt=v(Ue.internalFormat,Lt,Ft,Ue.colorSpace),_n=r.get(J),st=r.get(Ue);if(st.__renderTarget=J,!_n.__hasExternalTextures){const vn=Math.max(1,J.width>>Xe),pn=Math.max(1,J.height>>Xe);rt===n.TEXTURE_3D||rt===n.TEXTURE_2D_ARRAY?t.texImage3D(rt,Xe,Tt,vn,pn,J.depth,0,Lt,Ft,null):t.texImage2D(rt,Xe,Tt,vn,pn,0,Lt,Ft,null)}t.bindFramebuffer(n.FRAMEBUFFER,re),Me(J)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Qe,rt,st.__webglTexture,0,W(J)):(rt===n.TEXTURE_2D||rt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&rt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Qe,rt,st.__webglTexture,Xe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function le(re,J,Ue){if(n.bindRenderbuffer(n.RENDERBUFFER,re),J.depthBuffer){const Qe=J.depthTexture,Xe=_(J.stencilBuffer,Qe&&Qe.isDepthTexture?Qe.type:null),Lt=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ft=W(J);Me(J)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ft,Xe,J.width,J.height):Ue?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ft,Xe,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Xe,J.width,J.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Lt,n.RENDERBUFFER,re)}else{const Qe=J.textures;for(let rt=0;rt<Qe.length;rt++){const Xe=Qe[rt],Lt=s.convert(Xe.format,Xe.colorSpace),Ft=s.convert(Xe.type),Tt=v(Xe.internalFormat,Lt,Ft,Xe.colorSpace),_n=W(J);Ue&&!1===Me(J)?n.renderbufferStorageMultisample(n.RENDERBUFFER,_n,Tt,J.width,J.height):Me(J)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,_n,Tt,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Tt,J.width,J.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ee(re){const J=r.get(re),Ue=!0===re.isWebGLCubeRenderTarget;if(J.__boundDepthTexture!==re.depthTexture){const Qe=re.depthTexture;if(J.__depthDisposeCallback&&J.__depthDisposeCallback(),Qe){const rt=()=>{delete J.__boundDepthTexture,delete J.__depthDisposeCallback,Qe.removeEventListener("dispose",rt)};Qe.addEventListener("dispose",rt),J.__depthDisposeCallback=rt}J.__boundDepthTexture=Qe}if(re.depthTexture&&!J.__autoAllocateDepthBuffer){if(Ue)throw new Error("target.depthTexture not supported in Cube render targets");!function te(re,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,re),!J.depthTexture||!J.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Qe=r.get(J.depthTexture);Qe.__renderTarget=J,(!Qe.__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),q(J.depthTexture,0);const rt=Qe.__webglTexture,Xe=W(J);if(J.depthTexture.format===o1)Me(J)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,rt,0,Xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,rt,0);else{if(J.depthTexture.format!==a1)throw new Error("Unknown depthTexture format");Me(J)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,rt,0,Xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,rt,0)}}(J.__webglFramebuffer,re)}else if(Ue){J.__webglDepthbuffer=[];for(let Qe=0;Qe<6;Qe++)if(t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer[Qe]),void 0===J.__webglDepthbuffer[Qe])J.__webglDepthbuffer[Qe]=n.createRenderbuffer(),le(J.__webglDepthbuffer[Qe],re,!1);else{const rt=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Xe=J.__webglDepthbuffer[Qe];n.bindRenderbuffer(n.RENDERBUFFER,Xe),n.framebufferRenderbuffer(n.FRAMEBUFFER,rt,n.RENDERBUFFER,Xe)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer),void 0===J.__webglDepthbuffer)J.__webglDepthbuffer=n.createRenderbuffer(),le(J.__webglDepthbuffer,re,!1);else{const Qe=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,rt=J.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,rt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,rt)}t.bindFramebuffer(n.FRAMEBUFFER,null)}const xe=[],ne=[];function W(re){return Math.min(i.maxSamples,re.samples)}function Me(re){const J=r.get(re);return re.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==J.__useRenderToTexture}function Pe(re,J){const Ue=re.colorSpace,Qe=re.format,rt=re.type;return!0===re.isCompressedTexture||!0===re.isVideoTexture||Ue!==u1&&""!==Ue&&(os.getTransfer(Ue)===qs?(Qe!==mu||rt!==op)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ue)),J}function Oe(re){return typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(c.width=re.naturalWidth||re.width,c.height=re.naturalHeight||re.height):typeof VideoFrame<"u"&&re instanceof VideoFrame?(c.width=re.displayWidth,c.height=re.displayHeight):(c.width=re.width,c.height=re.height),c}this.allocateTextureUnit=function U(){const re=B;return re>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+i.maxTextures),B+=1,re},this.resetTextureUnits=function R(){B=0},this.setTexture2D=q,this.setTexture2DArray=function O(re,J){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?K(Ue,re,J):t.bindTexture(n.TEXTURE_2D_ARRAY,Ue.__webglTexture,n.TEXTURE0+J)},this.setTexture3D=function P(re,J){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?K(Ue,re,J):t.bindTexture(n.TEXTURE_3D,Ue.__webglTexture,n.TEXTURE0+J)},this.setTextureCube=function G(re,J){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?function oe(re,J,Ue){if(6!==J.image.length)return;const Qe=j(re,J),rt=J.source;t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture,n.TEXTURE0+Ue);const Xe=r.get(rt);if(rt.version!==Xe.__version||!0===Qe){t.activeTexture(n.TEXTURE0+Ue);const Lt=os.getPrimaries(os.workingColorSpace),Ft=""===J.colorSpace?null:os.getPrimaries(J.colorSpace),Tt=""===J.colorSpace||Lt===Ft?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);const _n=J.isCompressedTexture||J.image[0].isCompressedTexture,st=J.image[0]&&J.image[0].isDataTexture,vn=[];for(let Dt=0;Dt<6;Dt++)vn[Dt]=_n||st?st?J.image[Dt].image:J.image[Dt]:p(J.image[Dt],!0,i.maxCubemapSize),vn[Dt]=Pe(J,vn[Dt]);const pn=vn[0],bn=s.convert(J.format,J.colorSpace),nn=s.convert(J.type),$=v(J.internalFormat,bn,nn,J.colorSpace),Fe=!0!==J.isVideoTexture,Ke=void 0===Xe.__version||!0===Qe,Ne=rt.dataReady;let nt,_t=C(J,pn);if(Q(n.TEXTURE_CUBE_MAP,J),_n){Fe&&Ke&&t.texStorage2D(n.TEXTURE_CUBE_MAP,_t,$,pn.width,pn.height);for(let Dt=0;Dt<6;Dt++){nt=vn[Dt].mipmaps;for(let an=0;an<nt.length;an++){const Qt=nt[an];J.format!==mu?null!==bn?Fe?Ne&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,0,0,Qt.width,Qt.height,bn,Qt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,$,Qt.width,Qt.height,0,Qt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,0,0,Qt.width,Qt.height,bn,nn,Qt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,$,Qt.width,Qt.height,0,bn,nn,Qt.data)}}}else{if(nt=J.mipmaps,Fe&&Ke){nt.length>0&&_t++;const Dt=Oe(vn[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,_t,$,Dt.width,Dt.height)}for(let Dt=0;Dt<6;Dt++)if(st){Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,0,0,vn[Dt].width,vn[Dt].height,bn,nn,vn[Dt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,$,vn[Dt].width,vn[Dt].height,0,bn,nn,vn[Dt].data);for(let an=0;an<nt.length;an++){const Rn=nt[an].image[Dt].image;Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,0,0,Rn.width,Rn.height,bn,nn,Rn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,$,Rn.width,Rn.height,0,bn,nn,Rn.data)}}else{Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,0,0,bn,nn,vn[Dt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,$,bn,nn,vn[Dt]);for(let an=0;an<nt.length;an++){const Qt=nt[an];Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,0,0,bn,nn,Qt.image[Dt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,$,bn,nn,Qt.image[Dt])}}}m(J)&&g(n.TEXTURE_CUBE_MAP),Xe.__version=rt.version,J.onUpdate&&J.onUpdate(J)}re.__version=J.version}(Ue,re,J):t.bindTexture(n.TEXTURE_CUBE_MAP,Ue.__webglTexture,n.TEXTURE0+J)},this.rebindTextures=function Ae(re,J,Ue){const Qe=r.get(re);void 0!==J&&se(Qe.__webglFramebuffer,re,re.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==Ue&&ee(re)},this.setupRenderTarget=function Se(re){const J=re.texture,Ue=r.get(re),Qe=r.get(J);re.addEventListener("dispose",M);const rt=re.textures,Xe=!0===re.isWebGLCubeRenderTarget,Lt=rt.length>1;if(Lt||(void 0===Qe.__webglTexture&&(Qe.__webglTexture=n.createTexture()),Qe.__version=J.version,o.memory.textures++),Xe){Ue.__webglFramebuffer=[];for(let Ft=0;Ft<6;Ft++)if(J.mipmaps&&J.mipmaps.length>0){Ue.__webglFramebuffer[Ft]=[];for(let Tt=0;Tt<J.mipmaps.length;Tt++)Ue.__webglFramebuffer[Ft][Tt]=n.createFramebuffer()}else Ue.__webglFramebuffer[Ft]=n.createFramebuffer()}else{if(J.mipmaps&&J.mipmaps.length>0){Ue.__webglFramebuffer=[];for(let Ft=0;Ft<J.mipmaps.length;Ft++)Ue.__webglFramebuffer[Ft]=n.createFramebuffer()}else Ue.__webglFramebuffer=n.createFramebuffer();if(Lt)for(let Ft=0,Tt=rt.length;Ft<Tt;Ft++){const _n=r.get(rt[Ft]);void 0===_n.__webglTexture&&(_n.__webglTexture=n.createTexture(),o.memory.textures++)}if(re.samples>0&&!1===Me(re)){Ue.__webglMultisampledFramebuffer=n.createFramebuffer(),Ue.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer);for(let Ft=0;Ft<rt.length;Ft++){const Tt=rt[Ft];Ue.__webglColorRenderbuffer[Ft]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ue.__webglColorRenderbuffer[Ft]);const _n=s.convert(Tt.format,Tt.colorSpace),st=s.convert(Tt.type),vn=v(Tt.internalFormat,_n,st,Tt.colorSpace,!0===re.isXRRenderTarget),pn=W(re);n.renderbufferStorageMultisample(n.RENDERBUFFER,pn,vn,re.width,re.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ft,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[Ft])}n.bindRenderbuffer(n.RENDERBUFFER,null),re.depthBuffer&&(Ue.__webglDepthRenderbuffer=n.createRenderbuffer(),le(Ue.__webglDepthRenderbuffer,re,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Xe){t.bindTexture(n.TEXTURE_CUBE_MAP,Qe.__webglTexture),Q(n.TEXTURE_CUBE_MAP,J);for(let Ft=0;Ft<6;Ft++)if(J.mipmaps&&J.mipmaps.length>0)for(let Tt=0;Tt<J.mipmaps.length;Tt++)se(Ue.__webglFramebuffer[Ft][Tt],re,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,Tt);else se(Ue.__webglFramebuffer[Ft],re,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,0);m(J)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Lt){for(let Ft=0,Tt=rt.length;Ft<Tt;Ft++){const _n=rt[Ft],st=r.get(_n);t.bindTexture(n.TEXTURE_2D,st.__webglTexture),Q(n.TEXTURE_2D,_n),se(Ue.__webglFramebuffer,re,_n,n.COLOR_ATTACHMENT0+Ft,n.TEXTURE_2D,0),m(_n)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let Ft=n.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(Ft=re.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ft,Qe.__webglTexture),Q(Ft,J),J.mipmaps&&J.mipmaps.length>0)for(let Tt=0;Tt<J.mipmaps.length;Tt++)se(Ue.__webglFramebuffer[Tt],re,J,n.COLOR_ATTACHMENT0,Ft,Tt);else se(Ue.__webglFramebuffer,re,J,n.COLOR_ATTACHMENT0,Ft,0);m(J)&&g(Ft),t.unbindTexture()}re.depthBuffer&&ee(re)},this.updateRenderTargetMipmap=function ge(re){const J=re.textures;for(let Ue=0,Qe=J.length;Ue<Qe;Ue++){const rt=J[Ue];if(m(rt)){const Xe=y(re),Lt=r.get(rt).__webglTexture;t.bindTexture(Xe,Lt),g(Xe),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Y(re){if(re.samples>0)if(!1===Me(re)){const J=re.textures,Ue=re.width,Qe=re.height;let rt=n.COLOR_BUFFER_BIT;const Xe=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Lt=r.get(re),Ft=J.length>1;if(Ft)for(let Tt=0;Tt<J.length;Tt++)t.bindFramebuffer(n.FRAMEBUFFER,Lt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Lt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Lt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Lt.__webglFramebuffer);for(let Tt=0;Tt<J.length;Tt++){if(re.resolveDepthBuffer&&(re.depthBuffer&&(rt|=n.DEPTH_BUFFER_BIT),re.stencilBuffer&&re.resolveStencilBuffer&&(rt|=n.STENCIL_BUFFER_BIT)),Ft){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Lt.__webglColorRenderbuffer[Tt]);const _n=r.get(J[Tt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,_n,0)}n.blitFramebuffer(0,0,Ue,Qe,0,0,Ue,Qe,rt,n.NEAREST),!0===l&&(xe.length=0,ne.length=0,xe.push(n.COLOR_ATTACHMENT0+Tt),re.depthBuffer&&!1===re.resolveDepthBuffer&&(xe.push(Xe),ne.push(Xe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ne)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,xe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ft)for(let Tt=0;Tt<J.length;Tt++){t.bindFramebuffer(n.FRAMEBUFFER,Lt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.RENDERBUFFER,Lt.__webglColorRenderbuffer[Tt]);const _n=r.get(J[Tt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Lt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.TEXTURE_2D,_n,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Lt.__webglMultisampledFramebuffer)}else re.depthBuffer&&!1===re.resolveDepthBuffer&&l&&n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=ee,this.setupFrameBufferTexture=se,this.useMultisampledRTT=Me}function IFe(n,e){return{convert:function t(r,i=""){let s;const o=os.getTransfer(i);if(r===op)return n.UNSIGNED_BYTE;if(r===SU)return n.UNSIGNED_SHORT_4_4_4_4;if(r===xU)return n.UNSIGNED_SHORT_5_5_5_1;if(r===gX)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===AX)return n.BYTE;if(r===pX)return n.SHORT;if(r===ox)return n.UNSIGNED_SHORT;if(r===CU)return n.INT;if(r===Yg)return n.UNSIGNED_INT;if(r===ih)return n.FLOAT;if(r===ax)return n.HALF_FLOAT;if(r===mX)return n.ALPHA;if(r===vX)return n.RGB;if(r===mu)return n.RGBA;if(r===yX)return n.LUMINANCE;if(r===_X)return n.LUMINANCE_ALPHA;if(r===o1)return n.DEPTH_COMPONENT;if(r===a1)return n.DEPTH_STENCIL;if(r===EU)return n.RED;if(r===qT)return n.RED_INTEGER;if(r===bX)return n.RG;if(r===DU)return n.RG_INTEGER;if(r===MU)return n.RGBA_INTEGER;if(r===WT||r===$T||r===KT||r===XT)if(o===qs){if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===s)return null;if(r===WT)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===$T)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===KT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===XT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(s=e.get("WEBGL_compressed_texture_s3tc"),null===s)return null;if(r===WT)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===$T)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===KT)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===XT)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(r===TU||r===BU||r===NU||r===IU){if(s=e.get("WEBGL_compressed_texture_pvrtc"),null===s)return null;if(r===TU)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===BU)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===NU)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===IU)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===FU||r===RU||r===OU){if(s=e.get("WEBGL_compressed_texture_etc"),null===s)return null;if(r===FU||r===RU)return o===qs?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===OU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}if(r===PU||r===LU||r===UU||r===kU||r===HU||r===VU||r===QU||r===zU||r===GU||r===jU||r===qU||r===WU||r===$U||r===KU){if(s=e.get("WEBGL_compressed_texture_astc"),null===s)return null;if(r===PU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===LU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===UU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===kU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===HU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===VU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===QU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===zU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===GU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===jU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===qU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===WU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===$U)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===KU)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}if(r===YT||r===XU||r===YU){if(s=e.get("EXT_texture_compression_bptc"),null===s)return null;if(r===YT)return o===qs?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===XU)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===YU)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(r===wX||r===JU||r===ZU||r===e4){if(s=e.get("EXT_texture_compression_rgtc"),null===s)return null;if(r===YT)return s.COMPRESSED_RED_RGTC1_EXT;if(r===JU)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===ZU)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===e4)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===s1?n.UNSIGNED_INT_24_8:void 0!==n[r]?n[r]:null}}}const FFe={type:"move"};class Bk{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Cx,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Cx,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Re),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Cx,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Re),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const p of e.hand.values()){const m=t.getJointPose(p,r),g=this._getHandJoint(c,p);null!==m&&(g.matrix.fromArray(m.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=m.radius),g.visible=null!==m}const d=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,A=.005;c.inputState.pinching&&d>f+A?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=f-A&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,r),null===i&&null!==s&&(i=s),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(FFe)))}return null!==a&&(a.visible=null!==i),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const r=new Cx;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class PFe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(null===this.texture){const i=new vu;e.properties.get(i).__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,r=new Zd({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new la(new Tx(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class LFe extends lp{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,d=null,f=null,A=null;const p=new PFe,m=t.getContextAttributes();let g=null,y=null;const v=[],_=[],C=new kt;let b=null;const M=new Rl;M.viewport=new As;const D=new Rl;D.viewport=new As;const x=[M,D],T=new nTe;let B=null,R=null;function U(K){const oe=_.indexOf(K.inputSource);if(-1===oe)return;const se=v[oe];void 0!==se&&(se.update(K.inputSource,K.frame,c||o),se.dispatchEvent({type:K.type,data:K.inputSource}))}function k(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",k),i.removeEventListener("inputsourceschange",q);for(let K=0;K<v.length;K++){const oe=_[K];null!==oe&&(_[K]=null,v[K].disconnect(oe))}B=null,R=null,p.reset(),e.setRenderTarget(g),f=null,d=null,h=null,i=null,y=null,j.stop(),r.isPresenting=!1,e.setPixelRatio(b),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}function q(K){for(let oe=0;oe<K.removed.length;oe++){const se=K.removed[oe],le=_.indexOf(se);le>=0&&(_[le]=null,v[le].disconnect(se))}for(let oe=0;oe<K.added.length;oe++){const se=K.added[oe];let le=_.indexOf(se);if(-1===le){for(let ee=0;ee<v.length;ee++){if(ee>=_.length){_.push(se),le=ee;break}if(null===_[ee]){_[ee]=se,le=ee;break}}if(-1===le)break}const te=v[le];te&&te.connect(se)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let oe=v[K];return void 0===oe&&(oe=new Bk,v[K]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(K){let oe=v[K];return void 0===oe&&(oe=new Bk,v[K]=oe),oe.getGripSpace()},this.getHand=function(K){let oe=v[K];return void 0===oe&&(oe=new Bk,v[K]=oe),oe.getHandSpace()},this.setFramebufferScaleFactor=function(K){s=K,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){a=K,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(K){c=K},this.getBaseLayer=function(){return null!==d?d:f},this.getBinding=function(){return h},this.getFrame=function(){return A},this.getSession=function(){return i},this.setSession=function(){var K=(0,yt.A)(function*(oe){if(i=oe,null!==i){if(g=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",k),i.addEventListener("inputsourceschange",q),!0!==m.xrCompatible&&(yield t.makeXRCompatible()),b=e.getPixelRatio(),e.getSize(C),void 0===i.renderState.layers)f=new XRWebGLLayer(i,t,{antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s}),i.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),y=new Jd(f.framebufferWidth,f.framebufferHeight,{format:mu,type:op,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil});else{let se=null,le=null,te=null;m.depth&&(te=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,se=m.stencil?a1:o1,le=m.stencil?s1:Yg);const ee={colorFormat:t.RGBA8,depthFormat:te,scaleFactor:s};h=new XRWebGLBinding(i,t),d=h.createProjectionLayer(ee),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),y=new Jd(d.textureWidth,d.textureHeight,{format:mu,type:op,depthTexture:new _Y(d.textureWidth,d.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield i.requestReferenceSpace(a),j.setContext(i),j.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(oe){return K.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};const O=new Re,P=new Re;function H(K,oe){null===oe?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(oe.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(null===i)return;let oe=K.near,se=K.far;null!==p.texture&&(p.depthNear>0&&(oe=p.depthNear),p.depthFar>0&&(se=p.depthFar)),T.near=D.near=M.near=oe,T.far=D.far=M.far=se,(B!==T.near||R!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),B=T.near,R=T.far),M.layers.mask=2|K.layers.mask,D.layers.mask=4|K.layers.mask,T.layers.mask=M.layers.mask|D.layers.mask;const le=K.parent,te=T.cameras;H(T,le);for(let ee=0;ee<te.length;ee++)H(te[ee],le);2===te.length?function G(K,oe,se){O.setFromMatrixPosition(oe.matrixWorld),P.setFromMatrixPosition(se.matrixWorld);const le=O.distanceTo(P),te=oe.projectionMatrix.elements,ee=se.projectionMatrix.elements,Ae=te[14]/(te[10]-1),Se=te[14]/(te[10]+1),ge=(te[9]+1)/te[5],xe=(te[9]-1)/te[5],ne=(te[8]-1)/te[0],Y=(ee[8]+1)/ee[0],W=Ae*ne,Me=Ae*Y,Ce=le/(-ne+Y),Pe=Ce*-ne;if(oe.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX(Pe),K.translateZ(Ce),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert(),-1===te[10])K.projectionMatrix.copy(oe.projectionMatrix),K.projectionMatrixInverse.copy(oe.projectionMatrixInverse);else{const Oe=Ae+Ce,re=Se+Ce;K.projectionMatrix.makePerspective(W-Pe,Me+(le-Pe),ge*Se/re*Oe,xe*Se/re*Oe,Oe,re),K.projectionMatrixInverse.copy(K.projectionMatrix).invert()}}(T,M,D):T.projectionMatrix.copy(M.projectionMatrix),function ae(K,oe,se){null===se?K.matrix.copy(oe.matrixWorld):(K.matrix.copy(se.matrixWorld),K.matrix.invert(),K.matrix.multiply(oe.matrixWorld)),K.matrix.decompose(K.position,K.quaternion,K.scale),K.updateMatrixWorld(!0),K.projectionMatrix.copy(oe.projectionMatrix),K.projectionMatrixInverse.copy(oe.projectionMatrixInverse),K.isPerspectiveCamera&&(K.fov=2*f1*Math.atan(1/K.projectionMatrix.elements[5]),K.zoom=1)}(K,T,le)},this.getCamera=function(){return T},this.getFoveation=function(){if(null!==d||null!==f)return l},this.setFoveation=function(K){l=K,null!==d&&(d.fixedFoveation=K),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=K)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(T)};let ve=null;const j=new _J;j.setAnimationLoop(function Q(K,oe){if(u=oe.getViewerPose(c||o),A=oe,null!==u){const se=u.views;null!==f&&(e.setRenderTargetFramebuffer(y,f.framebuffer),e.setRenderTarget(y));let le=!1;se.length!==T.cameras.length&&(T.cameras.length=0,le=!0);for(let ee=0;ee<se.length;ee++){const Ae=se[ee];let Se=null;if(null!==f)Se=f.getViewport(Ae);else{const xe=h.getViewSubImage(d,Ae);Se=xe.viewport,0===ee&&(e.setRenderTargetTextures(y,xe.colorTexture,d.ignoreDepthValues?void 0:xe.depthStencilTexture),e.setRenderTarget(y))}let ge=x[ee];void 0===ge&&(ge=new Rl,ge.layers.enable(ee),ge.viewport=new As,x[ee]=ge),ge.matrix.fromArray(Ae.transform.matrix),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.projectionMatrix.fromArray(Ae.projectionMatrix),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert(),ge.viewport.set(Se.x,Se.y,Se.width,Se.height),0===ee&&(T.matrix.copy(ge.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===le&&T.cameras.push(ge)}const te=i.enabledFeatures;if(te&&te.includes("depth-sensing")){const ee=h.getDepthInformation(se[0]);ee&&ee.isValid&&ee.texture&&p.init(e,ee,i.renderState)}}for(let se=0;se<v.length;se++){const le=_[se],te=v[se];null!==le&&void 0!==te&&te.update(le,oe,c||o)}ve&&ve(K,oe),oe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:oe}),A=null}),this.setAnimationLoop=function(K){ve=K},this.dispose=function(){}}}const B0=new fp,UFe=new Ir;function kFe(n,e){function t(m,g){!0===m.matrixAutoUpdate&&m.updateMatrix(),g.value.copy(m.matrix)}function s(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map,t(g.map,m.mapTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.bumpMap&&(m.bumpMap.value=g.bumpMap,t(g.bumpMap,m.bumpMapTransform),m.bumpScale.value=g.bumpScale,1===g.side&&(m.bumpScale.value*=-1)),g.normalMap&&(m.normalMap.value=g.normalMap,t(g.normalMap,m.normalMapTransform),m.normalScale.value.copy(g.normalScale),1===g.side&&m.normalScale.value.negate()),g.displacementMap&&(m.displacementMap.value=g.displacementMap,t(g.displacementMap,m.displacementMapTransform),m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,m.emissiveMapTransform)),g.specularMap&&(m.specularMap.value=g.specularMap,t(g.specularMap,m.specularMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);const y=e.get(g),v=y.envMap,_=y.envMapRotation;v&&(m.envMap.value=v,B0.copy(_),B0.x*=-1,B0.y*=-1,B0.z*=-1,v.isCubeTexture&&!1===v.isRenderTargetTexture&&(B0.y*=-1,B0.z*=-1),m.envMapRotation.value.setFromMatrix4(UFe.makeRotationFromEuler(B0)),m.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap&&(m.lightMap.value=g.lightMap,m.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,m.lightMapTransform)),g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,m.aoMapTransform))}return{refreshFogUniforms:function r(m,g){g.color.getRGB(m.fogColor.value,$X(n)),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)},refreshMaterialUniforms:function i(m,g,y,v,_){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(m,g):g.isMeshToonMaterial?(s(m,g),function h(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}(m,g)):g.isMeshPhongMaterial?(s(m,g),function u(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}(m,g)):g.isMeshStandardMaterial?(s(m,g),function d(m,g){m.metalness.value=g.metalness,g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,m.metalnessMapTransform)),m.roughness.value=g.roughness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,m.roughnessMapTransform)),g.envMap&&(m.envMapIntensity.value=g.envMapIntensity)}(m,g),g.isMeshPhysicalMaterial&&function f(m,g,y){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,m.sheenColorMapTransform)),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,m.sheenRoughnessMapTransform))),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,m.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(m.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),1===g.side&&m.clearcoatNormalScale.value.negate())),g.dispersion>0&&(m.dispersion.value=g.dispersion),g.iridescence>0&&(m.iridescence.value=g.iridescence,m.iridescenceIOR.value=g.iridescenceIOR,m.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(m.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,m.iridescenceMapTransform)),g.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=y.texture,m.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,m.transmissionMapTransform)),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(m.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(m.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,m.specularColorMapTransform)),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,m.specularIntensityMapTransform))}(m,g,_)):g.isMeshMatcapMaterial?(s(m,g),function A(m,g){g.matcap&&(m.matcap.value=g.matcap)}(m,g)):g.isMeshDepthMaterial?s(m,g):g.isMeshDistanceMaterial?(s(m,g),function p(m,g){const y=e.get(g).light;m.referencePosition.value.setFromMatrixPosition(y.matrixWorld),m.nearDistance.value=y.shadow.camera.near,m.farDistance.value=y.shadow.camera.far}(m,g)):g.isMeshNormalMaterial?s(m,g):g.isLineBasicMaterial?(function o(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,g.map&&(m.map.value=g.map,t(g.map,m.mapTransform))}(m,g),g.isLineDashedMaterial&&function a(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}(m,g)):g.isPointsMaterial?function l(m,g,y,v){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*y,m.scale.value=.5*v,g.map&&(m.map.value=g.map,t(g.map,m.uvTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest)}(m,g,y,v):g.isSpriteMaterial?function c(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map,t(g.map,m.mapTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest)}(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}}}function HFe(n,e,t,r){let i={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function f(y,v,_,C){const b=y.value,M=v+"_"+_;if(void 0===C[M])return C[M]="number"==typeof b||"boolean"==typeof b?b:b.clone(),!0;{const D=C[M];if("number"==typeof b||"boolean"==typeof b){if(D!==b)return C[M]=b,!0}else if(!1===D.equals(b))return D.copy(b),!0}return!1}function p(y){const v={boundary:0,storage:0};return"number"==typeof y||"boolean"==typeof y?(v.boundary=4,v.storage=4):y.isVector2?(v.boundary=8,v.storage=8):y.isVector3||y.isColor?(v.boundary=16,v.storage=12):y.isVector4?(v.boundary=16,v.storage=16):y.isMatrix3?(v.boundary=48,v.storage=48):y.isMatrix4?(v.boundary=64,v.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),v}function m(y){const v=y.target;v.removeEventListener("dispose",m);const _=o.indexOf(v.__bindingPointIndex);o.splice(_,1),n.deleteBuffer(i[v.id]),delete i[v.id],delete s[v.id]}return{bind:function l(y,v){r.uniformBlockBinding(y,v.program)},update:function c(y,v){let _=i[y.id];void 0===_&&(function A(y){const v=y.uniforms;let _=0;for(let M=0,D=v.length;M<D;M++){const x=Array.isArray(v[M])?v[M]:[v[M]];for(let T=0,B=x.length;T<B;T++){const R=x[T],U=Array.isArray(R.value)?R.value:[R.value];for(let k=0,q=U.length;k<q;k++){const P=p(U[k]),G=_%16,H=G%P.boundary,ae=G+H;_+=H,0!==ae&&16-ae<P.storage&&(_+=16-ae),R.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=_,_+=P.storage}}}const b=_%16;b>0&&(_+=16-b),y.__size=_,y.__cache={}}(y),_=function u(y){const v=function h(){for(let y=0;y<a;y++)if(-1===o.indexOf(y))return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();y.__bindingPointIndex=v;const _=n.createBuffer(),C=y.__size,b=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,_),n.bufferData(n.UNIFORM_BUFFER,C,b),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,v,_),_}(y),i[y.id]=_,y.addEventListener("dispose",m)),r.updateUBOMapping(y,v.program);const b=e.render.frame;s[y.id]!==b&&(function d(y){const _=y.uniforms,C=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,i[y.id]);for(let b=0,M=_.length;b<M;b++){const D=Array.isArray(_[b])?_[b]:[_[b]];for(let x=0,T=D.length;x<T;x++){const B=D[x];if(!0===f(B,b,x,C)){const R=B.__offset,U=Array.isArray(B.value)?B.value:[B.value];let k=0;for(let q=0;q<U.length;q++){const O=U[q],P=p(O);"number"==typeof O||"boolean"==typeof O?(B.__data[0]=O,n.bufferSubData(n.UNIFORM_BUFFER,R+k,B.__data)):O.isMatrix3?(B.__data[0]=O.elements[0],B.__data[1]=O.elements[1],B.__data[2]=O.elements[2],B.__data[3]=0,B.__data[4]=O.elements[3],B.__data[5]=O.elements[4],B.__data[6]=O.elements[5],B.__data[7]=0,B.__data[8]=O.elements[6],B.__data[9]=O.elements[7],B.__data[10]=O.elements[8],B.__data[11]=0):(O.toArray(B.__data,k),k+=P.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,R,B.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(y),s[y.id]=b)},dispose:function g(){for(const y in i)n.deleteBuffer(i[y]);o=[],i={},s={}}}}class VFe{constructor(e={}){const{canvas:t=nDe(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:d=!1}=e;let f;if(this.isWebGLRenderer=!0,null!==r){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=r.getContextAttributes().alpha}else f=o;const A=new Uint32Array(4),p=new Int32Array(4);let m=null,g=null;const y=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=sh,this.toneMapping=Kg,this.toneMappingExposure=1;const _=this;let C=!1,b=0,M=0,D=null,x=-1,T=null;const B=new As,R=new As;let U=null;const k=new Hn(0);let q=0,O=t.width,P=t.height,G=1,H=null,ae=null;const ve=new As(0,0,O,P),Q=new As(0,0,O,P);let j=!1;const K=new DB;let oe=!1,se=!1;const le=new Ir,te=new Ir,ee=new Re,Ae=new As,Se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ge=!1;function xe(){return null===D?G:1}let W,Me,Ce,Pe,Oe,re,J,Ue,Qe,rt,Xe,Lt,Ft,Tt,_n,st,vn,pn,bn,nn,$,Fe,Ke,Ne,ne=r;function Y(be,et){return t.getContext(be,et)}try{const be={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r171"),t.addEventListener("webglcontextlost",Dt,!1),t.addEventListener("webglcontextrestored",an,!1),t.addEventListener("webglcontextcreationerror",Qt,!1),null===ne){const et="webgl2";if(ne=Y(et,be),null===ne)throw Y(et)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(be){throw console.error("THREE.WebGLRenderer: "+be.message),be}function _t(){W=new XNe(ne),W.init(),Fe=new IFe(ne,W),Me=new GNe(ne,W,e,Fe),Ce=new BFe(ne,W),Me.reverseDepthBuffer&&d&&Ce.buffers.depth.setReversed(!0),Pe=new ZNe(ne),Oe=new mFe,re=new NFe(ne,W,Ce,Oe,Me,Fe,Pe),J=new qNe(_),Ue=new KNe(_),Qe=new HTe(ne),Ke=new QNe(ne,Qe),rt=new YNe(ne,Qe,Pe,Ke),Xe=new tIe(ne,rt,Qe,Pe),bn=new eIe(ne,Me,re),st=new jNe(Oe),Lt=new gFe(_,J,Ue,W,Me,Ke,st),Ft=new kFe(_,Oe),Tt=new yFe,_n=new xFe(W),pn=new VNe(_,J,Ue,Ce,Xe,f,l),vn=new MFe(_,Xe,Me),Ne=new HFe(ne,Pe,Me,Ce),nn=new zNe(ne,W,Pe),$=new JNe(ne,W,Pe),Pe.programs=Lt.programs,_.capabilities=Me,_.extensions=W,_.properties=Oe,_.renderLists=Tt,_.shadowMap=vn,_.state=Ce,_.info=Pe}_t();const nt=new LFe(_,ne);function Dt(be){be.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function an(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const be=Pe.autoReset,et=vn.enabled,At=vn.autoUpdate,gt=vn.needsUpdate,it=vn.type;_t(),Pe.autoReset=be,vn.enabled=et,vn.autoUpdate=At,vn.needsUpdate=gt,vn.type=it}function Qt(be){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",be.statusMessage)}function Rn(be){const et=be.target;et.removeEventListener("dispose",Rn),function Ns(be){(function Zi(be){const et=Oe.get(be).programs;void 0!==et&&(et.forEach(function(At){Lt.releaseProgram(At)}),be.isShaderMaterial&&Lt.releaseShaderCache(be))})(be),Oe.remove(be)}(et)}function gi(be,et,At){!0===be.transparent&&2===be.side&&!1===be.forceSinglePass?(be.side=1,be.needsUpdate=!0,vc(be,et,At),be.side=0,be.needsUpdate=!0,vc(be,et,At),be.side=2):vc(be,et,At)}this.xr=nt,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const be=W.get("WEBGL_lose_context");be&&be.loseContext()},this.forceContextRestore=function(){const be=W.get("WEBGL_lose_context");be&&be.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(be){void 0!==be&&(G=be,this.setSize(O,P,!1))},this.getSize=function(be){return be.set(O,P)},this.setSize=function(be,et,At=!0){nt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=be,P=et,t.width=Math.floor(be*G),t.height=Math.floor(et*G),!0===At&&(t.style.width=be+"px",t.style.height=et+"px"),this.setViewport(0,0,be,et))},this.getDrawingBufferSize=function(be){return be.set(O*G,P*G).floor()},this.setDrawingBufferSize=function(be,et,At){O=be,P=et,G=At,t.width=Math.floor(be*At),t.height=Math.floor(et*At),this.setViewport(0,0,be,et)},this.getCurrentViewport=function(be){return be.copy(B)},this.getViewport=function(be){return be.copy(ve)},this.setViewport=function(be,et,At,gt){be.isVector4?ve.set(be.x,be.y,be.z,be.w):ve.set(be,et,At,gt),Ce.viewport(B.copy(ve).multiplyScalar(G).round())},this.getScissor=function(be){return be.copy(Q)},this.setScissor=function(be,et,At,gt){be.isVector4?Q.set(be.x,be.y,be.z,be.w):Q.set(be,et,At,gt),Ce.scissor(R.copy(Q).multiplyScalar(G).round())},this.getScissorTest=function(){return j},this.setScissorTest=function(be){Ce.setScissorTest(j=be)},this.setOpaqueSort=function(be){H=be},this.setTransparentSort=function(be){ae=be},this.getClearColor=function(be){return be.copy(pn.getClearColor())},this.setClearColor=function(){pn.setClearColor.apply(pn,arguments)},this.getClearAlpha=function(){return pn.getClearAlpha()},this.setClearAlpha=function(){pn.setClearAlpha.apply(pn,arguments)},this.clear=function(be=!0,et=!0,At=!0){let gt=0;if(be){let it=!1;if(null!==D){const on=D.texture.format;it=on===MU||on===DU||on===qT}if(it){const on=D.texture.type,wn=on===op||on===Yg||on===ox||on===s1||on===SU||on===xU,Vn=pn.getClearColor(),Gn=pn.getClearAlpha(),pr=Vn.r,Mr=Vn.g,rr=Vn.b;wn?(A[0]=pr,A[1]=Mr,A[2]=rr,A[3]=Gn,ne.clearBufferuiv(ne.COLOR,0,A)):(p[0]=pr,p[1]=Mr,p[2]=rr,p[3]=Gn,ne.clearBufferiv(ne.COLOR,0,p))}else gt|=ne.COLOR_BUFFER_BIT}et&&(gt|=ne.DEPTH_BUFFER_BIT),At&&(gt|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(gt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Dt,!1),t.removeEventListener("webglcontextrestored",an,!1),t.removeEventListener("webglcontextcreationerror",Qt,!1),pn.dispose(),Tt.dispose(),_n.dispose(),Oe.dispose(),J.dispose(),Ue.dispose(),Xe.dispose(),Ke.dispose(),Ne.dispose(),Lt.dispose(),nt.dispose(),nt.removeEventListener("sessionstart",Iu),nt.removeEventListener("sessionend",gh),Yo.stop()},this.renderBufferDirect=function(be,et,At,gt,it,on){null===et&&(et=Se);const wn=it.isMesh&&it.matrixWorld.determinant()<0,Vn=function lf(be,et,At,gt,it){!0!==et.isScene&&(et=Se),re.resetTextureUnits();const on=et.fog,Vn=null===D?_.outputColorSpace:!0===D.isXRRenderTarget?D.texture.colorSpace:u1,Gn=(gt.isMeshStandardMaterial?Ue:J).get(gt.envMap||(gt.isMeshStandardMaterial?et.environment:null)),pr=!0===gt.vertexColors&&!!At.attributes.color&&4===At.attributes.color.itemSize,Mr=!!At.attributes.tangent&&(!!gt.normalMap||gt.anisotropy>0),rr=!!At.morphAttributes.position,_i=!!At.morphAttributes.normal,Fi=!!At.morphAttributes.color;let so=Kg;gt.toneMapped&&(null===D||!0===D.isXRRenderTarget)&&(so=_.toneMapping);const Wr=At.morphAttributes.position||At.morphAttributes.normal||At.morphAttributes.color,Mi=void 0!==Wr?Wr.length:0,ir=Oe.get(gt),Jo=g.state.lights;!0!==oe||!0!==se&&be===T||st.setState(gt,be,be===T&&gt.id===x);let Ri=!1;gt.version===ir.__version?(ir.needsLights&&ir.lightsStateVersion!==Jo.state.version||ir.outputColorSpace!==Vn||it.isBatchedMesh&&!1===ir.batching||!it.isBatchedMesh&&!0===ir.batching||it.isBatchedMesh&&!0===ir.batchingColor&&null===it.colorTexture||it.isBatchedMesh&&!1===ir.batchingColor&&null!==it.colorTexture||it.isInstancedMesh&&!1===ir.instancing||!it.isInstancedMesh&&!0===ir.instancing||it.isSkinnedMesh&&!1===ir.skinning||!it.isSkinnedMesh&&!0===ir.skinning||it.isInstancedMesh&&!0===ir.instancingColor&&null===it.instanceColor||it.isInstancedMesh&&!1===ir.instancingColor&&null!==it.instanceColor||it.isInstancedMesh&&!0===ir.instancingMorph&&null===it.morphTexture||it.isInstancedMesh&&!1===ir.instancingMorph&&null!==it.morphTexture||ir.envMap!==Gn||!0===gt.fog&&ir.fog!==on||void 0!==ir.numClippingPlanes&&(ir.numClippingPlanes!==st.numPlanes||ir.numIntersection!==st.numIntersection)||ir.vertexAlphas!==pr||ir.vertexTangents!==Mr||ir.morphTargets!==rr||ir.morphNormals!==_i||ir.morphColors!==Fi||ir.toneMapping!==so||ir.morphTargetsCount!==Mi)&&(Ri=!0):(Ri=!0,ir.__version=gt.version);let Zc=ir.currentProgram;!0===Ri&&(Zc=vc(gt,et,it));let vl=!1,Ia=!1,Fa=!1;const Is=Zc.getUniforms(),zl=ir.uniforms;if(Ce.useProgram(Zc.program)&&(vl=!0,Ia=!0,Fa=!0),gt.id!==x&&(x=gt.id,Ia=!0),vl||T!==be){Ce.buffers.depth.getReversed()?(le.copy(be.projectionMatrix),function iDe(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}(le),function sDe(n){const e=n.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}(le),Is.setValue(ne,"projectionMatrix",le)):Is.setValue(ne,"projectionMatrix",be.projectionMatrix),Is.setValue(ne,"viewMatrix",be.matrixWorldInverse);const yl=Is.map.cameraPosition;void 0!==yl&&yl.setValue(ne,ee.setFromMatrixPosition(be.matrixWorld)),Me.logarithmicDepthBuffer&&Is.setValue(ne,"logDepthBufFC",2/(Math.log(be.far+1)/Math.LN2)),(gt.isMeshPhongMaterial||gt.isMeshToonMaterial||gt.isMeshLambertMaterial||gt.isMeshBasicMaterial||gt.isMeshStandardMaterial||gt.isShaderMaterial)&&Is.setValue(ne,"isOrthographic",!0===be.isOrthographicCamera),T!==be&&(T=be,Ia=!0,Fa=!0)}if(it.isSkinnedMesh){Is.setOptional(ne,it,"bindMatrix"),Is.setOptional(ne,it,"bindMatrixInverse");const Ra=it.skeleton;Ra&&(null===Ra.boneTexture&&Ra.computeBoneTexture(),Is.setValue(ne,"boneTexture",Ra.boneTexture,re))}it.isBatchedMesh&&(Is.setOptional(ne,it,"batchingTexture"),Is.setValue(ne,"batchingTexture",it._matricesTexture,re),Is.setOptional(ne,it,"batchingIdTexture"),Is.setValue(ne,"batchingIdTexture",it._indirectTexture,re),Is.setOptional(ne,it,"batchingColorTexture"),null!==it._colorsTexture&&Is.setValue(ne,"batchingColorTexture",it._colorsTexture,re));const yc=At.morphAttributes;if((void 0!==yc.position||void 0!==yc.normal||void 0!==yc.color)&&bn.update(it,At,Zc),(Ia||ir.receiveShadow!==it.receiveShadow)&&(ir.receiveShadow=it.receiveShadow,Is.setValue(ne,"receiveShadow",it.receiveShadow)),gt.isMeshGouraudMaterial&&null!==gt.envMap&&(zl.envMap.value=Gn,zl.flipEnvMap.value=Gn.isCubeTexture&&!1===Gn.isRenderTargetTexture?-1:1),gt.isMeshStandardMaterial&&null===gt.envMap&&null!==et.environment&&(zl.envMapIntensity.value=et.environmentIntensity),Ia&&(Is.setValue(ne,"toneMappingExposure",_.toneMappingExposure),ir.needsLights&&function Ou(be,et){be.ambientLightColor.needsUpdate=et,be.lightProbe.needsUpdate=et,be.directionalLights.needsUpdate=et,be.directionalLightShadows.needsUpdate=et,be.pointLights.needsUpdate=et,be.pointLightShadows.needsUpdate=et,be.spotLights.needsUpdate=et,be.spotLightShadows.needsUpdate=et,be.rectAreaLights.needsUpdate=et,be.hemisphereLights.needsUpdate=et}(zl,Fa),on&&!0===gt.fog&&Ft.refreshFogUniforms(zl,on),Ft.refreshMaterialUniforms(zl,gt,G,P,g.state.transmissionRenderTarget[be.id]),hN.upload(ne,Fu(ir),zl,re)),gt.isShaderMaterial&&!0===gt.uniformsNeedUpdate&&(hN.upload(ne,Fu(ir),zl,re),gt.uniformsNeedUpdate=!1),gt.isSpriteMaterial&&Is.setValue(ne,"center",it.center),Is.setValue(ne,"modelViewMatrix",it.modelViewMatrix),Is.setValue(ne,"normalMatrix",it.normalMatrix),Is.setValue(ne,"modelMatrix",it.matrixWorld),gt.isShaderMaterial||gt.isRawShaderMaterial){const Ra=gt.uniformsGroups;for(let yl=0,Pm=Ra.length;yl<Pm;yl++){const vd=Ra[yl];Ne.update(vd,Zc),Ne.bind(vd,Zc)}}return Zc}(be,et,At,gt,it);Ce.setMaterial(gt,wn);let Gn=At.index,pr=1;if(!0===gt.wireframe){if(Gn=rt.getWireframeAttribute(At),void 0===Gn)return;pr=2}const Mr=At.drawRange,rr=At.attributes.position;let _i=Mr.start*pr,Fi=(Mr.start+Mr.count)*pr;null!==on&&(_i=Math.max(_i,on.start*pr),Fi=Math.min(Fi,(on.start+on.count)*pr)),null!==Gn?(_i=Math.max(_i,0),Fi=Math.min(Fi,Gn.count)):null!=rr&&(_i=Math.max(_i,0),Fi=Math.min(Fi,rr.count));const so=Fi-_i;if(so<0||so===1/0)return;Ke.setup(it,gt,Vn,At,Gn);let Wr,Mi=nn;if(null!==Gn&&(Wr=Qe.get(Gn),Mi=$,Mi.setIndex(Wr)),it.isMesh)!0===gt.wireframe?(Ce.setLineWidth(gt.wireframeLinewidth*xe()),Mi.setMode(ne.LINES)):Mi.setMode(ne.TRIANGLES);else if(it.isLine){let ir=gt.linewidth;void 0===ir&&(ir=1),Ce.setLineWidth(ir*xe()),Mi.setMode(it.isLineSegments?ne.LINES:it.isLineLoop?ne.LINE_LOOP:ne.LINE_STRIP)}else it.isPoints?Mi.setMode(ne.POINTS):it.isSprite&&Mi.setMode(ne.TRIANGLES);if(it.isBatchedMesh)if(null!==it._multiDrawInstances)Mi.renderMultiDrawInstances(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount,it._multiDrawInstances);else if(W.get("WEBGL_multi_draw"))Mi.renderMultiDraw(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount);else{const ir=it._multiDrawStarts,Jo=it._multiDrawCounts,Ri=it._multiDrawCount,Zc=Gn?Qe.get(Gn).bytesPerElement:1,vl=Oe.get(gt).currentProgram.getUniforms();for(let Ia=0;Ia<Ri;Ia++)vl.setValue(ne,"_gl_DrawID",Ia),Mi.render(ir[Ia]/Zc,Jo[Ia])}else if(it.isInstancedMesh)Mi.renderInstances(_i,so,it.count);else if(At.isInstancedBufferGeometry){const Jo=Math.min(At.instanceCount,void 0!==At._maxInstanceCount?At._maxInstanceCount:1/0);Mi.renderInstances(_i,so,Jo)}else Mi.render(_i,so)},this.compile=function(be,et,At=null){null===At&&(At=be),g=_n.get(At),g.init(et),v.push(g),At.traverseVisible(function(it){it.isLight&&it.layers.test(et.layers)&&(g.pushLight(it),it.castShadow&&g.pushShadow(it))}),be!==At&&be.traverseVisible(function(it){it.isLight&&it.layers.test(et.layers)&&(g.pushLight(it),it.castShadow&&g.pushShadow(it))}),g.setupLights();const gt=new Set;return be.traverse(function(it){if(!(it.isMesh||it.isPoints||it.isLine||it.isSprite))return;const on=it.material;if(on)if(Array.isArray(on))for(let wn=0;wn<on.length;wn++){const Vn=on[wn];gi(Vn,At,it),gt.add(Vn)}else gi(on,At,it),gt.add(on)}),v.pop(),g=null,gt},this.compileAsync=function(be,et,At=null){const gt=this.compile(be,et,At);return new Promise(it=>{function on(){gt.forEach(function(wn){Oe.get(wn).currentProgram.isReady()&&gt.delete(wn)}),0!==gt.size?setTimeout(on,10):it(be)}null!==W.get("KHR_parallel_shader_compile")?on():setTimeout(on,10)})};let Xo=null;function Iu(){Yo.stop()}function gh(){Yo.start()}const Yo=new _J;function Uo(be,et,At,gt){if(!1===be.visible)return;if(be.layers.test(et.layers))if(be.isGroup)At=be.renderOrder;else if(be.isLOD)!0===be.autoUpdate&&be.update(et);else if(be.isLight)g.pushLight(be),be.castShadow&&g.pushShadow(be);else if(be.isSprite){if(!be.frustumCulled||K.intersectsSprite(be)){gt&&Ae.setFromMatrixPosition(be.matrixWorld).applyMatrix4(te);const wn=Xe.update(be),Vn=be.material;Vn.visible&&m.push(be,wn,Vn,At,Ae.z,null)}}else if((be.isMesh||be.isLine||be.isPoints)&&(!be.frustumCulled||K.intersectsObject(be))){const wn=Xe.update(be),Vn=be.material;if(gt&&(void 0!==be.boundingSphere?(null===be.boundingSphere&&be.computeBoundingSphere(),Ae.copy(be.boundingSphere.center)):(null===wn.boundingSphere&&wn.computeBoundingSphere(),Ae.copy(wn.boundingSphere.center)),Ae.applyMatrix4(be.matrixWorld).applyMatrix4(te)),Array.isArray(Vn)){const Gn=wn.groups;for(let pr=0,Mr=Gn.length;pr<Mr;pr++){const rr=Gn[pr],_i=Vn[rr.materialIndex];_i&&_i.visible&&m.push(be,wn,_i,At,Ae.z,rr)}}else Vn.visible&&m.push(be,wn,Vn,At,Ae.z,null)}const on=be.children;for(let wn=0,Vn=on.length;wn<Vn;wn++)Uo(on[wn],et,At,gt)}function ko(be,et,At,gt){const it=be.opaque,on=be.transmissive,wn=be.transparent;g.setupLightsView(At),!0===oe&&st.setGlobalState(_.clippingPlanes,At),gt&&Ce.viewport(B.copy(gt)),it.length>0&&md(it,et,At),on.length>0&&md(on,et,At),wn.length>0&&md(wn,et,At),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1)}function mc(be,et,At,gt){if(null!==(!0===At.isScene?At.overrideMaterial:null))return;void 0===g.state.transmissionRenderTarget[gt.id]&&(g.state.transmissionRenderTarget[gt.id]=new Jd(1,1,{generateMipmaps:!0,type:W.has("EXT_color_buffer_half_float")||W.has("EXT_color_buffer_float")?ax:op,minFilter:sp,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:os.workingColorSpace}));const on=g.state.transmissionRenderTarget[gt.id],wn=gt.viewport||B;on.setSize(wn.z,wn.w);const Vn=_.getRenderTarget();_.setRenderTarget(on),_.getClearColor(k),q=_.getClearAlpha(),q<1&&_.setClearColor(16777215,.5),_.clear(),ge&&pn.render(At);const Gn=_.toneMapping;_.toneMapping=Kg;const pr=gt.viewport;if(void 0!==gt.viewport&&(gt.viewport=void 0),g.setupLightsView(gt),!0===oe&&st.setGlobalState(_.clippingPlanes,gt),md(be,At,gt),re.updateMultisampleRenderTarget(on),re.updateRenderTargetMipmap(on),!1===W.has("WEBGL_multisampled_render_to_texture")){let Mr=!1;for(let rr=0,_i=et.length;rr<_i;rr++){const Fi=et[rr],so=Fi.object,Wr=Fi.geometry,Mi=Fi.material,ir=Fi.group;if(2===Mi.side&&so.layers.test(gt.layers)){const Jo=Mi.side;Mi.side=1,Mi.needsUpdate=!0,af(so,At,gt,Wr,Mi,ir),Mi.side=Jo,Mi.needsUpdate=!0,Mr=!0}}!0===Mr&&(re.updateMultisampleRenderTarget(on),re.updateRenderTargetMipmap(on))}_.setRenderTarget(Vn),_.setClearColor(k,q),void 0!==pr&&(gt.viewport=pr),_.toneMapping=Gn}function md(be,et,At){const gt=!0===et.isScene?et.overrideMaterial:null;for(let it=0,on=be.length;it<on;it++){const wn=be[it],Vn=wn.object,Gn=wn.geometry,pr=null===gt?wn.material:gt,Mr=wn.group;Vn.layers.test(At.layers)&&af(Vn,et,At,Gn,pr,Mr)}}function af(be,et,At,gt,it,on){be.onBeforeRender(_,et,At,gt,it,on),be.modelViewMatrix.multiplyMatrices(At.matrixWorldInverse,be.matrixWorld),be.normalMatrix.getNormalMatrix(be.modelViewMatrix),it.onBeforeRender(_,et,At,gt,be,on),!0===it.transparent&&2===it.side&&!1===it.forceSinglePass?(it.side=1,it.needsUpdate=!0,_.renderBufferDirect(At,et,gt,it,be,on),it.side=0,it.needsUpdate=!0,_.renderBufferDirect(At,et,gt,it,be,on),it.side=2):_.renderBufferDirect(At,et,gt,it,be,on),be.onAfterRender(_,et,At,gt,it,on)}function vc(be,et,At){!0!==et.isScene&&(et=Se);const gt=Oe.get(be),it=g.state.lights,wn=it.state.version,Vn=Lt.getParameters(be,it.state,g.state.shadowsArray,et,At),Gn=Lt.getProgramCacheKey(Vn);let pr=gt.programs;gt.environment=be.isMeshStandardMaterial?et.environment:null,gt.fog=et.fog,gt.envMap=(be.isMeshStandardMaterial?Ue:J).get(be.envMap||gt.environment),gt.envMapRotation=null!==gt.environment&&null===be.envMap?et.environmentRotation:be.envMapRotation,void 0===pr&&(be.addEventListener("dispose",Rn),pr=new Map,gt.programs=pr);let Mr=pr.get(Gn);if(void 0!==Mr){if(gt.currentProgram===Mr&&gt.lightsStateVersion===wn)return Ru(be,Vn),Mr}else Vn.uniforms=Lt.getUniforms(be),be.onBeforeCompile(Vn,_),Mr=Lt.acquireProgram(Vn,Gn),pr.set(Gn,Mr),gt.uniforms=Vn.uniforms;const rr=gt.uniforms;return(!be.isShaderMaterial&&!be.isRawShaderMaterial||!0===be.clipping)&&(rr.clippingPlanes=st.uniform),Ru(be,Vn),gt.needsLights=function cf(be){return be.isMeshLambertMaterial||be.isMeshToonMaterial||be.isMeshPhongMaterial||be.isMeshStandardMaterial||be.isShadowMaterial||be.isShaderMaterial&&!0===be.lights}(be),gt.lightsStateVersion=wn,gt.needsLights&&(rr.ambientLightColor.value=it.state.ambient,rr.lightProbe.value=it.state.probe,rr.directionalLights.value=it.state.directional,rr.directionalLightShadows.value=it.state.directionalShadow,rr.spotLights.value=it.state.spot,rr.spotLightShadows.value=it.state.spotShadow,rr.rectAreaLights.value=it.state.rectArea,rr.ltc_1.value=it.state.rectAreaLTC1,rr.ltc_2.value=it.state.rectAreaLTC2,rr.pointLights.value=it.state.point,rr.pointLightShadows.value=it.state.pointShadow,rr.hemisphereLights.value=it.state.hemi,rr.directionalShadowMap.value=it.state.directionalShadowMap,rr.directionalShadowMatrix.value=it.state.directionalShadowMatrix,rr.spotShadowMap.value=it.state.spotShadowMap,rr.spotLightMatrix.value=it.state.spotLightMatrix,rr.spotLightMap.value=it.state.spotLightMap,rr.pointShadowMap.value=it.state.pointShadowMap,rr.pointShadowMatrix.value=it.state.pointShadowMatrix),gt.currentProgram=Mr,gt.uniformsList=null,Mr}function Fu(be){if(null===be.uniformsList){const et=be.currentProgram.getUniforms();be.uniformsList=hN.seqWithValue(et.seq,be.uniforms)}return be.uniformsList}function Ru(be,et){const At=Oe.get(be);At.outputColorSpace=et.outputColorSpace,At.batching=et.batching,At.batchingColor=et.batchingColor,At.instancing=et.instancing,At.instancingColor=et.instancingColor,At.instancingMorph=et.instancingMorph,At.skinning=et.skinning,At.morphTargets=et.morphTargets,At.morphNormals=et.morphNormals,At.morphColors=et.morphColors,At.morphTargetsCount=et.morphTargetsCount,At.numClippingPlanes=et.numClippingPlanes,At.numIntersection=et.numClipIntersection,At.vertexAlphas=et.vertexAlphas,At.vertexTangents=et.vertexTangents,At.toneMapping=et.toneMapping}Yo.setAnimationLoop(function Zn(be){Xo&&Xo(be)}),typeof self<"u"&&Yo.setContext(self),this.setAnimationLoop=function(be){Xo=be,nt.setAnimationLoop(be),null===be?Yo.stop():Yo.start()},nt.addEventListener("sessionstart",Iu),nt.addEventListener("sessionend",gh),this.render=function(be,et){if(void 0!==et&&!0!==et.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===C)return;if(!0===be.matrixWorldAutoUpdate&&be.updateMatrixWorld(),null===et.parent&&!0===et.matrixWorldAutoUpdate&&et.updateMatrixWorld(),!0===nt.enabled&&!0===nt.isPresenting&&(!0===nt.cameraAutoUpdate&&nt.updateCamera(et),et=nt.getCamera()),!0===be.isScene&&be.onBeforeRender(_,be,et,D),g=_n.get(be,v.length),g.init(et),v.push(g),te.multiplyMatrices(et.projectionMatrix,et.matrixWorldInverse),K.setFromProjectionMatrix(te),se=this.localClippingEnabled,oe=st.init(this.clippingPlanes,se),m=Tt.get(be,y.length),m.init(),y.push(m),!0===nt.enabled&&!0===nt.isPresenting){const on=_.xr.getDepthSensingMesh();null!==on&&Uo(on,et,-1/0,_.sortObjects)}Uo(be,et,0,_.sortObjects),m.finish(),!0===_.sortObjects&&m.sort(H,ae),ge=!1===nt.enabled||!1===nt.isPresenting||!1===nt.hasDepthSensing(),ge&&pn.addToRenderList(m,be),this.info.render.frame++,!0===oe&&st.beginShadows(),vn.render(g.state.shadowsArray,be,et),!0===oe&&st.endShadows(),!0===this.info.autoReset&&this.info.reset();const gt=m.opaque,it=m.transmissive;if(g.setupLights(),et.isArrayCamera){const on=et.cameras;if(it.length>0)for(let wn=0,Vn=on.length;wn<Vn;wn++)mc(gt,it,be,on[wn]);ge&&pn.render(be);for(let wn=0,Vn=on.length;wn<Vn;wn++){const Gn=on[wn];ko(m,be,Gn,Gn.viewport)}}else it.length>0&&mc(gt,it,be,et),ge&&pn.render(be),ko(m,be,et);null!==D&&(re.updateMultisampleRenderTarget(D),re.updateRenderTargetMipmap(D)),!0===be.isScene&&be.onAfterRender(_,be,et),Ke.resetDefaultState(),x=-1,T=null,v.pop(),v.length>0?(g=v[v.length-1],!0===oe&&st.setGlobalState(_.clippingPlanes,g.state.camera)):g=null,y.pop(),m=y.length>0?y[y.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(be,et,At){Oe.get(be.texture).__webglTexture=et,Oe.get(be.depthTexture).__webglTexture=At;const gt=Oe.get(be);gt.__hasExternalTextures=!0,gt.__autoAllocateDepthBuffer=void 0===At,gt.__autoAllocateDepthBuffer||!0===W.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),gt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(be,et){const At=Oe.get(be);At.__webglFramebuffer=et,At.__useDefaultFramebuffer=void 0===et},this.setRenderTarget=function(be,et=0,At=0){D=be,b=et,M=At;let gt=!0,it=null,on=!1,wn=!1;if(be){const Gn=Oe.get(be);if(void 0!==Gn.__useDefaultFramebuffer)Ce.bindFramebuffer(ne.FRAMEBUFFER,null),gt=!1;else if(void 0===Gn.__webglFramebuffer)re.setupRenderTarget(be);else if(Gn.__hasExternalTextures)re.rebindTextures(be,Oe.get(be.texture).__webglTexture,Oe.get(be.depthTexture).__webglTexture);else if(be.depthBuffer){const rr=be.depthTexture;if(Gn.__boundDepthTexture!==rr){if(null!==rr&&Oe.has(rr)&&(be.width!==rr.image.width||be.height!==rr.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");re.setupDepthRenderbuffer(be)}}const pr=be.texture;(pr.isData3DTexture||pr.isDataArrayTexture||pr.isCompressedArrayTexture)&&(wn=!0);const Mr=Oe.get(be).__webglFramebuffer;be.isWebGLCubeRenderTarget?(it=Array.isArray(Mr[et])?Mr[et][At]:Mr[et],on=!0):it=be.samples>0&&!1===re.useMultisampledRTT(be)?Oe.get(be).__webglMultisampledFramebuffer:Array.isArray(Mr)?Mr[At]:Mr,B.copy(be.viewport),R.copy(be.scissor),U=be.scissorTest}else B.copy(ve).multiplyScalar(G).floor(),R.copy(Q).multiplyScalar(G).floor(),U=j;if(Ce.bindFramebuffer(ne.FRAMEBUFFER,it)&&gt&&Ce.drawBuffers(be,it),Ce.viewport(B),Ce.scissor(R),Ce.setScissorTest(U),on){const Gn=Oe.get(be.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+et,Gn.__webglTexture,At)}else if(wn){const Gn=Oe.get(be.texture);ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Gn.__webglTexture,At||0,et||0)}x=-1},this.readRenderTargetPixels=function(be,et,At,gt,it,on,wn){if(!be||!be.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Vn=Oe.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&void 0!==wn&&(Vn=Vn[wn]),Vn){Ce.bindFramebuffer(ne.FRAMEBUFFER,Vn);try{const Gn=be.texture,pr=Gn.format,Mr=Gn.type;if(!Me.textureFormatReadable(pr))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Me.textureTypeReadable(Mr))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");et>=0&&et<=be.width-gt&&At>=0&&At<=be.height-it&&ne.readPixels(et,At,gt,it,Fe.convert(pr),Fe.convert(Mr),on)}finally{const Gn=null!==D?Oe.get(D).__webglFramebuffer:null;Ce.bindFramebuffer(ne.FRAMEBUFFER,Gn)}}},this.readRenderTargetPixelsAsync=function(){var be=(0,yt.A)(function*(et,At,gt,it,on,wn,Vn){if(!et||!et.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Gn=Oe.get(et).__webglFramebuffer;if(et.isWebGLCubeRenderTarget&&void 0!==Vn&&(Gn=Gn[Vn]),Gn){const pr=et.texture,Mr=pr.format,rr=pr.type;if(!Me.textureFormatReadable(Mr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Me.textureTypeReadable(rr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(At>=0&&At<=et.width-it&&gt>=0&&gt<=et.height-on){Ce.bindFramebuffer(ne.FRAMEBUFFER,Gn);const _i=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,_i),ne.bufferData(ne.PIXEL_PACK_BUFFER,wn.byteLength,ne.STREAM_READ),ne.readPixels(At,gt,it,on,Fe.convert(Mr),Fe.convert(rr),0);const Fi=null!==D?Oe.get(D).__webglFramebuffer:null;Ce.bindFramebuffer(ne.FRAMEBUFFER,Fi);const so=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),yield function rDe(n,e,t){return new Promise(function(r,i){setTimeout(function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}},t)})}(ne,so,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,_i),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,wn),ne.deleteBuffer(_i),ne.deleteSync(so),wn}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}});return function(et,At,gt,it,on,wn,Vn){return be.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(be,et=null,At=0){!0!==be.isTexture&&(A1("WebGLRenderer: copyFramebufferToTexture function signature has changed."),et=arguments[0]||null,be=arguments[1]);const gt=Math.pow(2,-At),it=Math.floor(be.image.width*gt),on=Math.floor(be.image.height*gt),wn=null!==et?et.x:0,Vn=null!==et?et.y:0;re.setTexture2D(be,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,At,0,0,wn,Vn,it,on),Ce.unbindTexture()};const Lp=ne.createFramebuffer(),Om=ne.createFramebuffer();this.copyTextureToTexture=function(be,et,At=null,gt=null,it=0,on=null){let wn,Vn,Gn,pr,Mr,rr,_i,Fi,so;!0!==be.isTexture&&(A1("WebGLRenderer: copyTextureToTexture function signature has changed."),gt=arguments[0]||null,be=arguments[1],et=arguments[2],on=arguments[3]||0,At=null),null===on&&(0!==it?(A1("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),on=it,it=0):on=0);const Wr=be.isCompressedTexture?be.mipmaps[on]:be.image;if(null!==At)wn=At.max.x-At.min.x,Vn=At.max.y-At.min.y,Gn=At.isBox3?At.max.z-At.min.z:1,pr=At.min.x,Mr=At.min.y,rr=At.isBox3?At.min.z:0;else{const yc=Math.pow(2,-it);wn=Math.floor(Wr.width*yc),Vn=Math.floor(Wr.height*yc),Gn=be.isDataArrayTexture?Wr.depth:be.isData3DTexture?Math.floor(Wr.depth*yc):1,pr=0,Mr=0,rr=0}null!==gt?(_i=gt.x,Fi=gt.y,so=gt.z):(_i=0,Fi=0,so=0);const Mi=Fe.convert(et.format),ir=Fe.convert(et.type);let Jo;et.isData3DTexture?(re.setTexture3D(et,0),Jo=ne.TEXTURE_3D):et.isDataArrayTexture||et.isCompressedArrayTexture?(re.setTexture2DArray(et,0),Jo=ne.TEXTURE_2D_ARRAY):(re.setTexture2D(et,0),Jo=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,et.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,et.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,et.unpackAlignment);const Ri=ne.getParameter(ne.UNPACK_ROW_LENGTH),Zc=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),vl=ne.getParameter(ne.UNPACK_SKIP_PIXELS),Ia=ne.getParameter(ne.UNPACK_SKIP_ROWS),Fa=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Wr.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Wr.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,pr),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Mr),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,rr);const Is=be.isDataArrayTexture||be.isData3DTexture,zl=et.isDataArrayTexture||et.isData3DTexture;if(be.isDepthTexture){const yc=Oe.get(be),Ra=Oe.get(et),yl=Oe.get(yc.__renderTarget),Pm=Oe.get(Ra.__renderTarget);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,yl.__webglFramebuffer),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Pm.__webglFramebuffer);for(let vd=0;vd<Gn;vd++)Is&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Oe.get(be).__webglTexture,it,rr+vd),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Oe.get(et).__webglTexture,on,so+vd)),ne.blitFramebuffer(pr,Mr,wn,Vn,_i,Fi,wn,Vn,ne.DEPTH_BUFFER_BIT,ne.NEAREST);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(0!==it||be.isRenderTargetTexture||Oe.has(be)){const yc=Oe.get(be),Ra=Oe.get(et);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,Lp),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Om);for(let yl=0;yl<Gn;yl++)Is?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,yc.__webglTexture,it,rr+yl):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,yc.__webglTexture,it),zl?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Ra.__webglTexture,on,so+yl):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Ra.__webglTexture,on),0!==it?ne.blitFramebuffer(pr,Mr,wn,Vn,_i,Fi,wn,Vn,ne.COLOR_BUFFER_BIT,ne.NEAREST):zl?ne.copyTexSubImage3D(Jo,on,_i,Fi,so+yl,pr,Mr,wn,Vn):ne.copyTexSubImage2D(Jo,on,_i,Fi,pr,Mr,wn,Vn);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else zl?be.isDataTexture||be.isData3DTexture?ne.texSubImage3D(Jo,on,_i,Fi,so,wn,Vn,Gn,Mi,ir,Wr.data):et.isCompressedArrayTexture?ne.compressedTexSubImage3D(Jo,on,_i,Fi,so,wn,Vn,Gn,Mi,Wr.data):ne.texSubImage3D(Jo,on,_i,Fi,so,wn,Vn,Gn,Mi,ir,Wr):be.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,on,_i,Fi,wn,Vn,Mi,ir,Wr.data):be.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,on,_i,Fi,Wr.width,Wr.height,Mi,Wr.data):ne.texSubImage2D(ne.TEXTURE_2D,on,_i,Fi,wn,Vn,Mi,ir,Wr);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Ri),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Zc),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,vl),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Ia),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Fa),0===on&&et.generateMipmaps&&ne.generateMipmap(Jo),Ce.unbindTexture()},this.copyTextureToTexture3D=function(be,et,At=null,gt=null,it=0){return!0!==be.isTexture&&(A1("WebGLRenderer: copyTextureToTexture3D function signature has changed."),At=arguments[0]||null,gt=arguments[1]||null,be=arguments[2],et=arguments[3],it=arguments[4]||0),A1('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(be,et,At,gt,it)},this.initRenderTarget=function(be){void 0===Oe.get(be).__webglFramebuffer&&re.setupRenderTarget(be)},this.initTexture=function(be){be.isCubeTexture?re.setTextureCube(be,0):be.isData3DTexture?re.setTexture3D(be,0):be.isDataArrayTexture||be.isCompressedArrayTexture?re.setTexture2DArray(be,0):re.setTexture2D(be,0),Ce.unbindTexture()},this.resetState=function(){b=0,M=0,D=null,Ce.reset(),Ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ap}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=os._getDrawingBufferColorSpace(e),t.unpackColorSpace=os._getUnpackColorSpace()}}var dN=we(724);let Nk=(()=>{class n{constructor(t){this.router=t}reloadPage(){window.location.reload()}reloadCurrentRoute(){var t=this;return(0,yt.A)(function*(){const r=t.router.url;return yield t.router.navigateByUrl("/",{skipLocationChange:!0}),t.router.navigateByUrl(r)})()}reloadWithQueryParamsRefresh(){const t=window.location.href;window.location.href=t}static{this.\u0275fac=function(r){return new(r||n)(Ut(Lc))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const QFe=["rendererContainer"];let zFe=(()=>{class n{constructor(t){this.pageRestartService=t,this.disks=[],this.towers=[],this.numDisks=3,this.moves=[],this.currentMove=0,this.isAnimating=!1}restart(){this.pageRestartService.reloadPage()}ngOnInit(){}ngAfterViewInit(){this.initScene(),this.createTowers(),this.createDisks(),this.solveHanoi(this.numDisks,0,2,1),this.animate()}initScene(){this.scene=new YX,this.camera=new Rl(75,this.rendererContainer.nativeElement.offsetWidth/this.rendererContainer.nativeElement.offsetHeight,.1,1e3),this.renderer=new VFe({antialias:!0}),this.renderer.setSize(this.rendererContainer.nativeElement.offsetWidth,this.rendererContainer.nativeElement.offsetHeight),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement),this.controls=new DTe(this.camera,this.renderer.domElement),this.camera.position.set(10,10,10),this.controls.update();const t=new WY(4210752);this.scene.add(t);const r=new qY(16777215,.5);r.position.set(1,1,1).normalize(),this.scene.add(r)}createTowers(){const t=new m0(.5,.5,5,32),r=new gp({color:8421504});for(let i=0;i<3;i++){const s=new la(t,r);s.position.set(4*i-4,2.5,0),this.towers.push(s),this.scene.add(s)}}createDisks(){for(let t=0;t<this.numDisks;t++){const r=new m0(1-.1*t,1-.1*t,.5,32),i=new gp({color:(new Hn).setHSL(t/this.numDisks,1,.5)}),s=new la(r,i);s.position.set(-4,.5*t+.25,0),this.disks.push(s),this.scene.add(s)}}solveHanoi(t,r,i,s){t>0&&(this.solveHanoi(t-1,r,s,i),this.moves.push({from:r,to:i}),this.solveHanoi(t-1,s,i,r))}animateMove(){if(this.currentMove<this.moves.length&&!this.isAnimating){this.isAnimating=!0;const t=this.moves[this.currentMove],r=this.disks.filter(i=>Math.abs(i.position.x-this.towers[t.from].position.x)<.1).sort((i,s)=>s.position.y-i.position.y);if(r.length>0){const i=r[0],s=this.towers[t.to].position.y+.25+.5*this.disks.filter(o=>Math.abs(o.position.x-this.towers[t.to].position.x)<.1).length;new dN.Tween(i.position).to({y:i.position.y+3},500).onComplete(()=>{new dN.Tween(i.position).to({x:this.towers[t.to].position.x},500).onComplete(()=>{new dN.Tween(i.position).to({y:s},500).onComplete(()=>{this.currentMove++,this.isAnimating=!1}).start()}).start()}).start()}else this.currentMove++,this.isAnimating=!1}}animate(){requestAnimationFrame(this.animate.bind(this)),dN.update(),this.controls.update(),this.currentMove<this.moves.length&&this.animateMove(),this.renderer.render(this.scene,this.camera)}static{this.\u0275fac=function(r){return new(r||n)(pt(Nk))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-hanoi3d"]],viewQuery:function(r,i){if(1&r&&Ki(QFe,5),2&r){let s;lr(s=cr())&&(i.rendererContainer=s.first)}},decls:13,vars:0,consts:[["rendererContainer",""],["align","center"],[2,"width","300px","height","300px"],[3,"click"],["align","right"],["routerLink","/StableReleases"]],template:function(r,i){if(1&r){const s=ws();fe(0,"div",1)(1,"h1"),Te(2,"[HANOI - 3D]"),he(),ft(3,"hr")(4,"div",2,0)(6,"hr"),fe(7,"button",3),qt("click",function(){return On(s),Un(i.restart())}),Te(8,"[RESTART]"),he(),ft(9,"hr"),fe(10,"div",4)(11,"a",5),Te(12,"[Volver al Menu]"),he()()()}},dependencies:[ds],styles:["#canvas-container[_ngcontent-%COMP%]{width:300px;height:300px}"]})}}return n})(),GFe=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}constructor(t,r){this.http=t,this.configService=r,this.HTTPOptions_Text={headers:new xo({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new xo({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",this.__baseUrlSpringBoot="",this.__baseUrlNetCore=this.configService.getConfigValue("baseUrlNetCore"),this.__baseUrlNodeJs=this.configService.getConfigValue("baseUrlNodeJs"),this.__baseUrlSpringBoot=this.configService.getConfigValue("baseUrlSpringBoot"),console.log("baseUrlNetCore     : "+this.__baseUrlNetCore),console.log("baseUrlNodeJs      : "+this.__baseUrlNodeJs),console.log("baseUrlSpringBoot  : "+this.__baseUrlSpringBoot)}_GetSudoku(){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_GetSudoku_NodeJS(){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_SolveSudoku(t){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const r=new FormData;r.append("file",t);let i=`${this.__baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+i);const s=new XA("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}static{this.\u0275fac=function(r){return new(r||n)(Ut(zv),Ut(qg))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jFe=we(7239),qFe=we.n(jFe),to=we(2284),Ls=Uint8Array,Gc=Uint16Array,Ix=Int32Array,j1=new Ls([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),q1=new Ls([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fx=new Ls([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XJ=function(n,e){for(var t=new Gc(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new Ix(t[30]);for(r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},YJ=XJ(j1,2),Ik=YJ.b,AN=YJ.r;Ik[28]=258,AN[258]=28;for(var JJ=XJ(q1,0),ZJ=JJ.b,Fk=JJ.r,Rx=new Gc(32768),bo=0;bo<32768;++bo){var cm=(43690&bo)>>1|(21845&bo)<<1;Rx[bo]=((65280&(cm=(61680&(cm=(52428&cm)>>2|(13107&cm)<<2))>>4|(3855&cm)<<4))>>8|(255&cm)<<8)>>1}var Gh=function(n,e,t){for(var r=n.length,i=0,s=new Gc(e);i<r;++i)n[i]&&++s[n[i]-1];var a,o=new Gc(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;if(t){a=new Gc(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],h=o[n[i]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)a[Rx[h]>>l]=c}else for(a=new Gc(r),i=0;i<r;++i)n[i]&&(a[i]=Rx[o[n[i]-1]++]>>15-n[i]);return a},wp=new Ls(288);for(bo=0;bo<144;++bo)wp[bo]=8;for(bo=144;bo<256;++bo)wp[bo]=9;for(bo=256;bo<280;++bo)wp[bo]=7;for(bo=280;bo<288;++bo)wp[bo]=8;var W1=new Ls(32);for(bo=0;bo<32;++bo)W1[bo]=5;var eZ=Gh(wp,9,0),tZ=Gh(wp,9,1),nZ=Gh(W1,5,0),rZ=Gh(W1,5,1),pN=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},jh=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(7&e)&t},gN=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(7&e)},Ox=function(n){return(n+7)/8|0},um=function(n,e,t){return(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length),new Ls(n.subarray(e,t))},iZ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Yi=function(n,e,t){var r=new Error(e||iZ[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Yi),!t)throw r;return r},rA=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8},$1=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8,n[r+2]|=t>>16},vN=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:Lk,l:0};if(1==i){var o=new Ls(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(C,b){return C.f-b.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=u&&t[c].f<t[h].f?c++:h++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};var d=s[0].s;for(r=1;r<i;++r)s[r].s>d&&(d=s[r].s);var f=new Gc(d+1),A=yN(t[u-1],f,0);if(A>e){r=0;var p=0,m=A-e,g=1<<m;for(s.sort(function(b,M){return f[M.s]-f[b.s]||b.f-M.f});r<i;++r){var y=s[r].s;if(!(f[y]>e))break;p+=g-(1<<A-f[y]),f[y]=e}for(p>>=m;p>0;){var v=s[r].s;f[v]<e?p-=1<<e-f[v]++-1:++r}for(;r>=0&&p;--r){var _=s[r].s;f[_]==e&&(--f[_],++p)}A=e}return{t:new Ls(f),l:A}},yN=function(n,e,t){return-1==n.s?Math.max(yN(n.l,e,t+1),yN(n.r,e,t+1)):e[n.s]=t},Rk=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Gc(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},K1=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Ok=function(n,e,t){var r=t.length,i=Ox(e+2);n[i]=255&r,n[i+1]=r>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var s=0;s<r;++s)n[i+s+4]=t[s];return 8*(i+4+r)},Pk=function(n,e,t,r,i,s,o,a,l,c,u){rA(e,u++,t),++i[256];for(var h=vN(i,15),d=h.t,f=h.l,A=vN(s,15),p=A.t,m=A.l,g=Rk(d),y=g.c,v=g.n,_=Rk(p),C=_.c,b=_.n,M=new Gc(19),D=0;D<y.length;++D)++M[31&y[D]];for(D=0;D<C.length;++D)++M[31&C[D]];for(var x=vN(M,7),T=x.t,B=x.l,R=19;R>4&&!T[Fx[R-1]];--R);var O,P,G,H,U=c+5<<3,k=K1(i,wp)+K1(s,W1)+o,q=K1(i,d)+K1(s,p)+o+14+3*R+K1(M,T)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&U<=k&&U<=q)return Ok(e,u,n.subarray(l,l+c));if(rA(e,u,1+(q<k)),u+=2,q<k){O=Gh(d,f,0),P=d,G=Gh(p,m,0),H=p;var ae=Gh(T,B,0);for(rA(e,u,v-257),rA(e,u+5,b-1),rA(e,u+10,R-4),u+=14,D=0;D<R;++D)rA(e,u+3*D,T[Fx[D]]);u+=3*R;for(var ve=[y,C],Q=0;Q<2;++Q){var j=ve[Q];for(D=0;D<j.length;++D)rA(e,u,ae[K=31&j[D]]),u+=T[K],K>15&&(rA(e,u,j[D]>>5&127),u+=j[D]>>12)}}else O=eZ,P=wp,G=nZ,H=W1;for(D=0;D<a;++D){var oe=r[D];if(oe>255){var K;$1(e,u,O[257+(K=oe>>18&31)]),u+=P[K+257],K>7&&(rA(e,u,oe>>23&31),u+=j1[K]);var se=31&oe;$1(e,u,G[se]),u+=H[se],se>3&&($1(e,u,oe>>5&8191),u+=q1[se])}else $1(e,u,O[oe]),u+=P[oe]}return $1(e,u,O[256]),u+P[256]},sZ=new Ix([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Lk=new Ls(0),Uk=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=0|t.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}n=r,e=i},d:function(){return(255&(n%=65521))<<24|(65280&n)<<8|(255&(e%=65521))<<8|e>>8}}},bN=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Ls(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return function(n,e,t,r,i,s){var o=s.z||n.length,a=new Ls(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=7&(s.r||0);if(e){u&&(l[0]=s.r>>3);for(var h=sZ[e-1],d=h>>13,f=8191&h,A=(1<<t)-1,p=s.p||new Gc(32768),m=s.h||new Gc(A+1),g=Math.ceil(t/3),y=2*g,v=function(ne){return(n[ne]^n[ne+1]<<g^n[ne+2]<<y)&A},_=new Ix(25e3),C=new Gc(288),b=new Gc(32),M=0,D=0,x=s.i||0,T=0,B=s.w||0,R=0;x+2<o;++x){var U=v(x),k=32767&x,q=m[U];if(p[k]=q,m[U]=k,B<=x){var O=o-x;if((M>7e3||T>24576)&&(O>423||!c)){u=Pk(n,l,0,_,C,b,D,T,R,x-R,u),T=M=D=0,R=x;for(var P=0;P<286;++P)C[P]=0;for(P=0;P<30;++P)b[P]=0}var G=2,H=0,ae=f,ve=k-q&32767;if(O>2&&U==v(x-ve))for(var Q=Math.min(d,O)-1,j=Math.min(32767,x),K=Math.min(258,O);ve<=j&&--ae&&k!=q;){if(n[x+G]==n[x+G-ve]){for(var oe=0;oe<K&&n[x+oe]==n[x+oe-ve];++oe);if(oe>G){if(G=oe,H=ve,oe>Q)break;var se=Math.min(ve,oe-2),le=0;for(P=0;P<se;++P){var te=x-ve+P&32767,Ae=te-p[te]&32767;Ae>le&&(le=Ae,q=te)}}}ve+=(k=q)-(q=p[k])&32767}if(H){_[T++]=268435456|AN[G]<<18|Fk[H];var Se=31&AN[G],ge=31&Fk[H];D+=j1[Se]+q1[ge],++C[257+Se],++b[ge],B=x+G,++M}else _[T++]=n[x],++C[n[x]]}}for(x=Math.max(x,B);x<o;++x)_[T++]=n[x],++C[n[x]];u=Pk(n,l,c,_,C,b,D,T,R,x-R,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=m,s.p=p,s.i=x,s.w=B)}else{for(x=s.w||0;x<o+c;x+=65535){var xe=x+65535;xe>=o&&(l[u/8|0]=c,xe=o),u=Ok(l,u+1,n.subarray(x,xe))}s.i=o}return um(a,0,r+Ox(u)+i)}(n,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):20:12+e.mem,t,r,i)},Eo=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};function Lx(n,e){e||(e={});var t=Uk();t.p(n);var r=bN(n,e,e.dictionary?6:2,4);return function(n,e){var t=e.level,r=0==t?0:t<6?1:9==t?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=Uk();i.p(e.dictionary),Eo(n,2,i.d())}}(r,e),Eo(r,r.length-4,t.d()),r}function xN(n,e){return function(n,e,t,r){var i=n.length,s=r?r.length:0;if(!i||e.f&&!e.l)return t||new Ls(0);var o=!t,a=o||2!=e.i,l=e.i;o&&(t=new Ls(3*i));var c=function(Se){var ge=t.length;if(Se>ge){var xe=new Ls(Math.max(2*ge,Se));xe.set(t),t=xe}},u=e.f||0,h=e.p||0,d=e.b||0,f=e.l,A=e.d,p=e.m,m=e.n,g=8*i;do{if(!f){u=jh(n,h,1);var y=jh(n,h+1,3);if(h+=3,!y){var _=n[(v=Ox(h)+4)-4]|n[v-3]<<8,C=v+_;if(C>i){l&&Yi(0);break}a&&c(d+_),t.set(n.subarray(v,C),d),e.b=d+=_,e.p=h=8*C,e.f=u;continue}if(1==y)f=tZ,A=rZ,p=9,m=5;else if(2==y){var b=jh(n,h,31)+257,M=jh(n,h+10,15)+4,D=b+jh(n,h+5,31)+1;h+=14;for(var x=new Ls(D),T=new Ls(19),B=0;B<M;++B)T[Fx[B]]=jh(n,h+3*B,7);h+=3*M;var R=pN(T),U=(1<<R)-1,k=Gh(T,R,1);for(B=0;B<D;){var v,q=k[jh(n,h,U)];if(h+=15&q,(v=q>>4)<16)x[B++]=v;else{var O=0,P=0;for(16==v?(P=3+jh(n,h,3),h+=2,O=x[B-1]):17==v?(P=3+jh(n,h,7),h+=3):18==v&&(P=11+jh(n,h,127),h+=7);P--;)x[B++]=O}}var G=x.subarray(0,b),H=x.subarray(b);p=pN(G),m=pN(H),f=Gh(G,p,1),A=Gh(H,m,1)}else Yi(1);if(h>g){l&&Yi(0);break}}a&&c(d+131072);for(var ae=(1<<p)-1,ve=(1<<m)-1,Q=h;;Q=h){var j=(O=f[gN(n,h)&ae])>>4;if((h+=15&O)>g){l&&Yi(0);break}if(O||Yi(2),j<256)t[d++]=j;else{if(256==j){Q=h,f=null;break}var K=j-254;j>264&&(K=jh(n,h,(1<<(oe=j1[B=j-257]))-1)+Ik[B],h+=oe);var se=A[gN(n,h)&ve],le=se>>4;if(se||Yi(3),h+=15&se,H=ZJ[le],le>3){var oe=q1[le];H+=gN(n,h)&(1<<oe)-1,h+=oe}if(h>g){l&&Yi(0);break}a&&c(d+131072);var te=d+K;if(d<H){var ee=s-H,Ae=Math.min(H,te);for(ee+d<0&&Yi(3);d<Ae;++d)t[d]=r[ee+d]}for(;d<te;++d)t[d]=t[d-H]}}e.l=f,e.p=Q,e.b=d,e.f=u,f&&(u=1,e.m=p,e.d=A,e.n=m)}while(!u);return d!=t.length&&o?um(t,0,d):t.subarray(0,d)}(n.subarray(function(n,e){return(8!=(15&n[0])||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Yi(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&Yi(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4)}(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var jk=typeof TextDecoder<"u"&&new TextDecoder;try{jk.decode(Lk,{stream:!0})}catch{}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Sr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function qk(){Sr.console&&"function"==typeof Sr.console.log&&Sr.console.log.apply(Sr.console,arguments)}var no={log:qk,warn:function(n){Sr.console&&("function"==typeof Sr.console.warn?Sr.console.warn.apply(Sr.console,arguments):qk.call(null,arguments))},error:function(n){Sr.console&&("function"==typeof Sr.console.error?Sr.console.error.apply(Sr.console,arguments):qk(n))}};function Wk(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){N0(r.response,e,t)},r.onerror=function(){no.error("could not download file")},r.send()}function wZ(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function TN(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var kx,$k,N0=Sr.saveAs||("object"!==(typeof window>"u"?"undefined":(0,to.A)(window))||window!==Sr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Sr.URL||Sr.webkitURL,i=document.createElement("a");i.download=e=e||n.name||"download",i.rel="noopener","string"==typeof n?(i.href=n,i.origin!==location.origin?wZ(i.href)?Wk(n,e,t):TN(i,i.target="_blank"):TN(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){TN(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(wZ(n))Wk(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){TN(r)})}else navigator.msSaveOrOpenBlob((i=n,void 0===(s=t)?s={autoBom:!1}:"object"!==(0,to.A)(s)&&(no.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i),e);var i,s}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof n)return Wk(n,e,t);var i="application/octet-stream"===n.type,s=/constructor/i.test(Sr.HTMLElement)||Sr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&"object"===(typeof FileReader>"u"?"undefined":(0,to.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Sr.URL||Sr.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function CZ(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var s=t[r].process,o=t[r].re.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==c.length&&(c="0"+c),"#"+a+l+c}}function Kk(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=ac(t,r,i,s,e[0],7,-680876936),s=ac(s,t,r,i,e[1],12,-389564586),i=ac(i,s,t,r,e[2],17,606105819),r=ac(r,i,s,t,e[3],22,-1044525330),t=ac(t,r,i,s,e[4],7,-176418897),s=ac(s,t,r,i,e[5],12,1200080426),i=ac(i,s,t,r,e[6],17,-1473231341),r=ac(r,i,s,t,e[7],22,-45705983),t=ac(t,r,i,s,e[8],7,1770035416),s=ac(s,t,r,i,e[9],12,-1958414417),i=ac(i,s,t,r,e[10],17,-42063),r=ac(r,i,s,t,e[11],22,-1990404162),t=ac(t,r,i,s,e[12],7,1804603682),s=ac(s,t,r,i,e[13],12,-40341101),i=ac(i,s,t,r,e[14],17,-1502002290),t=lc(t,r=ac(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=lc(s,t,r,i,e[6],9,-1069501632),i=lc(i,s,t,r,e[11],14,643717713),r=lc(r,i,s,t,e[0],20,-373897302),t=lc(t,r,i,s,e[5],5,-701558691),s=lc(s,t,r,i,e[10],9,38016083),i=lc(i,s,t,r,e[15],14,-660478335),r=lc(r,i,s,t,e[4],20,-405537848),t=lc(t,r,i,s,e[9],5,568446438),s=lc(s,t,r,i,e[14],9,-1019803690),i=lc(i,s,t,r,e[3],14,-187363961),r=lc(r,i,s,t,e[8],20,1163531501),t=lc(t,r,i,s,e[13],5,-1444681467),s=lc(s,t,r,i,e[2],9,-51403784),i=lc(i,s,t,r,e[7],14,1735328473),t=cc(t,r=lc(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=cc(s,t,r,i,e[8],11,-2022574463),i=cc(i,s,t,r,e[11],16,1839030562),r=cc(r,i,s,t,e[14],23,-35309556),t=cc(t,r,i,s,e[1],4,-1530992060),s=cc(s,t,r,i,e[4],11,1272893353),i=cc(i,s,t,r,e[7],16,-155497632),r=cc(r,i,s,t,e[10],23,-1094730640),t=cc(t,r,i,s,e[13],4,681279174),s=cc(s,t,r,i,e[0],11,-358537222),i=cc(i,s,t,r,e[3],16,-722521979),r=cc(r,i,s,t,e[6],23,76029189),t=cc(t,r,i,s,e[9],4,-640364487),s=cc(s,t,r,i,e[12],11,-421815835),i=cc(i,s,t,r,e[15],16,530742520),t=uc(t,r=cc(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=uc(s,t,r,i,e[7],10,1126891415),i=uc(i,s,t,r,e[14],15,-1416354905),r=uc(r,i,s,t,e[5],21,-57434055),t=uc(t,r,i,s,e[12],6,1700485571),s=uc(s,t,r,i,e[3],10,-1894986606),i=uc(i,s,t,r,e[10],15,-1051523),r=uc(r,i,s,t,e[1],21,-2054922799),t=uc(t,r,i,s,e[8],6,1873313359),s=uc(s,t,r,i,e[15],10,-30611744),i=uc(i,s,t,r,e[6],15,-1560198380),r=uc(r,i,s,t,e[13],21,1309151649),t=uc(t,r,i,s,e[4],6,-145523070),s=uc(s,t,r,i,e[11],10,-1120210379),i=uc(i,s,t,r,e[2],15,718787259),r=uc(r,i,s,t,e[9],21,-343485551),n[0]=fm(t,n[0]),n[1]=fm(r,n[1]),n[2]=fm(i,n[2]),n[3]=fm(s,n[3])}function BN(n,e,t,r,i,s){return e=fm(fm(e,n),fm(r,s)),fm(e<<i|e>>>32-i,t)}function ac(n,e,t,r,i,s,o){return BN(e&t|~e&r,n,e,i,s,o)}function lc(n,e,t,r,i,s,o){return BN(e&r|t&~r,n,e,i,s,o)}function cc(n,e,t,r,i,s,o){return BN(e^t^r,n,e,i,s,o)}function uc(n,e,t,r,i,s,o){return BN(t^(e|~r),n,e,i,s,o)}function SZ(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Kk(r,oRe(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Kk(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Kk(r,i),r}function oRe(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}kx=Sr.atob.bind(Sr),$k=Sr.btoa.bind(Sr);var xZ="0123456789abcdef".split("");function aRe(n){for(var e="",t=0;t<4;t++)e+=xZ[n>>8*t+4&15]+xZ[n>>8*t&15];return e}function lRe(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Xk(n){return SZ(n).map(lRe).join("")}var cRe="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=aRe(n[e]);return n.join("")}(SZ("hello"));function fm(n,e){if(cRe){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Yk(n,e){var t,r,i;if(n!==t){for(var o=(i=n,new Array(1+(256/n.length|0)+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var h=e.length,d=0,f=0,A="";for(l=0;l<h;l++)f=(f+(u=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=u,o=a[(a[d]+a[f])%256],A+=String.fromCharCode(e.charCodeAt(l)^o);return A}var EZ={print:4,modify:8,copy:16,"annot-forms":32};function Y1(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(void 0!==EZ.perm)throw new Error("Invalid permission: "+a);i+=EZ[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Xk(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Yk(this.encryptionKey,this.padding)}function J1(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function DZ(n){if("object"!==(0,to.A)(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){Sr.console&&no.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function NN(n){if(!(this instanceof NN))return new NN(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function MZ(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function I0(n,e,t,r,i){if(!(this instanceof I0))return new I0(n,e,t,r,i);this.type="axial"===n?2:3,this.coords=e,this.colors=t,MZ.call(this,r,i)}function Z1(n,e,t,r,i){if(!(this instanceof Z1))return new Z1(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,MZ.call(this,r,i)}function _r(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;"object"===(0,to.A)(n=n||{})&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,null!==(u=n.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(!0===s?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=DZ;var A="1.3",p=f.__private__.getPdfVersion=function(){return A};f.__private__.setPdfVersion=function(L){A=L};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return m};var g=f.__private__.getPageFormat=function(L){return m[L]};i=i||"a4";var v="compat";function _(){this.saveGraphicsState(),W(new Zn(st,0,0,-st,0,km()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),c="n",v="advanced"}function C(){this.restoreGraphicsState(),c="S",v="compat"}var b=f.__private__.combineFontStyleAndFontWeight=function(L,ue){if("bold"==L&&"normal"==ue||"bold"==L&&400==ue||"normal"==L&&"italic"==ue||"bold"==L&&"italic"==ue)throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(L=400==ue||"normal"===ue?"italic"===L?"italic":"normal":700!=ue&&"bold"!==ue||"normal"!==L?(700==ue?"bold":ue)+""+L:"bold"),L};f.advancedAPI=function(L){var ue="compat"===v;return ue&&_.call(this),"function"!=typeof L||(L(this),ue&&C.call(this)),this},f.compatAPI=function(L){var ue="advanced"===v;return ue&&C.call(this),"function"!=typeof L||(L(this),ue&&_.call(this)),this},f.isAdvancedAPI=function(){return"advanced"===v};var M,D=function(L){if("advanced"!==v)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},x=f.roundToPrecision=f.__private__.roundToPrecision=function(L,ue){var Le=e||ue;if(isNaN(L)||isNaN(Le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Le).replace(/0+$/,"")};M=f.hpf=f.__private__.hpf="number"==typeof l?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return x(L,l)}:"smart"===l?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return x(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return x(L,16)};var T=f.f2=f.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return x(L,2)},B=f.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return x(L,3)},R=f.scale=f.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===v?L*st:"advanced"===v?L:void 0},k=function(L){return R(function(L){return"compat"===v?km()-L:"advanced"===v?L:void 0}(L))};f.__private__.setPrecision=f.setPrecision=function(L){"number"==typeof parseInt(L,10)&&(e=parseInt(L,10))};var q,O="00000000000000000000000000000000",P=f.__private__.getFileId=function(){return O},G=f.__private__.setFileId=function(L){return O=void 0!==L&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():O.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(_c=new Y1(u.userPermissions,u.userPassword,u.ownerPassword,O)),O};f.setFileId=function(L){return G(L),this},f.getFileId=function(){return P()};var H=f.__private__.convertDateToPDFDate=function(L){var ue=L.getTimezoneOffset(),Le=ue<0?"+":"-",ze=Math.floor(Math.abs(ue/60)),ot=Math.abs(ue%60),Mt=[Le,K(ze),"'",K(ot),"'"].join("");return["D:",L.getFullYear(),K(L.getMonth()+1),K(L.getDate()),K(L.getHours()),K(L.getMinutes()),K(L.getSeconds()),Mt].join("")},ae=f.__private__.convertPDFDateToDate=function(L){var ue=parseInt(L.substr(2,4),10),Le=parseInt(L.substr(6,2),10)-1,ze=parseInt(L.substr(8,2),10),ot=parseInt(L.substr(10,2),10),Mt=parseInt(L.substr(12,2),10),Zt=parseInt(L.substr(14,2),10);return new Date(ue,Le,ze,ot,Mt,Zt,0)},ve=f.__private__.setCreationDate=function(L){var ue;if(void 0===L&&(L=new Date),L instanceof Date)ue=H(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=L}return q=ue},Q=f.__private__.getCreationDate=function(L){var ue=q;return"jsDate"===L&&(ue=ae(q)),ue};f.setCreationDate=function(L){return ve(L),this},f.getCreationDate=function(L){return Q(L)};var j,K=f.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},oe=f.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},se=0,le=[],te=[],ee=0,Ae=[],Se=[],ge=!1,xe=te;f.__private__.setCustomOutputDestination=function(L){ge=!0,xe=L};var Y=function(L){ge||(xe=L)};f.__private__.resetCustomOutputDestination=function(){ge=!1,xe=te};var W=f.__private__.out=function(L){return L=L.toString(),ee+=L.length+1,xe.push(L),xe},Me=f.__private__.write=function(L){return W(1===arguments.length?L.toString():Array.prototype.join.call(arguments," "))},Ce=f.__private__.getArrayBuffer=function(L){for(var ue=L.length,Le=new ArrayBuffer(ue),ze=new Uint8Array(Le);ue--;)ze[ue]=L.charCodeAt(ue);return Le},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Pe};var Oe=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(L){return Oe="advanced"===v?L/st:L,this};var re,J=f.__private__.getFontSize=f.getFontSize=function(){return"compat"===v?Oe:Oe*st},Ue=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(L){return Ue=L,this},f.__private__.getR2L=f.getR2L=function(){return Ue};var Qe,rt=f.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))re=L;else if(isNaN(L)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');re=L}else re=parseInt(L,10)};f.__private__.getZoomMode=function(){return re};var Xe,Lt=f.__private__.setPageMode=function(L){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Qe=L};f.__private__.getPageMode=function(){return Qe};var Ft=f.__private__.setLayoutMode=function(L){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Xe=L};f.__private__.getLayoutMode=function(){return Xe},f.__private__.setDisplayMode=f.setDisplayMode=function(L,ue,Le){return rt(L),Ft(ue),Lt(Le),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(L){if(-1===Object.keys(Tt).indexOf(L))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[L]},f.__private__.getDocumentProperties=function(){return Tt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(L){for(var ue in Tt)Tt.hasOwnProperty(ue)&&L[ue]&&(Tt[ue]=L[ue]);return this},f.__private__.setDocumentProperty=function(L,ue){if(-1===Object.keys(Tt).indexOf(L))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[L]=ue};var _n,st,vn,pn,bn,nn={},$={},Fe=[],Ke={},Ne={},_t={},nt={},Dt=null,an=0,Qt=[],Rn=new DZ(f),Ns=n.hotfixes||[],Zi={},gi={},Xo=[],Zn=function L(ue,Le,ze,ot,Mt,Zt){if(!(this instanceof L))return new L(ue,Le,ze,ot,Mt,Zt);isNaN(ue)&&(ue=1),isNaN(Le)&&(Le=0),isNaN(ze)&&(ze=0),isNaN(ot)&&(ot=1),isNaN(Mt)&&(Mt=0),isNaN(Zt)&&(Zt=0),this._matrix=[ue,Le,ze,ot,Mt,Zt]};Object.defineProperty(Zn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Zn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Zn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Zn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Zn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Zn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Zn.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Zn.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Zn.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Zn.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Zn.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Zn.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Zn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Zn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Zn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Zn.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Zn.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(L)},Zn.prototype.multiply=function(L){return new Zn(L.sx*this.sx+L.shy*this.shx,L.sx*this.shy+L.shy*this.sy,L.shx*this.sx+L.sy*this.shx,L.shx*this.shy+L.sy*this.sy,L.tx*this.sx+L.ty*this.shx+this.tx,L.tx*this.shy+L.ty*this.sy+this.ty)},Zn.prototype.decompose=function(){var L=this.sx,ue=this.shy,Le=this.shx,ze=this.sy,ot=this.tx,Mt=this.ty,Zt=Math.sqrt(L*L+ue*ue),Pn=(L/=Zt)*Le+(ue/=Zt)*ze;Le-=L*Pn,ze-=ue*Pn;var sr=Math.sqrt(Le*Le+ze*ze);return Pn/=sr,L*(ze/=sr)<ue*(Le/=sr)&&(L=-L,ue=-ue,Pn=-Pn,Zt=-Zt),{scale:new Zn(Zt,0,0,sr,0,0),translate:new Zn(1,0,0,1,ot,Mt),rotate:new Zn(L,ue,-ue,L,0,0),skew:new Zn(1,0,Pn,1,0,0)}},Zn.prototype.toString=function(L){return this.join(" ")},Zn.prototype.inversed=function(){var L=this.sx,ue=this.shy,Le=this.shx,ze=this.sy,ot=this.tx,Mt=this.ty,Zt=1/(L*ze-ue*Le),Pn=ze*Zt,sr=-ue*Zt,Yr=-Le*Zt,$r=L*Zt;return new Zn(Pn,sr,Yr,$r,-Pn*ot-Yr*Mt,-sr*ot-$r*Mt)},Zn.prototype.applyToPoint=function(L){return new tw(L.x*this.sx+L.y*this.shx+this.tx,L.x*this.shy+L.y*this.sy+this.ty)},Zn.prototype.applyToRectangle=function(L){var ue=this.applyToPoint(L),Le=this.applyToPoint(new tw(L.x+L.w,L.y+L.h));return new LE(ue.x,ue.y,Le.x-ue.x,Le.y-ue.y)},Zn.prototype.clone=function(){return new Zn(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},f.Matrix=Zn;var Iu=f.matrixMult=function(L,ue){return ue.multiply(L)},gh=new Zn(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=gh;var Yo=function(L,ue){if(!Ne[L]){var Le=(ue instanceof I0?"Sh":"P")+(Object.keys(Ke).length+1).toString(10);ue.id=Le,Ne[L]=Le,Ke[Le]=ue,Rn.publish("addPattern",ue)}};f.ShadingPattern=I0,f.TilingPattern=Z1,f.addShadingPattern=function(L,ue){return D("addShadingPattern()"),Yo(L,ue),this},f.beginTilingPattern=function(L){D("beginTilingPattern()"),WF(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},f.endTilingPattern=function(L,ue){D("endTilingPattern()"),ue.stream=Se[j].join("\n"),Yo(L,ue),Rn.publish("endTilingPattern",ue),Xo.pop().restore()};var L,Uo=f.__private__.newObject=function(){var L=ko();return mc(L,!0),L},ko=f.__private__.newObjectDeferred=function(){return se++,le[se]=function(){return ee},se},mc=function(L,ue){return ue="boolean"==typeof ue&&ue,le[L]=ee,ue&&W(L+" 0 obj"),L},md=f.__private__.newAdditionalObject=function(){var L={objId:ko(),content:""};return Ae.push(L),L},af=ko(),vc=ko(),Fu=f.__private__.decodeColorString=function(L){var ue=L.split(" ");if(2!==ue.length||"g"!==ue[1]&&"G"!==ue[1])5===ue.length&&("k"===ue[4]||"K"===ue[4])&&(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var Le=parseFloat(ue[0]);ue=[Le,Le,Le,"r"]}for(var ze="#",ot=0;ot<3;ot++)ze+=("0"+Math.floor(255*parseFloat(ue[ot])).toString(16)).slice(-2);return ze},Ru=f.__private__.encodeColorString=function(L){var ue;"string"==typeof L&&(L={ch1:L});var Le=L.ch1,ze=L.ch2,ot=L.ch3,Mt=L.ch4,Zt="draw"===L.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Le&&"#"!==Le.charAt(0)){var Pn=new CZ(Le);if(Pn.ok)Le=Pn.toHex();else if(!/^\d*\.?\d*$/.test(Le))throw new Error('Invalid color "'+Le+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Le&&/^#[0-9A-Fa-f]{3}$/.test(Le)&&(Le="#"+Le[1]+Le[1]+Le[2]+Le[2]+Le[3]+Le[3]),"string"==typeof Le&&/^#[0-9A-Fa-f]{6}$/.test(Le)){var sr=parseInt(Le.substr(1),16);Le=sr>>16&255,ze=sr>>8&255,ot=255&sr}if(void 0===ze||void 0===Mt&&Le===ze&&ze===ot)ue="string"==typeof Le?Le+" "+Zt[0]:2===L.precision?T(Le/255)+" "+Zt[0]:B(Le/255)+" "+Zt[0];else if(void 0===Mt||"object"===(0,to.A)(Mt)){if(Mt&&!isNaN(Mt.a)&&0===Mt.a)return["1.","1.","1.",Zt[1]].join(" ");ue="string"==typeof Le?[Le,ze,ot,Zt[1]].join(" "):2===L.precision?[T(Le/255),T(ze/255),T(ot/255),Zt[1]].join(" "):[B(Le/255),B(ze/255),B(ot/255),Zt[1]].join(" ")}else ue="string"==typeof Le?[Le,ze,ot,Mt,Zt[2]].join(" "):2===L.precision?[T(Le),T(ze),T(ot),T(Mt),Zt[2]].join(" "):[B(Le),B(ze),B(ot),B(Mt),Zt[2]].join(" ");return ue},lf=f.__private__.getFilters=function(){return o},Ou=f.__private__.putStream=function(L){var ue=(L=L||{}).data||"",Le=L.filters||lf(),ze=L.alreadyAppliedFilters||[],ot=L.addLength1||!1,Mt=ue.length,Zt=L.objectId,Pn=function(bc){return bc};if(null!==u&&void 0===Zt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(Pn=_c.encryptor(Zt,0));var sr={};!0===Le&&(Le=["FlateEncode"]);var Yr=L.additionalKeyValues||[],$r=(sr=void 0!==_r.API.processDataByFilters?_r.API.processDataByFilters(ue,Le):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(ze)?ze.join(" "):ze.toString());if(0!==sr.data.length&&(Yr.push({key:"Length",value:sr.data.length}),!0===ot&&Yr.push({key:"Length1",value:Mt})),0!=$r.length)if($r.split("/").length-1==1)Yr.push({key:"Filter",value:$r});else{Yr.push({key:"Filter",value:"["+$r+"]"});for(var es=0;es<Yr.length;es+=1)if("DecodeParms"===Yr[es].key){for(var Ho=[],Zo=0;Zo<sr.reverseChain.split("/").length-1;Zo+=1)Ho.push("null");Ho.push(Yr[es].value),Yr[es].value="["+Ho.join(" ")+"]"}}W("<<");for(var Oa=0;Oa<Yr.length;Oa++)W("/"+Yr[Oa].key+" "+Yr[Oa].value);W(">>"),0!==sr.data.length&&(W("stream"),W(Pn(sr.data)),W("endstream"))},cf=f.__private__.putPage=function(L){var ue=L.number,Le=L.data,ze=L.objId,ot=L.contentsObjId;mc(ze,!0),W("<</Type /Page"),W("/Parent "+L.rootDictionaryObjId+" 0 R"),W("/Resources "+L.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(M(L.mediaBox.bottomLeftX))+" "+parseFloat(M(L.mediaBox.bottomLeftY))+" "+M(L.mediaBox.topRightX)+" "+M(L.mediaBox.topRightY)+"]"),null!==L.cropBox&&W("/CropBox ["+M(L.cropBox.bottomLeftX)+" "+M(L.cropBox.bottomLeftY)+" "+M(L.cropBox.topRightX)+" "+M(L.cropBox.topRightY)+"]"),null!==L.bleedBox&&W("/BleedBox ["+M(L.bleedBox.bottomLeftX)+" "+M(L.bleedBox.bottomLeftY)+" "+M(L.bleedBox.topRightX)+" "+M(L.bleedBox.topRightY)+"]"),null!==L.trimBox&&W("/TrimBox ["+M(L.trimBox.bottomLeftX)+" "+M(L.trimBox.bottomLeftY)+" "+M(L.trimBox.topRightX)+" "+M(L.trimBox.topRightY)+"]"),null!==L.artBox&&W("/ArtBox ["+M(L.artBox.bottomLeftX)+" "+M(L.artBox.bottomLeftY)+" "+M(L.artBox.topRightX)+" "+M(L.artBox.topRightY)+"]"),"number"==typeof L.userUnit&&1!==L.userUnit&&W("/UserUnit "+L.userUnit),Rn.publish("putPage",{objId:ze,pageContext:Qt[ue],pageNumber:ue,page:Le}),W("/Contents "+ot+" 0 R"),W(">>"),W("endobj");var Mt=Le.join("\n");return"advanced"===v&&(Mt+="\nQ"),mc(ot,!0),Ou({data:Mt,filters:lf(),objectId:ot}),W("endobj"),ze},Lp=f.__private__.putPages=function(){var L,ue,Le=[];for(L=1;L<=an;L++)Qt[L].objId=ko(),Qt[L].contentsObjId=ko();for(L=1;L<=an;L++)Le.push(cf({number:L,data:Se[L],objId:Qt[L].objId,contentsObjId:Qt[L].contentsObjId,mediaBox:Qt[L].mediaBox,cropBox:Qt[L].cropBox,bleedBox:Qt[L].bleedBox,trimBox:Qt[L].trimBox,artBox:Qt[L].artBox,userUnit:Qt[L].userUnit,rootDictionaryObjId:af,resourceDictionaryObjId:vc}));mc(af,!0),W("<</Type /Pages");var ze="/Kids [";for(ue=0;ue<an;ue++)ze+=Le[ue]+" 0 R ";W(ze+"]"),W("/Count "+an),W(">>"),W("endobj"),Rn.publish("postPutPages")},Om=function(L){Rn.publish("putFont",{font:L,out:W,newObject:Uo,putStream:Ou}),!0!==L.isAlreadyPutted&&(L.objectNumber=Uo(),W("<<"),W("/Type /Font"),W("/BaseFont /"+J1(L.postScriptName)),W("/Subtype /Type1"),"string"==typeof L.encoding&&W("/Encoding /"+L.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},et=function(L){L.objectNumber=Uo();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[M(L.x),M(L.y),M(L.x+L.width),M(L.y+L.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Le=L.pages[1].join("\n");Ou({data:Le,additionalKeyValues:ue,objectId:L.objectNumber}),W("endobj")},it=function(L,ue){ue||(ue=21);var Le=Uo(),ze=function(L,ue){var Le,ze=[],ot=1/(ue-1);for(Le=0;Le<1;Le+=ot)ze.push(Le);ze.push(1),0!=L[0].offset&&L.unshift({offset:0,color:L[0].color}),1!=L[L.length-1].offset&&L.push({offset:1,color:L[L.length-1].color});for(var Pn="",sr=0,Yr=0;Yr<ze.length;Yr++){for(Le=ze[Yr];Le>L[sr+1].offset;)sr++;var $r=L[sr].offset,es=(Le-$r)/(L[sr+1].offset-$r),Ho=L[sr].color,Zo=L[sr+1].color;Pn+=oe(Math.round((1-es)*Ho[0]+es*Zo[0]).toString(16))+oe(Math.round((1-es)*Ho[1]+es*Zo[1]).toString(16))+oe(Math.round((1-es)*Ho[2]+es*Zo[2]).toString(16))}return Pn.trim()}(L.colors,ue),ot=[];ot.push({key:"FunctionType",value:"0"}),ot.push({key:"Domain",value:"[0.0 1.0]"}),ot.push({key:"Size",value:"["+ue+"]"}),ot.push({key:"BitsPerSample",value:"8"}),ot.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ou({data:ze,additionalKeyValues:ot,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Le}),W("endobj"),L.objectNumber=Uo(),W("<< /ShadingType "+L.type),W("/ColorSpace /DeviceRGB");var Mt="/Coords ["+M(parseFloat(L.coords[0]))+" "+M(parseFloat(L.coords[1]))+" ";Mt+=2===L.type?M(parseFloat(L.coords[2]))+" "+M(parseFloat(L.coords[3])):M(parseFloat(L.coords[2]))+" "+M(parseFloat(L.coords[3]))+" "+M(parseFloat(L.coords[4]))+" "+M(parseFloat(L.coords[5])),W(Mt+="]"),L.matrix&&W("/Matrix ["+L.matrix.toString()+"]"),W("/Function "+Le+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},on=function(L,ue){var Le=ko(),ze=Uo();ue.push({resourcesOid:Le,objectOid:ze}),L.objectNumber=ze;var ot=[];ot.push({key:"Type",value:"/Pattern"}),ot.push({key:"PatternType",value:"1"}),ot.push({key:"PaintType",value:"1"}),ot.push({key:"TilingType",value:"1"}),ot.push({key:"BBox",value:"["+L.boundingBox.map(M).join(" ")+"]"}),ot.push({key:"XStep",value:M(L.xStep)}),ot.push({key:"YStep",value:M(L.yStep)}),ot.push({key:"Resources",value:Le+" 0 R"}),L.matrix&&ot.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Ou({data:L.stream,additionalKeyValues:ot,objectId:L.objectNumber}),W("endobj")},Vn=function(L){for(var ue in L.objectNumber=Uo(),W("<<"),L)switch(ue){case"opacity":W("/ca "+T(L[ue]));break;case"stroke-opacity":W("/CA "+T(L[ue]))}W(">>"),W("endobj")},Wr=function(L){mc(L.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var L in W("/Font <<"),nn)nn.hasOwnProperty(L)&&(!1===h||!0===h&&d.hasOwnProperty(L))&&W("/"+L+" "+nn[L].objectNumber+" 0 R");W(">>")}(),function(){if(Object.keys(Ke).length>0){for(var L in W("/Shading <<"),Ke)Ke.hasOwnProperty(L)&&Ke[L]instanceof I0&&Ke[L].objectNumber>=0&&W("/"+L+" "+Ke[L].objectNumber+" 0 R");Rn.publish("putShadingPatternDict"),W(">>")}}(),function(L){if(Object.keys(Ke).length>0){for(var ue in W("/Pattern <<"),Ke)Ke.hasOwnProperty(ue)&&Ke[ue]instanceof f.TilingPattern&&Ke[ue].objectNumber>=0&&Ke[ue].objectNumber<L&&W("/"+ue+" "+Ke[ue].objectNumber+" 0 R");Rn.publish("putTilingPatternDict"),W(">>")}}(L.objectOid),function(){if(Object.keys(_t).length>0){var L;for(L in W("/ExtGState <<"),_t)_t.hasOwnProperty(L)&&_t[L].objectNumber>=0&&W("/"+L+" "+_t[L].objectNumber+" 0 R");Rn.publish("putGStateDict"),W(">>")}}(),function(){for(var L in W("/XObject <<"),Zi)Zi.hasOwnProperty(L)&&Zi[L].objectNumber>=0&&W("/"+L+" "+Zi[L].objectNumber+" 0 R");Rn.publish("putXobjectDict"),W(">>")}(),W(">>"),W("endobj")},Jo=function(L){$[L.fontName]=$[L.fontName]||{},$[L.fontName][L.fontStyle]=L.id},Ri=function(L,ue,Le,ze,ot){var Mt={id:"F"+(Object.keys(nn).length+1).toString(10),postScriptName:L,fontName:ue,fontStyle:Le,encoding:ze,isStandardFont:ot||!1,metadata:{}};return Rn.publish("addFont",{font:Mt,instance:this}),nn[Mt.id]=Mt,Jo(Mt),Mt.id},Fa=f.__private__.pdfEscape=f.pdfEscape=function(L,ue){return function(L,ue){var Le,ze,ot,Mt,Zt,Pn,sr,Yr,$r;if(ot=(ue=ue||{}).sourceEncoding||"Unicode",Zt=ue.outputEncoding,(ue.autoencode||Zt)&&nn[_n].metadata&&nn[_n].metadata[ot]&&nn[_n].metadata[ot].encoding&&(Mt=nn[_n].metadata[ot].encoding,!Zt&&nn[_n].encoding&&(Zt=nn[_n].encoding),!Zt&&Mt.codePages&&(Zt=Mt.codePages[0]),"string"==typeof Zt&&(Zt=Mt[Zt]),Zt)){for(sr=!1,Pn=[],Le=0,ze=L.length;Le<ze;Le++)(Yr=Zt[L.charCodeAt(Le)])?Pn.push(String.fromCharCode(Yr)):Pn.push(L[Le]),Pn[Le].charCodeAt(0)>>8&&(sr=!0);L=Pn.join("")}for(Le=L.length;void 0===sr&&0!==Le;)L.charCodeAt(Le-1)>>8&&(sr=!0),Le--;if(!sr)return L;for(Pn=ue.noBOM?[]:[254,255],Le=0,ze=L.length;Le<ze;Le++){if(($r=(Yr=L.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pn.push($r),Pn.push(Yr-($r<<8))}return String.fromCharCode.apply(void 0,Pn)}(L,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Is=f.__private__.beginPage=function(L){Se[++an]=[],Qt[an]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Ra(an),Y(Se[j])},zl=function(L,ue){var Le,ze,ot;switch(t=ue||t,"string"==typeof L&&(Le=g(L.toLowerCase()),Array.isArray(Le)&&(ze=Le[0],ot=Le[1])),Array.isArray(L)&&(ze=L[0]*st,ot=L[1]*st),isNaN(ze)&&(ze=i[0],ot=i[1]),(ze>14400||ot>14400)&&(no.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ze=Math.min(14400,ze),ot=Math.min(14400,ot)),i=[ze,ot],t.substr(0,1)){case"l":ot>ze&&(i=[ot,ze]);break;case"p":ze>ot&&(i=[ot,ze])}Is(i),QF(FE),W(yd),0!==OE&&W(OE+" J"),0!==PE&&W(PE+" j"),Rn.publish("addPage",{pageNumber:an})},yc=function(L){L>0&&L<=an&&(Se.splice(L,1),Qt.splice(L,1),an--,j>an&&(j=an),this.setPage(j))},Ra=function(L){L>0&&L<=an&&(j=L)},yl=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Se.length-1},Pm=function(L,ue,Le){var ze,ot=void 0;return Le=Le||{},ue=void 0!==ue?ue:nn[_n].fontStyle,ze=(L=void 0!==L?L:nn[_n].fontName).toLowerCase(),void 0!==$[ze]&&void 0!==$[ze][ue]?ot=$[ze][ue]:void 0!==$[L]&&void 0!==$[L][ue]?ot=$[L][ue]:!1===Le.disableWarning&&no.warn("Unable to look up font label for font '"+L+"', '"+ue+"'. Refer to getFontList() for available fonts."),ot||Le.noFallback||null==(ot=$.times[ue])&&(ot=$.times.normal),ot},vd=f.__private__.putInfo=function(){var L=Uo(),ue=function(ze){return ze};for(var Le in null!==u&&(ue=_c.encryptor(L,0)),W("<<"),W("/Producer ("+Fa(ue("jsPDF "+_r.version))+")"),Tt)Tt.hasOwnProperty(Le)&&Tt[Le]&&W("/"+Le.substr(0,1).toUpperCase()+Le.substr(1)+" ("+Fa(ue(Tt[Le]))+")");W("/CreationDate ("+Fa(ue(q))+")"),W(">>"),W("endobj")},BE=f.__private__.putCatalog=function(L){var ue=(L=L||{}).rootDictionaryObjId||af;switch(Uo(),W("<<"),W("/Type /Catalog"),W("/Pages "+ue+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Le=""+re;"%"===Le.substr(Le.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&W("/OpenAction [3 0 R /XYZ null null "+T(re)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}Qe&&W("/PageMode /"+Qe),Rn.publish("putCatalog"),W(">>"),W("endobj")},z6=f.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(se+1)),W("/Root "+se+" 0 R"),W("/Info "+(se-1)+" 0 R"),null!==u&&W("/Encrypt "+_c.oid+" 0 R"),W("/ID [ <"+O+"> <"+O+"> ]"),W(">>")},G6=f.__private__.putHeader=function(){W("%PDF-"+A),W("%\xba\xdf\xac\xe0")},j6=f.__private__.putXRef=function(){var L="0000000000";W("xref"),W("0 "+(se+1)),W("0000000000 65535 f ");for(var ue=1;ue<=se;ue++)W("function"==typeof le[ue]?(L+le[ue]()).slice(-10)+" 00000 n ":void 0!==le[ue]?(L+le[ue]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Up=f.__private__.buildDocument=function(){se=0,ee=0,te=[],le=[],Ae=[],af=ko(),vc=ko(),Y(te),Rn.publish("buildDocument"),G6(),Lp(),function(){Rn.publish("putAdditionalObjects");for(var L=0;L<Ae.length;L++){var ue=Ae[L];mc(ue.objId,!0),W(ue.content),W("endobj")}Rn.publish("postPutAdditionalObjects")}(),function(){var L=[];(function(){for(var L in nn)nn.hasOwnProperty(L)&&(!1===h||!0===h&&d.hasOwnProperty(L))&&Om(nn[L])})(),function(){var L;for(L in _t)_t.hasOwnProperty(L)&&Vn(_t[L])}(),function(){for(var L in Zi)Zi.hasOwnProperty(L)&&et(Zi[L])}(),function(L){var ue;for(ue in Ke)Ke.hasOwnProperty(ue)&&(Ke[ue]instanceof I0?it(Ke[ue]):Ke[ue]instanceof Z1&&on(Ke[ue],L))}(L),Rn.publish("putResources"),L.forEach(Wr),Wr({resourcesOid:vc,objectOid:Number.MAX_SAFE_INTEGER}),Rn.publish("postPutResources")}(),null!==u&&(_c.oid=Uo(),W("<<"),W("/Filter /Standard"),W("/V "+_c.v),W("/R "+_c.r),W("/U <"+_c.toHexString(_c.U)+">"),W("/O <"+_c.toHexString(_c.O)+">"),W("/P "+_c.P),W(">>"),W("endobj")),vd(),BE();var L=ee;return j6(),z6(),W("startxref"),W(""+L),W("%%EOF"),Y(Se[j]),te.join("\n")},Xb=f.__private__.getBlob=function(L){return new Blob([Ce(L)],{type:"application/pdf"})},Yb=f.output=f.__private__.output=((L=function(L,ue){switch("string"==typeof(ue=ue||{})?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",L){case void 0:return Up();case"save":f.save(ue.filename);break;case"arraybuffer":return Ce(Up());case"blob":return Xb(Up());case"bloburi":case"bloburl":if(void 0!==Sr.URL&&"function"==typeof Sr.URL.createObjectURL)return Sr.URL&&Sr.URL.createObjectURL(Xb(Up()))||void 0;no.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Le="",ze=Up();try{Le=$k(ze)}catch{Le=$k(unescape(encodeURIComponent(ze)))}return"data:application/pdf;filename="+ue.filename+";base64,"+Le;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Sr)){var ot="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Mt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(ot=ue.pdfObjectUrl,Mt="");var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ot+'"'+Mt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",Pn=Sr.open();return null!==Pn&&Pn.document.write(Zt),Pn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Sr)){var sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',Yr=Sr.open();if(null!==Yr){Yr.document.write(sr);var $r=this;Yr.document.documentElement.querySelector("#pdfViewer").onload=function(){Yr.document.title=ue.filename,Yr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($r.output("bloburl"))}}return Yr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Sr))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var es='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',Ho=Sr.open();if(null!==Ho&&(Ho.document.write(es),Ho.document.title=ue.filename),Ho||typeof safari>"u")return Ho;break;case"datauri":case"dataurl":return Sr.document.location.href=this.output("datauristring",ue);default:return null}}).foo=function(){try{return L.apply(this,arguments)}catch(ze){var ue=ze.stack||"";~ue.indexOf(" at ")&&(ue=ue.split(" at ")[1]);var Le="Error in function "+ue.split("\n")[0].split("<")[0]+": "+ze.message;if(!Sr.console)throw new Error(Le);Sr.console.error(Le,ze),Sr.alert&&alert(Le)}},L.foo.bar=L,L.foo),UF=function(L){return!0===Array.isArray(Ns)&&Ns.indexOf(L)>-1};switch(r){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=1==UF("px_scaling")?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);st=r}var _c=null;ve(),G();var kF=f.__private__.getPageInfo=f.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qt[L].objId,pageNumber:L,pageContext:Qt[L]}},Qr=f.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in Qt)if(Qt[ue].objId===L)break;return kF(ue)},W6=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Qt[j].objId,pageNumber:j,pageContext:Qt[j]}};f.addPage=function(){return zl.apply(this,arguments),this},f.setPage=function(){return Ra.apply(this,arguments),Y.call(this,Se[j]),this},f.insertPage=function(L){return this.addPage(),this.movePage(j,L),this},f.movePage=function(L,ue){var Le,ze;if(L>ue){Le=Se[L],ze=Qt[L];for(var ot=L;ot>ue;ot--)Se[ot]=Se[ot-1],Qt[ot]=Qt[ot-1];Se[ue]=Le,Qt[ue]=ze,this.setPage(ue)}else if(L<ue){Le=Se[L],ze=Qt[L];for(var Mt=L;Mt<ue;Mt++)Se[Mt]=Se[Mt+1],Qt[Mt]=Qt[Mt+1];Se[ue]=Le,Qt[ue]=ze,this.setPage(ue)}return this},f.deletePage=function(){return yc.apply(this,arguments),this},f.__private__.text=f.text=function(L,ue,Le,ze,ot){var Mt,Zt,Pn,sr,Yr,$r,es,Ho,Zo,Oa=(ze=ze||{}).scope||this;if("number"==typeof L&&"number"==typeof ue&&("string"==typeof Le||Array.isArray(Le))){var bc=Le;Le=ue,ue=L,L=bc}if(arguments[3]instanceof Zn?(D("The transform parameter of text() with a Matrix value"),Zo=ot):(Pn=arguments[4],sr=arguments[5],"object"===(0,to.A)(es=arguments[3])&&null!==es||("string"==typeof Pn&&(sr=Pn,Pn=null),"string"==typeof es&&(sr=es,es=null),"number"==typeof es&&(Pn=es,es=null),ze={flags:es,angle:Pn,align:sr})),isNaN(ue)||isNaN(Le)||null==L)throw new Error("Invalid arguments passed to jsPDF.text");if(0===L.length)return Oa;var _d,_l="",mh="number"==typeof ze.lineHeightFactor?ze.lineHeightFactor:ly,vA=Oa.internal.scaleFactor;function $F(fo){return fo=fo.split("\t").join(Array(ze.TabLen||9).join(" ")),Fa(fo,es)}function VE(fo){for(var Ao,ma=fo.concat(),tl=[],zp=ma.length;zp--;)"string"==typeof(Ao=ma.shift())?tl.push(Ao):Array.isArray(fo)&&(1===Ao.length||void 0===Ao[1]&&void 0===Ao[2])?tl.push(Ao[0]):tl.push([Ao[0],Ao[1],Ao[2]]);return tl}function QE(fo,Ao){var ma;if("string"==typeof fo)ma=Ao(fo)[0];else if(Array.isArray(fo)){for(var tl,zp,XE=fo.concat(),fw=[],ZF=XE.length;ZF--;)"string"==typeof(tl=XE.shift())?fw.push(Ao(tl)[0]):Array.isArray(tl)&&"string"==typeof tl[0]&&(zp=Ao(tl[0],tl[1],tl[2]),fw.push([zp[0],zp[1],zp[2]]));ma=fw}return ma}var rw=!1,zE=!0;if("string"==typeof L)rw=!0;else if(Array.isArray(L)){var GE=L.concat();Zt=[];for(var iw,Gl=GE.length;Gl--;)("string"!=typeof(iw=GE.shift())||Array.isArray(iw)&&"string"!=typeof iw[0])&&(zE=!1);rw=zE}if(!1===rw)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');"string"==typeof L&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var sw=Oe/Oa.internal.scaleFactor,ow=sw*(mh-1);switch(ze.baseline){case"bottom":Le-=ow;break;case"top":Le+=sw-ow;break;case"hanging":Le+=sw-2*ow;break;case"middle":Le+=sw/2-ow}if(($r=ze.maxWidth||0)>0&&("string"==typeof L?L=Oa.splitTextToSize(L,$r):"[object Array]"===Object.prototype.toString.call(L)&&(L=L.reduce(function(fo,Ao){return fo.concat(Oa.splitTextToSize(Ao,$r))},[]))),Rn.publish("preProcessText",Mt={text:L,x:ue,y:Le,options:ze,mutex:{pdfEscape:Fa,activeFontKey:_n,fonts:nn,activeFontSize:Oe}}),L=Mt.text,Pn=(ze=Mt.options).angle,Zo instanceof Zn||!Pn||"number"!=typeof Pn)Pn&&Pn instanceof Zn&&(Zo=Pn);else{Pn*=Math.PI/180,0===ze.rotationDirection&&(Pn=-Pn),"advanced"===v&&(Pn=-Pn);var aw=Math.cos(Pn),jE=Math.sin(Pn);Zo=new Zn(aw,jE,-jE,aw,0,0)}"advanced"!==v||Zo||(Zo=gh),void 0!==(Yr=ze.charSpace||ew)&&(_l+=M(R(Yr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Ho=ze.horizontalScale)&&(_l+=M(100*Ho)+" Tz\n");var Pu=-1,rV=void 0!==ze.renderingMode?ze.renderingMode:ze.stroke,qE=Oa.internal.getCurrentPageInfo().pageContext;switch(rV){case 0:case!1:case"fill":Pu=0;break;case 1:case!0:case"stroke":Pu=1;break;case 2:case"fillThenStroke":Pu=2;break;case 3:case"invisible":Pu=3;break;case 4:case"fillAndAddForClipping":Pu=4;break;case 5:case"strokeAndAddPathForClipping":Pu=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pu=6;break;case 7:case"addToPathForClipping":Pu=7}-1!==Pu?_l+=Pu+" Tr\n":-1!==(void 0!==qE.usedRenderingMode?qE.usedRenderingMode:-1)&&(_l+="0 Tr\n"),-1!==Pu&&(qE.usedRenderingMode=Pu),sr=ze.align||"left";var uf,lw=Oe*mh,XF=Oa.internal.pageSize.getWidth(),YF=nn[_n];Yr=ze.charSpace||ew,$r=ze.maxWidth||0,es=Object.assign({autoencode:!0,noBOM:!0},ze.flags);var Hm=[],hy=function(fo){return Oa.getStringUnitWidth(fo,{font:YF,charSpace:Yr,fontSize:Oe,doKerning:!1})*Oe/vA};if("[object Array]"===Object.prototype.toString.call(L)){var Lu;Zt=VE(L),"left"!==sr&&(uf=Zt.map(hy));var eu,Vm=0;if("right"===sr){ue-=uf[0],L=[],Gl=Zt.length;for(var Hp=0;Hp<Gl;Hp++)0===Hp?(eu=mA(ue),Lu=kp(Le)):(eu=R(Vm-uf[Hp]),Lu=-lw),L.push([Zt[Hp],eu,Lu]),Vm=uf[Hp]}else if("center"===sr){ue-=uf[0]/2,L=[],Gl=Zt.length;for(var Vp=0;Vp<Gl;Vp++)0===Vp?(eu=mA(ue),Lu=kp(Le)):(eu=R((Vm-uf[Vp])/2),Lu=-lw),L.push([Zt[Vp],eu,Lu]),Vm=uf[Vp]}else if("left"===sr){L=[],Gl=Zt.length;for(var cw=0;cw<Gl;cw++)L.push(Zt[cw])}else if("justify"===sr&&"Identity-H"===YF.encoding){L=[],Gl=Zt.length,$r=0!==$r?$r:XF;for(var Qp=0,ga=0;ga<Gl;ga++)if(Lu=0===ga?kp(Le):-lw,eu=0===ga?mA(ue):Qp,ga<Gl-1){var WE=R(($r-uf[ga])/(Zt[ga].split(" ").length-1)),tu=Zt[ga].split(" ");L.push([tu[0]+" ",eu,Lu]),Qp=0;for(var hf=1;hf<tu.length;hf++){var uw=(hy(tu[hf-1]+" "+tu[hf])-hy(tu[hf]))*vA+WE;L.push(hf==tu.length-1?[tu[hf],uw,0]:[tu[hf]+" ",uw,0]),Qp-=uw}}else L.push([Zt[ga],eu,Lu]);L.push(["",Qp,0])}else{if("justify"!==sr)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Gl=Zt.length,$r=0!==$r?$r:XF,ga=0;ga<Gl;ga++)Lu=0===ga?kp(Le):-lw,eu=0===ga?mA(ue):0,Hm.push(ga<Gl-1?M(R(($r-uf[ga])/(Zt[ga].split(" ").length-1))):0),L.push([Zt[ga],eu,Lu])}}!0===("boolean"==typeof ze.R2L?ze.R2L:Ue)&&(L=QE(L,function(fo,Ao,ma){return[fo.split("").reverse().join(""),Ao,ma]})),Rn.publish("postProcessText",Mt={text:L,x:ue,y:Le,options:ze,mutex:{pdfEscape:Fa,activeFontKey:_n,fonts:nn,activeFontSize:Oe}}),L=Mt.text,_d=Mt.mutex.isHex||!1;var $E=nn[_n].encoding;"WinAnsiEncoding"!==$E&&"StandardEncoding"!==$E||(L=QE(L,function(fo,Ao,ma){return[$F(fo),Ao,ma]})),Zt=VE(L),L=[];for(var fy,dy,Qm,py=Array.isArray(Zt[0])?1:0,zm="",KE=function(fo,Ao,ma){var tl="";return ma instanceof Zn?(ma="number"==typeof ze.angle?Iu(ma,new Zn(1,0,0,1,fo,Ao)):Iu(new Zn(1,0,0,1,fo,Ao),ma),"advanced"===v&&(ma=Iu(new Zn(1,0,0,-1,0,0),ma)),tl=ma.join(" ")+" Tm\n"):tl=M(fo)+" "+M(Ao)+" Td\n",tl},ff=0;ff<Zt.length;ff++){switch(zm="",py){case 1:Qm=(_d?"<":"(")+Zt[ff][0]+(_d?">":")"),fy=parseFloat(Zt[ff][1]),dy=parseFloat(Zt[ff][2]);break;case 0:Qm=(_d?"<":"(")+Zt[ff]+(_d?">":")"),fy=mA(ue),dy=kp(Le)}void 0!==Hm&&void 0!==Hm[ff]&&(zm=Hm[ff]+" Tw\n"),0===ff?L.push(zm+KE(fy,dy,Zo)+Qm):0===py?L.push(zm+Qm):1===py&&L.push(zm+KE(fy,dy,Zo)+Qm)}L=L.join(0===py?" Tj\nT* ":" Tj\n"),L+=" Tj\n";var df="BT\n/";return df+=_n+" "+Oe+" Tf\n",df+=M(Oe*mh)+" TL\n",df+=cy+"\n",df+=_l,df+=L,W(df+="ET"),d[_n]=!0,Oa};var $6=f.__private__.clip=f.clip=function(L){return W("evenodd"===L?"W*":"W"),this};f.clipEvenOdd=function(){return $6("evenodd")},f.__private__.discardPath=f.discardPath=function(){return W("n"),this};var gA=f.__private__.isValidStyle=function(L){var ue=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)&&(ue=!0),ue};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(L){return gA(L)&&(c=L),this};var HF=f.__private__.getStyle=f.getStyle=function(L){var ue=c;switch(L){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=L}return ue},VF=f.close=function(){return W("h"),this};f.stroke=function(){return W("S"),this},f.fill=function(L){return Jb("f",L),this},f.fillEvenOdd=function(L){return Jb("f*",L),this},f.fillStroke=function(L){return Jb("B",L),this},f.fillStrokeEvenOdd=function(L){return Jb("B*",L),this};var Jb=function(L,ue){"object"===(0,to.A)(ue)?X6(ue,L):W(L)},NE=function(L){null===L||"advanced"===v&&void 0===L||(L=HF(L),W(L))};function K6(L,ue,Le,ze,ot){var Mt=new Z1(ue||this.boundingBox,Le||this.xStep,ze||this.yStep,this.gState,ot||this.matrix);Mt.stream=this.stream;var Zt=L+"$$"+this.cloneIndex+++"$$";return Yo(Zt,Mt),Mt}var X6=function(L,ue){var Le=Ne[L.key],ze=Ke[Le];if(ze instanceof I0)W("q"),W(Y6(ue)),ze.gState&&f.setGState(ze.gState),W(L.matrix.toString()+" cm"),W("/"+Le+" sh"),W("Q");else if(ze instanceof Z1){var ot=new Zn(1,0,0,-1,0,km());L.matrix&&(ot=ot.multiply(L.matrix||gh),Le=K6.call(ze,L.key,L.boundingBox,L.xStep,L.yStep,ot).id),W("q"),W("/Pattern cs"),W("/"+Le+" scn"),ze.gState&&f.setGState(ze.gState),W(ue),W("Q")}},Y6=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},IE=f.moveTo=function(L,ue){return W(M(R(L))+" "+M(k(ue))+" m"),this},ay=f.lineTo=function(L,ue){return W(M(R(L))+" "+M(k(ue))+" l"),this},Lm=f.curveTo=function(L,ue,Le,ze,ot,Mt){return W([M(R(L)),M(k(ue)),M(R(Le)),M(k(ze)),M(R(ot)),M(k(Mt)),"c"].join(" ")),this};f.__private__.line=f.line=function(L,ue,Le,ze,ot){if(isNaN(L)||isNaN(ue)||isNaN(Le)||isNaN(ze)||!gA(ot))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===v?this.lines([[Le-L,ze-ue]],L,ue,[1,1],ot||"S"):this.lines([[Le-L,ze-ue]],L,ue,[1,1]).stroke()},f.__private__.lines=f.lines=function(L,ue,Le,ze,ot,Mt){var Zt,Pn,sr,Yr,$r,bc,_l,_d;if("number"==typeof L&&(_d=Le,Le=ue,ue=L,L=_d),ze=ze||[1,1],Mt=Mt||!1,isNaN(ue)||isNaN(Le)||!Array.isArray(L)||!Array.isArray(ze)||!gA(ot)||"boolean"!=typeof Mt)throw new Error("Invalid arguments passed to jsPDF.lines");for(IE(ue,Le),Zt=ze[0],Pn=ze[1],Yr=L.length,bc=ue,_l=Le,sr=0;sr<Yr;sr++)2===($r=L[sr]).length?ay(bc=$r[0]*Zt+bc,_l=$r[1]*Pn+_l):Lm($r[0]*Zt+bc,$r[1]*Pn+_l,$r[2]*Zt+bc,$r[3]*Pn+_l,bc=$r[4]*Zt+bc,_l=$r[5]*Pn+_l);return Mt&&VF(),NE(ot),this},f.path=function(L){for(var ue=0;ue<L.length;ue++){var Le=L[ue],ze=Le.c;switch(Le.op){case"m":IE(ze[0],ze[1]);break;case"l":ay(ze[0],ze[1]);break;case"c":Lm.apply(this,ze);break;case"h":VF()}}return this},f.__private__.rect=f.rect=function(L,ue,Le,ze,ot){if(isNaN(L)||isNaN(ue)||isNaN(Le)||isNaN(ze)||!gA(ot))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===v&&(ze=-ze),W([M(R(L)),M(k(ue)),M(R(Le)),M(R(ze)),"re"].join(" ")),NE(ot),this},f.__private__.triangle=f.triangle=function(L,ue,Le,ze,ot,Mt,Zt){if(isNaN(L)||isNaN(ue)||isNaN(Le)||isNaN(ze)||isNaN(ot)||isNaN(Mt)||!gA(Zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Le-L,ze-ue],[ot-Le,Mt-ze],[L-ot,ue-Mt]],L,ue,[1,1],Zt,!0),this},f.__private__.roundedRect=f.roundedRect=function(L,ue,Le,ze,ot,Mt,Zt){if(isNaN(L)||isNaN(ue)||isNaN(Le)||isNaN(ze)||isNaN(ot)||isNaN(Mt)||!gA(Zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pn=4/3*(Math.SQRT2-1);return ot=Math.min(ot,.5*Le),Mt=Math.min(Mt,.5*ze),this.lines([[Le-2*ot,0],[ot*Pn,0,ot,Mt-Mt*Pn,ot,Mt],[0,ze-2*Mt],[0,Mt*Pn,-ot*Pn,Mt,-ot,Mt],[2*ot-Le,0],[-ot*Pn,0,-ot,-Mt*Pn,-ot,-Mt],[0,2*Mt-ze],[0,-Mt*Pn,ot*Pn,-Mt,ot,-Mt]],L+ot,ue,[1,1],Zt,!0),this},f.__private__.ellipse=f.ellipse=function(L,ue,Le,ze,ot){if(isNaN(L)||isNaN(ue)||isNaN(Le)||isNaN(ze)||!gA(ot))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Mt=4/3*(Math.SQRT2-1)*Le,Zt=4/3*(Math.SQRT2-1)*ze;return IE(L+Le,ue),Lm(L+Le,ue-Zt,L+Mt,ue-ze,L,ue-ze),Lm(L-Mt,ue-ze,L-Le,ue-Zt,L-Le,ue),Lm(L-Le,ue+Zt,L-Mt,ue+ze,L,ue+ze),Lm(L+Mt,ue+ze,L+Le,ue+Zt,L+Le,ue),NE(ot),this},f.__private__.circle=f.circle=function(L,ue,Le,ze){if(isNaN(L)||isNaN(ue)||isNaN(Le)||!gA(ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,ue,Le,Le,ze)},f.setFont=function(L,ue,Le){return Le&&(ue=b(ue,Le)),_n=Pm(L,ue,{disableWarning:!1}),this};var J6=f.__private__.getFont=f.getFont=function(){return nn[Pm.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var L,ue,Le={};for(L in $)if($.hasOwnProperty(L))for(ue in Le[L]=[],$[L])$[L].hasOwnProperty(ue)&&Le[L].push(ue);return Le},f.addFont=function(L,ue,Le,ze,ot){var Mt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Mt.indexOf(arguments[3])?ot=arguments[3]:arguments[3]&&-1==Mt.indexOf(arguments[3])&&(Le=b(Le,ze)),Ri.call(this,L,ue,Le,ot=ot||"Identity-H")};var ly,FE=n.lineWidth||.200025,Zb=f.__private__.getLineWidth=f.getLineWidth=function(){return FE},QF=f.__private__.setLineWidth=f.setLineWidth=function(L){return FE=L,W(M(R(L))+" w"),this};f.__private__.setLineDash=_r.API.setLineDash=_r.API.setLineDashPattern=function(L,ue){if(L=L||[],ue=ue||0,isNaN(ue)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Le){return M(R(Le))}).join(" "),ue=M(R(ue)),W("["+L+"] "+ue+" d"),this};var zF=f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*ly};f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*ly};var GF=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(L){return"number"==typeof(L=L||1.15)&&(ly=L),this},jF=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ly};GF(n.lineHeight);var mA=f.__private__.getHorizontalCoordinate=function(L){return R(L)},kp=f.__private__.getVerticalCoordinate=function(L){return"advanced"===v?L:Qt[j].mediaBox.topRightY-Qt[j].mediaBox.bottomLeftY-R(L)},Z6=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(L){return M(mA(L))},Um=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(L){return M(kp(L))},yd=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Fu(yd)},f.__private__.setStrokeColor=f.setDrawColor=function(L,ue,Le,ze){return yd=Ru({ch1:L,ch2:ue,ch3:Le,ch4:ze,pdfColorType:"draw",precision:2}),W(yd),this};var RE=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Fu(RE)},f.__private__.setFillColor=f.setFillColor=function(L,ue,Le,ze){return RE=Ru({ch1:L,ch2:ue,ch3:Le,ch4:ze,pdfColorType:"fill",precision:2}),W(RE),this};var cy=n.textColor||"0 g",eV=f.__private__.getTextColor=f.getTextColor=function(){return Fu(cy)};f.__private__.setTextColor=f.setTextColor=function(L,ue,Le,ze){return cy=Ru({ch1:L,ch2:ue,ch3:Le,ch4:ze,pdfColorType:"text",precision:3}),this};var ew=n.charSpace,tV=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ew||0)};f.__private__.setCharSpace=f.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ew=L,this};var OE=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(L){var ue=f.CapJoinStyles[L];if(void 0===ue)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return OE=ue,W(ue+" J"),this};var PE=0;f.__private__.setLineJoin=f.setLineJoin=function(L){var ue=f.CapJoinStyles[L];if(void 0===ue)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return PE=ue,W(ue+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(M(R(L))+" M"),this},f.GState=NN,f.setGState=function(L){(L="string"==typeof L?_t[nt[L]]:qF(null,L)).equals(Dt)||(W("/"+L.id+" gs"),Dt=L)};var qF=function(L,ue){if(!L||!nt[L]){var Le=!1;for(var ze in _t)if(_t.hasOwnProperty(ze)&&_t[ze].equals(ue)){Le=!0;break}if(Le)ue=_t[ze];else{var ot="GS"+(Object.keys(_t).length+1).toString(10);_t[ot]=ue,ue.id=ot}return L&&(nt[L]=ue.id),Rn.publish("addGState",ue),ue}};f.addGState=function(L,ue){return qF(L,ue),this},f.saveGraphicsState=function(){return W("q"),Fe.push({key:_n,size:Oe,color:cy}),this},f.restoreGraphicsState=function(){W("Q");var L=Fe.pop();return _n=L.key,Oe=L.size,cy=L.color,Dt=null,this},f.setCurrentTransformationMatrix=function(L){return W(L.toString()+" cm"),this},f.comment=function(L){return W("#"+L),this};var tw=function(L,ue){var Le=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Le},set:function(Mt){isNaN(Mt)||(Le=parseFloat(Mt))}});var ze=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ze},set:function(Mt){isNaN(Mt)||(ze=parseFloat(Mt))}});var ot="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ot},set:function(Mt){ot=Mt.toString()}}),this},LE=function(L,ue,Le,ze){tw.call(this,L,ue),this.type="rect";var ot=Le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ot},set:function(Zt){isNaN(Zt)||(ot=parseFloat(Zt))}});var Mt=ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Mt},set:function(Zt){isNaN(Zt)||(Mt=parseFloat(Zt))}}),this},UE=function(){this.page=an,this.currentPage=j,this.pages=Se.slice(0),this.pagesContext=Qt.slice(0),this.x=vn,this.y=pn,this.matrix=bn,this.width=uy(j),this.height=km(j),this.outputDestination=xe,this.id="",this.objectNumber=-1};UE.prototype.restore=function(){an=this.page,Qt=this.pagesContext,Se=this.pages,vn=this.x,pn=this.y,bn=this.matrix,kE(j=this.currentPage,this.width),HE(j,this.height),xe=this.outputDestination};var WF=function(L,ue,Le,ze,ot){Xo.push(new UE),an=j=0,Se=[],vn=L,pn=ue,bn=ot,Is([Le,ze])};for(var nw in f.beginFormObject=function(L,ue,Le,ze,ot){return WF(L,ue,Le,ze,ot),this},f.endFormObject=function(L){return function(L){if(gi[L])Xo.pop().restore();else{var ue=new UE,Le="Xo"+(Object.keys(Zi).length+1).toString(10);ue.id=Le,gi[L]=Le,Zi[Le]=ue,Rn.publish("addFormObject",ue),Xo.pop().restore()}}(L),this},f.doFormObject=function(L,ue){var Le=Zi[gi[L]];return W("q"),W(ue.toString()+" cm"),W("/"+Le.id+" Do"),W("Q"),this},f.getFormObject=function(L){var ue=Zi[gi[L]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},f.save=function(L,ue){return L=L||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,!1===ue.returnPromise?(N0(Xb(Up()),L),"function"==typeof N0.unload&&Sr.setTimeout&&setTimeout(N0.unload,911),this):new Promise(function(Le,ze){try{var ot=N0(Xb(Up()),L);"function"==typeof N0.unload&&Sr.setTimeout&&setTimeout(N0.unload,911),Le(ot)}catch(Mt){ze(Mt.message)}})},_r.API)_r.API.hasOwnProperty(nw)&&("events"===nw&&_r.API.events.length?function(L,ue){var ze,ot;for(ot=ue.length-1;-1!==ot;ot--)L.subscribe.apply(L,[ue[ot][0]].concat("function"==typeof(ze=ue[ot][1])?[ze]:ze))}(Rn,_r.API.events):f[nw]=_r.API[nw]);var uy=f.getPageWidth=function(L){return(Qt[L=L||j].mediaBox.topRightX-Qt[L].mediaBox.bottomLeftX)/st},kE=f.setPageWidth=function(L,ue){Qt[L].mediaBox.topRightX=ue*st+Qt[L].mediaBox.bottomLeftX},km=f.getPageHeight=function(L){return(Qt[L=L||j].mediaBox.topRightY-Qt[L].mediaBox.bottomLeftY)/st},HE=f.setPageHeight=function(L,ue){Qt[L].mediaBox.topRightY=ue*st+Qt[L].mediaBox.bottomLeftY};return f.internal={pdfEscape:Fa,getStyle:HF,getFont:J6,getFontSize:J,getCharSpace:tV,getTextColor:eV,getLineHeight:zF,getLineHeightFactor:jF,getLineWidth:Zb,write:Me,getHorizontalCoordinate:mA,getVerticalCoordinate:kp,getCoordinateString:Z6,getVerticalCoordinateString:Um,collections:{},newObject:Uo,newAdditionalObject:md,newObjectDeferred:ko,newObjectDeferredBegin:mc,getFilters:lf,putStream:Ou,events:Rn,scaleFactor:st,pageSize:{getWidth:function(){return uy(j)},setWidth:function(L){kE(j,L)},getHeight:function(){return km(j)},setHeight:function(L){HE(j,L)}},encryptionOptions:u,encryption:_c,getEncryptor:function(L){return null!==u?_c.encryptor(L,0):function(ue){return ue}},output:Yb,getNumberOfPages:yl,pages:Se,out:W,f2:T,f3:B,getPageInfo:kF,getPageInfoByObjId:Qr,getCurrentPageInfo:W6,getPDFVersion:p,Point:tw,Rectangle:LE,Matrix:Zn,hasHotfix:UF},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return uy(j)},set:function(L){kE(j,L)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return km(j)},set:function(L){HE(j,L)},enumerable:!0,configurable:!0}),function(L){for(var ue=0,Le=Pe.length;ue<Le;ue++){var ze=Ri.call(this,L[ue][0],L[ue][1],L[ue][2],Pe[ue][3],!0);!1===h&&(d[ze]=!0);var ot=L[ue][0].split("-");Jo({id:ze,fontName:ot[0],fontStyle:ot[1]||""})}Rn.publish("addFonts",{fonts:nn,dictionary:$})}.call(f,Pe),_n="F1",zl(i,t),Rn.publish("initialized"),f}Y1.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Y1.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Y1.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Y1.prototype.processOwnerPassword=function(n,e){return Yk(Xk(e).substr(0,5),n)},Y1.prototype.encryptor=function(n,e){var t=Xk(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Yk(t,r)}},NN.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||(0,to.A)(n)!==(0,to.A)(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return 0===r},_r.API={events:[]},_r.version="2.5.2";var $o=_r.API,Jk=1,F0=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eb=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jr=function(n){return n.toFixed(2)},dm=function(n){return n.toFixed(5)};$o.__acroform__={};var Su=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},TZ=function(n){return n*Jk},iA=function(n){var e=new NZ,t=$n.internal.getHeight(n)||0,r=$n.internal.getWidth(n)||0;return e.BBox=[0,0,Number(jr(r)),Number(jr(t))],e},uRe=$o.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},hRe=$o.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},fRe=$o.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ua=$o.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fRe(n,e-1)},ha=$o.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uRe(n,e-1)},fa=$o.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hRe(n,e-1)},dRe=$o.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(jr(l.lowerLeft_X)),Number(jr(l.lowerLeft_Y)),Number(jr(l.upperRight_X)),Number(jr(l.upperRight_Y))]},ARe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],r=Zk(n,n._V||n.DV),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+jr(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=iA(n);return s.scope=n.scope,s.stream=e.join("\n"),s}},Zk=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(n.multiline?function(B){return B.split("\n")}:function(B){return[B]});var s=t,o=$n.internal.getHeight(n)||0;o=o<0?-o:o;var B,a=$n.internal.getWidth(n)||0;a=a<0?-a:a,s++;e:for(;s>0;){e="",s--;var c,u,h=IN("3",n,s).height,d=n.multiline?o-s:(o-h)/2,f=d+=2,A=0,p=0,m=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+IN(e,n,s=12).width+", FieldWidth:"+a+"\n";break}for(var g="",y=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var _=!1;if(1!==i[v].length&&m!==i[v].length-1){if((h+2)*(y+2)+2>o)continue e;g+=i[v][m],_=!0,p=v,v--}else{g=" "==(g+=i[v][m]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var C=parseInt(v),b=(B=C)+1<i.length&&IN(g+" "+i[B+1][0],n,s).width<=a-4,M=v>=i.length-1;if(b&&!M){g+=" ",m=0;continue}if(b||M){if(M)p=C;else if(n.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!n.multiline||(h+2)*(y+2)+2>o)continue e;p=C}}for(var D="",x=A;x<=p;x++){var T=i[x];if(n.multiline){if(x===p){D+=T[m]+" ",m=(m+1)%T.length;continue}if(x===A){D+=T[T.length-1]+" ";continue}}D+=T[0]+" "}switch(D=" "==D.substr(D.length-1)?D.substr(0,D.length-1):D,u=IN(D,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=jr(c)+" "+jr(f)+" Td\n",e+="("+F0(D)+") Tj\n",e+=-jr(c)+" 0 Td\n",f=-(s+2),u=0,A=_?p:p+1,y++,g=""}break}return r.text=e,r.fontSize=s,r},IN=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},pRe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gRe=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},BZ=$o.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(0!==s&&(i+=" "),(0,to.A)(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":"/"!==n[s].substr(0,1)?(void 0!==e&&t&&(r=t.internal.getEncryptor(e)),i+="("+F0(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},eH=function(n,e,t){var r=function(i){return i};return void 0!==e&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+F0(r(n))+")"},sA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sA.prototype.toString=function(){return this.objId+" 0 R"},sA.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},sA.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:BZ(i,this.objId,this.scope)}):i instanceof sA?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&n.push({key:r,value:i}))}return n};var NZ=function(){sA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Su(NZ,sA);var IZ=function(){sA.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+F0(t(n))+")"}},set:function(t){n=t}})};Su(IZ,sA);var ed=function n(){sA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ua(e,3)},set:function(g){this.F=g?ha(e,3):fa(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');t=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(g){r=void 0!==g?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ON)return;s="FieldObject"+n.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+F0(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Jk:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof ON||this instanceof R0))return eH(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof dl?d:eH(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=this instanceof dl?g:"("===g.substr(0,1)?eb(g.substr(1,g.length-2)):eb(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof dl?eb(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof dl?"/"+g:g}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof dl?f:eH(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=this instanceof dl?g:"("===g.substr(0,1)?eb(g.substr(1,g.length-2)):eb(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof dl?eb(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof dl?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(g){p=g=!!g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(g){A=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,1)},set:function(g){this.Ff=g?ha(this.Ff,1):fa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,2)},set:function(g){this.Ff=g?ha(this.Ff,2):fa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,3)},set:function(g){this.Ff=g?ha(this.Ff,3):fa(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(g){if(-1===[0,1,2].indexOf(g))throw new Error('Invalid value "'+g+'" for attribute Q supplied.');m=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(m){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};Su(ed,sA);var tb=function(){ed.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return BZ(e,this.objId,this.scope)},set:function(t){var r,i;i=[],"string"==typeof(r=t)&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,18)},set:function(t){this.Ff=t?ha(this.Ff,18):fa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?ha(this.Ff,19):fa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,20)},set:function(t){t?(this.Ff=ha(this.Ff,20),e.sort()):this.Ff=fa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,22)},set:function(t){this.Ff=t?ha(this.Ff,22):fa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(t){this.Ff=t?ha(this.Ff,23):fa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,27)},set:function(t){this.Ff=t?ha(this.Ff,27):fa(this.Ff,27)}}),this.hasAppearanceStream=!1};Su(tb,ed);var nb=function(){tb.call(this),this.fontName="helvetica",this.combo=!1};Su(nb,tb);var rb=function(){nb.call(this),this.combo=!0};Su(rb,nb);var FN=function(){rb.call(this),this.edit=!0};Su(FN,rb);var dl=function(){ed.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,15)},set:function(t){this.Ff=t?ha(this.Ff,15):fa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,16)},set:function(t){this.Ff=t?ha(this.Ff,16):fa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,17)},set:function(t){this.Ff=t?ha(this.Ff,17):fa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(t){this.Ff=t?ha(this.Ff,26):fa(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+F0(t(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===(0,to.A)(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Su(dl,ed);var RN=function(){dl.call(this),this.pushButton=!0};Su(RN,dl);var ib=function(){dl.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};Su(ib,dl);var ON=function(){var n,e;ed.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+F0(i(r[s]))+")");return o.push(">>"),o.join("\n")},set:function(i){"object"===(0,to.A)(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$n.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Su(ON,ed),ib.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},ib.prototype.createOption=function(n){var e=new ON;return e.Parent=this,e.optionName=n,this.Kids.push(e),yRe.call(this.scope,e),e};var PN=function(){dl.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$n.CheckBox.createAppearanceStream()};Su(PN,dl);var R0=function(){ed.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,13)},set:function(e){this.Ff=e?ha(this.Ff,13):fa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,21)},set:function(e){this.Ff=e?ha(this.Ff,21):fa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(e){this.Ff=e?ha(this.Ff,23):fa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,24)},set:function(e){this.Ff=e?ha(this.Ff,24):fa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,25)},set:function(e){this.Ff=e?ha(this.Ff,25):fa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(e){this.Ff=e?ha(this.Ff,26):fa(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Su(R0,ed);var LN=function(){R0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,14)},set:function(n){this.Ff=n?ha(this.Ff,14):fa(this.Ff,14)}}),this.password=!0};Su(LN,R0);var $n={CheckBox:{createAppearanceStream:function(){return{N:{On:$n.CheckBox.YesNormal},D:{On:$n.CheckBox.YesPushDown,Off:$n.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=iA(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=Zk(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+jr($n.internal.getWidth(n))+" "+jr($n.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+jr(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=iA(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=$n.internal.getHeight(n),o=$n.internal.getWidth(n),a=Zk(n,n.caption);return i.push("1 g"),i.push("0 0 "+jr(o)+" "+jr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+jr(o-1)+" "+jr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+jr(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=iA(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+jr($n.internal.getWidth(n))+" "+jr($n.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:$n.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=$n.RadioButton.Circle.YesNormal,e.D[n]=$n.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=iA(n);e.scope=n.scope;var t=[],r=$n.internal.getWidth(n)<=$n.internal.getHeight(n)?$n.internal.getWidth(n)/4:$n.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((r*$n.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+dm($n.internal.getWidth(n)/2)+" "+dm($n.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=iA(n);e.scope=n.scope;var t=[],r=$n.internal.getWidth(n)<=$n.internal.getHeight(n)?$n.internal.getWidth(n)/4:$n.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$n.internal.Bezier_C).toFixed(5)),o=Number((r*$n.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+dm($n.internal.getWidth(n)/2)+" "+dm($n.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+dm($n.internal.getWidth(n)/2)+" "+dm($n.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=iA(n);e.scope=n.scope;var t=[],r=$n.internal.getWidth(n)<=$n.internal.getHeight(n)?$n.internal.getWidth(n)/4:$n.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$n.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+dm($n.internal.getWidth(n)/2)+" "+dm($n.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:$n.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=$n.RadioButton.Cross.YesNormal,e.D[n]=$n.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=iA(n);e.scope=n.scope;var t=[],r=$n.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+jr($n.internal.getWidth(n)-2)+" "+jr($n.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(jr(r.x1.x)+" "+jr(r.x1.y)+" m"),t.push(jr(r.x2.x)+" "+jr(r.x2.y)+" l"),t.push(jr(r.x4.x)+" "+jr(r.x4.y)+" m"),t.push(jr(r.x3.x)+" "+jr(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=iA(n);e.scope=n.scope;var t=$n.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+jr($n.internal.getWidth(n))+" "+jr($n.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+jr($n.internal.getWidth(n)-2)+" "+jr($n.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(jr(t.x1.x)+" "+jr(t.x1.y)+" m"),r.push(jr(t.x2.x)+" "+jr(t.x2.y)+" l"),r.push(jr(t.x4.x)+" "+jr(t.x4.y)+" m"),r.push(jr(t.x3.x)+" "+jr(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=iA(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+jr($n.internal.getWidth(n))+" "+jr($n.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};$n.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=$n.internal.getWidth(n),t=$n.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},$n.internal.getWidth=function(n){var e=0;return"object"===(0,to.A)(n)&&(e=TZ(n.Rect[2])),e},$n.internal.getHeight=function(n){var e=0;return"object"===(0,to.A)(n)&&(e=TZ(n.Rect[3])),e};var n,e,yRe=$o.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(ed.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(pRe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Jk=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new IZ,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&gRe(s,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=dRe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=$n.createDefaultAppearanceStream(a),"object"===(0,to.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=ARe(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var f=a.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var A=f[o];"function"==typeof A&&(A=A.call(i,a)),h+="/"+o+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else"function"==typeof(A=f)&&(A=A.call(i,a)),h+="/"+o+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);h+=">>"}l.push({key:"AP",value:"<<\n"+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),"object"===(0,to.A)(i)&&"function"==typeof i.putStream&&i.putStream(),delete n[r]}}(i.internal.acroformPlugin.xForms,i)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof ed))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function FZ(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}$o.AcroFormChoiceField=tb,$o.AcroFormListBox=nb,$o.AcroFormComboBox=rb,$o.AcroFormEditBox=FN,$o.AcroFormButton=dl,$o.AcroFormPushButton=RN,$o.AcroFormRadioButton=ib,$o.AcroFormCheckBox=PN,$o.AcroFormTextField=R0,$o.AcroFormPasswordField=LN,$o.AcroFormAppearance=$n,$o.AcroForm={ChoiceField:tb,ListBox:nb,ComboBox:rb,EditBox:FN,Button:dl,PushButton:RN,RadioButton:ib,CheckBox:PN,TextField:R0,PasswordField:LN,Appearance:$n},_r.AcroForm={ChoiceField:tb,ListBox:nb,ComboBox:rb,EditBox:FN,Button:dl,PushButton:RN,RadioButton:ib,CheckBox:PN,TextField:R0,PasswordField:LN,Appearance:$n},function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(B,R){var U,k,q,O,P,G=e;if("RGBA"===(R=R||e)||void 0!==B.data&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(b(B))for(P in t)for(q=t[P],U=0;U<q.length;U+=1){for(O=!0,k=0;k<q[U].length;k+=1)if(void 0!==q[U][k]&&q[U][k]!==B[k]){O=!1;break}if(!0===O){G=P;break}}else for(P in t)for(q=t[P],U=0;U<q.length;U+=1){for(O=!0,k=0;k<q[U].length;k+=1)if(void 0!==q[U][k]&&q[U][k]!==B.charCodeAt(k)){O=!1;break}if(!0===O){G=P;break}}return G===e&&R!==e&&(G=R),G},i=function B(R){for(var U=this.internal.write,k=this.internal.putStream,q=(0,this.internal.getFilters)();-1!==q.indexOf("FlateEncode");)q.splice(q.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var O=[];if(O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Image"}),O.push({key:"Width",value:R.width}),O.push({key:"Height",value:R.height}),R.colorSpace===m.INDEXED?O.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&void 0!==R.sMask?R.objectId+2:R.objectId+1)+" 0 R]"}):(O.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===m.DEVICE_CMYK&&O.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),O.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&void 0!==R.decodeParameters&&O.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var P="",G=0,H=R.transparency.length;G<H;G++)P+=R.transparency[G]+" "+R.transparency[G]+" ";O.push({key:"Mask",value:"["+P+"]"})}if(void 0!==R.sMask&&O.push({key:"SMask",value:R.objectId+1+" 0 R"}),k({data:R.data,additionalKeyValues:O,alreadyAppliedFilters:void 0!==R.filter?["/"+R.filter]:void 0,objectId:R.objectId}),U("endobj"),"sMask"in R&&void 0!==R.sMask){var Q={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:"/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,data:R.sMask};"filter"in R&&(Q.filter=R.filter),B.call(this,Q)}if(R.colorSpace===m.INDEXED){var j=this.internal.newObject();k({data:D(new Uint8Array(R.palette)),objectId:j}),U("endobj")}},s=function(){var B=this.internal.collections.addImage_images;for(var R in B)i.call(this,B[R])},o=function(){var B,R=this.internal.collections.addImage_images,U=this.internal.write;for(var k in R)U("/I"+(B=R[k]).index,B.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var B=this.internal.collections.addImage_images;return a.call(this),B},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(B){return"function"==typeof n["process"+B.toUpperCase()]},h=function(B){return"object"===(0,to.A)(B)&&1===B.nodeType},d=function(B,R){if("IMG"===B.nodeName&&B.hasAttribute("src")){var U=""+B.getAttribute("src");if(0===U.indexOf("data:image/"))return kx(unescape(U).split("base64,").pop());var k=n.loadFile(U,!0);if(void 0!==k)return k}if("CANVAS"===B.nodeName){if(0===B.width||0===B.height)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var q;switch(R){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;default:q="image/jpeg"}return kx(B.toDataURL(q,1).split("base64,").pop())}},f=function(B){var R=this.internal.collections.addImage_images;if(R)for(var U in R)if(B===R[U].alias)return R[U]},A=function(B,R,U){return B||R||(B=-96,R=-96),B<0&&(B=-1*U.width*72/B/this.internal.scaleFactor),R<0&&(R=-1*U.height*72/R/this.internal.scaleFactor),0===B&&(B=R*U.width/U.height),0===R&&(R=B*U.height/U.width),[B,R]},p=function(B,R,U,k,q,O){var P=A.call(this,U,k,q),G=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,ae=l.call(this);if(U=P[0],k=P[1],ae[q.index]=q,O){O*=Math.PI/180;var ve=Math.cos(O),Q=Math.sin(O),j=function(oe){return oe.toFixed(4)},K=[j(ve),j(Q),j(-1*Q),j(ve),0,0,"cm"]}this.internal.write("q"),O?(this.internal.write([1,"0","0",1,G(B),H(R+k),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([G(U),"0","0",G(k),"0","0","cm"].join(" "))):this.internal.write([G(U),"0","0",G(k),G(B),H(R+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},m=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=n.__addimage__.sHashCode=function(B){var R,U,k=0;if("string"==typeof B)for(U=B.length,R=0;R<U;R++)k=(k<<5)-k+B.charCodeAt(R),k|=0;else if(b(B))for(U=B.byteLength/2,R=0;R<U;R++)k=(k<<5)-k+B[R],k|=0;return k},v=n.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var R=!0;return 0===B.length&&(R=!1),B.length%4!=0&&(R=!1),!1===/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))&&(R=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))&&(R=!1),R},_=n.__addimage__.extractImageFromDataUrl=function(B){var R=(B=B||"").split("base64,"),U=null;if(2===R.length){var k=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(k)&&(U={mimeType:k[1],charset:k[2],data:R[1]})}return U},C=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(B){return C()&&B instanceof ArrayBuffer};var b=n.__addimage__.isArrayBufferView=function(B){return C()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},M=n.__addimage__.binaryStringToUint8Array=function(B){for(var R=B.length,U=new Uint8Array(R),k=0;k<R;k++)U[k]=B.charCodeAt(k);return U},D=n.__addimage__.arrayBufferToBinaryString=function(B){for(var R="",U=b(B)?B:new Uint8Array(B),k=0;k<U.length;k+=8192)R+=String.fromCharCode.apply(null,U.subarray(k,k+8192));return R};n.addImage=function(){var B,R,U,k,q,O,P,G,H;if("number"==typeof arguments[1]?(R=e,U=arguments[1],k=arguments[2],q=arguments[3],O=arguments[4],P=arguments[5],G=arguments[6],H=arguments[7]):(R=arguments[1],U=arguments[2],k=arguments[3],q=arguments[4],O=arguments[5],P=arguments[6],G=arguments[7],H=arguments[8]),"object"===(0,to.A)(B=arguments[0])&&!h(B)&&"imageData"in B){var ae=B;B=ae.imageData,R=ae.format||R||e,U=ae.x||U||0,k=ae.y||k||0,q=ae.w||ae.width||q,O=ae.h||ae.height||O,P=ae.alias||P,G=ae.compression||G,H=ae.rotation||ae.angle||H}var ve=this.internal.getFilters();if(void 0===G&&-1!==ve.indexOf("FlateEncode")&&(G="SLOW"),isNaN(U)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var Q=x.call(this,B,R,P,G);return p.call(this,U,k,q,O,Q,H),this};var x=function(B,R,U,k){var q,O,P,H;if("string"==typeof B&&r(B)===e){B=unescape(B);var G=T(B,!1);(""!==G||void 0!==(G=n.loadFile(B,!0)))&&(B=G)}if(h(B)&&(B=d(B,R)),R=r(B,R),!u(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if((null==(P=U)||0===P.length)&&(U="string"==typeof(H=B)||b(H)?y(H):b(H.data)?y(H.data):null),(q=f.call(this,U))||(C()&&(B instanceof Uint8Array||"RGBA"===R||(O=B,B=M(B))),q=this["process"+R.toUpperCase()](B,c.call(this),U,function(H){return H&&"string"==typeof H&&(H=H.toUpperCase()),H in n.image_compression?H:g.NONE}(k),O)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},T=n.__addimage__.convertBase64ToBinaryString=function(B,R){var U;R="boolean"!=typeof R||R;var k,q="";if("string"==typeof B){k=null!==(U=_(B))?U.data:B;try{q=kx(k)}catch(O){if(R)throw v(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+O.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};n.getImageProperties=function(B){var R,U,k="";if(h(B)&&(B=d(B)),"string"==typeof B&&r(B)===e&&(""===(k=T(B,!1))&&(k=n.loadFile(B)||""),B=k),U=r(B),!u(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!C()||B instanceof Uint8Array||(B=M(B)),!(R=this["process"+U.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=U,R}}(_r.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
n=_r.API,e=function(t){if(void 0!==t&&""!=t)return!0},_r.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){r=c[d];var f=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),y=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(g(r.contents))+")",s+=" /Popup "+m.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(g(y))+") >>",p.content=s;var v=p.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+v,r.open&&(s+=" /Open true"),m.content=s+=" >>",this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var _=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(A(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var b=a(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+b+" "+r.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var u=this.splitTextToSize(t,a=s.maxWidth).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),"center"===s.align&&(r-=l/2),"right"===s.align&&(r-=l),this.link(r,(i+=.2*c)-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(p){return void 0!==e[p.charCodeAt(0)]},o=n.__arabicParser__.isArabicLetter=function(p){return"string"==typeof p&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},a=n.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&i.indexOf(p.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&s(p)&&4==e[p.charCodeAt(0)].length},h=n.__arabicParser__.resolveLigatures=function(p){var m=0,g=t,y="",v=0;for(m=0;m<p.length;m+=1)void 0!==g[p.charCodeAt(m)]?(v++,"number"==typeof(g=g[p.charCodeAt(m)])&&(y+=String.fromCharCode(g),g=t,v=0),m===p.length-1&&(g=t,y+=p.charAt(m-(v-1)),m-=v-1,v=0)):(g=t,y+=p.charAt(m-v),m-=v,v=0);return y};n.__arabicParser__.isArabicDiacritic=function(p){return void 0!==p&&void 0!==r[p.charCodeAt(0)]};var d=n.__arabicParser__.getCorrectForm=function(p,m,g){return o(p)?!1===s(p)?-1:!c(p)||!o(m)&&!o(g)||!o(g)&&a(m)||a(p)&&!o(m)||a(p)&&l(m)||a(p)&&a(m)?0:u(p)&&o(m)&&!a(m)&&o(g)&&c(g)?3:a(p)||!o(g)?1:2:-1},f=function(p){var m=0,g=0,y=0,v="",_="",C="",b=(p=p||"").split("\\s+"),M=[];for(m=0;m<b.length;m+=1){for(M.push(""),g=0;g<b[m].length;g+=1)_=b[m][g-1],C=b[m][g+1],o(v=b[m][g])?(y=d(v,_,C),M[m]+=-1!==y?String.fromCharCode(e[v.charCodeAt(0)][y]):v):M[m]+=v;M[m]=h(M[m])}return M.join(" ")},A=n.__arabicParser__.processArabic=n.processArabic=function(){var p,m="string"==typeof arguments[0]?arguments[0]:arguments[0].text,g=[];if(Array.isArray(m)){var y=0;for(g=[],y=0;y<m.length;y+=1)Array.isArray(m[y])?g.push([f(m[y][0]),m[y][1],m[y][2]]):g.push([f(m[y])]);p=g}else p=f(m);return"string"==typeof arguments[0]?p:(arguments[0].text=p,arguments[0])};n.events.push(["preProcessText",A])}(_r.API),_r.API.autoPrint=function(n){var e;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if("2d"!==(t=t||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_r.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(p){A=p}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,f=0,A=0,p=0,m=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?"string"==typeof l?l=this.splitTextToSize(l,g):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(v,_){return v.concat(m.splitTextToSize(_,g))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)f<(p=this.getStringUnitWidth(l[y],{font:h})*u)&&(f=p);return 0!==f&&(A=l.length),{w:f/=d,h:Math.max((A*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===t?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,h,d){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,A,p,m,g=[],y=[],v=[],_={},C={},b=[],M=[],D=(d=d||{}).autoSize||!1,x=!1!==d.printHeaders,T=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,B=d.margins||Object.assign({width:this.getPageWidth()},e),R="number"==typeof d.padding?d.padding:3,U=d.headerBackgroundColor||"#c8c8c8",k=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=x,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=k,this.setFontSize(T),null==h)y=g=Object.keys(u[0]),v=g.map(function(){return"left"});else if(Array.isArray(h)&&"object"===(0,to.A)(h[0]))for(g=h.map(function(ae){return ae.name}),y=h.map(function(ae){return ae.prompt||ae.name||""}),v=h.map(function(ae){return ae.align||"left"}),f=0;f<h.length;f+=1)C[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&"string"==typeof h[0]&&(y=g=h,v=g.map(function(){return"left"}));if(D||Array.isArray(h)&&"string"==typeof h[0])for(f=0;f<g.length;f+=1){for(_[m=g[f]]=u.map(function(ae){return ae[m]}),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=_[m],this.setFont(void 0,"normal"),p=0;p<A.length;p+=1)b.push(this.getTextDimensions(A[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[m]=Math.max.apply(null,b)+R+R,b=[]}if(x){var q={};for(f=0;f<g.length;f+=1)q[g[f]]={},q[g[f]].text=y[f],q[g[f]].align=v[f];var O=a.call(this,q,C);M=g.map(function(ae){return new s(l,c,C[ae],O,q[ae].text,void 0,q[ae].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var P=h.reduce(function(ae,ve){return ae[ve.name]=ve.align,ae},{});for(f=0;f<u.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:u[f]},this);var G=a.call(this,u[f],C);for(p=0;p<g.length;p+=1){var H=u[f][g[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:p,data:H},this),o.call(this,new s(l,c,C[g[p]],G,H,f+2,P[g[p]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var A=l[f];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+u+u},this).reduce(function(f,A){return Math.max(f,A)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(A)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),t=!1}}(_r.API);var RZ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},OZ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tH=FZ(OZ),PZ=[100,200,300,400,500,600,700,800,900],_Re=FZ(PZ);function nH(n){var s,e=n.family.replace(/"|'/g,"").toLowerCase(),t=RZ[s=(s=n.style)||"normal"]?s:"normal",r=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(n.weight),i=function(s){return"number"==typeof tH[s=s||"normal"]?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function LZ(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var bRe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},UZ={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kZ(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function HZ(n){return n.trimLeft()}function CRe(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function SRe(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var UN,VZ,QZ,rH=["times"];(function(n){var e,t,r,i,s,o,a,l,c,u=function(Q){return this.isStrokeTransparent=(Q=Q||{}).isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=void 0!==Q.transform?Q.transform.clone():new l,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof Q.ignoreClearRect||Q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=Q;Object.defineProperty(this,"pdf",{get:function(){return j}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(Y){K=!!Y}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(Y){oe=!!Y}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Y){isNaN(Y)||(se=Y)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Y){isNaN(Y)||(le=Y)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Y){var W;"number"==typeof Y?W=[Y,Y,Y,Y]:((W=new Array(4))[0]=Y[0],W[1]=Y.length>=2?Y[1]:W[0],W[2]=Y.length>=3?Y[2]:W[0],W[3]=Y.length>=4?Y[3]:W[1]),c.margin=W}});var te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return te},set:function(Y){te=Y}});var ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return ee},set:function(Y){ee=Y}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(Y){Ae=Y}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Y){Y instanceof u&&(c=Y)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Y){c.path=Y}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(Y){Se=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var W;W=d(Y),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=0===W.a,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var W=d(Y);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=0===W.a,this.ctx.strokeOpacity=W.a,0===W.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(W.r,W.g,W.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){-1!==["butt","round","square"].indexOf(Y)&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){-1!==["bevel","round","miter"].indexOf(Y)&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){-1!==["right","end","center","left","start"].indexOf(Y)&&(this.ctx.textAlign=Y)}});var ge=null,ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return ne},set:function(Y){ge=null,ne=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var W;if(this.ctx.font=Y,null!==(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Y))){var Me=W[1],Ce=W[3],Pe=W[4],Oe=W[6],re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor("px"===re?parseFloat(Pe)*this.pdf.internal.scaleFactor:"em"===re?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var J=function(Tt){var _n,st,vn=[],pn=Tt.trim();if(""===pn)return rH;if(pn in UZ)return[UZ[pn]];for(;""!==pn;){switch(st=null,_n=(pn=HZ(pn)).charAt(0)){case'"':case"'":st=CRe(pn.substring(1),_n);break;default:st=SRe(pn)}if(null===st||(vn.push(st[0]),""!==(pn=HZ(st[1]))&&","!==pn.charAt(0)))return rH;pn=pn.replace(/^,/,"")}return vn}(Oe);if(this.fontFaces){var Ue=function wRe(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},bRe,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=nH(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+kZ(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=tH[l],d=LZ(c,OZ,u,u<=tH.normal?-1:1);if(!d)throw new Error("Could not find a matching font-stretch value for "+l);return d}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=RZ[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(400===l&&c[500])return c[500];if(500===l&&c[400])return c[400];var h=LZ(c,PZ,_Re[l],l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+kZ(s)+"'.");return o}(function xe(Y,W){if(null===ge){var Me=(Ce=Y.getFontList(),Pe=[],Object.keys(Ce).forEach(function(Oe){Ce[Oe].forEach(function(re){var J=null;switch(re){case"bold":J={family:Oe,weight:"bold"};break;case"italic":J={family:Oe,style:"italic"};break;case"bolditalic":J={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":J={family:Oe}}null!==J&&(J.ref={name:Oe,style:re},Pe.push(J))})}),Pe);ge=function(Ce){for(var Pe={},Oe=0;Oe<Ce.length;++Oe){var re=nH(Ce[Oe]),J=re.family,Ue=re.stretch,Qe=re.style,rt=re.weight;Pe[J]=Pe[J]||{},Pe[J][Ue]=Pe[J][Ue]||{},Pe[J][Ue][Qe]=Pe[J][Ue][Qe]||{},Pe[J][Ue][Qe][rt]=re}return Pe}(Me.concat(W))}var Ce,Pe;return ge}(this.pdf,this.fontFaces),J.map(function(Tt){return{family:Tt,stretch:"normal",weight:Ce,style:Me}}));this.pdf.setFont(Ue.ref.name,Ue.ref.style)}else{var Qe="";("bold"===Ce||parseInt(Ce,10)>=700||"bold"===Me)&&(Qe="bold"),"italic"===Me&&(Qe+="italic"),0===Qe.length&&(Qe="normal");for(var rt="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Lt=0;Lt<J.length;Lt++){if(void 0!==this.pdf.internal.getFont(J[Lt],Qe,{noFallback:!0,disableWarning:!0})){rt=J[Lt];break}if("bolditalic"===Qe&&void 0!==this.pdf.internal.getFont(J[Lt],"bold",{noFallback:!0,disableWarning:!0}))rt=J[Lt],Qe="bold";else if(void 0!==this.pdf.internal.getFont(J[Lt],"normal",{noFallback:!0,disableWarning:!0})){rt=J[Lt],Qe="normal";break}}if(""===rt)for(var Ft=0;Ft<J.length;Ft++)if(Xe[J[Ft]]){rt=Xe[J[Ft]];break}this.pdf.setFont(rt=""===rt?"Times":rt,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};h.prototype.setLineDash=function(Q){this.lineDash=Q},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){_.call(this,"fill",!1)},h.prototype.stroke=function(){_.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(Q,j){if(isNaN(Q)||isNaN(j))throw no.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(Q,j)},h.prototype.closePath=function(){var Q=new o(0,0),j=0;for(j=this.path.length-1;-1!==j;j--)if("begin"===this.path[j].type&&"object"===(0,to.A)(this.path[j+1])&&"number"==typeof this.path[j+1].x){Q=new o(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.lineTo=function(Q,j){if(isNaN(Q)||isNaN(j))throw no.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},h.prototype.quadraticCurveTo=function(Q,j,K,oe){if(isNaN(K)||isNaN(oe)||isNaN(Q)||isNaN(j))throw no.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(K,oe)),le=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"qct",x1:le.x,y1:le.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},h.prototype.bezierCurveTo=function(Q,j,K,oe,se,le){if(isNaN(se)||isNaN(le)||isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw no.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var te=this.ctx.transform.applyToPoint(new o(se,le)),ee=this.ctx.transform.applyToPoint(new o(Q,j)),Ae=this.ctx.transform.applyToPoint(new o(K,oe));this.path.push({type:"bct",x1:ee.x,y1:ee.y,x2:Ae.x,y2:Ae.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},h.prototype.arc=function(Q,j,K,oe,se,le){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe)||isNaN(se))throw no.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var te=this.ctx.transform.applyToPoint(new o(Q,j));Q=te.x,j=te.y;var ee=this.ctx.transform.applyToPoint(new o(0,K)),Ae=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(ee.x-Ae.x,2)+Math.pow(ee.y-Ae.y,2))}Math.abs(se-oe)>=2*Math.PI&&(oe=0,se=2*Math.PI),this.path.push({type:"arc",x:Q,y:j,radius:K,startAngle:oe,endAngle:se,counterclockwise:le})},h.prototype.arcTo=function(Q,j,K,oe,se){throw new Error("arcTo not implemented.")},h.prototype.rect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw no.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,j),this.lineTo(Q+K,j),this.lineTo(Q+K,j+oe),this.lineTo(Q,j+oe),this.lineTo(Q,j),this.lineTo(Q+K,j),this.lineTo(Q,j)},h.prototype.fillRect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw no.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var se={};"butt"!==this.lineCap&&(se.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,j,K,oe),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},h.prototype.strokeRect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw no.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(Q,j,K,oe),this.stroke())},h.prototype.clearRect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw no.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,j,K,oe))},h.prototype.save=function(Q){Q="boolean"!=typeof Q||Q;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},h.prototype.restore=function(Q){Q="boolean"!=typeof Q||Q;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(j),Q&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(Q){var j,K,oe,se;if(!0===Q.isCanvasGradient&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))j=0,K=0,oe=0,se=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(null!==le)j=parseInt(le[1]),K=parseInt(le[2]),oe=parseInt(le[3]),se=1;else if(null!==(le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q)))j=parseInt(le[1]),K=parseInt(le[2]),oe=parseInt(le[3]),se=parseFloat(le[4]);else{if(se=1,"string"==typeof Q&&"#"!==Q.charAt(0)){var te=new CZ(Q);Q=te.ok?te.toHex():"#000000"}4===Q.length?(j=Q.substring(1,2),j+=j,K=Q.substring(2,3),K+=K,oe=Q.substring(3,4),oe+=oe):(j=Q.substring(1,3),K=Q.substring(3,5),oe=Q.substring(5,7)),j=parseInt(j,16),K=parseInt(K,16),oe=parseInt(oe,16)}}return{r:j,g:K,b:oe,a:se,style:Q}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},A=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};h.prototype.fillText=function(Q,j,K,oe){if(isNaN(j)||isNaN(K)||"string"!=typeof Q)throw no.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!f.call(this)){var se=G(this.ctx.transform.rotation);R.call(this,{text:Q,x:j,y:K,scale:this.ctx.transform.scaleX,angle:se,align:this.textAlign,maxWidth:oe})}},h.prototype.strokeText=function(Q,j,K,oe){if(isNaN(j)||isNaN(K)||"string"!=typeof Q)throw no.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){oe=isNaN(oe)?void 0:oe;var se=G(this.ctx.transform.rotation);R.call(this,{text:Q,x:j,y:K,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:oe})}},h.prototype.measureText=function(Q){if("string"!=typeof Q)throw no.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,K=this.pdf.internal.scaleFactor,oe=j.internal.getFontSize(),se=j.getStringUnitWidth(Q)*oe/j.internal.scaleFactor;return new function(te){var ee=(te=te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this}({width:se*=Math.round(96*K/72*1e4)/1e4})},h.prototype.scale=function(Q,j){if(isNaN(Q)||isNaN(j))throw no.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(Q,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.rotate=function(Q){if(isNaN(Q))throw no.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new l(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},h.prototype.translate=function(Q,j){if(isNaN(Q)||isNaN(j))throw no.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,Q,j);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.transform=function(Q,j,K,oe,se,le){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe)||isNaN(se)||isNaN(le))throw no.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var te=new l(Q,j,K,oe,se,le);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.setTransform=function(Q,j,K,oe,se,le){Q=isNaN(Q)?1:Q,j=isNaN(j)?0:j,K=isNaN(K)?0:K,oe=isNaN(oe)?1:oe,se=isNaN(se)?0:se,le=isNaN(le)?0:le,this.ctx.transform=new l(Q,j,K,oe,se,le)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(Q,j,K,oe,se,le,te,ee,Ae){var Se=this.pdf.getImageProperties(Q),ge=1,xe=1,ne=1,Y=1;void 0!==oe&&void 0!==ee&&(ne=ee/oe,Y=Ae/se,ge=Se.width/oe*ee/oe,xe=Se.height/se*Ae/se),void 0===le&&(le=j,te=K,j=0,K=0),void 0!==oe&&void 0===ee&&(ee=oe,Ae=se),void 0===oe&&void 0===ee&&(ee=Se.width,Ae=Se.height);for(var W,Me=this.ctx.transform.decompose(),Ce=G(Me.rotate.shx),Pe=new l,Oe=(Pe=(Pe=(Pe=Pe.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new a(le-j*ne,te-K*Y,oe*ge,se*xe)),re=m.call(this,Oe),J=[],Ue=0;Ue<re.length;Ue+=1)-1===J.indexOf(re[Ue])&&J.push(re[Ue]);if(v(J),this.autoPaging)for(var Qe=J[0],rt=J[J.length-1],Xe=Qe;Xe<rt+1;Xe++){this.pdf.setPage(Xe);var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=1===Xe?this.posY+this.margin[0]:this.margin[0],_n=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=1===Xe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Xe-2)*_n;if(0!==this.ctx.clip_path.length){var vn=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(W,this.posX+this.margin[3],-st+Ft+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=vn}var pn=JSON.parse(JSON.stringify(Oe));pn=y([pn],this.posX+this.margin[3],-st+Ft+this.ctx.prevPageLastElemOffset)[0];var bn=(Xe>Qe||Xe<rt)&&p.call(this);bn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,_n,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",pn.x,pn.y,pn.w,pn.h,null,null,Ce),bn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Ce)};var m=function(Q,j,K){var oe=[];j=j||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":oe.push(Math.floor((Q.y+se)/K)+1);break;case"arc":oe.push(Math.floor((Q.y+se-Q.radius)/K)+1),oe.push(Math.floor((Q.y+se+Q.radius)/K)+1);break;case"qct":var le=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);oe.push(Math.floor((le.y+se)/K)+1),oe.push(Math.floor((le.y+le.h+se)/K)+1);break;case"bct":var te=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);oe.push(Math.floor((te.y+se)/K)+1),oe.push(Math.floor((te.y+te.h+se)/K)+1);break;case"rect":oe.push(Math.floor((Q.y+se)/K)+1),oe.push(Math.floor((Q.y+Q.h+se)/K)+1)}for(var ee=0;ee<oe.length;ee+=1)for(;this.pdf.internal.getNumberOfPages()<oe[ee];)g.call(this);return oe},g=function(){var Q=this.fillStyle,j=this.strokeStyle,K=this.font,oe=this.lineCap,se=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=j,this.font=K,this.lineCap=oe,this.lineWidth=se,this.lineJoin=le},y=function(Q,j,K){for(var oe=0;oe<Q.length;oe++)switch(Q[oe].type){case"bct":Q[oe].x2+=j,Q[oe].y2+=K;case"qct":Q[oe].x1+=j,Q[oe].y1+=K;default:Q[oe].x+=j,Q[oe].y+=K}return Q},v=function(Q){return Q.sort(function(j,K){return j-K})},_=function(Q,j){for(var K,oe,se=this.fillStyle,le=this.strokeStyle,te=this.lineCap,ee=this.lineWidth,Ae=Math.abs(ee*this.ctx.transform.scaleX),Se=this.lineJoin,ge=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),ne=[],Y=0;Y<xe.length;Y++)if(void 0!==xe[Y].x)for(var W=m.call(this,xe[Y]),Me=0;Me<W.length;Me+=1)-1===ne.indexOf(W[Me])&&ne.push(W[Me]);for(var Ce=0;Ce<ne.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<ne[Ce];)g.call(this);if(v(ne),this.autoPaging)for(var Pe=ne[0],Oe=ne[ne.length-1],re=Pe;re<Oe+1;re++){this.pdf.setPage(re),this.fillStyle=se,this.strokeStyle=le,this.lineCap=te,this.lineWidth=Ae,this.lineJoin=Se;var J=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=1===re?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=1===re?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(re-2)*rt;if(0!==this.ctx.clip_path.length){var Lt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(K,this.posX+this.margin[3],-Xe+Ue+this.ctx.prevPageLastElemOffset),C.call(this,Q,!0),this.path=Lt}if(oe=JSON.parse(JSON.stringify(ge)),this.path=y(oe,this.posX+this.margin[3],-Xe+Ue+this.ctx.prevPageLastElemOffset),!1===j||0===re){var Ft=(re>Pe||re<Oe)&&p.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],J,rt,null).clip().discardPath()),C.call(this,Q,j),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=ee}else this.lineWidth=Ae,C.call(this,Q,j),this.lineWidth=ee;this.path=ge},C=function(Q,j){if(("stroke"!==Q||j||!A.call(this))&&("stroke"===Q||j||!f.call(this))){for(var K,oe,se=[],le=this.path,te=0;te<le.length;te++){var ee=le[te];switch(ee.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ee,deltas:[],abs:[]});break;case"lt":var Ae=se.length;if(le[te-1]&&!isNaN(le[te-1].x)&&(K=[ee.x-le[te-1].x,ee.y-le[te-1].y],Ae>0))for(;Ae>=0;Ae--)if(!0!==se[Ae-1].close&&!0!==se[Ae-1].begin){se[Ae-1].deltas.push(K),se[Ae-1].abs.push(ee);break}break;case"bct":se[se.length-1].deltas.push(K=[ee.x1-le[te-1].x,ee.y1-le[te-1].y,ee.x2-le[te-1].x,ee.y2-le[te-1].y,ee.x-le[te-1].x,ee.y-le[te-1].y]);break;case"qct":se[se.length-1].deltas.push(K=[le[te-1].x+2/3*(ee.x1-le[te-1].x)-le[te-1].x,le[te-1].y+2/3*(ee.y1-le[te-1].y)-le[te-1].y,ee.x+2/3*(ee.x1-ee.x)-le[te-1].x,ee.y+2/3*(ee.y1-ee.y)-le[te-1].y,ee.x-le[te-1].x,ee.y-le[te-1].y]);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ee)}}oe=j?null:"stroke"===Q?"stroke":"fill";for(var Me=!1,Ce=0;Ce<se.length;Ce++)if(se[Ce].arc)for(var Pe=se[Ce].abs,Oe=0;Oe<Pe.length;Oe++){var re=Pe[Oe];"arc"===re.type?D.call(this,re.x,re.y,re.radius,re.startAngle,re.endAngle,re.counterclockwise,void 0,j,!Me):U.call(this,re.x,re.y),Me=!0}else!0===se[Ce].close?(this.pdf.internal.out("h"),Me=!1):!0!==se[Ce].begin&&(k.call(this,se[Ce].deltas,se[Ce].start.x,se[Ce].start.y),Me=!0);oe&&x.call(this,oe),j&&T.call(this)}},b=function(Q){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-K;case"top":return Q+j-K;case"hanging":return Q+j-2*K;case"middle":return Q+j/2-K;default:return Q}},M=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(j,K){this.colorStops.push([j,K])},Q.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(Q,j,K,oe,se,le,te,ee,Ae){for(var Se=O.call(this,K,oe,se,le),ge=0;ge<Se.length;ge++){var xe=Se[ge];0===ge&&(Ae?B.call(this,xe.x1+Q,xe.y1+j):U.call(this,xe.x1+Q,xe.y1+j)),q.call(this,Q,j,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}ee?T.call(this):x.call(this,te)},x=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(Q,j){this.pdf.internal.out(t(Q)+" "+r(j)+" m")},R=function(Q){var j;switch(Q.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var K=this.pdf.getTextDimensions(Q.text),oe=b.call(this,Q.y),se=M.call(this,oe)-K.h,le=this.ctx.transform.applyToPoint(new o(Q.x,oe)),te=this.ctx.transform.decompose(),ee=new l;ee=(ee=(ee=ee.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var Ae,Se,ge,xe=this.ctx.transform.applyToRectangle(new a(Q.x,oe,K.w,K.h)),ne=ee.applyToRectangle(new a(Q.x,se,K.w,K.h)),Y=m.call(this,ne),W=[],Me=0;Me<Y.length;Me+=1)-1===W.indexOf(Y[Me])&&W.push(Y[Me]);if(v(W),this.autoPaging)for(var Ce=W[0],Pe=W[W.length-1],Oe=Ce;Oe<Pe+1;Oe++){this.pdf.setPage(Oe);var re=1===Oe?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.margin[2],Qe=Ue-this.margin[0],rt=this.pdf.internal.pageSize.width-this.margin[1],Xe=rt-this.margin[3],Lt=1===Oe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Oe-2)*Qe;if(0!==this.ctx.clip_path.length){var Ft=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Ae,this.posX+this.margin[3],-1*Lt+re),C.call(this,"fill",!0),this.path=Ft}var Tt=y([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-Lt+re+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*Q.scale),this.lineWidth=(ge=this.lineWidth)*Q.scale);var _n="text"!==this.autoPaging;if(_n||Tt.y+Tt.h<=Ue){if(_n||Tt.y>=re&&Tt.x<=rt){var st=_n?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||rt-Tt.x)[0],vn=y([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Lt+re+this.ctx.prevPageLastElemOffset)[0],pn=_n&&(Oe>Ce||Oe<Pe)&&p.call(this);pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Qe,null).clip().discardPath()),this.pdf.text(st,vn.x,vn.y,{angle:Q.angle,align:j,renderingMode:Q.renderingMode}),pn&&this.pdf.restoreGraphicsState()}}else Tt.y<Ue&&(this.ctx.prevPageLastElemOffset+=Ue-Tt.y);Q.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=ge)}else Q.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*Q.scale),this.lineWidth=(ge=this.lineWidth)*Q.scale),this.pdf.text(Q.text,le.x+this.posX,le.y+this.posY,{angle:Q.angle,align:j,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=ge)},U=function(Q,j,K,oe){oe=oe||0,this.pdf.internal.out(t(Q+(K=K||0))+" "+r(j+oe)+" l")},k=function(Q,j,K){return this.pdf.lines(Q,j,K,null,null)},q=function(Q,j,K,oe,se,le,te,ee){this.pdf.internal.out([e(i(K+Q)),e(s(oe+j)),e(i(se+Q)),e(s(le+j)),e(i(te+Q)),e(s(ee+j)),"c"].join(" "))},O=function(Q,j,K,oe){for(var se=2*Math.PI,le=Math.PI/2;j>K;)j-=se;var te=Math.abs(K-j);te<se&&oe&&(te=se-te);for(var ee=[],Ae=oe?-1:1,Se=j;te>1e-5;){var ge=Se+Ae*Math.min(te,le);ee.push(P.call(this,Q,Se,ge)),te-=Math.abs(ge-Se),Se=ge}return ee},P=function(Q,j,K){var oe=(K-j)/2,se=Q*Math.cos(oe),le=Q*Math.sin(oe),te=se,ee=-le,Ae=te*te+ee*ee,Se=Ae+te*se+ee*le,ge=4/3*(Math.sqrt(2*Ae*Se)-Se)/(te*le-ee*se),xe=te-ge*ee,ne=ee+ge*te,Y=xe,W=-ne,Me=oe+j,Ce=Math.cos(Me),Pe=Math.sin(Me);return{x1:Q*Math.cos(j),y1:Q*Math.sin(j),x2:xe*Ce-ne*Pe,y2:xe*Pe+ne*Ce,x3:Y*Ce-W*Pe,y3:Y*Pe+W*Ce,x4:Q*Math.cos(K),y4:Q*Math.sin(K)}},G=function(Q){return 180*Q/Math.PI},H=function(Q,j,K,oe,se,le){var te=Q+.5*(K-Q),ee=j+.5*(oe-j),Ae=se+.5*(K-se),Se=le+.5*(oe-le),ge=Math.min(Q,se,te,Ae),xe=Math.max(Q,se,te,Ae),ne=Math.min(j,le,ee,Se),Y=Math.max(j,le,ee,Se);return new a(ge,ne,xe-ge,Y-ne)},ae=function(Q,j,K,oe,se,le,te,ee){var Ae,Se,ge,xe,ne,Y,W,Me,Ce,Pe,Oe,re,J,Ue,Qe=K-Q,rt=oe-j,Xe=se-K,Lt=le-oe,Ft=te-se,Tt=ee-le;for(Se=0;Se<41;Se++)Ce=(W=(ge=Q+(Ae=Se/40)*Qe)+Ae*((ne=K+Ae*Xe)-ge))+Ae*(ne+Ae*(se+Ae*Ft-ne)-W),Pe=(Me=(xe=j+Ae*rt)+Ae*((Y=oe+Ae*Lt)-xe))+Ae*(Y+Ae*(le+Ae*Tt-Y)-Me),0==Se?(Oe=Ce,re=Pe,J=Ce,Ue=Pe):(Oe=Math.min(Oe,Ce),re=Math.min(re,Pe),J=Math.max(J,Ce),Ue=Math.max(Ue,Pe));return new a(Math.round(Oe),Math.round(re),Math.round(J-Oe),Math.round(Ue-re))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var K=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(_r.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(s){var o,a,l,c,u,h,d,f,A,p;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)0!==(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))?(h=(u=((u=((u=((u=(u-(p=u%85))/85)-(A=u%85))/85)-(f=u%85))/85)-(d=u%85))/85)%85,a.push(h+33,d+33,f+33,A+33,p+33)):a.push(122);return function(m,g){for(var y=g;y>0;y--)m.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,u,h=String,d="length",f=255,A="charCodeAt",p="slice",m="replace";for(s[p](-2),s=s[p](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[p](s[d]%5||5))[d];u>c;c+=5)a=52200625*(s[A](c)-33)+614125*(s[A](c+1)-33)+7225*(s[A](c+2)-33)+85*(s[A](c+3)-33)+(s[A](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(g,y){for(var v=y;v>0;v--)g.pop()}(l,o[d]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===o.test(s))return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return(o=Lx(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(_r.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=!1!==s,o="function"==typeof o?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,d=0,f=function(A){var p=A.length,m=[],g=String.fromCharCode;for(d=0;d<p;d+=1)m.push(g(255&A.charCodeAt(d)));return m.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(h.onload=function(){u(200===h.status?f(this.responseText):void 0)}),h.send(null),c&&200===h.status)return f(h.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(_r.API),function(n){function e(){return(Sr.html2canvas?Promise.resolve(Sr.html2canvas):Promise.resolve().then(we.t.bind(we,7239,23))).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Sr.DOMPurify?Promise.resolve(Sr.DOMPurify):we.e(973).then(we.t.bind(we,1973,23))).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=(0,to.A)(o);return"undefined"===a?"undefined":"string"===a||o instanceof String?"string":"number"===a||o instanceof Number?"number":"function"===a||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&1===o.nodeType?"element":"object"===a?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return"canvas"===l.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var h=3===c.nodeType?document.createTextNode(c.nodeValue):c.cloneNode(!1),d=c.firstChild;d;d=d.nextSibling)!0!==u&&1===d.nodeType&&"SCRIPT"===d.nodeName||h.appendChild(l(d,u));return 1===c.nodeType&&("CANVAS"===c.nodeName?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):"TEXTAREA"!==c.nodeName&&"SELECT"!==c.nodeName||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===a.tagName&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var d=0;d<c.length;++d){var f=c[d],A=f.src.find(function(p){return"truetype"===p.format});A&&l.addFont(A.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=0==h.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return"img"===(l=l||"pdf").toLowerCase()||"image"===l.toLowerCase()?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if("object"!==r(o))return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(2===o.length&&(o=[o[0],o[1],o[0],o[1]]),4===o.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||_r.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return null!=o&&(this.progress.val=o),null!=a&&(this.progress.state=a),null!=l&&(this.progress.n=l),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,_r.getPageSize=function(o,a,l){if("object"===(0,to.A)(o)){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,A=0,p=0;if(d.hasOwnProperty(h))A=d[h][1]/u,p=d[h][0]/u;else try{A=l[1],p=l[0]}catch{throw new Error("Invalid format: "+l)}if("p"===o||"portrait"===o)o="p",p>A&&(f=p,p=A,A=f);else{if("l"!==o&&"landscape"!==o)throw"Invalid orientation: "+o;o="l",A>p&&(f=p,p=A,A=f)}return{width:p,height:A,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(nH):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(_r.API),_r.API.addJS=function(n){return QZ=n,this.internal.events.subscribe("postPutResources",function(){UN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(UN+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),VZ=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+QZ+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==UN&&void 0!==VZ&&this.internal.out("/Names <</JavaScript "+UN+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);null!=a&&t.internal.newObjectDeferredBegin(a[1],!1),t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=t.internal.newObject();u.push(h);var d=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return null==r&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(_r.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=o||t)?new Uint8Array(t):t,(l=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),A=h.length,p={width:0,height:0,numcomponents:1},m=4;m<A;m+=2){if(-1!==e.indexOf(h.charCodeAt((m+=f)+1))){d=256*h.charCodeAt(m+5)+h.charCodeAt(m+6),p={width:256*h.charCodeAt(m+7)+h.charCodeAt(m+8),height:d,numcomponents:h.charCodeAt(m+9)};break}f=256*h.charCodeAt(m+2)+h.charCodeAt(m+3)}return p}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(_r.API);var sb,kN,zZ,GZ,jZ,xRe=function(){var n,e,t;function r(s){var o,l,c,u,h,d,f,A,p,m,g,y,v;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),A=function(){var _,C;for(C=[],_=0;_<4;++_)C.push(String.fromCharCode(this.data[this.pos++]));return C}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for("fdAT"===A&&(this.pos+=4,o-=4),s=h?.data||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((p=l-this.transparency.indexed.length)>0)for(y=0;0<=p?y<p:y>p;0<=p?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":d=(m=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,m.slice(0,d)),this.text[f]=String.fromCharCode.apply(String,m.slice(d+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(v=this.colorType)||6===v,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function u(h,d,f,A){var p,m,g,y,v,_,C,b,D,x,T,B,R,U,k,q,O,P,G,H,ae=Math.ceil((c.width-h)/f),ve=Math.ceil((c.height-d)/A),Q=c.width==ae&&c.height==ve;for(R=o*ae,T=Q?a:new Uint8Array(R*ve),_=s.length,B=0,m=0;B<ve&&l<_;){switch(s[l++]){case 0:for(y=q=0;q<R;y=q+=1)T[m++]=s[l++];break;case 1:for(y=O=0;O<R;y=O+=1)p=s[l++],v=y<o?0:T[m-o],T[m++]=(p+v)%256;break;case 2:for(y=P=0;P<R;y=P+=1)p=s[l++],g=(y-y%o)/o,T[m++]=((U=B&&T[(B-1)*R+g*o+y%o])+p)%256;break;case 3:for(y=G=0;G<R;y=G+=1)p=s[l++],g=(y-y%o)/o,v=y<o?0:T[m-o],U=B&&T[(B-1)*R+g*o+y%o],T[m++]=(p+Math.floor((v+U)/2))%256;break;case 4:for(y=H=0;H<R;y=H+=1)p=s[l++],g=(y-y%o)/o,0===B?U=k=0:(U=T[(B-1)*R+g*o+y%o],k=g&&T[(B-1)*R+(g-1)*o+y%o]),C=(v=y<o?0:T[m-o])+U-k,b=Math.abs(C-v),D=Math.abs(C-U),x=Math.abs(C-k),T[m++]=(p+(b<=D&&b<=x?v:D<=x?U:k))%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!Q){var j=((d+B*A)*c.width+h)*o,K=B*R;for(y=0;y<ae;y+=1){for(var oe=0;oe<o;oe+=1)a[j++]=T[K++];j+=(f-1)*o}}B++}}return s=xN(s),1==c.interlaceMethod?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,h,d,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=h=0,d=a.length;h<d;o=h+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=null!=(f=u[s++])?f:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,h,d,f,A,p,m,g;if(l=this.colors,p=null,a=this.hasAlphaChannel,this.palette.length&&(p=null!=(g=this._decodedPalette)?g:this._decodedPalette=this.decodePalette(),l=4,a=!0),A=(c=s.data||s).length,h=p||o,u=d=0,1===l)for(;u<A;)f=p?4*o[u/4]:d,m=h[f++],c[u++]=m,c[u++]=m,c[u++]=m,c[u++]=a?h[f++]:255,d=f;else for(;u<A;)f=p?4*o[u/4]:d,c[u++]=h[f++],c[u++]=h[f++],c[u++]=h[f++],c[u++]=a?h[f++]:255,d=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if("[object Window]"===Object.prototype.toString.call(Sr)){try{e=Sr.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(!0===i())return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,h,d,f;if(this.animation){for(f=[],a=u=0,h=(d=this.animation.frames).length;u<h;a=++u)l=s.createImageData((o=d[a]).width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=n(l));return f}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],0===o&&s.clearRect(0,0,this.width,this.height),1===c?.disposeOp?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):2===c?.disposeOp&&s.putImageData(c.imageData,c.xOffset,c.yOffset),0===a.blendOp&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,h,d=this;return a=0,c=(h=this.animation).numFrames,l=h.frames,u=h.numPlays,(o=function(){var f,A;if(f=a++%c,A=l[f],d.renderFrame(s,f),c>1&&a/c<u)return d.animation._timeout=setTimeout(o,A.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();function ERe(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=1<<1+(7&i);e++,e++;var a=null,l=null;i>>7&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,d=null,f=0,A=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,A=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var p=n[e++];h=n[e++]|n[e++]<<8,d=n[e++],!(1&p)&&(d=null),f=p>>2&7,e++;break;case 254:for(;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var m=n[e++]|n[e++]<<8,g=n[e++]|n[e++]<<8,y=n[e++]|n[e++]<<8,v=n[e++]|n[e++]<<8,_=n[e++],C=_>>6&1,b=1<<1+(7&_),M=a,D=l,x=!1;_>>7&&(x=!0,M=e,D=b,e+=3*b);var T=e;for(e++;;){var B;if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}u.push({x:m,y:g,width:y,height:v,has_local_palette:x,palette_offset:M,palette_size:D,data_offset:T,data_length:e-T,transparent_index:d,interlaced:!!C,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return A},this.frameInfo=function(R){if(R<0||R>=u.length)throw new Error("Frame index out of range.");return u[R]},this.decodeAndBlitFrameBGRA=function(R,U){var k=this.frameInfo(R),q=k.width*k.height,O=new Uint8Array(q);qZ(n,k.data_offset,O,q);var P=k.palette_offset,G=k.transparent_index;null===G&&(G=256);var H=k.width,ae=t-H,ve=H,Q=4*(k.y*t+k.x),j=4*((k.y+k.height)*t+k.x),K=Q,oe=4*ae;!0===k.interlaced&&(oe+=4*t*7);for(var se=8,le=0,te=O.length;le<te;++le){var ee=O[le];if(0===ve&&(ve=H,(K+=oe)>=j&&(oe=4*ae+4*t*(se-1),K=Q+(H+ae)*(se<<1),se>>=1)),ee===G)K+=4;else{var Ae=n[P+3*ee],Se=n[P+3*ee+1];U[K++]=n[P+3*ee+2],U[K++]=Se,U[K++]=Ae,U[K++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(R,U){var k=this.frameInfo(R),q=k.width*k.height,O=new Uint8Array(q);qZ(n,k.data_offset,O,q);var P=k.palette_offset,G=k.transparent_index;null===G&&(G=256);var H=k.width,ae=t-H,ve=H,Q=4*(k.y*t+k.x),j=4*((k.y+k.height)*t+k.x),K=Q,oe=4*ae;!0===k.interlaced&&(oe+=4*t*7);for(var se=8,le=0,te=O.length;le<te;++le){var ee=O[le];if(0===ve&&(ve=H,(K+=oe)>=j&&(oe=4*ae+4*t*(se-1),K=Q+(H+ae)*(se<<1),se>>=1)),ee===G)K+=4;else{var Se=n[P+3*ee+1],ge=n[P+3*ee+2];U[K++]=n[P+3*ee],U[K++]=Se,U[K++]=ge,U[K++]=255}--ve}}}function qZ(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,d=0,f=n[e++],A=new Int32Array(4096),p=null;;){for(;u<16&&0!==f;)h|=n[e++]<<u,u+=8,1===f?f=n[e++]:--f;if(u<l)break;var m=h&c;if(h>>=l,u-=l,m!==s){if(m===o)break;for(var g=m<a?m:p,y=0,v=g;v>s;)v=A[v]>>8,++y;var _=v;if(d+y+(g!==m?1:0)>r)return void no.log("Warning, gif stream longer than expected.");t[d++]=_;var C=d+=y;for(g!==m&&(t[d++]=_),v=g;y--;)t[--C]=255&(v=A[v]),v>>=8;null!==p&&a<4096&&(A[a++]=p<<8|_,a>=c+1&&l<12&&(++l,c=c<<1|1)),p=m}else a=o+1,c=(1<<(l=i+1))-1,p=null}return d!==r&&no.log("Warning, gif stream shorter than expected."),t}function iH(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),A=new Array(64),p=[],m=0,g=7,y=new Array(64),v=new Array(64),_=new Array(64),C=new Array(256),b=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(Q,j){for(var K=0,oe=0,se=new Array,le=1;le<=16;le++){for(var te=1;te<=Q[le];te++)se[j[oe]]=[],se[j[oe]][0]=K,se[j[oe]][1]=le,oe++,K++;K*=2}return se}function P(Q){for(var j=Q[0],K=Q[1]-1;K>=0;)j&1<<K&&(m|=1<<g),K--,--g<0&&(255==m?(G(255),G(0)):G(m),g=7,m=0)}function G(Q){p.push(Q)}function H(Q){G(Q>>8&255),G(255&Q)}function ae(Q,j,K,oe,se){for(var le,te=se[0],ee=se[240],Ae=function(Pe,Oe){var re,J,Ue,Qe,rt,Xe,Lt,Ft,Tt,_n,st=0;for(Tt=0;Tt<8;++Tt){var vn=(re=Pe[st])+(Ft=Pe[st+7]),pn=re-Ft,bn=(J=Pe[st+1])+(Lt=Pe[st+6]),nn=J-Lt,$=(Ue=Pe[st+2])+(Xe=Pe[st+5]),Fe=Ue-Xe,Ke=(Qe=Pe[st+3])+(rt=Pe[st+4]),Ne=Qe-rt,_t=vn+Ke,nt=vn-Ke,Dt=bn+$,an=bn-$;Pe[st]=_t+Dt,Pe[st+4]=_t-Dt;var Qt=.707106781*(an+nt);Pe[st+2]=nt+Qt,Pe[st+6]=nt-Qt;var Rn=.382683433*((_t=Ne+Fe)-(an=nn+pn)),Ns=.5411961*_t+Rn,Zi=1.306562965*an+Rn,gi=.707106781*(Dt=Fe+nn),Xo=pn+gi,Zn=pn-gi;Pe[st+5]=Zn+Ns,Pe[st+3]=Zn-Ns,Pe[st+1]=Xo+Zi,Pe[st+7]=Xo-Zi,st+=8}for(st=0,Tt=0;Tt<8;++Tt){var Iu=(re=Pe[st])+(Ft=Pe[st+56]),gh=re-Ft,Yo=(J=Pe[st+8])+(Lt=Pe[st+48]),Uo=J-Lt,ko=(Ue=Pe[st+16])+(Xe=Pe[st+40]),mc=Ue-Xe,md=(Qe=Pe[st+24])+(rt=Pe[st+32]),af=Qe-rt,vc=Iu+md,Fu=Iu-md,Ru=Yo+ko,lf=Yo-ko;Pe[st]=vc+Ru,Pe[st+32]=vc-Ru;var Ou=.707106781*(lf+Fu);Pe[st+16]=Fu+Ou,Pe[st+48]=Fu-Ou;var cf=.382683433*((vc=af+mc)-(lf=Uo+gh)),Lp=.5411961*vc+cf,Om=1.306562965*lf+cf,be=.707106781*(Ru=mc+Uo),et=gh+be,At=gh-be;Pe[st+40]=At+Lp,Pe[st+24]=At-Lp,Pe[st+8]=et+Om,Pe[st+56]=et-Om,st++}for(Tt=0;Tt<64;++Tt)f[Tt]=(_n=Pe[Tt]*Oe[Tt])>0?_n+.5|0:_n-.5|0;return f}(Q,j),Se=0;Se<64;++Se)A[M[Se]]=Ae[Se];var ge=A[0]-K;K=A[0],0==ge?P(oe[0]):(P(oe[d[le=32767+ge]]),P(h[le]));for(var xe=63;xe>0&&0==A[xe];)xe--;if(0==xe)return P(te),K;for(var ne,Y=1;Y<=xe;){for(var W=Y;0==A[Y]&&Y<=xe;)++Y;var Me=Y-W;if(Me>=16){ne=Me>>4;for(var Ce=1;Ce<=ne;++Ce)P(ee);Me&=15}P(se[(Me<<4)+d[le=32767+A[Y]]]),P(h[le]),Y++}return 63!=xe&&P(te),K}function ve(Q){Q=Math.min(Math.max(Q,1),100),s!=Q&&(function(j){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var se=o((K[oe]*j+50)/100);se=Math.min(Math.max(se,1),255),a[M[oe]]=se}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var ee=o((le[te]*j+50)/100);ee=Math.min(Math.max(ee,1),255),l[M[te]]=ee}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,ge=0;ge<8;ge++)for(var xe=0;xe<8;xe++)c[Se]=1/(a[M[Se]]*Ae[ge]*Ae[xe]*8),u[Se]=1/(l[M[Se]]*Ae[ge]*Ae[xe]*8),Se++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),s=Q)}this.encode=function(Q,j){var J,Ue;j&&ve(j),p=new Array,m=0,g=7,H(65496),H(65504),H(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),H(1),H(1),G(0),G(0),function(){H(65499),H(132),G(0);for(var J=0;J<64;J++)G(a[J]);G(1);for(var Ue=0;Ue<64;Ue++)G(l[Ue])}(),J=Q.width,Ue=Q.height,H(65472),H(17),G(8),H(Ue),H(J),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1),function(){H(65476),H(418),G(0);for(var J=0;J<16;J++)G(D[J+1]);for(var Ue=0;Ue<=11;Ue++)G(x[Ue]);G(16);for(var Qe=0;Qe<16;Qe++)G(T[Qe+1]);for(var rt=0;rt<=161;rt++)G(B[rt]);G(1);for(var Xe=0;Xe<16;Xe++)G(R[Xe+1]);for(var Lt=0;Lt<=11;Lt++)G(U[Lt]);G(17);for(var Ft=0;Ft<16;Ft++)G(k[Ft+1]);for(var Tt=0;Tt<=161;Tt++)G(q[Tt])}(),H(65498),H(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var K=0,oe=0,se=0;m=0,g=7,this.encode.displayName="_encode_";for(var le,te,ee,Ae,Se,ge,xe,ne,Y,W=Q.data,Ce=Q.height,Pe=4*Q.width,Oe=0;Oe<Ce;){for(le=0;le<Pe;){for(Se=Pe*Oe+le,xe=-1,ne=0,Y=0;Y<64;Y++)ge=Se+(ne=Y>>3)*Pe+(xe=4*(7&Y)),Oe+ne>=Ce&&(ge-=Pe*(Oe+1+ne-Ce)),le+xe>=Pe&&(ge-=le+xe-Pe+4),te=W[ge++],ee=W[ge++],Ae=W[ge++],y[Y]=(b[te]+b[ee+256|0]+b[Ae+512|0]>>16)-128,v[Y]=(b[te+768|0]+b[ee+1024|0]+b[Ae+1280|0]>>16)-128,_[Y]=(b[te+1280|0]+b[ee+1536|0]+b[Ae+1792|0]>>16)-128;K=ae(y,c,K,e,r),oe=ae(v,u,oe,t,i),se=ae(_,u,se,t,i),le+=32}Oe+=8}if(g>=0){var re=[];re[1]=g+1,re[0]=(1<<g+1)-1,P(re)}return H(65497),new Uint8Array(p)},n=n||50,function(){for(var Q=String.fromCharCode,j=0;j<256;j++)C[j]=Q(j)}(),e=O(D,x),t=O(R,U),r=O(T,B),i=O(k,q),function(){for(var Q=1,j=2,K=1;K<=15;K++){for(var oe=Q;oe<j;oe++)d[32767+oe]=K,h[32767+oe]=[],h[32767+oe][1]=K,h[32767+oe][0]=oe;for(var se=-(j-1);se<=-Q;se++)d[32767+se]=K,h[32767+se]=[],h[32767+se][1]=K,h[32767+se][0]=j-1+se;Q<<=1,j<<=1}}(),function(){for(var Q=0;Q<256;Q++)b[Q]=19595*Q,b[Q+256|0]=38470*Q,b[Q+512|0]=7471*Q+32768,b[Q+768|0]=-11059*Q,b[Q+1024|0]=-21709*Q,b[Q+1280|0]=32768*Q+8421375,b[Q+1536|0]=-27439*Q,b[Q+1792|0]=-5329*Q}(),ve(n)}function td(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function WZ(n){function e(D){if(!D)throw Error("assert :P")}function t(D,x,T){for(var B=0;4>B;B++)if(D[x+B]!=T.charCodeAt(B))return!0;return!1}function r(D,x,T,B,R){for(var U=0;U<R;U++)D[x+U]=T[B+U]}function i(D,x,T,B){for(var R=0;R<B;R++)D[x+R]=T}function s(D){return new Int32Array(D)}function o(D,x){for(var T=[],B=0;B<D;B++)T.push(new x);return T}function a(D,x){var T=[];return function B(R,U,k){for(var q=k[U],O=0;O<q&&(R.push(k.length>U+1?[]:new x),!(k.length<U+1));O++)B(R[O],U+1,k)}(T,0,D),T}var l=function(){var D=this;function x(w,F){for(var V=1<<F-1>>>0;w&V;)V>>>=1;return V?(w&V-1)+V:w}function T(w,F,V,X,ce){e(!(X%V));do{w[F+(X-=V)]=ce}while(0<X)}function B(w,F,V,X,ce){if(e(2328>=ce),512>=ce)var de=s(512);else if(null==(de=s(ce)))return 0;return function(pe,me,_e,Ie,We,ct){var ut,tt,jt=me,wt=1<<_e,$e=s(16),Ye=s(16);for(e(0!=We),e(null!=Ie),e(null!=pe),e(0<_e),tt=0;tt<We;++tt){if(15<Ie[tt])return 0;++$e[Ie[tt]]}if($e[0]==We)return 0;for(Ye[1]=0,ut=1;15>ut;++ut){if($e[ut]>1<<ut)return 0;Ye[ut+1]=Ye[ut]+$e[ut]}for(tt=0;tt<We;++tt)ut=Ie[tt],0<Ie[tt]&&(ct[Ye[ut]++]=tt);if(1==Ye[15])return(Ie=new R).g=0,Ie.value=ct[0],T(pe,jt,1,wt,Ie),wt;var Ht,Kt=-1,zt=wt-1,Ln=0,Dn=1,fr=1,Nn=1<<_e;for(tt=0,ut=1,We=2;ut<=_e;++ut,We<<=1){if(Dn+=fr<<=1,0>(fr-=$e[ut]))return 0;for(;0<$e[ut];--$e[ut])(Ie=new R).g=ut,Ie.value=ct[tt++],T(pe,jt+Ln,We,Nn,Ie),Ln=x(Ln,ut)}for(ut=_e+1,We=2;15>=ut;++ut,We<<=1){if(Dn+=fr<<=1,0>(fr-=$e[ut]))return 0;for(;0<$e[ut];--$e[ut]){if(Ie=new R,(Ln&zt)!=Kt){for(jt+=Nn,Ht=1<<(Kt=ut)-_e;15>Kt&&!(0>=(Ht-=$e[Kt]));)++Kt,Ht<<=1;wt+=Nn=1<<(Ht=Kt-_e),pe[me+(Kt=Ln&zt)].g=Ht+_e,pe[me+Kt].value=jt-me-Kt}Ie.g=ut-_e,Ie.value=ct[tt++],T(pe,jt+(Ln>>_e),We,Nn,Ie),Ln=x(Ln,ut)}}return Dn!=2*Ye[15]-1?0:wt}(w,F,V,X,ce,de)}function R(){this.value=this.g=0}function U(){this.value=this.g=0}function k(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Gl,U)}function q(w,F,V,X){e(null!=w),e(null!=F),e(2147483648>X),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=F,w.pa=V,w.Jd=F,w.Yc=V+X,w.Zc=4<=X?V+X-4+1:V,le(w)}function O(w,F){for(var V=0;0<F--;)V|=ee(w,128)<<F;return V}function P(w,F){var V=O(w,F);return te(w)?-V:V}function G(w,F,V,X){var ce,de=0;for(e(null!=w),e(null!=F),e(4294967288>X),w.Sb=X,w.Ra=0,w.u=0,w.h=0,4<X&&(X=4),ce=0;ce<X;++ce)de+=F[V+ce]<<8*ce;w.Ra=de,w.bb=X,w.oa=F,w.pa=V}function H(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<aw-8>>>0,++w.bb,w.u-=8;K(w)&&(w.h=1,w.u=0)}function ae(w,F){if(e(0<=F),!w.h&&F<=ow){var V=j(w)&sw[F];return w.u+=F,H(w),V}return w.h=1,w.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(w){return w.Ra>>>(w.u&aw-1)>>>0}function K(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>aw}function oe(w,F){w.u=F,w.h=K(w)}function se(w){w.u>=jE&&(e(w.u>=jE),H(w))}function le(w){e(null!=w&&null!=w.oa),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(null!=w&&null!=w.oa),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function te(w){return O(w,1)}function ee(w,F){var V=w.Ca;0>w.b&&le(w);var X=w.b,ce=V*F>>>8,de=(w.I>>>X>ce)+0;for(de?(V-=ce,w.I-=ce+1<<X>>>0):V=ce+1,X=V,ce=0;256<=X;)ce+=8,X>>=8;return w.b-=X=7^ce+Pu[X],w.Ca=(V<<X)-1,de}function Ae(w,F,V){w[F+0]=V>>24&255,w[F+1]=V>>16&255,w[F+2]=V>>8&255,w[F+3]=255&V}function Se(w,F){return w[F+0]|w[F+1]<<8}function ge(w,F){return Se(w,F)|w[F+2]<<16}function xe(w,F){return Se(w,F)|Se(w,F+2)<<16}function ne(w,F){var V=1<<F;return e(null!=w),e(0<F),w.X=s(V),null==w.X?0:(w.Mb=32-F,w.Xa=F,1)}function Y(w,F){e(null!=w),e(null!=F),e(w.Xa==F.Xa),r(F.X,0,w.X,0,1<<F.Xa)}function W(){this.X=[],this.Xa=this.Mb=0}function Me(w,F,V,X){e(null!=V),e(null!=X);var ce=V[0],de=X[0];return 0==ce&&(ce=(w*de+F/2)/F),0==de&&(de=(F*ce+w/2)/w),0>=ce||0>=de?0:(V[0]=ce,X[0]=de,1)}function Ce(w,F){return w+(1<<F)-1>>>F}function Pe(w,F){return((4278255360&w)+(4278255360&F)>>>0&4278255360)+((16711935&w)+(16711935&F)>>>0&16711935)>>>0}function Oe(w,F){D[F]=function(V,X,ce,de,pe,me,_e){var Ie;for(Ie=0;Ie<pe;++Ie){var We=D[w](me[_e+Ie-1],ce,de+Ie);me[_e+Ie]=Pe(V[X+Ie],We)}}}function re(){this.ud=this.hd=this.jd=0}function J(w,F){return((4278124286&(w^F))>>>1)+(w&F)>>>0}function Ue(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Qe(w,F){return Ue(w+(w-F+.5>>1))}function rt(w,F,V){return Math.abs(F-V)-Math.abs(w-V)}function Xe(w,F,V,X,ce,de,pe){for(X=de[pe-1],V=0;V<ce;++V)de[pe+V]=X=Pe(w[F+V],X)}function Lt(w,F,V,X,ce){var de;for(de=0;de<V;++de){var pe=w[F+de],me=pe>>8&255,_e=16711935&(_e=(_e=16711935&pe)+((me<<16)+me));X[ce+de]=(4278255360&pe)+_e>>>0}}function Ft(w,F){F.jd=255&w,F.hd=w>>8&255,F.ud=w>>16&255}function Tt(w,F,V,X,ce,de){var pe;for(pe=0;pe<X;++pe){var me=F[V+pe],_e=me>>>8,Ie=me,We=255&(We=(We=me>>>16)+((w.jd<<24>>24)*(_e<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(w.hd<<24>>24)*(_e<<24>>24)>>>5)+((w.ud<<24>>24)*(We<<24>>24)>>>5)),ce[de+pe]=(4278255360&me)+(We<<16)+Ie}}function _n(w,F,V,X,ce){D[F]=function(de,pe,me,_e,Ie,We,ct,ut,tt){for(_e=ct;_e<ut;++_e)for(ct=0;ct<tt;++ct)Ie[We++]=ce(me[X(de[pe++])])},D[w]=function(de,pe,me,_e,Ie,We,ct){var ut=8>>de.b,tt=de.Ea,jt=de.K[0],wt=de.w;if(8>ut)for(de=(1<<de.b)-1,wt=(1<<ut)-1;pe<me;++pe){var $e,Ye=0;for($e=0;$e<tt;++$e)$e&de||(Ye=X(_e[Ie++])),We[ct++]=ce(jt[Ye&wt]),Ye>>=ut}else D["VP8LMapColor"+V](_e,Ie,jt,wt,We,ct,pe,me,tt)}}function st(w,F,V,X,ce){for(V=F+V;F<V;){var de=w[F++];X[ce++]=de>>16&255,X[ce++]=de>>8&255,X[ce++]=255&de}}function vn(w,F,V,X,ce){for(V=F+V;F<V;){var de=w[F++];X[ce++]=de>>16&255,X[ce++]=de>>8&255,X[ce++]=255&de,X[ce++]=de>>24&255}}function pn(w,F,V,X,ce){for(V=F+V;F<V;){var de=(pe=w[F++])>>16&240|pe>>12&15,pe=240&pe|pe>>28&15;X[ce++]=de,X[ce++]=pe}}function bn(w,F,V,X,ce){for(V=F+V;F<V;){var de=(pe=w[F++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;X[ce++]=de,X[ce++]=pe}}function nn(w,F,V,X,ce){for(V=F+V;F<V;){var de=w[F++];X[ce++]=255&de,X[ce++]=de>>8&255,X[ce++]=de>>16&255}}function $(w,F,V,X,ce,de){if(0==de)for(V=F+V;F<V;)Ae(X,((de=w[F++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),ce+=32;else r(X,ce,w,F,V)}function Fe(w,F){D[F][0]=D[w+"0"],D[F][1]=D[w+"1"],D[F][2]=D[w+"2"],D[F][3]=D[w+"3"],D[F][4]=D[w+"4"],D[F][5]=D[w+"5"],D[F][6]=D[w+"6"],D[F][7]=D[w+"7"],D[F][8]=D[w+"8"],D[F][9]=D[w+"9"],D[F][10]=D[w+"10"],D[F][11]=D[w+"11"],D[F][12]=D[w+"12"],D[F][13]=D[w+"13"],D[F][14]=D[w+"0"],D[F][15]=D[w+"0"]}function Ke(w){return w==oV||w==aV||w==sR||w==lV}function Ne(){this.eb=[],this.size=this.A=this.fb=0}function _t(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ne,this.f.kb=new _t,this.sd=null}function Dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function an(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qt(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Rn(w,F){var V=w.T,X=F.ba.f.RGBA,ce=X.eb,de=X.fb+w.ka*X.A,pe=pf[F.ba.S],me=w.y,_e=w.O,Ie=w.f,We=w.N,ct=w.ea,ut=w.W,tt=F.cc,jt=F.dc,wt=F.Mc,$e=F.Nc,Ye=w.ka,Ht=w.ka+w.T,Kt=w.U,zt=Kt+1>>1;for(0==Ye?pe(me,_e,null,null,Ie,We,ct,ut,Ie,We,ct,ut,ce,de,null,null,Kt):(pe(F.ec,F.fc,me,_e,tt,jt,wt,$e,Ie,We,ct,ut,ce,de-X.A,ce,de,Kt),++V);Ye+2<Ht;Ye+=2)pe(me,(_e+=2*w.fa)-w.fa,me,_e,tt=Ie,jt=We,wt=ct,$e=ut,Ie,We+=w.Rc,ct,ut+=w.Rc,ce,(de+=2*X.A)-X.A,ce,de,Kt);return _e+=w.fa,w.j+Ht<w.o?(r(F.ec,F.fc,me,_e,Kt),r(F.cc,F.dc,Ie,We,zt),r(F.Mc,F.Nc,ct,ut,zt),V--):1&Ht||pe(me,_e,null,null,Ie,We,ct,ut,Ie,We,ct,ut,ce,de+X.A,null,null,Kt),V}function Ns(w,F,V){var X=w.F,ce=[w.J];if(null!=X){var de=w.U,pe=F.ba.S,me=pe==iR||pe==sR;F=F.ba.f.RGBA;var _e=[0],Ie=w.ka;_e[0]=w.T,w.Kb&&(0==Ie?--_e[0]:(--Ie,ce[0]-=w.width),w.j+w.ka+w.T==w.o&&(_e[0]=w.o-w.j-Ie));var We=F.eb;w=Ao(X,ce[0],w.width,de,_e,We,(Ie=F.fb+Ie*F.A)+(me?0:3),F.A),e(V==_e),w&&Ke(pe)&&df(We,Ie,me,de,_e,F.A)}return 0}function Zi(w){var F=w.ma,V=F.ba.S,X=11>V,ce=V==nR||V==rR||V==iR||V==sV||12==V||Ke(V);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!zE(F.Oa,w,ce?11:12))return 0;if(ce&&Ke(V)&&Zt(),w.da)alert("todo:use_scaling");else{if(X){if(F.Ib=Qt,w.Kb){if(F.memory=s(w.U+2*(V=w.U+1>>1)),null==F.memory)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+w.U,F.Mc=F.cc,F.Nc=F.dc+V,F.Ib=Rn,Zt()}}else alert("todo:EmitYUV");ce&&(F.Jb=Ns,X&&ot())}if(X&&!Cue){for(w=0;256>w;++w)Ilt[w]=89858*(w-128)+aR>>oR,Olt[w]=-22014*(w-128)+aR,Rlt[w]=-45773*(w-128),Flt[w]=113618*(w-128)+aR>>oR;for(w=JE;w<hV;++w)Plt[w-JE]=mh(F=76283*(w-16)+aR>>oR,255),Llt[w-JE]=mh(F+8>>4,15);Cue=1}return 1}function gi(w){var F=w.ma,V=w.U,X=w.T;return e(!(1&w.ka)),0>=V||0>=X?0:(V=F.Ib(w,F),null!=F.Jb&&F.Jb(w,F,V),F.Dc+=V,1)}function Xo(w){w.ma.memory=null}function Zn(w,F,V,X){return 47!=ae(w,8)?0:(F[0]=ae(w,14)+1,V[0]=ae(w,14)+1,X[0]=ae(w,1),0!=ae(w,3)?0:!w.h)}function Iu(w,F){if(4>w)return w+1;var V=w-2>>1;return(2+(1&w)<<V)+ae(F,V)+1}function gh(w,F){return 120<F?F-120:1<=(V=((V=vlt[F-1])>>4)*w+(8-(15&V)))?V:1;var V}function Yo(w,F,V){var X=j(V),ce=w[F+=255&X].g-8;return 0<ce&&(oe(V,V.u+8),X=j(V),F+=w[F].value,F+=X&(1<<ce)-1),oe(V,V.u+w[F].g),w[F].value}function Uo(w,F,V){return V.g+=w.g,V.value+=w.value<<F>>>0,e(8>=V.g),w.g}function ko(w,F,V){var X=w.xc;return e((F=0==X?0:w.vc[w.md*(V>>X)+(F>>X)])<w.Wb),w.Ya[F]}function mc(w,F,V,X){var ce=w.ab,de=w.c*F,pe=w.C;F=pe+F;var me=V,_e=X;for(X=w.Ta,V=w.Ua;0<ce--;){var Ie=w.gc[ce],We=pe,ct=F,ut=me,tt=_e,jt=(_e=X,me=V,Ie.Ea);switch(e(We<ct),e(ct<=Ie.nc),Ie.hc){case 2:KF(ut,tt,(ct-We)*jt,_e,me);break;case 0:var wt=We,$e=ct,Ye=_e,Ht=me,Kt=(Nn=Ie).Ea;0==wt&&(rV(ut,tt,null,null,1,Ye,Ht),Xe(ut,tt+1,0,0,Kt-1,Ye,Ht+1),tt+=Kt,Ht+=Kt,++wt);for(var zt=1<<Nn.b,Ln=zt-1,Dn=Ce(Kt,Nn.b),fr=Nn.K,Nn=Nn.w+(wt>>Nn.b)*Dn;wt<$e;){var Es=fr,Hs=Nn,as=1;for(qE(ut,tt,Ye,Ht-Kt,1,Ye,Ht);as<Kt;){var Oi=(as&~Ln)+zt;Oi>Kt&&(Oi=Kt),(0,Hm[Es[Hs++]>>8&15])(ut,tt+ +as,Ye,Ht+as-Kt,Oi-as,Ye,Ht+as),as=Oi}tt+=Kt,Ht+=Kt,++wt&Ln||(Nn+=Dn)}ct!=Ie.nc&&r(_e,me-jt,_e,me+(ct-We-1)*jt,jt);break;case 1:for(jt=ut,$e=tt,Kt=(ut=Ie.Ea)-(Ht=ut&~(Ye=(tt=1<<Ie.b)-1)),wt=Ce(ut,Ie.b),zt=Ie.K,Ie=Ie.w+(We>>Ie.b)*wt;We<ct;){for(Ln=zt,Dn=Ie,fr=new re,Nn=$e+Ht,Es=$e+ut;$e<Nn;)Ft(Ln[Dn++],fr),hy(fr,jt,$e,tt,_e,me),$e+=tt,me+=tt;$e<Es&&(Ft(Ln[Dn++],fr),hy(fr,jt,$e,Kt,_e,me),$e+=Kt,me+=Kt),++We&Ye||(Ie+=wt)}break;case 3:if(ut==_e&&tt==me&&0<Ie.b){for($e=_e,ut=jt=me+(ct-We)*jt-(Ht=(ct-We)*Ce(Ie.Ea,Ie.b)),tt=_e,Ye=me,wt=[],Ht=(Kt=Ht)-1;0<=Ht;--Ht)wt[Ht]=tt[Ye+Ht];for(Ht=Kt-1;0<=Ht;--Ht)$e[ut+Ht]=wt[Ht];uf(Ie,We,ct,_e,jt,_e,me)}else uf(Ie,We,ct,ut,tt,_e,me)}me=X,_e=V}_e!=V&&r(X,V,me,_e,de)}function md(w,F){var V=w.V,X=w.Ba+w.c*w.C,ce=F-w.C;if(e(F<=w.l.o),e(16>=ce),0<ce){var de=w.l,pe=w.Ta,me=w.Ua,_e=de.width;if(mc(w,ce,V,X),ce=me=[me],e((V=w.C)<(X=F)),e(de.v<de.va),X>de.o&&(X=de.o),V<de.j){var Ie=de.j-V;V=de.j,ce[0]+=Ie*_e}if(V>=X?V=0:(ce[0]+=4*de.v,de.ka=V-de.j,de.U=de.va-de.v,de.T=X-V,V=1),V){if(me=me[0],11>(V=w.ca).S){var We=V.f.RGBA,ct=(X=V.S,ce=de.U,de=de.T,Ie=We.eb,We.A),ut=de;for(We=We.fb+w.Ma*We.A;0<ut--;){var tt=pe,jt=me,wt=ce,$e=Ie,Ye=We;switch(X){case tR:Lu(tt,jt,wt,$e,Ye);break;case nR:eu(tt,jt,wt,$e,Ye);break;case oV:eu(tt,jt,wt,$e,Ye),df($e,Ye,0,wt,1,0);break;case due:Vp(tt,jt,wt,$e,Ye);break;case rR:$(tt,jt,wt,$e,Ye,1);break;case aV:$(tt,jt,wt,$e,Ye,1),df($e,Ye,0,wt,1,0);break;case iR:$(tt,jt,wt,$e,Ye,0);break;case sR:$(tt,jt,wt,$e,Ye,0),df($e,Ye,1,wt,1,0);break;case sV:Vm(tt,jt,wt,$e,Ye);break;case lV:Vm(tt,jt,wt,$e,Ye),fo($e,Ye,wt,1,0);break;case Aue:Hp(tt,jt,wt,$e,Ye);break;default:e(0)}me+=_e,We+=ct}w.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=V.height)}}w.C=F,e(w.C<=w.i)}function af(w){var F;if(0<w.ua)return 0;for(F=0;F<w.Wb;++F){var V=w.Ya[F].G,X=w.Ya[F].H;if(0<V[1][X[1]+0].g||0<V[2][X[2]+0].g||0<V[3][X[3]+0].g)return 0}return 1}function vc(w,F,V,X,ce,de){if(0!=w.Z){var pe=w.qd,me=w.rd;for(e(null!=jm[w.Z]);F<V;++F)jm[w.Z](pe,me,X,ce,X,ce,de),pe=X,me=ce,ce+=de;w.qd=pe,w.rd=me}}function Fu(w,F){var V=w.l.ma,X=0==V.Z||1==V.Z?w.l.j:w.C;if(X=w.C<X?X:w.C,e(F<=w.l.o),F>X){var ce=w.l.width,de=V.ca,pe=V.tb+ce*X,me=w.V,_e=w.Ba+w.c*X,Ie=w.gc;e(1==w.ab),e(3==Ie[0].hc),XF(Ie[0],X,F,me,_e,de,pe),vc(V,X,F,de,pe,ce)}w.C=w.Ma=F}function Ru(w,F,V,X,ce,de,pe){var me=w.$/X,_e=w.$%X,Ie=w.m,We=w.s,ct=V+w.$,ut=ct;ce=V+X*ce;var tt=V+X*de,jt=280+We.ua,wt=w.Pb?me:16777216,$e=0<We.ua?We.Wa:null,Ye=We.wc,Ht=ct<tt?ko(We,_e,me):null;e(w.C<de),e(tt<=ce);var Kt=!1;e:for(;;){for(;Kt||ct<tt;){var zt=0;if(me>=wt){var Ln=ct-V;e((wt=w).Pb),wt.wd=wt.m,wt.xd=Ln,0<wt.s.ua&&Y(wt.s.Wa,wt.s.vb),wt=me+_lt}if(_e&Ye||(Ht=ko(We,_e,me)),e(null!=Ht),Ht.Qb&&(F[ct]=Ht.qb,Kt=!0),!Kt)if(se(Ie),Ht.jc){Ln=F;var Dn=ct,fr=Ht.pd[j(zt=Ie)&Gl-1];e(Ht.jc),256>fr.g?(oe(zt,zt.u+fr.g),Ln[Dn]=fr.value,zt=0):(oe(zt,zt.u+fr.g-256),e(256<=fr.value),zt=fr.value),0==zt&&(Kt=!0)}else zt=Yo(Ht.G[0],Ht.H[0],Ie);if(Ie.h)break;if(Kt||256>zt){if(!Kt)if(Ht.nd)F[ct]=(Ht.qb|zt<<8)>>>0;else{if(se(Ie),Kt=Yo(Ht.G[1],Ht.H[1],Ie),se(Ie),Ln=Yo(Ht.G[2],Ht.H[2],Ie),Dn=Yo(Ht.G[3],Ht.H[3],Ie),Ie.h)break;F[ct]=(Dn<<24|Kt<<16|zt<<8|Ln)>>>0}if(Kt=!1,++ct,++_e>=X&&(_e=0,++me,null!=pe&&me<=de&&!(me%16)&&pe(w,me),null!=$e))for(;ut<ct;)zt=F[ut++],$e.X[(506832829*zt&4294967295)>>>$e.Mb]=zt}else if(280>zt){if(zt=Iu(zt-256,Ie),Ln=Yo(Ht.G[4],Ht.H[4],Ie),se(Ie),Ln=gh(X,Ln=Iu(Ln,Ie)),Ie.h)break;if(ct-V<Ln||ce-ct<zt)break e;for(Dn=0;Dn<zt;++Dn)F[ct+Dn]=F[ct+Dn-Ln];for(ct+=zt,_e+=zt;_e>=X;)_e-=X,++me,null!=pe&&me<=de&&!(me%16)&&pe(w,me);if(e(ct<=ce),_e&Ye&&(Ht=ko(We,_e,me)),null!=$e)for(;ut<ct;)zt=F[ut++],$e.X[(506832829*zt&4294967295)>>>$e.Mb]=zt}else{if(!(zt<jt))break e;for(Kt=zt-280,e(null!=$e);ut<ct;)zt=F[ut++],$e.X[(506832829*zt&4294967295)>>>$e.Mb]=zt;zt=ct,e(!(Kt>>>(Ln=$e).Xa)),F[zt]=Ln.X[Kt],Kt=!0}Kt||e(Ie.h==K(Ie))}if(w.Pb&&Ie.h&&ct<ce)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Y(w.s.vb,w.s.Wa);else{if(Ie.h)break e;pe?.(w,me>de?de:me),w.a=0,w.$=ct-V}return 1}return w.a=3,0}function lf(w){e(null!=w),w.vc=null,w.yc=null,w.Ya=null;var F=w.Wa;null!=F&&(F.X=null),w.vb=null,e(null!=w)}function Ou(){var w=new nV;return null==w?null:(w.a=0,w.xb=mue,Fe("Predictor","VP8LPredictors"),Fe("Predictor","VP8LPredictors_C"),Fe("PredictorAdd","VP8LPredictorsAdd"),Fe("PredictorAdd","VP8LPredictorsAdd_C"),KF=Lt,hy=Tt,Lu=st,eu=vn,Vm=pn,Hp=bn,Vp=nn,D.VP8LMapColor32b=lw,D.VP8LMapColor8b=YF,w)}function cf(w,F,V,X,ce){var de=1,pe=[w],me=[F],_e=X.m,Ie=X.s,We=null,ct=0;e:for(;;){if(V)for(;de&&ae(_e,1);){var ut=pe,tt=me,jt=X,wt=1,$e=jt.m,Ye=jt.gc[jt.ab],Ht=ae($e,2);if(jt.Oc&1<<Ht)de=0;else{switch(jt.Oc|=1<<Ht,Ye.hc=Ht,Ye.Ea=ut[0],Ye.nc=tt[0],Ye.K=[null],++jt.ab,e(4>=jt.ab),Ht){case 0:case 1:Ye.b=ae($e,3)+2,wt=cf(Ce(Ye.Ea,Ye.b),Ce(Ye.nc,Ye.b),0,jt,Ye.K),Ye.K=Ye.K[0];break;case 3:var Kt,zt=ae($e,8)+1,Ln=16<zt?0:4<zt?1:2<zt?2:3;if(ut[0]=Ce(Ye.Ea,Ln),Ye.b=Ln,Kt=wt=cf(zt,1,0,jt,Ye.K)){var Dn,fr=zt,Nn=Ye,Es=1<<(8>>Nn.b),Hs=s(Es);if(null==Hs)Kt=0;else{var as=Nn.K[0],Oi=Nn.w;for(Hs[0]=Nn.K[0][0],Dn=1;Dn<1*fr;++Dn)Hs[Dn]=Pe(as[Oi+Dn],Hs[Dn-1]);for(;Dn<4*Es;++Dn)Hs[Dn]=0;Nn.K[0]=null,Nn.K[0]=Hs,Kt=1}}wt=Kt;break;case 2:break;default:e(0)}de=wt}}if(pe=pe[0],me=me[0],de&&ae(_e,1)&&!(de=1<=(ct=ae(_e,4))&&11>=ct)){X.a=3;break e}var oo;if(oo=de)t:{var Ys,ai,Pa,Uu=X,La=pe,ku=me,Vs=ct,yh=V,_h=Uu.m,bl=Uu.s,jl=[null],nu=1,gf=0,yA=ylt[Vs];n:for(;;){if(yh&&ae(_h,1)){var wl=ae(_h,3)+2,jp=Ce(La,wl),gy=Ce(ku,wl),dw=jp*gy;if(!cf(jp,gy,0,Uu,jl))break n;for(jl=jl[0],bl.xc=wl,Ys=0;Ys<dw;++Ys){var qm=jl[Ys]>>8&65535;jl[Ys]=qm,qm>=nu&&(nu=qm+1)}}if(_h.h)break n;for(ai=0;5>ai;++ai){var ea=pue[ai];!ai&&0<Vs&&(ea+=1<<Vs),gf<ea&&(gf=ea)}var fV=o(nu*yA,R),Eue=nu,Due=o(Eue,k);if(null==Due)var cR=null;else e(65536>=Eue),cR=Due;var ZE=s(gf);if(null==cR||null==ZE||null==fV){Uu.a=1;break n}var uR=fV;for(Ys=Pa=0;Ys<nu;++Ys){var wd=cR[Ys],Aw=wd.G,pw=wd.H,Mue=0,hR=1,Tue=0;for(ai=0;5>ai;++ai){ea=pue[ai],Aw[ai]=uR,pw[ai]=Pa,!ai&&0<Vs&&(ea+=1<<Vs);i:{var fR,dV=ea,dR=Uu,e2=ZE,Hlt=uR,Vlt=Pa,AV=0,Wm=dR.m,Qlt=ae(Wm,1);if(i(e2,0,0,dV),Qlt){var zlt=ae(Wm,1)+1,Glt=ae(Wm,1),Bue=ae(Wm,0==Glt?1:8);e2[Bue]=1,2==zlt&&(e2[Bue=ae(Wm,8)]=1);var AR=1}else{var Nue=s(19),Iue=ae(Wm,4)+4;if(19<Iue){dR.a=3;var pR=0;break i}for(fR=0;fR<Iue;++fR)Nue[mlt[fR]]=ae(Wm,3);var pV=void 0,t2=void 0,Fue=dR,jlt=Nue,gR=dV,Rue=e2,gV=0,$m=Fue.m,Oue=8,Pue=o(128,R);r:for(;B(Pue,0,7,jlt,19);){if(ae($m,1)){var qlt=2+2*ae($m,3);if((pV=2+ae($m,qlt))>gR)break r}else pV=gR;for(t2=0;t2<gR&&pV--;){se($m);var Lue=Pue[0+(127&j($m))];oe($m,$m.u+Lue.g);var gw=Lue.value;if(16>gw)Rue[t2++]=gw,0!=gw&&(Oue=gw);else{var Wlt=16==gw,Uue=gw-16,$lt=plt[Uue],kue=ae($m,Alt[Uue])+$lt;if(t2+kue>gR)break r;for(var Klt=Wlt?Oue:0;0<kue--;)Rue[t2++]=Klt}}gV=1;break r}gV||(Fue.a=3),AR=gV}(AR=AR&&!Wm.h)&&(AV=B(Hlt,Vlt,8,e2,dV)),AR&&0!=AV?pR=AV:(dR.a=3,pR=0)}if(0==pR)break n;if(hR&&1==glt[ai]&&(hR=0==uR[Pa].g),Mue+=uR[Pa].g,Pa+=pR,3>=ai){var n2,mV=ZE[0];for(n2=1;n2<ea;++n2)ZE[n2]>mV&&(mV=ZE[n2]);Tue+=mV}}if(wd.nd=hR,wd.Qb=0,hR&&(wd.qb=(Aw[3][pw[3]+0].value<<24|Aw[1][pw[1]+0].value<<16|Aw[2][pw[2]+0].value)>>>0,0==Mue&&256>Aw[0][pw[0]+0].value&&(wd.Qb=1,wd.qb+=Aw[0][pw[0]+0].value<<8)),wd.jc=!wd.Qb&&6>Tue,wd.jc){var mR,qp=wd;for(mR=0;mR<Gl;++mR){var Km=mR,Xm=qp.pd[Km],vR=qp.G[0][qp.H[0]+Km];256<=vR.value?(Xm.g=vR.g+256,Xm.value=vR.value):(Xm.g=0,Xm.value=0,Km>>=Uo(vR,8,Xm),Km>>=Uo(qp.G[1][qp.H[1]+Km],16,Xm),Km>>=Uo(qp.G[2][qp.H[2]+Km],0,Xm),Uo(qp.G[3][qp.H[3]+Km],24,Xm))}}}bl.vc=jl,bl.Wb=nu,bl.Ya=cR,bl.yc=fV,oo=1;break t}oo=0}if(!(de=oo)){X.a=3;break e}if(0<ct){if(Ie.ua=1<<ct,!ne(Ie.Wa,ct)){X.a=1,de=0;break e}}else Ie.ua=0;var vV=X,Hue=pe,Xlt=me,yV=vV.s,_V=yV.xc;if(vV.c=Hue,vV.i=Xlt,yV.md=Ce(Hue,_V),yV.wc=0==_V?-1:(1<<_V)-1,V){X.xb=Dlt;break e}if(null==(We=s(pe*me))){X.a=1,de=0;break e}de=(de=Ru(X,We,0,pe,me,me,null))&&!_e.h;break e}return de?(null!=ce?ce[0]=We:(e(null==We),e(V)),X.$=0,V||lf(Ie)):lf(Ie),de}function Lp(w,F){var V=w.c*w.i,X=V+F+16*F;return e(w.c<=F),w.V=s(X),null==w.V?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+V+F,1)}function Om(w,F){var V=w.C,X=F-V,ce=w.V,de=w.Ba+w.c*V;for(e(F<=w.l.o);0<X;){var pe=16<X?16:X,me=w.l.ma,_e=w.l.width,Ie=_e*pe,We=me.ca,ct=me.tb+_e*V,ut=w.Ta,tt=w.Ua;mc(w,pe,ce,de),ma(ut,tt,We,ct,Ie),vc(me,V,V+pe,We,ct,_e),X-=pe,ce+=pe*w.c,V+=pe}e(V==F),w.C=w.Ma=F}function be(){this.ub=this.yd=this.td=this.Rb=0}function et(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function At(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function gt(){var w;this.Yb=(function F(V,X,ce){for(var de=ce[X],pe=0;pe<de&&(V.push(ce.length>X+1?[]:0),!(ce.length<X+1));pe++)F(V[pe],X+1,ce)}(w=[],0,[3,11]),w)}function it(){this.jb=s(3),this.Wc=a([4,8],gt),this.Xc=a([4,17],gt)}function on(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function wn(){this.ld=this.La=this.dd=this.tc=0}function Vn(){this.Na=this.la=0}function Gn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pr(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Mr(){this.uc=this.M=this.Nb=0,this.wa=Array(new wn),this.Y=0,this.ya=Array(new pr),this.aa=0,this.l=new Fi}function rr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function _i(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new be,this.Kc=new et,this.ed=new on,this.Qa=new At,this.Ic=this.$c=this.Aa=0,this.D=new Mr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ve),this.ia=0,this.pb=o(4,Gn),this.Pa=new it,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rr),this.Hd=0,this.rb=Array(new Vn),this.sb=0,this.wa=Array(new wn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pr),this.L=this.aa=0,this.gd=a([4,2],wn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Fi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function so(){var w=new _i;return null!=w&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,YE||(YE=Jo)),w}function Wr(w,F,V){return 0==w.a&&(w.a=F,w.sc=V,w.cb=0),0}function Mi(w,F,V){return 3<=V&&157==w[F+0]&&1==w[F+1]&&42==w[F+2]}function ir(w,F){if(null==w)return 0;if(w.a=0,w.sc="OK",null==F)return Wr(w,2,"null VP8Io passed to VP8GetHeaders()");var V=F.data,X=F.w,ce=F.ha;if(4>ce)return Wr(w,7,"Truncated header.");var de=V[X+0]|V[X+1]<<8|V[X+2]<<16,pe=w.Od;if(pe.Rb=!(1&de),pe.td=de>>1&7,pe.yd=de>>4&1,pe.ub=de>>5,3<pe.td)return Wr(w,3,"Incorrect keyframe parameters.");if(!pe.yd)return Wr(w,4,"Frame not displayable.");X+=3,ce-=3;var me=w.Kc;if(pe.Rb){if(7>ce)return Wr(w,7,"cannot parse picture header");if(!Mi(V,X,ce))return Wr(w,3,"Bad code word");me.c=16383&(V[X+4]<<8|V[X+3]),me.Td=V[X+4]>>6,me.i=16383&(V[X+6]<<8|V[X+5]),me.Ud=V[X+6]>>6,X+=7,ce-=7,w.za=me.c+15>>4,w.Ub=me.i+15>>4,F.width=me.c,F.height=me.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,i((de=w.Pa).jb,0,255,de.jb.length),e(null!=(de=w.Qa)),de.Cb=0,de.Bb=0,de.Fb=1,i(de.Zb,0,0,de.Zb.length),i(de.Lb,0,0,de.Lb)}if(pe.ub>ce)return Wr(w,7,"bad partition length");q(de=w.m,V,X,pe.ub),X+=pe.ub,ce-=pe.ub,pe.Rb&&(me.Ld=te(de),me.Kd=te(de)),me=w.Qa;var _e,Ie=w.Pa;if(e(null!=de),e(null!=me),me.Cb=te(de),me.Cb){if(me.Bb=te(de),te(de)){for(me.Fb=te(de),_e=0;4>_e;++_e)me.Zb[_e]=te(de)?P(de,7):0;for(_e=0;4>_e;++_e)me.Lb[_e]=te(de)?P(de,6):0}if(me.Bb)for(_e=0;3>_e;++_e)Ie.jb[_e]=te(de)?O(de,8):255}else me.Bb=0;if(de.Ka)return Wr(w,3,"cannot parse segment header");if((me=w.ed).zd=te(de),me.Tb=O(de,6),me.wb=O(de,3),me.Pc=te(de),me.Pc&&te(de)){for(Ie=0;4>Ie;++Ie)te(de)&&(me.vd[Ie]=P(de,6));for(Ie=0;4>Ie;++Ie)te(de)&&(me.od[Ie]=P(de,6))}if(w.L=0==me.Tb?0:me.zd?1:2,de.Ka)return Wr(w,3,"cannot parse filter header");var We=ce;if(ce=_e=X,X=_e+We,me=We,w.Xb=(1<<O(w.m,2))-1,We<3*(Ie=w.Xb))V=7;else{for(_e+=3*Ie,me-=3*Ie,We=0;We<Ie;++We){var ct=V[ce+0]|V[ce+1]<<8|V[ce+2]<<16;ct>me&&(ct=me),q(w.Jc[+We],V,_e,ct),_e+=ct,me-=ct,ce+=3}q(w.Jc[+Ie],V,_e,me),V=_e<X?0:5}if(0!=V)return Wr(w,V,"cannot parse partitions");for(V=O(_e=w.m,7),ce=te(_e)?P(_e,4):0,X=te(_e)?P(_e,4):0,me=te(_e)?P(_e,4):0,Ie=te(_e)?P(_e,4):0,_e=te(_e)?P(_e,4):0,We=w.Qa,ct=0;4>ct;++ct){if(We.Cb){var ut=We.Zb[ct];We.Fb||(ut+=V)}else{if(0<ct){w.pb[ct]=w.pb[0];continue}ut=V}var tt=w.pb[ct];tt.Sc[0]=cV[mh(ut+ce,127)],tt.Sc[1]=uV[mh(ut+0,127)],tt.Eb[0]=2*cV[mh(ut+X,127)],tt.Eb[1]=101581*uV[mh(ut+me,127)]>>16,8>tt.Eb[1]&&(tt.Eb[1]=8),tt.Qc[0]=cV[mh(ut+Ie,117)],tt.Qc[1]=uV[mh(ut+_e,127)],tt.lc=ut+_e}if(!pe.Rb)return Wr(w,4,"Not a key frame.");for(te(de),pe=w.Pa,V=0;4>V;++V){for(ce=0;8>ce;++ce)for(X=0;3>X;++X)for(me=0;11>me;++me)Ie=ee(de,xlt[V][ce][X][me])?O(de,8):Clt[V][ce][X][me],pe.Wc[V][ce].Yb[X][me]=Ie;for(ce=0;17>ce;++ce)pe.Xc[V][ce]=pe.Wc[V][Elt[ce]]}return w.kc=te(de),w.kc&&(w.Bd=O(de,8)),w.cb=1}function Jo(w,F,V,X,ce,de,pe){var me=F[ce].Yb[V];for(V=0;16>ce;++ce){if(!ee(w,me[V+0]))return ce;for(;!ee(w,me[V+1]);)if(me=F[++ce].Yb[0],V=0,16==ce)return 16;var _e=F[ce+1].Yb;if(ee(w,me[V+2])){var Ie=w,We=0;if(ee(Ie,(ut=me)[(ct=V)+3]))if(ee(Ie,ut[ct+6])){for(me=0,ct=2*(We=ee(Ie,ut[ct+8]))+(ut=ee(Ie,ut[ct+9+We])),We=0,ut=blt[ct];ut[me];++me)We+=We+ee(Ie,ut[me]);We+=3+(8<<ct)}else ee(Ie,ut[ct+7])?(We=7+2*ee(Ie,165),We+=ee(Ie,145)):We=5+ee(Ie,159);else We=ee(Ie,ut[ct+4])?3+ee(Ie,ut[ct+5]):2;me=_e[2]}else We=1,me=_e[1];_e=pe+wlt[ce],0>(Ie=w).b&&le(Ie);var ct,ut=Ie.b,tt=(ct=Ie.Ca>>1)-(Ie.I>>ut)>>31;--Ie.b,Ie.Ca+=tt,Ie.Ca|=1,Ie.I-=(ct+1&tt)<<ut,de[_e]=((We^tt)-tt)*X[(0<ce)+0]}return 16}function Ri(w){var F=w.rb[w.sb-1];F.la=0,F.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function vl(w,F,V,X,ce){w[F+V+32*X]=-256&(ce=w[F+V+32*X]+(ce>>3))?0>ce?0:255:ce}function Ia(w,F,V,X,ce,de){vl(w,F,0,V,X+ce),vl(w,F,1,V,X+de),vl(w,F,2,V,X-de),vl(w,F,3,V,X-ce)}function Fa(w){return(20091*w>>16)+w}function Is(w,F,V,X){var ce,de=0,pe=s(16);for(ce=0;4>ce;++ce){var me=w[F+0]+w[F+8],_e=w[F+0]-w[F+8],Ie=(35468*w[F+4]>>16)-Fa(w[F+12]),We=Fa(w[F+4])+(35468*w[F+12]>>16);pe[de+0]=me+We,pe[de+1]=_e+Ie,pe[de+2]=_e-Ie,pe[de+3]=me-We,de+=4,F++}for(ce=de=0;4>ce;++ce)me=(w=pe[de+0]+4)+pe[de+8],_e=w-pe[de+8],Ie=(35468*pe[de+4]>>16)-Fa(pe[de+12]),vl(V,X,0,0,me+(We=Fa(pe[de+4])+(35468*pe[de+12]>>16))),vl(V,X,1,0,_e+Ie),vl(V,X,2,0,_e-Ie),vl(V,X,3,0,me-We),de++,X+=32}function zl(w,F,V,X){var ce=w[F+0]+4,de=35468*w[F+4]>>16,pe=Fa(w[F+4]),me=35468*w[F+1]>>16;Ia(V,X,0,ce+pe,w=Fa(w[F+1]),me),Ia(V,X,1,ce+de,w,me),Ia(V,X,2,ce-de,w,me),Ia(V,X,3,ce-pe,w,me)}function yc(w,F,V,X,ce){Is(w,F,V,X),ce&&Is(w,F+16,V,X+4)}function Ra(w,F,V,X){Qp(w,F+0,V,X,1),Qp(w,F+32,V,X+128,1)}function yl(w,F,V,X){var ce;for(w=w[F+0]+4,ce=0;4>ce;++ce)for(F=0;4>F;++F)vl(V,X,F,ce,w)}function Pm(w,F,V,X){w[F+0]&&tu(w,F+0,V,X),w[F+16]&&tu(w,F+16,V,X+4),w[F+32]&&tu(w,F+32,V,X+128),w[F+48]&&tu(w,F+48,V,X+128+4)}function vd(w,F,V,X){var ce,de=s(16);for(ce=0;4>ce;++ce){var pe=w[F+0+ce]+w[F+12+ce],me=w[F+4+ce]+w[F+8+ce],_e=w[F+4+ce]-w[F+8+ce],Ie=w[F+0+ce]-w[F+12+ce];de[0+ce]=pe+me,de[8+ce]=pe-me,de[4+ce]=Ie+_e,de[12+ce]=Ie-_e}for(ce=0;4>ce;++ce)pe=(w=de[0+4*ce]+3)+de[3+4*ce],_e=de[1+4*ce]-de[2+4*ce],Ie=w-de[3+4*ce],V[X+0]=pe+(me=de[1+4*ce]+de[2+4*ce])>>3,V[X+16]=Ie+_e>>3,V[X+32]=pe-me>>3,V[X+48]=Ie-_e>>3,X+=64}function BE(w,F,V){var X,ce=F-32,de=vh,pe=255-w[ce-1];for(X=0;X<V;++X){var me,_e=de,Ie=pe+w[F-1];for(me=0;me<V;++me)w[F+me]=_e[Ie+w[ce+me]];F+=32}}function z6(w,F){BE(w,F,4)}function G6(w,F){BE(w,F,8)}function j6(w,F){BE(w,F,16)}function Up(w,F){var V;for(V=0;16>V;++V)r(w,F+32*V,w,F-32,16)}function Xb(w,F){var V;for(V=16;0<V;--V)i(w,F,w[F-1],16),F+=32}function Yb(w,F,V){var X;for(X=0;16>X;++X)i(F,V+32*X,w,16)}function UF(w,F){var V,X=16;for(V=0;16>V;++V)X+=w[F-1+32*V]+w[F+V-32];Yb(X>>5,w,F)}function _c(w,F){var V,X=8;for(V=0;16>V;++V)X+=w[F-1+32*V];Yb(X>>4,w,F)}function q6(w,F){var V,X=8;for(V=0;16>V;++V)X+=w[F+V-32];Yb(X>>4,w,F)}function kF(w,F){Yb(128,w,F)}function Qr(w,F,V){return w+2*F+V+2>>2}function W6(w,F){var V,X=F-32;for(X=new Uint8Array([Qr(w[X-1],w[X+0],w[X+1]),Qr(w[X+0],w[X+1],w[X+2]),Qr(w[X+1],w[X+2],w[X+3]),Qr(w[X+2],w[X+3],w[X+4])]),V=0;4>V;++V)r(w,F+32*V,X,0,X.length)}function $6(w,F){var V=w[F-1],X=w[F-1+32],ce=w[F-1+64],de=w[F-1+96];Ae(w,F+0,16843009*Qr(w[F-1-32],V,X)),Ae(w,F+32,16843009*Qr(V,X,ce)),Ae(w,F+64,16843009*Qr(X,ce,de)),Ae(w,F+96,16843009*Qr(ce,de,de))}function gA(w,F){var V,X=4;for(V=0;4>V;++V)X+=w[F+V-32]+w[F-1+32*V];for(X>>=3,V=0;4>V;++V)i(w,F+32*V,X,4)}function HF(w,F){var V=w[F-1+0],X=w[F-1+32],ce=w[F-1+64],de=w[F-1-32],pe=w[F+0-32],me=w[F+1-32],_e=w[F+2-32],Ie=w[F+3-32];w[F+0+96]=Qr(X,ce,w[F-1+96]),w[F+1+96]=w[F+0+64]=Qr(V,X,ce),w[F+2+96]=w[F+1+64]=w[F+0+32]=Qr(de,V,X),w[F+3+96]=w[F+2+64]=w[F+1+32]=w[F+0+0]=Qr(pe,de,V),w[F+3+64]=w[F+2+32]=w[F+1+0]=Qr(me,pe,de),w[F+3+32]=w[F+2+0]=Qr(_e,me,pe),w[F+3+0]=Qr(Ie,_e,me)}function VF(w,F){var V=w[F+1-32],X=w[F+2-32],ce=w[F+3-32],de=w[F+4-32],pe=w[F+5-32],me=w[F+6-32],_e=w[F+7-32];w[F+0+0]=Qr(w[F+0-32],V,X),w[F+1+0]=w[F+0+32]=Qr(V,X,ce),w[F+2+0]=w[F+1+32]=w[F+0+64]=Qr(X,ce,de),w[F+3+0]=w[F+2+32]=w[F+1+64]=w[F+0+96]=Qr(ce,de,pe),w[F+3+32]=w[F+2+64]=w[F+1+96]=Qr(de,pe,me),w[F+3+64]=w[F+2+96]=Qr(pe,me,_e),w[F+3+96]=Qr(me,_e,_e)}function Jb(w,F){var V=w[F-1+0],X=w[F-1+32],ce=w[F-1+64],de=w[F-1-32],pe=w[F+0-32],me=w[F+1-32],_e=w[F+2-32],Ie=w[F+3-32];w[F+0+0]=w[F+1+64]=de+pe+1>>1,w[F+1+0]=w[F+2+64]=pe+me+1>>1,w[F+2+0]=w[F+3+64]=me+_e+1>>1,w[F+3+0]=_e+Ie+1>>1,w[F+0+96]=Qr(ce,X,V),w[F+0+64]=Qr(X,V,de),w[F+0+32]=w[F+1+96]=Qr(V,de,pe),w[F+1+32]=w[F+2+96]=Qr(de,pe,me),w[F+2+32]=w[F+3+96]=Qr(pe,me,_e),w[F+3+32]=Qr(me,_e,Ie)}function NE(w,F){var V=w[F+0-32],X=w[F+1-32],ce=w[F+2-32],de=w[F+3-32],pe=w[F+4-32],me=w[F+5-32],_e=w[F+6-32],Ie=w[F+7-32];w[F+0+0]=V+X+1>>1,w[F+1+0]=w[F+0+64]=X+ce+1>>1,w[F+2+0]=w[F+1+64]=ce+de+1>>1,w[F+3+0]=w[F+2+64]=de+pe+1>>1,w[F+0+32]=Qr(V,X,ce),w[F+1+32]=w[F+0+96]=Qr(X,ce,de),w[F+2+32]=w[F+1+96]=Qr(ce,de,pe),w[F+3+32]=w[F+2+96]=Qr(de,pe,me),w[F+3+64]=Qr(pe,me,_e),w[F+3+96]=Qr(me,_e,Ie)}function K6(w,F){var V=w[F-1+0],X=w[F-1+32],ce=w[F-1+64],de=w[F-1+96];w[F+0+0]=V+X+1>>1,w[F+2+0]=w[F+0+32]=X+ce+1>>1,w[F+2+32]=w[F+0+64]=ce+de+1>>1,w[F+1+0]=Qr(V,X,ce),w[F+3+0]=w[F+1+32]=Qr(X,ce,de),w[F+3+32]=w[F+1+64]=Qr(ce,de,de),w[F+3+64]=w[F+2+64]=w[F+0+96]=w[F+1+96]=w[F+2+96]=w[F+3+96]=de}function X6(w,F){var V=w[F-1+0],X=w[F-1+32],ce=w[F-1+64],de=w[F-1+96],pe=w[F-1-32],me=w[F+0-32],_e=w[F+1-32],Ie=w[F+2-32];w[F+0+0]=w[F+2+32]=V+pe+1>>1,w[F+0+32]=w[F+2+64]=X+V+1>>1,w[F+0+64]=w[F+2+96]=ce+X+1>>1,w[F+0+96]=de+ce+1>>1,w[F+3+0]=Qr(me,_e,Ie),w[F+2+0]=Qr(pe,me,_e),w[F+1+0]=w[F+3+32]=Qr(V,pe,me),w[F+1+32]=w[F+3+64]=Qr(X,V,pe),w[F+1+64]=w[F+3+96]=Qr(ce,X,V),w[F+1+96]=Qr(de,ce,X)}function Y6(w,F){var V;for(V=0;8>V;++V)r(w,F+32*V,w,F-32,8)}function IE(w,F){var V;for(V=0;8>V;++V)i(w,F,w[F-1],8),F+=32}function ay(w,F,V){var X;for(X=0;8>X;++X)i(F,V+32*X,w,8)}function Lm(w,F){var V,X=8;for(V=0;8>V;++V)X+=w[F+V-32]+w[F-1+32*V];ay(X>>4,w,F)}function J6(w,F){var V,X=4;for(V=0;8>V;++V)X+=w[F+V-32];ay(X>>3,w,F)}function ly(w,F){var V,X=4;for(V=0;8>V;++V)X+=w[F-1+32*V];ay(X>>3,w,F)}function FE(w,F){ay(128,w,F)}function Zb(w,F,V){var X=w[F-V],ce=w[F+0],de=3*(ce-X)+iV[1020+w[F-2*V]-w[F+V]],pe=eR[112+(de+4>>3)];w[F-V]=vh[255+X+eR[112+(de+3>>3)]],w[F+0]=vh[255+ce-pe]}function QF(w,F,V,X){return Af[255+w[F-2*V]-w[F-V]]>X||Af[255+w[F+V]-w[F+0]]>X}function zF(w,F,V,X){return 4*Af[255+w[F-V]-w[F+0]]+Af[255+w[F-2*V]-w[F+V]]<=X}function GF(w,F,V,X,ce){var de=w[F-3*V],pe=w[F-2*V],me=w[F-V],_e=w[F+0],Ie=w[F+V],We=w[F+2*V];return 4*Af[255+me-_e]+Af[255+pe-Ie]>X?0:Af[255+w[F-4*V]-de]<=ce&&Af[255+de-pe]<=ce&&Af[255+pe-me]<=ce&&Af[255+w[F+3*V]-We]<=ce&&Af[255+We-Ie]<=ce&&Af[255+Ie-_e]<=ce}function jF(w,F,V,X){var ce=2*X+1;for(X=0;16>X;++X)zF(w,F+X,V,ce)&&Zb(w,F+X,V)}function mA(w,F,V,X){var ce=2*X+1;for(X=0;16>X;++X)zF(w,F+X*V,1,ce)&&Zb(w,F+X*V,1)}function kp(w,F,V,X){var ce;for(ce=3;0<ce;--ce)jF(w,F+=4*V,V,X)}function Z6(w,F,V,X){var ce;for(ce=3;0<ce;--ce)mA(w,F+=4,V,X)}function Um(w,F,V,X,ce,de,pe,me){for(de=2*de+1;0<ce--;){if(GF(w,F,V,de,pe))if(QF(w,F,V,me))Zb(w,F,V);else{var _e=w,Ie=F,We=V,ct=_e[Ie-2*We],ut=_e[Ie-We],tt=_e[Ie+0],jt=_e[Ie+We],wt=_e[Ie+2*We],$e=27*(Ht=iV[1020+3*(tt-ut)+iV[1020+ct-jt]])+63>>7,Ye=18*Ht+63>>7,Ht=9*Ht+63>>7;_e[Ie-3*We]=vh[255+_e[Ie-3*We]+Ht],_e[Ie-2*We]=vh[255+ct+Ye],_e[Ie-We]=vh[255+ut+$e],_e[Ie+0]=vh[255+tt-$e],_e[Ie+We]=vh[255+jt-Ye],_e[Ie+2*We]=vh[255+wt-Ht]}F+=X}}function yd(w,F,V,X,ce,de,pe,me){for(de=2*de+1;0<ce--;){if(GF(w,F,V,de,pe))if(QF(w,F,V,me))Zb(w,F,V);else{var _e=w,Ie=F,We=V,ct=_e[Ie-We],ut=_e[Ie+0],tt=_e[Ie+We],jt=eR[112+(4+(wt=3*(ut-ct))>>3)],wt=eR[112+(wt+3>>3)],$e=jt+1>>1;_e[Ie-2*We]=vh[255+_e[Ie-2*We]+$e],_e[Ie-We]=vh[255+ct+wt],_e[Ie+0]=vh[255+ut-jt],_e[Ie+We]=vh[255+tt-$e]}F+=X}}function RE(w,F,V,X,ce,de){Um(w,F,V,1,16,X,ce,de)}function cy(w,F,V,X,ce,de){Um(w,F,1,V,16,X,ce,de)}function eV(w,F,V,X,ce,de){var pe;for(pe=3;0<pe;--pe)yd(w,F+=4*V,V,1,16,X,ce,de)}function ew(w,F,V,X,ce,de){var pe;for(pe=3;0<pe;--pe)yd(w,F+=4,1,V,16,X,ce,de)}function tV(w,F,V,X,ce,de,pe,me){Um(w,F,ce,1,8,de,pe,me),Um(V,X,ce,1,8,de,pe,me)}function OE(w,F,V,X,ce,de,pe,me){Um(w,F,1,ce,8,de,pe,me),Um(V,X,1,ce,8,de,pe,me)}function PE(w,F,V,X,ce,de,pe,me){yd(w,F+4*ce,ce,1,8,de,pe,me),yd(V,X+4*ce,ce,1,8,de,pe,me)}function qF(w,F,V,X,ce,de,pe,me){yd(w,F+4,1,ce,8,de,pe,me),yd(V,X+4,1,ce,8,de,pe,me)}function tw(){this.ba=new nt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new an,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function LE(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function UE(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function WF(){this.ua=0,this.Wa=new W,this.vb=new W,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new k,this.yc=new R}function nV(){this.xb=this.a=0,this.l=new Fi,this.ca=new nt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new WF,this.ab=0,this.gc=o(4,UE),this.Oc=0}function nw(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Fi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function uy(w,F,V,X,ce,de,pe){for(w=null==w?0:w[F+0],F=0;F<pe;++F)ce[de+F]=w+V[X+F]&255,w=ce[de+F]}function kE(w,F,V,X,ce,de,pe){var me;if(null==w)uy(null,null,V,X,ce,de,pe);else for(me=0;me<pe;++me)ce[de+me]=w[F+me]+V[X+me]&255}function km(w,F,V,X,ce,de,pe){if(null==w)uy(null,null,V,X,ce,de,pe);else{var me,_e=w[F+0],Ie=_e,We=_e;for(me=0;me<pe;++me)Ie=We+(_e=w[F+me])-Ie,We=V[X+me]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=_e,ce[de+me]=We}}function HE(w,F,V,X){var ce=F.width,de=F.o;if(e(null!=w&&null!=F),0>V||0>=X||V+X>de)return null;if(!w.Cc){if(null==w.ga){var pe;if(w.ga=new nw,(pe=null==w.ga)||(pe=F.width*F.o,e(0==w.Gb.length),w.Gb=s(pe),w.Uc=0,null==w.Gb?pe=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,pe=1),pe=!pe),!pe){var me=w.Fa,_e=w.P,Ie=w.qc,We=w.mb,ct=w.nb,ut=_e+1,tt=Ie-1,jt=(pe=w.ga).l;if(e(null!=me&&null!=We&&null!=F),jm[0]=null,jm[1]=uy,jm[2]=kE,jm[3]=km,pe.ca=We,pe.tb=ct,pe.c=F.width,pe.i=F.height,e(0<pe.c&&0<pe.i),1>=Ie)F=0;else if(pe.$a=3&me[_e+0],pe.Z=me[_e+0]>>2&3,pe.Lc=me[_e+0]>>4&3,_e=me[_e+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||_e)F=0;else if(jt.put=gi,jt.ac=Zi,jt.bc=Xo,jt.ma=pe,jt.width=F.width,jt.height=F.height,jt.Da=F.Da,jt.v=F.v,jt.va=F.va,jt.j=F.j,jt.o=F.o,pe.$a)e:{e(1==pe.$a),F=Ou();t:for(;;){if(null==F){F=0;break e}if(e(null!=pe),pe.mc=F,F.c=pe.c,F.i=pe.i,F.l=pe.l,F.l.ma=pe,F.l.width=pe.c,F.l.height=pe.i,F.a=0,G(F.m,me,ut,tt),!cf(pe.c,pe.i,1,F,null)||(1==F.ab&&3==F.gc[0].hc&&af(F.s)?(pe.ic=1,me=F.c*F.i,F.Ta=null,F.Ua=0,F.V=s(me),F.Ba=0,null==F.V?(F.a=1,F=0):F=1):(pe.ic=0,F=Lp(F,pe.c)),!F))break t;F=1;break e}pe.mc=null,F=0}else F=tt>=pe.c*pe.i;pe=!F}if(pe)return null;1!=w.ga.Lc?w.Ga=0:X=de-V}e(null!=w.ga),e(V+X<=de);e:{if(F=(me=w.ga).c,de=me.l.o,0==me.$a){if(ut=w.rc,tt=w.Vc,jt=w.Fa,Ie=w.mb,We=w.nb+V*F,e((_e=w.P+1+V*F)<=w.P+w.qc),0!=me.Z)for(e(null!=jm[me.Z]),pe=0;pe<X;++pe)jm[me.Z](ut,tt,jt,_e,Ie,We,F),ut=Ie,tt=We,We+=F,_e+=F;else for(pe=0;pe<X;++pe)r(Ie,We,jt,_e,F),ut=Ie,tt=We,We+=F,_e+=F;w.rc=ut,w.Vc=tt}else{if(e(null!=me.mc),F=V+X,e(null!=(pe=me.mc)),e(F<=pe.i),pe.C>=F)F=1;else if(me.ic||ot(),me.ic){me=pe.V,ut=pe.Ba;var wt=pe.i,$e=(jt=1,_e=pe.$/(tt=pe.c),Ie=pe.$%tt,We=pe.m,ct=pe.s,pe.$),Ye=tt*wt,Ht=tt*F,Kt=ct.wc,zt=$e<Ht?ko(ct,Ie,_e):null;e($e<=Ye),e(F<=wt),e(af(ct));t:for(;;){for(;!We.h&&$e<Ht;){if(Ie&Kt||(zt=ko(ct,Ie,_e)),e(null!=zt),se(We),256>(wt=Yo(zt.G[0],zt.H[0],We)))me[ut+$e]=wt,++$e,++Ie>=tt&&(Ie=0,++_e<=F&&!(_e%16)&&Fu(pe,_e));else{if(!(280>wt)){jt=0;break t}wt=Iu(wt-256,We);var Ln,Dn=Yo(zt.G[4],zt.H[4],We);if(se(We),!($e>=(Dn=gh(tt,Dn=Iu(Dn,We)))&&Ye-$e>=wt)){jt=0;break t}for(Ln=0;Ln<wt;++Ln)me[ut+$e+Ln]=me[ut+$e+Ln-Dn];for($e+=wt,Ie+=wt;Ie>=tt;)Ie-=tt,++_e<=F&&!(_e%16)&&Fu(pe,_e);$e<Ht&&Ie&Kt&&(zt=ko(ct,Ie,_e))}e(We.h==K(We))}Fu(pe,_e>F?F:_e);break t}!jt||We.h&&$e<Ye?(jt=0,pe.a=We.h?5:3):pe.$=$e,F=jt}else F=Ru(pe,pe.V,pe.Ba,pe.c,pe.i,F,Om);if(!F){X=0;break e}}V+X>=de&&(w.Cc=1),X=1}if(!X)return null;if(w.Cc&&(null!=(X=w.ga)&&(X.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+V*ce}function L(w,F,V,X,ce,de){for(;0<ce--;){var pe,me=w,_e=F+(V?1:0),Ie=w,We=F+(V?0:3);for(pe=0;pe<X;++pe){var ct=Ie[We+4*pe];255!=ct&&(me[_e+4*pe+0]=me[_e+4*pe+0]*(ct*=32897)>>23,me[_e+4*pe+1]=me[_e+4*pe+1]*ct>>23,me[_e+4*pe+2]=me[_e+4*pe+2]*ct>>23)}F+=de}}function ue(w,F,V,X,ce){for(;0<X--;){var de;for(de=0;de<V;++de){var pe=w[F+2*de+0],me=15&(Ie=w[F+2*de+1]),_e=4369*me,Ie=(240&Ie|Ie>>4)*_e>>16;w[F+2*de+0]=(240&pe|pe>>4)*_e>>16&240|(15&pe|pe<<4)*_e>>16>>4&15,w[F+2*de+1]=240&Ie|me}F+=ce}}function Le(w,F,V,X,ce,de,pe,me){var _e,Ie,We=255;for(Ie=0;Ie<ce;++Ie){for(_e=0;_e<X;++_e){var ct=w[F+_e];de[pe+4*_e]=ct,We&=ct}F+=V,pe+=me}return 255!=We}function ze(w,F,V,X,ce){var de;for(de=0;de<ce;++de)V[X+de]=w[F+de]>>8}function ot(){df=L,fo=ue,Ao=Le,ma=ze}function Mt(w,F,V){D[w]=function(X,ce,de,pe,me,_e,Ie,We,ct,ut,tt,jt,wt,$e,Ye,Ht,Kt){var zt,Ln=Kt-1>>1,Dn=me[_e+0]|Ie[We+0]<<16,fr=ct[ut+0]|tt[jt+0]<<16;e(null!=X);var Nn=3*Dn+fr+131074>>2;for(F(X[ce+0],255&Nn,Nn>>16,wt,$e),null!=de&&F(de[pe+0],255&(Nn=3*fr+Dn+131074>>2),Nn>>16,Ye,Ht),zt=1;zt<=Ln;++zt){var Es=me[_e+zt]|Ie[We+zt]<<16,Hs=ct[ut+zt]|tt[jt+zt]<<16,as=Dn+Es+fr+Hs+524296,Oi=as+2*(Es+fr)>>3;Nn=Oi+Dn>>1,Dn=(as=as+2*(Dn+Hs)>>3)+Es>>1,F(X[ce+2*zt-1],255&Nn,Nn>>16,wt,$e+(2*zt-1)*V),F(X[ce+2*zt-0],255&Dn,Dn>>16,wt,$e+(2*zt-0)*V),null!=de&&(Dn=Oi+Hs>>1,F(de[pe+2*zt-1],255&(Nn=as+fr>>1),Nn>>16,Ye,Ht+(2*zt-1)*V),F(de[pe+2*zt+0],255&Dn,Dn>>16,Ye,Ht+(2*zt+0)*V)),Dn=Es,fr=Hs}1&Kt||(F(X[ce+Kt-1],255&(Nn=3*Dn+fr+131074>>2),Nn>>16,wt,$e+(Kt-1)*V),null!=de&&F(de[pe+Kt-1],255&(Nn=3*fr+Dn+131074>>2),Nn>>16,Ye,Ht+(Kt-1)*V))}}function Zt(){pf[tR]=Mlt,pf[nR]=vue,pf[due]=Tlt,pf[rR]=yue,pf[iR]=_ue,pf[sV]=bue,pf[Aue]=Blt,pf[oV]=vue,pf[aV]=yue,pf[sR]=_ue,pf[lV]=bue}function Pn(w){return w&~Nlt?0>w?0:255:w>>wue}function sr(w,F){return Pn((19077*w>>8)+(26149*F>>8)-14234)}function Yr(w,F,V){return Pn((19077*w>>8)-(6419*F>>8)-(13320*V>>8)+8708)}function $r(w,F){return Pn((19077*w>>8)+(33050*F>>8)-17685)}function es(w,F,V,X,ce){X[ce+0]=sr(w,V),X[ce+1]=Yr(w,F,V),X[ce+2]=$r(w,F)}function Ho(w,F,V,X,ce){X[ce+0]=$r(w,F),X[ce+1]=Yr(w,F,V),X[ce+2]=sr(w,V)}function Zo(w,F,V,X,ce){var de=Yr(w,F,V);F=de<<3&224|$r(w,F)>>3,X[ce+0]=248&sr(w,V)|de>>5,X[ce+1]=F}function Oa(w,F,V,X,ce){var de=240&$r(w,F)|15;X[ce+0]=240&sr(w,V)|Yr(w,F,V)>>4,X[ce+1]=de}function bc(w,F,V,X,ce){X[ce+0]=255,es(w,F,V,X,ce+1)}function _l(w,F,V,X,ce){Ho(w,F,V,X,ce),X[ce+3]=255}function _d(w,F,V,X,ce){es(w,F,V,X,ce),X[ce+3]=255}function mh(w,F){return 0>w?0:w>F?F:w}function vA(w,F,V){D[w]=function(X,ce,de,pe,me,_e,Ie,We,ct){for(var ut=We+(-2&ct)*V;We!=ut;)F(X[ce+0],de[pe+0],me[_e+0],Ie,We),F(X[ce+1],de[pe+0],me[_e+0],Ie,We+V),ce+=2,++pe,++_e,We+=2*V;1&ct&&F(X[ce+0],de[pe+0],me[_e+0],Ie,We)}}function $F(w,F,V){return 0==V?0==w?0==F?6:5:0==F?4:0:V}function VE(w,F,V,X,ce){switch(w>>>30){case 3:Qp(F,V,X,ce,0);break;case 2:ga(F,V,X,ce);break;case 1:tu(F,V,X,ce)}}function QE(w,F){var V,X,ce=F.M,de=F.Nb,pe=w.oc,me=w.pc+40,_e=w.oc,Ie=w.pc+584,We=w.oc,ct=w.pc+600;for(V=0;16>V;++V)pe[me+32*V-1]=129;for(V=0;8>V;++V)_e[Ie+32*V-1]=129,We[ct+32*V-1]=129;for(0<ce?pe[me-1-32]=_e[Ie-1-32]=We[ct-1-32]=129:(i(pe,me-32-1,127,21),i(_e,Ie-32-1,127,9),i(We,ct-32-1,127,9)),X=0;X<w.za;++X){var ut=F.ya[F.aa+X];if(0<X){for(V=-1;16>V;++V)r(pe,me+32*V-4,pe,me+32*V+12,4);for(V=-1;8>V;++V)r(_e,Ie+32*V-4,_e,Ie+32*V+4,4),r(We,ct+32*V-4,We,ct+32*V+4,4)}var tt=w.Gd,jt=w.Hd+X,wt=ut.ad,$e=ut.Hc;if(0<ce&&(r(pe,me-32,tt[jt].y,0,16),r(_e,Ie-32,tt[jt].f,0,8),r(We,ct-32,tt[jt].ea,0,8)),ut.Za){var Ye=pe,Ht=me-32+16;for(0<ce&&(X>=w.za-1?i(Ye,Ht,tt[jt].y[15],4):r(Ye,Ht,tt[jt+1].y,0,4)),V=0;4>V;V++)Ye[Ht+128+V]=Ye[Ht+256+V]=Ye[Ht+384+V]=Ye[Ht+0+V];for(V=0;16>V;++V,$e<<=2)bd[ut.Ob[V]](Ye=pe,Ht=me+Sue[V]),VE($e,wt,16*+V,Ye,Ht)}else if(Ye=$F(X,ce,ut.Ob[0]),Gm[Ye](pe,me),0!=$e)for(V=0;16>V;++V,$e<<=2)VE($e,wt,16*+V,pe,me+Sue[V]);for(V=ut.Gc,Ye=$F(X,ce,ut.Dd),Gp[Ye](_e,Ie),Gp[Ye](We,ct),$e=wt,Ye=_e,Ht=Ie,255&(ut=0|V)&&(170&ut?WE($e,256,Ye,Ht):hf($e,256,Ye,Ht)),ut=We,$e=ct,255&(V>>=8)&&(170&V?WE(wt,320,ut,$e):hf(wt,320,ut,$e)),ce<w.Ub-1&&(r(tt[jt].y,0,pe,me+480,16),r(tt[jt].f,0,_e,Ie+224,8),r(tt[jt].ea,0,We,ct+224,8)),tt=w.sa,jt=w.ta+16*X+16*de*w.R,wt=w.qa,ut=w.ra+8*X+(V=8*de*w.B),$e=w.Ha,Ye=w.Ia+8*X+V,V=0;16>V;++V)r(tt,jt+V*w.R,pe,me+32*V,16);for(V=0;8>V;++V)r(wt,ut+V*w.B,_e,Ie+32*V,8),r($e,Ye+V*w.B,We,ct+32*V,8)}}function rw(w,F,V,X,ce,de,pe,me,_e){var Ie=[0],We=[0],ct=0,ut=null!=_e?_e.kd:0,tt=_e??new LE;if(null==w||12>V)return 7;tt.data=w,tt.w=F,tt.ha=V,F=[F],V=[V],tt.gb=[tt.gb];e:{var jt=F,wt=V,$e=tt.gb;if(e(null!=w),e(null!=wt),e(null!=$e),$e[0]=0,12<=wt[0]&&!t(w,jt[0],"RIFF")){if(t(w,jt[0]+8,"WEBP")){$e=3;break e}var Ye=xe(w,jt[0]+4);if(12>Ye||4294967286<Ye){$e=3;break e}if(ut&&Ye>wt[0]-8){$e=7;break e}$e[0]=Ye,jt[0]+=12,wt[0]-=12}$e=0}if(0!=$e)return $e;for(Ye=0<tt.gb[0],V=V[0];;){e:{var Ht=w;wt=F,$e=V;var Kt=Ie,zt=We,Ln=jt=[0];if((Nn=ct=[ct])[0]=0,8>$e[0])$e=7;else{if(!t(Ht,wt[0],"VP8X")){if(10!=xe(Ht,wt[0]+4)){$e=3;break e}if(18>$e[0]){$e=7;break e}var Dn=xe(Ht,wt[0]+8),fr=1+ge(Ht,wt[0]+12);if(2147483648<=fr*(Ht=1+ge(Ht,wt[0]+15))){$e=3;break e}null!=Ln&&(Ln[0]=Dn),null!=Kt&&(Kt[0]=fr),null!=zt&&(zt[0]=Ht),wt[0]+=18,$e[0]-=18,Nn[0]=1}$e=0}}if(ct=ct[0],0!=$e)return $e;if(wt=!!(2&(jt=jt[0])),!Ye&&ct)return 3;if(null!=de&&(de[0]=!!(16&jt)),null!=pe&&(pe[0]=wt),null!=me&&(me[0]=0),pe=Ie[0],jt=We[0],ct&&wt&&null==_e){$e=0;break}if(4>V){$e=7;break}if(Ye&&ct||!Ye&&!ct&&!t(w,F[0],"ALPH")){V=[V],tt.na=[tt.na],tt.P=[tt.P],tt.Sa=[tt.Sa];e:{$e=F,Ye=V;var Nn=tt.gb;Kt=tt.na,zt=tt.P,Ln=tt.Sa,fr=22,e(null!=(Dn=w)),e(null!=Ye),Ht=$e[0];var Es=Ye[0];for(e(null!=Kt),e(null!=Ln),Kt[0]=null,zt[0]=null,Ln[0]=0;;){if($e[0]=Ht,Ye[0]=Es,8>Es){$e=7;break e}var Hs=xe(Dn,Ht+4);if(4294967286<Hs){$e=3;break e}var as=8+Hs+1&-2;if(fr+=as,0<Nn&&fr>Nn){$e=3;break e}if(!t(Dn,Ht,"VP8 ")||!t(Dn,Ht,"VP8L")){$e=0;break e}if(Es[0]<as){$e=7;break e}t(Dn,Ht,"ALPH")||(Kt[0]=Dn,zt[0]=Ht+8,Ln[0]=Hs),Ht+=as,Es-=as}}if(V=V[0],tt.na=tt.na[0],tt.P=tt.P[0],tt.Sa=tt.Sa[0],0!=$e)break}V=[V],tt.Ja=[tt.Ja],tt.xa=[tt.xa];e:if(Nn=w,$e=F,Ye=V,Kt=tt.gb[0],zt=tt.Ja,Ln=tt.xa,Dn=$e[0],Ht=!t(Nn,Dn,"VP8 "),fr=!t(Nn,Dn,"VP8L"),e(null!=Nn),e(null!=Ye),e(null!=zt),e(null!=Ln),8>Ye[0])$e=7;else{if(Ht||fr){if(Nn=xe(Nn,Dn+4),12<=Kt&&Nn>Kt-12){$e=3;break e}if(ut&&Nn>Ye[0]-8){$e=7;break e}zt[0]=Nn,$e[0]+=8,Ye[0]-=8,Ln[0]=fr}else Ln[0]=5<=Ye[0]&&47==Nn[Dn+0]&&!(Nn[Dn+4]>>5),zt[0]=Ye[0];$e=0}if(V=V[0],tt.Ja=tt.Ja[0],tt.xa=tt.xa[0],F=F[0],0!=$e)break;if(4294967286<tt.Ja)return 3;if(null==me||wt||(me[0]=tt.xa?2:1),pe=[pe],jt=[jt],tt.xa){if(5>V){$e=7;break}me=pe,ut=jt,wt=de,null==w||5>V?w=0:5<=V&&47==w[F+0]&&!(w[F+4]>>5)?(Ye=[0],Nn=[0],Kt=[0],G(zt=new Q,w,F,V),Zn(zt,Ye,Nn,Kt)?(null!=me&&(me[0]=Ye[0]),null!=ut&&(ut[0]=Nn[0]),null!=wt&&(wt[0]=Kt[0]),w=1):w=0):w=0}else{if(10>V){$e=7;break}me=jt,null==w||10>V||!Mi(w,F+3,V-3)?w=0:(ut=w[F+0]|w[F+1]<<8|w[F+2]<<16,wt=16383&(w[F+7]<<8|w[F+6]),w=16383&(w[F+9]<<8|w[F+8]),1&ut||3<(ut>>1&7)||!(ut>>4&1)||ut>>5>=tt.Ja||!wt||!w?w=0:(pe&&(pe[0]=wt),me&&(me[0]=w),w=1))}if(!w||(pe=pe[0],jt=jt[0],ct&&(Ie[0]!=pe||We[0]!=jt)))return 3;null!=_e&&(_e[0]=tt,_e.offset=F-_e.w,e(4294967286>F-_e.w),e(_e.offset==_e.ha-V));break}return 0==$e||7==$e&&ct&&null==_e?(null!=de&&(de[0]|=null!=tt.na&&0<tt.na.length),null!=X&&(X[0]=pe),null!=ce&&(ce[0]=jt),0):$e}function zE(w,F,V){var X=F.width,ce=F.height,de=0,pe=0,me=X,_e=ce;if(F.Da=null!=w&&0<w.Da,F.Da&&(me=w.cd,_e=w.bd,de=w.v,pe=w.j,11>V||(de&=-2,pe&=-2),0>de||0>pe||0>=me||0>=_e||de+me>X||pe+_e>ce))return 0;if(F.v=de,F.j=pe,F.va=de+me,F.o=pe+_e,F.U=me,F.T=_e,F.da=null!=w&&0<w.da,F.da){if(!Me(me,_e,V=[w.ib],de=[w.hb]))return 0;F.ib=V[0],F.hb=de[0]}return F.ob=null!=w&&w.ob,F.Kb=null==w||!w.Sd,F.da&&(F.ob=F.ib<3*X/4&&F.hb<3*ce/4,F.Kb=0),1}function GE(w){if(null==w)return 2;if(11>w.S){var F=w.f.RGBA;F.fb+=(w.height-1)*F.A,F.A=-F.A}else(F=w.f.kb).O+=((w=w.height)-1)*F.fa,F.fa=-F.fa,F.N+=(w-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(w-1>>1)*F.Db,F.Db=-F.Db,null!=F.F&&(F.J+=(w-1)*F.lb,F.lb=-F.lb);return 0}function iw(w,F,V,X){if(null==X||0>=w||0>=F)return 2;if(null!=V){if(V.Da){var ce=V.cd,de=V.bd,pe=-2&V.v,me=-2&V.j;if(0>pe||0>me||0>=ce||0>=de||pe+ce>w||me+de>F)return 2;w=ce,F=de}if(V.da){if(!Me(w,F,ce=[V.ib],de=[V.hb]))return 2;w=ce[0],F=de[0]}}X.width=w,X.height=F;e:{var _e=X.width,Ie=X.height;if(w=X.S,0>=_e||0>=Ie||!(w>=tR&&13>w))w=2;else{if(0>=X.Rd&&null==X.sd){pe=de=ce=F=0;var We=(me=_e*xue[w])*Ie;if(11>w||(de=(Ie+1)/2*(F=(_e+1)/2),12==w&&(pe=(ce=_e)*Ie)),null==(Ie=s(We+2*de+pe))){w=1;break e}X.sd=Ie,11>w?((_e=X.f.RGBA).eb=Ie,_e.fb=0,_e.A=me,_e.size=We):((_e=X.f.kb).y=Ie,_e.O=0,_e.fa=me,_e.Fd=We,_e.f=Ie,_e.N=0+We,_e.Ab=F,_e.Cd=de,_e.ea=Ie,_e.W=0+We+de,_e.Db=F,_e.Ed=de,12==w&&(_e.F=Ie,_e.J=0+We+2*de),_e.Tc=pe,_e.lb=ce)}if(F=1,de=X.width,pe=X.height,(ce=X.S)>=tR&&13>ce)if(11>ce)w=X.f.RGBA,F&=(me=Math.abs(w.A))*(pe-1)+de<=w.size,F&=me>=de*xue[ce],F&=null!=w.eb;else{w=X.f.kb,me=(de+1)/2,We=(pe+1)/2,_e=Math.abs(w.fa),Ie=Math.abs(w.Ab);var ct=Math.abs(w.Db),ut=Math.abs(w.lb);F&=_e*(pe-1)+de<=w.Fd,F&=Ie*(We-1)+me<=w.Cd,F=(F&=ct*(We-1)+me<=w.Ed)&_e>=de&Ie>=me&ct>=me,F&=null!=w.y,F&=null!=w.f,F&=null!=w.ea,12==ce&&(F&=ut>=de,F&=ut*(pe-1)+de<=w.Tc,F&=null!=w.F)}else F=0;w=F?0:2}}return 0!=w||null!=V&&V.fd&&(w=GE(X)),w}var Gl=64,sw=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ow=24,aw=32,jE=8,Pu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(w){return w},D.Predictor2=function(w,F,V){return F[V+0]},D.Predictor3=function(w,F,V){return F[V+1]},D.Predictor4=function(w,F,V){return F[V-1]},D.Predictor5=function(w,F,V){return J(J(w,F[V+1]),F[V+0])},D.Predictor6=function(w,F,V){return J(w,F[V-1])},D.Predictor7=function(w,F,V){return J(w,F[V+0])},D.Predictor8=function(w,F,V){return J(F[V-1],F[V+0])},D.Predictor9=function(w,F,V){return J(F[V+0],F[V+1])},D.Predictor10=function(w,F,V){return J(J(w,F[V-1]),J(F[V+0],F[V+1]))},D.Predictor11=function(w,F,V){var X=F[V+0];return 0>=rt(X>>24&255,w>>24&255,(F=F[V-1])>>24&255)+rt(X>>16&255,w>>16&255,F>>16&255)+rt(X>>8&255,w>>8&255,F>>8&255)+rt(255&X,255&w,255&F)?X:w},D.Predictor12=function(w,F,V){var X=F[V+0];return(Ue((w>>24&255)+(X>>24&255)-((F=F[V-1])>>24&255))<<24|Ue((w>>16&255)+(X>>16&255)-(F>>16&255))<<16|Ue((w>>8&255)+(X>>8&255)-(F>>8&255))<<8|Ue((255&w)+(255&X)-(255&F)))>>>0},D.Predictor13=function(w,F,V){var X=F[V-1];return(Qe((w=J(w,F[V+0]))>>24&255,X>>24&255)<<24|Qe(w>>16&255,X>>16&255)<<16|Qe(w>>8&255,X>>8&255)<<8|Qe(255&w,255&X))>>>0};var rV=D.PredictorAdd0;D.PredictorAdd1=Xe,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var qE=D.PredictorAdd2;_n("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),_n("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var KF,uf=D.ColorIndexInverseTransform,lw=D.MapARGB,XF=D.VP8LColorIndexInverseTransformAlpha,YF=D.MapAlpha,Hm=D.VP8LPredictorsAdd=[];Hm.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var hy,Lu,eu,Vm,Hp,Vp,cw,Qp,ga,WE,tu,hf,uw,JF,$E,fy,dy,Qm,Ay,hw,py,zm,KE,ff,df,fo,Ao,ma,tl=s(511),zp=s(2041),XE=s(225),fw=s(767),ZF=0,iV=zp,eR=XE,vh=fw,Af=tl,tR=0,nR=1,due=2,rR=3,iR=4,sV=5,Aue=6,oV=7,aV=8,sR=9,lV=10,Alt=[2,3,7],plt=[3,3,11],pue=[280,256,256,256,40],glt=[0,1,1,1,0],mlt=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vlt=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ylt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_lt=8,cV=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],uV=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],YE=null,blt=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wlt=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gue=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Clt=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Slt=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],xlt=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Elt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Gm=[],bd=[],Gp=[],Dlt=1,mue=2,jm=[],pf=[];Mt("UpsampleRgbLinePair",es,3),Mt("UpsampleBgrLinePair",Ho,3),Mt("UpsampleRgbaLinePair",_d,4),Mt("UpsampleBgraLinePair",_l,4),Mt("UpsampleArgbLinePair",bc,4),Mt("UpsampleRgba4444LinePair",Oa,2),Mt("UpsampleRgb565LinePair",Zo,2);var Mlt=D.UpsampleRgbLinePair,Tlt=D.UpsampleBgrLinePair,vue=D.UpsampleRgbaLinePair,yue=D.UpsampleBgraLinePair,_ue=D.UpsampleArgbLinePair,bue=D.UpsampleRgba4444LinePair,Blt=D.UpsampleRgb565LinePair,oR=16,aR=1<<oR-1,JE=-227,hV=482,wue=6,Nlt=(256<<wue)-1,Cue=0,Ilt=s(256),Flt=s(256),Rlt=s(256),Olt=s(256),Plt=s(hV-JE),Llt=s(hV-JE);vA("YuvToRgbRow",es,3),vA("YuvToBgrRow",Ho,3),vA("YuvToRgbaRow",_d,4),vA("YuvToBgraRow",_l,4),vA("YuvToArgbRow",bc,4),vA("YuvToRgba4444Row",Oa,2),vA("YuvToRgb565Row",Zo,2);var Sue=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lR=[0,2,8],Ult=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(w,F,V,X,ce){var de=nR,pe=new tw,me=new nt;pe.ba=me,me.S=de,me.width=[me.width],me.height=[me.height];var _e=me.width,Ie=me.height,We=new Dt;if(null==We||null==w)var ct=2;else e(null!=We),ct=rw(w,F,V,We.width,We.height,We.Pd,We.Qd,We.format,null);if(0!=ct?_e=0:(null!=_e&&(_e[0]=We.width[0]),null!=Ie&&(Ie[0]=We.height[0]),_e=1),_e){me.width=me.width[0],me.height=me.height[0],null!=X&&(X[0]=me.width),null!=ce&&(ce[0]=me.height);e:{if(X=new Fi,(ce=new LE).data=w,ce.w=F,ce.ha=V,ce.kd=1,F=[0],e(null!=ce),(0==(w=rw(ce.data,ce.w,ce.ha,null,null,null,F,null,ce))||7==w)&&F[0]&&(w=4),0==(F=w)){if(e(null!=pe),X.data=ce.data,X.w=ce.w+ce.offset,X.ha=ce.ha-ce.offset,X.put=gi,X.ac=Zi,X.bc=Xo,X.ma=pe,ce.xa){if(null==(w=Ou())){pe=1;break e}if(function(ut,tt){var jt=[0],wt=[0],$e=[0];t:for(;;){if(null==ut)return 0;if(null==tt)return ut.a=2,0;if(ut.l=tt,ut.a=0,G(ut.m,tt.data,tt.w,tt.ha),!Zn(ut.m,jt,wt,$e)){ut.a=3;break t}if(ut.xb=mue,tt.width=jt[0],tt.height=wt[0],!cf(jt[0],wt[0],1,ut,null))break t;return 1}return e(0!=ut.a),0}(w,X)){if(X=0==(F=iw(X.width,X.height,pe.Oa,pe.ba))){t:{X=w;n:for(;;){if(null==X){X=0;break t}if(e(null!=X.s.yc),e(null!=X.s.Ya),e(0<X.s.Wb),e(null!=(V=X.l)),e(null!=(ce=V.ma)),0!=X.xb){if(X.ca=ce.ba,X.tb=ce.tb,e(null!=X.ca),!zE(ce.Oa,V,rR)){X.a=2;break n}if(!Lp(X,V.width)||V.da)break n;if((V.da||Ke(X.ca.S))&&ot(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=X.ca.f.kb.F&&ot()),X.Pb&&0<X.s.ua&&null==X.s.vb.X&&!ne(X.s.vb,X.s.Wa.Xa)){X.a=1;break n}X.xb=0}if(!Ru(X,X.V,X.Ba,X.c,X.i,V.o,md))break n;ce.Dc=X.Ma,X=1;break t}e(0!=X.a),X=0}X=!X}X&&(F=w.a)}else F=w.a}else{if(null==(w=new so)){pe=1;break e}if(w.Fa=ce.na,w.P=ce.P,w.qc=ce.Sa,ir(w,X)){if(0==(F=iw(X.width,X.height,pe.Oa,pe.ba))){if(w.Aa=0,V=pe.Oa,e(null!=(ce=w)),null!=V){if(0<(_e=0>(_e=V.Md)?0:100<_e?255:255*_e/100)){for(Ie=We=0;4>Ie;++Ie)12>(ct=ce.pb[Ie]).lc&&(ct.ia=_e*Ult[0>ct.lc?0:ct.lc]>>3),We|=ct.ia;We&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=V.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}(function Zc(w,F){if(null==w)return 0;if(null==F)return Wr(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!ir(w,F))return 0;if(e(w.cb),null==F.ac||F.ac(F)){F.ob&&(w.L=0);var V=lR[w.L];if(2==w.L?(w.yb=0,w.zb=0):(w.yb=F.v-V>>4,w.zb=F.j-V>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=F.o+15+V>>4,w.Hb=F.va+15+V>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var X=w.ed;for(V=0;4>V;++V){var ce;if(w.Qa.Cb){var de=w.Qa.Lb[V];w.Qa.Fb||(de+=X.Tb)}else de=X.Tb;for(ce=0;1>=ce;++ce){var pe=w.gd[V][ce],me=de;if(X.Pc&&(me+=X.vd[0],ce&&(me+=X.od[0])),0<(me=0>me?0:63<me?63:me)){var _e=me;0<X.wb&&(_e=4<X.wb?_e>>2:_e>>1)>9-X.wb&&(_e=9-X.wb),1>_e&&(_e=1),pe.dd=_e,pe.tc=2*me+_e,pe.ld=40<=me?2:15<=me?1:0}else pe.tc=0;pe.La=ce}}}V=0}else Wr(w,6,"Frame setup failed"),V=w.a;if(V=0==V){if(V){w.$c=0,0<w.Aa||(w.Ic=1);e:{X=4*(_e=w.za);var Ie=32*_e,We=_e+1,ct=0<w.L?_e*(0<w.Aa?2:1):0,ut=(2==w.Aa?2:1)*_e;if((pe=X+832+(ce=3*(16*(V=w.Ic)+lR[w.L])/2*Ie)+(de=null!=w.Fa&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=pe)V=0;else{if(pe>w.Vb){if(w.Vb=0,w.Ec=s(pe),w.Fc=0,null==w.Ec){V=Wr(w,1,"no memory during frame initialization.");break e}w.Vb=pe}me=w.Fc,w.Ac=pe=w.Ec,w.Bc=me,me+=X,w.Gd=o(Ie,rr),w.Hd=0,w.rb=o(We+1,Vn),w.sb=1,w.wa=ct?o(ct,wn):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=_e),e(!0),w.oc=pe,w.pc=me,me+=832,w.ya=o(ut,pr),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,2==w.Aa&&(w.D.aa+=_e),w.R=16*_e,w.B=8*_e,_e=(Ie=lR[w.L])*w.R,Ie=Ie/2*w.B,w.sa=pe,w.ta=me+_e,w.qa=w.sa,w.ra=w.ta+16*V*w.R+Ie,w.Ha=w.qa,w.Ia=w.ra+8*V*w.B+Ie,w.$c=0,me+=ce,w.mb=de?pe:null,w.nb=de?me:null,e(me+de<=w.Fc+w.Vb),Ri(w),i(w.Ac,w.Bc,0,X),V=1}}if(V){if(F.ka=0,F.y=w.sa,F.O=w.ta,F.f=w.qa,F.N=w.ra,F.ea=w.Ha,F.Vd=w.Ia,F.fa=w.R,F.Rc=w.B,F.F=null,F.J=0,!ZF){for(V=-255;255>=V;++V)tl[255+V]=0>V?-V:V;for(V=-1020;1020>=V;++V)zp[1020+V]=-128>V?-128:127<V?127:V;for(V=-112;112>=V;++V)XE[112+V]=-16>V?-16:15<V?15:V;for(V=-255;510>=V;++V)fw[255+V]=0>V?0:255<V?255:V;ZF=1}cw=vd,Qp=yc,WE=Ra,tu=yl,hf=Pm,ga=zl,uw=RE,JF=cy,$E=tV,fy=OE,dy=eV,Qm=ew,Ay=PE,hw=qF,py=jF,zm=mA,KE=kp,ff=Z6,bd[0]=gA,bd[1]=z6,bd[2]=W6,bd[3]=$6,bd[4]=HF,bd[5]=Jb,bd[6]=VF,bd[7]=NE,bd[8]=X6,bd[9]=K6,Gm[0]=UF,Gm[1]=j6,Gm[2]=Up,Gm[3]=Xb,Gm[4]=_c,Gm[5]=q6,Gm[6]=kF,Gp[0]=Lm,Gp[1]=G6,Gp[2]=Y6,Gp[3]=IE,Gp[4]=ly,Gp[5]=J6,Gp[6]=FE,V=1}else V=0}V&&(V=function(tt,jt){for(tt.M=0;tt.M<tt.Va;++tt.M){var wt,$e=tt.Jc[tt.M&tt.Xb],Ye=tt.m,Ht=tt;for(wt=0;wt<Ht.za;++wt){var Kt=Ye,zt=Ht,Ln=zt.Ac,Dn=zt.Bc+4*wt,fr=zt.zc,Nn=zt.ya[zt.aa+wt];if(Nn.$b=zt.Qa.Bb?ee(Kt,zt.Pa.jb[0])?2+ee(Kt,zt.Pa.jb[2]):ee(Kt,zt.Pa.jb[1]):0,zt.kc&&(Nn.Ad=ee(Kt,zt.Bd)),Nn.Za=!ee(Kt,145)+0,Nn.Za){var Es=Nn.Ob,Hs=0;for(zt=0;4>zt;++zt){var as,Oi=fr[0+zt];for(as=0;4>as;++as){for(var oo=gue[ee(Kt,(Oi=Slt[Ln[Dn+as]][Oi])[0])];0<oo;)oo=gue[2*oo+ee(Kt,Oi[oo])];Ln[Dn+as]=Oi=-oo}r(Es,Hs,Ln,Dn,4),Hs+=4,fr[0+zt]=Oi}}else Oi=ee(Kt,156)?ee(Kt,128)?1:3:ee(Kt,163)?2:0,Nn.Ob[0]=Oi,i(Ln,Dn,Oi,4),i(fr,0,Oi,4);Nn.Dd=ee(Kt,142)?ee(Kt,114)?ee(Kt,183)?1:3:2:0}if(Ht.m.Ka)return Wr(tt,7,"Premature end-of-partition0 encountered.");for(;tt.ja<tt.za;++tt.ja){if(Ht=$e,Kt=(Ye=tt).rb[Ye.sb-1],Ln=Ye.rb[Ye.sb+Ye.ja],wt=Ye.ya[Ye.aa+Ye.ja],Dn=Ye.kc?wt.Ad:0)Kt.la=Ln.la=0,wt.Za||(Kt.Na=Ln.Na=0),wt.Hc=0,wt.Gc=0,wt.ia=0;else{var Ys,ai;if(Kt=Ln,Ln=Ht,Dn=Ye.Pa.Xc,Nn=Ye.pb[(fr=Ye.ya[Ye.aa+Ye.ja]).$b],Hs=Ye.rb[Ye.sb-1],Oi=as=0,i(zt=fr.ad,Es=0,0,384),fr.Za)var Pa=0,Uu=Dn[3];else{oo=s(16);var La=Kt.Na+Hs.Na;if(La=YE(Ln,Dn[1],La,Nn.Eb,0,oo,0),Kt.Na=Hs.Na=(0<La)+0,1<La)cw(oo,0,zt,Es);else{var ku=oo[0]+3>>3;for(oo=0;256>oo;oo+=16)zt[Es+oo]=ku}Pa=1,Uu=Dn[0]}var Vs=15&Kt.la,yh=15&Hs.la;for(oo=0;4>oo;++oo){var _h=1&yh;for(ku=ai=0;4>ku;++ku)Vs=Vs>>1|(_h=(La=YE(Ln,Uu,La=_h+(1&Vs),Nn.Sc,Pa,zt,Es))>Pa)<<7,ai=ai<<2|(3<La?3:1<La?2:0!=zt[Es+0]),Es+=16;Vs>>=4,yh=yh>>1|_h<<7,as=(as<<8|ai)>>>0}for(Uu=Vs,Pa=yh>>4,Ys=0;4>Ys;Ys+=2){for(ai=0,Vs=Kt.la>>4+Ys,yh=Hs.la>>4+Ys,oo=0;2>oo;++oo){for(_h=1&yh,ku=0;2>ku;++ku)Vs=Vs>>1|(_h=0<(La=YE(Ln,Dn[2],La=_h+(1&Vs),Nn.Qc,0,zt,Es)))<<3,ai=ai<<2|(3<La?3:1<La?2:0!=zt[Es+0]),Es+=16;Vs>>=2,yh=yh>>1|_h<<5}Oi|=ai<<4*Ys,Uu|=Vs<<4<<Ys,Pa|=(240&yh)<<Ys}Kt.la=Uu,Hs.la=Pa,fr.Hc=as,fr.Gc=Oi,fr.ia=43690&Oi?0:Nn.ia,Dn=!(as|Oi)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[wt.$b][wt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!Dn),Ht.Ka)return Wr(tt,7,"Premature end-of-file encountered.")}if(Ri(tt),Ye=jt,Ht=1,wt=($e=tt).D,Kt=0<$e.L&&$e.M>=$e.zb&&$e.M<=$e.Va,0==$e.Aa)e:{if(wt.M=$e.M,wt.uc=Kt,QE($e,wt),Ht=1,wt=(ai=$e.D).Nb,Kt=(Oi=lR[$e.L])*$e.R,Dn=$e.sa,fr=$e.ta-Kt+(oo=16*wt*$e.R),Nn=$e.qa,zt=$e.ra-(Ln=Oi/2*$e.B)+(ku=8*wt*$e.B),Es=$e.Ha,Hs=$e.Ia-Ln+ku,yh=0==(Vs=ai.M),as=Vs>=$e.Va-1,2==$e.Aa&&QE($e,ai),ai.uc)for(_h=(La=$e).D.M,e(La.D.uc),ai=La.yb;ai<La.Hb;++ai){Uu=_h;var bl=(jl=(ea=La).D).Nb,jl=jl.wa[jl.Y+(Pa=ai)],nu=ea.sa,gf=ea.ta+16*bl*(Ys=ea.R)+16*Pa,yA=jl.dd,wl=jl.tc;if(0!=wl)if(e(3<=wl),1==ea.L)0<Pa&&zm(nu,gf,Ys,wl+4),jl.La&&ff(nu,gf,Ys,wl),0<Uu&&py(nu,gf,Ys,wl+4),jl.La&&KE(nu,gf,Ys,wl);else{var jp=ea.B,gy=ea.qa,dw=ea.ra+8*bl*jp+8*Pa,qm=ea.Ha,ea=ea.Ia+8*bl*jp+8*Pa;bl=jl.ld,0<Pa&&(JF(nu,gf,Ys,wl+4,yA,bl),fy(gy,dw,qm,ea,jp,wl+4,yA,bl)),jl.La&&(Qm(nu,gf,Ys,wl,yA,bl),hw(gy,dw,qm,ea,jp,wl,yA,bl)),0<Uu&&(uw(nu,gf,Ys,wl+4,yA,bl),$E(gy,dw,qm,ea,jp,wl+4,yA,bl)),jl.La&&(dy(nu,gf,Ys,wl,yA,bl),Ay(gy,dw,qm,ea,jp,wl,yA,bl))}}if($e.ia&&alert("todo:DitherRow"),null!=Ye.put){if(ai=16*Vs,Vs=16*(Vs+1),yh?(Ye.y=$e.sa,Ye.O=$e.ta+oo,Ye.f=$e.qa,Ye.N=$e.ra+ku,Ye.ea=$e.Ha,Ye.W=$e.Ia+ku):(ai-=Oi,Ye.y=Dn,Ye.O=fr,Ye.f=Nn,Ye.N=zt,Ye.ea=Es,Ye.W=Hs),as||(Vs-=Oi),Vs>Ye.o&&(Vs=Ye.o),Ye.F=null,Ye.J=null,null!=$e.Fa&&0<$e.Fa.length&&ai<Vs&&(Ye.J=HE($e,Ye,ai,Vs-ai),Ye.F=$e.mb,null==Ye.F&&0==Ye.F.length)){Ht=Wr($e,3,"Could not decode alpha data.");break e}ai<Ye.j&&(Oi=Ye.j-ai,ai=Ye.j,e(!(1&Oi)),Ye.O+=$e.R*Oi,Ye.N+=$e.B*(Oi>>1),Ye.W+=$e.B*(Oi>>1),null!=Ye.F&&(Ye.J+=Ye.width*Oi)),ai<Vs&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,null!=Ye.F&&(Ye.J+=Ye.v),Ye.ka=ai-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=Vs-ai,Ht=Ye.put(Ye))}wt+1!=$e.Ic||as||(r($e.sa,$e.ta-Kt,Dn,fr+16*$e.R,Kt),r($e.qa,$e.ra-Ln,Nn,zt+8*$e.B,Ln),r($e.Ha,$e.Ia-Ln,Es,Hs+8*$e.B,Ln))}if(!Ht)return Wr(tt,6,"Output aborted.")}return 1}(w,F)),null!=F.bc&&F.bc(F),V&=1}return V?(w.cb=0,V):0})(w,X)||(F=w.a)}}else F=w.a}0==F&&null!=pe.Oa&&pe.Oa.fd&&(F=GE(pe.ba))}pe=F}de=0!=pe?null:11>de?me.f.RGBA.eb:me.f.kb.y}else de=null;return de};var xue=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(D,x){for(var T="",B=0;B<4;B++)T+=String.fromCharCode(D[x++]);return T}function u(D,x){return(D[x+0]|D[x+1]<<8|D[x+2]<<16)>>>0}function h(D,x){return(D[x+0]|D[x+1]<<8|D[x+2]<<16|D[x+3]<<24)>>>0}new l;var d=[0],f=[0],A=[],p=new l,m=n,g=function(D,x){var T={},B=0,R=!1,U=0,k=0;if(T.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(j,K,oe,se){for(var le=0;le<4;le++)if(j[K+le]!="RIFF".charCodeAt(le))return!0;return!1}(D,x)){var q,O;for(h(D,x+=4),x+=8;x<D.length;){var P=c(D,x),G=h(D,x+=4);x+=4;var H=G+(1&G);switch(P){case"VP8 ":case"VP8L":void 0===T.frames[B]&&(T.frames[B]={}),(Q=T.frames[B]).src_off=R?k:x-8,Q.src_size=U+G+8,B++,R&&(R=!1,U=0,k=0);break;case"VP8X":(Q=T.header={}).feature_flags=D[x];var ae=x+4;Q.canvas_width=1+u(D,ae),Q.canvas_height=1+u(D,ae+=3),ae+=3;break;case"ALPH":R=!0,U=H+8,k=x-8;break;case"ANIM":(Q=T.header).bgcolor=h(D,x),Q.loop_count=(q=D)[(O=ae=x+4)+0]|q[O+1]<<8,ae+=2;break;case"ANMF":var ve,Q;(Q=T.frames[B]={}).offset_x=2*u(D,x),Q.offset_y=2*u(D,x+=3),Q.width=1+u(D,x+=3),Q.height=1+u(D,x+=3),Q.duration=u(D,x+=3),x+=3,ve=D[x++],Q.dispose=1&ve,Q.blend=ve>>1&1}"ANMF"!=P&&(x+=H)}return T}}(m,0);g.response=m,g.rgbaoutput=!0,g.dataurl=!1;var y=g.header?g.header:null,v=g.frames?g.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],f=[y.canvas_width];for(var _=0;_<v.length&&0!=v[_].blend;_++);}var C=v[0],b=p.WebPDecodeRGBA(m,C.src_off,C.src_size,f,d);C.rgba=b,C.imgwidth=f[0],C.imgheight=d[0];for(var M=0;M<f[0]*d[0]*4;M++)A[M]=b[M];return this.width=f,this.height=d,this.data=A,this}(function(n){var t=function(d,f,A,p){var m=4,g=o;switch(p){case n.image_compression.FAST:m=1,g=s;break;case n.image_compression.MEDIUM:m=6,g=a;break;case n.image_compression.SLOW:m=9,g=l}var y=Lx(d=r(d,f,A,g),{level:m});return n.__addimage__.arrayBufferToBinaryString(y)},r=function(d,f,A,p){for(var m,g,y,v=d.length/f,_=new Uint8Array(d.length+v),C=u(),b=0;b<v;b+=1){if(m=d.subarray(y=b*f,y+f),p)_.set(p(m,A,g),y+b);else{for(var M,D=C.length,x=[];M<D;M+=1)x[M]=C[M](m,A,g);var T=h(x.concat());_.set(x[T],y+b)}g=m}return _},i=function(d){var f=Array.apply([],d);return f.unshift(0),f},s=function(d,f){var p=[],m=d.length;p[0]=1;for(var g=0;g<m;g+=1)p[g+1]=d[g]-(d[g-f]||0)+256&255;return p},o=function(d,f,A){var m=[],g=d.length;m[0]=2;for(var y=0;y<g;y+=1)m[y+1]=d[y]-(A&&A[y]||0)+256&255;return m},a=function(d,f,A){var g=[],y=d.length;g[0]=3;for(var v=0;v<y;v+=1)g[v+1]=d[v]+256-((d[v-f]||0)+(A&&A[v]||0)>>>1)&255;return g},l=function(d,f,A){var y,v=[],_=d.length;v[0]=4;for(var C=0;C<_;C+=1)y=c(d[C-f]||0,A&&A[C]||0,A&&A[C-f]||0),v[C+1]=d[C]-y+256&255;return v},c=function(d,f,A){if(d===f&&f===A)return d;var p=Math.abs(f-A),m=Math.abs(d-A),g=Math.abs(d+f-A-A);return p<=m&&p<=g?d:m<=g?f:A},u=function(){return[i,s,o,a,l]},h=function(d){var f=d.map(function(A){return A.reduce(function(p,m){return p+Math.abs(m)},0)});return f.indexOf(Math.min.apply(null,f))};n.processPNG=function(d,f,A,p){var m,g,y,v,_,C,b,M,D,x,T,B,R,U,k,q=this.decode.FLATE_DECODE,O="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(y=new xRe(d)).imgData,g=y.bits,m=y.colorSpace,_=y.colors,-1!==[4,6].indexOf(y.colorType)){if(8===y.bits){D=(M=32==y.pixelBitlength?new Uint32Array(y.decodePixels().buffer):16==y.pixelBitlength?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,T=new Uint8Array(D*y.colors),x=new Uint8Array(D);var P,G=y.pixelBitlength-y.bits;for(U=0,k=0;U<D;U++){for(R=M[U],P=0;P<G;)T[k++]=R>>>P&255,P+=y.bits;x[U]=R>>>P&255}}if(16===y.bits){D=(M=new Uint32Array(y.decodePixels().buffer)).length,T=new Uint8Array(D*(32/y.pixelBitlength)*y.colors),x=new Uint8Array(D*(32/y.pixelBitlength)),B=y.colors>1,U=0,k=0;for(var H=0;U<D;)R=M[U++],T[k++]=R>>>0&255,B&&(T[k++]=R>>>16&255,R=M[U++],T[k++]=R>>>0&255),x[H++]=R>>>16&255;g=8}p!==n.image_compression.NONE?(d=t(T,y.width*y.colors,y.colors,p),b=t(x,y.width,1,p)):(d=T,b=x,q=void 0)}if(3===y.colorType&&(m=this.color_spaces.INDEXED,C=y.palette,y.transparency.indexed)){var ae=y.transparency.indexed,ve=0;for(U=0,D=ae.length;U<D;++U)ve+=ae[U];if((ve/=255)==D-1&&-1!==ae.indexOf(0))v=[ae.indexOf(0)];else if(ve!==D){for(M=y.decodePixels(),x=new Uint8Array(M.length),U=0,D=M.length;U<D;U++)x[U]=ae[M[U]];b=t(x,y.width,1)}}var Q=function(j){var K;switch(j){case n.image_compression.FAST:K=11;break;case n.image_compression.MEDIUM:K=13;break;case n.image_compression.SLOW:K=14;break;default:K=12}return K}(p);return q===this.decode.FLATE_DECODE&&(O="/Predictor "+Q+" "),O+="/Colors "+_+" /BitsPerComponent "+g+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:A,data:d,index:f,filter:q,decodeParameters:O,transparency:v,palette:C,sMask:b,predictor:Q,width:y.width,height:y.height,bitsPerComponent:g,colorSpace:m}}}})(_r.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new ERe(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new iH(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(_r.API),td.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},td.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){no.log("bit decode error:"+t)}},td.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==t&&(this.pos+=4-t)}},td.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=15&s,c=this.palette[s>>4];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;this.data[o+4]=(c=this.palette[l]).blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},td.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==n&&(this.pos+=4-n)}},td.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=(s>>10&e)/e*255|0,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},td.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,u=i*this.width*4+4*s;this.data[u]=(o>>11)/e*255|0,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},td.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},td.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},td.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(e,t,r,i){var s=new td(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new iH(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(_r.API),WZ.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(e,t,r,i){var s=new WZ(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new iH(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(_r.API),_r.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var h=r[c+1],d=r[c+2],f=r[c+3];s[a++]=r[c],s[a++]=h,s[a++]=d,o[l++]=f}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},_r.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},kN=(sb=_r.API).getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=!1!==e.doKerning,d=0,f=n.length,A=0,p=a[0]||l,m=[];for(t=0;t<f;t++)r=n.charCodeAt(t),"function"==typeof i.metadata.widthOfString?m.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(d=h&&"object"===(0,to.A)(c[r])&&!isNaN(parseInt(c[r][A],10))?c[r][A]/u:0,m.push((a[r]||p)/l+d)),A=r;return m},zZ=sb.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return sb.processArabic&&(n=sb.processArabic(n)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(n,t,i)/t:kN.apply(this,arguments).reduce(function(s,o){return s+o},0)},GZ=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},jZ=function(n,e,t){t||(t={});var r,i,s,o,a,l,u=[],h=[u],d=t.textIndent||0,f=0,A=0,p=n.split(" "),m=kN.apply(this,[" ",t])[0];if(l=-1===t.lineIndent?p[0].length+2:t.lineIndent||0){var g=Array(l).join(" "),y=[];p.map(function(_){(_=_.split(/\s*\n/)).length>1?y=y.concat(_.map(function(C,b){return(b&&C.length?"\n":"")+C})):y.push(_[0])}),p=y,l=zZ.apply(this,[g,t])}for(s=0,o=p.length;s<o;s++){var v=0;if(r=p[s],l&&"\n"==r[0]&&(r=r.substr(1),v=1),d+f+(A=(i=kN.apply(this,[r,t])).reduce(function(_,C){return _+C},0))>e||v){if(A>e){for(a=GZ.apply(this,[r,i,e-(d+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);A=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(_,C){return _+C},0)}else u=[r];h.push(u),d=A+l,f=m}else u.push(r),d+=f+A,f=m}return h.map(l?function(_,C){return(C?g:"")+_.join(" ")}:function(_){return _.join(" ")})},sb.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(jZ.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<16;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=n.__fontmetrics__.compress=function(h){var d,f,A,p,m=["{"];for(var g in h){if(d=h[g],isNaN(parseInt(g,10))?f="'"+g+"'":(g=parseInt(g,10),f=(f=s(g).slice(2)).slice(0,-1)+r[f.slice(-1)]),"number"==typeof d)d<0?(A=s(d).slice(3),p="-"):(A=s(d).slice(2),p=""),A=p+A.slice(0,-1)+r[A.slice(-1)];else{if("object"!==(0,to.A)(d))throw new Error("Don't know what to do with value type "+(0,to.A)(d)+".");A=o(d)}m.push(f+A)}return m.push("}"),m.join("")},a=n.__fontmetrics__.uncompress=function(h){if("string"!=typeof h)throw new Error("Invalid argument passed to uncompress.");for(var d,f,A,p,m={},g=1,y=m,v=[],_="",C="",b=h.length-1,M=1;M<b;M+=1)"'"==(p=h[M])?d?(A=d.join(""),d=void 0):d=[]:d?d.push(p):"{"==p?(v.push([y,A]),y={},A=void 0):"}"==p?((f=v.pop())[0][f[1]]=y,A=void 0,y=f[0]):"-"==p?g=-1:void 0===A?t.hasOwnProperty(p)?(_+=t[p],A=parseInt(_,16)*g,g=1,_=""):_+=p:t.hasOwnProperty(p)?(C+=t[p],y[A]=parseInt(C,16)*g,g=1,A=void 0,C=""):C+=p;return m},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var d=h.font,f=u.Unicode[d.postScriptName];f&&(d.metadata.Unicode={},d.metadata.Unicode.widths=f.widths,d.metadata.Unicode.kerning=f.kerning);var A=c.Unicode[d.postScriptName];A&&(d.metadata.Unicode.encoding=A,d.encoding=A.codePages[0])}])}(_r.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var o,a,r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");o=i,a=/^\x00\x01\x00\x00/.test(a=r)?e(a):e(kx(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]}}])}(_r),_r.API.addSvgAsImage=function(t,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw no.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw no.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return function e(){return(Sr.canvg?Promise.resolve(Sr.canvg):we.e(147).then(we.bind(we,147))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}().then(function(A){return A.fromString(h,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(d)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})},_r.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},_r.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function d(A,p){var m,g=!1;for(m=0;m<A.length;m+=1)A[m]===p&&(g=!0);return g}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var f=a.length;for(h=0;h<f;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if("object"===(0,to.A)(n))for(i in n)if(s=n[i],d(a,i)&&void 0!==s){if("boolean"===t[i].type&&"boolean"==typeof s)t[i].value=s;else if("name"===t[i].type&&d(t[i].valueSet,s))t[i].value=s;else if("integer"===t[i].type&&Number.isInteger(s))t[i].value=s;else if("array"===t[i].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var A,p=[];for(A in t)!0===t[A].explicitSet&&p.push("name"===t[A].type?"/"+A+" /"+t[A].value:"/"+A+" "+t[A].value);0!==p.length&&this.internal.write("/ViewerPreferences\n<<\n"+p.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(_r.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,d=s.length;h<d;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),-1==l.indexOf(a)&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),"0"==a)return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,h,d;for(u="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],h=0,d=(a=Object.keys(s).sort(function(f,A){return f-A})).length;h<d;h++)o=a[h],l.length>=100&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=s[o]&&"function"==typeof s[o].toString&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),u+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"Identity-H"===a.encoding){for(var h=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",A=0;A<d.length;A++)f+=String.fromCharCode(d[A]);var p=c();u({data:f,addLength1:!0,objectId:p}),l("endobj");var m=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+J1(a.fontName)),l("/FontFile2 "+p+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+J1(a.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+m+" 0 R"),l("/BaseFont /"+J1(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]),e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var h=a.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var A=c();u({data:d,addLength1:!0,objectId:A}),l("endobj");var p=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var m=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+A+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+J1(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var g=0;g<a.metadata.hmtx.widths.length;g++)a.metadata.hmtx.widths[g]=parseInt(a.metadata.hmtx.widths[g]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+J1(a.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},d=h.pdfEscape,f=h.activeFontKey,A=h.fonts,p=f,m="",g=0,y="",v=A[p].encoding;if("Identity-H"!==A[p].encoding)return{text:a,x:l,y:c,options:u,mutex:h};for(y=a,p=f,Array.isArray(a)&&(y=a[0]),g=0;g<y.length;g+=1)A[p].metadata.hasOwnProperty("cmap")&&(o=A[p].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),o||y[g].charCodeAt(0)<256&&A[p].metadata.hasOwnProperty("Unicode")?m+=y[g]:m+="";var _="";return parseInt(p.slice(1))<14||"WinAnsiEncoding"===v?_=d(m,p).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):"Identity-H"===v&&(_=t(m,A[p])),h.isHex=!0,{text:_,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&3===o[c].length?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(_r),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(_r.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,h=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,v=0;this.__bidiEngine__={};var _=function(B){var R=B.charCodeAt(),U=R>>8,k=p[U];return void 0!==k?h[256*k+(255&R)]:252===U||253===U?"AL":g.test(U)?"L":8===U?"R":"N"},C=function(B){for(var R,U=0;U<B.length;U++){if("L"===(R=_(B.charAt(U))))return!1;if("R"===R)return!0}return!1},b=function(B,R,U,k){var q,O,P,G,H=R[k];switch(H){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(H="AN");break;case"AL":y=!0,H="R";break;case"WS":case"BN":H="N";break;case"CS":k<1||k+1>=R.length||"EN"!==(q=U[k-1])&&"AN"!==q||"EN"!==(O=R[k+1])&&"AN"!==O?H="N":y&&(O="AN"),H=O===q?O:"N";break;case"ES":H="EN"===(q=k>0?U[k-1]:"B")&&k+1<R.length&&"EN"===R[k+1]?"EN":"N";break;case"ET":if(k>0&&"EN"===U[k-1]){H="EN";break}if(y){H="N";break}for(P=k+1,G=R.length;P<G&&"ET"===R[P];)P++;H=P<G&&"EN"===R[P]?"EN":"N";break;case"NSM":if(o&&!a){for(G=R.length,P=k+1;P<G&&"NSM"===R[P];)P++;if(P<G){var ae=B[k];if(q=R[P],(ae>=1425&&ae<=2303||64286===ae)&&("R"===q||"AL"===q)){H="R";break}}}H=k<1||"B"===(q=R[k-1])?"N":U[k-1];break;case"B":y=!1,i=!0,H=v;break;case"S":s=!0,H="N"}return H},M=function(B,R,U){var k=B.split("");return U&&D(k,U,{hiLevel:v}),k.reverse(),R&&R.reverse(),k.join("")},D=function(B,R,U){var k,q,O,P,G,H=-1,ae=B.length,ve=0,Q=[],j=v?f:d,K=[];for(y=!1,i=!1,s=!1,q=0;q<ae;q++)K[q]=_(B[q]);for(O=0;O<ae;O++){if(G=ve,Q[O]=b(B,K,Q,O),k=240&(ve=j[G][A[Q[O]]]),R[O]=P=j[ve&=15][5],k>0)if(16===k){for(q=H;q<O;q++)R[q]=1;H=-1}else H=-1;if(j[ve][6])-1===H&&(H=O);else if(H>-1){for(q=H;q<O;q++)R[q]=P;H=-1}"B"===K[O]&&(R[O]=0),U.hiLevel|=P}s&&function(oe,se,le){for(var te=0;te<le;te++)if("S"===oe[te]){se[te]=v;for(var ee=te-1;ee>=0&&"WS"===oe[ee];ee--)se[ee]=v}}(K,R,ae)},x=function(B,R,U,k,q){if(!(q.hiLevel<B)){if(1===B&&1===v&&!i)return R.reverse(),void(U&&U.reverse());for(var O,P,G,H,ae=R.length,ve=0;ve<ae;){if(k[ve]>=B){for(G=ve+1;G<ae&&k[G]>=B;)G++;for(H=ve,P=G-1;H<P;H++,P--)O=R[H],R[H]=R[P],R[P]=O,U&&(O=U[H],U[H]=U[P],U[P]=O);ve=G}ve++}}},T=function(B,R,U){var k=B.split(""),q={hiLevel:v};return U||(U=[]),D(k,U,q),function(O,P,G){if(0!==G.hiLevel&&u)for(var H,ae=0;ae<O.length;ae++)1===P[ae]&&(H=m.indexOf(O[ae]))>=0&&(O[ae]=m[H+1])}(k,U,q),x(2,k,R,U,q),x(1,k,R,U,q),k.join("")};return this.__bidiEngine__.doBidiReorder=function(B,R,U){if(function(q,O){if(O)for(var P=0;P<q.length;P++)O[P]=P;void 0===a&&(a=C(q)),void 0===c&&(c=C(q))}(B,R),o||!l||c)if(o&&l&&a^c)v=a?1:0,B=M(B,R,U);else if(!o&&l&&c)v=a?1:0,B=T(B,R,U),B=M(B,R);else if(!o||a||l||c){if(o&&!l&&a^c)B=M(B,R),a?(v=0,B=T(B,R,U)):(v=1,B=T(B,R,U),B=M(B,R));else if(o&&a&&!l&&c)v=1,B=T(B,R,U),B=M(B,R);else if(!o&&!l&&a^c){var k=u;a?(v=1,B=T(B,R,U),v=0,u=!1,B=T(B,R,U),u=k):(v=0,B=T(B,R,U),B=M(B,R),v=1,u=!1,B=T(B,R,U),u=k,B=M(B,R))}}else v=0,B=T(B,R,U);else v=a?1:0,B=T(B,R,U);return B},this.__bidiEngine__.setOptions=function(B){B&&(o=B.isInputVisual,l=B.isOutputVisual,a=B.isInputRtl,c=B.isOutputRtl,u=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=r.options||{},o=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,t.setOptions(s),"[object Array]"===Object.prototype.toString.call(i)){var a=0;for(o=[],a=0;a<i.length;a+=1)"[object Array]"===Object.prototype.toString.call(i[a])?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(_r),_r.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Am(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new VRe(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new DRe(this.contents),this.head=new TRe(this),this.name=new RRe(this),this.cmap=new KZ(this),this.toUnicode={},this.hhea=new BRe(this),this.maxp=new ORe(this),this.hmtx=new PRe(this),this.post=new IRe(this),this.os2=new NRe(this),this.loca=new HRe(this),this.glyf=new LRe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)c.push(Math.round(l[o]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var nd,Am=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var r,i,s;for(s=[],r=0,i=e.length;r<i;r++)s.push(this.writeByte(e[r]));return s},n}(),DRe=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,a,l,c,u,h,d,f,A,p;for(p in f=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),u=16*f-h,(i=new Am).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),c=i.pos+16*f,a=null,A=[],t)for(d=t[p],i.writeString(p),i.writeInt(n(d)),i.writeInt(c),i.writeInt(d.length),A=A.concat(d),"head"===p&&(a=c),c+=d.length;c%4;)A.push(0),c++;return i.write(A),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=XZ.call(t);t.length%4;)t.push(0);for(s=new Am(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),MRe={}.hasOwnProperty,oA=function(n,e){for(var t in e)MRe.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};nd=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var TRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return oA(e,nd),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Am).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),$Z=function(){function n(e,t){var r,i,s,o,a,l,c,u,h,d,f,A,p,m,g,y,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,s=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),e.pos+=2,p=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),c=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),u=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,a=function(){var _,C;for(C=[],l=_=0;0<=i?_<i:_>i;l=0<=i?++_:--_)C.push(e.readUInt16());return C}(),l=g=0,v=s.length;g<v;l=++g)for(m=s[l],r=y=A=p[l];A<=m?y<=m:y>=m;r=A<=m?++y:--y)0===u[l]?o=r+c[l]:0!==(o=a[u[l]/2+(r-A)-(d-l)]||0)&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,h,d,f,A,p,m,g,y,v,C,b,M,D,x,T,B,R,U,k,q,O,P,G,H,ae,ve,Q,j,K,oe,se,le,te,ee,Ae,Se,ge;switch(k=new Am,o=Object.keys(e).sort(function(xe,ne){return xe-ne}),t){case"macroman":for(p=0,m=function(){var xe=[];for(A=0;A<256;++A)xe.push(0);return xe}(),y={0:0},s={},q=0,H=o.length;q<H;q++)null==y[ee=e[i=o[q]]]&&(y[ee]=++p),s[i]={old:e[i],new:y[e[i]]},m[i]=y[e[i]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(m),{charMap:s,subtable:k.data,maxGlyphID:p+1};case"unicode":for(R=[],h=[],v=0,y={},r={},g=c=null,O=0,ae=o.length;O<ae;O++)null==y[C=e[i=o[O]]]&&(y[C]=++v),r[i]={old:C,new:y[C]},a=y[C]-i,null!=g&&a===c||(g&&h.push(g),R.push(i),c=a),g=i;for(g&&h.push(g),h.push(65535),R.push(65535),T=2*(x=R.length),D=2*Math.pow(Math.log(x)/Math.LN2,2),d=Math.log(D/2)/Math.LN2,M=2*x-D,l=[],b=[],f=[],A=P=0,ve=R.length;P<ve;A=++P){if(u=h[A],65535===(B=R[A])){l.push(0),b.push(0);break}if(B-(U=r[B].new)>=32768)for(l.push(0),b.push(2*(f.length+x-A)),i=G=B;B<=u?G<=u:G>=u;i=B<=u?++G:--G)f.push(r[i].new);else l.push(U-B),b.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*x+2*f.length),k.writeUInt16(0),k.writeUInt16(T),k.writeUInt16(D),k.writeUInt16(d),k.writeUInt16(M),le=0,Q=h.length;le<Q;le++)k.writeUInt16(i=h[le]);for(k.writeUInt16(0),te=0,j=R.length;te<j;te++)k.writeUInt16(i=R[te]);for(Ae=0,K=l.length;Ae<K;Ae++)k.writeUInt16(a=l[Ae]);for(Se=0,oe=b.length;Se<oe;Se++)k.writeUInt16(b[Se]);for(ge=0,se=f.length;ge<se;ge++)k.writeUInt16(p=f[ge]);return{charMap:r,subtable:k.data,maxGlyphID:v+1}}},n}(),KZ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return oA(e,nd),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new $Z(t,this.offset),this.tables.push(r),r.isUnicode&&null==this.unicode&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return null==r&&(r="macroman"),i=$Z.encode(t,r),(s=new Am).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),BRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return oA(e,nd),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),NRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return oA(e,nd),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),IRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return oA(e,nd),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}.call(this)}},e}(),FRe=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},RRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return oA(e,nd),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,c,u,h,d,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=h=0,d=i.length;h<d;o=++h)t.pos=(s=i[o]).offset,u=t.readString(s.length),a=new FRe(u,s),null==c[f=s.nameID]&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),ORe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return oA(e,nd),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),PRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return oA(e,nd),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=function(){var u,h,d,f;for(f=[],u=0,h=(d=this.metrics).length;u<h;u++)f.push(d[u].advance);return f}.call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),XZ=[].slice,LRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return oA(e,nd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,c,u,h,d;return t in this.cache?this.cache[t]:(r=this.file.contents,i=(o=this.file.loca).indexOf(t),0===(s=o.lengthOf(t))?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new Am(r.read(s))).readShort(),u=l.readShort(),d=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=-1===a?new kRe(l,u,d,c,h):new URe(l,a,u,d,c,h),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),URe=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),kRe=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Am(XZ.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),HRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return oA(e,nd),e.prototype.tag="loca",e.prototype.parse=function(t){var i;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var c=this.offsets[a+1]-this.offsets[a];c>0&&(s+=c)}for(var u=new Array(4*i.length),h=0;h<i.length;++h)u[4*h+3]=255&i[h],u[4*h+2]=(65280&i[h])>>8,u[4*h+1]=(16711680&i[h])>>16,u[4*h]=(4278190080&i[h])>>24;return u},e}(),VRe=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)e[t]=i[s[t]];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)null!=(r=i[s])&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))i[s]=r=l[s];return i},n.prototype.encode=function(e,t){var r,i,s,o,l,c,u,h,d,f,A,p,m,g;for(i in r=KZ.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},g=r.charMap)f[(l=g[i]).old]=l.new;for(A in d=r.maxGlyphID,o)A in f||(f[A]=d++);return u=function(y){var v,_;for(v in _={},y)_[y[v]]=v;return _}(f),h=Object.keys(u).sort(function(y,v){return y-v}),p=function(){var y,v,_;for(_=[],y=0,v=h.length;y<v;y++)_.push(u[h[y]]);return _}(),s=this.font.glyf.encode(o,p,f),c=this.font.loca.encode(s.offsets,p),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},n}();_r.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var i,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)c.push(e.convert(t[a]));return c}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(i in s=["<<"],t)s.push("/"+i+" "+e.convert(t[i]));return s.push(">>"),s.join("\n")}return""+t},e}();const QRe=_r;let zRe=(()=>{class n{getPdf(t,r,i,s,o){console.log(t+": [GENERANDO PDF]");const a=(new Date).toISOString();s=`${s}_${a}.pdf`;const l=r.nativeElement,c=i.nativeElement;qFe()(l).then(u=>{let h=c.offsetWidth,d=c.offsetHeight,f=u.toDataURL("image/jpeg"),A=new QRe("landscape","px",[h,d]);A.addImage(f,0,0,h,d),A.save(s)}),o.next(s),o.complete()}_GetPDF(t,r,i,s){return new di(a=>this.getPdf(t,r,i,s,a))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const GRe=["_languajeList"],jRe=["_SourceList"],qRe=["_fileUpload"],WRe=["_sudoku_board"],$Re=n=>({width:n});function KRe(n,e){if(1&n&&(fe(0,"td")(1,"div",31),Te(2),he()()),2&n){const t=e.$implicit,r=e.index,i=en().index;Be(),qe("className",r>=3&&r<=5&&i>=0&&i<3||!(r>=3&&r<=5)&&i>=3&&i<=5||r>=3&&r<=5&&i>5&&i<=8?"sudoku-cell_bright":"sudoku-cell_dark"),Be(),Nr(t)}}function XRe(n,e){if(1&n&&(fe(0,"tr"),dn(1,KRe,3,2,"td",5),he()),2&n){const t=e.$implicit;Be(),qe("ngForOf",t)}}function YRe(n,e){if(1&n&&(fe(0,"option",32),Te(1),he()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Be(),zi("",t._value," ")}}function JRe(n,e){if(1&n&&(fe(0,"option",32),Te(1),he()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Be(),zi("",t._value," ")}}function ZRe(n,e){if(1&n&&(fe(0,"div",33)(1,"div",34),Te(2),he()()),2&n){const t=en();Be(),qe("ngStyle",Gd(3,$Re,t.progress+"%")),Ni("aria-valuenow",t.progress),Be(),zi(" ",t.progress,"% ")}}function eOe(n,e){if(1&n&&(fe(0,"div",35),Te(1),he()),2&n){const t=en();Be(),Nr(t.message)}}function tOe(n,e){if(1&n){const t=ws();fe(0,"div",24)(1,"input",36),qt("click",function(){return On(t),Un(en()._GetPdf())}),he()()}if(2&n){const t=en();Be(),qe("disabled","[...Generando PDF...]"==t.message)}}let nOe=(()=>{class n{constructor(t,r,i){this.algorithmService=t,this.formBuilder=r,this.pdfEngine=i,this.board=[],this.tituloListadoLenguajes="Seleccione Backend",this.btnGenerateCaption="[GENERAR]",this.btnSolveCaption="[RESOLVER]",this.tituloGenerarDesde="Generar Desde",this._cppSourceDivHidden=!0,this._fileUploadDivHidden=!0,this.sudokuSolved=!0,this._sudokuGenerated="",this.progress=0,this.message="",this.downloadLink="",this.rf_searchForm=this.formBuilder.group({_fileUpload:["",Bbe.required]}),this.pageTitle="[SUDOKU]",console.log("[SUDOKU - INGRESO]")}ngAfterViewInit(){}ngOnInit(){this.__languajeList=new Array,this.__languajeList.push(new nc(0,"(SELECCIONE OPCION..)",!1)),this.__languajeList.push(new nc(1,"(.NET Core/C++)",!0)),this.__languajeList.push(new nc(2,"(Node.js)",!1)),this._cppSourceDivHidden=!1,this.__generateSourceList=new Array,this.__generateSourceList.push(new nc(0,"(SELECCIONE OPCION..)",!1)),this.__generateSourceList.push(new nc(1,"[Desde Archivo]",!1)),this.__generateSourceList.push(new nc(2,"[Desde Backend]",!0))}_cppSourceDivHiddenChanged(){console.log("SUDOKU - [DIV CPP SOURCE CHANGED]"),this._cppSourceDivHidden=1!=this._languajeList.nativeElement.options.selectedIndex,this.message=""}_fileUploadDivHiddenChanged(){console.log("SUDOKU - [DIV FILEUPLOAD CHANGED]"),this._fileUploadDivHidden=1!=this._sourceList.nativeElement.options.selectedIndex,this.message=""}GenerateFromBackend(){let t;switch(console.log("[SUDOKU - GENERATE FROM BACKEND]"),this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._GetSudoku();break;case 2:t=this.algorithmService._GetSudoku_NodeJS();break;default:return}this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",t.subscribe({next:s=>{console.log("[SUDOKU - GENERATE] - (return): "+s),this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[];console.log(o[a]);const c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}},error:s=>{console.error("[SUDOKU - GENERATE] - (ERROR) : "+JSON.stringify(s.message)),this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]"}})}selectFile(t){this.selectedFiles=t.target.files}upload(){if(console.log("[SUDOKU - GENERATE  FROM FILE]"),this.selectedFiles){const t=this.selectedFiles.item(0);t&&(this.progress=0,this.message="...cargando...",this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",this.currentFile=t,this.algorithmService.uploadSudoku(this.currentFile).subscribe({next:r=>{if(r.type===YA.UploadProgress)this.progress=Math.round(100*r.loaded/r.total);else if(r instanceof JA){console.log("RESPONSE : "+r.body);let i=r.body;i=i.replaceAll('"',""),i=i.replace(/\\r/g,""),i=i.replace(/\\n/g,""),this._sudokuGenerated=i,i=i.replaceAll("[",""),i=i.replaceAll("]",""),i=i.replaceAll("},","|"),i=i.replaceAll("{",""),i=i.replaceAll("}","");let s=i.split("|");this.board=[];for(let o=0;o<9;o++){const a=[];console.log(s[o]);const l=s[o].split(",");for(let c=0;c<9;c++)a.push(parseInt(l[c]));this.board.push(a)}}},error:r=>{console.error("[SUDOKU - GENERATE  FROM FILE] -  (ERROR)"),console.error(r),this.progress=0,this.message=r.error&&r.error.message?r.error.message:"[Could not upload the file!]",this.currentFile=void 0,this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE  FROM FILE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0}}))}else this.message="[Favor seleccione archivo...]"}_GetSudoku(){switch(console.log("[SUDOKU - GENERATE - MAIN MENU]"),this._sourceList.nativeElement.options.selectedIndex){case 1:this.upload();break;case 2:this.GenerateFromBackend();break;default:return}}_SolveSudoku(){let t;switch(console.log("[SUDOKU - SOLVE] \n"+this._sudokuGenerated),this.sudokuSolved=!0,this.btnSolveCaption="[...resolviendo...]",this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._SolveSudoku(this._sudokuGenerated);break;case 2:t=this.algorithmService._SolveSudoku_NodeJS(this._sudokuGenerated);break;default:return}t.subscribe({next:s=>{console.log("[SUDOKU - SOLVE] - (return): "+s),this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[];console.log(o[a]);const c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}},error:s=>{console.error("[SUDOKU - SOLVE] - (ERROR) : "+JSON.stringify(s.message)),this.message="[Ha ocurrido un error]"},complete:()=>{console.log("[SUDOKU - SOLVE] -  (COMPLETE)"),this.btnSolveCaption="[RESOLVER]",this.message="[Se resolvi\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0,this.rf_searchForm.reset()}})}_GetPdf(){let r="SUDOKU_BOARD_"+(this.sudokuSolved?"SOLVED":"STARTED"),i="";this.message="[...Generando PDF...]",this.pdfEngine._GetPDF(this.pageTitle,this._sudoku_board,this._sudoku_board,r).subscribe({next:s=>{i=s},error:s=>{this.message="ha ocurrido un error : "+s.message},complete:()=>{this.message=`Se ha generado el archivo PDF :[ ${i} ]`}})}static{this.\u0275fac=function(r){return new(r||n)(pt(GFe),pt(gwe),pt(zRe))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-sudoku"]],viewQuery:function(r,i){if(1&r&&(Ki(GRe,5),Ki(jRe,5),Ki(qRe,5),Ki(WRe,5)),2&r){let s;lr(s=cr())&&(i._languajeList=s.first),lr(s=cr())&&(i._sourceList=s.first),lr(s=cr())&&(i._fileUpload=s.first),lr(s=cr())&&(i._sudoku_board=s.first)}},decls:58,vars:15,consts:[["_sudoku_board",""],["_languajeList",""],["_SourceList",""],["_fileUpload",""],[1,"sudoku-board"],[4,"ngFor","ngForOf"],["id","LangListDiv","align","left"],["id","tituloListadoLenguajes"],["for","LanguajeList"],["id","LanguageList","name","LanguajeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","cppSoureDiv",3,"hidden"],["href","javascript: void window.open('https://github.com/aperezNWO/CppBuilder01/blob/master/Project2/Sudoku.cpp')"],["id","SourceListDiv","align","left"],["for","SourceList"],["id","SourceList","name","SourceList",3,"change"],[3,"ngSubmit","formGroup"],["align","left",1,"fileUpload",3,"hidden"],["href","./assets/sudoku.txt","target","_blank","download","sudoku.txt"],[1,"col-12"],[1,"btn","btn-default","p-0"],["type","file","name","_fileUpload","formControlName","_fileUpload",3,"change"],["id","resetFile","type","reset"],["class","progress my-3",4,"ngIf"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","GetSudoku","type","button",3,"click","value","disabled"],["id","SolveSudoku","type","submit",3,"value","disabled"],["align","left",4,"ngIf"],["align","right"],["routerLink","/Dev"],[3,"className"],[3,"value","selected"],[1,"progress","my-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped",3,"ngStyle"],["role","alert",1,"alert","alert-secondary"],["type","button","name","btnGeneratePdf","value","[GENERAR PDF]",3,"click","disabled"]],template:function(r,i){if(1&r){const s=ws();fe(0,"h1"),Te(1,"SUDOKU BOARD"),he(),ft(2,"hr"),fe(3,"div",4,0)(5,"table")(6,"tbody"),dn(7,XRe,2,1,"tr",5),he()()(),ft(8,"hr"),fe(9,"div",6)(10,"span",7),Te(11),he(),ft(12,"label",8),Te(13," \xa0\xa0 "),fe(14,"select",9,1),qt("change",function(){return On(s),Un(i._cppSourceDivHiddenChanged())}),dn(16,YRe,2,3,"option",10),he(),Te(17," \xa0\xa0 "),fe(18,"span",11)(19,"a",12),Te(20,"[View Source]"),he()()(),ft(21,"hr"),fe(22,"div",13)(23,"span",7),Te(24),he(),ft(25,"label",14),Te(26," \xa0\xa0 "),fe(27,"select",15,2),qt("change",function(){return On(s),Un(i._fileUploadDivHiddenChanged())}),dn(29,JRe,2,3,"option",10),he()(),ft(30,"hr"),fe(31,"form",16),qt("ngSubmit",function(){return On(s),Un(i._SolveSudoku())}),fe(32,"div",17)(33,"a",18),Te(34,"[Download Template]"),he(),ft(35,"hr"),fe(36,"div",19)(37,"label",20)(38,"input",21,3),qt("change",function(a){return On(s),Un(i.selectFile(a))}),he()(),Te(40," | "),fe(41,"button",22),Te(42,"[RESET]"),he()(),ft(43,"hr"),dn(44,ZRe,3,5,"div",23),he(),fe(45,"div",24),dn(46,eOe,2,1,"div",25),he(),ft(47,"hr"),fe(48,"div",24)(49,"input",26),qt("click",function(){return On(s),Un(i._GetSudoku())}),he(),Te(50," | "),ft(51,"input",27),he()(),ft(52,"hr"),dn(53,tOe,2,1,"div",28),ft(54,"hr"),fe(55,"div",29)(56,"a",30),Te(57,"[Volver al menu]"),he()()}2&r&&(Be(7),qe("ngForOf",i.board),Be(4),Nr(i.tituloListadoLenguajes),Be(5),qe("ngForOf",i.__languajeList),Be(2),qe("hidden",i._cppSourceDivHidden),Be(6),Nr(i.tituloGenerarDesde),Be(5),qe("ngForOf",i.__generateSourceList),Be(2),qe("formGroup",i.rf_searchForm),Be(),qe("hidden",i._fileUploadDivHidden),Be(12),qe("ngIf",i.currentFile),Be(2),qe("ngIf",i.message),Be(3),qe("value",i.btnGenerateCaption)("disabled","[...generando...]"==i.btnGenerateCaption||"[...resolviendo...]"==i.btnSolveCaption),Be(2),qe("value",i.btnSolveCaption)("disabled","[...resolviendo...]"==i.btnSolveCaption||"[...generando...]"==i.btnGenerateCaption||1==i.sudokuSolved),Be(2),qe("ngIf",i.board.length>0))},dependencies:[ds,Il,tc,QM,k_,Xv,Yv,ZA,qv,L_,hT,a3],styles:[".sudoku-board[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;height:auto;border:1px solid black}.sudoku-cell_bright[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#fff}.sudoku-cell_dark[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#ccc}.fileUpload[_ngcontent-%COMP%]{padding:1em;background-color:#ccc}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#007bff}"]})}}return n})();class rOe extends mi{constructor(e,t){super()}schedule(e,t=0){return this}}const HN={setInterval(n,e,...t){const{delegate:r}=HN;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=HN;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class sH extends rOe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return HN.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&HN.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ti(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const YZ={now:()=>(YZ.delegate||Date).now(),delegate:void 0};class Hx{constructor(e,t=Hx.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Hx.now=YZ.now;class oH extends Hx{constructor(e,t=Hx.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const ob=new oH(sH),iOe=ob;function JZ(n){return n instanceof Date&&!isNaN(n)}function VN(n=0,e,t=iOe){let r=-1;return null!=e&&(Aq(e)?t=e:r=e),new di(i=>{let s=JZ(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function ZZ(n=0,e=ob){return n<0&&(n=0),VN(n,n,e)}function sOe(n,e){if(1&n&&ft(0,"div",13),2&n){const t=e.$implicit;eS("background-color",t),Ci("filled",t)}}function oOe(n,e){if(1&n&&(fe(0,"div",11),dn(1,sOe,1,4,"div",12),he()),2&n){const t=e.$implicit;Be(),qe("ngForOf",t)}}function aOe(n,e){if(1&n){const t=ws();fe(0,"button",8),qt("click",function(){return On(t),Un(en().startGame())}),Te(1),he()}if(2&n){const t=en();Be(),zi(" ",t.gameOver?"Play Again":"Start Game"," ")}}function lOe(n,e){if(1&n){const t=ws();fe(0,"div",14)(1,"button",15),qt("click",function(){return On(t),Un(en().moveLeft())}),Te(2,"\u2190"),he(),fe(3,"button",15),qt("click",function(){return On(t),Un(en().moveRight())}),Te(4,"\u2192"),he(),fe(5,"button",8),qt("click",function(){return On(t),Un(en().rotate())}),Te(6,"Rotate"),he(),fe(7,"button",8),qt("click",function(){return On(t),Un(en().drop())}),Te(8,"Drop"),he()()}}let cOe=(()=>{class n{constructor(t){this.pageRestartService=t,this.BOARD_WIDTH=10,this.BOARD_HEIGHT=20,this.TICK_INTERVAL=1e3,this.board=[],this.displayBoard=[],this.currentPiece=[],this.currentColor="",this.score=0,this.isPlaying=!1,this.gameOver=!1,this.isMobile=!1,this.TETROMINOS={I:{shape:[[1,1,1,1]],color:"#00f0f0"},O:{shape:[[1,1],[1,1]],color:"#f0f000"},T:{shape:[[0,1,0],[1,1,1]],color:"#a000f0"},S:{shape:[[0,1,1],[1,1,0]],color:"#00f000"},Z:{shape:[[1,1,0],[0,1,1]],color:"#f00000"},J:{shape:[[1,0,0],[1,1,1]],color:"#0000f0"},L:{shape:[[0,0,1],[1,1,1]],color:"#f0a000"}}}restart(){this.pageRestartService.reloadPage()}ngOnInit(){this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.initBoard()}handleKeyboardEvent(t){if(this.isPlaying&&!this.gameOver)switch(t.key){case"ArrowLeft":this.moveLeft();break;case"ArrowRight":this.moveRight();break;case"ArrowUp":this.rotate();break;case"ArrowDown":this.moveDown();break;case" ":this.drop()}}initBoard(){this.board=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill("")),this.displayBoard=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill(""))}startGame(){this.gameLoop$&&this.gameLoop$.unsubscribe(),this.initBoard(),this.score=0,this.gameOver=!1,this.isPlaying=!0,this.spawnPiece(),this.gameLoop$=ZZ(this.TICK_INTERVAL).subscribe(()=>{this.gameOver||this.moveDown()})}spawnPiece(){const t=Object.keys(this.TETROMINOS),r=t[Math.floor(Math.random()*t.length)],i=this.TETROMINOS[r];this.currentPiece=i.shape.flatMap((s,o)=>s.map((a,l)=>a?{x:l+Math.floor(this.BOARD_WIDTH/2)-1,y:o}:null)).filter(s=>null!==s),this.currentColor=i.color,this.checkCollision()&&(this.gameOver=!0,this.isPlaying=!1,this.gameLoop$&&this.gameLoop$.unsubscribe()),this.updateDisplayBoard()}moveLeft(){const t=this.currentPiece.map(r=>({...r,x:r.x-1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveRight(){const t=this.currentPiece.map(r=>({...r,x:r.x+1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveDown(){const t=this.currentPiece.map(r=>({...r,y:r.y+1}));this.isValidMove(t)?(this.currentPiece=t,this.updateDisplayBoard()):(this.lockPiece(),this.clearLines(),this.spawnPiece())}drop(){for(;this.isValidMove(this.currentPiece.map(t=>({...t,y:t.y+1})));)this.currentPiece=this.currentPiece.map(t=>({...t,y:t.y+1}));this.updateDisplayBoard(),this.lockPiece(),this.clearLines(),this.spawnPiece()}rotate(){if(!this.currentPiece.length)return;const t=this.currentPiece[1],r=this.currentPiece.map(i=>({x:t.x-(i.y-t.y),y:t.y+(i.x-t.x)}));this.isValidMove(r)&&(this.currentPiece=r,this.updateDisplayBoard())}isValidMove(t){return t.every(r=>r.x>=0&&r.x<this.BOARD_WIDTH&&r.y>=0&&r.y<this.BOARD_HEIGHT&&!this.board[r.y]?.[r.x])}checkCollision(){return!this.isValidMove(this.currentPiece)}updateDisplayBoard(){this.displayBoard=this.board.map(t=>[...t]),this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.displayBoard[t.y][t.x]=this.currentColor)})}lockPiece(){this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.board[t.y][t.x]=this.currentColor)}),this.updateDisplayBoard()}clearLines(){let t=0;for(let r=this.BOARD_HEIGHT-1;r>=0;r--)this.board[r].every(i=>""!==i)&&(this.board.splice(r,1),this.board.unshift(Array(this.BOARD_WIDTH).fill("")),t++,r++);t>0&&(this.score+=100*Math.pow(2,t-1)),this.updateDisplayBoard()}ngOnDestroy(){this.gameLoop$&&this.gameLoop$.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)(pt(Nk))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-tetris"]],hostBindings:function(r,i){1&r&&qt("keydown",function(o){return i.handleKeyboardEvent(o)},0,BQ)},decls:19,vars:6,consts:[["align","center"],[1,"game-container"],[1,"game-board"],["class","row",4,"ngFor","ngForOf"],[1,"controls"],[1,"score"],[3,"click",4,"ngIf"],["class","mobile-controls",4,"ngIf"],[3,"click"],["align","right"],["routerLink","/StableReleases"],[1,"row"],["class","cell",3,"filled","backgroundColor",4,"ngFor","ngForOf"],[1,"cell"],[1,"mobile-controls"],[2,"font-size","x-large",3,"click"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Te(2,"[TETRIS]"),he(),ft(3,"hr"),fe(4,"div",1)(5,"div",2),dn(6,oOe,2,1,"div",3),he(),fe(7,"div",4)(8,"div",5),Te(9),he(),dn(10,aOe,2,1,"button",6)(11,lOe,9,0,"div",7),he()(),ft(12,"hr"),fe(13,"button",8),qt("click",function(){return i.restart()}),Te(14,"[RESTART]"),he(),ft(15,"hr"),he(),fe(16,"div",9)(17,"a",10),Te(18,"[Volver al Menu]"),he()()),2&r&&(Be(4),Ci("game-over",i.gameOver),Be(2),qe("ngForOf",i.displayBoard),Be(3),zi("Score: ",i.score,""),Be(),qe("ngIf",!i.isPlaying||i.gameOver),Be(),qe("ngIf",i.isMobile))},dependencies:[ds,Il,tc],styles:[".game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.game-board[_ngcontent-%COMP%]{border:2px solid #333;background:#f0f0f0}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{width:25px;height:25px;border:1px solid #ccc}.cell.filled[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2)}.controls[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.score[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}button[_ngcontent-%COMP%]{padding:10px 20px;margin:5px;font-size:16px;cursor:pointer}.mobile-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:20px}.game-over[_ngcontent-%COMP%]   .game-board[_ngcontent-%COMP%]{opacity:.5}@media (max-width: 600px){.cell[_ngcontent-%COMP%]{width:20px;height:20px}}"]})}}return n})(),uOe=(()=>{class n{constructor(){this.value=null,this.clickEvent=new ie}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-square"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[xa],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(r,i){1&r&&(fe(0,"button",0),qt("click",function(){return i.onClick()}),Te(1),he()),2&r&&(Be(),Nr(null==i.value?"_":i.value))},dependencies:[Pg],styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})(),eee=(()=>{class n{constructor(){this.COMPUTER=1,this.HUMAN=2,this.COMPUTERMOVE="O",this.HUMANMOVE="X",this.SIDE=3,this.boardSurface=this.SIDE*this.SIDE,this.whoseTurn=this.HUMAN,this.moveIndex=0,this.board=[],this.winner=null,this.squares=Array(this.boardSurface).fill(null),this.message="",this.initialise()}initialise(){this.squares=[],this.squares=Array(9).fill(null),this.board=[];for(let t=0;t<this.SIDE;t++){const r=[];for(let i=0;i<this.SIDE;i++)r.push(null);this.board.push(r)}this.winner=null,this.moveIndex=0,this.message=""}declareWinner(t){t==this.COMPUTER?(this.message="[gan\xf3 COMPUTADOR]",this.winner=this.COMPUTERMOVE):(this.message="[gan\xf3 HUMANO]",this.winner=this.HUMANMOVE)}rowCrossed(t){for(let r=0;r<this.SIDE;r++)if(t[r][0]==t[r][1]&&t[r][1]==t[r][2]&&null!=t[r][0])return!0;return!1}columnCrossed(t){for(let r=0;r<this.SIDE;r++)if(t[0][r]==t[1][r]&&t[1][r]==t[2][r]&&null!=t[0][r])return!0;return!1}diagonalCrossed(t){return t[0][0]==t[1][1]&&t[1][1]==t[2][2]&&null!=t[0][0]||t[0][2]==t[1][1]&&t[1][1]==t[2][0]&&null!=t[0][2]}gameOver(t){return this.rowCrossed(t)||this.columnCrossed(t)||this.diagonalCrossed(t)}minimax(t,r,i){let s=0,o=0;if(1==this.gameOver(t)){if(1==i)return-1;if(0==i)return 1}if(r<9){if(1==i){o=-999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==t[a][l]&&(t[a][l]=this.COMPUTERMOVE,s=this.minimax(t,r+1,!1),t[a][l]=null,s>o&&(o=s));return o}o=999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==t[a][l]&&(t[a][l]=this.HUMANMOVE,s=this.minimax(t,r+1,!0),t[a][l]=null,s<o&&(o=s));return o}return 0}bestMove(t,r){let i=-1,s=-1,o=0,a=-999;for(let l=0;l<this.SIDE;l++)for(let c=0;c<this.SIDE;c++)null==t[l][c]&&(t[l][c]=this.COMPUTERMOVE,o=this.minimax(t,r+1,!1),t[l][c]=null,o>a&&(a=o,i=l,s=c));return 3*i+s}doPlay(t,r,i){this.whoseTurn=t;let s=0;switch(t){case this.COMPUTER:s=Math.abs(this.bestMove(this.board,this.moveIndex));break;case this.HUMAN:s=i}let o=Math.floor(s/this.SIDE),a=Math.floor(s%this.SIDE);this.board[o][a]=r,this.squares[s]=r,this.moveIndex++}_declareWinner(){let t=0==this.gameOver(this.board);return console.log("[TIC-TAC-TOE] - [Declare Winner] "),0==(t&&this.moveIndex!=this.boardSurface)&&(t&&this.moveIndex==this.boardSurface?(this.message="[EMPATE]",this.winner=null):this.declareWinner(this.whoseTurn),!0)}makeHumanMove(t){this.doPlay(this.HUMAN,this.HUMANMOVE,t)}makeComputerMove(){this.doPlay(this.COMPUTER,this.COMPUTERMOVE,0)}makeMove(t){this.squares[t]||this.winner||(this.makeHumanMove(t),0==this._declareWinner()&&(this.makeComputerMove(),this._declareWinner()))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const hOe=["_SourceList"],tee=()=>[0,1,2];function fOe(n,e){if(1&n){const t=ws();fe(0,"app-square",15),qt("clickEvent",function(){const i=On(t).$implicit,s=en().$implicit;return Un(en(2).makeMove(3*s+i))}),he()}if(2&n){const t=e.$implicit,r=en().$implicit;qe("value",en(2).ticTacToeEngine.squares[3*r+t])}}function dOe(n,e){1&n&&(fe(0,"div",13),dn(1,fOe,1,1,"app-square",14),he()),2&n&&(Be(),qe("ngForOf",fS(1,tee)))}function AOe(n,e){1&n&&(fe(0,"span",11),dn(1,dOe,2,2,"div",12),he()),2&n&&(Be(),qe("ngForOf",fS(1,tee)))}function pOe(n,e){if(1&n&&(fe(0,"option",16),Te(1),he()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Be(),zi("",t._value," ")}}function gOe(n,e){if(1&n&&(fe(0,"div",17)(1,"b"),Te(2),he()()),2&n){const t=en();Be(2),Nr(t.ticTacToeEngine.message)}}let nee=(()=>{class n{constructor(){this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1,this.ticTacToeEngine=new eee}ngOnInit(){console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new nc(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new nc(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new nc(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}_tituloSourceChanged(){}makeMove(t){console.log(`[TIC-TAC-TOE] - [Click on cel : {${t}}] `),this.ticTacToeEngine.makeMove(t)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-board"]],viewQuery:function(r,i){if(1&r&&Ki(hOe,5),2&r){let s;lr(s=cr())&&(i._sourceList=s.first)}},standalone:!0,features:[xa],decls:19,vars:7,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"change","disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"]],template:function(r,i){if(1&r){const s=ws();fe(0,"h1"),Te(1,"[TIC-TAC-TOE BOARD]"),he(),ft(2,"hr"),dn(3,AOe,2,2,"span",1),ft(4,"hr"),fe(5,"div",2)(6,"span",3),Te(7),he(),ft(8,"label",4),Te(9," \xa0\xa0 "),fe(10,"select",5,0),qt("change",function(){return On(s),Un(i._tituloSourceChanged())}),dn(12,pOe,2,3,"option",6),he()(),ft(13,"hr"),fe(14,"input",7),qt("click",function(){return On(s),Un(i.newGame())}),he(),fe(15,"input",8),qt("click",function(){return On(s),Un(i.startGame())}),he(),ft(16,"hr"),fe(17,"div",9),dn(18,gOe,3,1,"div",10),he()}2&r&&(Be(3),qe("ngIf",i.showBoard),Be(4),Nr(i.tituloSource),Be(3),qe("disabled",0==i.IsNewGame),Be(2),qe("ngForOf",i.__SourceList),Be(2),qe("disabled",1==i.IsNewGame),Be(),qe("disabled",0==i.IsNewGame),Be(3),qe("ngIf",i.ticTacToeEngine.message))},dependencies:[uOe,Pg,Il,tc]})}}return n})(),mOe=(()=>{class n{constructor(){console.log("[TIC-TAC-TOE - INICIO COMPONENTE")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-tic-tac-toe"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(ft(0,"app-board")(1,"hr"),fe(2,"div",0)(3,"a",1),Te(4,"[Volver al Menu]"),he()())},dependencies:[nee,ds]})}}return n})(),vOe=(()=>{class n{constructor(){this.value=null,this.clickEvent=new ie}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-square-online"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[xa],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(r,i){1&r&&(fe(0,"button",0),qt("click",function(){return i.onClick()}),Te(1),he()),2&r&&(Be(),Nr(null==i.value?"_":i.value))},styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})();const aA=Object.create(null);aA.open="0",aA.close="1",aA.ping="2",aA.pong="3",aA.message="4",aA.upgrade="5",aA.noop="6";const QN=Object.create(null);Object.keys(aA).forEach(n=>{QN[aA[n]]=n});const aH={type:"error",data:"parser error"},ree="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),iee="function"==typeof ArrayBuffer,see=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,lH=({type:n,data:e},t,r)=>ree&&e instanceof Blob?t?r(e):oee(e,r):iee&&(e instanceof ArrayBuffer||see(e))?t?r(e):oee(new Blob([e]),r):r(aA[n]+(e||"")),oee=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function aee(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let cH;const Vx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<64;n++)Vx["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(n)]=n;const bOe="function"==typeof ArrayBuffer,uH=(n,e)=>{if("string"!=typeof n)return{type:"message",data:lee(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:wOe(n.substring(1),e)}:QN[t]?n.length>1?{type:QN[t],data:n.substring(1)}:{type:QN[t]}:aH},wOe=(n,e)=>{if(bOe){const t=(n=>{let r,s,o,a,l,e=.75*n.length,t=n.length,i=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(r=0;r<t;r+=4)s=Vx[n.charCodeAt(r)],o=Vx[n.charCodeAt(r+1)],a=Vx[n.charCodeAt(r+2)],l=Vx[n.charCodeAt(r+3)],u[i++]=s<<2|o>>4,u[i++]=(15&o)<<4|a>>2,u[i++]=(3&a)<<6|63&l;return c})(n);return lee(t,e)}return{base64:!0,data:n}},lee=(n,e)=>"blob"===e?n instanceof Blob?n:new Blob([n]):n instanceof ArrayBuffer?n:n.buffer;let hH;function zN(n){return n.reduce((e,t)=>e+t.length,0)}function GN(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function Ta(n){if(n)return function DOe(n){for(var e in Ta.prototype)n[e]=Ta.prototype[e];return n}(n)}Ta.prototype.on=Ta.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Ta.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Ta.prototype.off=Ta.prototype.removeListener=Ta.prototype.removeAllListeners=Ta.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if((r=t[i])===e||r.fn===e){t.splice(i,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},Ta.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){r=0;for(var i=(t=t.slice(0)).length;r<i;++r)t[r].apply(this,e)}return this},Ta.prototype.emitReserved=Ta.prototype.emit,Ta.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Ta.prototype.hasListeners=function(n){return!!this.listeners(n).length};const jN="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),qh=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function hee(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const TOe=qh.setTimeout,BOe=qh.clearTimeout;function qN(n,e){e.useNativeTimers?(n.setTimeoutFn=TOe.bind(qh),n.clearTimeoutFn=BOe.bind(qh)):(n.setTimeoutFn=qh.setTimeout.bind(qh),n.clearTimeoutFn=qh.clearTimeout.bind(qh))}function IOe(n){return"string"==typeof n?function FOe(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}function fee(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class POe extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class fH extends Ta{constructor(e){super(),this.writable=!1,qN(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new POe(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=uH(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function ROe(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}(e);return t.length?"?"+t:""}}class LOe extends fH{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split("\x1e"),r=[];for(let i=0;i<t.length;i++){const s=uH(t[i],e);if(r.push(s),"error"===s.type)break}return r})(e,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((s,o)=>{lH(s,!1,a=>{r[o]=a,++i===t&&e(r.join("\x1e"))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=fee()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let dee=!1;try{dee=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const UOe=dee;function kOe(){}class HOe extends LOe{constructor(e){if(super(e),typeof location<"u"){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}let WN=(()=>{class n extends Ta{constructor(t,r,i){super(),this.createRequest=t,qN(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=void 0!==i.data?i.data:null,this._create()}_create(){var t;const r=hee(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if("POST"===this._method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;3===i.readyState&&(null===(s=this._opts.cookieJar)||void 0===s||s.parseCookies(i.getResponseHeader("set-cookie"))),4===i.readyState&&(200===i.status||1223===i.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof i.status?i.status:0)},0))},i.send(this._data)}catch(s){return void this.setTimeoutFn(()=>{this._onError(s)},0)}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=kOe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();function Aee(){for(let n in WN.requests)WN.requests.hasOwnProperty(n)&&WN.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",Aee):"function"==typeof addEventListener&&addEventListener("onpagehide"in qh?"pagehide":"unload",Aee,!1));const VOe=function(){const n=pee({xdomain:!1});return n&&null!==n.responseType}();function pee(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||UOe))return new XMLHttpRequest}catch{}if(!e)try{return new(qh[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const gee=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class zOe extends fH{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=gee?{}:hee(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;lH(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&jN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=fee()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const dH=qh.WebSocket||qh.MozWebSocket,qOe={websocket:class GOe extends zOe{createSocket(e,t,r){return gee?new dH(e,t,r):t?new dH(e,t):new dH(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class jOe extends fH{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function EOe(n,e){hH||(hH=new TextDecoder);const t=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(0===r){if(zN(t)<1)break;const l=GN(t,1);s=!(128&~l[0]),i=127&l[0],r=i<126?3:126===i?1:2}else if(1===r){if(zN(t)<2)break;const l=GN(t,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(2===r){if(zN(t)<8)break;const l=GN(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(aH);break}i=u*Math.pow(2,32)+c.getUint32(4),r=3}else{if(zN(t)<i)break;const l=GN(t,i);a.enqueue(uH(s?l:hH.decode(l),e)),r=0}if(0===i||i>n){a.enqueue(aH);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=function xOe(){return new TransformStream({transform(n,e){!function yOe(n,e){ree&&n.data instanceof Blob?n.data.arrayBuffer().then(aee).then(e):iee&&(n.data instanceof ArrayBuffer||see(n.data))?e(aee(n.data)):lH(n,!1,t=>{cH||(cH=new TextEncoder),e(cH.encode(t))})}(n,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}n.data&&"string"!=typeof n.data&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=t===e.length-1;this._writer.write(e[t]).then(()=>{i&&jN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class QOe extends HOe{constructor(e){super(e),this.supportsBinary=VOe&&!(e&&e.forceBase64)}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new WN(pee,this.uri(),e)}}},WOe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$Oe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function AH(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),r=n.indexOf("]");-1!=t&&-1!=r&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=WOe.exec(n||""),s={},o=14;for(;o--;)s[$Oe[o]]=i[o]||"";return-1!=t&&-1!=r&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function KOe(n,e){const r=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&r.splice(0,1),"/"==e.slice(-1)&&r.splice(r.length-1,1),r}(0,s.path),s.queryKey=function XOe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}(0,s.query),s}const pH="function"==typeof addEventListener&&"function"==typeof removeEventListener,$N=[];pH&&addEventListener("offline",()=>{$N.forEach(n=>n())},!1);let gH=(()=>{class n extends Ta{constructor(t,r){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(r=t,t=null),t){const i=AH(t);r.hostname=i.host,r.secure="https"===i.protocol||"wss"===i.protocol,r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=AH(r.host).host);qN(this,r),this.secure=null!=r.secure?r.secure:typeof location<"u"&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function OOe(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}(this.opts.query)),pH&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},$N.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(r+=IOe(s)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,jN(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,s){if("function"==typeof r&&(s=r,r=void 0),"function"==typeof i&&(s=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const o={type:t,data:r,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),pH&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=$N.indexOf(this._offlineEventListener);-1!==i&&$N.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=4,n})();class YOe extends gH{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;gH.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!r)if("pong"===h.type&&"probe"===h.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;gH.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=t.name,this.emitReserved("upgradeError",d)}}))};function s(){r||(r=!0,u(),t.close(),t=null)}const o=h=>{const d=new Error("probe error: "+h);d.transport=t.name,s(),this.emitReserved("upgradeError",d)};function a(){o("transport closed")}function l(){o("socket closed")}function c(h){t&&h.name!==t.name&&s()}const u=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",i),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class mee extends YOe{constructor(e,t={}){const r="object"==typeof e?e:t;(!r.transports||r.transports&&"string"==typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>qOe[i]).filter(i=>!!i)),super(e,r)}}const ZOe="function"==typeof ArrayBuffer,ePe=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,vee=Object.prototype.toString,tPe="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===vee.call(Blob),nPe="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===vee.call(File);function mH(n){return ZOe&&(n instanceof ArrayBuffer||ePe(n))||tPe&&n instanceof Blob||nPe&&n instanceof File}function KN(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(KN(n[t]))return!0;return!1}if(mH(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return KN(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&KN(n[t]))return!0;return!1}function rPe(n){const e=[],r=n;return r.data=vH(n.data,e),r.attachments=e.length,{packet:r,buffers:e}}function vH(n,e){if(!n)return n;if(mH(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=vH(n[r],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=vH(n[r],e));return t}return n}function iPe(n,e){return n.data=yH(n.data,e),delete n.attachments,n}function yH(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=yH(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=yH(n[t],e));return n}const sPe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],oPe=5;var Ji=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(Ji||{});class aPe{constructor(e){this.replacer=e}encode(e){return e.type!==Ji.EVENT&&e.type!==Ji.ACK||!KN(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Ji.EVENT?Ji.BINARY_EVENT:Ji.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return(e.type===Ji.BINARY_EVENT||e.type===Ji.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=rPe(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function yee(n){return"[object Object]"===Object.prototype.toString.call(n)}class _H extends Ta{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===Ji.BINARY_EVENT;r||t.type===Ji.BINARY_ACK?(t.type=r?Ji.EVENT:Ji.ACK,this.reconstructor=new lPe(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!mH(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===Ji[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Ji.BINARY_EVENT||r.type===Ji.BINARY_ACK){const s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(s,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){const s=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(s,t)}else r.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const s=t+1;for(;++t;){const o=e.charAt(t);if(null==o||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(!_H.isPayloadValid(r.type,s))throw new Error("invalid payload");r.data=s}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Ji.CONNECT:return yee(t);case Ji.DISCONNECT:return void 0===t;case Ji.CONNECT_ERROR:return"string"==typeof t||yee(t);case Ji.EVENT:case Ji.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===sPe.indexOf(t[0]));case Ji.ACK:case Ji.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class lPe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=iPe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function rd(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const cPe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _ee extends Ta{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[rd(e,"open",this.onopen.bind(this)),rd(e,"packet",this.onpacket.bind(this)),rd(e,"error",this.onerror.bind(this)),rd(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,s;if(cPe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:Ji.EVENT,data:t,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const u=this.ids++,h=t.pop();this._registerAckCallback(u,h),o.id=u}const a=null===(i=null===(r=this.io.engine)||void 0===r?void 0:r.transport)||void 0===i?void 0:i.writable,l=this.connected&&!(null!==(s=this.io.engine)&&void 0!==s&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r;const i=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(null!==i?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ji.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ji.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ji.EVENT:case Ji.BINARY_EVENT:this.onevent(e);break;case Ji.ACK:case Ji.BINARY_ACK:this.onack(e);break;case Ji.DISCONNECT:this.ondisconnect();break;case Ji.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:Ji.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ji.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function lb(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}lb.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=1&Math.floor(10*e)?n+t:n-t}return 0|Math.min(n,this.max)},lb.prototype.reset=function(){this.attempts=0},lb.prototype.setMin=function(n){this.ms=n},lb.prototype.setMax=function(n){this.max=n},lb.prototype.setJitter=function(n){this.jitter=n};class bH extends Ta{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,qN(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new lb({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||Et;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new mee(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=rd(t,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=rd(t,"error",s);if(!1!==this._timeout){const l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(rd(e,"ping",this.onping.bind(this)),rd(e,"data",this.ondata.bind(this)),rd(e,"error",this.onerror.bind(this)),rd(e,"close",this.onclose.bind(this)),rd(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){jN(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new _ee(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Qx={};function XN(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function JOe(n,e="",t){let r=n;t=t||typeof location<"u"&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof t<"u"?t.protocol+"//"+n:"https://"+n),r=AH(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}(n,(e=e||{}).path||"/socket.io"),r=t.source,i=t.id;let l;return e.forceNew||e["force new connection"]||!1===e.multiplex||Qx[i]&&t.path in Qx[i].nsps?l=new bH(r,e):(Qx[i]||(Qx[i]=new bH(r,e)),l=Qx[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(XN,{Manager:bH,Socket:_ee,io:XN,connect:XN});let bee=(()=>{class n{constructor(t){this.messages=[],this.onNewMessage=new Ur;let r=t.getConfigValue("baseUrlNodeJsChat");console.log("Setting chat from url : "+r),this.socket=XN(r,{extraHeaders:{"Access-Control-Allow-Origin":"*"}}),this.socket.on("message",i=>{console.log("received message : ["+JSON.stringify(i)+"]"),this.messages.push(i),console.log("Message Array (service) : "+this.messages),this.onNewMessage.next(i)})}getMessages(){return console.log("Receiving messages to UIX..."),kn(this.messages)}sendMessage(t){this.socket.emit("message",t)}static{this.\u0275fac=function(r){return new(r||n)(Ut(qg))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const uPe=["_SourceList"],wee=()=>[0,1,2];function hPe(n,e){if(1&n){const t=ws();fe(0,"app-square-online",18),qt("clickEvent",function(){const i=On(t).$implicit,s=en().$implicit;return Un(en(2).makeMove(3*s+i))}),he()}if(2&n){const t=e.$implicit,r=en().$implicit;qe("value",en(2).ticTacToeEngine.squares[3*r+t])}}function fPe(n,e){1&n&&(fe(0,"div",16),dn(1,hPe,1,1,"app-square-online",17),he()),2&n&&(Be(),qe("ngForOf",fS(1,wee)))}function dPe(n,e){1&n&&(fe(0,"span",14),dn(1,fPe,2,2,"div",15),he()),2&n&&(Be(),qe("ngForOf",fS(1,wee)))}function APe(n,e){if(1&n&&(fe(0,"option",19),Te(1),he()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Be(),zi("",t._value," ")}}function pPe(n,e){if(1&n&&(fe(0,"div",20)(1,"b"),Te(2),he()()),2&n){const t=en();Be(2),Nr(t.ticTacToeEngine.message)}}function gPe(n,e){if(1&n&&(fe(0,"table",21)(1,"tr")(2,"td")(3,"span"),Te(4),he()()()()),2&n){const t=e.$implicit;Be(4),zi(" ",t," ")}}let Cee=(()=>{class n{constructor(t,r){this.chatService=t,this.ticTacToeEngine=r,this.parentData=[],this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t)),console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new nc(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new nc(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new nc(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.__SourceList.push(new nc(this.ticTacToeEngine.HUMAN,"[JUGAR EN LINEA]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}sendMessage(t){console.log("sending message: ",t),this.chatService.sendMessage(t)}makeMove(t){let r=`[TIC-TAC-TOE] - [Click on cel : {${t+1}}] `;console.log(r),this.ticTacToeEngine.makeMove(t),this.chatService.sendMessage(r)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(r){return new(r||n)(pt(bee),pt(eee))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-board-online"]],viewQuery:function(r,i){if(1&r&&Ki(uPe,5),2&r){let s;lr(s=cr())&&(i._sourceList=s.first)}},standalone:!0,features:[xa],decls:26,vars:8,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["align","center"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","divMessages"],["class","message-data",4,"ngFor","ngForOf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"],[1,"message-data"]],template:function(r,i){if(1&r){const s=ws();fe(0,"h1"),Te(1,"[TIC-TAC-TOE BOARD]"),he(),ft(2,"hr"),dn(3,dPe,2,2,"span",1),ft(4,"hr"),fe(5,"div",2)(6,"span",3),Te(7),he(),ft(8,"label",4),Te(9," \xa0\xa0 "),fe(10,"select",5,0),dn(12,APe,2,3,"option",6),he()(),ft(13,"hr"),fe(14,"div",7)(15,"input",8),qt("click",function(){return On(s),Un(i.newGame())}),he(),fe(16,"input",9),qt("click",function(){return On(s),Un(i.startGame())}),he()(),ft(17,"hr"),fe(18,"div",10),dn(19,pPe,3,1,"div",11),he(),ft(20,"hr"),fe(21,"h4"),Te(22,"[MESSAGES]"),he(),ft(23,"hr"),fe(24,"div",12),dn(25,gPe,5,1,"table",13),he()}2&r&&(Be(3),qe("ngIf",i.showBoard),Be(4),Nr(i.tituloSource),Be(3),qe("disabled",0==i.IsNewGame),Be(2),qe("ngForOf",i.__SourceList),Be(3),qe("disabled",1==i.IsNewGame),Be(),qe("disabled",0==i.IsNewGame),Be(3),qe("ngIf",i.ticTacToeEngine.message),Be(6),qe("ngForOf",i.parentData))},dependencies:[Pg,Il,tc,vOe]})}}return n})(),mPe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-tic-tac-toe-online"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(ft(0,"app-board-online")(1,"hr"),fe(2,"div",0)(3,"a",1),Te(4,"[Volver al Menu]"),he()())},dependencies:[Cee,ds]})}}return n})();const vPe=["ballCanvas"];let yPe=(()=>{class n{constructor(t){this.pageRestartService=t,this.ball={x:100,y:100,vx:5,vy:0,radius:15,mass:1},this.gravity=.5,this.friction=.98,this.restitution=.8,this.animate=()=>{this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.ball.vy+=this.gravity,this.ball.x+=this.ball.vx,this.ball.y+=this.ball.vy,(this.ball.x+this.ball.radius>this.canvas.nativeElement.width||this.ball.x-this.ball.radius<0)&&(this.ball.vx=-this.ball.vx*this.restitution),this.ball.y+this.ball.radius>this.canvas.nativeElement.height&&(this.ball.y=this.canvas.nativeElement.height-this.ball.radius,this.ball.vy=-this.ball.vy*this.restitution,this.ball.vx*=this.friction),this.ctx.beginPath(),this.ctx.arc(this.ball.x,this.ball.y,this.ball.radius,0,2*Math.PI),this.ctx.fillStyle="red",this.ctx.fill(),this.ctx.closePath(),Math.abs(this.ball.vx)<.1&&Math.abs(this.ball.vy)<.1?(this.ball.vx=0,this.ball.vy=0):requestAnimationFrame(this.animate)}}restart(){this.pageRestartService.reloadPage()}ngAfterViewInit(){this.animate()}static{this.\u0275fac=function(r){return new(r||n)(pt(Nk))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-bouncing-ball"]],viewQuery:function(r,i){if(1&r&&Ki(vPe,5),2&r){let s;lr(s=cr())&&(i.canvas=s.first)}},decls:13,vars:0,consts:[["ballCanvas",""],["align","center"],["width","300","height","300"],[3,"click"],["align","right"],["routerLink","/StableReleases"]],template:function(r,i){if(1&r){const s=ws();fe(0,"div",1)(1,"h1"),Te(2,"[BOUCING BALL DEMO]"),he(),ft(3,"hr")(4,"canvas",2,0)(6,"hr"),fe(7,"button",3),qt("click",function(){return On(s),Un(i.restart())}),Te(8,"[RESTART]"),he(),ft(9,"hr"),fe(10,"div",4)(11,"a",5),Te(12,"[Volver al Menu]"),he()()()}},dependencies:[ds],styles:["canvas[_ngcontent-%COMP%]{border:1px solid #d3d3d3}"]})}}return n})(),hc=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),bPe=(()=>{class n{ripple=!1;inputStyle=r5("outlined");overlayOptions={};csp=r5({nonce:void 0});filterMatchModeOptions={text:[hc.STARTS_WITH,hc.CONTAINS,hc.NOT_CONTAINS,hc.ENDS_WITH,hc.EQUALS,hc.NOT_EQUALS],numeric:[hc.EQUALS,hc.NOT_EQUALS,hc.LESS_THAN,hc.LESS_THAN_OR_EQUAL_TO,hc.GREATER_THAN,hc.GREATER_THAN_OR_EQUAL_TO],date:[hc.DATE_IS,hc.DATE_IS_NOT,hc.DATE_BEFORE,hc.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Ur;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wPe=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(pt(ia))};static \u0275dir=mn({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[Rr.None,"pTemplate","name"]},standalone:!0})}return n})(),CPe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Zr({type:n});static \u0275inj=Kr({})}return n})(),jc=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)t.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)t.className+=" "+i[s]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,r){return!(!t||!r)&&(t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==t)return i;1==r[s].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==t)return s;i[o].attributes&&i[o].attributes[r]&&1==i[o].nodeType&&s++}return-1}static appendOverlay(t,r,i="self"){"self"!==i&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",s=!0){t&&r&&(s&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),"self"===i?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r,i=!0){const s=y=>{if(y)return"relative"===getComputedStyle(y).getPropertyValue("position")?y:s(y.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=r.offsetHeight??r.getBoundingClientRect().height,l=r.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),h=this.getViewport(),f=s(t)?.getBoundingClientRect()||{top:-1*c,left:-1*u};let A,p;l.top+a+o.height>h.height?(A=l.top-f.top-o.height,t.style.transformOrigin="bottom",l.top+A<0&&(A=-1*l.top)):(A=a+l.top-f.top,t.style.transformOrigin="top");const m=l.left+o.width-h.width;p=o.width>h.width?-1*(l.left-f.left):m>0?l.left-f.left-m:l.left-f.left,t.style.top=A+"px",t.style.left=p+"px",i&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,r,i=!0){const s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=r.offsetHeight??r.getBoundingClientRect().height,c=r.offsetWidth??r.getBoundingClientRect().width,u=r.getBoundingClientRect(),h=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),f=this.getViewport();let A,p;u.top+l+o>f.height?(A=u.top+h-o,t.style.transformOrigin="bottom",A<0&&(A=h)):(A=l+u.top+h,t.style.transformOrigin="top"),p=u.left+a>f.width?Math.max(0,u.left+d+c-a):u.left+d,t.style.top=A+"px",t.style.left=p+"px",i&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of i){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let h=this.findSingle(a,u);h&&o(h)&&r.push(h)}}9!==a.nodeType&&o(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),u=r.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,h=t.scrollTop,d=t.clientHeight,f=this.getOuterHeight(r);u<0?t.scrollTop=h+u:u+f>d&&(t.scrollTop=h+u-d+f)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,r){var i=1,a=50/r;let l=setInterval(()=>{(i-=a)<=0&&(i=0,clearInterval(l)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||s.clientWidth,height:t.innerHeight||i.clientHeight||s.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!(r&&r.el&&r.el.nativeElement))throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,r=""){let i=this.find(t,this.getFocusableSelectorString(r)),s=[];for(let o of i){const a=getComputedStyle(o);this.isVisible(o)&&"none"!=a.display&&"hidden"!=a.visibility&&s.push(o)}return s}static getFocusableElement(t,r=""){let i=this.findSingle(t,this.getFocusableSelectorString(r));if(i){const s=getComputedStyle(i);if(this.isVisible(i)&&"none"!=s.display&&"hidden"!=s.visibility)return i}return null}static getFirstFocusableElement(t,r=""){const i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){const i=n.getFocusableElements(t);let s=0;if(i&&i.length>0){const o=i.indexOf(i[0].ownerDocument.activeElement);r?s=-1==o||0===o?i.length-1:o-1:-1!=o&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const i=typeof t;if("string"===i)return document.querySelector(t);if("object"===i&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const o=(a=t)&&a.constructor&&a.call&&a.apply?t():t;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){const i=t.getAttribute(r);return isNaN(i)?"true"===i||"false"===i?"true"===i:i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,r={},...i){if(t){const s=document.createElement(t);return this.setAttributes(s,r),s.append(...i),s}}static setAttribute(t,r="",i){this.isElement(t)&&null!=i&&t.setAttribute(r,i)}static setAttributes(t,r={}){if(this.isElement(t)){const i=(s,o)=>{const a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(null!=c){const u=typeof c;if("string"===u||"number"===u)l.push(c);else if("object"===u){const h=Array.isArray(c)?i(s,c):Object.entries(c).map(([d,f])=>"style"!==s||!f&&0!==f?f?d:void 0:`${d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`);l=h.length?l.concat(h.filter(d=>!!d)):l}}return l},a)};Object.entries(r).forEach(([s,o])=>{if(null!=o){const a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):"pBind"===s?this.setAttributes(t,o):(o="class"===s?[...new Set(i("class",o))].join(" ").trim():"style"===s?i("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,r=""){return!!this.isElement(t)&&t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`)}}return n})(),SPe=(()=>{class n{autofocus=!1;focused=!1;platformId=Ve(Rh);document=Ve(Xi);host=Ve(N);ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){GM(this.platformId)&&this.autofocus&&setTimeout(()=>{const t=jc.getFocusableElements(this.host?.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mn({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[Rr.HasDecoratorInputTransform,"autofocus","autofocus",Nl]},standalone:!0,features:[$C]})}return n})();class zx{static isArray(e,t=!0){return Array.isArray(e)&&(t||0!==e.length)}static isObject(e,t=!0){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&(t||0!==Object.keys(e).length)}static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var d=Object.keys(e);if((o=d.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,d[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[a=d[s]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let r=t.split("."),i=e;for(let s=0,o=r.length;s<o;++s){if(null==i)return null;i=i[r[s]]}return i}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>t){r.splice(o,0,e),s=!0;break}s||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t)for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}return r}static contains(e,t){if(null!=e&&t&&t.length)for(let r of t)if(this.equals(e,r))return!0;return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let s=-1;const o=this.isEmpty(e),a=this.isEmpty(t);return s=o&&a?0:o?i:a?-i:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,r,{numeric:!0}):e<t?-1:e>t?1:0,s}static sort(e,t,r=1,i,s=1){const o=zx.compare(e,t,i,r);let a=r;return(zx.isEmpty(e)||zx.isEmpty(t))&&(a=1===s?r:s),a*o}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var d=Object.keys(e);if((o=d.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,d[s]))return!1;for(s=o;0!=s--;)if(!this.deepEquals(e[a=d[s]],t[a]))return!1;return!0}return e!=e&&t!=t}}var See=0;!function EPe(){let n=[];const i=s=>s&&parseInt(s.style.zIndex,10)||0}();const DPe=["*"];let MPe=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=zx.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ar({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[Rr.HasDecoratorInputTransform,"spin","spin",Nl],styleClass:"styleClass"},standalone:!0,features:[$C,xa],ngContentSelectors:DPe,decls:1,vars:0,template:function(r,i){1&r&&(cS(),uS(0))},encapsulation:2,changeDetection:0})}return n})(),TPe=(()=>{class n extends MPe{pathId;ngOnInit(){this.pathId="url(#"+function xPe(n="pn_id_"){return`${n}${++See}`}()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=fs(n)))(i||n)}})();static \u0275cmp=ar({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[is,xa],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){1&r&&(function Mf(){dr.lFrame.currentNamespace="svg"}(),fe(0,"svg",0)(1,"g"),ft(2,"path",1),he(),fe(3,"defs")(4,"clipPath",2),ft(5,"rect",3),he()()()),2&r&&(Ig(i.getClassNames()),Ni("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),Be(),Ni("clip-path",i.pathId),Be(3),qe("id",i.pathId))},encapsulation:2})}return n})(),BPe=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,r,i,s,o,a){this.document=t,this.platformId=r,this.renderer=i,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){GM(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(jc.removeClass(r,"p-ink-active"),!jc.getHeight(r)&&!jc.getWidth(r)){let a=Math.max(jc.getOuterWidth(this.el.nativeElement),jc.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=jc.getOffset(this.el.nativeElement),s=t.pageX-i.left+this.document.body.scrollTop-jc.getWidth(r)/2,o=t.pageY-i.top+this.document.body.scrollLeft-jc.getHeight(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),jc.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&jc.removeClass(a,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if("string"==typeof t[r].className&&-1!==t[r].className.indexOf("p-ink"))return t[r];return null}resetInk(){let t=this.getInk();t&&jc.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),jc.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,jc.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||n)(pt(Xi),pt(Rh),pt(Ff),pt(N),pt(Cr),pt(bPe,8))};static \u0275dir=mn({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})();const NPe=["*"],xee=n=>({class:n});function IPe(n,e){1&n&&M5(0)}function FPe(n,e){1&n&&ft(0,"span",8),2&n&&(qe("ngClass",en(3).iconClass()),Ni("aria-hidden",!0)("data-pc-section","loadingicon"))}function RPe(n,e){1&n&&ft(0,"SpinnerIcon",9),2&n&&(qe("styleClass",en(3).spinnerIconClass())("spin",!0),Ni("aria-hidden",!0)("data-pc-section","loadingicon"))}function OPe(n,e){if(1&n&&(Uv(0),dn(1,FPe,1,3,"span",6)(2,RPe,1,4,"SpinnerIcon",7),kv()),2&n){const t=en(2);Be(),qe("ngIf",t.loadingIcon),Be(),qe("ngIf",!t.loadingIcon)}}function PPe(n,e){}function LPe(n,e){1&n&&dn(0,PPe,0,0,"ng-template",10),2&n&&qe("ngIf",en(2).loadingIconTemplate)}function UPe(n,e){if(1&n&&(Uv(0),dn(1,OPe,3,2,"ng-container",2)(2,LPe,1,1,null,5),kv()),2&n){const t=en();Be(),qe("ngIf",!t.loadingIconTemplate),Be(),qe("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",Gd(3,xee,t.iconClass()))}}function kPe(n,e){1&n&&ft(0,"span",8),2&n&&(qe("ngClass",en(2).iconClass()),Ni("data-pc-section","icon"))}function HPe(n,e){}function VPe(n,e){if(1&n&&dn(0,HPe,0,0,"ng-template",10),2&n){const t=en(2);qe("ngIf",!t.icon&&t.iconTemplate)}}function QPe(n,e){if(1&n&&(Uv(0),dn(1,kPe,1,2,"span",6)(2,VPe,1,1,null,5),kv()),2&n){const t=en();Be(),qe("ngIf",t.icon&&!t.iconTemplate),Be(),qe("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",Gd(3,xee,t.iconClass()))}}function zPe(n,e){if(1&n&&(fe(0,"span",11),Te(1),he()),2&n){const t=en();Ni("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),Be(),Nr(t.label)}}function GPe(n,e){if(1&n&&(fe(0,"span",8),Te(1),he()),2&n){const t=en();Ig(t.badgeClass),qe("ngClass",t.badgeStyleClass()),Ni("data-pc-section","badge"),Be(),Nr(t.badge)}}let Eee=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new ie;onFocus=new ie;onBlur=new ie;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[r])=>t+` ${r}`,"p-button-loading-icon")}iconClass(){const t={"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(r){return new(r||n)(pt(N))};static \u0275cmp=ar({type:n,selectors:[["p-button"]],contentQueries:function(r,i,s){if(1&r&&Sa(s,wPe,4),2&r){let o;lr(o=cr())&&(i.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(r,i){2&r&&Ci("p-disabled",i.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[Rr.HasDecoratorInputTransform,"disabled","disabled",Nl],loading:[Rr.HasDecoratorInputTransform,"loading","loading",Nl],loadingIcon:"loadingIcon",raised:[Rr.HasDecoratorInputTransform,"raised","raised",Nl],rounded:[Rr.HasDecoratorInputTransform,"rounded","rounded",Nl],text:[Rr.HasDecoratorInputTransform,"text","text",Nl],plain:[Rr.HasDecoratorInputTransform,"plain","plain",Nl],severity:"severity",outlined:[Rr.HasDecoratorInputTransform,"outlined","outlined",Nl],link:[Rr.HasDecoratorInputTransform,"link","link",Nl],tabindex:[Rr.HasDecoratorInputTransform,"tabindex","tabindex",C0e],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[Rr.HasDecoratorInputTransform,"autofocus","autofocus",Nl]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[$C,xa],ngContentSelectors:NPe,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(r,i){1&r&&(cS(),fe(0,"button",0),qt("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),uS(1),dn(2,IPe,1,0,"ng-container",1)(3,UPe,3,5,"ng-container",2)(4,QPe,3,5,"ng-container",2)(5,zPe,2,3,"span",3)(6,GPe,2,5,"span",4),he()),2&r&&(qe("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",i.buttonClass)("autofocus",i.autofocus),Ni("type",i.type)("aria-label",i.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",i.tabindex),Be(2),qe("ngTemplateOutlet",i.contentTemplate),Be(),qe("ngIf",i.loading),Be(),qe("ngIf",!i.loading),Be(),qe("ngIf",!i.contentTemplate&&i.label),Be(),qe("ngIf",!i.contentTemplate&&i.badge))},dependencies:[tc,F_,QM,mL,BPe,SPe,TPe],encapsulation:2,changeDetection:0})}return n})(),jPe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Zr({type:n});static \u0275inj=Kr({imports:[Eee,CPe]})}return n})();const qPe=["_txtName"],WPe=["_txtMessage"];function $Pe(n,e){1&n&&(fe(0,"div",17),Te(1," Pleae enter all fields "),he())}function KPe(n,e){if(1&n&&(fe(0,"table",18)(1,"tr")(2,"td")(3,"span"),Te(4),he()()()()),2&n){const t=e.$implicit;Be(4),zi(" ",t," ")}}let XPe=(()=>{class n{constructor(t,r){this.chatService=t,this.datePipe=r,this.parentData=[]}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t))}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}submitForm(t){t.valid&&(console.log(t.value),this.sendMessage(t.value.txtName,t.value.txtMessage))}sendMessage(t,r){let o=`[${this.datePipe.transform(new Date,"yyyy-MM-dd HH:mm:ss")}] -[${t}] Says: "${r}"`;console.log("sending message: {"+r+"}"),this.chatService.sendMessage(o)}static{this.\u0275fac=function(r){return new(r||n)(pt(bee),pt(_L))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-chat"]],viewQuery:function(r,i){if(1&r&&(Ki(qPe,5),Ki(WPe,5)),2&r){let s;lr(s=cr())&&(i.txtName=s.first),lr(s=cr())&&(i.txtMessage=s.first)}},decls:29,vars:2,consts:[["messageinputform","ngForm"],["_txtName",""],["_txtMessage",""],["id","divMessageInput","align","left"],[3,"ngSubmit"],[1,"form-group"],["for","txtName"],["type","text","id","txtName","name","txtName","maxlength","10","ngModel","","required",""],["for","txtMessage"],["type","text","id","txtMessage","name","txtMessage","maxlength","25","ngModel","","required",""],["class","form-group","align","left",4,"ngIf"],[1,"card","flex","justify-content-center"],["label","[SEND MESSAGE]","icon","pi pi-check","type","submit"],["id","divMessageOutput"],["class","message-data",4,"ngFor","ngForOf"],["align","right"],["routerLink","/Dev"],["align","left",1,"form-group"],[1,"message-data"]],template:function(r,i){if(1&r){const s=ws();fe(0,"h1"),Te(1,"[CHAT]"),he(),ft(2,"hr"),fe(3,"h4"),Te(4,"[MESSAGES]"),he(),ft(5,"hr"),fe(6,"div",3)(7,"form",4,0),qt("ngSubmit",function(){On(s);const a=Uf(8);return Un(i.submitForm(a))}),fe(9,"div",5)(10,"label",6),Te(11,"Your Name:"),he(),ft(12,"input",7,1),he(),fe(14,"div",5)(15,"label",8),Te(16,"Your Message :"),he(),ft(17,"input",9,2),he(),dn(19,$Pe,2,0,"div",10),fe(20,"div",11),ft(21,"p-button",12),he()()(),ft(22,"hr"),fe(23,"div",13),dn(24,KPe,5,1,"table",14),he(),ft(25,"hr"),fe(26,"div",15)(27,"a",16),Te(28,"[Volver al Menu]"),he()()}if(2&r){const s=Uf(8);Be(19),qe("ngIf",0==s.valid&&s.submitted),Be(5),qe("ngForOf",i.parentData.reverse())}},dependencies:[ds,Il,tc,k_,ZA,qv,L_,fT,c3,Kv,$v,Eee],styles:["@layer reset,primeng;@layer reset;table[_ngcontent-%COMP%]{width:400px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc;text-align:left}.form-group[_ngcontent-%COMP%]{background-color:#ccc;width:300px;margin-bottom:1em;display:flex;align-items:center}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}.message-data[_ngcontent-%COMP%]{color:#0ff}"]})}}return n})();function Ka(){return Ka=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ka.apply(null,arguments)}var Dee={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null},It=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(Dee)};function Fr(n){var e=typeof n;if("number"===e||"bigint"===e||"string"===e||"boolean"===e||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(t){return Fr(t)});if(n instanceof Date)return new Date(n.valueOf());if(Vr(n))return n;if(qx(n))return function YPe(n,e){var t={};for(var r in n)Qn(n,r)&&(t[r]=e(n[r]));return t}(n,Fr);if("function"===e)return n;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function Tee(n,e){for(var t in e)Qn(e,t)&&(n[t]=e[t]);return n}function Cp(n,e){var t,r,i;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;r++)if(!Cp(n[r],e[r]))return!1;return!0}if("function"==typeof n)return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!Cp(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}return n===e}function Qn(n,e){return n&&Object.hasOwnProperty.call(n,e)}function qc(n,e){if(YN(n,e))return n[e];throw"function"==typeof n[e]&&SH(n,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function cb(n,e,t){if(YN(n,e))return n[e]=t,t;throw new Error('No access to property "'+e+'"')}function YN(n,e){return!(!function r5e(n){return"object"==typeof n&&n&&n.constructor===Object}(n)&&!Array.isArray(n)||!Qn(i5e,e)&&(e in Object.prototype||e in Function.prototype))}function SH(n,e){return!(null==n||"function"!=typeof n[e]||Qn(n,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(n)||!Qn(s5e,e)&&(e in Object.prototype||e in Function.prototype))}Ka(It,Dee,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var i5e={length:!0,name:!0},s5e={toString:!0,valueOf:!0,toLocaleString:!0};class JN{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return qc(this.wrappedObject,e)}set(e,t){return cb(this.wrappedObject,e,t),this}has(e){return YN(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return Oee(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){YN(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class Ree{constructor(e,t,r){this.a=e,this.b=t,this.bKeys=r,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return Oee(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function Oee(n,e){return{next:()=>{var t=n.next();return t.done?t:{value:e(t.value),done:!1}}}}function Gx(){return new Map}function ub(n){if(!n)return Gx();if(hb(n))return n;if(qx(n))return new JN(n);throw new Error("createMap can create maps from objects or Maps")}function Hr(n){return"number"==typeof n}function Vr(n){return!(!n||"object"!=typeof n||"function"!=typeof n.constructor)&&(!0===n.isBigNumber&&"object"==typeof n.constructor.prototype&&!0===n.constructor.prototype.isBigNumber||"function"==typeof n.constructor.isDecimal&&!0===n.constructor.isDecimal(n))}function a5e(n){return"bigint"==typeof n}function Sp(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isComplex||!1}function jx(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isFraction||!1}function Wh(n){return n&&!0===n.constructor.prototype.isUnit||!1}function fc(n){return"string"==typeof n}var Ts=Array.isArray;function ur(n){return n&&!0===n.constructor.prototype.isMatrix||!1}function $h(n){return Array.isArray(n)||ur(n)}function ZN(n){return n&&n.isDenseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function O0(n){return n&&n.isSparseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function xH(n){return n&&!0===n.constructor.prototype.isRange||!1}function eI(n){return n&&!0===n.constructor.prototype.isIndex||!1}function l5e(n){return"boolean"==typeof n}function c5e(n){return n&&!0===n.constructor.prototype.isResultSet||!1}function Pee(n){return n&&!0===n.constructor.prototype.isHelp||!1}function u5e(n){return"function"==typeof n}function h5e(n){return n instanceof Date}function f5e(n){return n instanceof RegExp}function qx(n){return!(!n||"object"!=typeof n||n.constructor!==Object||Sp(n)||jx(n))}function hb(n){return!!n&&(n instanceof Map||n instanceof JN||"function"==typeof n.set&&"function"==typeof n.get&&"function"==typeof n.keys&&"function"==typeof n.has)}function d5e(n){return null===n}function A5e(n){return void 0===n}function P0(n){return n&&!0===n.isAccessorNode&&!0===n.constructor.prototype.isNode||!1}function Kh(n){return n&&!0===n.isArrayNode&&!0===n.constructor.prototype.isNode||!1}function p5e(n){return n&&!0===n.isAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function g5e(n){return n&&!0===n.isBlockNode&&!0===n.constructor.prototype.isNode||!1}function m5e(n){return n&&!0===n.isConditionalNode&&!0===n.constructor.prototype.isNode||!1}function Di(n){return n&&!0===n.isConstantNode&&!0===n.constructor.prototype.isNode||!1}function EH(n){return Di(n)||da(n)&&1===n.args.length&&Di(n.args[0])&&"-+~".includes(n.op)}function Wx(n){return n&&!0===n.isFunctionAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function pm(n){return n&&!0===n.isFunctionNode&&!0===n.constructor.prototype.isNode||!1}function fb(n){return n&&!0===n.isIndexNode&&!0===n.constructor.prototype.isNode||!1}function Bs(n){return n&&!0===n.isNode&&!0===n.constructor.prototype.isNode||!1}function tI(n){return n&&!0===n.isObjectNode&&!0===n.constructor.prototype.isNode||!1}function da(n){return n&&!0===n.isOperatorNode&&!0===n.constructor.prototype.isNode||!1}function xp(n){return n&&!0===n.isParenthesisNode&&!0===n.constructor.prototype.isNode||!1}function v5e(n){return n&&!0===n.isRangeNode&&!0===n.constructor.prototype.isNode||!1}function y5e(n){return n&&!0===n.isRelationalNode&&!0===n.constructor.prototype.isNode||!1}function Al(n){return n&&!0===n.isSymbolNode&&!0===n.constructor.prototype.isNode||!1}function Lee(n){return n&&!0===n.constructor.prototype.isChain||!1}function $s(n){var e=typeof n;return"object"===e?null===n?"null":Vr(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}var Uee=new Set(["end"]);function ye(n,e,t,r){function i(s){var o=function t5e(n,e){for(var t={},r=0;r<e.length;r++){var i=e[r],s=n[i];void 0!==s&&(t[i]=s)}return t}(s,e.map(C5e));return function b5e(n,e,t){var r=e.filter(s=>!function w5e(n){return n&&"?"===n[0]}(s)).every(s=>void 0!==t[s]);if(!r){var i=e.filter(s=>void 0===t[s]);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(i.map(s=>'"'.concat(s,'"')).join(", "),"."))}}(n,e,s),t(o)}return i.isFactory=!0,i.fn=n,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function C5e(n){return n&&"?"===n[0]?n.slice(1):n}var E5e=ye("Node",["mathWithTransform"],n=>{var{mathWithTransform:e}=n;return class r{get type(){return"Node"}get isNode(){return!0}evaluate(s){return this.compile().evaluate(s)}compile(){var s=this._compile(e,{}),o={};return{evaluate:function l(c){var u=ub(c);return function t(i){for(var s of[...Uee])if(i.has(s))throw new Error('Scope contains an illegal symbol, "'+s+'" is a reserved keyword')}(u),s(u,o,null)}}}_compile(s,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(s){throw new Error("Cannot run forEach on a Node interface")}map(s){throw new Error("Cannot run map on a Node interface")}_ifNode(s){if(!Bs(s))throw new TypeError("Callback function must return a Node");return s}traverse(s){s(this,null,null),function o(a,l){a.forEach(function(c,u,h){l(c,u,h),o(c,l)})}(this,s)}transform(s){return function o(a,l,c){var u=s(a,l,c);return u!==a?u:a.map(o)}(this,null,null)}filter(s){var o=[];return this.traverse(function(a,l,c){s(a,l,c)&&o.push(a)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(s){return s.cloneDeep()})}equals(s){return!!s&&this.type===s.type&&Cp(this,s)}toString(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toString(s)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toHTML(s)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toTex(s)}_toTex(s){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(s){if(s&&"object"==typeof s)switch(typeof s.handler){case"object":case"undefined":return;case"function":return s.handler(this,s);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function $x(n){return $x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(n)}function Xa(n,e,t){return(e=function M5e(n){var e=function D5e(n,e){if("object"!=$x(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!=$x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==$x(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kn(n){return"boolean"==typeof n||!!isFinite(n)&&n===Math.round(n)}function gm(n,e){return"bigint"!==e.number||function T5e(n){return/^-?\d+$/.test(n)}(n)?e.number:e.numberFallback}var mm=Math.sign||function(n){return n>0?1:n<0?-1:0},B5e=Math.log2||function(e){return Math.log(e)/Math.LN2},N5e=Math.log10||function(e){return Math.log(e)/Math.LN10},kee=Math.log1p||function(n){return Math.log(n+1)},I5e=Math.cbrt||function(e){if(0===e)return e;var r,t=e<0;return t&&(e=-e),r=isFinite(e)?(e/((r=Math.exp(Math.log(e)/3))*r)+2*r)/3:e,t?-r:r},F5e=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function MH(n,e,t){var i={2:"0b",8:"0o",16:"0x"}[e],s="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Kn(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Kn(n))throw new Error("Value must be an integer");n<0&&(n+=2**t),s="i".concat(t)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(i).concat(n.toString(e)).concat(s)}function L0(n,e){if("function"==typeof e)return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:r,wordSize:i}=Hee(e);switch(t){case"fixed":return Vee(n,r);case"exponential":return Qee(n,r);case"engineering":return function R5e(n,e){if(isNaN(n)||!isFinite(n))return String(n);var r=nI(Kx(n),e),i=r.exponent,s=r.coefficients,o=i%3==0?i:i<0?i-3-i%3:i-i%3;if(Hr(e))for(;e>s.length||i-o+1>s.length;)s.push(0);else for(var a=Math.abs(i-o)-(s.length-1),l=0;l<a;l++)s.push(0);for(var c=Math.abs(i-o),u=1;c>0;)u++,c--;var h=s.slice(u).join(""),d=Hr(e)&&h.length||h.match(/[1-9]/)?"."+h:"",f=s.slice(0,u).join("")+d+"e"+(i>=0?"+":"")+o.toString();return r.sign+f}(n,r);case"bin":return MH(n,2,i);case"oct":return MH(n,8,i);case"hex":return MH(n,16,i);case"auto":return function O5e(n,e,t){if(isNaN(n)||!isFinite(n))return String(n);var r=qee(t?.lowerExp,-3),i=qee(t?.upperExp,5),s=Kx(n),o=e?nI(s,e):s;if(o.exponent<r||o.exponent>=i)return Qee(n,e);var a=o.coefficients,l=o.exponent;a.length<e&&(a=a.concat(db(e-a.length))),a=a.concat(db(l-a.length+1+(a.length<e?e-a.length:0)));var c=l>0?l:0;return c<(a=db(-l).concat(a)).length-1&&a.splice(c+1,0,"."),o.sign+a.join("")}(n,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return"."!==s?s+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Hee(n){var t,r,e="auto";if(void 0!==n)if(Hr(n))t=n;else if(Vr(n))t=n.toNumber();else{if(!qx(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==n.precision&&(t=jee(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),void 0!==n.wordSize&&(r=jee(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(e=n.notation)}return{notation:e,precision:t,wordSize:r}}function Kx(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),s=r.indexOf(".");i+=-1!==s?s-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(a){return i-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return 0===o.length&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function Vee(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=Kx(n),r="number"==typeof e?nI(t,t.exponent+1+e):t,i=r.coefficients,s=r.exponent+1,o=s+(e||0);return i.length<o&&(i=i.concat(db(o-i.length))),s<0&&(i=db(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),r.sign+i.join("")}function Qee(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=Kx(n),r=e?nI(t,e):t,i=r.coefficients,s=r.exponent;i.length<e&&(i=i.concat(db(e-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function nI(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var s=e-1;for(r[s]++;10===r[s];)r.pop(),0===s&&(r.unshift(0),t.exponent++,s++),r[--s]++}return t}function db(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function Pl(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(e)&&(isFinite(n)&&isFinite(e)?n===e||Math.abs(n-e)<=Math.max(t*Math.max(Math.abs(n),Math.abs(e)),r):n===e)}var L5e=Math.acosh||function(n){return Math.log(Math.sqrt(n*n-1)+n)},U5e=Math.asinh||function(n){return Math.log(Math.sqrt(n*n+1)+n)},k5e=Math.atanh||function(n){return Math.log((1+n)/(1-n))/2},zee=Math.cosh||function(n){return(Math.exp(n)+Math.exp(-n))/2},H5e=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2},Gee=Math.tanh||function(n){var e=Math.exp(2*n);return(e-1)/(e+1)};function jee(n,e){return Hr(n)?n:Vr(n)?n.toNumber():void e()}function qee(n,e){return Hr(n)?n:Vr(n)?n.toNumber():e}function TH(n,e,t){var i=new(0,n.constructor)(2),s="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Kn(t))throw new Error("size must be an integer");if(n.greaterThan(i.pow(t-1).sub(1))||n.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(i.pow(t))),s="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(s);case 8:return"".concat(n.toOctal()).concat(s);case 16:return"".concat(n.toHexadecimal()).concat(s);default:throw new Error("Base ".concat(e," not supported "))}}function Wee(n,e){return void 0!==e?n.toExponential(e-1):n.toExponential()}function $ee(n,e){return Hr(n)?n:Vr(n)?n.toNumber():e}function j5e(n,e){return n.substring(n.length-e.length,n.length)===e}function ri(n,e){var t=function q5e(n,e){return"number"==typeof n?L0(n,e):Vr(n)?function Q5e(n,e){if("function"==typeof e)return e(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:r,wordSize:i}=Hee(e);switch(t){case"fixed":return function G5e(n,e){return n.toFixed(e)}(n,r);case"exponential":return Wee(n,r);case"engineering":return function z5e(n,e){var t=n.e,r=t%3==0?t:t<0?t-3-t%3:t-t%3,s=n.mul(Math.pow(10,-r)).toPrecision(e);return s.includes("e")&&(s=new(0,n.constructor)(s).toFixed()),s+"e"+(t>=0?"+":"")+r.toString()}(n,r);case"bin":return TH(n,2,i);case"oct":return TH(n,8,i);case"hex":return TH(n,16,i);case"auto":var s=$ee(e?.lowerExp,-3),o=$ee(e?.upperExp,5);if(n.isZero())return"0";var l=n.toSignificantDigits(r),c=l.e;return(c>=s&&c<o?l.toFixed():Wee(n,r)).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],h=arguments[4];return"."!==u?u+h:h});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(n,e):function W5e(n){return n&&"object"==typeof n&&"bigint"==typeof n.s&&"bigint"==typeof n.n&&"bigint"==typeof n.d||!1}(n)?e&&"decimal"===e.fraction?n.toString():"".concat(n.s*n.n,"/").concat(n.d):Array.isArray(n)?Xee(n,e):fc(n)?Ab(n):"function"==typeof n?n.syntax?String(n.syntax):"function":n&&"object"==typeof n?"function"==typeof n.format?n.format(e):n&&n.toString(e)!=={}.toString()?n.toString(e):"{"+Object.keys(n).map(r=>Ab(r)+": "+ri(n[r],e)).join(", ")+"}":String(n)}(n,e);return e&&"object"==typeof e&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function Ab(n){for(var e=String(n),t="",r=0;r<e.length;){var i=e.charAt(r);t+=i in Kee?Kee[i]:i,r++}return'"'+t+'"'}var Kee={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Xh(n){var e=String(n);return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Xee(n,e){if(Array.isArray(n)){for(var t="[",r=n.length,i=0;i<r;i++)0!==i&&(t+=", "),t+=Xee(n[i],e);return t+"]"}return ri(n,e)}function BH(n,e){if(!fc(n))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+$s(n)+", index: 0)");if(!fc(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+$s(e)+", index: 1)");return n===e?0:n>e?1:-1}var rI="ObjectNode",K5e=ye(rI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&("object"!=typeof i||!Object.keys(i).every(function(s){return Bs(i[s])})))throw new TypeError("Object containing Nodes expected")}get type(){return rI}get isObjectNode(){return!0}_compile(i,s){var o={};for(var a in this.properties)if(Qn(this.properties,a)){var l=Ab(a),c=JSON.parse(l),u=qc(this.properties,a);o[c]=u._compile(i,s)}return function(d,f,A){var p={};for(var m in o)Qn(o,m)&&(p[m]=o[m](d,f,A));return p}}forEach(i){for(var s in this.properties)Qn(this.properties,s)&&i(this.properties[s],"properties["+Ab(s)+"]",this)}map(i){var s={};for(var o in this.properties)Qn(this.properties,o)&&(s[o]=this._ifNode(i(this.properties[o],"properties["+Ab(o)+"]",this)));return new t(s)}clone(){var i={};for(var s in this.properties)Qn(this.properties,s)&&(i[s]=this.properties[s]);return new t(i)}_toString(i){var s=[];for(var o in this.properties)Qn(this.properties,o)&&s.push(Ab(o)+": "+this.properties[o].toString(i));return"{"+s.join(", ")+"}"}toJSON(){return{mathjs:rI,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var s=[];for(var o in this.properties)Qn(this.properties,o)&&s.push('<span class="math-symbol math-property">'+Xh(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var s=[];for(var o in this.properties)Qn(this.properties,o)&&s.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");return"\\left\\{\\begin{array}{ll}"+s.join("\n")+"\\end{array}\\right\\}"}}return Xa(t,"name",rI),t},{isClass:!0,isNode:!0});function ii(n,e,t){if(!(this instanceof ii))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function id(n,e,t){if(!(this instanceof id))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function xr(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function Yee(n,e,t){var r,i=n.length;if(i!==e[t])throw new ii(i,e[t]);if(t<e.length-1){var s=t+1;for(r=0;r<i;r++){if(!Array.isArray(n[r]))throw new ii(e.length-1,e.length,"<");Yee(n[r],e,s)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new ii(e.length+1,e.length,">")}function Jee(n,e){if(0===e.length){if(Array.isArray(n))throw new ii(n.length,0)}else Yee(n,e,0)}function iI(n,e){var t=n.isMatrix?n._size:xr(n);e._sourceSize.forEach((i,s)=>{if(null!==i&&i!==t[s])throw new ii(i,t[s])})}function Ks(n,e){if(void 0!==n){if(!Hr(n)||!Kn(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||"number"==typeof e&&n>=e)throw new id(n,e)}}function pb(n){for(var e=0;e<n._dimensions.length;++e){var t=n._dimensions[e];if(t._data&&Ts(t._data)){if(0===t._size[0])return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(fc(t)&&0===t.length)return!0}return!1}function gb(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach(function(i){if(!Hr(i)||!Kn(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ri(e)+")")}),(Hr(n)||Vr(n))&&(n=[n]),NH(n,e,0,void 0!==t?t:0),n}function NH(n,e,t,r){var i,s,a=e[t],l=Math.min(n.length,a);if(n.length=a,t<e.length-1){var c=t+1;for(i=0;i<l;i++)s=n[i],Array.isArray(s)||(n[i]=s=[s]),NH(s,e,c,r);for(i=l;i<a;i++)n[i]=s=[],NH(s,e,c,r)}else{for(i=0;i<l;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=l;i<a;i++)n[i]=r}}function IH(n,e){var t=ji(n),r=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new ii(0,r,"!=");var i=Zee(e=FH(e,r));if(r!==i)throw new ii(i,r,"!=");try{return function X5e(n,e){for(var r,t=n,i=e.length-1;i>0;i--){var s=e[i];r=[];for(var o=t.length/s,a=0;a<o;a++)r.push(t.slice(a*s,(a+1)*s));t=r}return t}(t,e)}catch(s){throw s instanceof ii?new ii(i,r,"!="):s}}function FH(n,e){var t=Zee(n),r=n.slice(),s=n.indexOf(-1);if(n.indexOf(-1,s+1)>=0)throw new Error("More than one wildcard in sizes");if(s>=0){if(e%t!=0)throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);r[s]=-e/t}return r}function Zee(n){return n.reduce((e,t)=>e*t,1)}function sI(n,e){for(var t=e||xr(n);Array.isArray(n)&&1===n.length;)n=n[0],t.shift();for(var r=t.length;1===t[r-1];)r--;return r<t.length&&(n=ete(n,r,0),t.length=r),n}function ete(n,e,t){var r,i;if(t<e){var s=t+1;for(r=0,i=n.length;r<i;r++)n[r]=ete(n[r],e,s)}else for(;Array.isArray(n);)n=n[0];return n}function tte(n,e,t,r){var i=r||xr(n);if(t)for(var s=0;s<t;s++)n=[n],i.unshift(1);for(n=nte(n,e,0);i.length<e;)i.push(1);return n}function nte(n,e,t){var r,i;if(Array.isArray(n)){var s=t+1;for(r=0,i=n.length;r<i;r++)n[r]=nte(n[r],e,s)}else for(var o=t;o<e;o++)n=[n];return n}function ji(n){if(!Array.isArray(n))return n;var e=[];return n.forEach(function t(r){Array.isArray(r)?r.forEach(t):e.push(r)}),e}function vm(n,e){return Array.prototype.map.call(n,e)}function rte(n,e){Array.prototype.forEach.call(n,e)}function ite(n,e){if(1!==xr(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,t=>e.test(t))}function ste(n,e){return Array.prototype.join.call(n,e)}function mb(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;var e=[],t=0;e[0]={value:n[0],identifier:0};for(var r=1;r<n.length;r++)n[r]===n[r-1]?t++:t=0,e.push({value:n[r],identifier:t});return e}function oI(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;for(var e=[],t=0;t<n.length;t++)e.push(n[t].value);return e}function aI(n,e){for(var t,r=0,i=0;i<n.length;i++){var s=n[i],o=Array.isArray(s);if(0===i&&o&&(r=s.length),o&&s.length!==r)return;var a=o?aI(s,e):e(s);if(void 0===t)t=a;else if(t!==a)return"mixed"}return t}function ote(n,e,t,r){if(r<t){if(n.length!==e.length)throw new ii(n.length,e.length);for(var i=[],s=0;s<n.length;s++)i[s]=ote(n[s],e[s],t,r+1);return i}return n.concat(e)}function ate(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(1===n.length)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,r){return ote(t,r,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function lI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.map(d=>d.length),i=Math.max(...r),s=new Array(i).fill(null),o=0;o<e.length;o++)for(var a=e[o],l=r[o],c=0;c<l;c++){var u=i-l+c;a[c]>s[u]&&(s[u]=a[c])}for(var h=0;h<e.length;h++)lte(e[h],s);return s}function lte(n,e){for(var t=e.length,r=n.length,i=0;i<r;i++){var s=t-r+i;if(n[i]<e[s]&&n[i]>1||n[i]>e[s])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(e[s]))}}function ym(n,e){var t=xr(n);if(Cp(t,e))return n;lte(t,e);var r=lI(t,e),i=r.length,s=[...Array(i-t.length).fill(1),...t],o=function Z5e(n){return Ka([],n)}(n);t.length<i&&(t=xr(o=IH(o,s)));for(var a=0;a<i;a++)t[a]<r[a]&&(t=xr(o=J5e(o,r[a],a)));return o}function J5e(n,e,t){return ate(...Array(e).fill(n),t)}function RH(n,e){if(!Array.isArray(n))throw new Error("Array expected");var t=xr(n);if(e.length!==t.length)throw new ii(e.length,t.length);for(var r=0;r<e.length;r++)Ks(e[r],t[r]);return e.reduce((i,s)=>i[s],n)}function OH(n,e,t,r){return Array.isArray(n)?n.map(function(i,s){return OH(i,e.concat(s),t,r)}):r(n,e,t)}function Xx(n,e){return new Ree(n,new JN(e),new Set(Object.keys(e)))}(ii.prototype=new RangeError).constructor=RangeError,ii.prototype.name="DimensionError",ii.prototype.isDimensionError=!0,(id.prototype=new RangeError).constructor=RangeError,id.prototype.name="IndexError",id.prototype.isIndexError=!0;var sd=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function cI(n,e){if(!e||"auto"!==e)return n;for(var t=n;xp(t);)t=t.content;return t}function Us(n,e,t,r){var i=n;"keep"!==e&&(i=n.getContent());for(var s=i.getIdentifier(),o=null,a=0;a<sd.length;a++)if(s in sd[a]){o=a;break}if("OperatorNode:multiply"===s&&i.implicit&&"show"!==t){var l=cI(i.args[0],e);!(Di(l)&&r&&"OperatorNode:divide"===r.getIdentifier()&&EH(cI(r.args[0],e)))&&("OperatorNode:divide"!==l.getIdentifier()||!EH(cI(l.args[0],e))||!Di(cI(l.args[1])))&&(o+=1)}return o}function Yx(n,e){var t=n;"keep"!==e&&(t=n.getContent());var r=t.getIdentifier(),i=Us(t,e);if(null===i)return null;var s=sd[i][r];if(Qn(s,"associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+s.associativity+"'.")}return null}function PH(n,e,t){var r="keep"!==t?n.getContent():n,i="keep"!==t?n.getContent():e,s=r.getIdentifier(),o=i.getIdentifier(),a=Us(r,t);if(null===a)return null;var l=sd[a][s];if(Qn(l,"associativeWith")&&l.associativeWith instanceof Array){for(var c=0;c<l.associativeWith.length;c++)if(l.associativeWith[c]===o)return!0;return!1}return null}var tLe=we(4987),LH={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},qi={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},cte={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(qi.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(qi.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(qi.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(qi.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(qi.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(qi.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(qi.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(qi.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(qi.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(qi.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(qi.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(qi.bitAnd,"${args[1]}\\right)")},bitNot:{1:qi.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(qi.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(qi.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(qi.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(qi.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(qi.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(qi.and,"${args[1]}\\right)")},not:{1:qi.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(qi.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(qi.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(qi.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(qi.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(qi.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(qi.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(qi.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(qi.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(qi.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(qi.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(qi.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(qi.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(qi.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(LH.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},ute={deg:"^\\circ"};function UH(n){return tLe(n,{preserveFormatting:!0})}function hte(n,e){return(e=!(typeof e>"u")&&e)?Qn(ute,n)?ute[n]:"\\mathrm{"+UH(n)+"}":Qn(LH,n)?LH[n]:UH(n)}var uI="OperatorNode",iLe=ye(uI,["Node"],n=>{var{Node:e}=n;function t(s,o){var a=s;if("auto"===o)for(;xp(a);)a=a.content;return!!Di(a)||!!da(a)&&t(a.args[0],o)}function r(s,o,a,l,c){var d,u=Us(s,o,a),h=Yx(s,o);if("all"===o||l.length>2&&"OperatorNode:add"!==s.getIdentifier()&&"OperatorNode:multiply"!==s.getIdentifier())return l.map(function(T){switch(T.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(l.length){case 0:d=[];break;case 1:var f=Us(l[0],o,a,s);if(c&&null!==f){var A,p;if("keep"===o?(A=l[0].getIdentifier(),p=s.getIdentifier()):(A=l[0].getContent().getIdentifier(),p=s.getContent().getIdentifier()),!1===sd[u][p].latexLeftParens){d=[!1];break}if(!1===sd[f][A].latexParens){d=[!1];break}}if(null===f){d=[!1];break}if(f<=u){d=[!0];break}d=[!1];break;case 2:var m,g=Us(l[0],o,a,s),y=PH(s,l[0],o);m=null!==g&&(g===u&&"right"===h&&!y||g<u);var v,b,M,D,_=Us(l[1],o,a,s),C=PH(s,l[1],o);v=null!==_&&(_===u&&"left"===h&&!C||_<u),c&&("keep"===o?(b=s.getIdentifier(),M=s.args[0].getIdentifier(),D=s.args[1].getIdentifier()):(b=s.getContent().getIdentifier(),M=s.args[0].getContent().getIdentifier(),D=s.args[1].getContent().getIdentifier()),null!==g&&(!1===sd[u][b].latexLeftParens&&(m=!1),!1===sd[g][M].latexParens&&(m=!1)),null!==_&&(!1===sd[u][b].latexRightParens&&(v=!1),!1===sd[_][D].latexParens&&(v=!1))),d=[m,v];break;default:("OperatorNode:add"===s.getIdentifier()||"OperatorNode:multiply"===s.getIdentifier())&&(d=l.map(function(T){var B=Us(T,o,a,s),R=PH(s,T,o),U=Yx(T,o);return null!==B&&(u===B&&h===U&&!R||B<u)}))}if(l.length>=2&&"OperatorNode:multiply"===s.getIdentifier()&&s.implicit&&"all"!==o&&"hide"===a)for(var x=1;x<d.length;++x)t(l[x],o)&&!d[x-1]&&("keep"!==o||!xp(l[x-1]))&&(d[x]=!0);return d}class i extends e{constructor(o,a,l,c,u){if(super(),"string"!=typeof o)throw new TypeError('string expected for parameter "op"');if("string"!=typeof a)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Bs))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===c,this.isPercentage=!0===u,this.op=o,this.fn=a,this.args=l||[]}get type(){return uI}get isOperatorNode(){return!0}_compile(o,a){if("string"!=typeof this.fn||!SH(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=qc(o,this.fn),c=vm(this.args,function(A){return A._compile(o,a)});if("function"==typeof l&&!0===l.rawArgs){var u=this.args;return function(p,m,g){return l(u,o,Xx(p,m))}}if(1===c.length){var h=c[0];return function(p,m,g){return l(h(p,m,g))}}if(2===c.length){var d=c[0],f=c[1];return function(p,m,g){return l(d(p,m,g),f(p,m,g))}}return function(p,m,g){return l.apply(null,vm(c,function(y){return y(p,m,g)}))}}forEach(o){for(var a=0;a<this.args.length;a++)o(this.args[a],"args["+a+"]",this)}map(o){for(var a=[],l=0;l<this.args.length;l++)a[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,a,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!1);if(1===c.length){var h=Yx(this,a),d=c[0].toString(o);u[0]&&(d="("+d+")");var f=/[a-zA-Z]+/.test(this.op);return"right"===h?this.op+(f?" ":"")+d:"left"===h?d+(f?" ":"")+this.op:d+this.op}if(2===c.length){var A=c[0].toString(o),p=c[1].toString(o);return u[0]&&(A="("+A+")"),u[1]&&(p="("+p+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?A+" "+p:A+" "+this.op+" "+p}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var m=c.map(function(g,y){return g=g.toString(o),u[y]&&(g="("+g+")"),g});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?m.join(" "):m.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:uI,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!1);if(1===c.length){var h=Yx(this,a),d=c[0].toHTML(o);return u[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===h?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Xh(this.op)+"</span>"+d:d+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Xh(this.op)+"</span>"}if(2===c.length){var f=c[0].toHTML(o),A=c[1].toHTML(o);return u[0]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u[1]&&(A='<span class="math-parenthesis math-round-parenthesis">(</span>'+A+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?f+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+A:f+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Xh(this.op)+"</span>"+A}var p=c.map(function(m,g){return m=m.toHTML(o),u[g]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),m});return c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?p.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):p.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Xh(this.op)+"</span>"):'<span class="math-function">'+Xh(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!0),h=qi[this.fn];if(h=typeof h>"u"?this.op:h,1===c.length){var d=Yx(this,a),f=c[0].toTex(o);return u[0]&&(f="\\left(".concat(f,"\\right)")),"right"===d?h+f:f+h}if(2===c.length){var A=c[0],p=A.toTex(o);u[0]&&(p="\\left(".concat(p,"\\right)"));var y,g=c[1].toTex(o);switch(u[1]&&(g="\\left(".concat(g,"\\right)")),y="keep"===a?A.getIdentifier():A.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return h+"{"+p+"}{"+g+"}";case"OperatorNode:pow":switch(p="{"+p+"}",g="{"+g+"}",y){case"ConditionalNode":case"OperatorNode:divide":p="\\left(".concat(p,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===l)return p+"~"+g}return p+h+g}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var v=c.map(function(_,C){return _=_.toTex(o),u[C]&&(_="\\left(".concat(_,"\\right)")),_});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===l?v.join("~"):v.join(h)}return"\\mathrm{"+this.fn+"}\\left("+c.map(function(_){return _.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Xa(i,"name",uI),i},{isClass:!0,isNode:!0}),hI="ParenthesisNode",oLe=ye(hI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),!Bs(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return hI}get isParenthesisNode(){return!0}_compile(i,s){return this.content._compile(i,s)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var s=i(this.content,"content",this);return new t(s)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:hI,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Xa(t,"name",hI),t},{isClass:!0,isNode:!0}),fI="RelationalNode",lLe=ye(fI,["Node"],n=>{var{Node:e}=n,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends e{constructor(s,o){if(super(),!Array.isArray(s))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(s.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=s,this.params=o}get type(){return fI}get isRelationalNode(){return!0}_compile(s,o){var a=this,l=this.params.map(c=>c._compile(s,o));return function(u,h,d){for(var f,A=l[0](u,h,d),p=0;p<a.conditionals.length;p++)if(f=A,A=l[p+1](u,h,d),!qc(s,a.conditionals[p])(f,A))return!1;return!0}}forEach(s){this.params.forEach((o,a)=>s(o,"params["+a+"]",this),this)}map(s){return new r(this.conditionals.slice(),this.params.map((o,a)=>this._ifNode(s(o,"params["+a+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Us(this,o,s&&s.implicit),l=this.params.map(function(h,d){var f=Us(h,o,s&&s.implicit);return"all"===o||null!==f&&f<=a?"("+h.toString(s)+")":h.toString(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=" "+t[this.conditionals[u]],c+=" "+l[u+1];return c}toJSON(){return{mathjs:fI,conditionals:this.conditionals,params:this.params}}static fromJSON(s){return new r(s.conditionals,s.params)}_toHTML(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Us(this,o,s&&s.implicit),l=this.params.map(function(h,d){var f=Us(h,o,s&&s.implicit);return"all"===o||null!==f&&f<=a?'<span class="math-parenthesis math-round-parenthesis">(</span>'+h.toHTML(s)+'<span class="math-parenthesis math-round-parenthesis">)</span>':h.toHTML(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Xh(t[this.conditionals[u]])+"</span>"+l[u+1];return c}_toTex(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Us(this,o,s&&s.implicit),l=this.params.map(function(h,d){var f=Us(h,o,s&&s.implicit);return"all"===o||null!==f&&f<=a?"\\left("+h.toTex(s)+"\right)":h.toTex(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=qi[this.conditionals[u]]+l[u+1];return c}}return Xa(r,"name",fI),r},{isClass:!0,isNode:!0}),dI="ArrayNode",uLe=ye(dI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Bs))throw new TypeError("Array containing Nodes expected")}get type(){return dI}get isArrayNode(){return!0}_compile(i,s){var o=vm(this.items,function(c){return c._compile(i,s)});if("Array"!==i.config.matrix){var l=i.matrix;return function(u,h,d){return l(vm(o,function(f){return f(u,h,d)}))}}return function(u,h,d){return vm(o,function(f){return f(u,h,d)})}}forEach(i){for(var s=0;s<this.items.length;s++)i(this.items[s],"items["+s+"]",this)}map(i){for(var s=[],o=0;o<this.items.length;o++)s[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(s)}clone(){return new t(this.items.slice(0))}_toString(i){return"["+this.items.map(function(o){return o.toString(i)}).join(", ")+"]"}toJSON(){return{mathjs:dI,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(o){return o.toHTML(i)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){return function s(o,a){var l=o.some(Kh)&&!o.every(Kh),c=a||l,u=c?"&":"\\\\",h=o.map(function(d){return d.items?s(d.items,!a):d.toTex(i)}).join(u);return l||!c||c&&!a?"\\begin{bmatrix}"+h+"\\end{bmatrix}":h}(this.items,!1)}}return Xa(t,"name",dI),t},{isClass:!0,isNode:!0}),AI="BlockNode",fLe=ye(AI,["ResultSet","Node"],n=>{var{ResultSet:e,Node:t}=n;class r extends t{constructor(s){if(super(),!Array.isArray(s))throw new Error("Array expected");this.blocks=s.map(function(o){var a=o&&o.node,l=!o||void 0===o.visible||o.visible;if(!Bs(a))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof l)throw new TypeError('Property "visible" must be a boolean');return{node:a,visible:l}})}get type(){return AI}get isBlockNode(){return!0}_compile(s,o){var a=vm(this.blocks,function(l){return{evaluate:l.node._compile(s,o),visible:l.visible}});return function(c,u,h){var d=[];return rte(a,function(A){var p=A.evaluate(c,u,h);A.visible&&d.push(p)}),new e(d)}}forEach(s){for(var o=0;o<this.blocks.length;o++)s(this.blocks[o].node,"blocks["+o+"].node",this)}map(s){for(var o=[],a=0;a<this.blocks.length;a++){var l=this.blocks[a],c=this._ifNode(s(l.node,"blocks["+a+"].node",this));o[a]={node:c,visible:l.visible}}return new r(o)}clone(){var s=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new r(s)}_toString(s){return this.blocks.map(function(o){return o.node.toString(s)+(o.visible?"":";")}).join("\n")}toJSON(){return{mathjs:AI,blocks:this.blocks}}static fromJSON(s){return new r(s.blocks)}_toHTML(s){return this.blocks.map(function(o){return o.node.toHTML(s)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(s){return this.blocks.map(function(o){return o.node.toTex(s)+(o.visible?"":";")}).join("\\;\\;\n")}}return Xa(r,"name",AI),r},{isClass:!0,isNode:!0}),pI="ConditionalNode",ALe=ye(pI,["Node"],n=>{var{Node:e}=n;class r extends e{constructor(s,o,a){if(super(),!Bs(s))throw new TypeError("Parameter condition must be a Node");if(!Bs(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Bs(a))throw new TypeError("Parameter falseExpr must be a Node");this.condition=s,this.trueExpr=o,this.falseExpr=a}get type(){return pI}get isConditionalNode(){return!0}_compile(s,o){var a=this.condition._compile(s,o),l=this.trueExpr._compile(s,o),c=this.falseExpr._compile(s,o);return function(h,d,f){return function t(i){if("number"==typeof i||"boolean"==typeof i||"string"==typeof i)return!!i;if(i){if(Vr(i))return!i.isZero();if(Sp(i))return!(!i.re&&!i.im);if(Wh(i))return!!i.value}if(null==i)return!1;throw new TypeError('Unsupported type of condition "'+$s(i)+'"')}(a(h,d,f))?l(h,d,f):c(h,d,f)}}forEach(s){s(this.condition,"condition",this),s(this.trueExpr,"trueExpr",this),s(this.falseExpr,"falseExpr",this)}map(s){return new r(this._ifNode(s(this.condition,"condition",this)),this._ifNode(s(this.trueExpr,"trueExpr",this)),this._ifNode(s(this.falseExpr,"falseExpr",this)))}clone(){return new r(this.condition,this.trueExpr,this.falseExpr)}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=Us(this,o,s&&s.implicit),l=this.condition.toString(s),c=Us(this.condition,o,s&&s.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=a)&&(l="("+l+")");var u=this.trueExpr.toString(s),h=Us(this.trueExpr,o,s&&s.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==h&&h<=a)&&(u="("+u+")");var d=this.falseExpr.toString(s),f=Us(this.falseExpr,o,s&&s.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==f&&f<=a)&&(d="("+d+")"),l+" ? "+u+" : "+d}toJSON(){return{mathjs:pI,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(s){return new r(s.condition,s.trueExpr,s.falseExpr)}_toHTML(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=Us(this,o,s&&s.implicit),l=this.condition.toHTML(s),c=Us(this.condition,o,s&&s.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=a)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.trueExpr.toHTML(s),h=Us(this.trueExpr,o,s&&s.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==h&&h<=a)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var d=this.falseExpr.toHTML(s),f=Us(this.falseExpr,o,s&&s.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==f&&f<=a)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+u+'<span class="math-operator math-conditional-operator">:</span>'+d}_toTex(s){return"\\begin{cases} {"+this.trueExpr.toTex(s)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(s)+"}\\\\{"+this.falseExpr.toTex(s)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Xa(r,"name",pI),r},{isClass:!0,isNode:!0}),gI="ConstantNode",gLe=ye(gI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){super(),this.value=i}get type(){return gI}get isConstantNode(){return!0}_compile(i,s){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return ri(this.value,i)}_toHTML(i){var s=this._toString(i);switch($s(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+s+"</span>";case"string":return'<span class="math-string">'+s+"</span>";case"boolean":return'<span class="math-boolean">'+s+"</span>";case"null":return'<span class="math-null-symbol">'+s+"</span>";case"undefined":return'<span class="math-undefined">'+s+"</span>";default:return'<span class="math-symbol">'+s+"</span>"}}toJSON(){return{mathjs:gI,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var s=this._toString(i),o=$s(this.value);switch(o){case"string":return"\\mathtt{"+UH(s)+"}";case"number":case"BigNumber":if(!("BigNumber"===o?this.value.isFinite():isFinite(this.value)))return this.value.valueOf()<0?"-\\infty":"\\infty";var l=s.toLowerCase().indexOf("e");return-1!==l?s.substring(0,l)+"\\cdot10^{"+s.substring(l+1)+"}":s;case"bigint":return s.toString();case"Fraction":return this.value.toLatex();default:return s}}}return Xa(t,"name",gI),t},{isClass:!0,isNode:!0}),mI="RangeNode",vLe=ye(mI,["Node"],n=>{var{Node:e}=n;function t(i,s,o){var a=Us(i,s,o),l={},c=Us(i.start,s,o);if(l.start=null!==c&&c<=a||"all"===s,i.step){var u=Us(i.step,s,o);l.step=null!==u&&u<=a||"all"===s}var h=Us(i.end,s,o);return l.end=null!==h&&h<=a||"all"===s,l}class r extends e{constructor(s,o,a){if(super(),!Bs(s))throw new TypeError("Node expected");if(!Bs(o))throw new TypeError("Node expected");if(a&&!Bs(a))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=s,this.end=o,this.step=a||null}get type(){return mI}get isRangeNode(){return!0}needsEnd(){return this.filter(function(o){return Al(o)&&"end"===o.name}).length>0}_compile(s,o){var a=s.range,l=this.start._compile(s,o),c=this.end._compile(s,o);if(this.step){var u=this.step._compile(s,o);return function(d,f,A){return a(l(d,f,A),c(d,f,A),u(d,f,A))}}return function(d,f,A){return a(l(d,f,A),c(d,f,A))}}forEach(s){s(this.start,"start",this),s(this.end,"end",this),this.step&&s(this.step,"step",this)}map(s){return new r(this._ifNode(s(this.start,"start",this)),this._ifNode(s(this.end,"end",this)),this.step&&this._ifNode(s(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(s){var l,a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),c=this.start.toString(s);if(a.start&&(c="("+c+")"),l=c,this.step){var u=this.step.toString(s);a.step&&(u="("+u+")"),l+=":"+u}var h=this.end.toString(s);return a.end&&(h="("+h+")"),l+":"+h}toJSON(){return{mathjs:mI,start:this.start,end:this.end,step:this.step}}static fromJSON(s){return new r(s.start,s.end,s.step)}_toHTML(s){var l,a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),c=this.start.toHTML(s);if(a.start&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=c,this.step){var u=this.step.toHTML(s);a.step&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+u}var h=this.end.toHTML(s);return a.end&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-range-operator">:</span>'+h}_toTex(s){var a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),l=this.start.toTex(s);if(a.start&&(l="\\left(".concat(l,"\\right)")),this.step){var c=this.step.toTex(s);a.step&&(c="\\left(".concat(c,"\\right)")),l+=":"+c}var u=this.end.toTex(s);return a.end&&(u="\\left(".concat(u,"\\right)")),l+":"+u}}return Xa(r,"name",mI),r},{isClass:!0,isNode:!0}),bLe=ye("reviver",["classes"],n=>{var{classes:e}=n;return function(r,i){var s=e[i&&i.mathjs];return s&&"function"==typeof s.fromJSON?s.fromJSON(i):i}}),SLe=ye("Chain",["?on","math","typed"],n=>{var{on:e,math:t,typed:r}=n;function i(c){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.value=Lee(c)?c.value:c}function o(c,u){!function ZPe(n,e,t){var i,r=!0;Object.defineProperty(n,e,{get:function(){return r&&(i=t(),r=!1),i},set:function(o){i=o,r=!1},configurable:!0,enumerable:!0})}(i.prototype,c,function(){var d=u();if("function"==typeof d)return a(d)})}function a(c){return function(){if(0===arguments.length)return new i(c(this.value));for(var u=[this.value],h=0;h<arguments.length;h++)u[h+1]=arguments[h];if(r.isTypedFunction(c)){var d=r.resolve(c,u);if(1===d.params.length)throw new Error("chain function "+c.name+" cannot match rest parameter between chain value and additional arguments.");return new i(d.implementation.apply(c,u))}return new i(c.apply(c,u))}}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return ri(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(c){return new i(c.value)},i.createProxy=function(c,u){if("string"==typeof c)!function s(c,u){"function"==typeof u&&(i.prototype[c]=a(u))}(c,u);else{var h=function(A){Qn(c,A)&&void 0===l[A]&&o(A,()=>c[A])};for(var d in c)h(d)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(c,u,h){h||o(c,u)}),i},{isClass:!0}),vI="FunctionAssignmentNode",ELe=ye(vI,["typed","Node"],n=>{var{typed:e,Node:t}=n;function r(s,o,a){var l=Us(s,o,a),c=Us(s.expr,o,a);return"all"===o||null!==c&&c<=l}class i extends t{constructor(o,a,l){if(super(),"string"!=typeof o)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(a))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Bs(l))throw new TypeError('Node expected for parameter "expr"');if(Uee.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var c=new Set;for(var u of a){var h="string"==typeof u?u:u.name;if(c.has(h))throw new Error('Duplicate parameter name "'.concat(h,'"'));c.add(h)}this.name=o,this.params=a.map(function(d){return d&&d.name||d}),this.types=a.map(function(d){return d&&d.type||"any"}),this.expr=l}get type(){return vI}get isFunctionAssignmentNode(){return!0}_compile(o,a){var l=Object.create(a);rte(this.params,function(A){l[A]=!0});var c=this.expr._compile(o,l),u=this.name,h=this.params,d=ste(this.types,","),f=u+"("+ste(this.params,", ")+")";return function(p,m,g){var y={};y[d]=function(){for(var _=Object.create(m),C=0;C<h.length;C++)_[h[C]]=arguments[C];return c(p,_,g)};var v=e(u,y);return v.syntax=f,p.set(u,v),v}}forEach(o){o(this.expr,"expr",this)}map(o){var a=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),a)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return r(this,a,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:vI,name:this.name,params:this.params.map(function(a,l){return{name:a,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",l=[],c=0;c<this.params.length;c++)l.push('<span class="math-symbol math-parameter">'+Xh(this.params[c])+"</span>");var u=this.expr.toHTML(o);return r(this,a,o&&o.implicit)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Xh(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+u}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return r(this,a,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(hte).join(",")+"\\right)="+l}}return Xa(i,"name",vI),i},{isClass:!0,isNode:!0}),MLe=ye("chain",["typed","Chain"],n=>{var{typed:e,Chain:t}=n;return e("chain",{"":function(){return new t},any:function(i){return new t(i)}})}),yI="IndexNode",BLe=ye(yI,["Node","size"],n=>{var{Node:e,size:t}=n;class r extends e{constructor(s,o){if(super(),this.dimensions=s,this.dotNotation=o||!1,!Array.isArray(s)||!s.every(Bs))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return yI}get isIndexNode(){return!0}_compile(s,o){var a=vm(this.dimensions,function(c,u){if(c.filter(A=>A.isSymbolNode&&"end"===A.name).length>0){var d=Object.create(o);d.end=!0;var f=c._compile(s,d);return function(p,m,g){if(!ur(g)&&!Ts(g)&&!fc(g))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+$s(g));var y=t(g).valueOf(),v=Object.create(m);return v.end=y[u],f(p,v,g)}}return c._compile(s,o)}),l=qc(s,"index");return function(u,h,d){var f=vm(a,function(A){return A(u,h,d)});return l(...f)}}forEach(s){for(var o=0;o<this.dimensions.length;o++)s(this.dimensions[o],"dimensions["+o+"]",this)}map(s){for(var o=[],a=0;a<this.dimensions.length;a++)o[a]=this._ifNode(s(this.dimensions[a],"dimensions["+a+"]",this));return new r(o,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&Di(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(s){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:yI,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(s){return new r(s.dimensions,s.dotNotation)}_toHTML(s){for(var o=[],a=0;a<this.dimensions.length;a++)o[a]=this.dimensions[a].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Xh(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(s){var o=this.dimensions.map(function(a){return a.toTex(s)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return Xa(r,"name",yI),r},{isClass:!0,isNode:!0});function Wc(n){return n&&n.isIndexError?new id(n.index+1,n.min+1,void 0!==n.max?n.max+1:void 0):n}function dte(n){var{subset:e}=n;return function(r,i){try{if(Array.isArray(r))return e(r,i);if(r&&"function"==typeof r.subset)return r.subset(i);if("string"==typeof r)return e(r,i);if("object"==typeof r){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return qc(r,i.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw Wc(s)}}}var _I="AccessorNode",ILe=ye(_I,["subset","Node"],n=>{var{subset:e,Node:t}=n,r=dte({subset:e});function i(o){return!(P0(o)||Kh(o)||Di(o)||pm(o)||tI(o)||xp(o)||Al(o))}class s extends t{constructor(a,l){if(super(),!Bs(a))throw new TypeError('Node expected for parameter "object"');if(!fb(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=a,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return _I}get isAccessorNode(){return!0}_compile(a,l){var c=this.object._compile(a,l),u=this.index._compile(a,l);if(this.index.isObjectProperty()){var h=this.index.getObjectProperty();return function(f,A,p){return qc(c(f,A,p),h)}}return function(f,A,p){var m=c(f,A,p),g=u(f,A,m);return r(m,g)}}forEach(a){a(this.object,"object",this),a(this.index,"index",this)}map(a){return new s(this._ifNode(a(this.object,"object",this)),this._ifNode(a(this.index,"index",this)))}clone(){return new s(this.object,this.index)}_toString(a){var l=this.object.toString(a);return i(this.object)&&(l="("+l+")"),l+this.index.toString(a)}_toHTML(a){var l=this.object.toHTML(a);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(a)}_toTex(a){var l=this.object.toTex(a);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(a)}toJSON(){return{mathjs:_I,object:this.object,index:this.index}}static fromJSON(a){return new s(a.object,a.index)}}return Xa(s,"name",_I),s},{isClass:!0,isNode:!0}),bI="AssignmentNode",OLe=ye(bI,["subset","?matrix","Node"],n=>{var{subset:e,matrix:t,Node:r}=n,i=dte({subset:e}),s=function FLe(n){var{subset:e,matrix:t}=n;return function(i,s,o){try{if(Array.isArray(i))return t(i).subset(s,o).valueOf().forEach((l,c)=>{i[c]=l}),i;if(i&&"function"==typeof i.subset)return i.subset(s,o);if("string"==typeof i)return e(i,s,o);if("object"==typeof i){if(!s.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return cb(i,s.getObjectProperty(),o),i}throw new TypeError("Cannot apply index: unsupported type of object")}catch(l){throw Wc(l)}}}({subset:e,matrix:t});function o(l,c,u){c||(c="keep");var h=Us(l,c,u),d=Us(l.value,c,u);return"all"===c||null!==d&&d<=h}class a extends r{constructor(c,u,h){if(super(),this.object=c,this.index=h?u:null,this.value=h||u,!Al(c)&&!P0(c))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Al(c)&&"end"===c.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!fb(this.index))throw new TypeError('IndexNode expected as "index"');if(!Bs(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return bI}get isAssignmentNode(){return!0}_compile(c,u){var h=this.object._compile(c,u),d=this.index?this.index._compile(c,u):null,f=this.value._compile(c,u),A=this.object.name;if(this.index){if(this.index.isObjectProperty()){var p=this.index.getObjectProperty();return function(_,C,b){var M=h(_,C,b),D=f(_,C,b);return cb(M,p,D),D}}if(Al(this.object))return function(_,C,b){var M=h(_,C,b),D=f(_,C,b),x=d(_,C,M);return _.set(A,s(M,x,D)),D};var m=this.object.object._compile(c,u);if(this.object.index.isObjectProperty()){var g=this.object.index.getObjectProperty();return function(_,C,b){var M=m(_,C,b),D=qc(M,g),x=d(_,C,D),T=f(_,C,b);return cb(M,g,s(D,x,T)),T}}var y=this.object.index._compile(c,u);return function(_,C,b){var M=m(_,C,b),D=y(_,C,M),x=i(M,D),T=d(_,C,x),B=f(_,C,b);return s(M,D,s(x,T,B)),B}}if(!Al(this.object))throw new TypeError("SymbolNode expected as object");return function(_,C,b){var M=f(_,C,b);return _.set(A,M),M}}forEach(c){c(this.object,"object",this),this.index&&c(this.index,"index",this),c(this.value,"value",this)}map(c){var u=this._ifNode(c(this.object,"object",this)),h=this.index?this._ifNode(c(this.index,"index",this)):null,d=this._ifNode(c(this.value,"value",this));return new a(u,h,d)}clone(){return new a(this.object,this.index,this.value)}_toString(c){var u=this.object.toString(c),h=this.index?this.index.toString(c):"",d=this.value.toString(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d="("+d+")"),u+h+" = "+d}toJSON(){return{mathjs:bI,object:this.object,index:this.index,value:this.value}}static fromJSON(c){return new a(c.object,c.index,c.value)}_toHTML(c){var u=this.object.toHTML(c),h=this.index?this.index.toHTML(c):"",d=this.value.toHTML(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d='<span class="math-paranthesis math-round-parenthesis">(</span>'+d+'<span class="math-paranthesis math-round-parenthesis">)</span>'),u+h+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+d}_toTex(c){var u=this.object.toTex(c),h=this.index?this.index.toTex(c):"",d=this.value.toTex(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d="\\left(".concat(d,"\\right)")),u+h+"="+d}}return Xa(a,"name",bI),a},{isClass:!0,isNode:!0}),ULe=ye("SymbolNode",["math","?Unit","Node"],n=>{var{math:e,Unit:t,Node:r}=n;function i(o){return!!t&&t.isValuelessUnit(o)}class s extends r{constructor(a){if(super(),"string"!=typeof a)throw new TypeError('String expected for parameter "name"');this.name=a}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(a,l){var c=this.name;if(!0===l[c])return function(h,d,f){return qc(d,c)};if(c in a)return function(h,d,f){return h.has(c)?h.get(c):qc(a,c)};var u=i(c);return function(h,d,f){return h.has(c)?h.get(c):u?new t(null,c):s.onUndefinedSymbol(c)}}forEach(a){}map(a){return this.clone()}static onUndefinedSymbol(a){throw new Error("Undefined symbol "+a)}clone(){return new s(this.name)}_toString(a){return this.name}_toHTML(a){var l=Xh(this.name);return"true"===l||"false"===l?'<span class="math-symbol math-boolean">'+l+"</span>":"i"===l?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":"Infinity"===l?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":"NaN"===l?'<span class="math-symbol math-nan-symbol">'+l+"</span>":"null"===l?'<span class="math-symbol math-null-symbol">'+l+"</span>":"undefined"===l?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(a){return new s(a.name)}_toTex(a){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var c=hte(this.name,l);return"\\"===c[0]?c:" "+c}}return s},{isClass:!0,isNode:!0}),wI="FunctionNode",HLe=ye(wI,["math","Node","SymbolNode"],n=>{var e,{math:t,Node:r,SymbolNode:i}=n,s=l=>ri(l,{truncate:78});function o(l,c,u){for(var A,h="",d=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,f=0;null!==(A=d.exec(l));)if(h+=l.substring(f,A.index),f=A.index,"$$"===A[0])h+="$",f++;else{f+=A[0].length;var p=c[A[1]];if(!p)throw new ReferenceError("Template: Property "+A[1]+" does not exist.");if(void 0===A[2])switch(typeof p){case"string":h+=p;break;case"object":if(Bs(p))h+=p.toTex(u);else{if(!Array.isArray(p))throw new TypeError("Template: "+A[1]+" has to be a Node, String or array of Nodes");h+=p.map(function(m,g){if(Bs(m))return m.toTex(u);throw new TypeError("Template: "+A[1]+"["+g+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+A[1]+" has to be a Node, String or array of Nodes")}else{if(!Bs(p[A[2]]&&p[A[2]]))throw new TypeError("Template: "+A[1]+"["+A[2]+"] is not a Node.");h+=p[A[2]].toTex(u)}}return h+l.slice(f)}class a extends r{constructor(c,u){if(super(),"string"==typeof c&&(c=new i(c)),!Bs(c))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(u)||!u.every(Bs))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=c,this.args=u||[]}get name(){return this.fn.name||""}get type(){return wI}get isFunctionNode(){return!0}_compile(c,u){var h=this.args.map(D=>D._compile(c,u));if(!Al(this.fn)){if(P0(this.fn)&&fb(this.fn.index)&&this.fn.index.isObjectProperty()){var y=this.fn.object._compile(c,u),v=this.fn.index.getObjectProperty(),_=this.args;return function(x,T,B){var R=y(x,T,B),U=function n5e(n,e){if(!SH(n,e))throw new Error('No access to method "'+e+'"');return n[e]}(R,v);if(null!=U&&U.rawArgs)return U(_,c,Xx(x,T));var k=h.map(q=>q(x,T,B));return U.apply(R,k)}}var C=this.fn.toString(),b=this.fn._compile(c,u),M=this.args;return function(x,T,B){var R=b(x,T,B);if("function"!=typeof R)throw new TypeError("Expression '".concat(C,"' did not evaluate to a function; value is:")+"\n  ".concat(s(R)));if(R.rawArgs)return R(M,c,Xx(x,T));var U=h.map(k=>k(x,T,B));return R.apply(R,U)}}var d=this.fn.name;if(u[d]){var g=this.args;return function(x,T,B){var R=qc(T,d);if("function"!=typeof R)throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(s(R)));if(R.rawArgs)return R(g,c,Xx(x,T));var U=h.map(k=>k(x,T,B));return R.apply(R,U)}}var f=d in c?qc(c,d):void 0,p=D=>{var x;if(D.has(d))x=D.get(d);else{if(!(d in c))return a.onUndefinedFunction(d);x=qc(c,d)}if("function"==typeof x)return x;throw new TypeError("'".concat(d,"' is not a function; its value is:\n  ").concat(s(x)))};if("function"==typeof f&&!0===f.rawArgs){var m=this.args;return function(x,T,B){var R=p(x);return!0===R.rawArgs?R(m,c,Xx(x,T)):R(...h.map(k=>k(x,T,B)))}}switch(h.length){case 0:return function(x,T,B){return p(x)()};case 1:return function(x,T,B){return p(x)((0,h[0])(x,T,B))};case 2:return function(x,T,B){var R=p(x),k=h[1];return R((0,h[0])(x,T,B),k(x,T,B))};default:return function(x,T,B){return p(x)(...h.map(k=>k(x,T,B)))}}}forEach(c){c(this.fn,"fn",this);for(var u=0;u<this.args.length;u++)c(this.args[u],"args["+u+"]",this)}map(c){for(var u=this._ifNode(c(this.fn,"fn",this)),h=[],d=0;d<this.args.length;d++)h[d]=this._ifNode(c(this.args[d],"args["+d+"]",this));return new a(u,h)}clone(){return new a(this.fn,this.args.slice(0))}toString(c){var u,h=this.fn.toString(c);return c&&"object"==typeof c.handler&&Qn(c.handler,h)&&(u=c.handler[h](this,c)),typeof u<"u"?u:super.toString(c)}_toString(c){var u=this.args.map(function(d){return d.toString(c)});return(Wx(this.fn)?"("+this.fn.toString(c)+")":this.fn.toString(c))+"("+u.join(", ")+")"}toJSON(){return{mathjs:wI,fn:this.fn,args:this.args}}_toHTML(c){var u=this.args.map(function(h){return h.toHTML(c)});return'<span class="math-function">'+Xh(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(c){var u;return c&&"object"==typeof c.handler&&Qn(c.handler,this.name)&&(u=c.handler[this.name](this,c)),typeof u<"u"?u:super.toTex(c)}_toTex(c){var h,d,u=this.args.map(function(f){return f.toTex(c)});switch(cte[this.name]&&(h=cte[this.name]),t[this.name]&&("function"==typeof t[this.name].toTex||"object"==typeof t[this.name].toTex||"string"==typeof t[this.name].toTex)&&(h=t[this.name].toTex),typeof h){case"function":d=h(this,c);break;case"string":d=o(h,this,c);break;case"object":switch(typeof h[u.length]){case"function":d=h[u.length](this,c);break;case"string":d=o(h[u.length],this,c)}}return typeof d<"u"?d:o("\\mathrm{${name}}\\left(${args}\\right)",this,c)}getIdentifier(){return this.type+":"+this.name}}return e=a,Xa(a,"name",wI),Xa(a,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),Xa(a,"fromJSON",function(l){return new e(l.fn,l.args)}),a},{isClass:!0,isNode:!0});function Ate(n){var r,i,e=n.length,t=n[0].length,s=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);s.push(o)}return s}function vb(n){for(var e=0;e<n.length;e++)if($h(n[e]))return!0;return!1}function Ep(n,e){ur(n)&&(n=n.valueOf());for(var t=0,r=n.length;t<r;t++){var i=n[t];Array.isArray(i)?Ep(i,e):e(i)}}function Or(n,e,t){return n&&"function"==typeof n.map?n.map(function(r){return Or(r,e,t)}):e(n)}function CI(n,e,t){var r=Array.isArray(n)?xr(n):n.size();if(e<0||e>=r.length)throw new id(e,r.length);return ur(n)?n.create(SI(n.valueOf(),e,t),n.datatype()):SI(n,e,t)}function SI(n,e,t){var r,i,s,o;if(e<=0){if(Array.isArray(n[0])){for(o=Ate(n),i=[],r=0;r<o.length;r++)i[r]=SI(o[r],e-1,t);return i}for(s=n[0],r=1;r<n.length;r++)s=t(s,n[r]);return s}for(i=[],r=0;r<n.length;r++)i[r]=SI(n[r],e-1,t);return i}function pte(n,e,t,r,i,s,o,a,l,c,u){var A,m,g,h=n._values,d=n._index,f=n._ptr;if(r)for(m=f[e+1],A=f[e];A<m;A++)t[g=d[A]]!==s?(t[g]=s,o.push(g),c?(r[g]=l?a(h[A],u):a(u,h[A]),i[g]=s):r[g]=h[A]):(r[g]=l?a(h[A],r[g]):a(r[g],h[A]),i[g]=s);else for(m=f[e+1],A=f[e];A<m;A++)t[g=d[A]]!==s?(t[g]=s,o.push(g)):i[g]=s}var QLe=ye("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],n=>{var{typed:e,numeric:t,config:r,AccessorNode:i,ArrayNode:s,AssignmentNode:o,BlockNode:a,ConditionalNode:l,ConstantNode:c,FunctionAssignmentNode:u,FunctionNode:h,IndexNode:d,ObjectNode:f,OperatorNode:A,ParenthesisNode:p,RangeNode:m,RelationalNode:g,SymbolNode:y}=n,v=e("parse",{string:function(Fe){return ve(Fe,{})},"Array | Matrix":function(Fe){return _(Fe,{})},"string, Object":function(Fe,Ke){return ve(Fe,void 0!==Ke.nodes?Ke.nodes:{})},"Array | Matrix, Object":_});function _($){var Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ke=void 0!==Fe.nodes?Fe.nodes:{};return Or($,function(Ne){if("string"!=typeof Ne)throw new TypeError("String expected");return ve(Ne,Ke)})}var C={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},M={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},D={true:!0,false:!1,null:null,undefined:void 0},x=["NaN","Infinity"],T={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function R($,Fe){return $.expression.substr($.index,Fe)}function U($){return R($,1)}function k($){$.index++}function q($){return $.expression.charAt($.index-1)}function O($){return $.expression.charAt($.index+1)}function P($){for($.tokenType=C.NULL,$.token="",$.comment="";;){if("#"===U($))for(;"\n"!==U($)&&""!==U($);)$.comment+=U($),k($);if(!v.isWhitespace(U($),$.nestingLevel))break;k($)}if(""!==U($)){if("\n"===U($)&&!$.nestingLevel)return $.tokenType=C.DELIMITER,$.token=U($),void k($);var Fe=U($),Ke=R($,2),Ne=R($,3);if(3===Ne.length&&b[Ne])return $.tokenType=C.DELIMITER,$.token=Ne,k($),k($),void k($);if(2===Ke.length&&b[Ke])return $.tokenType=C.DELIMITER,$.token=Ke,k($),void k($);if(b[Fe])return $.tokenType=C.DELIMITER,$.token=Fe,void k($);if(v.isDigitDot(Fe)){$.tokenType=C.NUMBER;var _t=R($,2);if("0b"===_t||"0o"===_t||"0x"===_t){for($.token+=U($),k($),$.token+=U($),k($);v.isHexDigit(U($));)$.token+=U($),k($);if("."===U($))for($.token+=".",k($);v.isHexDigit(U($));)$.token+=U($),k($);else if("i"===U($))for($.token+="i",k($);v.isDigit(U($));)$.token+=U($),k($);return}if("."===U($)){if($.token+=U($),k($),!v.isDigit(U($)))return void($.tokenType=C.DELIMITER)}else{for(;v.isDigit(U($));)$.token+=U($),k($);v.isDecimalMark(U($),O($))&&($.token+=U($),k($))}for(;v.isDigit(U($));)$.token+=U($),k($);if("E"===U($)||"e"===U($))if(v.isDigit(O($))||"-"===O($)||"+"===O($)){if($.token+=U($),k($),("+"===U($)||"-"===U($))&&($.token+=U($),k($)),!v.isDigit(U($)))throw bn($,'Digit expected, got "'+U($)+'"');for(;v.isDigit(U($));)$.token+=U($),k($);if(v.isDecimalMark(U($),O($)))throw bn($,'Digit expected, got "'+U($)+'"')}else if("."===O($))throw k($),bn($,'Digit expected, got "'+U($)+'"')}else{if(!v.isAlpha(U($),q($),O($))){for($.tokenType=C.UNKNOWN;""!==U($);)$.token+=U($),k($);throw bn($,'Syntax error in part "'+$.token+'"')}for(;v.isAlpha(U($),q($),O($))||v.isDigit(U($));)$.token+=U($),k($);$.tokenType=Qn(M,$.token)?C.DELIMITER:C.SYMBOL}}else $.tokenType=C.DELIMITER}function G($){do{P($)}while("\n"===$.token)}function H($){$.nestingLevel++}function ae($){$.nestingLevel--}function ve($,Fe){var Ke=function B(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:C.NULL,nestingLevel:0,conditionalLevel:null}}();Ka(Ke,{expression:$,extraNodes:Fe}),P(Ke);var Ne=function Q($){var Fe,Ke=[];for(""!==$.token&&"\n"!==$.token&&";"!==$.token&&(Fe=j($),$.comment&&(Fe.comment=$.comment));"\n"===$.token||";"===$.token;)0===Ke.length&&Fe&&Ke.push({node:Fe,visible:";"!==$.token}),P($),"\n"!==$.token&&";"!==$.token&&""!==$.token&&(Fe=j($),$.comment&&(Fe.comment=$.comment),Ke.push({node:Fe,visible:";"!==$.token}));return Ke.length>0?new a(Ke):(Fe||(Fe=new c(void 0),$.comment&&(Fe.comment=$.comment)),Fe)}(Ke);if(""!==Ke.token)throw Ke.tokenType===C.DELIMITER?nn(Ke,"Unexpected operator "+Ke.token):bn(Ke,'Unexpected part "'+Ke.token+'"');return Ne}function j($){var Fe,Ke,Ne,_t,nt=function K($){for(var Fe=function oe($){for(var Fe=se($);"or"===$.token;)G($),Fe=new A("or","or",[Fe,se($)]);return Fe}($);"?"===$.token;){var Ke=$.conditionalLevel;$.conditionalLevel=$.nestingLevel,G($);var Ne=Fe,_t=j($);if(":"!==$.token)throw bn($,"False part of conditional expression expected");$.conditionalLevel=null,G($);var nt=j($);Fe=new l(Ne,_t,nt),$.conditionalLevel=Ke}return Fe}($);if("="===$.token){if(Al(nt))return Fe=nt.name,G($),Ne=j($),new o(new y(Fe),Ne);if(P0(nt))return G($),Ne=j($),new o(nt.object,nt.index,Ne);if(pm(nt)&&Al(nt.fn)&&(_t=!0,Ke=[],Fe=nt.name,nt.args.forEach(function(Dt,an){Al(Dt)?Ke[an]=Dt.name:_t=!1}),_t))return G($),Ne=j($),new u(Fe,Ke,Ne);throw bn($,"Invalid left hand side of assignment operator =")}return nt}function se($){for(var Fe=le($);"xor"===$.token;)G($),Fe=new A("xor","xor",[Fe,le($)]);return Fe}function le($){for(var Fe=te($);"and"===$.token;)G($),Fe=new A("and","and",[Fe,te($)]);return Fe}function te($){for(var Fe=ee($);"|"===$.token;)G($),Fe=new A("|","bitOr",[Fe,ee($)]);return Fe}function ee($){for(var Fe=Ae($);"^|"===$.token;)G($),Fe=new A("^|","bitXor",[Fe,Ae($)]);return Fe}function Ae($){for(var Fe=Se($);"&"===$.token;)G($),Fe=new A("&","bitAnd",[Fe,Se($)]);return Fe}function Se($){for(var Fe=[ge($)],Ke=[],Ne={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Qn(Ne,$.token);)Ke.push({name:$.token,fn:Ne[$.token]}),G($),Fe.push(ge($));return 1===Fe.length?Fe[0]:2===Fe.length?new A(Ke[0].name,Ke[0].fn,Fe):new g(Ke.map(nt=>nt.fn),Fe)}function ge($){var Fe,Ke,Ne,_t;Fe=xe($);for(var nt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Qn(nt,$.token);)Ne=nt[Ke=$.token],G($),_t=[Fe,xe($)],Fe=new A(Ke,Ne,_t);return Fe}function xe($){var Fe,Ke,Ne,_t;Fe=ne($);for(var nt={to:"to",in:"to"};Qn(nt,$.token);)Ne=nt[Ke=$.token],G($),"in"===Ke&&""===$.token?Fe=new A("*","multiply",[Fe,new y("in")],!0):(_t=[Fe,ne($)],Fe=new A(Ke,Ne,_t));return Fe}function ne($){var Fe,Ke=[];if(Fe=":"===$.token?new c(1):Y($),":"===$.token&&$.conditionalLevel!==$.nestingLevel){for(Ke.push(Fe);":"===$.token&&Ke.length<3;)G($),Ke.push(")"===$.token||"]"===$.token||","===$.token||""===$.token?new y("end"):Y($));Fe=3===Ke.length?new m(Ke[0],Ke[2],Ke[1]):new m(Ke[0],Ke[1])}return Fe}function Y($){var Fe,Ke,Ne,_t;Fe=W($);for(var nt={"+":"add","-":"subtract"};Qn(nt,$.token);){Ne=nt[Ke=$.token],G($);var Dt=W($);_t=Dt.isPercentage?[Fe,new A("*","multiply",[Fe,Dt])]:[Fe,Dt],Fe=new A(Ke,Ne,_t)}return Fe}function W($){var Fe,Ke,Ne,_t;Ke=Fe=Me($);for(var nt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Qn(nt,$.token);)if(_t=nt[Ne=$.token],G($),"%"===Ne&&$.tokenType===C.DELIMITER&&"("!==$.token)if(""!==$.token&&nt[$.token]){var Dt=new A("/","divide",[Fe,new c(100)],!1,!0);_t=nt[Ne=$.token],G($),Ke=Me($),Fe=new A(Ne,_t,[Dt,Ke])}else Fe=new A("/","divide",[Fe,new c(100)],!1,!0);else Ke=Me($),Fe=new A(Ne,_t,[Fe,Ke]);return Fe}function Me($){var Fe,Ke;for(Ke=Fe=Ce($);$.tokenType===C.SYMBOL||"in"===$.token&&Di(Fe)||"in"===$.token&&da(Fe)&&"unaryMinus"===Fe.fn&&Di(Fe.args[0])||$.tokenType===C.NUMBER&&!Di(Ke)&&(!da(Ke)||"!"===Ke.op)||"("===$.token;)Ke=Ce($),Fe=new A("*","multiply",[Fe,Ke],!0);return Fe}function Ce($){for(var Fe=Pe($),Ke=Fe,Ne=[];"/"===$.token&&EH(Ke);){if(Ne.push(Ka({},$)),G($),$.tokenType!==C.NUMBER){Ka($,Ne.pop());break}if(Ne.push(Ka({},$)),G($),$.tokenType!==C.SYMBOL&&"("!==$.token&&"in"!==$.token){Ne.pop(),Ka($,Ne.pop());break}Ka($,Ne.pop()),Ne.pop(),Ke=Pe($),Fe=new A("/","divide",[Fe,Ke])}return Fe}function Pe($){var Fe,Ke,Ne,_t={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Qn(_t,$.token)?(Ne=_t[$.token],Fe=$.token,G($),Ke=[Pe($)],new A(Fe,Ne,Ke)):function Oe($){var Fe,Ke,Ne,_t;return Fe=function re($){var Fe,Ke,Ne;Fe=function J($){var Fe=[];if($.tokenType===C.SYMBOL&&Qn($.extraNodes,$.token)){var Ke=$.extraNodes[$.token];if(P($),"("===$.token){if(Fe=[],H($),P($),")"!==$.token)for(Fe.push(j($));","===$.token;)P($),Fe.push(j($));if(")"!==$.token)throw bn($,"Parenthesis ) expected");ae($),P($)}return new Ke(Fe)}return function Ue($){var Ke;return $.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M?(Ke=$.token,P($),Qe($,Qn(D,Ke)?new c(D[Ke]):x.includes(Ke)?new c(t(Ke,"number")):new y(Ke))):function rt($){var Ke;return'"'===$.token||"'"===$.token?(Ke=Xe($,$.token),Qe($,new c(Ke))):function Lt($){var Fe,Ke,Ne,_t;if("["===$.token){if(H($),P($),"]"!==$.token){var nt=Ft($);if(";"===$.token){for(Ne=1,Ke=[nt];";"===$.token;)P($),"]"!==$.token&&(Ke[Ne]=Ft($),Ne++);if("]"!==$.token)throw bn($,"End of matrix ] expected");ae($),P($),_t=Ke[0].items.length;for(var Dt=1;Dt<Ne;Dt++)if(Ke[Dt].items.length!==_t)throw nn($,"Column dimensions mismatch ("+Ke[Dt].items.length+" !== "+_t+")");Fe=new s(Ke)}else{if("]"!==$.token)throw bn($,"End of matrix ] expected");ae($),P($),Fe=nt}}else ae($),P($),Fe=new s([]);return Qe($,Fe)}return function Tt($){if("{"===$.token){H($);var Fe,Ke={};do{if(P($),"}"!==$.token){if('"'===$.token||"'"===$.token)Fe=Xe($,$.token);else{if(!($.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M))throw bn($,"Symbol or string expected as object key");Fe=$.token,P($)}if(":"!==$.token)throw bn($,"Colon : expected after object key");P($),Ke[Fe]=j($)}}while(","===$.token);if("}"!==$.token)throw bn($,"Comma , or bracket } expected after object value");ae($),P($);var Ne=new f(Ke);return Qe($,Ne)}return function _n($){var Fe;if($.tokenType===C.NUMBER){Fe=$.token,P($);var Ke=gm(Fe,r),Ne=t(Fe,Ke);return new c(Ne)}return function st($){var Fe;if("("===$.token){if(H($),P($),Fe=j($),")"!==$.token)throw bn($,"Parenthesis ) expected");return ae($),P($),Qe($,Fe=new p(Fe))}return function vn($){throw bn($,""===$.token?"Unexpected end of expression":"Value expected")}($)}($)}($)}($)}($)}($)}($)}($);for(var nt={"!":"factorial","'":"ctranspose"};Qn(nt,$.token);)Ne=nt[Ke=$.token],P($),Fe=Qe($,Fe=new A(Ke,Ne,[Fe]));return Fe}($),("^"===$.token||".^"===$.token)&&(Ne="^"===(Ke=$.token)?"pow":"dotPow",G($),_t=[Fe,Pe($)],Fe=new A(Ke,Ne,_t)),Fe}($)}function Qe($,Fe,Ke){for(var Ne;("("===$.token||"["===$.token||"."===$.token)&&(!Ke||Ke.includes($.token));)if(Ne=[],"("===$.token){if(!Al(Fe)&&!P0(Fe))return Fe;if(H($),P($),")"!==$.token)for(Ne.push(j($));","===$.token;)P($),Ne.push(j($));if(")"!==$.token)throw bn($,"Parenthesis ) expected");ae($),P($),Fe=new h(Fe,Ne)}else if("["===$.token){if(H($),P($),"]"!==$.token)for(Ne.push(j($));","===$.token;)P($),Ne.push(j($));if("]"!==$.token)throw bn($,"Parenthesis ] expected");ae($),P($),Fe=new i(Fe,new d(Ne))}else{if(P($),!($.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M))throw bn($,"Property name expected after dot");Ne.push(new c($.token)),P($),Fe=new i(Fe,new d(Ne,!0))}return Fe}function Xe($,Fe){for(var Ke="";""!==U($)&&U($)!==Fe;)if("\\"===U($)){k($);var Ne=U($),_t=T[Ne];if(void 0!==_t)Ke+=_t,$.index+=1;else{if("u"!==Ne)throw bn($,"Bad escape character \\".concat(Ne));var nt=$.expression.slice($.index+1,$.index+5);if(!/^[0-9A-Fa-f]{4}$/.test(nt))throw bn($,"Invalid unicode character \\u".concat(nt));Ke+=String.fromCharCode(parseInt(nt,16)),$.index+=5}}else Ke+=U($),k($);if(P($),$.token!==Fe)throw bn($,"End of string ".concat(Fe," expected"));return P($),Ke}function Ft($){for(var Fe=[j($)],Ke=1;","===$.token;)P($),"]"!==$.token&&";"!==$.token&&(Fe[Ke]=j($),Ke++);return new s(Fe)}function pn($){return $.index-$.token.length+1}function bn($,Fe){var Ke=pn($),Ne=new SyntaxError(Fe+" (char "+Ke+")");return Ne.char=Ke,Ne}function nn($,Fe){var Ke=pn($),Ne=new SyntaxError(Fe+" (char "+Ke+")");return Ne.char=Ke,Ne}return v.isAlpha=function(Fe,Ke,Ne){return v.isValidLatinOrGreek(Fe)||v.isValidMathSymbol(Fe,Ne)||v.isValidMathSymbol(Ke,Fe)},v.isValidLatinOrGreek=function(Fe){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Fe)},v.isValidMathSymbol=function(Fe,Ke){return/^[\uD835]$/.test(Fe)&&/^[\uDC00-\uDFFF]$/.test(Ke)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ke)},v.isWhitespace=function(Fe,Ke){return" "===Fe||"\t"===Fe||"\n"===Fe&&Ke>0},v.isDecimalMark=function(Fe,Ke){return"."===Fe&&"/"!==Ke&&"*"!==Ke&&"^"!==Ke},v.isDigitDot=function(Fe){return Fe>="0"&&Fe<="9"||"."===Fe},v.isDigit=function(Fe){return Fe>="0"&&Fe<="9"},v.isHexDigit=function(Fe){return Fe>="0"&&Fe<="9"||Fe>="a"&&Fe<="f"||Fe>="A"&&Fe<="F"},e.addConversion({from:"string",to:"Node",convert:v}),v}),jLe=ye("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],n=>{var{typed:e,parse:t,ConstantNode:r,FunctionNode:i,OperatorNode:s,ParenthesisNode:o}=n;function a(l,c){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!c)return l;if(Al(l)){if(u.has(l.name)){var h=Array.from(u).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(h,"}"))}var d=c.get(l.name);if(Bs(d)){var f=new Set(u);return f.add(l.name),a(d,c,f)}return"number"==typeof d?t(String(d)):void 0!==d?new r(d):l}if(da(l)){var A=l.args.map(function(m){return a(m,c,u)});return new s(l.op,l.fn,A,l.implicit)}if(xp(l))return new o(a(l.content,c,u));if(pm(l)){var p=l.args.map(function(m){return a(m,c,u)});return new i(l.name,p)}return l.map(m=>a(m,c,u))}return e("resolve",{Node:a,"Node, Map | null | undefined":a,"Node, Object":(l,c)=>a(l,ub(c)),"Array | Matrix":e.referToSelf(l=>c=>c.map(u=>l(u))),"Array | Matrix, null | undefined":e.referToSelf(l=>c=>c.map(u=>l(u))),"Array, Object":e.referTo("Array,Map",l=>(c,u)=>l(c,ub(u))),"Matrix, Object":e.referTo("Matrix,Map",l=>(c,u)=>l(c,ub(u))),"Array | Matrix, Map":e.referToSelf(l=>(c,u)=>c.map(h=>l(h,u)))})});function mte(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kH(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?mte(Object(t),!0).forEach(function(r){Xa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mte(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var HH=ye("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],n=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:r}=n,i=!0,s=!1,o="defaultF",a={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:s,total:i,commutative:s,associative:s},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:s,total:i,commutative:s,associative:s},paren:{trivial:i,total:i,commutative:i,associative:s},defaultF:{trivial:s,total:i,commutative:s,associative:s}};function u(v,_){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,b=o;if("string"==typeof v?b=v:da(v)?b=v.fn.toString():pm(v)?b=v.name:xp(v)&&(b="paren"),Qn(C,b)){var M=C[b];if(Qn(M,_))return M[_];if(Qn(a,b))return a[b][_]}if(Qn(C,o)){var D=C[o];return Qn(D,_)?D[_]:a[o][_]}if(Qn(a,b)){var x=a[b];if(Qn(x,_))return x[_]}return a[o][_]}function d(v){return u(v,"associative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:a)}function p(v,_){var C,b=[],M=function(x){for(var T=0;T<x.args.length;T++){var B=x.args[T];da(B)&&C===B.op?M(B):b.push(B)}};return d(v,_)?(C=v.op,M(v),b):v.args}function y(v){return da(v)?function(_){try{return new t(v.op,v.fn,_,v.implicit)}catch(C){return console.error(C),[]}}:function(_){return new e(new r(v.name),_)}}return{createMakeNodeFunction:y,hasProperty:u,isCommutative:function h(v){return u(v,"commutative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:a)},isAssociative:d,mergeContext:function f(v,_){var C=kH({},v);for(var b in _)C[b]=Qn(v,b)?kH(kH({},_[b]),v[b]):_[b];return C},flatten:function A(v,_){if(!v.args||0===v.args.length)return v;v.args=p(v,_);for(var C=0;C<v.args.length;C++)A(v.args[C],_)},allChildren:p,unflattenr:function m(v,_){if(v.args&&0!==v.args.length){for(var C=y(v),b=v.args.length,M=0;M<b;M++)m(v.args[M],_);if(b>2&&d(v,_)){for(var D=v.args.pop();v.args.length>0;)D=C([v.args.pop(),D]);v.args=D.args}}},unflattenl:function g(v,_){if(v.args&&0!==v.args.length){for(var C=y(v),b=v.args.length,M=0;M<b;M++)g(v.args[M],_);if(b>2&&d(v,_)){for(var D=v.args.shift();v.args.length>0;)D=C([D,v.args.shift()]);v.args=D.args}}},defaultContext:a,realContext:{divide:{total:s},log:{total:s}},positiveContext:{subtract:{total:s},abs:{trivial:i},log:{total:i}}}});function VH(){throw new Error('No "bignumber" implementation available')}function vte(){throw new Error('No "fraction" implementation available')}function yte(){throw new Error('No "matrix" implementation available')}var XLe=ye("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],n=>{var{typed:e,config:t,mathWithTransform:r,matrix:i,fraction:s,bignumber:o,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:u,IndexNode:h,ObjectNode:d,OperatorNode:f,SymbolNode:A}=n,{isCommutative:p,isAssociative:m,allChildren:g,createMakeNodeFunction:y}=HH({FunctionNode:u,OperatorNode:f,SymbolNode:A}),v=e("simplifyConstant",{Node:q=>M(k(q,{})),"Node, Object":function(O,P){return M(k(O,P))}});function _(q){return jx(q)?q.valueOf():q instanceof Array?q.map(_):ur(q)?i(_(q.valueOf())):q}function C(q,O,P){try{return r[q].apply(null,O)}catch{return O=O.map(_),x(r[q].apply(null,O),P)}}var b=e({Fraction:function B(q){var O=H=>"BigNumber"===t.number&&o?o(H):Number(H),P=q.s*q.n,G=P<0n?new f("-","unaryMinus",[new c(-O(P))]):new c(O(P));return 1n===q.d?G:new f("/","divide",[G,new c(O(q.d))])},number:function(O){return O<0?T(new c(-O)):new c(O)},BigNumber:function(O){return O<0?T(new c(-O)):new c(O)},bigint:function(O){return O<0n?T(new c(-O)):new c(O)},Complex:function(O){throw new Error("Cannot convert Complex number to Node")},string:function(O){return new c(O)},Matrix:function(O){return new l(O.valueOf().map(P=>b(P)))}});function M(q){return Bs(q)?q:b(q)}function D(q,O){if(O&&!1!==O.exactFractions&&isFinite(q)&&s){var G=s(q),H=O&&"number"==typeof O.fractionsLimit?O.fractionsLimit:1/0;if(G.valueOf()===q&&G.n<H&&G.d<H)return G}return q}var x=e({"string, Object":function(O,P){var G=gm(O,t);return"BigNumber"===G?(void 0===o&&VH(),o(O)):"bigint"===G?BigInt(O):"Fraction"===G?(void 0===s&&vte(),s(O)):D(parseFloat(O),P)},"Fraction, Object":function(O,P){return O},"BigNumber, Object":function(O,P){return O},"number, Object":function(O,P){return D(O,P)},"bigint, Object":function(O,P){return O},"Complex, Object":function(O,P){return 0!==O.im?O:D(O.re,P)},"Matrix, Object":function(O,P){return i(D(O.valueOf()))},"Array, Object":function(O,P){return O.map(D)}});function T(q){return new f("-","unaryMinus",[q])}function U(q,O,P,G){var H=O.shift(),ae=O.reduce((ve,Q)=>{if(!Bs(Q)){var j=ve.pop();if(Bs(j))return[j,Q];try{return ve.push(C(q,[j,Q],G)),ve}catch{ve.push(j)}}ve.push(M(ve.pop()));var K=1===ve.length?ve[0]:P(ve);return[P([K,M(Q)])]},[H]);return 1===ae.length?ae[0]:P([ae[0],b(ae[1])])}function k(q,O){switch(q.type){case"SymbolNode":return q;case"ConstantNode":switch(typeof q.value){case"number":case"bigint":return x(q.value,O);case"string":return q.value;default:if(!isNaN(q.value))return x(q.value,O)}return q;case"FunctionNode":if(r[q.name]&&r[q.name].rawArgs)return q;if(!["add","multiply"].includes(q.name)){var G=q.args.map(Se=>k(Se,O));if(!G.some(Bs))try{return C(q.name,G,O)}catch{}if("size"===q.name&&1===G.length&&Kh(G[0])){for(var H=[],ae=G[0];Kh(ae);)H.push(ae.items.length),ae=ae.items[0];return i(H)}return new u(q.name,G.map(M))}case"OperatorNode":var Q,j,ve=q.fn.toString(),K=y(q);if(da(q)&&q.isUnary())j=Bs((Q=[k(q.args[0],O)])[0])?K(Q):C(ve,Q,O);else if(m(q,O.context))if(Q=(Q=g(q,O.context)).map(Se=>k(Se,O)),p(ve,O.context)){for(var oe=[],se=[],le=0;le<Q.length;le++)Bs(Q[le])?se.push(Q[le]):oe.push(Q[le]);oe.length>1?(j=U(ve,oe,K,O),se.unshift(j),j=U(ve,se,K,O)):j=U(ve,Q,K,O)}else j=U(ve,Q,K,O);else j=U(ve,Q=q.args.map(Se=>k(Se,O)),K,O);return j;case"ParenthesisNode":return k(q.content,O);case"AccessorNode":return function R(q,O,P){if(!fb(O))return new a(M(q),M(O));if(Kh(q)||ur(q)){for(var G=Array.from(O.dimensions);G.length>0;)if(Di(G[0])&&"string"!=typeof G[0].value){var H=x(G.shift().value,P);Kh(q)?q=q.items[H-1]:(q=q.valueOf()[H-1])instanceof Array&&(q=i(q))}else{if(!(G.length>1&&Di(G[1])&&"string"!=typeof G[1].value))break;var ae=x(G[1].value,P),ve=[],Q=Kh(q)?q.items:q.valueOf();for(var j of Q)if(Kh(j))ve.push(j.items[ae-1]);else{if(!ur(q))break;ve.push(j[ae-1])}if(ve.length!==Q.length)break;q=Kh(q)?new l(ve):i(ve),G.splice(1,1)}return G.length===O.dimensions.length?new a(M(q),O):G.length>0?(O=new h(G),new a(M(q),O)):q}if(tI(q)&&1===O.dimensions.length&&Di(O.dimensions[0])){var K=O.dimensions[0].value;return K in q.properties?q.properties[K]:new c}return new a(M(q),O)}(k(q.object,O),k(q.index,O),O);case"ArrayNode":var te=q.items.map(Se=>k(Se,O));return te.some(Bs)?new l(te.map(M)):i(te);case"IndexNode":return new h(q.dimensions.map(Se=>v(Se,O)));case"ObjectNode":var ee={};for(var Ae in q.properties)ee[Ae]=v(q.properties[Ae],O);return new d(ee);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(q.type))}}return v}),JLe=ye("compile",["typed","parse"],n=>{var{typed:e,parse:t}=n;return e("compile",{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return Or(i,function(s){return t(s).compile()})}})}),bte="simplifyCore",e3e=ye(bte,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,equal:r,isZero:i,AccessorNode:u,ArrayNode:h,ConstantNode:d,FunctionNode:f,IndexNode:A,ObjectNode:p,OperatorNode:m,SymbolNode:y}=n,v=new d(0),_=new d(1),C=new d(!0),b=new d(!1);function M(B){return da(B)&&["and","not","or"].includes(B.op)}var{hasProperty:D,isCommutative:x}=HH({FunctionNode:f,OperatorNode:m,SymbolNode:y});function T(B){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=R?R.context:void 0;if(D(B,"trivial",U)){if(pm(B)&&1===B.args.length)return T(B.args[0],R);var k=!1,q=0;if(B.forEach(se=>{1==++q&&(k=T(se,R))}),1===q)return k}var O=B;if(pm(O)){var P=function eLe(n){var e="OperatorNode:"+n;for(var t of sd)if(e in t)return t[e].op;return null}(O.name);if(!P)return new f(T(O.fn),O.args.map(se=>T(se,R)));if(O.args.length>2&&D(O,"associative",U))for(;O.args.length>2;){var G=O.args.pop(),H=O.args.pop();O.args.push(new m(P,O.name,[G,H]))}O=new m(P,O.name,O.args)}if(da(O)&&O.isUnary()){var ae=T(O.args[0],R);if("~"===O.op&&da(ae)&&ae.isUnary()&&"~"===ae.op||"not"===O.op&&da(ae)&&ae.isUnary()&&"not"===ae.op&&M(ae.args[0]))return ae.args[0];var ve=!0;if("-"===O.op&&da(ae)&&(ae.isBinary()&&"subtract"===ae.fn&&(O=new m("-","subtract",[ae.args[1],ae.args[0]]),ve=!1),ae.isUnary()&&"-"===ae.op))return ae.args[0];if(ve)return new m(O.op,O.fn,[ae])}if(da(O)&&O.isBinary()){var Q=T(O.args[0],R),j=T(O.args[1],R);if("+"===O.op){if(Di(Q)&&i(Q.value))return j;if(Di(j)&&i(j.value))return Q;da(j)&&j.isUnary()&&"-"===j.op&&(O=new m("-","subtract",[Q,j=j.args[0]]))}if("-"===O.op)return da(j)&&j.isUnary()&&"-"===j.op?T(new m("+","add",[Q,j.args[0]]),R):Di(Q)&&i(Q.value)?T(new m("-","unaryMinus",[j])):Di(j)&&i(j.value)?Q:new m(O.op,O.fn,[Q,j]);if("*"===O.op){if(Di(Q)){if(i(Q.value))return v;if(r(Q.value,1))return j}if(Di(j)){if(i(j.value))return v;if(r(j.value,1))return Q;if(x(O,U))return new m(O.op,O.fn,[j,Q],O.implicit)}return new m(O.op,O.fn,[Q,j],O.implicit)}if("/"===O.op)return Di(Q)&&i(Q.value)?v:Di(j)&&r(j.value,1)?Q:new m(O.op,O.fn,[Q,j]);if("^"===O.op&&Di(j)){if(i(j.value))return _;if(r(j.value,1))return Q}if("and"===O.op){if(Di(Q)){if(!Q.value)return b;if(M(j))return j;if(Di(j))return j.value?C:b}if(Di(j)){if(!j.value)return b;if(M(Q))return Q}}if("or"===O.op){if(Di(Q)){if(Q.value)return C;if(M(j))return j}if(Di(j)){if(j.value)return C;if(M(Q))return Q}}return new m(O.op,O.fn,[Q,j])}if(da(O))return new m(O.op,O.fn,O.args.map(se=>T(se,R)));if(Kh(O))return new h(O.items.map(se=>T(se,R)));if(P0(O))return new u(T(O.object,R),T(O.index,R));if(fb(O))return new A(O.dimensions.map(se=>T(se,R)));if(tI(O)){var K={};for(var oe in O.properties)K[oe]=T(O.properties[oe],R);return new p(K)}return O}return e(bte,{Node:T,"Node,Object":T})}),n3e=ye("evaluate",["typed","parse"],n=>{var{typed:e,parse:t}=n;return e("evaluate",{string:function(i){var s=Gx();return t(i).compile().evaluate(s)},"string, Map | Object":function(i,s){return t(i).compile().evaluate(s)},"Array | Matrix":function(i){var s=Gx();return Or(i,function(o){return t(o).compile().evaluate(s)})},"Array | Matrix, Map | Object":function(i,s){return Or(i,function(o){return t(o).compile().evaluate(s)})}})}),s3e=ye("Help",["evaluate"],n=>{var{evaluate:e}=n;function t(r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!r)throw new Error('Argument "doc" missing');this.doc=r}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var r=this.doc||{},i="\n";if(r.name&&(i+="Name: "+r.name+"\n\n"),r.category&&(i+="Category: "+r.category+"\n\n"),r.description&&(i+="Description:\n    "+r.description+"\n\n"),r.syntax&&(i+="Syntax:\n    "+r.syntax.join("\n    ")+"\n\n"),r.examples){i+="Examples:\n";for(var s=!1,o=e("config()"),a={config:h=>(s=!0,e("config(newConfig)",{newConfig:h}))},l=0;l<r.examples.length;l++){var c=r.examples[l];i+="    "+c+"\n";var u=void 0;try{u=e(c,a)}catch(h){u=h}void 0!==u&&!Pee(u)&&(i+="        "+ri(u,{precision:14})+"\n")}i+="\n",s&&e("config(originalConfig)",{originalConfig:o})}return r.mayThrow&&r.mayThrow.length&&(i+="Throws: "+r.mayThrow.join(", ")+"\n\n"),r.seealso&&r.seealso.length&&(i+="See also: "+r.seealso.join(", ")+"\n"),i},t.prototype.toJSON=function(){var r=Fr(this.doc);return r.mathjs="Help",r},t.fromJSON=function(r){var i={};return Object.keys(r).filter(s=>"mathjs"!==s).forEach(s=>{i[s]=r[s]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0}),l3e=ye("Parser",["evaluate","parse"],n=>{var{evaluate:e,parse:t}=n;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Gx(),writable:!1})}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(s){return e(s,this.scope)},r.prototype.get=function(s){if(this.scope.has(s))return this.scope.get(s)},r.prototype.getAll=function(){return function o5e(n){if(n instanceof JN)return n.wrappedObject;var e={};for(var t of n.keys())cb(e,t,n.get(t));return e}(this.scope)},r.prototype.getAllAsMap=function(){return this.scope},r.prototype.set=function(s,o){if(!function i(s){if(0===s.length)return!1;for(var o=0;o<s.length;o++){var a=s.charAt(o-1),l=s.charAt(o),c=s.charAt(o+1);if(!(t.isAlpha(l,a,c)||o>0&&t.isDigit(l)))return!1}return!0}(s))throw new Error("Invalid variable name: '".concat(s,"'. Variable names must follow the specified rules."));return this.scope.set(s,o),o},r.prototype.remove=function(s){this.scope.delete(s)},r.prototype.clear=function(){this.scope.clear()},r},{isClass:!0});function Cte(n){return Di(n)||da(n)&&n.isUnary()&&Di(n.args[0])}function xI(n){return!!(Di(n)||(pm(n)||da(n))&&n.args.every(xI)||xp(n)&&xI(n.content))}var h3e=ye("simplify",["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],n=>{var{typed:e,parse:t,equal:r,resolve:i,simplifyConstant:s,simplifyCore:o,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:u,IndexNode:h,ObjectNode:d,OperatorNode:f,ParenthesisNode:A,SymbolNode:p,replacer:m}=n,{hasProperty:g,isCommutative:y,isAssociative:v,mergeContext:_,flatten:C,unflattenr:b,unflattenl:M,createMakeNodeFunction:D,defaultContext:x,realContext:T,positiveContext:B}=HH({FunctionNode:u,OperatorNode:f,SymbolNode:p});e.addConversion({from:"Object",to:"Map",convert:ub});var R=e("simplify",{Node:H,"Node, Map":(te,ee)=>H(te,!1,ee),"Node, Map, Object":(te,ee,Ae)=>H(te,!1,ee,Ae),"Node, Array":H,"Node, Array, Map":H,"Node, Array, Map, Object":H});function U(te){return te.transform(function(ee){return xp(ee)?U(ee.content):ee})}e.removeConversion({from:"Object",to:"Map",convert:ub}),R.defaultContext=x,R.realContext=T,R.positiveContext=B;var k={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function q(te,ee){var Ae={};if(te.s){var Se=te.s.split("->");if(2!==Se.length)throw SyntaxError("Could not parse rule: "+te.s);Ae.l=Se[0],Ae.r=Se[1]}else Ae.l=te.l,Ae.r=te.r;for(var ge of(Ae.l=U(t(Ae.l)),Ae.r=U(t(Ae.r)),["imposeContext","repeat","assuming"]))ge in te&&(Ae[ge]=te[ge]);if(te.evaluate&&(Ae.evaluate=t(te.evaluate)),v(Ae.l,ee)){var ne,xe=!y(Ae.l,ee);xe&&(ne=G());var Y=D(Ae.l),W=G();Ae.expanded={},Ae.expanded.l=Y([Ae.l,W]),C(Ae.expanded.l,ee),b(Ae.expanded.l,ee),Ae.expanded.r=Y([Ae.r,W]),xe&&(Ae.expandedNC1={},Ae.expandedNC1.l=Y([ne,Ae.l]),Ae.expandedNC1.r=Y([ne,Ae.r]),Ae.expandedNC2={},Ae.expandedNC2.l=Y([ne,Ae.expanded.l]),Ae.expandedNC2.r=Y([ne,Ae.expanded.r]))}return Ae}R.rules=[o,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},s,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},s,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var P=0;function G(){return new p("_p"+P++)}function H(te,ee){var Ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gx(),Se=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ge=Se.consoleDebug;ee=function O(te,ee){for(var Ae=[],Se=0;Se<te.length;Se++){var ge=te[Se],xe=void 0,ne=typeof ge;switch(ne){case"string":ge={s:ge};case"object":xe=q(ge,ee);break;case"function":xe=ge;break;default:throw TypeError("Unsupported type of rule: "+ne)}Ae.push(xe)}return Ae}(ee||R.rules,Se.context);for(var xe=i(te,Ae),ne={},Y=(xe=U(xe)).toString({parenthesis:"all"});!ne[Y];){ne[Y]=!0,P=0;var W=Y;ge&&console.log("Working on: ",Y);for(var Me=0;Me<ee.length;Me++){var Ce="";if("function"==typeof ee[Me]?(xe=ee[Me](xe,Se),ge&&(Ce=ee[Me].name)):(C(xe,Se.context),xe=ve(xe,ee[Me],Se.context),ge&&(Ce="".concat(ee[Me].l.toString()," -> ").concat(ee[Me].r.toString()))),ge){var Pe=xe.toString({parenthesis:"all"});Pe!==W&&(console.log("Applying",Ce,"produced",Pe),W=Pe)}M(xe,Se.context)}Y=xe.toString({parenthesis:"all"})}return xe}function ae(te,ee,Ae){var Se=te;if(te)for(var ge=0;ge<te.length;++ge){var xe=ve(te[ge],ee,Ae);xe!==te[ge]&&(Se===te&&(Se=te.slice()),Se[ge]=xe)}return Se}function ve(te,ee,Ae){if(ee.assuming)for(var Se in ee.assuming)for(var ge in ee.assuming[Se])if(g(Se,ge,Ae)!==ee.assuming[Se][ge])return te;var xe=_(ee.imposeContext,Ae),ne=te;if(ne instanceof f||ne instanceof u){var Y=ae(ne.args,ee,Ae);Y!==ne.args&&((ne=ne.clone()).args=Y)}else if(ne instanceof A){if(ne.content){var W=ve(ne.content,ee,Ae);W!==ne.content&&(ne=new A(W))}}else if(ne instanceof l){var Me=ae(ne.items,ee,Ae);Me!==ne.items&&(ne=new l(Me))}else if(ne instanceof a){var Ce=ne.object;ne.object&&(Ce=ve(ne.object,ee,Ae));var Pe=ne.index;ne.index&&(Pe=ve(ne.index,ee,Ae)),(Ce!==ne.object||Pe!==ne.index)&&(ne=new a(Ce,Pe))}else if(ne instanceof h){var Oe=ae(ne.dimensions,ee,Ae);Oe!==ne.dimensions&&(ne=new h(Oe))}else if(ne instanceof d){var re=!1,J={};for(var Ue in ne.properties)J[Ue]=ve(ne.properties[Ue],ee,Ae),J[Ue]!==ne.properties[Ue]&&(re=!0);re&&(ne=new d(J))}var Qe=ee.r,rt=se(ee.l,ne,xe)[0];if(!rt&&ee.expanded&&(Qe=ee.expanded.r,rt=se(ee.expanded.l,ne,xe)[0]),!rt&&ee.expandedNC1&&(Qe=ee.expandedNC1.r,(rt=se(ee.expandedNC1.l,ne,xe)[0])||(Qe=ee.expandedNC2.r,rt=se(ee.expandedNC2.l,ne,xe)[0])),rt){var Xe=ne.implicit;ne=Qe.clone(),Xe&&"implicit"in Qe&&(ne.implicit=!0),ne=ne.transform(function(Lt){return Lt.isSymbolNode&&Qn(rt.placeholders,Lt.name)?rt.placeholders[Lt.name].clone():Lt})}return ee.repeat&&ne!==te&&(ne=ve(ne,ee,Ae)),ne}function j(te,ee){var Ae={placeholders:{}};if(!te.placeholders&&!ee.placeholders)return Ae;if(!te.placeholders)return ee;if(!ee.placeholders)return te;for(var Se in te.placeholders)if(Qn(te.placeholders,Se)&&(Ae.placeholders[Se]=te.placeholders[Se],Qn(ee.placeholders,Se)&&!le(te.placeholders[Se],ee.placeholders[Se])))return null;for(var ge in ee.placeholders)Qn(ee.placeholders,ge)&&(Ae.placeholders[ge]=ee.placeholders[ge]);return Ae}function K(te,ee){var Ae=[];if(0===te.length||0===ee.length)return Ae;for(var Se,ge=0;ge<te.length;ge++)for(var xe=0;xe<ee.length;xe++)(Se=j(te[ge],ee[xe]))&&Ae.push(Se);return Ae}function se(te,ee,Ae,Se){var ge=[{placeholders:{}}];if(te instanceof f&&ee instanceof f||te instanceof u&&ee instanceof u){if(te instanceof f){if(te.op!==ee.op||te.fn!==ee.fn)return[]}else if(te instanceof u&&te.name!==ee.name)return[];if(!(1===ee.args.length&&1===te.args.length||!v(ee,Ae)&&ee.args.length===te.args.length||Se)){if(ee.args.length>=2&&2===te.args.length){for(var Ce=function Q(te,ee){var Se,ge,Ae=[],xe=D(te);if(y(te,ee))for(var ne=0;ne<te.args.length;ne++)(ge=te.args.slice(0)).splice(ne,1),Se=1===ge.length?ge[0]:xe(ge),Ae.push(xe([te.args[ne],Se]));else for(var Y=1;Y<te.args.length;Y++){var W=te.args[0];Y>1&&(W=xe(te.args.slice(0,Y))),Se=1===(ge=te.args.slice(Y)).length?ge[0]:xe(ge),Ae.push(xe([W,Se]))}return Ae}(ee,Ae),Pe=[],Oe=0;Oe<Ce.length;Oe++){var re=se(te,Ce[Oe],Ae,!0);Pe=Pe.concat(re)}return Pe}if(te.args.length>2)throw Error("Unexpected non-binary associative function: "+te.toString());return[]}for(var xe=[],ne=0;ne<te.args.length;ne++){var Y=se(te.args[ne],ee.args[ne],Ae);if(0===Y.length)break;xe.push(Y)}if(xe.length!==te.args.length){if(!y(ee,Ae)||1===te.args.length)return[];if(te.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var W=se(te.args[0],ee.args[1],Ae);if(0===W.length)return[];var Me=se(te.args[1],ee.args[0],Ae);if(0===Me.length)return[];xe=[W,Me]}ge=function oe(te){if(0===te.length)return te;for(var ee=te.reduce(K),Ae=[],Se={},ge=0;ge<ee.length;ge++){var xe=JSON.stringify(ee[ge],m);Se[xe]||(Se[xe]=!0,Ae.push(ee[ge]))}return Ae}(xe)}else if(te instanceof p){if(0===te.name.length)throw new Error("Symbol in rule has 0 length...!?");if(k[te.name]){if(te.name!==ee.name)return[]}else switch(te.name[1]>="a"&&te.name[1]<="z"?te.name.substring(0,2):te.name[0]){case"n":case"_p":ge[0].placeholders[te.name]=ee;break;case"c":case"cl":if(!Di(ee))return[];ge[0].placeholders[te.name]=ee;break;case"v":if(Di(ee))return[];ge[0].placeholders[te.name]=ee;break;case"vl":if(!Al(ee))return[];ge[0].placeholders[te.name]=ee;break;case"cd":if(!Cte(ee))return[];ge[0].placeholders[te.name]=ee;break;case"vd":if(Cte(ee))return[];ge[0].placeholders[te.name]=ee;break;case"ce":if(!xI(ee))return[];ge[0].placeholders[te.name]=ee;break;case"ve":if(xI(ee))return[];ge[0].placeholders[te.name]=ee;break;default:throw new Error("Invalid symbol in rule: "+te.name)}}else{if(!(te instanceof c))return[];if(!r(te.value,ee.value))return[]}return ge}function le(te,ee){if(te instanceof c&&ee instanceof c){if(!r(te.value,ee.value))return!1}else if(te instanceof p&&ee instanceof p){if(te.name!==ee.name)return!1}else{if(!(te instanceof f&&ee instanceof f||te instanceof u&&ee instanceof u))return!1;if(te instanceof f){if(te.op!==ee.op||te.fn!==ee.fn)return!1}else if(te instanceof u&&te.name!==ee.name)return!1;if(te.args.length!==ee.args.length)return!1;for(var Ae=0;Ae<te.args.length;Ae++)if(!le(te.args[Ae],ee.args[Ae]))return!1}return!0}return R}),Ste="symbolicEqual",d3e=ye(Ste,["parse","simplify","typed","OperatorNode"],n=>{var{simplify:t,typed:r,OperatorNode:i}=n;function s(o,a){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=new i("-","subtract",[o,a]),u=t(c,{},l);return Di(u)&&!u.value}return r(Ste,{"Node, Node":s,"Node, Node, Object":s})}),p3e=ye("leafCount",["parse","typed"],n=>{var{typed:t}=n;function r(i){var s=0;return i.forEach(o=>{s+=r(o)}),s||1}return t("leafCount",{Node:function(s){return r(s)}})}),m3e=ye("parser",["typed","Parser"],n=>{var{typed:e,Parser:t}=n;return e("parser",{"":function(){return new t}})}),Dte="rationalize",y3e=ye(Dte,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],n=>{var{typed:t,simplifyConstant:h,simplifyCore:d,simplify:f,ConstantNode:_,OperatorNode:D,SymbolNode:x}=n;function B(O){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],H=function U(){var O=[d,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},h,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],P=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],H=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ae={};return ae.firstRules=O.concat(P,H),ae.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],ae.sucDivRules=H,ae.firstRulesAgain=O.concat(P),ae.finalRules=[d,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},h,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ae}(),ae=function R(O,P,G,H){var ae=[],ve=f(O,H,P,{exactFractions:!1}),Q="+-*"+((G=!!G)?"/":"");!function K(oe){var se=oe.type;if("FunctionNode"===se)throw new Error("There is an unsolved function call");if("OperatorNode"===se)if("^"===oe.op){if("ConstantNode"!==oe.args[1].type||!Kn(parseFloat(oe.args[1].value)))throw new Error("There is a non-integer exponent");K(oe.args[0])}else{if(!Q.includes(oe.op))throw new Error("Operator "+oe.op+" invalid in polynomial expression");for(var le=0;le<oe.args.length;le++)K(oe.args[le])}else if("SymbolNode"===se){var te=oe.name;-1===ae.indexOf(te)&&ae.push(te)}else if("ParenthesisNode"===se)K(oe.content);else if("ConstantNode"!==se)throw new Error("type "+se+" is not allowed in polynomial expression")}(ve);var j={};return j.expression=ve,j.variables=ae,j}(O,P,!0,H.firstRules),ve=ae.variables.length,Q={exactFractions:!1},j={exactFractions:!0};if(O=ae.expression,ve>=1){O=k(O);var K,oe,te,se=!0,le=!1;for(O=f(O,H.firstRules,{},Q);oe=se?H.distrDivRules:H.sucDivRules,se=!se,(te=(O=f(O,oe,{},j)).toString())!==K;)le=!0,K=te;le&&(O=f(O,H.firstRulesAgain,{},Q)),O=f(O,H.finalRules,{},Q)}var ee=[],Ae={};return"OperatorNode"===O.type&&O.isBinary()&&"/"===O.op?(1===ve&&(O.args[0]=q(O.args[0],ee),O.args[1]=q(O.args[1])),G&&(Ae.numerator=O.args[0],Ae.denominator=O.args[1])):(1===ve&&(O=q(O,ee)),G&&(Ae.numerator=O,Ae.denominator=null)),G?(Ae.coefficients=ee,Ae.variables=ae.variables,Ae.expression=O,Ae):O}return t(Dte,{Node:B,"Node, boolean":(O,P)=>B(O,{},P),"Node, Object":B,"Node, Object, boolean":B});function k(O,P,G){var H=O.type,ae=arguments.length>1;if("OperatorNode"===H&&O.isBinary()){var Q,ve=!1;if("^"===O.op&&("ParenthesisNode"===O.args[0].type||"OperatorNode"===O.args[0].type)&&"ConstantNode"===O.args[1].type&&(ve=(Q=parseFloat(O.args[1].value))>=2&&Kn(Q)),ve){if(Q>2){var j=O.args[0],K=new D("^","pow",[O.args[0].cloneDeep(),new _(Q-1)]);O=new D("*","multiply",[j,K])}else O=new D("*","multiply",[O.args[0],O.args[0].cloneDeep()]);ae&&("content"===G?P.content=O:P.args[G]=O)}}if("ParenthesisNode"===H)k(O.content,O,"content");else if("ConstantNode"!==H&&"SymbolNode"!==H)for(var oe=0;oe<O.args.length;oe++)k(O.args[oe],O,oe);if(!ae)return O}function q(O,P){void 0===P&&(P=[]),P[0]=0;var H=0,ae="";!function te(ee,Ae,Se){var ge=ee.type;if("FunctionNode"===ge)throw new Error("There is an unsolved function call");if("OperatorNode"===ge){if(!"+-*^".includes(ee.op))throw new Error("Operator "+ee.op+" invalid");if(null!==Ae){if(("unaryMinus"===ee.fn||"pow"===ee.fn)&&"add"!==Ae.fn&&"subtract"!==Ae.fn&&"multiply"!==Ae.fn)throw new Error("Invalid "+ee.op+" placing");if(("subtract"===ee.fn||"add"===ee.fn||"multiply"===ee.fn)&&"add"!==Ae.fn&&"subtract"!==Ae.fn)throw new Error("Invalid "+ee.op+" placing");if(("subtract"===ee.fn||"add"===ee.fn||"unaryMinus"===ee.fn)&&0!==Se.noFil)throw new Error("Invalid "+ee.op+" placing")}("^"===ee.op||"*"===ee.op)&&(Se.fire=ee.op);for(var xe=0;xe<ee.args.length;xe++)"unaryMinus"===ee.fn&&(Se.oper="-"),("+"===ee.op||"subtract"===ee.fn)&&(Se.fire="",Se.cte=1,Se.oper=0===xe?"+":ee.op),Se.noFil=xe,te(ee.args[xe],ee,Se)}else if("SymbolNode"===ge){if(ee.name!==ae&&""!==ae)throw new Error("There is more than one variable");if(ae=ee.name,null===Ae)return void(P[1]=1);if("^"===Ae.op&&0!==Se.noFil)throw new Error("In power the variable should be the first parameter");if("*"===Ae.op&&1!==Se.noFil)throw new Error("In multiply the variable should be the second parameter");(""===Se.fire||"*"===Se.fire)&&(H<1&&(P[1]=0),P[1]+=Se.cte*("+"===Se.oper?1:-1),H=Math.max(1,H))}else{if("ConstantNode"!==ge)throw new Error("Type "+ge+" is not allowed");var ne=parseFloat(ee.value);if(null===Ae)return void(P[0]=ne);if("^"===Ae.op){if(1!==Se.noFil)throw new Error("Constant cannot be powered");if(!Kn(ne)||ne<=0)throw new Error("Non-integer exponent is not allowed");for(var Y=H+1;Y<ne;Y++)P[Y]=0;return ne>H&&(P[ne]=0),P[ne]+=Se.cte*("+"===Se.oper?1:-1),void(H=Math.max(ne,H))}Se.cte=ne,""===Se.fire&&(P[0]+=Se.cte*("+"===Se.oper?1:-1))}}(O,null,{cte:1,oper:"+",fire:""});for(var Q,ve=!0,j=H=P.length-1;j>=0;j--)if(0!==P[j]){var K=new _(ve?P[j]:Math.abs(P[j])),oe=P[j]<0?"-":"+";if(j>0){var se=new x(ae);if(j>1){var le=new _(j);se=new D("^","pow",[se,le])}K=-1===P[j]&&ve?new D("-","unaryMinus",[se]):1===Math.abs(P[j])?se:new D("*","multiply",[K,se])}Q=ve?K:"+"===oe?new D("+","add",[Q,K]):new D("-","subtract",[Q,K]),ve=!1}return ve?new _(0):Q}}),Mte="derivative",b3e=ye(Mte,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,config:t,parse:r,simplify:i,equal:s,isZero:o,numeric:a,ConstantNode:l,FunctionNode:c,OperatorNode:u,ParenthesisNode:h,SymbolNode:d}=n;function f(_,C){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},M=new Map,D=C.name,T=y(_,function x(B){var R=M.get(B);if(void 0!==R)return R;var U=g(x,B,D);return M.set(B,U),U});return b.simplify?i(T):T}function A(_){var C=r(_);if(!C.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(_)," into a variable in function derivative"));return C}var p=e(Mte,{"Node, SymbolNode":f,"Node, SymbolNode, Object":f,"Node, string":(_,C)=>f(_,A(C)),"Node, string, Object":(_,C,b)=>f(_,A(C),b)});p._simplify=!0,p.toTex=function(_){return m.apply(null,_.args)};var m=e("_derivTex",{"Node, SymbolNode":function(C,b){return Di(C)&&"string"===$s(C.value)?m(r(C.value).toString(),b.toString(),1):m(C.toTex(),b.toString(),1)},"Node, ConstantNode":function(C,b){if("string"===$s(b.value))return m(C,r(b.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(C,b,M){return m(C.toString(),b.name,M.value)},"string, string, number":function(C,b,M){return(1===M?"{d\\over d"+b+"}":"{d^{"+M+"}\\over d"+b+"^{"+M+"}}")+"\\left[".concat(C,"\\right]")}}),g=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(C,b,M){return b.name!==M},"function, ParenthesisNode, string":function(C,b,M){return C(b.content,M)},"function, FunctionAssignmentNode, string":function(C,b,M){return!b.params.includes(M)||C(b.expr,M)},"function, FunctionNode | OperatorNode, string":function(C,b,M){return b.args.every(D=>C(D,M))}}),y=e("_derivative",{"ConstantNode, function":function(){return v(0)},"SymbolNode, function":function(C,b){return b(C)?v(0):v(1)},"ParenthesisNode, function":function(C,b){return new h(y(C.content,b))},"FunctionAssignmentNode, function":function(C,b){return b(C)?v(0):y(C.expr,b)},"FunctionNode, function":function(C,b){if(b(C))return v(0);var D,B,R,U,M=C.args[0],x=!1,T=!1;switch(C.name){case"cbrt":x=!0,B=new u("*","multiply",[v(3),new u("^","pow",[M,new u("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===C.args.length)x=!0,B=new u("*","multiply",[v(2),new c("sqrt",[M])]);else if(2===C.args.length)return D=new u("/","divide",[v(1),C.args[1]]),y(new u("^","pow",[M,D]),b);break;case"log10":D=v(10);case"log":if(D||1!==C.args.length){if(1===C.args.length&&D||2===C.args.length&&b(C.args[1]))B=new u("*","multiply",[M.clone(),new c("log",[D||C.args[1]])]),x=!0;else if(2===C.args.length)return y(new u("/","divide",[new c("log",[M]),new c("log",[C.args[1]])]),b)}else B=M.clone(),x=!0;break;case"pow":if(2===C.args.length)return y(new u("^","pow",[M,C.args[1]]),b);break;case"exp":B=new c("exp",[M.clone()]);break;case"sin":B=new c("cos",[M.clone()]);break;case"cos":B=new u("-","unaryMinus",[new c("sin",[M.clone()])]);break;case"tan":B=new u("^","pow",[new c("sec",[M.clone()]),v(2)]);break;case"sec":B=new u("*","multiply",[C,new c("tan",[M.clone()])]);break;case"csc":T=!0,B=new u("*","multiply",[C,new c("cot",[M.clone()])]);break;case"cot":T=!0,B=new u("^","pow",[new c("csc",[M.clone()]),v(2)]);break;case"asin":x=!0,B=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])]);break;case"acos":x=!0,T=!0,B=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])]);break;case"atan":x=!0,B=new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)]);break;case"asec":x=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acsc":x=!0,T=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acot":x=!0,T=!0,B=new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)]);break;case"sinh":B=new c("cosh",[M.clone()]);break;case"cosh":B=new c("sinh",[M.clone()]);break;case"tanh":B=new u("^","pow",[new c("sech",[M.clone()]),v(2)]);break;case"sech":T=!0,B=new u("*","multiply",[C,new c("tanh",[M.clone()])]);break;case"csch":T=!0,B=new u("*","multiply",[C,new c("coth",[M.clone()])]);break;case"coth":T=!0,B=new u("^","pow",[new c("csch",[M.clone()]),v(2)]);break;case"asinh":x=!0,B=new c("sqrt",[new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)])]);break;case"acosh":x=!0,B=new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])]);break;case"atanh":x=!0,B=new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])]);break;case"asech":x=!0,T=!0,B=new u("*","multiply",[M.clone(),new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])])]);break;case"acsch":x=!0,T=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acoth":x=!0,T=!0,B=new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])]);break;case"abs":B=new u("/","divide",[new c(new d("abs"),[M.clone()]),M.clone()]);break;default:throw new Error('Cannot process function "'+C.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}x?(R="/",U="divide"):(R="*",U="multiply");var k=y(M,b);return T&&(k=new u("-","unaryMinus",[k])),new u(R,U,[k,B])},"OperatorNode, function":function(C,b){if(b(C))return v(0);if("+"===C.op)return new u(C.op,C.fn,C.args.map(function(O){return y(O,b)}));if("-"===C.op){if(C.isUnary())return new u(C.op,C.fn,[y(C.args[0],b)]);if(C.isBinary())return new u(C.op,C.fn,[y(C.args[0],b),y(C.args[1],b)])}if("*"===C.op){var M=C.args.filter(function(O){return b(O)});if(M.length>0){var D=C.args.filter(function(O){return!b(O)}),x=1===D.length?D[0]:new u("*","multiply",D),T=M.concat(y(x,b));return new u("*","multiply",T)}return new u("+","add",C.args.map(function(O){return new u("*","multiply",C.args.map(function(P){return P===O?y(P,b):P.clone()}))}))}if("/"===C.op&&C.isBinary()){var B=C.args[0],R=C.args[1];return b(R)?new u("/","divide",[y(B,b),R]):b(B)?new u("*","multiply",[new u("-","unaryMinus",[B]),new u("/","divide",[y(R,b),new u("^","pow",[R.clone(),v(2)])])]):new u("/","divide",[new u("-","subtract",[new u("*","multiply",[y(B,b),R.clone()]),new u("*","multiply",[B.clone(),y(R,b)])]),new u("^","pow",[R.clone(),v(2)])])}if("^"===C.op&&C.isBinary()){var U=C.args[0],k=C.args[1];if(b(U))return Di(U)&&(o(U.value)||s(U.value,1))?v(0):new u("*","multiply",[C,new u("*","multiply",[new c("log",[U.clone()]),y(k.clone(),b)])]);if(b(k)){if(Di(k)){if(o(k.value))return v(0);if(s(k.value,1))return y(U,b)}var q=new u("^","pow",[U.clone(),new u("-","subtract",[k,v(1)])]);return new u("*","multiply",[k.clone(),new u("*","multiply",[y(U,b),q])])}return new u("*","multiply",[new u("^","pow",[U.clone(),k.clone()]),new u("+","add",[new u("*","multiply",[y(U,b),new u("/","divide",[k.clone(),U.clone()])]),new u("*","multiply",[y(k,b),new c("log",[U.clone()])])])])}throw new Error('Cannot process operator "'+C.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function v(_,C){return new l(a(_,C||gm(String(_),t)))}return p}),Tte={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Bte={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},$He={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},bigint:{name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:Tte,E:Tte,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:Bte,PI:Bte,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]}},XHe=ye("help",["typed","mathWithTransform","Help"],n=>{var{typed:e,mathWithTransform:t,Help:r}=n;return e("help",{any:function(s){var o,a=s;if("string"!=typeof s)for(o in t)if(Qn(t,o)&&s===t[o]){a=o;break}var l=qc($He,a);if(!l)throw new Error('No documentation found on "'+("function"==typeof a?a.name:a)+'"');return new r(l)}})}),EI=we(616);function U0(n,e,t){if(EI.isTypedFunction(n)){var r=(e.isMatrix?e.size():xr(e)).map(()=>0),i=e.isMatrix?e.get(r):RH(e,r),s=1===Object.keys(n.signatures).length,o=function YHe(n,e,t,r){for(var i=[e,t,r],s=3;s>0;s--){var o=i.slice(0,s);if(null!==EI.resolve(n,o))return s}}(n,i,r,e),a=s?Object.values(n.signatures)[0]:n;return o>=1&&o<=3?function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return Ite(a,c.slice(0,o),t,n.name)}:function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return Ite(a,c,t,n.name)}}return n}function Ite(n,e,t,r){try{return n(...e)}catch(i){!function JHe(n,e,t,r){var i;if(n instanceof TypeError&&"wrongType"===(null===(i=n.data)||void 0===i?void 0:i.category)){var s=[];throw s.push("value: ".concat($s(e[0]))),e.length>=2&&s.push("index: ".concat($s(e[1]))),e.length>=3&&s.push("array: ".concat($s(e[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(r,"(").concat(s.join(", "),") at index ").concat(JSON.stringify(e[1])))}throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(r,": ").concat(n.message))}(i,e,t,r)}}var Fte=ye("filter",["typed"],n=>{var{typed:e}=n;return e("filter",{"Array, function":Rte,"Matrix, function":function(r,i){return r.create(Rte(r.valueOf(),i),r.datatype())},"Array, RegExp":ite,"Matrix, RegExp":function(r,i){return r.create(ite(r.valueOf(),i),r.datatype())}})});function Rte(n,e){var t=U0(e,n,"filter");return function Y5e(n,e){if(1!==xr(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,e)}(n,function(r,i,s){return t(r,[i],s)})}function QH(n,e,t){var r=n.filter(function(l){return Al(l)&&!(l.name in e)&&!t.has(l.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+n+'"');var i=r.name,s=new Map,o=new Ree(t,s,new Set([i])),a=n.compile();return function(c){return s.set(i,c),a.evaluate(o)}}var zH=ye("transformCallback",["typed"],n=>{var{typed:e}=n;return function(r,i){return e.isTypedFunction(r)?t(r,i):Ote(r,r.length,i)};function t(r,i){var s=Object.fromEntries(Object.entries(r.signatures).map(o=>{var[a,l]=o,c=a.split(",").length;return e.isTypedFunction(l)?[a,t(l,i)]:[a,Ote(l,c,i)]}));return"string"==typeof r.name?e(r.name,s):e(s)}});function Ote(n,e,t){return e===t?n:e===t+1?function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.slice(0,t),a=Pte(i[t]);return n(...o,a)}:e>t+1?function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.slice(0,t),a=Pte(i[t]),l=i.slice(t+1);return n(...o,a,...l)}:n}function Pte(n){return n.map(e=>e+1)}var s8e=ye("filter",["typed"],n=>{var{typed:e}=n;function t(i,s,o){var a=Fte({typed:e}),l=zH({typed:e});if(0===i.length)return a();var c=i[0];if(1===i.length)return a(c);var u=i.length-1,h=i[u];return c&&(c=r(c,o)),h&&(h=Al(h)||Wx(h)?r(h,o):QH(h,s,o)),a(c,l(h,u))}function r(i,s){return i.compile().evaluate(s)}return t.rawArgs=!0,t},{isTransformFunction:!0}),GH="forEach",Lte=ye(GH,["typed"],n=>{var{typed:e}=n;return e(GH,{"Array, function":a8e,"Matrix, function":function(r,i){r.forEach(i)}})});function a8e(n,e){OH(n,[],n,U0(e,n,GH))}var u8e=ye("forEach",["typed"],n=>{var{typed:e}=n,t=Lte({typed:e}),r=zH({typed:e});function i(o,a,l){if(0===o.length)return t();var c=o[0];if(1===o.length)return t(c);var u=o.length-1,h=o[u];return c&&(c=s(c,l)),h&&(h=Al(h)||Wx(h)?s(h,l):QH(h,a,l)),t(c,r(h,u))}function s(o,a){return o.compile().evaluate(a)}return i.rawArgs=!0,i},{isTransformFunction:!0}),Ute=ye("map",["typed"],n=>{var{typed:e}=n;return e("map",{"Array, function":r,"Matrix, function":function(s,o){return s.map(o)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,s,o)=>function t(i,s){if("function"!=typeof s)throw new Error("Last argument must be a callback function");var u,o=i[0].isMatrix,a=lI(...i.map(_=>_.isMatrix?_.size():xr(_))),l=o?(_,C)=>_.get(C):RH,c=i.map(o?_=>_.isMatrix?_.create(ym(_.toArray(),a),_.datatype()):i[0].create(ym(_.valueOf(),a)):_=>ym(_.isMatrix?_.toArray():_,a));if(e.isTypedFunction(s)){var h=a.map(()=>0),d=c.map(_=>l(_,h)),f=function v(_,C,b,M){return null!==e.resolve(_,[...C,b,...M])?2:null!==e.resolve(_,[...C,b])?1:(e.resolve(_,C),0)}(s,d,h,c);u=g(f)}else{var p=function y(_,C){return _.length>C+1?2:_.length===C+1?1:0}(s,i.length);u=g(p)}var m=(_,C)=>u([_,...c.slice(1).map(b=>l(b,C))],C);return o?c[0].map(m):r(c[0],m);function g(_){switch(_){case 0:return C=>s(...C);case 1:return(C,b)=>s(...C,b);case 2:return(C,b)=>s(...C,b,...c)}}}([i,s,...o.slice(0,o.length-1)],o[o.length-1])});function r(i,s){return OH(i,[],i,U0(s,i,"map"))}}),A8e=ye("map",["typed"],n=>{var{typed:e}=n,t=Ute({typed:e}),r=zH({typed:e});function i(s,o,a){if(0===s.length)return t();if(1===s.length)return t(s[0]);var l=s.length-1,c=s.slice(0,l),u=s[l];return c=c.map(d=>h(d,a)),u&&(u=Al(u)||Wx(u)?h(u,a):QH(u,o,a)),t(...c,r(u,l));function h(d,f){return d.compile().evaluate(f)}}return i.rawArgs=!0,i},{isTransformFunction:!0}),qH=ye("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n;return e("apply",{"Array | Matrix, number | BigNumber, function":function(i,s,o){if(!t(s))throw new TypeError("Integer number expected for dimension");var a=Array.isArray(i)?xr(i):i.size();if(s<0||s>=a.length)throw new id(s,a.length);return ur(i)?i.create(DI(i.valueOf(),s,o),i.datatype()):DI(i,s,o)}})});function DI(n,e,t){var r,i,s;if(e<=0){if(Array.isArray(n[0])){for(s=function g8e(n){var r,i,e=n.length,t=n[0].length,s=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);s.push(o)}return s}(n),i=[],r=0;r<s.length;r++)i[r]=DI(s[r],e-1,t);return i}return t(n)}for(i=[],r=0;r<n.length;r++)i[r]=DI(n[r],e-1,t);return i}var y8e=ye("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n,r=qH({typed:e,isInteger:t});return e("apply",{"...any":function(s){var o=s[1];Hr(o)?s[1]=o-1:Vr(o)&&(s[1]=o.minus(1));try{return r.apply(null,s)}catch(a){throw Wc(a)}}})},{isTransformFunction:!0}),$c=ye("matAlgo03xDSf",["typed"],n=>{var{typed:e}=n;return function(r,i,s,o){var a=r._data,l=r._size,c=r._datatype||r.getDataType(),u=i._values,h=i._index,d=i._ptr,f=i._size,A=i._datatype||void 0===i._data?i._datatype:i.getDataType();if(l.length!==f.length)throw new ii(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,p=l[0],m=l[1],y=0,v=s;"string"==typeof c&&c===A&&"mixed"!==c&&(y=e.convert(0,g=c),v=e.find(s,[g,g]));for(var _=[],C=0;C<p;C++)_[C]=[];for(var b=[],M=[],D=0;D<m;D++){for(var x=D+1,B=d[D+1],R=d[D];R<B;R++){var U=h[R];b[U]=o?v(u[R],a[U][D]):v(a[U][D],u[R]),M[U]=x}for(var k=0;k<p;k++)_[k][D]=M[k]===x?b[k]:o?v(y,a[k][D]):v(a[k][D],y)}return r.createDenseMatrix({data:_,size:[p,m],datatype:c===r._datatype&&A===i._datatype?g:void 0})}}),Ya=ye("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,h=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=h[0],A=h[1],m=o;"string"==typeof d&&(s=e.convert(s,p=d),m=e.find(o,[p,p]));for(var g=[],y=[],v=[],_=0;_<A;_++){for(var C=_+1,M=u[_+1],D=u[_];D<M;D++){var x=c[D];y[x]=l[D],v[x]=C}for(var T=0;T<f;T++)0===_&&(g[T]=[]),g[T][_]=v[T]===C?a?m(s,y[T]):m(y[T],s):a?m(s,0):m(0,s)}return new t({data:g,size:[f,A],datatype:p})}}),MI=ye("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ii(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var k,q,O,P,M=a&&d?[]:void 0,D=[],x=[],T=M?[]:void 0,B=M?[]:void 0,R=[],U=[];for(q=0;q<y;q++){x[q]=D.length;var G=q+1;for(O=c[q],P=c[q+1];O<P;O++)D.push(k=l[O]),R[k]=G,T&&(T[k]=a[O]);for(O=A[q],P=A[q+1];O<P;O++)R[k=f[O]]!==G&&D.push(k),U[k]=G,B&&(B[k]=d[O]);if(M)for(O=x[q];O<D.length;){var H=R[k=D[O]],ae=U[k];if(H===G||ae===G){var j=b(H===G?T[k]:C,ae===G?B[k]:C);_(j,C)?D.splice(O,1):(M.push(j),O++)}}}return x[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:x,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),M8e=ye("matAlgo13xDD",["typed"],n=>{var{typed:e}=n;return function(i,s,o){var a=i._data,l=i._size,c=i._datatype,u=s._data,h=s._size,d=s._datatype,f=[];if(l.length!==h.length)throw new ii(l.length,h.length);for(var A=0;A<l.length;A++){if(l[A]!==h[A])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");f[A]=l[A]}var p,m=o;"string"==typeof c&&c===d&&(m=e.find(o,[p=c,p]));var g=f.length>0?t(m,0,f,f[0],a,u):[];return i.createDenseMatrix({data:g,size:f,datatype:p})};function t(r,i,s,o,a,l){var c=[];if(i===s.length-1)for(var u=0;u<o;u++)c[u]=r(a[u],l[u]);else for(var h=0;h<o;h++)c[h]=t(r,i+1,s,s[i+1],a[h],l[h]);return c}}),od=ye("matAlgo14xDs",["typed"],n=>{var{typed:e}=n;return function(i,s,o,a){var h,l=i._data,c=i._size,u=i._datatype,d=o;"string"==typeof u&&(s=e.convert(s,h=u),d=e.find(o,[h,h]));var f=c.length>0?t(d,0,c,c[0],l,s,a):[];return i.createDenseMatrix({data:f,size:Fr(c),datatype:h})};function t(r,i,s,o,a,l,c){var u=[];if(i===s.length-1)for(var h=0;h<o;h++)u[h]=c?r(l,a[h]):r(a[h],l);else for(var d=0;d<o;d++)u[d]=t(r,i+1,s,s[i+1],a[d],l,c);return u}});function pl(n,e){if(Cp(n.size(),e.size()))return[n,e];var t=lI(n.size(),e.size());return[n,e].map(r=>function N8e(n,e){return Cp(n.size(),e)?n:n.create(ym(n.valueOf(),e),n.datatype())}(r,t))}var Xs=ye("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:e,matrix:t}=n,r=M8e({typed:e}),i=od({typed:e});return function(o){var c,a=o.elop,l=o.SD||o.DS;a?(c={"DenseMatrix, DenseMatrix":(f,A)=>r(...pl(f,A),a),"Array, Array":(f,A)=>r(...pl(t(f),t(A)),a).valueOf(),"Array, DenseMatrix":(f,A)=>r(...pl(t(f),A),a),"DenseMatrix, Array":(f,A)=>r(...pl(f,t(A)),a)},o.SS&&(c["SparseMatrix, SparseMatrix"]=(f,A)=>o.SS(...pl(f,A),a,!1)),o.DS&&(c["DenseMatrix, SparseMatrix"]=(f,A)=>o.DS(...pl(f,A),a,!1),c["Array, SparseMatrix"]=(f,A)=>o.DS(...pl(t(f),A),a,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(f,A)=>l(...pl(A,f),a,!0),c["SparseMatrix, Array"]=(f,A)=>l(...pl(t(A),f),a,!0))):(c={"DenseMatrix, DenseMatrix":e.referToSelf(f=>(A,p)=>r(...pl(A,p),f)),"Array, Array":e.referToSelf(f=>(A,p)=>r(...pl(t(A),t(p)),f).valueOf()),"Array, DenseMatrix":e.referToSelf(f=>(A,p)=>r(...pl(t(A),p),f)),"DenseMatrix, Array":e.referToSelf(f=>(A,p)=>r(...pl(A,t(p)),f))},o.SS&&(c["SparseMatrix, SparseMatrix"]=e.referToSelf(f=>(A,p)=>o.SS(...pl(A,p),f,!1))),o.DS&&(c["DenseMatrix, SparseMatrix"]=e.referToSelf(f=>(A,p)=>o.DS(...pl(A,p),f,!1)),c["Array, SparseMatrix"]=e.referToSelf(f=>(A,p)=>o.DS(...pl(t(A),p),f,!1))),l&&(c["SparseMatrix, DenseMatrix"]=e.referToSelf(f=>(A,p)=>l(...pl(p,A),f,!0)),c["SparseMatrix, Array"]=e.referToSelf(f=>(A,p)=>l(...pl(t(p),A),f,!0))));var u=o.scalar||"any";(o.Ds||o.Ss)&&(a?(c["DenseMatrix,"+u]=(f,A)=>i(f,A,a,!1),c[u+", DenseMatrix"]=(f,A)=>i(A,f,a,!0),c["Array,"+u]=(f,A)=>i(t(f),A,a,!1).valueOf(),c[u+", Array"]=(f,A)=>i(t(A),f,a,!0).valueOf()):(c["DenseMatrix,"+u]=e.referToSelf(f=>(A,p)=>i(A,p,f,!1)),c[u+", DenseMatrix"]=e.referToSelf(f=>(A,p)=>i(p,A,f,!0)),c["Array,"+u]=e.referToSelf(f=>(A,p)=>i(t(A),p,f,!1).valueOf()),c[u+", Array"]=e.referToSelf(f=>(A,p)=>i(t(p),A,f,!0).valueOf())));var d=void 0!==o.sS?o.sS:o.Ss;return a?(o.Ss&&(c["SparseMatrix,"+u]=(f,A)=>o.Ss(f,A,a,!1)),d&&(c[u+", SparseMatrix"]=(f,A)=>d(A,f,a,!0))):(o.Ss&&(c["SparseMatrix,"+u]=e.referToSelf(f=>(A,p)=>o.Ss(A,p,f,!1))),d&&(c[u+", SparseMatrix"]=e.referToSelf(f=>(A,p)=>d(p,A,f,!0)))),a&&a.signatures&&Tee(c,a.signatures),c}}),WH="number, number";function Hte(n){return!n}function $H(n,e){return!(!n&&!e)}function KH(n,e){return!!n!=!!e}function XH(n,e){return!(!n||!e)}Hte.signature="number",$H.signature=WH,KH.signature=WH,XH.signature=WH;var Qte=ye("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=$c({typed:e}),a=MI({typed:e,equalScalar:r}),l=Ya({typed:e,DenseMatrix:i}),c=Xs({typed:e,matrix:t,concat:s});return e("or",{"number, number":$H,"Complex, Complex":function(h,d){return 0!==h.re||0!==h.im||0!==d.re||0!==d.im},"BigNumber, BigNumber":function(h,d){return!h.isZero()&&!h.isNaN()||!d.isZero()&&!d.isNaN()},"bigint, bigint":$H,"Unit, Unit":e.referToSelf(u=>(h,d)=>u(h.value||0,d.value||0))},c({SS:a,DS:o,Ss:l}))}),U8e=ye("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=Qte({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s});function a(l,c,u){var h=l[0].compile().evaluate(u);if(!$h(h)&&o(h,!1))return!0;var d=l[1].compile().evaluate(u);return o(h,d)}return a.rawArgs=!0,a},{isTransformFunction:!0}),ad=ye("matAlgo02xDS0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o,a){var l=i._data,c=i._size,u=i._datatype||i.getDataType(),h=s._values,d=s._index,f=s._ptr,A=s._size,p=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(c.length!==A.length)throw new ii(c.length,A.length);if(c[0]!==A[0]||c[1]!==A[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+A+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,m=c[0],g=c[1],v=t,_=0,C=o;"string"==typeof u&&u===p&&"mixed"!==u&&(v=e.find(t,[y=u,y]),_=e.convert(0,y),C=e.find(o,[y,y]));for(var b=[],M=[],D=[],x=0;x<g;x++){D[x]=M.length;for(var B=f[x+1],R=f[x];R<B;R++){var U=d[R],k=a?C(h[R],l[U][x]):C(l[U][x],h[R]);v(k,_)||(M.push(U),b.push(k))}}return D[g]=M.length,s.createSparseMatrix({values:b,index:M,ptr:D,size:[m,g],datatype:u===i._datatype&&p===s._datatype?y:void 0})}}),Ll=ye("matAlgo11xS0s",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,h=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=h[0],A=h[1],m=t,g=0,y=o;"string"==typeof d&&(m=e.find(t,[p=d,p]),g=e.convert(0,p),s=e.convert(s,p),y=e.find(o,[p,p]));for(var v=[],_=[],C=[],b=0;b<A;b++){C[b]=_.length;for(var D=u[b+1],x=u[b];x<D;x++){var T=c[x],B=a?y(s,l[x]):y(l[x],s);m(B,g)||(_.push(T),v.push(B))}}return C[A]=_.length,i.createSparseMatrix({values:v,index:_,ptr:C,size:[f,A],datatype:p})}}),TI=ye("matAlgo06xS0S0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._size,c=i._datatype||void 0===i._data?i._datatype:i.getDataType(),u=s._values,h=s._size,d=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(l.length!==h.length)throw new ii(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var p,f=l[0],A=l[1],m=t,g=0,y=o;"string"==typeof c&&c===d&&"mixed"!==c&&(m=e.find(t,[p=c,p]),g=e.convert(0,p),y=e.find(o,[p,p]));for(var v=a&&u?[]:void 0,_=[],C=[],b=v?[]:void 0,M=[],D=[],x=0;x<A;x++){C[x]=_.length;var T=x+1;if(pte(i,x,M,b,D,T,_,y),pte(s,x,M,b,D,T,_,y),b)for(var B=C[x];B<_.length;){var R=_[B];if(D[R]===T){var U=b[R];m(U,g)?_.splice(B,1):(v.push(U),B++)}else _.splice(B,1)}else for(var k=C[x];k<_.length;)D[_[k]]!==T?_.splice(k,1):k++}return C[A]=_.length,i.createSparseMatrix({values:v,index:_,ptr:C,size:[f,A],datatype:c===i._datatype&&d===s._datatype?p:void 0})}}),Gte=ye("and",["typed","matrix","equalScalar","zeros","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=ad({typed:e,equalScalar:r}),l=TI({typed:e,equalScalar:r}),c=Ll({typed:e,equalScalar:r}),u=od({typed:e}),h=Xs({typed:e,matrix:t,concat:o});return e("and",{"number, number":XH,"Complex, Complex":function(f,A){return!(0===f.re&&0===f.im||0===A.re&&0===A.im)},"BigNumber, BigNumber":function(f,A){return!(f.isZero()||A.isZero()||f.isNaN()||A.isNaN())},"bigint, bigint":XH,"Unit, Unit":e.referToSelf(d=>(f,A)=>d(f.value||0,A.value||0)),"SparseMatrix, any":e.referToSelf(d=>(f,A)=>s(A)?i(f.size(),f.storage()):c(f,A,d,!1)),"DenseMatrix, any":e.referToSelf(d=>(f,A)=>s(A)?i(f.size(),f.storage()):u(f,A,d,!1)),"any, SparseMatrix":e.referToSelf(d=>(f,A)=>s(f)?i(f.size(),f.storage()):c(A,f,d,!0)),"any, DenseMatrix":e.referToSelf(d=>(f,A)=>s(f)?i(f.size(),f.storage()):u(A,f,d,!0)),"Array, any":e.referToSelf(d=>(f,A)=>d(t(f),A).valueOf()),"any, Array":e.referToSelf(d=>(f,A)=>d(f,t(A)).valueOf())},h({SS:l,DS:a}))}),$8e=ye("and",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=Gte({typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o});function l(c,u,h){var d=c[0].compile().evaluate(h);if(!$h(d)&&!a(d,!0))return!1;var f=c[1].compile().evaluate(h);return a(d,f)}return l.rawArgs=!0,l},{isTransformFunction:!0}),qte=ye("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:r}=n;return e("concat",{"...Array | Matrix | number | BigNumber":function(s){var o,c,a=s.length,l=-1,u=!1,h=[];for(o=0;o<a;o++){var d=s[o];if(ur(d)&&(u=!0),Hr(d)||Vr(d)){if(o!==a-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=d.valueOf(),!r(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>c)throw new id(l,c+1)}else{var f=Fr(d).valueOf(),A=xr(f);if(h[o]=f,c=l,l=A.length-1,o>0&&l!==c)throw new ii(c+1,l+1)}}if(0===h.length)throw new SyntaxError("At least one matrix expected");for(var p=h.shift();h.length;)p=ate(p,h.shift(),l);return u?t(p):p},"...string":function(s){return s.join("")}})}),J8e=ye("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:r}=n,i=qte({typed:e,matrix:t,isInteger:r});return e("concat",{"...any":function(o){var a=o.length-1,l=o[a];Hr(l)?o[a]=l-1:Vr(l)&&(o[a]=l.minus(1));try{return i.apply(null,o)}catch(c){throw Wc(c)}}})},{isTransformFunction:!0});function Kc(n,e,t){var r;return String(n).includes("Unexpected type")?(r=arguments.length>2?" (type: "+$s(t)+", value: "+JSON.stringify(t)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):String(n).includes("complex numbers")?(r=arguments.length>2?" (type: "+$s(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):n}var $te=ye("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:r,larger:i}=n;return e("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return CI(l,c.valueOf(),s)},"...":function(l){if(vb(l))throw new TypeError("Scalar values expected in function max");return o(l)}});function s(a,l){try{return i(a,l)?a:l}catch(c){throw Kc(c,"max",l)}}function o(a){var l;if(Ep(a,function(c){try{isNaN(c)&&"number"==typeof c?l=NaN:(void 0===l||i(c,l))&&(l=c)}catch(u){throw Kc(u,"max",c)}}),void 0===l)throw new Error("Cannot calculate max of an empty array");return"string"==typeof l&&(l=r(l,gm(l,t))),l}});function _m(n){if(2===n.length&&$h(n[0])){var e=(n=n.slice())[1];(function t6e(n){return Hr(n)||Vr(n)})(e)&&(n[1]=function e6e(n){return Hr(n)?n-1:Vr(n)?n.minus(1):n}(e))}return n}var i6e=ye("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:r,larger:i}=n,s=$te({typed:e,config:t,numeric:r,larger:i});return e("max",{"...any":function(a){a=_m(a);try{return s.apply(null,a)}catch(l){throw Wc(l)}}})},{isTransformFunction:!0}),Kte=/\$([\w.]+)/g,Yte=ye("print",["typed"],n=>{var{typed:e}=n;return e("print",{"string, Object | Array":Jte,"string, Object | Array, number | Object":Jte})});function Jte(n,e,t){return n.replace(Kte,function(r,i){var s=i.split("."),o=e[s.shift()];for(void 0!==o&&o.isMatrix&&(o=o.toArray());s.length&&void 0!==o;){var a=s.shift();o=a?o[a]:o+"."}return void 0!==o?fc(o)?o:ri(o,t):r})}var a6e=ye("print",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,s=Yte({typed:e,matrix:t,zeros:r,add:i});return e("print",{"string, Object | Array":function(l,c){return s(o(l),c)},"string, Object | Array, number | Object":function(l,c,u){return s(o(l),c,u)}});function o(a){return a.replace(Kte,l=>"$"+l.slice(1).split(".").map(function(h){return!isNaN(h)&&h.length>0?parseInt(h)-1:h}).join("."))}},{isTransformFunction:!0});function l6e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero()||e.eq(-1)||n.eq(e))return n;if(e.isZero()||n.eq(-1))return e;if(!n.isFinite()||!e.isFinite()){if(!n.isFinite()&&!e.isFinite())return n.isNegative()===e.isNegative()?n:new t(0);if(!n.isFinite())return e.isNegative()?n:n.isNegative()?new t(0):e;if(!e.isFinite())return n.isNegative()?e:e.isNegative()?new t(0):n}return YH(n,e,function(r,i){return r&i})}function Jx(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var e=n.constructor,t=e.precision;e.config({precision:1e9});var r=n.plus(new e(1));return r.s=-r.s||null,e.config({precision:t}),r}function c6e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);var r=new t(-1);return n.isZero()||e.eq(r)||n.eq(e)?e:e.isZero()||n.eq(r)?n:n.isFinite()&&e.isFinite()?YH(n,e,function(i,s){return i|s}):!n.isFinite()&&!n.isNegative()&&e.isNegative()||n.isNegative()&&!e.isNegative()&&!e.isFinite()?r:n.isNegative()&&e.isNegative()?n.isFinite()?n:e:n.isFinite()?e:n}function YH(n,e,t){var i,s,u,h,d,r=n.constructor,o=+(n.s<0),a=+(e.s<0);if(o){i=BI(Jx(n));for(var l=0;l<i.length;++l)i[l]^=1}else i=BI(n);if(a){s=BI(Jx(e));for(var c=0;c<s.length;++c)s[c]^=1}else s=BI(e);i.length<=s.length?(u=i,h=s,d=o):(u=s,h=i,d=a);var f=u.length,A=h.length,p=1^t(o,a),m=new r(1^p),g=new r(1),y=new r(2),v=r.precision;for(r.config({precision:1e9});f>0;)t(u[--f],h[--A])===p&&(m=m.plus(g)),g=g.times(y);for(;A>0;)t(d,h[--A])===p&&(m=m.plus(g)),g=g.times(y);return r.config({precision:v}),0===p&&(m.s=-m.s),m}function BI(n){for(var e=n.d,t=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",s=7-i.length;s--;)i="0"+i;t+=i}for(var o=t.length;"0"===t.charAt(o);)o--;var a=n.e,l=t.slice(0,o+1||1),c=l.length;if(a>0)if(++a>c)for(a-=c;a--;)l+="0";else a<c&&(l=l.slice(0,a)+"."+l.slice(a));for(var u=[0],h=0;h<l.length;){for(var d=u.length;d--;)u[d]*=10;u[0]+=parseInt(l.charAt(h++));for(var f=0;f<u.length;++f)u[f]>1&&(null==u[f+1]&&(u[f+1]=0),u[f+1]+=u[f]>>1,u[f]&=1)}return u.reverse()}function u6e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero())return e;if(e.isZero())return n;if(n.eq(e))return new t(0);var r=new t(-1);return n.eq(r)?Jx(e):e.eq(r)?Jx(n):n.isFinite()&&e.isFinite()?YH(n,e,function(i,s){return i^s}):n.isFinite()||e.isFinite()?new t(n.isNegative()===e.isNegative()?1/0:-1/0):r}function h6e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:n.isFinite()||e.isFinite()?e.lt(55)?n.times(Math.pow(2,e.toNumber())+""):n.times(new t(2).pow(e)):new t(NaN)}function f6e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:e.isFinite()?e.lt(55)?n.div(Math.pow(2,e.toNumber())+"").floor():n.div(new t(2).pow(e)).floor():n.isNegative()?new t(-1):n.isFinite()?new t(0):new t(NaN)}var yb="number, number";function ene(n,e){if(!Kn(n)||!Kn(e))throw new Error("Integers expected in function bitAnd");return n&e}function tne(n){if(!Kn(n))throw new Error("Integer expected in function bitNot");return~n}function nne(n,e){if(!Kn(n)||!Kn(e))throw new Error("Integers expected in function bitOr");return n|e}function rne(n,e){if(!Kn(n)||!Kn(e))throw new Error("Integers expected in function bitXor");return n^e}function ine(n,e){if(!Kn(n)||!Kn(e))throw new Error("Integers expected in function leftShift");return n<<e}function sne(n,e){if(!Kn(n)||!Kn(e))throw new Error("Integers expected in function rightArithShift");return n>>e}function one(n,e){if(!Kn(n)||!Kn(e))throw new Error("Integers expected in function rightLogShift");return n>>>e}ene.signature=yb,tne.signature="number",nne.signature=yb,rne.signature=yb,ine.signature=yb,sne.signature=yb,one.signature=yb;var lne=ye("bitAnd",["typed","matrix","equalScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,s=ad({typed:e,equalScalar:r}),o=TI({typed:e,equalScalar:r}),a=Ll({typed:e,equalScalar:r});return e("bitAnd",{"number, number":ene,"BigNumber, BigNumber":l6e,"bigint, bigint":(c,u)=>c&u},Xs({typed:e,matrix:t,concat:i})({SS:o,DS:s,Ss:a}))}),m6e=ye("bitAnd",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=lne({typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o});function l(c,u,h){var d=c[0].compile().evaluate(h);if(!$h(d)){if(isNaN(d))return NaN;if(0===d||!1===d)return 0}var f=c[1].compile().evaluate(h);return a(d,f)}return l.rawArgs=!0,l},{isTransformFunction:!0}),une=ye("diff",["typed","matrix","subtract","number"],n=>{var{typed:e,matrix:t,subtract:r,number:i}=n;return e("diff",{"Array | Matrix":function(u){return ur(u)?t(o(u.toArray())):o(u)},"Array | Matrix, number":function(u,h){if(!Kn(h))throw new RangeError("Dimension must be a whole number");return ur(u)?t(s(u.toArray(),h)):s(u,h)},"Array, BigNumber":e.referTo("Array,number",c=>(u,h)=>c(u,i(h))),"Matrix, BigNumber":e.referTo("Matrix,number",c=>(u,h)=>c(u,i(h)))});function s(c,u){if(ur(c)&&(c=c.toArray()),!Array.isArray(c))throw RangeError("Array/Matrix does not have that many dimensions");if(u>0){var h=[];return c.forEach(d=>{h.push(s(d,u-1))}),h}if(0===u)return o(c);throw RangeError("Cannot have negative dimension")}function o(c){for(var u=[],h=c.length,d=1;d<h;d++)u.push(a(c[d-1],c[d]));return u}function a(c,u){ur(c)&&(c=c.toArray()),ur(u)&&(u=u.toArray());var h=Array.isArray(c),d=Array.isArray(u);if(h&&d)return function l(c,u){if(c.length!==u.length)throw RangeError("Not all sub-arrays have the same length");for(var h=[],d=c.length,f=0;f<d;f++)h.push(a(c[f],u[f]));return h}(c,u);if(!h&&!d)return r(u,c);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}),_6e=ye("diff",["typed","matrix","subtract","number","bignumber"],n=>{var{typed:e,matrix:t,subtract:r,number:i,bignumber:s}=n,o=une({typed:e,matrix:t,subtract:r,number:i,bignumber:s});return e("diff",{"...any":function(l){l=_m(l);try{return o.apply(null,l)}catch(c){throw Wc(c)}}})},{isTransformFunction:!0}),dne=ye("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:r,smaller:i}=n;return e("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return CI(l,c.valueOf(),s)},"...":function(l){if(vb(l))throw new TypeError("Scalar values expected in function min");return o(l)}});function s(a,l){try{return i(a,l)?a:l}catch(c){throw Kc(c,"min",l)}}function o(a){var l;if(Ep(a,function(c){try{isNaN(c)&&"number"==typeof c?l=NaN:(void 0===l||i(c,l))&&(l=c)}catch(u){throw Kc(u,"min",c)}}),void 0===l)throw new Error("Cannot calculate min of an empty array");return"string"==typeof l&&(l=r(l,gm(l,t))),l}}),S6e=ye("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:r,smaller:i}=n,s=dne({typed:e,config:t,numeric:r,smaller:i});return e("min",{"...any":function(a){a=_m(a);try{return s.apply(null,a)}catch(l){throw Wc(l)}}})},{isTransformFunction:!0}),pne=ye("subset",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n;return e("subset",{"Matrix, Index":function(a,l){return pb(l)?t():(iI(a,l),a.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(a,l){var c=o(t(a),l);return l.isScalar()?c:c.valueOf()}}),"Object, Index":D6e,"string, Index":E6e,"Matrix, Index, any, any":function(a,l,c,u){return pb(l)?a:(iI(a,l),a.clone().subset(l,function s(o,a){if("string"==typeof o)throw new Error("can't boradcast a string");if(a._isScalar)return o;var l=a.size();if(!l.every(c=>c>0))return o;try{return i(o,r(l))}catch{return o}}(c,l),u))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c,u){var h=o(t(a),l,c,u);return h.isMatrix?h.valueOf():h}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c){return o(t(a),l,c,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c){return o(a,l,c,void 0)}}),"string, Index, string":gne,"string, Index, string, string":gne,"Object, Index, any":M6e})});function E6e(n,e){if(!eI(e))throw new TypeError("Index expected");if(pb(e))return"";if(iI(Array.from(n),e),1!==e.size().length)throw new ii(e.size().length,1);var t=n.length;Ks(e.min()[0],t),Ks(e.max()[0],t);var r=e.dimension(0),i="";return r.forEach(function(s){i+=n.charAt(s)}),i}function gne(n,e,t,r){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(pb(e))return n;if(iI(Array.from(n),e),1!==e.size().length)throw new ii(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0);if(i.size()[0]!==t.length)throw new ii(i.size()[0],t.length);var o=n.length;Ks(e.min()[0]),Ks(e.max()[0]);for(var a=[],l=0;l<o;l++)a[l]=n.charAt(l);if(i.forEach(function(h,d){a[h]=t.charAt(d[0])}),a.length>o)for(var c=o-1,u=a.length;c<u;c++)a[c]||(a[c]=r);return a.join("")}function D6e(n,e){if(!pb(e)){if(1!==e.size().length)throw new ii(e.size(),1);var t=e.dimension(0);if("string"!=typeof t)throw new TypeError("String expected as index to retrieve an object property");return qc(n,t)}}function M6e(n,e,t){if(pb(e))return n;if(1!==e.size().length)throw new ii(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=Fr(n);return cb(i,r,t),i}var kne,Dp,N6e=ye("subset",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,s=pne({typed:e,matrix:t,zeros:r,add:i});return e("subset",{"...any":function(a){try{return s.apply(null,a)}catch(l){throw Wc(l)}}})},{isTransformFunction:!0}),k0=ye("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,h=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=h[0],A=h[1],m=o;"string"==typeof d&&(s=e.convert(s,p=d),m=e.find(o,[p,p]));for(var g=[],y=[],v=[],_=0;_<A;_++){for(var C=_+1,M=u[_+1],D=u[_];D<M;D++){var x=c[D];y[x]=l[D],v[x]=C}for(var T=0;T<f;T++)0===_&&(g[T]=[]),g[T][_]=v[T]===C?a?m(s,y[T]):m(y[T],s):s}return new t({data:g,size:[f,A],datatype:p})}}),JH=ye("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ii(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var k,q,O,G,M=a&&d?[]:void 0,D=[],x=[],T=a&&d?[]:void 0,B=a&&d?[]:void 0,R=[],U=[];for(q=0;q<y;q++){x[q]=D.length;var H=q+1;for(G=c[q+1],O=c[q];O<G;O++)D.push(k=l[O]),R[k]=H,T&&(T[k]=a[O]);for(G=A[q+1],O=A[q];O<G;O++)if(R[k=f[O]]===H){if(T){var ae=b(T[k],d[O]);_(ae,C)?R[k]=null:T[k]=ae}}else D.push(k),U[k]=H,B&&(B[k]=d[O]);if(T&&B)for(O=x[q];O<D.length;)R[k=D[O]]===H?(M[O]=T[k],O++):U[k]===H?(M[O]=B[k],O++):D.splice(O,1)}return x[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:x,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),bm=ye("matAlgo01xDSid",["typed"],n=>{var{typed:e}=n;return function(r,i,s,o){var a=r._data,l=r._size,c=r._datatype||r.getDataType(),u=i._values,h=i._index,d=i._ptr,f=i._size,A=i._datatype||void 0===i._data?i._datatype:i.getDataType();if(l.length!==f.length)throw new ii(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v,_,p=l[0],m=l[1],g="string"==typeof c&&"mixed"!==c&&c===A?c:void 0,y=g?e.find(s,[g,g]):s,C=[];for(v=0;v<p;v++)C[v]=[];var b=[],M=[];for(_=0;_<m;_++){for(var D=_+1,T=d[_+1],B=d[_];B<T;B++)b[v=h[B]]=o?y(u[B],a[v][_]):y(a[v][_],u[B]),M[v]=D;for(v=0;v<p;v++)C[v][_]=M[v]===D?b[v]:a[v][_]}return r.createDenseMatrix({data:C,size:[p,m],datatype:c===r._datatype&&A===i._datatype?g:void 0})}}),vne=ye("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=bm({typed:e}),a=JH({typed:e,equalScalar:r}),l=k0({typed:e,DenseMatrix:i});return e("bitOr",{"number, number":nne,"BigNumber, BigNumber":c6e,"bigint, bigint":(u,h)=>u|h},Xs({typed:e,matrix:t,concat:s})({SS:a,DS:o,Ss:l}))}),V6e=ye("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=vne({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s});function a(l,c,u){var h=l[0].compile().evaluate(u);if(!$h(h)){if(isNaN(h))return NaN;if(-1===h)return-1;if(!0===h)return 1}var d=l[1].compile().evaluate(u);return o(h,d)}return a.rawArgs=!0,a},{isTransformFunction:!0}),NI="cumsum",yne=ye(NI,["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:r}=n;return e(NI,{Array:i,Matrix:function(c){return c.create(i(c.valueOf(),c.datatype()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(c,u){return c.create(o(c.valueOf(),u),c.datatype())},"...":function(c){if(vb(c))throw new TypeError("All values expected to be scalar in function cumsum");return i(c)}});function i(l){try{return s(l)}catch(c){throw Kc(c,NI)}}function s(l){if(0===l.length)return[];for(var c=[r(l[0])],u=1;u<l.length;++u)c.push(t(c[u-1],l[u]));return c}function o(l,c){var u=xr(l);if(c<0||c>=u.length)throw new id(c,u.length);try{return a(l,c)}catch(h){throw Kc(h,NI)}}function a(l,c){var u,h,d;if(c<=0){if(Array.isArray(l[0][0])){for(d=Ate(l),h=[],u=0;u<d.length;u++)h[u]=a(d[u],c-1);return h}return s(l)}for(h=[],u=0;u<l.length;u++)h[u]=a(l[u],c-1);return h}}),G6e=ye("cumsum",["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:r}=n,i=yne({typed:e,add:t,unaryPlus:r});return e("cumsum",{"...any":function(o){if(2===o.length&&$h(o[0])){var a=o[1];Hr(a)?o[1]=a-1:Vr(a)&&(o[1]=a.minus(1))}try{return i.apply(null,o)}catch(l){throw Wc(l)}}})},{isTransformFunction:!0}),W6e=ye("index",["Index","getMatrixDataType"],n=>{var{Index:e,getMatrixDataType:t}=n;return function(){for(var i=[],s=0,o=arguments.length;s<o;s++){var a=arguments[s];if(xH(a))a.start--,a.end-=a.step>0?0:2;else if(a&&!0===a.isSet)a=a.map(function(c){return c-1});else if(Ts(a)||ur(a))"boolean"!==t(a)&&(a=a.map(function(c){return c-1}));else if(Hr(a))a--;else if(Vr(a))a=a.toNumber()-1;else if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[s]=a}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0}),wne=ye("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:r,numeric:i}=n;return e("sum",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function o(a,l){try{return CI(a,l,r)}catch(u){throw Kc(u,"sum")}},"...":function(l){if(vb(l))throw new TypeError("Scalar values expected in function sum");return s(l)}});function s(a){var l;return Ep(a,function(c){try{l=void 0===l?c:r(l,c)}catch(u){throw Kc(u,"sum",c)}}),void 0===l&&(l=i(0,t.number)),"string"==typeof l&&(l=i(l,gm(l,t))),l}}),X6e=ye("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:r,numeric:i}=n,s=wne({typed:e,config:t,add:r,numeric:i});return e("sum",{"...any":function(a){a=_m(a);try{return s.apply(null,a)}catch(l){throw Wc(l)}}})},{isTransformFunction:!0}),xne=ye("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u}=n;return e("range",{string:d,"string, boolean":d,"number, number":function(m,g){return h(f(m,g,1,!1))},"number, number, number":function(m,g,y){return h(f(m,g,y,!1))},"number, number, boolean":function(m,g,y){return h(f(m,g,1,y))},"number, number, number, boolean":function(m,g,y,v){return h(f(m,g,y,v))},"BigNumber, BigNumber":function(m,g){return h(f(m,g,new(0,m.constructor)(1),!1))},"BigNumber, BigNumber, BigNumber":function(m,g,y){return h(f(m,g,y,!1))},"BigNumber, BigNumber, boolean":function(m,g,y){return h(f(m,g,new(0,m.constructor)(1),y))},"BigNumber, BigNumber, BigNumber, boolean":function(m,g,y,v){return h(f(m,g,y,v))},"Unit, Unit, Unit":function(m,g,y){return h(f(m,g,y,!1))},"Unit, Unit, Unit, boolean":function(m,g,y,v){return h(f(m,g,y,v))}});function h(p){return"Matrix"===t.matrix?r?r(p):yte():p}function d(p,m){var g=function A(p){var g=p.split(":").map(function(v){return Number(v)});if(g.some(function(v){return isNaN(v)}))return null;switch(g.length){case 2:return{start:g[0],end:g[1],step:1};case 3:return{start:g[0],end:g[2],step:g[1]};default:return null}}(p);if(!g)throw new SyntaxError('String "'+p+'" is no valid range');return"BigNumber"===t.number?(void 0===i&&VH(),h(f(i(g.start),i(g.end),i(g.step)))):h(f(g.start,g.end,g.step,m))}function f(p,m,g,y){for(var v=[],_=u(g)?y?o:s:y?l:a,C=p;_(C,m);)v.push(C),C=c(C,g);return v}}),eVe=ye("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u}=n,h=xne({typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u});return e("range",{"...any":function(f){return"boolean"!=typeof f[f.length-1]&&f.push(!0),h.apply(null,f)}})},{isTransformFunction:!0}),Dne=ye("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e("row",{"Matrix, number":s,"Array, number":function(a,l){return s(r(Fr(a)),l).valueOf()}});function s(o,a){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");Ks(a,o.size()[0]);var l=i(0,o.size()[1]),c=new t(a,l),u=o.subset(c);return ur(u)?u:r([[u]])}}),iVe=ye("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n,s=Dne({typed:e,Index:t,matrix:r,range:i});return e("row",{"...any":function(a){var l=a.length-1,c=a[l];Hr(c)&&(a[l]=c-1);try{return s.apply(null,a)}catch(u){throw Wc(u)}}})},{isTransformFunction:!0}),Tne=ye("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e("column",{"Matrix, number":s,"Array, number":function(a,l){return s(r(Fr(a)),l).valueOf()}});function s(o,a){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");Ks(a,o.size()[1]);var l=i(0,o.size()[0]),c=new t(l,a),u=o.subset(c);return ur(u)?u:r([[u]])}}),lVe=ye("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n,s=Tne({typed:e,Index:t,matrix:r,range:i});return e("column",{"...any":function(a){var l=a.length-1,c=a[l];Hr(c)&&(a[l]=c-1);try{return s.apply(null,a)}catch(u){throw Wc(u)}}})},{isTransformFunction:!0}),Nne=ye("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:r}=n;return e("mean",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function i(o,a){try{var l=CI(o,a,t),c=Array.isArray(o)?xr(o):o.size();return r(l,c[a])}catch(u){throw Kc(u,"mean")}},"...":function(a){if(vb(a))throw new TypeError("Scalar values expected in function mean");return s(a)}});function s(o){var a,l=0;if(Ep(o,function(c){try{a=void 0===a?c:t(a,c),l++}catch(u){throw Kc(u,"mean",c)}}),0===l)throw new Error("Cannot calculate the mean of an empty array");return r(a,l)}}),fVe=ye("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:r}=n,i=Nne({typed:e,add:t,divide:r});return e("mean",{"...any":function(o){o=_m(o);try{return i.apply(null,o)}catch(a){throw Wc(a)}}})},{isTransformFunction:!0}),Ine="quantileSeq",Fne=ye(Ine,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:h,larger:d}=n,f=qH({typed:e,isInteger:c});return e(Ine,{"Array | Matrix, number | BigNumber":(y,v)=>p(y,v,!1),"Array | Matrix, number | BigNumber, number":(y,v,_)=>A(y,v,!1,_,p),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(y,v,_,C)=>A(y,v,_,C,p),"Array | Matrix, Array | Matrix":(y,v)=>m(y,v,!1),"Array | Matrix, Array | Matrix, number":(y,v,_)=>A(y,v,!1,_,m),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(y,v,_,C)=>A(y,v,_,C,m)});function A(y,v,_,C,b){return f(y,C,M=>b(M,v,_))}function p(y,v,_){var C,b=y.valueOf();if(u(v,0))throw new Error("N/prob must be non-negative");if(h(v,1))return Hr(v)?g(b,v,_):t(g(b,v,_));if(d(v,1)){if(!c(v))throw new Error("N must be a positive integer");if(d(v,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var M=r(v,1);C=[];for(var D=0;u(D,v);D++){var x=s(D+1,M);C.push(g(b,x,_))}return Hr(v)?C:t(C)}}function m(y,v,_){for(var C=y.valueOf(),b=v.valueOf(),M=[],D=0;D<b.length;++D)M.push(g(C,b[D],_));return M}function g(y,v,_){var C=ji(y),b=C.length;if(0===b)throw new Error("Cannot calculate quantile of an empty sequence");var T,B,M=Hr(v)?v*(b-1):v.times(b-1),D=Hr(v)?Math.floor(M):M.floor().toNumber(),x=Hr(v)?M%1:M.minus(D);if(c(M))return _?C[M]:a(C,Hr(v)?M:M.valueOf());if(_)T=C[D],B=C[D+1];else{B=a(C,D+1),T=C[D];for(var R=0;R<D;++R)l(C[R],T)>0&&(T=C[R])}return r(o(T,i(1,x)),o(B,x))}}),gVe=ye("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:h,larger:d}=n,f=Fne({typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:h,larger:d});return e("quantileSeq",{"Array | Matrix, number | BigNumber":f,"Array | Matrix, number | BigNumber, number":(p,m,g)=>f(p,m,A(g)),"Array | Matrix, number | BigNumber, boolean":f,"Array | Matrix, number | BigNumber, boolean, number":(p,m,g,y)=>f(p,m,g,A(y)),"Array | Matrix, Array | Matrix":f,"Array | Matrix, Array | Matrix, number":(p,m,g)=>f(p,m,A(g)),"Array | Matrix, Array | Matrix, boolean":f,"Array | Matrix, Array | Matrix, boolean, number":(p,m,g,y)=>f(p,m,g,A(y))});function A(p){return _m([[],p])[1]}},{isTransformFunction:!0}),ZH="unbiased",One=ye("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a}=n;return e("variance",{"Array | Matrix":function(h){return l(h,ZH)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(h,d){return c(h,d,ZH)},"Array | Matrix, number | BigNumber, string":c,"...":function(h){return l(h,ZH)}});function l(u,h){var d,f=0;if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Ep(u,function(m){try{d=void 0===d?m:t(d,m),f++}catch(g){throw Kc(g,"variance",m)}}),0===f)throw new Error("Cannot calculate variance of an empty array");var A=s(d,f);if(d=void 0,Ep(u,function(m){var g=r(m,A);d=void 0===d?i(g,g):t(d,i(g,g))}),a(d))return d;switch(h){case"uncorrected":return s(d,f);case"biased":return s(d,f+1);case"unbiased":var p=Vr(d)?d.mul(0):0;return 1===f?p:s(d,f-1);default:throw new Error('Unknown normalization "'+h+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(u,h,d){try{if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(u,h,f=>l(f,d))}catch(f){throw Kc(f,"variance")}}}),yVe=ye("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a}=n,l=One({typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a});return e("variance",{"...any":function(u){u=_m(u);try{return l.apply(null,u)}catch(h){throw Wc(h)}}})},{isTransformFunction:!0}),Une=ye("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:r,variance:i}=n;return e("std",{"Array | Matrix":s,"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":s,"Array | Matrix, number | BigNumber, string":s,"...":function(a){return s(a)}});function s(o,a){if(0===o.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return $h(l)?t(l,r):r(l)}catch(c){throw c instanceof TypeError&&c.message.includes(" variance")?new TypeError(c.message.replace(" variance"," std")):c}}}),CVe=ye("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:r,variance:i}=n,s=Une({typed:e,map:t,sqrt:r,variance:i});return e("std",{"...any":function(a){a=_m(a);try{return s.apply(null,a)}catch(l){throw Wc(l)}}})},{isTransformFunction:!0}),_b=9e15,wm=1e9,e8="0123456789abcdef",II="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",FI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",t8={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-_b,maxE:_b,crypto:!1},Pr=!0,RI="[DecimalError] ",Cm=RI+"Invalid argument: ",Hne=RI+"Precision limit exceeded",Vne=RI+"crypto unavailable",Qne="[object Decimal]",dc=Math.floor,Ja=Math.pow,SVe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,xVe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,EVe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,zne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ld=1e7,Ar=7,MVe=II.length-1,n8=FI.length-1,$t={toStringTag:Qne};function Ul(n){var e,t,r,i=n.length-1,s="",o=n[0];if(i>0){for(s+=o,e=1;e<i;e++)(t=Ar-(r=n[e]+"").length)&&(s+=Sm(t)),s+=r;(t=Ar-(r=(o=n[e])+"").length)&&(s+=Sm(t))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}function xu(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Cm+n)}function Zx(n,e,t,r){var i,s,o,a;for(s=n[0];s>=10;s/=10)--e;return--e<0?(e+=Ar,i=0):(i=Math.ceil((e+1)/Ar),e%=Ar),s=Ja(10,Ar-e),a=n[i]%s|0,null==r?e<3?(0==e?a=a/100|0:1==e&&(a=a/10|0),o=t<4&&99999==a||t>3&&49999==a||5e4==a||0==a):o=(t<4&&a+1==s||t>3&&a+1==s/2)&&(n[i+1]/s/100|0)==Ja(10,e-2)-1||(a==s/2||0==a)&&!(n[i+1]/s/100|0):e<4?(0==e?a=a/1e3|0:1==e?a=a/100|0:2==e&&(a=a/10|0),o=(r||t<4)&&9999==a||!r&&t>3&&4999==a):o=((r||t<4)&&a+1==s||!r&&t>3&&a+1==s/2)&&(n[i+1]/s/1e3|0)==Ja(10,e-3)-1,o}function OI(n,e,t){for(var r,s,i=[0],o=0,a=n.length;o<a;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=e8.indexOf(n.charAt(o++)),r=0;r<i.length;r++)i[r]>t-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/t|0,i[r]%=t)}return i.reverse()}$t.absoluteValue=$t.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),tr(n)},$t.ceil=function(){return tr(new this.constructor(this),this.e+1,2)},$t.clampedTo=$t.clamp=function(n,e){var r=this,i=r.constructor;if(n=new i(n),e=new i(e),!n.s||!e.s)return new i(NaN);if(n.gt(e))throw Error(Cm+e);return r.cmp(n)<0?n:r.cmp(e)>0?e:new i(r)},$t.comparedTo=$t.cmp=function(n){var e,t,r,i,s=this,o=s.d,a=(n=new s.constructor(n)).d,l=s.s,c=n.s;if(!o||!a)return l&&c?l!==c?l:o===a?0:!o^l<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?l:a[0]?-c:0;if(l!==c)return l;if(s.e!==n.e)return s.e>n.e^l<0?1:-1;for(e=0,t=(r=o.length)<(i=a.length)?r:i;e<t;++e)if(o[e]!==a[e])return o[e]>a[e]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1},$t.cosine=$t.cos=function(){var n,e,t=this,r=t.constructor;return t.d?t.d[0]?(e=r.rounding,r.precision=(n=r.precision)+Math.max(t.e,t.sd())+Ar,r.rounding=1,t=function TVe(n,e){var t,r,i;if(e.isZero())return e;(r=e.d.length)<32?i=(1/UI(4,t=Math.ceil(r/3))).toString():(t=16,i="2.3283064365386962890625e-10"),n.precision+=t,e=bb(n,1,e.times(i),new n(1));for(var s=t;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return n.precision-=t,e}(r,Kne(r,t)),r.precision=n,r.rounding=e,tr(2==Dp||3==Dp?t.neg():t,n,e,!0)):new r(1):new r(NaN)},$t.cubeRoot=$t.cbrt=function(){var n,e,t,r,i,s,o,a,l,c,u=this,h=u.constructor;if(!u.isFinite()||u.isZero())return new h(u);for(Pr=!1,(s=u.s*Ja(u.s*u,1/3))&&Math.abs(s)!=1/0?r=new h(s.toString()):(t=Ul(u.d),(s=((n=u.e)-t.length+1)%3)&&(t+=1==s||-2==s?"0":"00"),s=Ja(t,1/3),n=dc((n+1)/3)-(n%3==(n<0?-1:2)),(r=new h(t=s==1/0?"5e"+n:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+n)).s=u.s),o=(n=h.precision)+3;;)if(c=(l=(a=r).times(a).times(a)).plus(u),r=ro(c.plus(u).times(a),c.plus(l),o+2,1),Ul(a.d).slice(0,o)===(t=Ul(r.d)).slice(0,o)){if("9999"!=(t=t.slice(o-3,o+1))&&(i||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(tr(r,n+1,1),e=!r.times(r).times(r).eq(u));break}if(!i&&(tr(a,n+1,0),a.times(a).times(a).eq(u))){r=a;break}o+=4,i=1}return Pr=!0,tr(r,n,h.rounding,e)},$t.decimalPlaces=$t.dp=function(){var n,e=this.d,t=NaN;if(e){if(t=((n=e.length-1)-dc(this.e/Ar))*Ar,n=e[n])for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t},$t.dividedBy=$t.div=function(n){return ro(this,new this.constructor(n))},$t.dividedToIntegerBy=$t.divToInt=function(n){var t=this.constructor;return tr(ro(this,new t(n),0,1,1),t.precision,t.rounding)},$t.equals=$t.eq=function(n){return 0===this.cmp(n)},$t.floor=function(){return tr(new this.constructor(this),this.e+1,3)},$t.greaterThan=$t.gt=function(n){return this.cmp(n)>0},$t.greaterThanOrEqualTo=$t.gte=function(n){var e=this.cmp(n);return 1==e||0===e},$t.hyperbolicCosine=$t.cosh=function(){var n,e,t,r,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;r=o.rounding,o.precision=(t=o.precision)+Math.max(s.e,s.sd())+4,o.rounding=1,(i=s.d.length)<32?e=(1/UI(4,n=Math.ceil(i/3))).toString():(n=16,e="2.3283064365386962890625e-10"),s=bb(o,1,s.times(e),new o(1),!0);for(var l,c=n,u=new o(8);c--;)l=s.times(s),s=a.minus(l.times(u.minus(l.times(u))));return tr(s,o.precision=t,o.rounding=r,!0)},$t.hyperbolicSine=$t.sinh=function(){var n,e,t,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.rounding,s.precision=(e=s.precision)+Math.max(i.e,i.sd())+4,s.rounding=1,(r=i.d.length)<3)i=bb(s,2,i,i,!0);else{n=1.4*Math.sqrt(r),i=bb(s,2,i=i.times(1/UI(5,n=n>16?16:0|n)),i,!0);for(var o,a=new s(5),l=new s(16),c=new s(20);n--;)o=i.times(i),i=i.times(a.plus(o.times(l.times(o).plus(c))))}return s.precision=e,s.rounding=t,tr(i,e,t,!0)},$t.hyperbolicTangent=$t.tanh=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+7,r.rounding=1,ro(t.sinh(),t.cosh(),r.precision=n,r.rounding=e)):new r(t.s)},$t.inverseCosine=$t.acos=function(){var n,e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,s=t.rounding;return-1!==r?0===r?e.isNeg()?cd(t,i,s):new t(0):new t(NaN):e.isZero()?cd(t,i+4,s).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),n=cd(t,i+4,s).times(.5),t.precision=i,t.rounding=s,n.minus(e))},$t.inverseHyperbolicCosine=$t.acosh=function(){var n,e,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(e=r.rounding,r.precision=(n=r.precision)+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,Pr=!1,t=t.times(t).minus(1).sqrt().plus(t),Pr=!0,r.precision=n,r.rounding=e,t.ln()):new r(t)},$t.inverseHyperbolicSine=$t.asinh=function(){var n,e,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,Pr=!1,t=t.times(t).plus(1).sqrt().plus(t),Pr=!0,r.precision=n,r.rounding=e,t.ln())},$t.inverseHyperbolicTangent=$t.atanh=function(){var n,e,t,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=s.precision,e=s.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?tr(new s(i),n,e,!0):(s.precision=t=r-i.e,i=ro(i.plus(1),new s(1).minus(i),t+n,1),s.precision=n+4,s.rounding=1,i=i.ln(),s.precision=n,s.rounding=e,i.times(.5))):new s(NaN)},$t.inverseSine=$t.asin=function(){var n,e,t,r,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),t=s.precision,r=s.rounding,-1!==e?0===e?((n=cd(s,t+4,r).times(.5)).s=i.s,n):new s(NaN):(s.precision=t+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=t,s.rounding=r,i.times(2)))},$t.inverseTangent=$t.atan=function(){var n,e,t,r,i,s,o,a,l,c=this,u=c.constructor,h=u.precision,d=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&h+4<=n8)return(o=cd(u,h+4,d).times(.25)).s=c.s,o}else{if(!c.s)return new u(NaN);if(h+4<=n8)return(o=cd(u,h+4,d).times(.5)).s=c.s,o}for(u.precision=a=h+10,u.rounding=1,n=t=Math.min(28,a/Ar+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Pr=!1,e=Math.ceil(a/Ar),r=1,l=c.times(c),o=new u(c),i=c;-1!==n;)if(i=i.times(l),s=o.minus(i.div(r+=2)),i=i.times(l),void 0!==(o=s.plus(i.div(r+=2))).d[e])for(n=e;o.d[n]===s.d[n]&&n--;);return t&&(o=o.times(2<<t-1)),Pr=!0,tr(o,u.precision=h,u.rounding=d,!0)},$t.isFinite=function(){return!!this.d},$t.isInteger=$t.isInt=function(){return!!this.d&&dc(this.e/Ar)>this.d.length-2},$t.isNaN=function(){return!this.s},$t.isNegative=$t.isNeg=function(){return this.s<0},$t.isPositive=$t.isPos=function(){return this.s>0},$t.isZero=function(){return!!this.d&&0===this.d[0]},$t.lessThan=$t.lt=function(n){return this.cmp(n)<0},$t.lessThanOrEqualTo=$t.lte=function(n){return this.cmp(n)<1},$t.logarithm=$t.log=function(n){var e,t,r,i,s,o,a,l,c=this,u=c.constructor,h=u.precision,d=u.rounding;if(null==n)n=new u(10),e=!0;else{if(t=(n=new u(n)).d,n.s<0||!t||!t[0]||n.eq(1))return new u(NaN);e=n.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new u(t&&!t[0]?-1/0:1!=c.s?NaN:t?0:1/0);if(e)if(t.length>1)s=!0;else{for(i=t[0];i%10==0;)i/=10;s=1!==i}if(Pr=!1,o=xm(c,a=h+5),r=e?LI(u,a+10):xm(n,a),Zx((l=ro(o,r,a,1)).d,i=h,d))do{if(o=xm(c,a+=10),r=e?LI(u,a+10):xm(n,a),l=ro(o,r,a,1),!s){+Ul(l.d).slice(i+1,i+15)+1==1e14&&(l=tr(l,h+1,0));break}}while(Zx(l.d,i+=10,d));return Pr=!0,tr(l,h,d)},$t.minus=$t.sub=function(n){var e,t,r,i,s,o,a,l,c,u,h,d,f=this,A=f.constructor;if(n=new A(n),!f.d||!n.d)return f.s&&n.s?f.d?n.s=-n.s:n=new A(n.d||f.s!==n.s?f:NaN):n=new A(NaN),n;if(f.s!=n.s)return n.s=-n.s,f.plus(n);if(d=n.d,a=A.precision,l=A.rounding,!(c=f.d)[0]||!d[0]){if(d[0])n.s=-n.s;else{if(!c[0])return new A(3===l?-0:0);n=new A(f)}return Pr?tr(n,a,l):n}if(t=dc(n.e/Ar),u=dc(f.e/Ar),c=c.slice(),s=u-t){for((h=s<0)?(e=c,s=-s,o=d.length):(e=d,t=u,o=c.length),s>(r=Math.max(Math.ceil(a/Ar),o)+2)&&(s=r,e.length=1),e.reverse(),r=s;r--;)e.push(0);e.reverse()}else{for((h=(r=c.length)<(o=d.length))&&(o=r),r=0;r<o;r++)if(c[r]!=d[r]){h=c[r]<d[r];break}s=0}for(h&&(e=c,c=d,d=e,n.s=-n.s),r=d.length-(o=c.length);r>0;--r)c[o++]=0;for(r=d.length;r>s;){if(c[--r]<d[r]){for(i=r;i&&0===c[--i];)c[i]=ld-1;--c[i],c[r]+=ld}c[r]-=d[r]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--t;return c[0]?(n.d=c,n.e=PI(c,t),Pr?tr(n,a,l):n):new A(3===l?-0:0)},$t.modulo=$t.mod=function(n){var e,t=this,r=t.constructor;return n=new r(n),!t.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||t.d&&!t.d[0]?tr(new r(t),r.precision,r.rounding):(Pr=!1,9==r.modulo?(e=ro(t,n.abs(),0,3,1)).s*=n.s:e=ro(t,n,0,r.modulo,1),e=e.times(n),Pr=!0,t.minus(e))},$t.naturalExponential=$t.exp=function(){return r8(this)},$t.naturalLogarithm=$t.ln=function(){return xm(this)},$t.negated=$t.neg=function(){var n=new this.constructor(this);return n.s=-n.s,tr(n)},$t.plus=$t.add=function(n){var e,t,r,i,s,o,a,l,c,u,h=this,d=h.constructor;if(n=new d(n),!h.d||!n.d)return h.s&&n.s?h.d||(n=new d(n.d||h.s===n.s?h:NaN)):n=new d(NaN),n;if(h.s!=n.s)return n.s=-n.s,h.minus(n);if(u=n.d,a=d.precision,l=d.rounding,!(c=h.d)[0]||!u[0])return u[0]||(n=new d(h)),Pr?tr(n,a,l):n;if(s=dc(h.e/Ar),r=dc(n.e/Ar),c=c.slice(),i=s-r){for(i<0?(t=c,i=-i,o=u.length):(t=u,r=s,o=c.length),i>(o=(s=Math.ceil(a/Ar))>o?s+1:o+1)&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for((o=c.length)-(i=u.length)<0&&(i=o,t=u,u=c,c=t),e=0;i;)e=(c[--i]=c[i]+u[i]+e)/ld|0,c[i]%=ld;for(e&&(c.unshift(e),++r),o=c.length;0==c[--o];)c.pop();return n.d=c,n.e=PI(c,r),Pr?tr(n,a,l):n},$t.precision=$t.sd=function(n){var e,t=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(Cm+n);return t.d?(e=Gne(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e},$t.round=function(){var n=this,e=n.constructor;return tr(new e(n),n.e+1,e.rounding)},$t.sine=$t.sin=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+Math.max(t.e,t.sd())+Ar,r.rounding=1,t=function NVe(n,e){var t,r=e.d.length;if(r<3)return e.isZero()?e:bb(n,2,e,e);t=1.4*Math.sqrt(r),e=bb(n,2,e=e.times(1/UI(5,t=t>16?16:0|t)),e);for(var i,s=new n(5),o=new n(16),a=new n(20);t--;)i=e.times(e),e=e.times(s.plus(i.times(o.times(i).minus(a))));return e}(r,Kne(r,t)),r.precision=n,r.rounding=e,tr(Dp>2?t.neg():t,n,e,!0)):new r(NaN)},$t.squareRoot=$t.sqrt=function(){var n,e,t,r,i,s,o=this,a=o.d,l=o.e,c=o.s,u=o.constructor;if(1!==c||!a||!a[0])return new u(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(Pr=!1,0==(c=Math.sqrt(+o))||c==1/0?(((e=Ul(a)).length+l)%2==0&&(e+="0"),c=Math.sqrt(e),l=dc((l+1)/2)-(l<0||l%2),r=new u(e=c==1/0?"5e"+l:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+l)):r=new u(c.toString()),t=(l=u.precision)+3;;)if(r=(s=r).plus(ro(o,s,t+2,1)).times(.5),Ul(s.d).slice(0,t)===(e=Ul(r.d)).slice(0,t)){if("9999"!=(e=e.slice(t-3,t+1))&&(i||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(tr(r,l+1,1),n=!r.times(r).eq(o));break}if(!i&&(tr(s,l+1,0),s.times(s).eq(o))){r=s;break}t+=4,i=1}return Pr=!0,tr(r,l,u.rounding,n)},$t.tangent=$t.tan=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+10,r.rounding=1,(t=t.sin()).s=1,t=ro(t,new r(1).minus(t.times(t)).sqrt(),n+10,0),r.precision=n,r.rounding=e,tr(2==Dp||4==Dp?t.neg():t,n,e,!0)):new r(NaN)},$t.times=$t.mul=function(n){var e,t,r,i,s,o,a,l,c,u=this,h=u.constructor,d=u.d,f=(n=new h(n)).d;if(n.s*=u.s,!(d&&d[0]&&f&&f[0]))return new h(!n.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:d&&f?0*n.s:n.s/0);for(t=dc(u.e/Ar)+dc(n.e/Ar),(l=d.length)<(c=f.length)&&(s=d,d=f,f=s,o=l,l=c,c=o),s=[],r=o=l+c;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+f[r]*d[i-r-1]+e,s[i--]=a%ld|0,e=a/ld|0;s[i]=(s[i]+e)%ld|0}for(;!s[--o];)s.pop();return e?++t:s.shift(),n.d=s,n.e=PI(s,t),Pr?tr(n,h.precision,h.rounding):n},$t.toBinary=function(n,e){return s8(this,2,n,e)},$t.toDecimalPlaces=$t.toDP=function(n,e){var t=this,r=t.constructor;return t=new r(t),void 0===n?t:(xu(n,0,wm),void 0===e?e=r.rounding:xu(e,0,8),tr(t,n+t.e+1,e))},$t.toExponential=function(n,e){var t,r=this,i=r.constructor;return void 0===n?t=lA(r,!0):(xu(n,0,wm),void 0===e?e=i.rounding:xu(e,0,8),t=lA(r=tr(new i(r),n+1,e),!0,n+1)),r.isNeg()&&!r.isZero()?"-"+t:t},$t.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return void 0===n?t=lA(i):(xu(n,0,wm),void 0===e?e=s.rounding:xu(e,0,8),t=lA(r=tr(new s(i),n+i.e+1,e),!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t},$t.toFraction=function(n){var e,t,r,i,s,o,a,l,c,u,h,d,f=this,A=f.d,p=f.constructor;if(!A)return new p(f);if(c=t=new p(1),r=l=new p(0),s=(e=new p(r)).e=Gne(A)-f.e-1,e.d[0]=Ja(10,(o=s%Ar)<0?Ar+o:o),null==n)n=s>0?e:c;else{if(!(a=new p(n)).isInt()||a.lt(c))throw Error(Cm+a);n=a.gt(e)?s>0?e:c:a}for(Pr=!1,a=new p(Ul(A)),u=p.precision,p.precision=s=A.length*Ar*2;h=ro(a,e,0,1,1),1!=(i=t.plus(h.times(r))).cmp(n);)t=r,r=i,c=l.plus(h.times(i=c)),l=i,e=a.minus(h.times(i=e)),a=i;return i=ro(n.minus(t),r,0,1,1),l=l.plus(i.times(c)),t=t.plus(i.times(r)),l.s=c.s=f.s,d=ro(c,r,s,1).minus(f).abs().cmp(ro(l,t,s,1).minus(f).abs())<1?[c,r]:[l,t],p.precision=u,Pr=!0,d},$t.toHexadecimal=$t.toHex=function(n,e){return s8(this,16,n,e)},$t.toNearest=function(n,e){var t=this,r=t.constructor;if(t=new r(t),null==n){if(!t.d)return t;n=new r(1),e=r.rounding}else{if(n=new r(n),void 0===e?e=r.rounding:xu(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(Pr=!1,t=ro(t,n,0,e,1).times(n),Pr=!0,tr(t)):(n.s=t.s,t=n),t},$t.toNumber=function(){return+this},$t.toOctal=function(n,e){return s8(this,8,n,e)},$t.toPower=$t.pow=function(n){var e,t,r,i,s,o,a=this,l=a.constructor,c=+(n=new l(n));if(!(a.d&&n.d&&a.d[0]&&n.d[0]))return new l(Ja(+a,c));if((a=new l(a)).eq(1))return a;if(r=l.precision,s=l.rounding,n.eq(1))return tr(a,r,s);if((e=dc(n.e/Ar))>=n.d.length-1&&(t=c<0?-c:c)<=9007199254740991)return i=jne(l,a,t,r),n.s<0?new l(1).div(i):tr(i,r,s);if((o=a.s)<0){if(e<n.d.length-1)return new l(NaN);if(1&n.d[e]||(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(e=0!=(t=Ja(+a,c))&&isFinite(t)?new l(t+"").e:dc(c*(Math.log("0."+Ul(a.d))/Math.LN10+a.e+1)))>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(Pr=!1,l.rounding=a.s=1,t=Math.min(12,(e+"").length),(i=r8(n.times(xm(a,r+t)),r)).d&&Zx((i=tr(i,r+5,1)).d,r,s)&&+Ul((i=tr(r8(n.times(xm(a,(e=r+10)+t)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=tr(i,r+1,0)),i.s=o,Pr=!0,l.rounding=s,tr(i,r,s))},$t.toPrecision=function(n,e){var t,r=this,i=r.constructor;return void 0===n?t=lA(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(xu(n,1,wm),void 0===e?e=i.rounding:xu(e,0,8),t=lA(r=tr(new i(r),n,e),n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+t:t},$t.toSignificantDigits=$t.toSD=function(n,e){var r=this.constructor;return void 0===n?(n=r.precision,e=r.rounding):(xu(n,1,wm),void 0===e?e=r.rounding:xu(e,0,8)),tr(new r(this),n,e)},$t.toString=function(){var n=this,e=n.constructor,t=lA(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t},$t.truncated=$t.trunc=function(){return tr(new this.constructor(this),this.e+1,1)},$t.valueOf=$t.toJSON=function(){var n=this,e=n.constructor,t=lA(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};var ro=function(){function n(r,i,s){var o,a=0,l=r.length;for(r=r.slice();l--;)r[l]=(o=r[l]*i+a)%s|0,a=o/s|0;return a&&r.unshift(a),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function t(r,i,s,o){for(var a=0;s--;)r[s]-=a,r[s]=(a=r[s]<i[s]?1:0)*o+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o,a,l){var c,u,h,d,f,A,p,m,g,y,v,_,C,b,M,D,x,T,B,R,U=r.constructor,k=r.s==i.s?1:-1,q=r.d,O=i.d;if(!(q&&q[0]&&O&&O[0]))return new U(r.s&&i.s&&(q?!O||q[0]!=O[0]:O)?q&&0==q[0]||!O?0*k:k/0:NaN);for(l?(f=1,u=r.e-i.e):(l=ld,u=dc(r.e/(f=Ar))-dc(i.e/f)),B=O.length,x=q.length,y=(g=new U(k)).d=[],h=0;O[h]==(q[h]||0);h++);if(O[h]>(q[h]||0)&&u--,null==s?(b=s=U.precision,o=U.rounding):b=a?s+(r.e-i.e)+1:s,b<0)y.push(1),A=!0;else{if(b=b/f+2|0,h=0,1==B){for(d=0,O=O[0],b++;(h<x||d)&&b--;h++)y[h]=(M=d*l+(q[h]||0))/O|0,d=M%O|0;A=d||h<x}else{for((d=l/(O[0]+1)|0)>1&&(O=n(O,d,l),q=n(q,d,l),B=O.length,x=q.length),D=B,_=(v=q.slice(0,B)).length;_<B;)v[_++]=0;(R=O.slice()).unshift(0),T=O[0],O[1]>=l/2&&++T;do{d=0,(c=e(O,v,B,_))<0?(C=v[0],B!=_&&(C=C*l+(v[1]||0)),(d=C/T|0)>1?(d>=l&&(d=l-1),1==(c=e(p=n(O,d,l),v,m=p.length,_=v.length))&&(d--,t(p,B<m?R:O,m,l))):(0==d&&(c=d=1),p=O.slice()),(m=p.length)<_&&p.unshift(0),t(v,p,_,l),-1==c&&(c=e(O,v,B,_=v.length))<1&&(d++,t(v,B<_?R:O,_,l)),_=v.length):0===c&&(d++,v=[0]),y[h++]=d,c&&v[0]?v[_++]=q[D]||0:(v=[q[D]],_=1)}while((D++<x||void 0!==v[0])&&b--);A=void 0!==v[0]}y[0]||y.shift()}if(1==f)g.e=u,kne=A;else{for(h=1,d=y[0];d>=10;d/=10)h++;g.e=h+u*f-1,tr(g,a?s+g.e+1:s,o,A)}return g}}();function tr(n,e,t,r){var i,s,o,a,l,c,u,h,d,f=n.constructor;e:if(null!=e){if(!(h=n.d))return n;for(i=1,a=h[0];a>=10;a/=10)i++;if((s=e-i)<0)s+=Ar,l=(u=h[d=0])/Ja(10,i-(o=e)-1)%10|0;else if((d=Math.ceil((s+1)/Ar))>=(a=h.length)){if(!r)break e;for(;a++<=d;)h.push(0);u=l=0,i=1,o=(s%=Ar)-Ar+1}else{for(u=a=h[d],i=1;a>=10;a/=10)i++;l=(o=(s%=Ar)-Ar+i)<0?0:u/Ja(10,i-o-1)%10|0}if(r=r||e<0||void 0!==h[d+1]||(o<0?u:u%Ja(10,i-o-1)),c=t<4?(l||r)&&(0==t||t==(n.s<0?3:2)):l>5||5==l&&(4==t||r||6==t&&(s>0?o>0?u/Ja(10,i-o):0:h[d-1])%10&1||t==(n.s<0?8:7)),e<1||!h[0])return h.length=0,c?(h[0]=Ja(10,(Ar-(e-=n.e+1)%Ar)%Ar),n.e=-e||0):h[0]=n.e=0,n;if(0==s?(h.length=d,a=1,d--):(h.length=d+1,a=Ja(10,Ar-s),h[d]=o>0?(u/Ja(10,i-o)%Ja(10,o)|0)*a:0),c)for(;;){if(0==d){for(s=1,o=h[0];o>=10;o/=10)s++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(n.e++,h[0]==ld&&(h[0]=1));break}if(h[d]+=a,h[d]!=ld)break;h[d--]=0,a=1}for(s=h.length;0===h[--s];)h.pop()}return Pr&&(n.e>f.maxE?(n.d=null,n.e=NaN):n.e<f.minE&&(n.e=0,n.d=[0])),n}function lA(n,e,t){if(!n.isFinite())return $ne(n);var r,i=n.e,s=Ul(n.d),o=s.length;return e?(t&&(r=t-o)>0?s=s.charAt(0)+"."+s.slice(1)+Sm(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n.e<0?"e":"e+")+n.e):i<0?(s="0."+Sm(-i-1)+s,t&&(r=t-o)>0&&(s+=Sm(r))):i>=o?(s+=Sm(i+1-o),t&&(r=t-i-1)>0&&(s=s+"."+Sm(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-o)>0&&(i+1===o&&(s+="."),s+=Sm(r))),s}function PI(n,e){var t=n[0];for(e*=Ar;t>=10;t/=10)e++;return e}function LI(n,e,t){if(e>MVe)throw Pr=!0,t&&(n.precision=t),Error(Hne);return tr(new n(II),e,1,!0)}function cd(n,e,t){if(e>n8)throw Error(Hne);return tr(new n(FI),e,t,!0)}function Gne(n){var e=n.length-1,t=e*Ar+1;if(e=n[e]){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function Sm(n){for(var e="";n--;)e+="0";return e}function jne(n,e,t,r){var i,s=new n(1),o=Math.ceil(r/Ar+4);for(Pr=!1;;){if(t%2&&Xne((s=s.times(e)).d,o)&&(i=!0),0===(t=dc(t/2))){t=s.d.length-1,i&&0===s.d[t]&&++s.d[t];break}Xne((e=e.times(e)).d,o)}return Pr=!0,s}function qne(n){return 1&n.d[n.d.length-1]}function Wne(n,e,t){for(var r,i=new n(e[0]),s=0;++s<e.length;){if(!(r=new n(e[s])).s){i=r;break}i[t](r)&&(i=r)}return i}function r8(n,e){var t,r,i,s,o,a,l,c=0,u=0,h=0,d=n.constructor,f=d.rounding,A=d.precision;if(!n.d||!n.d[0]||n.e>17)return new d(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==e?(Pr=!1,l=A):l=e,a=new d(.03125);n.e>-2;)n=n.times(a),h+=5;for(l+=r=Math.log(Ja(2,h))/Math.LN10*2+5|0,t=s=o=new d(1),d.precision=l;;){if(s=tr(s.times(n),l,1),t=t.times(++u),Ul((a=o.plus(ro(s,t,l,1))).d).slice(0,l)===Ul(o.d).slice(0,l)){for(i=h;i--;)o=tr(o.times(o),l,1);if(null!=e)return d.precision=A,o;if(!(c<3&&Zx(o.d,l-r,f,c)))return tr(o,d.precision=A,f,Pr=!0);d.precision=l+=10,t=s=a=new d(1),u=0,c++}o=a}}function xm(n,e){var t,r,i,s,o,a,l,c,u,h,d,f=1,p=n,m=p.d,g=p.constructor,y=g.rounding,v=g.precision;if(p.s<0||!m||!m[0]||!p.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=p.s?NaN:m?0:p);if(null==e?(Pr=!1,u=v):u=e,g.precision=u+=10,r=(t=Ul(m)).charAt(0),!(Math.abs(s=p.e)<15e14))return c=LI(g,u+2,v).times(s+""),p=xm(new g(r+"."+t.slice(1)),u-10).plus(c),g.precision=v,null==e?tr(p,v,y,Pr=!0):p;for(;r<7&&1!=r||1==r&&t.charAt(1)>3;)r=(t=Ul((p=p.times(n)).d)).charAt(0),f++;for(s=p.e,r>1?(p=new g("0."+t),s++):p=new g(r+"."+t.slice(1)),h=p,l=o=p=ro(p.minus(1),p.plus(1),u,1),d=tr(p.times(p),u,1),i=3;;){if(o=tr(o.times(d),u,1),Ul((c=l.plus(ro(o,new g(i),u,1))).d).slice(0,u)===Ul(l.d).slice(0,u)){if(l=l.times(2),0!==s&&(l=l.plus(LI(g,u+2,v).times(s+""))),l=ro(l,new g(f),u,1),null!=e)return g.precision=v,l;if(!Zx(l.d,u-10,y,a))return tr(l,g.precision=v,y,Pr=!0);g.precision=u+=10,c=o=p=ro(h.minus(1),h.plus(1),u,1),d=tr(p.times(p),u,1),i=a=1}l=c,i+=2}}function $ne(n){return String(n.s*n.s/0)}function i8(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,n.e=t=t-r-1,n.d=[],r=(t+1)%Ar,t<0&&(r+=Ar),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Ar;r<i;)n.d.push(+e.slice(r,r+=Ar));e=e.slice(r),r=Ar-e.length}else r-=i;for(;r--;)e+="0";n.d.push(+e),Pr&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function bb(n,e,t,r,i){var s,o,a,l,u=n.precision,h=Math.ceil(u/Ar);for(Pr=!1,l=t.times(t),a=new n(r);;){if(o=ro(a.times(l),new n(e++*e++),u,1),a=i?r.plus(o):r.minus(o),r=ro(o.times(l),new n(e++*e++),u,1),void 0!==(o=a.plus(r)).d[h]){for(s=h;o.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=r,r=o,o=s}return Pr=!0,o.d.length=h+1,o}function UI(n,e){for(var t=n;--e;)t*=n;return t}function Kne(n,e){var t,r=e.s<0,i=cd(n,n.precision,1),s=i.times(.5);if((e=e.abs()).lte(s))return Dp=r?4:1,e;if((t=e.divToInt(i)).isZero())Dp=r?3:2;else{if((e=e.minus(t.times(i))).lte(s))return Dp=qne(t)?r?2:3:r?4:1,e;Dp=qne(t)?r?1:4:r?3:2}return e.minus(i).abs()}function s8(n,e,t,r){var i,s,o,a,l,c,u,h,d,f=n.constructor,A=void 0!==t;if(A?(xu(t,1,wm),void 0===r?r=f.rounding:xu(r,0,8)):(t=f.precision,r=f.rounding),n.isFinite()){for(A?(i=2,16==e?t=4*t-3:8==e&&(t=3*t-2)):i=e,(o=(u=lA(n)).indexOf("."))>=0&&(u=u.replace(".",""),(d=new f(1)).e=u.length-o,d.d=OI(lA(d),10,i),d.e=d.d.length),s=l=(h=OI(u,10,i)).length;0==h[--l];)h.pop();if(h[0]){if(o<0?s--:((n=new f(n)).d=h,n.e=s,h=(n=ro(n,d,t,r,0,i)).d,s=n.e,c=kne),o=h[t],a=i/2,c=c||void 0!==h[t+1],c=r<4?(void 0!==o||c)&&(0===r||r===(n.s<0?3:2)):o>a||o===a&&(4===r||c||6===r&&1&h[t-1]||r===(n.s<0?8:7)),h.length=t,c)for(;++h[--t]>i-1;)h[t]=0,t||(++s,h.unshift(1));for(l=h.length;!h[l-1];--l);for(o=0,u="";o<l;o++)u+=e8.charAt(h[o]);if(A){if(l>1)if(16==e||8==e){for(o=16==e?4:3,--l;l%o;l++)u+="0";for(l=(h=OI(u,i,e)).length;!h[l-1];--l);for(o=1,u="1.";o<l;o++)u+=e8.charAt(h[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s))}else u=A?"0p+0":"0";u=(16==e?"0x":2==e?"0b":8==e?"0o":"")+u}else u=$ne(n);return n.s<0?"-"+u:u}function Xne(n,e){if(n.length>e)return n.length=e,!0}function IVe(n){return new this(n).abs()}function FVe(n){return new this(n).acos()}function RVe(n){return new this(n).acosh()}function OVe(n,e){return new this(n).plus(e)}function PVe(n){return new this(n).asin()}function LVe(n){return new this(n).asinh()}function UVe(n){return new this(n).atan()}function kVe(n){return new this(n).atanh()}function HVe(n,e){n=new this(n),e=new this(e);var t,r=this.precision,i=this.rounding,s=r+4;return n.s&&e.s?n.d||e.d?!e.d||n.isZero()?(t=e.s<0?cd(this,r,i):new this(0)).s=n.s:!n.d||e.isZero()?(t=cd(this,s,1).times(.5)).s=n.s:e.s<0?(this.precision=s,this.rounding=1,t=this.atan(ro(n,e,s,1)),e=cd(this,s,1),this.precision=r,this.rounding=i,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(ro(n,e,s,1)):(t=cd(this,s,1).times(e.s>0?.25:.75)).s=n.s:t=new this(NaN),t}function VVe(n){return new this(n).cbrt()}function QVe(n){return tr(n=new this(n),n.e+1,2)}function zVe(n,e,t){return new this(n).clamp(e,t)}function GVe(n){if(!n||"object"!=typeof n)throw Error(RI+"Object expected");var e,t,r,i=!0===n.defaults,s=["precision",1,wm,"rounding",0,8,"toExpNeg",-_b,0,"toExpPos",0,_b,"maxE",0,_b,"minE",-_b,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(t=s[e],i&&(this[t]=t8[t]),void 0!==(r=n[t])){if(!(dc(r)===r&&r>=s[e+1]&&r<=s[e+2]))throw Error(Cm+t+": "+r);this[t]=r}if(t="crypto",i&&(this[t]=t8[t]),void 0!==(r=n[t])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Cm+t+": "+r);if(r){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(Vne);this[t]=!0}else this[t]=!1}return this}function jVe(n){return new this(n).cos()}function qVe(n){return new this(n).cosh()}function WVe(n,e){return new this(n).div(e)}function $Ve(n){return new this(n).exp()}function KVe(n){return tr(n=new this(n),n.e+1,3)}function XVe(){var n,e,t=new this(0);for(Pr=!1,n=0;n<arguments.length;)if((e=new this(arguments[n++])).d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Pr=!0,new this(1/0);t=e}return Pr=!0,t.sqrt()}function Jne(n){return n instanceof eE||n&&n.toStringTag===Qne||!1}function YVe(n){return new this(n).ln()}function JVe(n,e){return new this(n).log(e)}function ZVe(n){return new this(n).log(2)}function eQe(n){return new this(n).log(10)}function tQe(){return Wne(this,arguments,"lt")}function nQe(){return Wne(this,arguments,"gt")}function rQe(n,e){return new this(n).mod(e)}function iQe(n,e){return new this(n).mul(e)}function sQe(n,e){return new this(n).pow(e)}function oQe(n){var e,t,r,i,s=0,o=new this(1),a=[];if(void 0===n?n=this.precision:xu(n,1,wm),r=Math.ceil(n/Ar),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));s<r;)(i=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Vne);for(e=crypto.randomBytes(r*=4);s<r;)(i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(i%1e7),s+=4);s=r/4}else for(;s<r;)a[s++]=1e7*Math.random()|0;for(r=a[--s],n%=Ar,r&&n&&(i=Ja(10,Ar-n),a[s]=(r/i|0)*i);0===a[s];s--)a.pop();if(s<0)t=0,a=[0];else{for(t=-1;0===a[0];t-=Ar)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<Ar&&(t-=Ar-r)}return o.e=t,o.d=a,o}function aQe(n){return tr(n=new this(n),n.e+1,this.rounding)}function lQe(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function cQe(n){return new this(n).sin()}function uQe(n){return new this(n).sinh()}function hQe(n){return new this(n).sqrt()}function fQe(n,e){return new this(n).sub(e)}function dQe(){var n=0,e=arguments,t=new this(e[n]);for(Pr=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return Pr=!0,tr(t,this.precision,this.rounding)}function AQe(n){return new this(n).tan()}function pQe(n){return new this(n).tanh()}function gQe(n){return tr(n=new this(n),n.e+1,1)}$t[Symbol.for("nodejs.util.inspect.custom")]=$t.toString,$t[Symbol.toStringTag]="Decimal";var eE=$t.constructor=function Yne(n){var e,t,r;function i(s){var o,a,l,c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,Jne(s))return c.s=s.s,void(Pr?!s.d||s.e>i.maxE?(c.e=NaN,c.d=null):s.e<i.minE?(c.e=0,c.d=[0]):(c.e=s.e,c.d=s.d.slice()):(c.e=s.e,c.d=s.d?s.d.slice():s.d));if("number"==(l=typeof s)){if(0===s)return c.s=1/s<0?-1:1,c.e=0,void(c.d=[0]);if(s<0?(s=-s,c.s=-1):c.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;return void(Pr?o>i.maxE?(c.e=NaN,c.d=null):o<i.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[s]):(c.e=o,c.d=[s]))}return 0*s!=0?(s||(c.s=NaN),c.e=NaN,void(c.d=null)):i8(c,s.toString())}if("string"!==l)throw Error(Cm+s);return 45===(a=s.charCodeAt(0))?(s=s.slice(1),c.s=-1):(43===a&&(s=s.slice(1)),c.s=1),zne.test(s)?i8(c,s):function BVe(n,e){var t,r,i,s,o,a,l,c,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),zne.test(e))return i8(n,e)}else if("Infinity"===e||"NaN"===e)return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(xVe.test(e))t=16,e=e.toLowerCase();else if(SVe.test(e))t=2;else{if(!EVe.test(e))throw Error(Cm+e);t=8}for((s=e.search(/p/i))>0?(l=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),r=n.constructor,(o=s>=0)&&(s=(a=(e=e.replace(".","")).length)-s,i=jne(r,new r(t),s,2*s)),s=u=(c=OI(e,t,ld)).length-1;0===c[s];--s)c.pop();return s<0?new r(0*n.s):(n.e=PI(c,u),n.d=c,Pr=!1,o&&(n=ro(n,i,4*a)),l&&(n=n.times(Math.abs(l)<54?Ja(2,l):eE.pow(2,l))),Pr=!0,n)}(c,s)}if(i.prototype=$t,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=GVe,i.clone=Yne,i.isDecimal=Jne,i.abs=IVe,i.acos=FVe,i.acosh=RVe,i.add=OVe,i.asin=PVe,i.asinh=LVe,i.atan=UVe,i.atanh=kVe,i.atan2=HVe,i.cbrt=VVe,i.ceil=QVe,i.clamp=zVe,i.cos=jVe,i.cosh=qVe,i.div=WVe,i.exp=$Ve,i.floor=KVe,i.hypot=XVe,i.ln=YVe,i.log=JVe,i.log10=eQe,i.log2=ZVe,i.max=tQe,i.min=nQe,i.mod=rQe,i.mul=iQe,i.pow=sQe,i.random=oQe,i.round=aQe,i.sign=lQe,i.sin=cQe,i.sinh=uQe,i.sqrt=hQe,i.sub=fQe,i.sum=dQe,i.tan=AQe,i.tanh=pQe,i.trunc=gQe,void 0===n&&(n={}),n&&!0!==n.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}(t8);II=new eE(II),FI=new eE(FI);const kI=eE;var yQe=ye("BigNumber",["?on","config"],n=>{var{on:e,config:t}=n,r=kI.clone({precision:t.precision,modulo:kI.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,s){i.precision!==s.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const Ac=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},Yh=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},o8=function(n,e){return(n=Math.abs(n))<(e=Math.abs(e))&&([n,e]=[e,n]),n<1e8?Math.sqrt(n*n+e*e):(e/=n,n*Math.sqrt(1+e*e))},wb=function(){throw SyntaxError("Invalid Param")};function a8(n,e){const t=Math.abs(n),r=Math.abs(e);return 0===n?Math.log(r):0===e?Math.log(t):t<3e3&&r<3e3?.5*Math.log(n*n+e*e):(n*=.5,e*=.5,.5*Math.log(n*n+e*e)+Math.LN2)}const bQe={re:0,im:0},H0=function(n,e){const t=bQe;if(null==n)t.re=t.im=0;else if(void 0!==e)t.re=n,t.im=e;else switch(typeof n){case"object":if("im"in n&&"re"in n)t.re=n.re,t.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Nt.INFINITY;t.re=n.abs*Math.cos(n.arg),t.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Nt.INFINITY;t.re=n.r*Math.cos(n.phi),t.im=n.r*Math.sin(n.phi)}else 2===n.length?(t.re=n[0],t.im=n[1]):wb();break;case"string":t.im=t.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,s=0;null===r&&wb();for(let o=0;o<r.length;o++){const a=r[o];" "===a||"\t"===a||"\n"===a||("+"===a?i++:"-"===a?s++:"i"===a||"I"===a?(i+s===0&&wb()," "===r[o+1]||isNaN(r[o+1])?t.im+=parseFloat((s%2?"-":"")+"1"):(t.im+=parseFloat((s%2?"-":"")+r[o+1]),o++),i=s=0):((i+s===0||isNaN(a))&&wb(),"i"===r[o+1]||"I"===r[o+1]?(t.im+=parseFloat((s%2?"-":"")+a),o++):t.re+=parseFloat((s%2?"-":"")+a),i=s=0))}i+s>0&&wb();break;case"number":t.im=0,t.re=n;break;default:wb()}return isNaN(t.re)||isNaN(t.im),t};function Nt(n,e){if(!(this instanceof Nt))return new Nt(n,e);const t=H0(n,e);this.re=t.re,this.im=t.im}Nt.prototype={re:0,im:0,sign:function(){const n=o8(this.re,this.im);return new Nt(this.re/n,this.im/n)},add:function(n,e){const t=H0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Nt.NAN:Nt.INFINITY:new Nt(this.re+t.re,this.im+t.im)},sub:function(n,e){const t=H0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Nt.NAN:Nt.INFINITY:new Nt(this.re-t.re,this.im-t.im)},mul:function(n,e){const t=H0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r&&0===t.re&&0===t.im||i&&0===this.re&&0===this.im?Nt.NAN:r||i?Nt.INFINITY:0===t.im&&0===this.im?new Nt(this.re*t.re,0):new Nt(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(n,e){const t=H0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),s=0===this.re&&0===this.im,o=0===t.re&&0===t.im;if(s&&o||r&&i)return Nt.NAN;if(o||r)return Nt.INFINITY;if(s||i)return Nt.ZERO;if(0===t.im)return new Nt(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const a=t.re/t.im,l=t.re*a+t.im;return new Nt((this.re*a+this.im)/l,(this.im*a-this.re)/l)}{const a=t.im/t.re,l=t.im*a+t.re;return new Nt((this.re+this.im*a)/l,(this.im-this.re*a)/l)}},pow:function(n,e){const t=H0(n,e),r=0===this.re&&0===this.im;if(0===t.re&&0===t.im)return Nt.ONE;if(0===t.im){if(0===this.im&&this.re>0)return new Nt(Math.pow(this.re,t.re),0);if(0===this.re)switch((t.re%4+4)%4){case 0:return new Nt(Math.pow(this.im,t.re),0);case 1:return new Nt(0,Math.pow(this.im,t.re));case 2:return new Nt(-Math.pow(this.im,t.re),0);case 3:return new Nt(0,-Math.pow(this.im,t.re))}}if(r&&t.re>0)return Nt.ZERO;const s=Math.atan2(this.im,this.re),o=a8(this.re,this.im);let a=Math.exp(t.re*o-t.im*s),l=t.im*o+t.re*s;return new Nt(a*Math.cos(l),a*Math.sin(l))},sqrt:function(){const n=this.re,e=this.im;if(0===e)return n>=0?new Nt(Math.sqrt(n),0):new Nt(0,Math.sqrt(-n));const t=o8(n,e);let r=Math.sqrt(.5*(t+Math.abs(n))),i=Math.abs(e)/(2*r);return n>=0?new Nt(r,e<0?-i:i):new Nt(i,e<0?-r:r)},exp:function(){const n=Math.exp(this.re);return 0===this.im?new Nt(n,0):new Nt(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,e=this.im;return new Nt(Math.expm1(n)*Math.cos(e)+function(n){const e=Math.PI/4;if(-e>n||n>e)return Math.cos(n)-1;const t=n*n;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(n)*Math.sin(e))},log:function(){const n=this.re,e=this.im;return 0===e&&n>0?new Nt(Math.log(n),0):new Nt(a8(n,e),Math.atan2(e,n))},abs:function(){return o8(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,e=this.im;return new Nt(Math.sin(n)*Ac(e),Math.cos(n)*Yh(e))},cos:function(){const n=this.re,e=this.im;return new Nt(Math.cos(n)*Ac(e),-Math.sin(n)*Yh(e))},tan:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)+Ac(e);return new Nt(Math.sin(n)/t,Yh(e)/t)},cot:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)-Ac(e);return new Nt(-Math.sin(n)/t,Yh(e)/t)},sec:function(){const n=this.re,e=this.im,t=.5*Ac(2*e)+.5*Math.cos(2*n);return new Nt(Math.cos(n)*Ac(e)/t,Math.sin(n)*Yh(e)/t)},csc:function(){const n=this.re,e=this.im,t=.5*Ac(2*e)-.5*Math.cos(2*n);return new Nt(Math.sin(n)*Ac(e)/t,-Math.cos(n)*Yh(e)/t)},asin:function(){const n=this.re,e=this.im,t=new Nt(e*e-n*n+1,-2*n*e).sqrt(),r=new Nt(t.re-e,t.im+n).log();return new Nt(r.im,-r.re)},acos:function(){const n=this.re,e=this.im,t=new Nt(e*e-n*n+1,-2*n*e).sqrt(),r=new Nt(t.re-e,t.im+n).log();return new Nt(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,e=this.im;if(0===n){if(1===e)return new Nt(0,1/0);if(-1===e)return new Nt(0,-1/0)}const t=n*n+(1-e)*(1-e),r=new Nt((1-e*e-n*n)/t,-2*n/t).log();return new Nt(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,e=this.im;if(0===e)return new Nt(Math.atan2(1,n),0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).atan():new Nt(0!==n?n/0:0,0!==e?-e/0:0).atan()},asec:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Nt(0,1/0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).acos():new Nt(0!==n?n/0:0,0!==e?-e/0:0).acos()},acsc:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Nt(Math.PI/2,1/0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).asin():new Nt(0!==n?n/0:0,0!==e?-e/0:0).asin()},sinh:function(){const n=this.re,e=this.im;return new Nt(Yh(n)*Math.cos(e),Ac(n)*Math.sin(e))},cosh:function(){const n=this.re,e=this.im;return new Nt(Ac(n)*Math.cos(e),Yh(n)*Math.sin(e))},tanh:function(){const n=2*this.re,e=2*this.im,t=Ac(n)+Math.cos(e);return new Nt(Yh(n)/t,Math.sin(e)/t)},coth:function(){const n=2*this.re,e=2*this.im,t=Ac(n)-Math.cos(e);return new Nt(Yh(n)/t,-Math.sin(e)/t)},csch:function(){const n=this.re,e=this.im,t=Math.cos(2*e)-Ac(2*n);return new Nt(-2*Yh(n)*Math.cos(e)/t,2*Ac(n)*Math.sin(e)/t)},sech:function(){const n=this.re,e=this.im,t=Math.cos(2*e)+Ac(2*n);return new Nt(2*Ac(n)*Math.cos(e)/t,-2*Yh(n)*Math.sin(e)/t)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const e=this.asin();return this.re=-this.im,this.im=n,n=e.re,e.re=-e.im,e.im=n,e},acosh:function(){const n=this.acos();if(n.im<=0){const e=n.re;n.re=-n.im,n.im=e}else{const e=n.im;n.im=-n.re,n.re=e}return n},atanh:function(){const n=this.re,e=this.im,t=n>1&&0===e,r=1-n,i=1+n,s=r*r+e*e,o=0!==s?new Nt((i*r-e*e)/s,(e*r+i*e)/s):new Nt(-1!==n?n/0:0,0!==e?e/0:0),a=o.re;return o.re=a8(o.re,o.im)/2,o.im=Math.atan2(o.im,a)/2,t&&(o.im=-o.im),o},acoth:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Nt(0,Math.PI/2);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).atanh():new Nt(0!==n?n/0:0,0!==e?-e/0:0).atanh()},acsch:function(){const n=this.re,e=this.im;if(0===e)return new Nt(0!==n?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).asinh():new Nt(0!==n?n/0:0,0!==e?-e/0:0).asinh()},asech:function(){const n=this.re,e=this.im;if(this.isZero())return Nt.INFINITY;const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).acosh():new Nt(0!==n?n/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Nt.INFINITY;if(this.isInfinite())return Nt.ZERO;const n=this.re,e=this.im,t=n*n+e*e;return new Nt(n/t,-e/t)},conjugate:function(){return new Nt(this.re,-this.im)},neg:function(){return new Nt(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Nt(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Nt(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Nt(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,e){const t=H0(n,e);return Math.abs(t.re-this.re)<=Nt.EPSILON&&Math.abs(t.im-this.im)<=Nt.EPSILON},clone:function(){return new Nt(this.re,this.im)},toString:function(){let n=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Nt.EPSILON&&(n=0),Math.abs(e)<Nt.EPSILON&&(e=0),0===e?t+n:(0!==n?(t+=n,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),1!==e&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Nt.ZERO=new Nt(0,0),Nt.ONE=new Nt(1,0),Nt.I=new Nt(0,1),Nt.PI=new Nt(Math.PI,0),Nt.E=new Nt(Math.E,0),Nt.INFINITY=new Nt(1/0,1/0),Nt.NAN=new Nt(NaN,NaN),Nt.EPSILON=1e-15;var SQe=ye("Complex",[],()=>(Object.defineProperty(Nt,"name",{value:"Complex"}),Nt.prototype.constructor=Nt,Nt.prototype.type="Complex",Nt.prototype.isComplex=!0,Nt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Nt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Nt.prototype.format=function(n){var t=this.im,r=this.re,i=L0(this.re,n),s=L0(this.im,n),o=Hr(n)?n:n?n.precision:null;if(null!==o){var a=Math.pow(10,-o);Math.abs(r/t)<a&&(r=0),Math.abs(t/r)<a&&(t=0)}return 0===t?i:0===r?1===t?"i":-1===t?"-i":s+"i":t<0?-1===t?i+" - i":i+" - "+s.substring(1)+"i":1===t?i+" + i":i+" + "+s+"i"},Nt.fromPolar=function(n){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return Nt(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],r=arguments[1];if(Hr(t)){if(Wh(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Hr(r))return new Nt({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Nt.prototype.valueOf=Nt.prototype.toString,Nt.fromJSON=function(n){return new Nt(n)},Nt.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},Nt),{isClass:!0});function EQe(n){var e=0,t=1,r=Object.create(null),i=Object.create(null),s=0,o=function(l){var c=i[l];if(c&&(delete r[c],delete i[l],--e,t===c)){if(!e)return s=0,void(t=1);for(;!Object.prototype.hasOwnProperty.call(r,++t););}};return n=Math.abs(n),{hit:function(l){var c=i[l],u=++s;if(r[u]=l,i[l]=u,!c)return++e<=n?void 0:(o(l=r[t]),l);if(delete r[c],t===c)for(;!Object.prototype.hasOwnProperty.call(r,++t););},delete:o,clear:function(){e=s=0,t=1,r=Object.create(null),i=Object.create(null)}}}function tE(n){var{hasher:e,limit:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function r(){"object"!=typeof r.cache&&(r.cache={values:new Map,lru:EQe(t||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=e(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var a=n.apply(n,i);return r.cache.values.set(o,a),r.cache.values.delete(r.cache.lru.hit(o)),a}}var DQe=tE(function(n){return new n(1).exp()},{hasher:HI}),MQe=tE(function(n){return new n(1).plus(new n(5).sqrt()).div(2)},{hasher:HI}),l8=tE(function(n){return n.acos(-1)},{hasher:HI}),TQe=tE(function(n){return l8(n).times(2)},{hasher:HI});function HI(n){return n[0].precision}var BQe=Math.PI,NQe=2*Math.PI,IQe=Math.E,RQe=ye("true",[],()=>!0),OQe=ye("false",[],()=>!1),PQe=ye("null",[],()=>null),LQe=uh("Infinity",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1/0):1/0}),UQe=uh("NaN",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(NaN):NaN}),kQe=uh("pi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?l8(t):BQe}),HQe=uh("tau",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?TQe(t):NQe}),VQe=uh("e",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?DQe(t):IQe}),QQe=uh("phi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?MQe(t):1.618033988749895}),zQe=uh("LN2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).ln():Math.LN2}),GQe=uh("LN10",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(10).ln():Math.LN10}),jQe=uh("LOG2E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(2).ln()):Math.LOG2E}),qQe=uh("LOG10E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(10).ln()):Math.LOG10E}),WQe=uh("SQRT1_2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t("0.5").sqrt():Math.SQRT1_2}),$Qe=uh("SQRT2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).sqrt():Math.SQRT2}),KQe=uh("i",["Complex"],n=>{var{Complex:e}=n;return e.I}),XQe=ye("version",[],()=>"14.0.1");function uh(n,e,t){return ye(n,e,t,{recreateOnConfigChange:!0})}var YQe=Lr("speedOfLight","299792458","m s^-1"),JQe=Lr("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),ZQe=Lr("planckConstant","6.62607015e-34","J s"),e7e=Lr("reducedPlanckConstant","1.0545718176461565e-34","J s"),t7e=Lr("magneticConstant","1.25663706212e-6","N A^-2"),n7e=Lr("electricConstant","8.8541878128e-12","F m^-1"),r7e=Lr("vacuumImpedance","376.730313667","ohm"),i7e=Lr("coulomb","8.987551792261171e9","N m^2 C^-2"),s7e=Lr("elementaryCharge","1.602176634e-19","C"),o7e=Lr("bohrMagneton","9.2740100783e-24","J T^-1"),a7e=Lr("conductanceQuantum","7.748091729863649e-5","S"),l7e=Lr("inverseConductanceQuantum","12906.403729652257","ohm"),c7e=Lr("magneticFluxQuantum","2.0678338484619295e-15","Wb"),u7e=Lr("nuclearMagneton","5.0507837461e-27","J T^-1"),h7e=Lr("klitzing","25812.807459304513","ohm"),f7e=Lr("bohrRadius","5.29177210903e-11","m"),d7e=Lr("classicalElectronRadius","2.8179403262e-15","m"),A7e=Lr("electronMass","9.1093837015e-31","kg"),p7e=Lr("fermiCoupling","1.1663787e-5","GeV^-2"),g7e=VI("fineStructure",.0072973525693),m7e=Lr("hartreeEnergy","4.3597447222071e-18","J"),v7e=Lr("protonMass","1.67262192369e-27","kg"),y7e=Lr("deuteronMass","3.3435830926e-27","kg"),_7e=Lr("neutronMass","1.6749271613e-27","kg"),b7e=Lr("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),w7e=Lr("rydberg","10973731.568160","m^-1"),C7e=Lr("thomsonCrossSection","6.6524587321e-29","m^2"),S7e=VI("weakMixingAngle",.2229),x7e=VI("efimovFactor",22.7),E7e=Lr("atomicMass","1.66053906660e-27","kg"),D7e=Lr("avogadro","6.02214076e23","mol^-1"),M7e=Lr("boltzmann","1.380649e-23","J K^-1"),T7e=Lr("faraday","96485.33212331001","C mol^-1"),B7e=Lr("firstRadiation","3.7417718521927573e-16","W m^2"),N7e=Lr("loschmidt","2.686780111798444e25","m^-3"),I7e=Lr("gasConstant","8.31446261815324","J K^-1 mol^-1"),F7e=Lr("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),R7e=Lr("molarVolume","0.022413969545014137","m^3 mol^-1"),O7e=VI("sackurTetrode",-1.16487052358),P7e=Lr("secondRadiation","0.014387768775039337","m K"),L7e=Lr("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),U7e=Lr("wienDisplacement","2.897771955e-3","m K"),k7e=Lr("molarMass","0.99999999965e-3","kg mol^-1"),H7e=Lr("molarMassC12","11.9999999958e-3","kg mol^-1"),V7e=Lr("gravity","9.80665","m s^-2"),Q7e=Lr("planckLength","1.616255e-35","m"),z7e=Lr("planckMass","2.176435e-8","kg"),G7e=Lr("planckTime","5.391245e-44","s"),j7e=Lr("planckCharge","1.87554603778e-18","C"),q7e=Lr("planckTemperature","1.416785e+32","K");function Lr(n,e,t){return ye(n,["config","Unit","BigNumber"],i=>{var{config:s,Unit:o,BigNumber:a}=i,c=new o("BigNumber"===s.number?new a(e):parseFloat(e),t);return c.fixPrefix=!0,c})}function VI(n,e){return ye(n,["config","BigNumber"],r=>{var{config:i,BigNumber:s}=r;return"BigNumber"===i.number?new s(e):e})}typeof BigInt>"u"&&(BigInt=function(n){if(isNaN(n))throw new Error("");return n});const nr=BigInt(0),si=BigInt(1),nE=BigInt(2),c8=BigInt(5),Eu=BigInt(10),Bn={s:si,n:nr,d:si};function Mp(n,e){try{n=BigInt(n)}catch{throw Em()}return n*e}function ud(n){return"bigint"==typeof n?n:Math.floor(n)}function Do(n,e){if(e===nr)throw u8();const t=Object.create(Jh.prototype);t.s=n<nr?-si:si;const r=V0(n=n<nr?-n:n,e);return t.n=n/r,t.d=e/r,t}function Cb(n){const e={};let t=n,r=nE,i=c8-si;for(;i<=t;){for(;t%r===nr;)t/=r,e[r]=(e[r]||nr)+si;i+=si+nE*r++}return t!==n?t>1&&(e[t]=(e[t]||nr)+si):e[n]=(e[n]||nr)+si,e}const gl=function(n,e){let t=nr,r=si,i=si;if(null!=n)if(void 0!==e){if("bigint"==typeof n)t=n;else{if(isNaN(n))throw Em();if(n%1!=0)throw Zne();t=BigInt(n)}if("bigint"==typeof e)r=e;else{if(isNaN(e))throw Em();if(e%1!=0)throw Zne();r=BigInt(e)}i=t*r}else if("object"==typeof n){if("d"in n&&"n"in n)t=BigInt(n.n),r=BigInt(n.d),"s"in n&&(t*=BigInt(n.s));else if(0 in n)t=BigInt(n[0]),1 in n&&(r=BigInt(n[1]));else{if("bigint"!=typeof n)throw Em();t=n}i=t*r}else if("number"==typeof n){if(isNaN(n))throw Em();if(n<0&&(i=-si,n=-n),n%1==0)t=BigInt(n);else if(n>0){let s=1,o=0,a=1,l=1,c=1,u=1e7;for(n>=1&&(s=10**Math.floor(1+Math.log10(n)),n/=s);a<=u&&c<=u;){let h=(o+l)/(a+c);if(n===h){a+c<=u?(t=o+l,r=a+c):c>a?(t=l,r=c):(t=o,r=a);break}n>h?(o+=l,a+=c):(l+=o,c+=a),a>u?(t=l,r=c):(t=o,r=a)}t=BigInt(t)*BigInt(s),r=BigInt(r)}}else if("string"==typeof n){let s=0,o=nr,a=nr,l=nr,c=si,u=si,h=n.replace(/_/g,"").match(/\d+|./g);if(null===h)throw Em();if("-"===h[s]?(i=-si,s++):"+"===h[s]&&s++,h.length===s+1?a=Mp(h[s++],i):"."===h[s+1]||"."===h[s]?("."!==h[s]&&(o=Mp(h[s++],i)),s++,(s+1===h.length||"("===h[s+1]&&")"===h[s+3]||"'"===h[s+1]&&"'"===h[s+3])&&(a=Mp(h[s],i),c=Eu**BigInt(h[s].length),s++),("("===h[s]&&")"===h[s+2]||"'"===h[s]&&"'"===h[s+2])&&(l=Mp(h[s+1],i),u=Eu**BigInt(h[s+1].length)-si,s+=3)):"/"===h[s+1]||":"===h[s+1]?(a=Mp(h[s],i),c=Mp(h[s+2],si),s+=3):"/"===h[s+3]&&" "===h[s+1]&&(o=Mp(h[s],i),a=Mp(h[s+2],i),c=Mp(h[s+4],si),s+=5),!(h.length<=s))throw Em();r=c*u,i=t=l+r*o+u*a}else{if("bigint"!=typeof n)throw Em();t=n,i=n,r=si}if(r===nr)throw u8();Bn.s=i<nr?-si:si,Bn.n=t<nr?-t:t,Bn.d=r<nr?-r:r};function V0(n,e){if(!n)return e;if(!e)return n;for(;;){if(!(n%=e))return e;if(!(e%=n))return n}}function Jh(n,e){if(gl(n,e),!(this instanceof Jh))return Do(Bn.s*Bn.n,Bn.d);n=V0(Bn.d,Bn.n),this.s=Bn.s,this.n=Bn.n/n,this.d=Bn.d/n}var u8=function(){return new Error("Division by Zero")},Em=function(){return new Error("Invalid argument")},Zne=function(){return new Error("Parameters must be integer")};Jh.prototype={s:si,n:nr,d:si,abs:function(){return Do(this.n,this.d)},neg:function(){return Do(-this.s*this.n,this.d)},add:function(n,e){return gl(n,e),Do(this.s*this.n*Bn.d+Bn.s*this.d*Bn.n,this.d*Bn.d)},sub:function(n,e){return gl(n,e),Do(this.s*this.n*Bn.d-Bn.s*this.d*Bn.n,this.d*Bn.d)},mul:function(n,e){return gl(n,e),Do(this.s*Bn.s*this.n*Bn.n,this.d*Bn.d)},div:function(n,e){return gl(n,e),Do(this.s*Bn.s*this.n*Bn.d,this.d*Bn.n)},clone:function(){return Do(this.s*this.n,this.d)},mod:function(n,e){if(void 0===n)return Do(this.s*this.n%this.d,si);if(gl(n,e),nr===Bn.n*this.d)throw u8();return Do(this.s*(Bn.d*this.n)%(Bn.n*this.d),Bn.d*this.d)},gcd:function(n,e){return gl(n,e),Do(V0(Bn.n,this.n)*V0(Bn.d,this.d),Bn.d*this.d)},lcm:function(n,e){return gl(n,e),Bn.n===nr&&this.n===nr?Do(nr,si):Do(Bn.n*this.n,V0(Bn.n,this.n)*V0(Bn.d,this.d))},inverse:function(){return Do(this.s*this.d,this.n)},pow:function(n,e){if(gl(n,e),Bn.d===si)return Bn.s<nr?Do((this.s*this.d)**Bn.n,this.n**Bn.n):Do((this.s*this.n)**Bn.n,this.d**Bn.n);if(this.s<nr)return null;let t=Cb(this.n),r=Cb(this.d),i=si,s=si;for(let o in t)if("1"!==o){if("0"===o){i=nr;break}if(t[o]*=Bn.n,t[o]%Bn.d!==nr)return null;t[o]/=Bn.d,i*=BigInt(o)**t[o]}for(let o in r)if("1"!==o){if(r[o]*=Bn.n,r[o]%Bn.d!==nr)return null;r[o]/=Bn.d,s*=BigInt(o)**r[o]}return Bn.s<nr?Do(s,i):Do(i,s)},log:function(n,e){if(gl(n,e),this.s<=nr||Bn.s<=nr)return null;const t={},r=Cb(Bn.n),i=Cb(Bn.d),s=Cb(this.n),o=Cb(this.d);for(const c in i)r[c]=(r[c]||nr)-i[c];for(const c in o)s[c]=(s[c]||nr)-o[c];for(const c in r)"1"!==c&&(t[c]=!0);for(const c in s)"1"!==c&&(t[c]=!0);let a=null,l=null;for(const c in t){const u=r[c]||nr,h=s[c]||nr;if(u===nr){if(h!==nr)return null;continue}let d=h,f=u;const A=V0(d,f);if(d/=A,f/=A,null===a&&null===l)a=d,l=f;else if(d*l!=a*f)return null}return null!==a&&null!==l?Do(a,l):null},equals:function(n,e){return gl(n,e),this.s*this.n*Bn.d==Bn.s*Bn.n*this.d},lt:function(n,e){return gl(n,e),this.s*this.n*Bn.d<Bn.s*Bn.n*this.d},lte:function(n,e){return gl(n,e),this.s*this.n*Bn.d<=Bn.s*Bn.n*this.d},gt:function(n,e){return gl(n,e),this.s*this.n*Bn.d>Bn.s*Bn.n*this.d},gte:function(n,e){return gl(n,e),this.s*this.n*Bn.d>=Bn.s*Bn.n*this.d},compare:function(n,e){gl(n,e);let t=this.s*this.n*Bn.d-Bn.s*Bn.n*this.d;return(nr<t)-(t<nr)},ceil:function(n){return n=Eu**BigInt(n||0),Do(ud(this.s*n*this.n/this.d)+(n*this.n%this.d>nr&&this.s>=nr?si:nr),n)},floor:function(n){return n=Eu**BigInt(n||0),Do(ud(this.s*n*this.n/this.d)-(n*this.n%this.d>nr&&this.s<nr?si:nr),n)},round:function(n){return n=Eu**BigInt(n||0),Do(ud(this.s*n*this.n/this.d)+this.s*((this.s>=nr?si:nr)+nE*(n*this.n%this.d)>this.d?si:nr),n)},roundTo:function(n,e){gl(n,e);const t=this.n*Bn.d,r=this.d*Bn.n,i=t%r;let s=ud(t/r);return i+i>=r&&s++,Do(this.s*s*Bn.n,Bn.d)},divisible:function(n,e){return gl(n,e),!(!(Bn.n*this.d)||this.n*Bn.d%(Bn.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n){let e=this.n,t=this.d;n=n||15;let r=function K7e(n,e){for(;e%nE===nr;e/=nE);for(;e%c8===nr;e/=c8);if(e===si)return nr;let t=Eu%e,r=1;for(;t!==si;r++)if(t=t*Eu%e,r>2e3)return nr;return BigInt(r)}(0,t),i=function X7e(n,e,t){let r=si,i=function $7e(n,e,t){let r=si;for(;e>nr;n=n*n%t,e>>=si)e&si&&(r=r*n%t);return r}(Eu,t,e);for(let s=0;s<300;s++){if(r===i)return BigInt(s);r=r*Eu%e,i=i*Eu%e}return 0}(0,t,r),s=this.s<nr?"-":"";if(s+=ud(e/t),e%=t,e*=Eu,e&&(s+="."),r){for(let o=i;o--;)s+=ud(e/t),e%=t,e*=Eu;s+="(";for(let o=r;o--;)s+=ud(e/t),e%=t,e*=Eu;s+=")"}else for(let o=n;e&&o--;)s+=ud(e/t),e%=t,e*=Eu;return s},toFraction:function(n){let e=this.n,t=this.d,r=this.s<nr?"-":"";if(t===si)r+=e;else{let i=ud(e/t);n&&i>nr&&(r+=i,r+=" ",e%=t),r+=e,r+="/",r+=t}return r},toLatex:function(n){let e=this.n,t=this.d,r=this.s<nr?"-":"";if(t===si)r+=e;else{let i=ud(e/t);n&&i>nr&&(r+=i,e%=t),r+="\\frac{",r+=e,r+="}{",r+=t,r+="}"}return r},toContinued:function(){let n=this.n,e=this.d,t=[];do{t.push(ud(n/e));let r=n%e;n=e,e=r}while(n!==si);return t},simplify:function(n){const e=BigInt(1/(n||.001)|0),t=this.abs(),r=t.toContinued();for(let i=1;i<r.length;i++){let s=Do(r[i-1],si);for(let a=i-2;a>=0;a--)s=s.inverse().add(r[a]);let o=s.sub(t);if(o.n*e<o.d)return s.mul(this.s)}return this}};var Z7e=ye("Fraction",[],()=>(Object.defineProperty(Jh,"name",{value:"Fraction"}),Jh.prototype.constructor=Jh,Jh.prototype.type="Fraction",Jh.prototype.isFraction=!0,Jh.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Jh.fromJSON=function(n){return new Jh(n)},Jh),{isClass:!0}),nze=ye("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0}),sze=ye("Range",[],()=>{function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,s=null!=t,o=null!=r;if(i)if(Vr(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(s)if(Vr(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter end must be a number");if(o)if(Vr(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=s?parseFloat(t):0,this.step=o?parseFloat(r):1}return n.prototype.type="Range",n.prototype.isRange=!0,n.parse=function(e){if("string"!=typeof e)return null;var r=e.split(":").map(function(s){return parseFloat(s)});if(r.some(function(s){return isNaN(s)}))return null;switch(r.length){case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[2],r[1]);default:return null}},n.prototype.clone=function(){return new n(this.start,this.end,this.step)},n.prototype.size=function(){var e=0,r=this.step,s=this.end-this.start;return mm(r)===mm(s)?e=Math.ceil(s/r):0===s&&(e=0),isNaN(e)&&(e=0),[e]},n.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},n.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},n.prototype.forEach=function(e){var t=this.start,r=this.step,i=this.end,s=0;if(r>0)for(;t<i;)e(t,[s],this),t+=r,s++;else if(r<0)for(;t>i;)e(t,[s],this),t+=r,s++},n.prototype.map=function(e){var t=[];return this.forEach(function(r,i,s){t[i[0]]=e(r,i,s)}),t},n.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r[0]]=t}),e},n.prototype.valueOf=function(){return this.toArray()},n.prototype.format=function(e){var t=L0(this.start,e);return 1!==this.step&&(t+=":"+L0(this.step,e)),t+":"+L0(this.end,e)},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n},{isClass:!0}),lze=ye("ResultSet",[],()=>{function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return n.prototype.type="ResultSet",n.prototype.isResultSet=!0,n.prototype.valueOf=function(){return this.entries},n.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},n.fromJSON=function(e){return new n(e.entries)},n},{isClass:!0}),hze=ye("DenseMatrix",["Matrix"],n=>{var{Matrix:e}=n;function t(u,h){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!fc(h))throw new Error("Invalid datatype: "+h);if(ur(u))"DenseMatrix"===u.type?(this._data=Fr(u._data),this._size=Fr(u._size),this._datatype=h||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=h||u._datatype);else if(u&&Ts(u.data)&&Ts(u.size))this._data=u.data,this._size=u.size,Jee(this._data,this._size),this._datatype=h||u.datatype;else if(Ts(u))this._data=c(u),this._size=xr(this._data),Jee(this._data,this._size),this._datatype=h;else{if(u)throw new TypeError("Unsupported type of data ("+$s(u)+")");this._data=[],this._size=[0],this._datatype=h}}function i(u,h,d,f){var A=f===d-1,p=h.dimension(f);return A?p.map(function(m){return Ks(m,u.length),u[m]}).valueOf():p.map(function(m){return Ks(m,u.length),i(u[m],h,d,f+1)}).valueOf()}function o(u,h,d,f,A){var p=A===f-1;h.dimension(A).forEach(p?function(g,y){Ks(g),u[g]=d[y[0]]}:function(g,y){Ks(g),o(u[g],h,d[y[0]],f,A+1)})}function a(u,h,d){if(0===h.length){for(var f=u._data;Ts(f);)f=f[0];return f}return u._size=h.slice(0),u._data=gb(u._data,u._size,d),u}function l(u,h,d){for(var f=u._size.slice(0),A=!1;f.length<h.length;)f.push(0),A=!0;for(var p=0,m=h.length;p<m;p++)h[p]>f[p]&&(f[p]=h[p],A=!0);A&&a(u,f,d)}function c(u){return ur(u)?c(u.valueOf()):Ts(u)?u.map(c):u}return(t.prototype=new e).createDenseMatrix=function(u,h){return new t(u,h)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return aI(this._data,$s)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(u,h){return new t(u,h)},t.prototype.subset=function(u,h,d){switch(arguments.length){case 1:return function r(u,h){if(!eI(h))throw new TypeError("Invalid index");if(h.isScalar())return u.get(h.min());var f=h.size();if(f.length!==u._size.length)throw new ii(f.length,u._size.length);for(var A=h.min(),p=h.max(),m=0,g=u._size.length;m<g;m++)Ks(A[m],u._size[m]),Ks(p[m],u._size[m]);return new t(i(u._data,h,f.length,0),u._datatype)}(this,u);case 2:case 3:return function s(u,h,d,f){if(!h||!0!==h.isIndex)throw new TypeError("Invalid index");var m,A=h.size(),p=h.isScalar();if(ur(d)?(m=d.size(),d=d.valueOf()):m=xr(d),p){if(0!==m.length)throw new TypeError("Scalar expected");u.set(h.min(),d,f)}else{if(!Cp(m,A))try{m=xr(d=ym(0===m.length?[d]:d,A))}catch{}if(A.length<u._size.length)throw new ii(A.length,u._size.length,"<");if(m.length<A.length){for(var g=0,y=0;1===A[g]&&1===m[g];)g++;for(;1===A[g];)y++,g++;d=tte(d,A.length,y,m)}if(!Cp(A,m))throw new ii(A,m,">");l(u,h.max().map(function(b){return b+1}),f),o(u._data,h,d,A.length,0)}return u}(this,u,h,d);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(u){return RH(this._data,u)},t.prototype.set=function(u,h,d){if(!Ts(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new ii(u.length,this._size.length,"<");var f,A,p;l(this,u.map(function(y){return y+1}),d);var g=this._data;for(f=0,A=u.length-1;f<A;f++)Ks(p=u[f],g.length),g=g[p];return Ks(p=u[u.length-1],g.length),g[p]=h,this},t.prototype.resize=function(u,h,d){if(!$h(u))throw new TypeError("Array or Matrix expected");var f=u.valueOf().map(p=>Array.isArray(p)&&1===p.length?p[0]:p);return a(d?this.clone():this,f,h)},t.prototype.reshape=function(u,h){var d=h?this.clone():this;d._data=IH(d._data,u);var f=d._size.reduce((A,p)=>A*p);return d._size=FH(u,f),d},t.prototype.clone=function(){return new t({data:Fr(this._data),size:Fr(this._size),datatype:this._datatype})},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(u){var h=this,d=h.size();if(1!==d.length){var A=Array(d.length).fill(0),p=Array(d.length-1),m=p.length-1;p[0]=h._data[0];for(var g=0;g<m;g++)p[g+1]=p[g][0];for(A[m]=-1;;){var y=void 0;for(y=m;y>=0;y--){if(A[y]++,A[y]!==d[y]){p[y]=0===y?h._data[A[y]]:p[y-1][A[y]];for(var v=y;v<m;v++)p[v+1]=p[v][0];for(var _=0;_<d[p.length];_++)A[p.length]=_,u(p[m],_,A.slice(0));break}A[y]=0}if(-1===y)break}}else for(var f=0;f<d[0];f++)u(h._data,f,[f])},t.prototype.map=function(u){var h=this,d=new t(h),f=U0(u,h._data,"map");return d._forEach(function(A,p,m){A[p]=f(A[p],m,h)}),d},t.prototype.forEach=function(u){var h=this,d=U0(u,h._data,"map");h._forEach(function(f,A,p){d(f[A],p,h)})},t.prototype[Symbol.iterator]=function*(){var u=function*(d,f){if(Ts(d))for(var A=0;A<d.length;A++)yield*u(d[A],f.concat(A));else yield{value:d,index:f}};yield*u(this._data,[])},t.prototype.rows=function(){var u=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var f of d)u.push(new t([f],this._datatype));return u},t.prototype.columns=function(){var u=this,h=[],d=this.size();if(2!==d.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var f=this._data,A=function(g){var y=f.map(v=>[v[g]]);h.push(new t(y,u._datatype))},p=0;p<d[1];p++)A(p);return h},t.prototype.toArray=function(){return Fr(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(u){return ri(this._data,u)},t.prototype.toString=function(){return ri(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(u){if(u){if(Vr(u)&&(u=u.toNumber()),!Hr(u)||!Kn(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var h=u>0?u:0,d=u<0?-u:0,p=Math.min(this._size[0]-d,this._size[1]-h),m=[],g=0;g<p;g++)m[g]=this._data[g+d][g+h];return new t({data:m,size:[p],datatype:this._datatype})},t.diagonal=function(u,h,d,f){if(!Ts(u))throw new TypeError("Array expected, size parameter");if(2!==u.length)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(M){if(Vr(M)&&(M=M.toNumber()),!Hr(M)||!Kn(M)||M<1)throw new Error("Size values must be positive integers");return M}),d){if(Vr(d)&&(d=d.toNumber()),!Hr(d)||!Kn(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var v,A=d>0?d:0,p=d<0?-d:0,m=u[0],g=u[1],y=Math.min(m-p,g-A);if(Ts(h)){if(h.length!==y)throw new Error("Invalid value array length");v=function(D){return h[D]}}else if(ur(h)){var _=h.size();if(1!==_.length||_[0]!==y)throw new Error("Invalid matrix length");v=function(D){return h.get([D])}}else v=function(){return h};f||(f=Vr(v(0))?v(0).mul(0):0);var C=[];if(u.length>0){C=gb(C,u,f);for(var b=0;b<y;b++)C[b+p][b+A]=v(b)}return new t({data:C,size:[m,g]})},t.fromJSON=function(u){return new t(u)},t.prototype.swapRows=function(u,h){if(!(Hr(u)&&Kn(u)&&Hr(h)&&Kn(h)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Ks(u,this._size[0]),Ks(h,this._size[0]),t._swapRows(u,h,this._data),this},t._swapRows=function(u,h,d){var f=d[u];d[u]=d[h],d[h]=f},t},{isClass:!0}),Aze=ye("replacer",[],()=>function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?"bigint"==typeof t?{mathjs:"bigint",value:String(t)}:t:{mathjs:"number",value:String(t)}}),ere=function(){return ere=EI.create,EI},gze=ye("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:r,DenseMatrix:i,Fraction:s}=e,o=ere();return o.clear(),o.addTypes([{name:"number",test:Hr},{name:"Complex",test:Sp},{name:"BigNumber",test:Vr},{name:"bigint",test:a5e},{name:"Fraction",test:jx},{name:"Unit",test:Wh},{name:"identifier",test:a=>fc&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:fc},{name:"Chain",test:Lee},{name:"Array",test:Ts},{name:"Matrix",test:ur},{name:"DenseMatrix",test:ZN},{name:"SparseMatrix",test:O0},{name:"Range",test:xH},{name:"Index",test:eI},{name:"boolean",test:l5e},{name:"ResultSet",test:c5e},{name:"Help",test:Pee},{name:"function",test:u5e},{name:"Date",test:h5e},{name:"RegExp",test:f5e},{name:"null",test:d5e},{name:"undefined",test:A5e},{name:"AccessorNode",test:P0},{name:"ArrayNode",test:Kh},{name:"AssignmentNode",test:p5e},{name:"BlockNode",test:g5e},{name:"ConditionalNode",test:m5e},{name:"ConstantNode",test:Di},{name:"FunctionNode",test:pm},{name:"FunctionAssignmentNode",test:Wx},{name:"IndexNode",test:fb},{name:"Node",test:Bs},{name:"ObjectNode",test:tI},{name:"OperatorNode",test:da},{name:"ParenthesisNode",test:xp},{name:"RangeNode",test:v5e},{name:"RelationalNode",test:y5e},{name:"SymbolNode",test:Al},{name:"Map",test:hb},{name:"Object",test:qx}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||QI(l),function P5e(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return r||zI(l),new r(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return r||zI(l),new r(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return t||QI(l),new t(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return s||GI(l),new s(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return r||zI(l),new r(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){s||GI(l);var c=new s(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){t||QI(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){s||GI(l);try{return new s(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){r||zI(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||QI(l),new t(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return s||GI(l),new s(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||function mze(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(a,l,c)=>{var u=o.createError(a,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&$h(l[0])&&c.some(d=>!d.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=u.data,h}throw u},o.onMismatch=(a,l,c)=>{var u=o.createError(a,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&$h(l[0])&&c.some(d=>!d.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=u.data,h}throw u},o});function QI(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function zI(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function GI(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var Du="number",Tp="number, number";function tre(n){return Math.abs(n)}function nre(n,e){return n+e}function rre(n,e){return n-e}function ire(n,e){return n*e}function sre(n){return-n}function ore(n){return n}function rE(n){return I5e(n)}function are(n){return n*n*n}function lre(n){return Math.exp(n)}function cre(n){return F5e(n)}function ure(n,e){if(!Kn(n)||!Kn(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===n||0===e)return 0;for(var t,r=n*e;0!==e;)e=n%(t=e),n=t;return Math.abs(r/n)}function hre(n){return N5e(n)}function fre(n){return B5e(n)}function dre(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=e<0;if(t&&(e=-e),0===e)throw new Error("Root must be non-zero");if(n<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===n)return t?1/0:0;if(!isFinite(n))return t?0:n;var r=Math.pow(Math.abs(n),1/e);return r=n<0?-r:r,t?1/r:r}function h8(n){return mm(n)}function Are(n){return n*n}function pre(n,e){var t,r,i,s=0,o=1,a=1,l=0;if(!Kn(n)||!Kn(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)i=n-(r=Math.floor(n/e))*e,t=s,s=o-r*s,o=t,t=a,a=l-r*a,l=t,n=e,e=i;return n<0?[-n,-o,-l]:[n,n?o:0,l]}function gre(n,e){return n*n<1&&e===1/0||n*n>1&&e===-1/0?0:Math.pow(n,e)}function iE(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Kn(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Vee(n,e))}tre.signature=Du,nre.signature=Tp,rre.signature=Tp,ire.signature=Tp,sre.signature=Du,ore.signature=Du,rE.signature=Du,are.signature=Du,lre.signature=Du,cre.signature=Du,ure.signature=Tp,hre.signature=Du,fre.signature=Du,h8.signature=Du,Are.signature=Du,pre.signature=Tp,gre.signature=Tp;var Eze=ye("abs",["typed"],n=>{var{typed:e}=n;return e("abs",{number:tre,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>r=>Or(r,t,!0))})}),Mze=ye("acos",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("acos",{number:function(s){return s>=-1&&s<=1||t.predictable?Math.acos(s):new r(s,0).acos()},Complex:function(s){return s.acos()},BigNumber:function(s){return s.acos()}})}),Mo="number";function yre(n){return L5e(n)}function _re(n){return Math.atan(1/n)}function bre(n){return isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0}function wre(n){return Math.asin(1/n)}function Cre(n){var e=1/n;return Math.log(e+Math.sqrt(e*e+1))}function Sre(n){return Math.acos(1/n)}function xre(n){var e=1/n,t=Math.sqrt(e*e-1);return Math.log(t+e)}function Ere(n){return U5e(n)}function Dre(n){return k5e(n)}function Mre(n){return 1/Math.tan(n)}function Tre(n){var e=Math.exp(2*n);return(e+1)/(e-1)}function Bre(n){return 1/Math.sin(n)}function Nre(n){return 0===n?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(n)-Math.exp(-n)))*mm(n)}function Ire(n){return 1/Math.cos(n)}function Fre(n){return 2/(Math.exp(n)+Math.exp(-n))}function Rre(n){return H5e(n)}yre.signature=Mo,_re.signature=Mo,bre.signature=Mo,wre.signature=Mo,Cre.signature=Mo,Sre.signature=Mo,xre.signature=Mo,Ere.signature=Mo,Dre.signature=Mo,Mre.signature=Mo,Tre.signature=Mo,Bre.signature=Mo,Nre.signature=Mo,Ire.signature=Mo,Fre.signature=Mo,Rre.signature=Mo;var Hze=ye("acot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acot",{number:_re,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})}),Qze=ye("acsc",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("acsc",{number:function(o){return o<=-1||o>=1||t.predictable?wre(o):new r(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})}),Gze=ye("addScalar",["typed"],n=>{var{typed:e}=n;return e("addScalar",{"number, number":nre,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"bigint, bigint":function(r,i){return r+i},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==i.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var s=r.clone();return s.value=e.find(t,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})}),qze=ye("arg",["typed"],n=>{var{typed:e}=n;return e("arg",{number:function(r){return Math.atan2(0,r)},BigNumber:function(r){return r.constructor.atan2(0,r)},Complex:function(r){return r.arg()},"Array | Matrix":e.referToSelf(t=>r=>Or(r,t))})}),$ze=ye("asech",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("asech",{number:function(o){if(o<=1&&o>=-1||t.predictable){var a=1/o;if(a>0||t.predictable)return xre(o);var l=Math.sqrt(a*a-1);return new r(Math.log(l-a),Math.PI)}return new r(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})}),Yze=ye("asinh",["typed"],n=>{var{typed:e}=n;return e("asinh",{number:Ere,Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()}})}),e9e=ye("atan",["typed"],n=>{var{typed:e}=n;return e("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()}})}),n9e=ye("atanh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("atanh",{number:function(s){return s<=1&&s>=-1||t.predictable?Dre(s):new r(s,0).atanh()},Complex:function(s){return s.atanh()},BigNumber:function(s){return s.atanh()}})}),s9e=ye("bigint",["typed"],n=>{var{typed:e}=n,t=e("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":e.referToSelf(r=>i=>Or(i,r))});return t.fromJSON=function(r){return BigInt(r.value)},t}),a9e=ye("bitNot",["typed"],n=>{var{typed:e}=n;return e("bitNot",{number:tne,BigNumber:Jx,bigint:t=>~t,"Array | Matrix":e.referToSelf(t=>r=>Or(r,t))})}),c9e=ye("boolean",["typed"],n=>{var{typed:e}=n;return e("boolean",{"":function(){return!1},boolean:function(r){return r},number:function(r){return!!r},null:function(r){return!1},BigNumber:function(r){return!r.isZero()},string:function(r){var i=r.toLowerCase();if("true"===i)return!0;if("false"===i)return!1;var s=Number(r);if(""!==r&&!isNaN(s))return!!s;throw new Error('Cannot convert "'+r+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>r=>Or(r,t))})}),h9e=ye("clone",["typed"],n=>{var{typed:e}=n;return e("clone",{any:Fr})});function Bp(n,e){if(e<n)return 1;if(e===n)return e;var t=e+n>>1;return Bp(n,t)*Bp(t+1,e)}function Gre(n,e){if(!Kn(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!Kn(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>n)throw new TypeError("k must be less than or equal to n");for(var t=n-e,r=1,s=2,o=e<t?e:t,a=e<t?t+1:e+1;a<=n;++a)for(r*=a;s<=o&&r%s==0;)r/=s,++s;return s<=o&&(r/=Bp(s,o)),r}Gre.signature="number, number";var jre="combinations",d9e=ye(jre,["typed"],n=>{var{typed:e}=n;return e(jre,{"number, number":Gre,"BigNumber, BigNumber":function(r,i){var o,a,s=r.constructor,l=r.minus(i),c=new s(1);if(!qre(r)||!qre(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(r))throw new TypeError("k must be less than n in function combinations");if(o=c,i.lt(l))for(a=c;a.lte(l);a=a.plus(c))o=o.times(i.plus(a)).dividedBy(a);else for(a=c;a.lte(i);a=a.plus(c))o=o.times(l.plus(a)).dividedBy(a);return o}})});function qre(n){return n.isInteger()&&n.gte(0)}var g9e=ye("complex",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,s){return new t(i,s)},"BigNumber, BigNumber":function(i,s){return new t(i.toNumber(),s.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(r=>i=>Or(i,r))})}),v9e=ye("conj",["typed"],n=>{var{typed:e}=n;return e("conj",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>r=>Or(r,t))})}),Sb=ye("trigUnit",["typed"],n=>{var{typed:e}=n;return{Unit:e.referToSelf(t=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,r.valueType())(r.value)})}}),_9e=ye("cos",["typed"],n=>{var{typed:e}=n,t=Sb({typed:e});return e("cos",{number:Math.cos,"Complex | BigNumber":r=>r.cos()},t)}),w9e=ye("cot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("cot",{number:Mre,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},Sb({typed:e}))}),S9e=ye("csc",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csc",{number:Bre,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},Sb({typed:e}))}),E9e=ye("cube",["typed"],n=>{var{typed:e}=n;return e("cube",{number:are,Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},bigint:function(r){return r*r*r},Fraction:function(r){return r.pow(3)},Unit:function(r){return r.pow(3)}})});function Mu(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!n.isNaN()&&!e.isNaN()&&(n.isFinite()&&e.isFinite()?!!n.eq(e)||n.minus(e).abs().lte(n.constructor.max(n.constructor.max(n.abs(),e.abs()).mul(t),r)):n.eq(e))}var xb=ye("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[r.valueType(),i.valueType()])(r.value,i.value)})}}),jI="equalScalar",T9e=ye(jI,["typed","config"],n=>{var{typed:e,config:t}=n,r=xb({typed:e});return e(jI,{"boolean, boolean":function(s,o){return s===o},"number, number":function(s,o){return Pl(s,o,t.relTol,t.absTol)},"BigNumber, BigNumber":function(s,o){return s.eq(o)||Mu(s,o,t.relTol,t.absTol)},"bigint, bigint":function(s,o){return s===o},"Fraction, Fraction":function(s,o){return s.equals(o)},"Complex, Complex":function(s,o){return function D9e(n,e,t,r){return Pl(n.re,e.re,t,r)&&Pl(n.im,e.im,t,r)}(s,o,t.relTol,t.absTol)}},r)}),I9e=(ye(jI,["typed","config"],n=>{var{typed:e,config:t}=n;return e(jI,{"number, number":function(i,s){return Pl(i,s,t.relTol,t.absTol)}})}),ye("erf",["typed"],n=>{var{typed:e}=n;return e("name",{number:function(o){var a=Math.abs(o);return a>=O9e?mm(o):a<=F9e?mm(o)*function t(s){var c,o=s*s,a=Np[0][4]*o,l=o;for(c=0;c<3;c+=1)a=(a+Np[0][c])*o,l=(l+Eb[0][c])*o;return s*(a+Np[0][3])/(l+Eb[0][3])}(a):a<=4?mm(o)*(1-function r(s){var l,o=Np[1][8]*s,a=s;for(l=0;l<7;l+=1)o=(o+Np[1][l])*s,a=(a+Eb[1][l])*s;var c=(o+Np[1][7])/(a+Eb[1][7]),u=parseInt(16*s)/16,h=(s-u)*(s+u);return Math.exp(-u*u)*Math.exp(-h)*c}(a)):mm(o)*(1-function i(s){var c,o=1/(s*s),a=Np[2][5]*o,l=o;for(c=0;c<4;c+=1)a=(a+Np[2][c])*o,l=(l+Eb[2][c])*o;var u=o*(a+Np[2][4])/(l+Eb[2][4]);u=(R9e-u)/s;var h=(s-(o=parseInt(16*s)/16))*(s+o);return Math.exp(-o*o)*Math.exp(-h)*u}(a))},"Array | Matrix":e.referToSelf(s=>o=>Or(o,s))})})),F9e=.46875,R9e=.5641895835477563,Np=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Eb=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],O9e=Math.pow(2,53),L9e=ye("exp",["typed"],n=>{var{typed:e}=n;return e("exp",{number:lre,Complex:function(r){return r.exp()},BigNumber:function(r){return r.exp()}})}),k9e=ye("expm1",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("expm1",{number:cre,Complex:function(i){var s=Math.exp(i.re);return new t(s*Math.cos(i.im)-1,s*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),V9e=ye("flatten",["typed"],n=>{var{typed:e}=n;return e("flatten",{Array:function(r){return ji(r)},Matrix:function(r){return r.create(ji(r.toArray()),r.datatype())}})}),z9e=ye("format",["typed"],n=>{var{typed:e}=n;return e("format",{any:ri,"any, Object | function | number | BigNumber":ri})}),nie="getMatrixDataType",j9e=ye(nie,["typed"],n=>{var{typed:e}=n;return e(nie,{Array:function(r){return aI(r,$s)},Matrix:function(r){return r.getDataType()}})}),W9e=ye("hex",["typed","format"],n=>{var{typed:e,format:t}=n;return e("hex",{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"hex",wordSize:s})}})}),K9e=ye("im",["typed"],n=>{var{typed:e}=n;return e("im",{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>r=>Or(r,t))})}),Y9e=ye("isInteger",["typed"],n=>{var{typed:e}=n;return e("isInteger",{number:Kn,BigNumber:function(r){return r.isInt()},bigint:function(r){return!0},Fraction:function(r){return 1n===r.d},"Array | Matrix":e.referToSelf(t=>r=>Or(r,t))})}),sE="number";function oie(n){return n<0}function aie(n){return n>0}function lie(n){return Number.isNaN(n)}oie.signature=sE,aie.signature=sE,lie.signature=sE;var cie="isNegative",tGe=ye(cie,["typed","config"],n=>{var{typed:e,config:t}=n;return e(cie,{number:r=>!Pl(r,0,t.relTol,t.absTol)&&oie(r),BigNumber:r=>!Mu(r,new r.constructor(0),t.relTol,t.absTol)&&r.isNeg()&&!r.isZero()&&!r.isNaN(),bigint:r=>r<0n,Fraction:r=>r.s<0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Or(i,r))})}),uie="isPositive",rGe=ye(uie,["typed","config"],n=>{var{typed:e,config:t}=n;return e(uie,{number:r=>!Pl(r,0,t.relTol,t.absTol)&&aie(r),BigNumber:r=>!(Mu(r,new r.constructor(0),t.relTol,t.absTol)||r.isNeg()||r.isZero()||r.isNaN()),bigint:r=>r>0n,Fraction:r=>r.s>0n&&r.n>0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Or(i,r))})}),sGe=ye("isZero",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e("isZero",{"number | BigNumber | Complex | Fraction":r=>t(r,0),bigint:r=>0n===r,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Or(i,r))})});function qI(n){var e;if(Kn(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:Bp(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*qI(1-n));if(n>=171.35)return 1/0;if(n>85){var t=n*n,r=t*n,i=r*n,s=i*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*t)-139/(51840*r)-571/(2488320*i)+163879/(209018880*s)+5246819/(75246796800*s*n))}--n,e=Db[0];for(var o=1;o<Db.length;++o)e+=Db[o]/(n+o);var a=n+fie+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,n+.5)*Math.exp(-a)*e}qI.signature="number";var fie=4.7421875,Db=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],die=.9189385332046728,Aie=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function WI(n){if(n<0)return NaN;if(0===n)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-WI(1-n);for(var e=5+(n-=1)+.5,t=Aie[0],r=6;r>=1;r--)t+=Aie[r]/(n+r);return die+(n+.5)*Math.log(e)-e+Math.log(t)}WI.signature="number";var cGe=ye("lgamma",["Complex","typed"],n=>{var{Complex:e,typed:t}=n,s=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t("lgamma",{number:WI,Complex:function o(c){if(c.isNaN())return new e(NaN,NaN);if(0===c.im)return new e(WI(c.re),0);if(c.re>=7||Math.abs(c.im)>=7)return a(c);if(c.re<=.1){var f=function V5e(n,e){return(n>0||!(n<0)&&1/n==1/0)^(e>0||!(e<0)&&1/e==1/0)?-n:n}(6.283185307179586,c.im)*Math.floor(.5*c.re+.25),A=c.mul(Math.PI).sin().log(),p=o(new e(1-c.re,-c.im));return new e(1.1447298858494002,f).sub(A).sub(p)}return c.im>=0?l(c):l(c.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function a(c){for(var u=c.sub(.5).mul(c.log()).sub(c).add(die),h=new e(1,0).div(c),d=h.div(c),f=s[0],A=s[1],p=2*d.re,m=d.re*d.re+d.im*d.im,g=2;g<8;g++){var y=A;A=-m*f+s[g],f=p*f+y}var v=h.mul(d.mul(f).add(A));return u.add(v)}function l(c){var u=0,h=0,d=c;for(c=c.add(1);c.re<=7;){var f=(d=d.mul(c)).im<0?1:0;0!==f&&0===h&&u++,h=f,c=c.add(1)}return a(c).sub(d.log()).sub(new e(0,2*u*Math.PI*1))}}),hGe=ye("log10",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("log10",{number:function(s){return s>=0||t.predictable?hre(s):new r(s,0).log().div(Math.LN10)},Complex:function(s){return new r(s).log().div(Math.LN10)},BigNumber:function(s){return!s.isNegative()||t.predictable?s.log():new r(s.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>s=>Or(s,i))})}),dGe=ye("log2",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("log2",{number:function(o){return o>=0||t.predictable?fre(o):i(new r(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new r(o.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>o=>Or(o,s))});function i(s){var o=Math.sqrt(s.re*s.re+s.im*s.im);return new r(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(s.im,s.re)/Math.LN2)}}),gGe=ye("multiplyScalar",["typed"],n=>{var{typed:e}=n;return e("multiplyScalar",{"number, number":ire,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"bigint, bigint":function(r,i){return r*i},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,r)=>r.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,r)=>t.multiply(r)})}),vGe=ye("not",["typed"],n=>{var{typed:e}=n;return e("not",{"null | undefined":()=>!0,number:Hte,Complex:function(r){return 0===r.re&&0===r.im},BigNumber:function(r){return r.isZero()||r.isNaN()},bigint:t=>!t,Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>Or(r,t))})}),CGe=ye("number",["typed"],n=>{var{typed:e}=n,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if("NaN"===i)return NaN;var s=function bGe(n){var e=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return e?{input:n,radix:{"0b":2,"0o":8,"0x":16}[e[1]],integerPart:e[2],fractionalPart:e[3]}:null}(i);if(s)return function wGe(n){for(var e=parseInt(n.integerPart,n.radix),t=0,r=0;r<n.fractionalPart.length;r++)t+=parseInt(n.fractionalPart[r],n.radix)/Math.pow(n.radix,r+1);var s=e+t;if(isNaN(s))throw new SyntaxError('String "'+n.input+'" is not a valid number');return s}(s);var o=0,a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),i=a[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(a){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l-=2**o)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),null:function(i){return 0},"Unit, string | Unit":function(i,s){return i.toNumber(s)},"Array | Matrix":e.referToSelf(r=>i=>Or(i,r))});return t.fromJSON=function(r){return parseFloat(r.value)},t}),xGe=ye("oct",["typed","format"],n=>{var{typed:e,format:t}=n;return e("oct",{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"oct",wordSize:s})}})}),_ie=we(8814),EGe=_ie(Date.now());function Mb(n){var e;return function t(i){e=null===i?EGe:_ie(String(i))}(n),function r(){return e()}}var bie="pickRandom",MGe=ye(bie,["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Mb(t.randomSeed);return r&&r("config",function(o,a){o.randomSeed!==a.randomSeed&&(i=Mb(o.randomSeed))}),e(bie,{"Array | Matrix":function(a){return s(a,{})},"Array | Matrix, Object":function(a,l){return s(a,l)},"Array | Matrix, number":function(a,l){return s(a,{number:l})},"Array | Matrix, Array | Matrix":function(a,l){return s(a,{weights:l})},"Array | Matrix, Array | Matrix, number":function(a,l,c){return s(a,{number:c,weights:l})},"Array | Matrix, number, Array | Matrix":function(a,l,c){return s(a,{number:l,weights:c})}});function s(o,a){var{number:l,weights:c,elementWise:u=!0}=a,h=typeof l>"u";h&&(l=1);var d=ur(o)?o.create:ur(c)?c.create:null;o=o.valueOf(),c&&(c=c.valueOf()),!0===u&&(o=ji(o),c=ji(c));var f=0;if(typeof c<"u"){if(c.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var A=0,p=c.length;A<p;A++){if(!Hr(c[A])||c[A]<0)throw new Error("Weights must be an array of positive numbers");f+=c[A]}}for(var y,m=o.length,g=[];g.length<l;){if(typeof c>"u")y=o[Math.floor(i()*m)];else for(var v=i()*f,_=0,C=o.length;_<C;_++)if((v-=c[_])<0){y=o[_];break}g.push(y)}return h?g[0]:d?d(g):g}});function f8(n,e){var t=[];if((n=n.slice(0)).length>1)for(var r=0,i=n.shift();r<i;r++)t.push(f8(n,e));else for(var s=0,o=n.shift();s<o;s++)t.push(e());return t}var BGe=ye("random",["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Mb(t.randomSeed);return r&&r("config",function(a,l){a.randomSeed!==l.randomSeed&&(i=Mb(a.randomSeed))}),e("random",{"":()=>o(0,1),number:a=>o(0,a),"number, number":(a,l)=>o(a,l),"Array | Matrix":a=>s(a,0,1),"Array | Matrix, number":(a,l)=>s(a,0,l),"Array | Matrix, number, number":(a,l,c)=>s(a,l,c)});function s(a,l,c){var u=f8(a.valueOf(),()=>o(l,c));return ur(a)?a.create(u,"number"):u}function o(a,l){return a+i()*(l-a)}}),IGe=ye("re",["typed"],n=>{var{typed:e}=n;return e("re",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>r=>Or(r,t))})}),RGe=ye("sec",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sec",{number:Ire,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},Sb({typed:e}))}),PGe=ye("sign",["typed","BigNumber","Fraction","complex"],n=>{var{typed:e,BigNumber:t,complex:r,Fraction:i}=n;return e("sign",{number:h8,Complex:function(o){return 0===o.im?r(h8(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},bigint:function(o){return o>0n?1n:o<0n?-1n:0n},Fraction:function(o){return new i(o.s)},"Array | Matrix":e.referToSelf(s=>o=>Or(o,s,!0)),Unit:e.referToSelf(s=>o=>{if(!o._isDerived()&&0!==o.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return e.find(s,o.valueType())(o.value)})})}),UGe=ye("sin",["typed"],n=>{var{typed:e}=n,t=Sb({typed:e});return e("sin",{number:Math.sin,"Complex | BigNumber":r=>r.sin()},t)}),VGe=ye("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:e,equalScalar:t,Matrix:r}=n;function i(p,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!fc(m))throw new Error("Invalid datatype: "+m);if(ur(p))!function s(p,m,g){"SparseMatrix"===m.type?(p._values=m._values?Fr(m._values):void 0,p._index=Fr(m._index),p._ptr=Fr(m._ptr),p._size=Fr(m._size),p._datatype=g||m._datatype):o(p,m.valueOf(),g||m._datatype)}(this,p,m);else if(p&&Ts(p.index)&&Ts(p.ptr)&&Ts(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=m||p.datatype;else if(Ts(p))o(this,p,m);else{if(p)throw new TypeError("Unsupported type of data ("+$s(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function o(p,m,g){p._values=[],p._index=[],p._ptr=[],p._datatype=g;var y=m.length,v=0,_=t,C=0;if(fc(g)&&(_=e.find(t,[g,g])||t,C=e.convert(0,g)),y>0){var b=0;do{p._ptr.push(p._index.length);for(var M=0;M<y;M++){var D=m[M];if(Ts(D)){if(0===b&&v<D.length&&(v=D.length),b<D.length){var x=D[b];_(x,C)||(p._values.push(x),p._index.push(M))}}else 0===b&&v<1&&(v=1),_(D,C)||(p._values.push(D),p._index.push(M))}b++}while(b<v)}p._ptr.push(p._index.length),p._size=[y,v]}function c(p,m,g,y){if(g-m==0)return g;for(var v=m;v<g;v++)if(y[v]===p)return v;return m}function h(p,m,g,y,v,_,C){v.splice(p,0,y),_.splice(p,0,m);for(var b=g+1;b<C.length;b++)C[b]++}function d(p,m,g,y){var v=y||0,_=t,C=0;fc(p._datatype)&&(_=e.find(t,[p._datatype,p._datatype])||t,C=e.convert(0,p._datatype),v=e.convert(v,p._datatype));var x,T,B,b=!_(v,C),M=p._size[0],D=p._size[1];if(g>D){for(T=D;T<g;T++)if(p._ptr[T]=p._values.length,b)for(x=0;x<M;x++)p._values.push(v),p._index.push(x);p._ptr[g]=p._values.length}else g<D&&(p._ptr.splice(g+1,D-g),p._values.splice(p._ptr[g],p._values.length),p._index.splice(p._ptr[g],p._index.length));if(D=g,m>M){if(b){var R=0;for(T=0;T<D;T++){p._ptr[T]=p._ptr[T]+R,B=p._ptr[T+1]+R;var U=0;for(x=M;x<m;x++,U++)p._values.splice(B+U,0,v),p._index.splice(B+U,0,x),R++}p._ptr[D]=p._values.length}}else if(m<M){var k=0;for(T=0;T<D;T++){p._ptr[T]=p._ptr[T]-k;var O=p._ptr[T+1]-k;for(B=p._ptr[T];B<O;B++)(x=p._index[B])>m-1&&(p._values.splice(B,1),p._index.splice(B,1),k++)}p._ptr[T]=p._values.length}return p._size[0]=m,p._size[1]=g,p}function A(p,m,g,y,v){var M,D,_=y[0],C=y[1],b=[];for(M=0;M<_;M++)for(b[M]=[],D=0;D<C;D++)b[M][D]=0;for(D=0;D<C;D++)for(var T=g[D+1],B=g[D];B<T;B++)b[M=m[B]][D]=p?v?Fr(p[B]):p[B]:1;return b}return(i.prototype=new r).createSparseMatrix=function(p,m){return new i(p,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return aI(this._values,$s)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(p,m){return new i(p,m)},i.prototype.density=function(){var p=this._size[0],m=this._size[1];return 0!==p&&0!==m?this._index.length/(p*m):0},i.prototype.subset=function(p,m,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function a(p,m){if(!eI(m))throw new TypeError("Invalid index");if(m.isScalar())return p.get(m.min());var y=m.size();if(y.length!==p._size.length)throw new ii(y.length,p._size.length);var v,_,C,b,M=m.min(),D=m.max();for(v=0,_=p._size.length;v<_;v++)Ks(M[v],p._size[v]),Ks(D[v],p._size[v]);var x=p._values,T=p._index,B=p._ptr,R=m.dimension(0),U=m.dimension(1),k=[],q=[];R.forEach(function(H,ae){q[H]=ae[0],k[H]=!0});var O=x?[]:void 0,P=[],G=[];return U.forEach(function(H){for(G.push(P.length),C=B[H],b=B[H+1];C<b;C++)!0===k[v=T[C]]&&(P.push(q[v]),O&&O.push(x[C]))}),G.push(P.length),new i({values:O,index:P,ptr:G,size:y,datatype:p._datatype})}(this,p);case 2:case 3:return function l(p,m,g,y){if(!m||!0!==m.isIndex)throw new TypeError("Invalid index");var C,v=m.size(),_=m.isScalar();if(ur(g)?(C=g.size(),g=g.toArray()):C=xr(g),_){if(0!==C.length)throw new TypeError("Scalar expected");p.set(m.min(),g,y)}else{if(1!==v.length&&2!==v.length)throw new ii(v.length,p._size.length,"<");if(C.length<v.length){for(var b=0,M=0;1===v[b]&&1===C[b];)b++;for(;1===v[b];)M++,b++;g=tte(g,v.length,M,C)}if(!Cp(v,C))throw new ii(v,C,">");if(1===v.length)m.dimension(0).forEach(function(B,R){Ks(B),p.set([B,0],g[R[0]],y)});else{var x=m.dimension(0),T=m.dimension(1);x.forEach(function(B,R){Ks(B),T.forEach(function(U,k){Ks(U),p.set([B,U],g[R[0]][k[0]],y)})})}}return p}(this,p,m,g);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(p){if(!Ts(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new ii(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=p[0],g=p[1];Ks(m,this._size[0]),Ks(g,this._size[1]);var y=c(m,this._ptr[g],this._ptr[g+1],this._index);return y<this._ptr[g+1]&&this._index[y]===m?this._values[y]:0},i.prototype.set=function(p,m,g){if(!Ts(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new ii(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=p[0],v=p[1],_=this._size[0],C=this._size[1],b=t,M=0;fc(this._datatype)&&(b=e.find(t,[this._datatype,this._datatype])||t,M=e.convert(0,this._datatype)),(y>_-1||v>C-1)&&(d(this,Math.max(y+1,_),Math.max(v+1,C),g),_=this._size[0],C=this._size[1]),Ks(y,_),Ks(v,C);var D=c(y,this._ptr[v],this._ptr[v+1],this._index);return D<this._ptr[v+1]&&this._index[D]===y?b(m,M)?function u(p,m,g,y,v){g.splice(p,1),y.splice(p,1);for(var _=m+1;_<v.length;_++)v[_]--}(D,v,this._values,this._index,this._ptr):this._values[D]=m:b(m,M)||h(D,y,v,m,this._values,this._index,this._ptr),this},i.prototype.resize=function(p,m,g){if(!$h(p))throw new TypeError("Array or Matrix expected");var y=p.valueOf().map(_=>Array.isArray(_)&&1===_.length?_[0]:_);if(2!==y.length)throw new Error("Only two dimensions matrix are supported");return y.forEach(function(_){if(!Hr(_)||!Kn(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ri(y)+")")}),d(g?this.clone():this,y[0],y[1],m)},i.prototype.reshape=function(p,m){if(!Ts(p))throw new TypeError("Array expected");if(2!==p.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(H){if(!Hr(H)||!Kn(H)||H<=-2||0===H)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ri(p)+")")});var g=this._size[0]*this._size[1];if(g!==(p=FH(p,g))[0]*p[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var v=m?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return v;for(var _=[],C=0;C<v._ptr.length;C++)for(var b=0;b<v._ptr[C+1]-v._ptr[C];b++)_.push(C);for(var M=v._values.slice(),D=v._index.slice(),x=0;x<v._index.length;x++){var R=D[x]*v._size[1]+_[x];_[x]=R%p[1],D[x]=Math.floor(R/p[1])}v._values.length=0,v._index.length=0,v._ptr.length=p[1]+1,v._size=p.slice();for(var U=0;U<v._ptr.length;U++)v._ptr[U]=0;for(var k=0;k<M.length;k++){var q=D[k],O=_[k],P=M[k];h(c(q,v._ptr[O],v._ptr[O+1],v._index),q,O,P,v._values,v._index,v._ptr)}return v},i.prototype.clone=function(){return new i({values:this._values?Fr(this._values):void 0,index:Fr(this._index),ptr:Fr(this._ptr),size:Fr(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(p,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,y=this._size[0],v=this._size[1],_=U0(p,g,"map");return function f(p,m,g,y,v,_,C){var b=[],M=[],D=[],x=t,T=0;fc(p._datatype)&&(x=e.find(t,[p._datatype,p._datatype])||t,T=e.convert(0,p._datatype));for(var B=function(j,K,oe){var se=_(j,K,oe);x(se,T)||(b.push(se),M.push(K))},R=y;R<=v;R++){D.push(b.length);var U=p._ptr[R],k=p._ptr[R+1];if(C)for(var q=U;q<k;q++){var O=p._index[q];O>=m&&O<=g&&B(p._values[q],O-m,R-y)}else{for(var P={},G=U;G<k;G++)P[p._index[G]]=p._values[G];for(var ae=m;ae<=g;ae++)B(ae in P?P[ae]:0,ae-m,R-y)}}return D.push(b.length),new i({values:b,index:M,ptr:D,size:[g-m+1,v-y+1]})}(this,0,y-1,0,v-1,function(M,D,x){return _(M,[D,x],g)},m)},i.prototype.forEach=function(p,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,y=this._size[0],v=this._size[1],_=U0(p,g,"forEach"),C=0;C<v;C++){var b=this._ptr[C],M=this._ptr[C+1];if(m)for(var D=b;D<M;D++)_(this._values[D],[this._index[D],C],g);else{for(var T={},B=b;B<M;B++)T[this._index[B]]=this._values[B];for(var U=0;U<y;U++)_(U in T?T[U]:0,[U,C],g)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],m=0;m<p;m++)for(var y=this._ptr[m+1],v=this._ptr[m];v<y;v++){var _=this._index[v];yield{value:this._values[v],index:[_,m]}}},i.prototype.toArray=function(){return A(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return A(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(p){for(var m=this._size[0],g=this._size[1],y=this.density(),v="Sparse Matrix ["+ri(m,p)+" x "+ri(g,p)+"] density: "+ri(y,p)+"\n",_=0;_<g;_++)for(var b=this._ptr[_+1],M=this._ptr[_];M<b;M++)v+="\n    ("+ri(this._index[M],p)+", "+ri(_,p)+") ==> "+(this._values?ri(this._values[M],p):"X");return v},i.prototype.toString=function(){return ri(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(p){if(p){if(Vr(p)&&(p=p.toNumber()),!Hr(p)||!Kn(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var m=p>0?p:0,g=p<0?-p:0,v=this._size[1],_=Math.min(this._size[0]-g,v-m),C=[],b=[],M=[];M[0]=0;for(var D=m;D<v&&C.length<_;D++)for(var T=this._ptr[D+1],B=this._ptr[D];B<T;B++){var R=this._index[B];if(R===D-m+g){C.push(this._values[B]),b[C.length-1]=R-g;break}}return M.push(C.length),new i({values:C,index:b,ptr:M,size:[_,1]})},i.fromJSON=function(p){return new i(p)},i.diagonal=function(p,m,g,y,v){if(!Ts(p))throw new TypeError("Array expected, size parameter");if(2!==p.length)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(H){if(Vr(H)&&(H=H.toNumber()),!Hr(H)||!Kn(H)||H<1)throw new Error("Size values must be positive integers");return H}),g){if(Vr(g)&&(g=g.toNumber()),!Hr(g)||!Kn(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var _=t,C=0;fc(v)&&(_=e.find(t,[v,v])||t,C=e.convert(0,v));var B,b=g>0?g:0,M=g<0?-g:0,D=p[0],x=p[1],T=Math.min(D-M,x-b);if(Ts(m)){if(m.length!==T)throw new Error("Invalid value array length");B=function(ae){return m[ae]}}else if(ur(m)){var R=m.size();if(1!==R.length||R[0]!==T)throw new Error("Invalid matrix length");B=function(ae){return m.get([ae])}}else B=function(){return m};for(var U=[],k=[],q=[],O=0;O<x;O++){q.push(U.length);var P=O-b;if(P>=0&&P<T){var G=B(P);_(G,C)||(k.push(P+M),U.push(G))}}return q.push(U.length),new i({values:U,index:k,ptr:q,size:[D,x]})},i.prototype.swapRows=function(p,m){if(!(Hr(p)&&Kn(p)&&Hr(m)&&Kn(m)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Ks(p,this._size[0]),Ks(m,this._size[0]),i._swapRows(p,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(p,m,g,y,v){for(var C=y[p+1],b=y[p];b<C;b++)v(g[b],m[b])},i._swapRows=function(p,m,g,y,v,_){for(var C=0;C<g;C++){var b=_[C],M=_[C+1],D=c(p,b,M,v),x=c(m,b,M,v);if(D<M&&x<M&&v[D]===p&&v[x]===m){if(y){var T=y[D];y[D]=y[x],y[x]=T}}else if(D<M&&v[D]===p&&(x>=M||v[x]!==m)){var B=y?y[D]:void 0;v.splice(x,0,m),y&&y.splice(x,0,B),v.splice(x<=D?D+1:D,1),y&&y.splice(x<=D?D+1:D,1)}else if(x<M&&v[x]===m&&(D>=M||v[D]!==p)){var R=y?y[x]:void 0;v.splice(D,0,p),y&&y.splice(D,0,R),v.splice(D<=x?x+1:x,1),y&&y.splice(D<=x?x+1:x,1)}}},i},{isClass:!0}),zGe=ye("splitUnit",["typed"],n=>{var{typed:e}=n;return e("splitUnit",{"Unit, Array":function(r,i){return r.splitUnit(i)}})}),jGe=ye("square",["typed"],n=>{var{typed:e}=n;return e("square",{number:Are,Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},bigint:function(r){return r*r},Fraction:function(r){return r.mul(r)},Unit:function(r){return r.pow(2)}})}),WGe=ye("string",["typed"],n=>{var{typed:e}=n;return e("string",{"":function(){return""},number:L0,null:function(r){return"null"},boolean:function(r){return r+""},string:function(r){return r},"Array | Matrix":e.referToSelf(t=>r=>Or(r,t)),any:function(r){return String(r)}})}),Bie="subtractScalar",KGe=ye(Bie,["typed"],n=>{var{typed:e}=n;return e(Bie,{"number, number":rre,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"bigint, bigint":function(r,i){return r-i},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==i.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var s=r.clone();return s.value=e.find(t,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})}),YGe=ye("tan",["typed"],n=>{var{typed:e}=n,t=Sb({typed:e});return e("tan",{number:Math.tan,"Complex | BigNumber":r=>r.tan()},t)}),ZGe=ye("typeOf",["typed"],n=>{var{typed:e}=n;return e("typeOf",{any:$s})}),tje=ye("acosh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("acosh",{number:function(s){return s>=1||t.predictable?yre(s):s<=-1?new r(Math.log(Math.sqrt(s*s-1)-s),Math.PI):new r(s,0).acosh()},Complex:function(s){return s.acosh()},BigNumber:function(s){return s.acosh()}})}),rje=ye("acsch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acsch",{number:Cre,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})}),sje=ye("asec",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("asec",{number:function(o){return o<=-1||o>=1||t.predictable?Sre(o):new r(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})}),lje=ye("bignumber",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(s){var o=s[2],a=t(s[1]),l=new t(2).pow(Number(o));if(a.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new t(2).pow(Number(o)-1);return a.gte(c)?a.sub(l):a}return new t(i)},BigNumber:function(i){return i},bigint:function(i){return new t(i.toString())},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),Fraction:function(i){return new t(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(r=>i=>Or(i,r))})}),Pie="combinationsWithRep",uje=ye(Pie,["typed"],n=>{var{typed:e}=n;return e(Pie,{"number, number":function(r,i){if(!Kn(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Kn(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r<1)throw new TypeError("k must be less than or equal to n + k - 1");return i<r-1?Bp(r,r+i-1)/Bp(1,i):Bp(i+1,r+i-1)/Bp(1,r-1)},"BigNumber, BigNumber":function(r,i){var o,a,l=new(0,r.constructor)(1),c=r.minus(l);if(!Lie(r)||!Lie(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,i.lt(c))for(a=l;a.lte(c);a=a.plus(l))o=o.times(i.plus(a)).dividedBy(a);else for(a=l;a.lte(i);a=a.plus(l))o=o.times(c.plus(a)).dividedBy(a);return o}})});function Lie(n){return n.isInteger()&&n.gte(0)}var fje=ye("cosh",["typed"],n=>{var{typed:e}=n;return e("cosh",{number:zee,"Complex | BigNumber":t=>t.cosh()})}),Aje=ye("csch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csch",{number:Nre,Complex:r=>r.csch(),BigNumber:r=>new t(1).div(r.sinh())})}),gje=ye("isNaN",["typed"],n=>{var{typed:e}=n;return e("isNaN",{number:lie,BigNumber:function(r){return r.isNaN()},bigint:function(r){return!1},Fraction:function(r){return!1},Complex:function(r){return r.isNaN()},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":e.referToSelf(t=>r=>Or(r,t))})}),vje=ye("isPrime",["typed"],n=>{var{typed:e}=n;return e("isPrime",{number:function(r){if(r<=3)return r>1;if(r%2==0||r%3==0)return!1;for(var i=5;i*i<=r;i+=6)if(r%i==0||r%(i+2)==0)return!1;return!0},bigint:function(r){if(r<=3n)return r>1n;if(r%2n===0n||r%3n===0n)return!1;for(var i=5n;i*i<=r;i+=6n)if(r%i===0n||r%(i+2n)===0n)return!1;return!0},BigNumber:function(r){if(r.lte(3))return r.gt(1);if(r.mod(2).eq(0)||r.mod(3).eq(0))return!1;if(r.lt(Math.pow(2,32))){for(var i=r.toNumber(),s=5;s*s<=i;s+=6)if(i%s==0||i%(s+2)==0)return!1;return!0}function o(y,v,_){for(var C=1;!v.eq(0);)v.mod(2).eq(0)?(v=v.div(2),y=y.mul(y).mod(_)):(v=v.sub(1),C=y.mul(C).mod(_));return C}for(var a=r.constructor.clone({precision:2*r.toFixed(0).length}),l=0,c=(r=new a(r)).sub(1);c.mod(2).eq(0);)c=c.div(2),l+=1;var u=null;if(r.lt("3317044064679887385961981"))u=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(y=>y<r);else{var h=Math.min(r.toNumber()-2,Math.floor(2*Math.pow(r.toFixed(0).length*Math.log(10),2)));u=[];for(var d=2;d<=h;d+=1)u.push(h)}for(var f=0;f<u.length;f+=1){var A=u[f],p=o(r.sub(r).add(A),c,r);if(!p.eq(1))for(var m=0,g=p;!g.eq(r.sub(1));m+=1,g=g.mul(g).mod(r))if(m===l-1)return!1}return!0},"Array | Matrix":e.referToSelf(t=>r=>Or(r,t))})}),_je=ye("randomInt",["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Mb(t.randomSeed);return r&&r("config",function(a,l){a.randomSeed!==l.randomSeed&&(i=Mb(a.randomSeed))}),e("randomInt",{"":()=>o(0,1),number:a=>o(0,a),"number, number":(a,l)=>o(a,l),"Array | Matrix":a=>s(a,0,1),"Array | Matrix, number":(a,l)=>s(a,0,l),"Array | Matrix, number, number":(a,l,c)=>s(a,l,c)});function s(a,l,c){var u=f8(a.valueOf(),()=>o(l,c));return ur(a)?a.create(u,"number"):u}function o(a,l){return Math.floor(a+i()*(l-a))}}),wje=ye("sech",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sech",{number:Fre,Complex:r=>r.sech(),BigNumber:r=>new t(1).div(r.cosh())})}),Sje=ye("sinh",["typed"],n=>{var{typed:e}=n;return e("sinh",{number:Rre,"Complex | BigNumber":t=>t.sinh()})}),Eje=ye("sparse",["typed","SparseMatrix"],n=>{var{typed:e,SparseMatrix:t}=n;return e("sparse",{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,s){return new t(i,s)}})}),Tje=ye("sqrt",["config","typed","Complex"],n=>{var{config:e,typed:t,Complex:r}=n;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(s){return isNaN(s)?NaN:s>=0||e.predictable?Math.sqrt(s):new r(s,0).sqrt()}}),Nje=ye("squeeze",["typed"],n=>{var{typed:e}=n;return e("squeeze",{Array:function(r){return sI(Fr(r))},Matrix:function(r){var i=sI(r.toArray());return Array.isArray(i)?r.create(i,r.datatype()):i},any:function(r){return Fr(r)}})}),Rje=ye("tanh",["typed"],n=>{var{typed:e}=n;return e("tanh",{number:Gee,"Complex | BigNumber":t=>t.tanh()})}),Wie="unaryMinus",Pje=ye(Wie,["typed"],n=>{var{typed:e}=n;return e(Wie,{number:sre,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>r=>{var i=r.clone();return i.value=e.find(t,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(t=>r=>Or(r,t,!0))})}),Uje=ye("acoth",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("acoth",{number:function(o){return o>=1||o<=-1||t.predictable?bre(o):new r(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})}),Hje=ye("bin",["typed","format"],n=>{var{typed:e,format:t}=n;return e("bin",{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"bin",wordSize:s})}})}),Qje=ye("coth",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("coth",{number:Tre,Complex:r=>r.coth(),BigNumber:r=>new t(1).div(r.tanh())})}),jje=ye("fraction",["typed","Fraction"],n=>{var{typed:e,Fraction:t}=n;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,s){return new t(i,s)},"bigint, bigint":function(i,s){return new t(i,s)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},bigint:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>Or(i,r))})}),Wje=ye("isNumeric",["typed"],n=>{var{typed:e}=n;return e("isNumeric",{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>r=>Or(r,t))})}),Kje=ye("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,DenseMatrix:r,SparseMatrix:i}=n;return e("matrix",{"":function(){return s([])},string:function(a){return s([],a)},"string, string":function(a,l){return s([],a,l)},Array:function(a){return s(a)},Matrix:function(a){return s(a,a.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(o,a,l){if("dense"===a||"default"===a||void 0===a)return new r(o,l);if("sparse"===a)return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),Zie="matrixFromFunction",Yje=ye(Zie,["typed","matrix","isZero"],n=>{var{typed:e,matrix:t,isZero:r}=n;return e(Zie,{"Array | Matrix, function, string, string":function(o,a,l,c){return i(o,a,l,c)},"Array | Matrix, function, string":function(o,a,l){return i(o,a,l)},"Matrix, function":function(o,a){return i(o,a,"dense")},"Array, function":function(o,a){return i(o,a,"dense").toArray()},"Array | Matrix, string, function":function(o,a,l){return i(o,l,a)},"Array | Matrix, string, string, function":function(o,a,l,c){return i(o,c,a,l)}});function i(s,o,a,l){var c;return(c=void 0!==l?t(a,l):t(a)).resize(s),c.forEach(function(u,h){var d=o(h);r(d)||c.set(h,d)}),c}}),Zje=ye("mode",["typed","isNaN","isNumeric"],n=>{var{typed:e,isNaN:t,isNumeric:r}=n;return e("mode",{"Array | Matrix":i,"...":function(o){return i(o)}});function i(s){if(0===(s=ji(s.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var a={},l=[],c=0,u=0;u<s.length;u++){var h=s[u];if(r(h)&&t(h))throw new Error("Cannot calculate mode of an array containing NaN values");h in a||(a[h]=0),a[h]++,a[h]===c?l.push(h):a[h]>c&&(c=a[h],l=[h])}return l}}),nqe=ye("numeric",["number","?bignumber","?fraction"],n=>{var{number:e,bignumber:t,fraction:r}=n,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:o=>e(o),BigNumber:t?o=>t(o):VH,bigint:o=>BigInt(o),Fraction:r?o=>r(o):vte};return function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var u=$s(a);if(!(u in i))throw new TypeError("Cannot convert "+a+' of type "'+u+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in s))throw new TypeError("Cannot convert "+a+' to type "'+l+'"; valid output types are '+Object.keys(s).join(", "));return l===u?a:s[l](a)}}),iqe=ye("prod",["typed","config","multiplyScalar","numeric"],n=>{var{typed:e,config:t,multiplyScalar:r,numeric:i}=n;return e("prod",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(a,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(a){return s(a)}});function s(o){var a;if(Ep(o,function(l){try{a=void 0===a?l:r(a,l)}catch(c){throw Kc(c,"prod",l)}}),"string"==typeof a&&(a=i(a,gm(a,t))),void 0===a)throw new Error("Cannot calculate prod of an empty array");return a}}),oqe=ye("reshape",["typed","isInteger","matrix"],n=>{var{typed:e,isInteger:t}=n;return e("reshape",{"Matrix, Array":function(i,s){return i.reshape(s,!0)},"Array, Array":function(i,s){return s.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),IH(i,s)}})}),lqe=ye("size",["typed","config","?matrix"],n=>{var{typed:e,config:t,matrix:r}=n;return e("size",{Matrix:function(s){return s.create(s.size(),"number")},Array:xr,string:function(s){return"Array"===t.matrix?[s.length]:r([s.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(s){return"Array"===t.matrix?[]:r?r([],"dense","number"):yte()}})}),uqe=ye("transpose",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return e("transpose",{Array:o=>r(t(o)).valueOf(),Matrix:r,any:Fr});function r(o){var l,a=o.size();switch(a.length){case 1:l=o.clone();break;case 2:var c=a[0],u=a[1];if(0===u)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ri(a)+")");switch(o.storage()){case"dense":l=function i(o,a,l){for(var h,c=o._data,u=[],d=0;d<l;d++){h=u[d]=[];for(var f=0;f<a;f++)h[f]=Fr(c[f][d])}return o.createDenseMatrix({data:u,size:[l,a],datatype:o._datatype})}(o,c,u);break;case"sparse":l=function s(o,a,l){for(var c=o._values,u=o._index,h=o._ptr,d=c?[]:void 0,f=[],A=[],p=[],m=0;m<a;m++)p[m]=0;var g,y,v;for(g=0,y=u.length;g<y;g++)p[u[g]]++;for(var _=0,C=0;C<a;C++)A.push(_),_+=p[C],p[C]=A[C];for(A.push(_),v=0;v<l;v++)for(var M=h[v+1],D=h[v];D<M;D++){var x=p[u[D]]++;f[x]=v,c&&(d[x]=Fr(c[D]))}return o.createSparseMatrix({values:d,index:f,ptr:A,size:[l,a],datatype:o._datatype})}(o,c,u)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ri(a)+")")}return l}}),fqe=ye("xgcd",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("xgcd",{"number, number":function(a,l){var c=pre(a,l);return"Array"===t.matrix?c:r(c)},"BigNumber, BigNumber":function s(o,a){var l,c,u,g,h=new i(0),d=new i(1),f=h,A=d,p=d,m=h;if(!o.isInt()||!a.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!a.isZero();)c=o.div(a).floor(),u=o.mod(a),l=f,f=A.minus(c.times(f)),A=l,l=p,p=m.minus(c.times(p)),m=l,o=a,a=u;return g=o.lt(h)?[o.neg(),A.neg(),m.neg()]:[o,o.isZero()?0:A,m],"Array"===t.matrix?g:r(g)}})}),Aqe=ye("zeros",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("zeros",{"":function(){return"Array"===t.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var h=c.pop();return s(c,h)}return"Array"===t.matrix?s(c):s(c,"default")},Array:s,Matrix:function(c){var u=c.storage();return s(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return s(c.valueOf(),u)}});function s(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,h,d){Vr(u)&&(c=!0,d[h]=u.toNumber())}),c}(l),h=u?new i(0):0;if(function a(l){l.forEach(function(c){if("number"!=typeof c||!Kn(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}(l),c){var d=r(c);return l.length>0?d.resize(l,h):d}var f=[];return l.length>0?gb(f,l,h):f}}),gqe=ye("asin",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("asin",{number:function(s){return s>=-1&&s<=1||t.predictable?Math.asin(s):new r(s,0).asin()},Complex:function(s){return s.asin()},BigNumber:function(s){return s.asin()}})}),vqe=ye("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],n=>{var{config:e,typed:t,isNegative:r,unaryMinus:i,matrix:s,Complex:o,BigNumber:a,Fraction:l}=n;return t("cbrt",{number:rE,Complex:c,"Complex, boolean":c,BigNumber:function(d){return d.cbrt()},Unit:function u(h){if(h.value&&Sp(h.value)){var d=h.clone();return d.value=1,(d=d.pow(1/3)).value=c(h.value),d}var A,f=r(h.value);f&&(h.value=i(h.value)),A=Vr(h.value)?new a(1).div(3):jx(h.value)?new l(1,3):1/3;var p=h.pow(A);return f&&(p.value=i(p.value)),p}});function c(h,d){var f=h.arg()/3,A=h.abs(),p=new o(rE(A),0).mul(new o(0,f).exp());if(d){var m=[p,new o(rE(A),0).mul(new o(0,f+2*Math.PI/3).exp()),new o(rE(A),0).mul(new o(0,f-2*Math.PI/3).exp())];return"Array"===e.matrix?m:s(m)}return p}}),_qe=ye("count",["typed","size","prod"],n=>{var{typed:e,size:t,prod:r}=n;return e("count",{string:function(s){return s.length},"Matrix | Array":function(s){return r(t(s))}})}),use="ctranspose",wqe=ye(use,["typed","transpose","conj"],n=>{var{typed:e,transpose:t,conj:r}=n;return e(use,{any:function(s){return r(t(s))}})}),Sqe=ye("diag",["typed","matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e("diag",{Array:function(c){return s(c,0,xr(c),null)},"Array, number":function(c,u){return s(c,u,xr(c),null)},"Array, BigNumber":function(c,u){return s(c,u.toNumber(),xr(c),null)},"Array, string":function(c,u){return s(c,0,xr(c),u)},"Array, number, string":function(c,u,h){return s(c,u,xr(c),h)},"Array, BigNumber, string":function(c,u,h){return s(c,u.toNumber(),xr(c),h)},Matrix:function(c){return s(c,0,c.size(),c.storage())},"Matrix, number":function(c,u){return s(c,u,c.size(),c.storage())},"Matrix, BigNumber":function(c,u){return s(c,u.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,u){return s(c,0,c.size(),u)},"Matrix, number, string":function(c,u,h){return s(c,u,c.size(),h)},"Matrix, BigNumber, string":function(c,u,h){return s(c,u.toNumber(),c.size(),h)}});function s(l,c,u,h){if(!Kn(c))throw new TypeError("Second parameter in function diag must be an integer");var d=c>0?c:0,f=c<0?-c:0;switch(u.length){case 1:return function o(l,c,u,h,d,f){var A=[h+d,h+f];if(u&&"sparse"!==u&&"dense"!==u)throw new TypeError("Unknown matrix type ".concat(u,'"'));var p="sparse"===u?i.diagonal(A,l,c):r.diagonal(A,l,c);return null!==u?p:p.valueOf()}(l,c,h,u[0],f,d);case 2:return function a(l,c,u,h,d,f){if(ur(l)){var A=l.diagonal(c);return null!==u?u!==A.storage()?t(A,u):A:A.valueOf()}for(var p=Math.min(h[0]-d,h[1]-f),m=[],g=0;g<p;g++)m[g]=l[g+d][g+f];return null!==u?t(m):m}(l,c,h,u,f,d)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}),fse="divideScalar",Eqe=ye(fse,["typed","numeric"],n=>{var{typed:e}=n;return e(fse,{"number, number":function(i,s){return i/s},"Complex, Complex":function(i,s){return i.div(s)},"BigNumber, BigNumber":function(i,s){return i.div(s)},"bigint, bigint":function(i,s){return i/s},"Fraction, Fraction":function(i,s){return i.div(s)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),cA=ye("matAlgo07xSSf",["typed","SparseMatrix"],n=>{var{typed:e,SparseMatrix:t}=n;return function(s,o,a){var l=s._size,c=s._datatype||void 0===s._data?s._datatype:s.getDataType(),u=o._size,h=o._datatype||void 0===o._data?o._datatype:o.getDataType();if(l.length!==u.length)throw new ii(l.length,u.length);if(l[0]!==u[0]||l[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+u+")");var A,d=l[0],f=l[1],p=0,m=a;"string"==typeof c&&c===h&&"mixed"!==c&&(p=e.convert(0,A=c),m=e.find(a,[A,A]));for(var g=[],y=[],v=new Array(f+1).fill(0),_=[],C=[],b=[],M=[],D=0;D<f;D++){var x=D+1,T=0;r(s,D,b,_,x),r(o,D,M,C,x);for(var B=0;B<d;B++){var k=m(b[B]===x?_[B]:p,M[B]===x?C[B]:p);0!==k&&!1!==k&&(y.push(B),g.push(k),T++)}v[D+1]=v[D]+T}return new t({values:g,index:y,ptr:v,size:[d,f],datatype:c===s._datatype&&h===o._datatype?A:void 0})};function r(i,s,o,a,l){for(var c=i._values,u=i._index,h=i._ptr,d=h[s],f=h[s+1];d<f;d++){var A=u[d];o[A]=l,a[A]=c[d]}}}),Bqe=ye("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:r,divideScalar:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=ad({typed:e,equalScalar:r}),c=$c({typed:e}),u=cA({typed:e,SparseMatrix:a}),h=Ll({typed:e,equalScalar:r}),d=Ya({typed:e,DenseMatrix:s});return e("dotDivide",Xs({typed:e,matrix:t,concat:o})({elop:i,SS:u,DS:c,SD:l,Ss:h,sS:d}))}),$I="equal",Iqe=ye($I,["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=$c({typed:e}),l=cA({typed:e,SparseMatrix:o}),c=Ya({typed:e,DenseMatrix:i}),u=Xs({typed:e,matrix:t,concat:s});return e($I,Fqe({typed:e,equalScalar:r}),u({elop:r,SS:l,DS:a,Ss:c}))}),Fqe=ye($I,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e($I,{"any, any":function(i,s){return null===i?null===s:null===s?null===i:void 0===i?void 0===s:void 0===s?void 0===i:t(i,s)}})}),Ase="hasNumericValue",Oqe=ye(Ase,["typed","isNumeric"],n=>{var{typed:e,isNumeric:t}=n;return e(Ase,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})}),Lqe=ye("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i,DenseMatrix:s,SparseMatrix:o}=n;return e("identity",{"":function(){return"Matrix"===t.matrix?r([]):[]},string:function(u){return r(u)},"number | BigNumber":function(u){return l(u,u,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, string":function(u,h){return l(u,u,h)},"number | BigNumber, number | BigNumber":function(u,h){return l(u,h,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,h,d){return l(u,h,d)},Array:function(u){return a(u)},"Array, string":function(u,h){return a(u,h)},Matrix:function(u){return a(u.valueOf(),u.storage())},"Matrix, string":function(u,h){return a(u.valueOf(),h)}});function a(c,u){switch(c.length){case 0:return u?r(u):[];case 1:return l(c[0],c[0],u);case 2:return l(c[0],c[1],u);default:throw new Error("Vector containing two values expected")}}function l(c,u,h){var d=Vr(c)||Vr(u)?i:null;if(Vr(c)&&(c=c.toNumber()),Vr(u)&&(u=u.toNumber()),!Kn(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!Kn(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var f=d?new i(1):1,A=d?new d(0):0,p=[c,u];if(h){if("sparse"===h)return o.diagonal(p,f,0,A);if("dense"===h)return s.diagonal(p,f,0,A);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var m=gb([],p,A),g=c<u?c:u,y=0;y<g;y++)m[y][y]=f;return m}}),kqe=ye("kron",["typed","matrix","multiplyScalar"],n=>{var{typed:e,matrix:t,multiplyScalar:r}=n;return e("kron",{"Matrix, Matrix":function(o,a){return t(i(o.toArray(),a.toArray()))},"Matrix, Array":function(o,a){return t(i(o.toArray(),a))},"Array, Matrix":function(o,a){return t(i(o,a.toArray()))},"Array, Array":i});function i(s,o){if(1===xr(s).length&&(s=[s]),1===xr(o).length&&(o=[o]),xr(s).length>2||xr(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(s.length)+", y = "+JSON.stringify(o.length)+")");var a=[],l=[];return s.map(function(c){return o.map(function(u){return a.push(l=[]),c.map(function(h){return u.map(function(d){return l.push(r(h,d))})})})})&&a}}),KI="largerEq",Vqe=ye(KI,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=$c({typed:e}),l=cA({typed:e,SparseMatrix:o}),c=Ya({typed:e,DenseMatrix:i}),u=Xs({typed:e,matrix:r,concat:s}),h=xb({typed:e});return e(KI,Qqe({typed:e,config:t}),{"boolean, boolean":(d,f)=>d>=f,"BigNumber, BigNumber":function(f,A){return f.gte(A)||Mu(f,A,t.relTol,t.absTol)},"bigint, bigint":function(f,A){return f>=A},"Fraction, Fraction":(d,f)=>-1!==d.compare(f),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),Qqe=ye(KI,["typed","config"],n=>{var{typed:e,config:t}=n;return e(KI,{"number, number":function(i,s){return i>=s||Pl(i,s,t.relTol,t.absTol)}})}),d8=ye("matAlgo08xS0Sid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ii(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!a||!d)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));for(var R,k,q,M=[],D=[],x=[],T=[],B=[],O=0;O<y;O++){x[O]=D.length;var P=O+1;for(k=c[O+1],R=c[O];R<k;R++)B[q=l[R]]=P,T[q]=a[R],D.push(q);for(k=A[O+1],R=A[O];R<k;R++)B[q=f[R]]===P&&(T[q]=b(T[q],d[R]));for(R=x[O];R<D.length;){var G=T[q=D[R]];_(G,C)?D.splice(R,1):(M.push(G),R++)}}return x[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:x,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),A8=ye("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return{"Array, number":e.referTo("DenseMatrix, number",r=>(i,s)=>r(t(i),s).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",r=>(i,s)=>r(t(i),s).valueOf()),"number, Array":e.referTo("number, DenseMatrix",r=>(i,s)=>r(i,t(s)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",r=>(i,s)=>r(i,t(s)).valueOf())}}),qqe=ye("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=bm({typed:e}),l=ad({typed:e,equalScalar:r}),c=d8({typed:e,equalScalar:r}),u=k0({typed:e,DenseMatrix:s}),h=Ll({typed:e,equalScalar:r}),d=od({typed:e}),f=Xs({typed:e,matrix:t,concat:o}),A=A8({typed:e,matrix:t});return e("leftShift",{"number, number":ine,"BigNumber, BigNumber":h6e,"bigint, bigint":(p,m)=>p<<m,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():h(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):d(g,m,p,!0))},A,f({SS:c,DS:a,SD:l}))});function oE(n){var{DenseMatrix:e}=n;return function(r,i,s){var o=r.size();if(2!==o.length)throw new RangeError("Matrix must be two dimensional (size: "+ri(o)+")");var a=o[0];if(a!==o[1])throw new RangeError("Matrix must be square (size: "+ri(o)+")");var c=[];if(ur(i)){var u=i.size(),h=i._data;if(1===u.length){if(u[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<a;d++)c[d]=[h[d]];return new e({data:c,size:[a,1],datatype:i._datatype})}if(2===u.length){if(u[0]!==a||1!==u[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(ZN(i)){if(s){c=[];for(var f=0;f<a;f++)c[f]=[h[f][0]];return new e({data:c,size:[a,1],datatype:i._datatype})}return i}if(O0(i)){for(var A=0;A<a;A++)c[A]=[0];for(var p=i._values,m=i._index,g=i._ptr,y=g[1],v=g[0];v<y;v++)c[m[v]][0]=p[v];return new e({data:c,size:[a,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ts(i)){var C=xr(i);if(1===C.length){if(C[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<a;b++)c[b]=[i[b]];return new e({data:c,size:[a,1]})}if(2===C.length){if(C[0]!==a||1!==C[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var M=0;M<a;M++)c[M]=[i[M][0]];return new e({data:c,size:[a,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var $qe=ye("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=oE({DenseMatrix:a});return e("lsolve",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],p=h._size[1],m=h._values,g=h._index,y=h._ptr,v=[],_=0;_<p;_++){var C=f[_][0]||0;if(o(C,0))v[_]=[0];else{for(var b=0,M=[],D=[],T=y[_+1],B=y[_];B<T;B++){var R=g[B];R===_?b=m[B]:R>_&&(M.push(m[B]),D.push(R))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=r(C,b),k=0,q=D.length;k<q;k++){var O=D[k];f[O]=[s(f[O][0]||0,i(U,M[k]))]}v[_]=[U]}}return new a({data:v,size:[A,1]})}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).valueOf()}});function c(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],p=h._size[1],m=[],g=h._data,y=0;y<p;y++){var v=f[y][0]||0,_=void 0;if(o(v,0))_=0;else{var C=g[y][y];if(o(C,0))throw new Error("Linear system cannot be solved since matrix is singular");_=r(v,C);for(var b=y+1;b<A;b++)f[b]=[s(f[b][0]||0,i(_,g[b][y]))]}m[y]=[_]}return new a({data:m,size:[A,1]})}}),yse="matrixFromColumns",Xqe=ye(yse,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(yse,{"...Array":function(l){return s(l)},"...Matrix":function(l){return t(s(l.map(c=>c.toArray())))}});function s(a){if(0===a.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(a[0]),c=[],u=0;u<l;u++)c[u]=[];for(var h of a){var d=o(h);if(d!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|d));for(var f=r(h),A=0;A<l;A++)c[A].push(f[A])}return c}function o(a){var l=i(a);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Jqe=ye("nthRoot",["typed","matrix","equalScalar","BigNumber","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,concat:s}=n,o=bm({typed:e}),a=ad({typed:e,equalScalar:r}),l=TI({typed:e,equalScalar:r}),c=Ll({typed:e,equalScalar:r}),u=Xs({typed:e,matrix:t,concat:s});function h(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e("nthRoot",{number:dre,"number, number":dre,BigNumber:f=>d(f,new i(2)),"BigNumber, BigNumber":d,Complex:h,"Complex, number":h,Array:e.referTo("DenseMatrix,number",f=>A=>f(t(A),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",f=>A=>f(A,2)),SparseMatrix:e.referTo("SparseMatrix,number",f=>A=>f(A,2)),"SparseMatrix, SparseMatrix":e.referToSelf(f=>(A,p)=>{if(1===p.density())return l(A,p,f);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(f=>(A,p)=>{if(1===p.density())return o(A,p,f,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",f=>(A,p)=>f(t(A),p)),"number | BigNumber, SparseMatrix":e.referToSelf(f=>(A,p)=>{if(1===p.density())return c(p,A,f,!0);throw new Error("Root must be non-zero")})},u({scalar:"number | BigNumber",SD:a,Ss:c,sS:!1}));function d(f,A){var p=i.precision,m=i.clone({precision:p+2}),g=new i(0),y=new m(1),v=A.isNegative();if(v&&(A=A.neg()),A.isZero())throw new Error("Root must be non-zero");if(f.isNegative()&&!A.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(f.isZero())return v?new m(1/0):0;if(!f.isFinite())return v?g:f;var _=f.abs().pow(y.div(A));return _=f.isNeg()?_.neg():_,new i((v?y.div(_):_).toPrecision(p))}}),tWe=ye("ones",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("ones",{"":function(){return"Array"===t.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var h=c.pop();return s(c,h)}return"Array"===t.matrix?s(c):s(c,"default")},Array:s,Matrix:function(c){var u=c.storage();return s(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return s(c.valueOf(),u)}});function s(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,h,d){Vr(u)&&(c=!0,d[h]=u.toNumber())}),c}(l),h=u?new i(1):1;if(function a(l){l.forEach(function(c){if("number"!=typeof c||!Kn(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}(l),c){var d=r(c);return l.length>0?d.resize(l,h):d}var f=[];return l.length>0?gb(f,l,h):f}}),rWe=ye("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],n=>{var{typed:e,matrix:t,zeros:r,identity:i,isZero:s,equal:o,sign:a,sqrt:l,conj:c,unaryMinus:u,addScalar:h,divideScalar:d,multiplyScalar:f,subtractScalar:A,complex:p}=n;return Ka(e("qr",{DenseMatrix:function(_){return g(_)},SparseMatrix:function(_){return function y(v){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(_){var b=g(t(_));return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:m});function m(v){var T,B,R,_=v._size[0],C=v._size[1],b=i([_],"dense"),M=b._data,D=v.clone(),x=D._data,U=r([_],"");for(R=0;R<Math.min(C,_);++R){var k=x[R][R],q=u(o(k,0)?1:a(k)),O=c(q),P=0;for(T=R;T<_;T++)P=h(P,f(x[T][R],c(x[T][R])));var G=f(q,l(P));if(!s(G)){var H=A(k,G);for(U[R]=1,T=R+1;T<_;T++)U[T]=d(x[T][R],H);var ae=u(c(d(H,G))),ve=void 0;for(B=R;B<C;B++){for(ve=0,T=R;T<_;T++)ve=h(ve,f(c(U[T]),x[T][B]));for(ve=f(ve,ae),T=R;T<_;T++)x[T][B]=f(A(x[T][B],f(U[T],ve)),O)}for(T=0;T<_;T++){for(ve=0,B=R;B<_;B++)ve=h(ve,f(M[T][B],U[B]));for(ve=f(ve,ae),B=R;B<_;++B)M[T][B]=d(A(M[T][B],f(ve,c(U[B]))),O)}}}return{Q:b,R:D,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function g(v){var _=m(v),C=_.R._data;if(v._data.length>0)for(var b="Complex"===C[0][0].type?p(0):0,M=0;M<C.length;++M)for(var D=0;D<M&&D<(C[0]||[]).length;++D)C[M][D]=b;return _}});function Q0(n,e,t,r){if(!(this instanceof Q0))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=e,this.min=t,this.max=r,this.message="Wrong number of arguments in function "+n+" ("+e+" provided, "+t+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}(Q0.prototype=new Error).constructor=Error,Q0.prototype.name="ArgumentsError",Q0.prototype.isArgumentsError=!0;var oWe=ye("resize",["config","matrix"],n=>{var{config:e,matrix:t}=n;return function(s,o,a){if(2!==arguments.length&&3!==arguments.length)throw new Q0("resize",arguments.length,2,3);if(ur(o)&&(o=o.valueOf()),Vr(o[0])&&(o=o.map(function(u){return Vr(u)?u.toNumber():u})),ur(s))return s.resize(o,a,!0);if("string"==typeof s)return function r(i,s,o){if(void 0!==o){if("string"!=typeof o||1!==o.length)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(1!==s.length)throw new ii(s.length,1);var a=s[0];if("number"!=typeof a||!Kn(a))throw new TypeError("Invalid size, must contain positive integers (size: "+ri(s)+")");if(i.length>a)return i.substring(0,a);if(i.length<a){for(var l=i,c=0,u=a-i.length;c<u;c++)l+=o;return l}return i}(s,o,a);var l=!Array.isArray(s)&&"Array"!==e.matrix;if(0===o.length){for(;Array.isArray(s);)s=s[0];return Fr(s)}Array.isArray(s)||(s=[s]);var c=gb(s=Fr(s),o,a);return l?t(c):c}}),wse="rightArithShift",lWe=ye(wse,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=bm({typed:e}),l=ad({typed:e,equalScalar:r}),c=d8({typed:e,equalScalar:r}),u=k0({typed:e,DenseMatrix:s}),h=Ll({typed:e,equalScalar:r}),d=od({typed:e}),f=Xs({typed:e,matrix:t,concat:o}),A=A8({typed:e,matrix:t});return e(wse,{"number, number":sne,"BigNumber, BigNumber":f6e,"bigint, bigint":(p,m)=>p>>m,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():h(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):d(g,m,p,!0))},A,f({SS:c,DS:a,SD:l}))}),Tb="Number of decimals in function round must be an integer",uWe=ye("round",["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],n=>{var{typed:e,config:t,matrix:r,equalScalar:i,zeros:s,BigNumber:o,DenseMatrix:a}=n,l=Ll({typed:e,equalScalar:i}),c=Ya({typed:e,DenseMatrix:a}),u=od({typed:e});function h(d){return Math.abs(Kx(d).exponent)}return e("round",{number:function(f){var A=iE(f,h(t.relTol));return iE(Pl(f,A,t.relTol,t.absTol)?A:f)},"number, number":function(f,A){var p=h(t.relTol);if(A>=p)return iE(f,A);var m=iE(f,p);return iE(Pl(f,m,t.relTol,t.absTol)?m:f,A)},"number, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(Tb);return new o(f).toDecimalPlaces(A.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,A){if(A%1)throw new TypeError(Tb);return f.round(A)},"Complex, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(Tb);var p=A.toNumber();return f.round(p)},BigNumber:function(f){var A=new o(f).toDecimalPlaces(h(t.relTol));return(Mu(f,A,t.relTol,t.absTol)?A:f).toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(Tb);var p=h(t.relTol);if(A>=p)return f.toDecimalPlaces(A.toNumber());var m=f.toDecimalPlaces(p);return(Mu(f,m,t.relTol,t.absTol)?m:f).toDecimalPlaces(A.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,A){if(A%1)throw new TypeError(Tb);return f.round(A)},"Fraction, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(Tb);return f.round(A.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Or(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Or(f,d,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>l(f,A,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>u(f,A,d,!1)),"Array, number | BigNumber":e.referToSelf(d=>(f,A)=>u(r(f),A,d,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(d=>(f,A)=>i(f,0)?s(A.size(),A.storage()):c(A,f,d,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(d=>(f,A)=>i(f,0)?s(A.size(),A.storage()):u(A,f,d,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(d=>(f,A)=>u(r(A),f,d,!0).valueOf())})}),XI="smaller",fWe=ye(XI,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=$c({typed:e}),l=cA({typed:e,SparseMatrix:o}),c=Ya({typed:e,DenseMatrix:i}),u=Xs({typed:e,matrix:r,concat:s}),h=xb({typed:e});return e(XI,dWe({typed:e,config:t}),{"boolean, boolean":(d,f)=>d<f,"BigNumber, BigNumber":function(f,A){return f.lt(A)&&!Mu(f,A,t.relTol,t.absTol)},"bigint, bigint":(d,f)=>d<f,"Fraction, Fraction":(d,f)=>-1===d.compare(f),"Complex, Complex":function(f,A){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),dWe=ye(XI,["typed","config"],n=>{var{typed:e,config:t}=n;return e(XI,{"number, number":function(i,s){return i<s&&!Pl(i,s,t.relTol,t.absTol)}})}),pWe=ye("subtract",["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,subtractScalar:i,DenseMatrix:o,concat:a}=n,l=bm({typed:e}),c=$c({typed:e}),u=MI({typed:e,equalScalar:r}),h=k0({typed:e,DenseMatrix:o}),d=Ya({typed:e,DenseMatrix:o});return e("subtract",{"any, any":i},Xs({typed:e,matrix:t,concat:a})({elop:i,SS:u,DS:l,SD:c,Ss:d,sS:h}))}),mWe=ye("to",["typed","matrix","concat"],n=>{var{typed:e,matrix:t,concat:r}=n;return e("to",{"Unit, Unit | string":(s,o)=>s.to(o)},Xs({typed:e,matrix:t,concat:r})({Ds:!0}))}),yWe=ye("unaryPlus",["typed","config","numeric"],n=>{var{typed:e,config:t,numeric:r}=n;return e("unaryPlus",{number:ore,Complex:function(s){return s},BigNumber:function(s){return s},bigint:function(s){return s},Fraction:function(s){return s},Unit:function(s){return s.clone()},"Array | Matrix":e.referToSelf(i=>s=>Or(s,i,!0)),boolean:function(s){return r(s?1:0,t.number)},string:function(s){return r(s,gm(s,t))}})}),bWe=ye("usolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=oE({DenseMatrix:a});return e("usolve",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],m=h._values,g=h._index,y=h._ptr,v=[],_=h._size[1]-1;_>=0;_--){var C=f[_][0]||0;if(o(C,0))v[_]=[0];else{for(var b=0,M=[],D=[],x=y[_],B=y[_+1]-1;B>=x;B--){var R=g[B];R===_?b=m[B]:R<_&&(M.push(m[B]),D.push(R))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=r(C,b),k=0,q=D.length;k<q;k++){var O=D[k];f[O]=[s(f[O][0],i(U,M[k]))]}v[_]=[U]}}return new a({data:v,size:[A,1]})}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).valueOf()}});function c(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],m=[],g=h._data,y=h._size[1]-1;y>=0;y--){var v=f[y][0]||0,_=void 0;if(o(v,0))_=0;else{var C=g[y][y];if(o(C,0))throw new Error("Linear system cannot be solved since matrix is singular");_=r(v,C);for(var b=y-1;b>=0;b--)f[b]=[s(f[b][0]||0,i(_,g[b][y]))]}m[y]=[_]}return new a({data:m,size:[A,1]})}}),CWe=ye("xor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i,SparseMatrix:s}=n,o=$c({typed:e}),a=cA({typed:e,SparseMatrix:s}),l=Ya({typed:e,DenseMatrix:r}),c=Xs({typed:e,matrix:t,concat:i});return e("xor",{"number, number":KH,"Complex, Complex":function(h,d){return(0!==h.re||0!==h.im)!=(0!==d.re||0!==d.im)},"bigint, bigint":KH,"BigNumber, BigNumber":function(h,d){return(!h.isZero()&&!h.isNaN())!=(!d.isZero()&&!d.isNaN())},"Unit, Unit":e.referToSelf(u=>(h,d)=>u(h.value||0,d.value||0))},c({SS:a,DS:o,Ss:l}))}),xWe=ye("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:e,matrix:t,addScalar:r,equalScalar:i,DenseMatrix:s,concat:a}=n,l=bm({typed:e}),c=JH({typed:e,equalScalar:i}),u=k0({typed:e,DenseMatrix:s}),h=Xs({typed:e,matrix:t,concat:a});return e("add",{"any, any":r,"any, any, ...any":e.referToSelf(d=>(f,A,p)=>{for(var m=d(f,A),g=0;g<p.length;g++)m=d(m,p[g]);return m})},h({elop:r,DS:l,SS:c,Ss:u}))}),Bse=ye("matAlgo09xS0Sf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ii(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var R,U,k,O,M=a&&d?[]:void 0,D=[],x=[],T=M?[]:void 0,B=[];for(U=0;U<y;U++){x[U]=D.length;var P=U+1;if(T)for(O=A[U+1],k=A[U];k<O;k++)B[R=f[k]]=P,T[R]=d[k];for(O=c[U+1],k=c[U];k<O;k++)if(R=l[k],T){var H=b(a[k],B[R]===P?T[R]:C);_(H,C)||(D.push(R),M.push(H))}else D.push(R)}return x[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:x,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),TWe=ye("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,DenseMatrix:s,concat:o}=n,a=ad({typed:e,equalScalar:r}),l=$c({typed:e}),c=Bse({typed:e,equalScalar:r}),u=Ll({typed:e,equalScalar:r}),h=Ya({typed:e,DenseMatrix:s}),d=Xs({typed:e,matrix:t,concat:o});return e("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":(f,A)=>i.atan2(f,A)},d({scalar:"number | BigNumber",SS:c,DS:l,SD:a,Ss:u,sS:h}))}),NWe=ye("bitXor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i,SparseMatrix:s}=n,o=$c({typed:e}),a=cA({typed:e,SparseMatrix:s}),l=Ya({typed:e,DenseMatrix:r});return e("bitXor",{"number, number":rne,"BigNumber, BigNumber":u6e,"bigint, bigint":(u,h)=>u^h},Xs({typed:e,matrix:t,concat:i})({SS:a,DS:o,Ss:l}))}),FWe=ye("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],n=>{var{typed:e,addScalar:t,divideScalar:r,multiplyScalar:i,combinations:s,isNegative:o,isInteger:a}=n;return e("catalan",{"number | BigNumber":function(c){if(!a(c)||o(c))throw new TypeError("Non-negative integer value expected in function catalan");return r(s(i(c,2),c),t(c,1))}})}),YI="compare",OWe=ye(YI,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],n=>{var{typed:e,config:t,equalScalar:r,matrix:i,BigNumber:s,Fraction:o,DenseMatrix:a,concat:l}=n,c=$c({typed:e}),u=MI({typed:e,equalScalar:r}),h=Ya({typed:e,DenseMatrix:a}),d=Xs({typed:e,matrix:i,concat:l}),f=xb({typed:e});return e(YI,PWe({typed:e,config:t}),{"boolean, boolean":function(p,m){return p===m?0:p>m?1:-1},"BigNumber, BigNumber":function(p,m){return Mu(p,m,t.relTol,t.absTol)?new s(0):new s(p.cmp(m))},"bigint, bigint":function(p,m){return p===m?0n:p>m?1n:-1n},"Fraction, Fraction":function(p,m){return new o(p.compare(m))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,d({SS:u,DS:c,Ss:h}))}),PWe=ye(YI,["typed","config"],n=>{var{typed:e,config:t}=n;return e(YI,{"number, number":function(i,s){return Pl(i,s,t.relTol,t.absTol)?0:i>s?1:-1}})}),Rse="compareText",LWe=["typed","matrix","concat"];BH.signature="any, any";var UWe=ye(Rse,LWe,n=>{var{typed:e,matrix:t,concat:r}=n,i=Xs({typed:e,matrix:t,concat:r});return e(Rse,BH,i({elop:BH,Ds:!0}))}),HWe=ye("deepEqual",["typed","equal"],n=>{var{typed:e,equal:t}=n;return e("deepEqual",{"any, any":function(s,o){return r(s.valueOf(),o.valueOf())}});function r(i,s){if(Array.isArray(i)){if(Array.isArray(s)){var o=i.length;if(o!==s.length)return!1;for(var a=0;a<o;a++)if(!r(i[a],s[a]))return!1;return!0}return!1}return!Array.isArray(s)&&t(i,s)}}),QWe=ye("distance",["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],n=>{var{typed:e,addScalar:t,subtractScalar:r,multiplyScalar:i,divideScalar:s,deepEqual:o,sqrt:a,abs:l}=n;return e("distance",{"Array, Array, Array":function(C,b,M){if(2===C.length&&2===b.length&&2===M.length){if(!u(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!u(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!u(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(b,M))throw new TypeError("LinePoint1 should not be same with LinePoint2");var D=r(M[1],b[1]),x=r(b[0],M[0]),T=r(i(M[0],b[1]),i(b[0],M[1]));return m(C[0],C[1],D,x,T)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(C,b,M){if(2===Object.keys(C).length&&2===Object.keys(b).length&&2===Object.keys(M).length){if(!u(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!u(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!u(M))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(A(b),A(M)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in C&&"pointY"in C&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in M&&"lineTwoPtY"in M){var D=r(M.lineTwoPtY,b.lineOnePtY),x=r(b.lineOnePtX,M.lineTwoPtX),T=r(i(M.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,M.lineTwoPtY));return m(C.pointX,C.pointY,D,x,T)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(C,b){if(2===C.length&&3===b.length){if(!u(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(C[0],C[1],b[0],b[1],b[2])}if(3===C.length&&6===b.length){if(!h(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!f(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(C[0],C[1],C[2],b[0],b[1],b[2],b[3],b[4],b[5])}if(C.length===b.length&&C.length>0){if(!d(C))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return y(C,b)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(C,b){if(2===Object.keys(C).length&&3===Object.keys(b).length){if(!u(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return m(C.pointX,C.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(C).length&&6===Object.keys(b).length){if(!h(C))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return g(C.pointX,C.pointY,C.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}if(2===Object.keys(C).length&&2===Object.keys(b).length){if(!u(C))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!u(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointTwoX"in b&&"pointTwoY"in b)return y([C.pointOneX,C.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(C).length&&3===Object.keys(b).length){if(!h(C))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!h(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointOneZ"in C&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return y([C.pointOneX,C.pointOneY,C.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(C){if(!function p(_){if(2===_[0].length&&c(_[0][0])&&c(_[0][1])){if(_.some(C=>2!==C.length||!c(C[0])||!c(C[1])))return!1}else{if(!(3===_[0].length&&c(_[0][0])&&c(_[0][1])&&c(_[0][2])))return!1;if(_.some(C=>3!==C.length||!c(C[0])||!c(C[1])||!c(C[2])))return!1}return!0}(C))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function v(_){for(var C=[],b=[],M=[],D=0;D<_.length-1;D++)for(var x=D+1;x<_.length;x++)2===_[0].length?(b=[_[D][0],_[D][1]],M=[_[x][0],_[x][1]]):3===_[0].length&&(b=[_[D][0],_[D][1],_[D][2]],M=[_[x][0],_[x][1],_[x][2]]),C.push(y(b,M));return C}(C)}});function c(_){return"number"==typeof _||Vr(_)}function u(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])}function h(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])&&c(_[2])}function d(_){return Array.isArray(_)||(_=A(_)),_.every(c)}function f(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])&&c(_[2])&&c(_[3])&&c(_[4])&&c(_[5])}function A(_){for(var C=Object.keys(_),b=[],M=0;M<C.length;M++)b.push(_[C[M]]);return b}function m(_,C,b,M,D){var x=l(t(t(i(b,_),i(M,C)),D)),T=a(t(i(b,b),i(M,M)));return s(x,T)}function g(_,C,b,M,D,x,T,B,R){var U=[r(i(r(D,C),R),i(r(x,b),B)),r(i(r(x,b),T),i(r(M,_),R)),r(i(r(M,_),B),i(r(D,C),T))];U=a(t(t(i(U[0],U[0]),i(U[1],U[1])),i(U[2],U[2])));var k=a(t(t(i(T,T),i(B,B)),i(R,R)));return s(U,k)}function y(_,C){for(var b=_.length,M=0,D=0,x=0;x<b;x++)D=r(_[x],C[x]),M=t(i(D,D),M);return a(M)}}),GWe=ye("dot",["typed","addScalar","multiplyScalar","conj","size"],n=>{var{typed:e,addScalar:t,multiplyScalar:r,conj:i,size:s}=n;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function a(u,h){var d=o(u,h),f=ur(u)?u._data:u,A=ur(u)?u._datatype||u.getDataType():void 0,p=ur(h)?h._data:h,m=ur(h)?h._datatype||h.getDataType():void 0,g=2===c(u).length,y=2===c(h).length,v=t,_=r;if(A&&m&&A===m&&"string"==typeof A&&"mixed"!==A){var C=A;v=e.find(t,[C,C]),_=e.find(r,[C,C])}if(!g&&!y){for(var b=_(i(f[0]),p[0]),M=1;M<d;M++)b=v(b,_(i(f[M]),p[M]));return b}if(!g&&y){for(var D=_(i(f[0]),p[0][0]),x=1;x<d;x++)D=v(D,_(i(f[x]),p[x][0]));return D}if(g&&!y){for(var T=_(i(f[0][0]),p[0]),B=1;B<d;B++)T=v(T,_(i(f[B][0]),p[B]));return T}if(g&&y){for(var R=_(i(f[0][0]),p[0][0]),U=1;U<d;U++)R=v(R,_(i(f[U][0]),p[U][0]));return R}},"SparseMatrix, SparseMatrix":function l(u,h){o(u,h);for(var d=u._index,f=u._values,A=h._index,p=h._values,m=0,g=t,y=r,v=0,_=0;v<d.length&&_<A.length;){var C=d[v],b=A[_];C<b?v++:C>b?_++:C===b&&(m=g(m,y(f[v],p[_])),v++,_++)}return m}});function o(u,h){var A,p,d=c(u),f=c(h);if(1===d.length)A=d[0];else{if(2!==d.length||1!==d[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");A=d[0]}if(1===f.length)p=f[0];else{if(2!==f.length||1!==f[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");p=f[0]}if(A!==p)throw new RangeError("Vectors must have equal length ("+A+" != "+p+")");if(0===A)throw new RangeError("Cannot calculate the dot product of empty vectors");return A}function c(u){return ur(u)?u.size():s(u)}}),qWe=ye("equalText",["typed","compareText","isZero"],n=>{var{typed:e,compareText:t,isZero:r}=n;return e("equalText",{"any, any":function(s,o){return r(t(s,o))}})}),p8="floor",WWe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],$We=ye(p8,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(p8,{number:function(s){return Pl(s,r(s),t.relTol,t.absTol)?r(s):Math.floor(s)},"number, number":function(s,o){if(Pl(s,r(s,o),t.relTol,t.absTol))return r(s,o);var[a,l]="".concat(s,"e").split("e"),c=Math.floor(Number("".concat(a,"e").concat(Number(l)+o)));return[a,l]="".concat(c,"e").split("e"),Number("".concat(a,"e").concat(Number(l)-o))}})}),kse=ye(p8,WWe,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}=n,l=Ll({typed:e,equalScalar:s}),c=Ya({typed:e,DenseMatrix:a}),u=od({typed:e}),h=$We({typed:e,config:t,round:r});return e("floor",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(f){return f.floor()},"Complex, number":function(f,A){return f.floor(A)},"Complex, BigNumber":function(f,A){return f.floor(A.toNumber())},BigNumber:function(f){return Mu(f,r(f),t.relTol,t.absTol)?r(f):f.floor()},"BigNumber, BigNumber":function(f,A){return Mu(f,r(f,A),t.relTol,t.absTol)?r(f,A):f.toDecimalPlaces(A.toNumber(),kI.ROUND_FLOOR)},Fraction:function(f){return f.floor()},"Fraction, number":function(f,A){return f.floor(A)},"Fraction, BigNumber":function(f,A){return f.floor(A.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Or(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Or(f,d,!0)),"Array, number | BigNumber":e.referToSelf(d=>(f,A)=>Or(f,p=>d(p,A),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>l(f,A,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>u(f,A,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(f,A)=>u(i(A),f,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(f,A)=>s(f,0)?o(A.size(),A.storage()):"dense"===A.storage()?u(A,f,d,!0):c(A,f,d,!0))})}),Vse=ye("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a,concat:l}=n,c=kse({typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}),u=ad({typed:e,equalScalar:s}),h=$c({typed:e}),d=MI({typed:e,equalScalar:s}),f=Ll({typed:e,equalScalar:s}),A=Ya({typed:e,DenseMatrix:a});return e("mod",{"number, number":function m(g,y){return 0===y?g:g-y*c(g/y)},"BigNumber, BigNumber":function(y,v){return v.isZero()?y:y.sub(v.mul(c(y.div(v))))},"bigint, bigint":function(y,v){if(0n===v)return y;if(y<0){var _=y%v;return 0n===_?_:_+v}return y%v},"Fraction, Fraction":function(y,v){return v.equals(0)?y:y.sub(v.mul(c(y.div(v))))}},Xs({typed:e,matrix:i,concat:l})({SS:d,DS:h,SD:u,Ss:f,sS:A}))}),XWe=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],g8="number | BigNumber | Fraction | Matrix | Array",YWe="".concat(g8,", ").concat(g8,", ...").concat(g8);function zse(n){return!n.some(e=>Array.isArray(e))}var JWe=ye("gcd",XWe,n=>{var{typed:e,matrix:t,config:r,round:i,equalScalar:s,zeros:o,BigNumber:a,DenseMatrix:l,concat:c}=n,u=Vse({typed:e,config:r,round:i,matrix:t,equalScalar:s,zeros:o,DenseMatrix:l,concat:c}),h=bm({typed:e}),d=JH({typed:e,equalScalar:s}),f=k0({typed:e,DenseMatrix:l});return e("gcd",{"number, number":function p(g,y){if(!Kn(g)||!Kn(y))throw new Error("Parameters in function gcd must be integer numbers");for(var v;0!==y;)v=u(g,y),g=y,y=v;return g<0?-g:g},"BigNumber, BigNumber":function m(g,y){if(!g.isInt()||!y.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var v=new a(0);!y.isZero();){var _=u(g,y);g=y,y=_}return g.lt(v)?g.neg():g},"Fraction, Fraction":(g,y)=>g.gcd(y)},Xs({typed:e,matrix:t,concat:c})({SS:d,DS:h,Ss:f}),{[YWe]:e.referToSelf(g=>(y,v,_)=>{for(var C=g(y,v),b=0;b<_.length;b++)C=g(C,_[b]);return C}),Array:e.referToSelf(g=>y=>{if(1===y.length&&Array.isArray(y[0])&&zse(y[0]))return g(...y[0]);if(zse(y))return g(...y);throw new Q0("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(g=>y=>g(y.toArray()))})}),e$e=ye("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],n=>{var{typed:e,abs:t,addScalar:r,divideScalar:i,multiplyScalar:s,sqrt:o,smaller:a,isPositive:l}=n;return e("hypot",{"... number | BigNumber":c,Array:c,Matrix:u=>c(ji(u.toArray()))});function c(u){for(var h=0,d=0,f=0;f<u.length;f++){if(Sp(u[f]))throw new TypeError("Unexpected type of argument to hypot");var A=t(u[f]);a(d,A)?(h=s(h,s(i(d,A),i(d,A))),h=r(h,1),d=A):h=r(h,l(A)?s(i(A,d),i(A,d)):A)}return s(d,o(h))}}),r$e=ye("ImmutableDenseMatrix",["smaller","DenseMatrix"],n=>{var{smaller:e,DenseMatrix:t}=n;function r(i,s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!fc(s))throw new Error("Invalid datatype: "+s);if(ur(i)||Ts(i)){var o=new t(i,s);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Ts(i.data)&&Ts(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+$s(i)+")");this._data=[],this._size=[0],this._datatype=s,this._min=null,this._max=null}}return(r.prototype=new t).type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(i){switch(arguments.length){case 1:var s=t.prototype.subset.call(this,i);return ur(s)?new r({data:s._data,size:s._size,datatype:s._datatype}):s;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:Fr(this._data),size:Fr(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(i){return new r(i)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(null===this._min){var i=null;this.forEach(function(s){(null===i||e(s,i))&&(i=s)}),this._min=null!==i?i:void 0}return this._min},r.prototype.max=function(){if(null===this._max){var i=null;this.forEach(function(s){(null===i||e(i,s))&&(i=s)}),this._max=null!==i?i:void 0}return this._max},r},{isClass:!0}),o$e=ye("Index",["ImmutableDenseMatrix","getMatrixDataType"],n=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=n;function r(s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,a=arguments.length;o<a;o++){var l=arguments[o],c=Ts(l),u=ur(l),h=null;if(xH(l))this._dimensions.push(l),this._isScalar=!1;else if(c||u){var d=void 0;"boolean"===t(l)?(c&&(d=i(jse(l).valueOf())),u&&(d=i(jse(l._data).valueOf())),h=l.valueOf().length):d=i(l.valueOf()),this._dimensions.push(d);var f=d.size();(1!==f.length||1!==f[0]||null!==h)&&(this._isScalar=!1)}else if("number"==typeof l)this._dimensions.push(i([l]));else{if("string"!=typeof l)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(l)}this._sourceSize.push(h)}}function i(s){for(var o=0,a=s.length;o<a;o++)if("number"!=typeof s[o]||!Kn(s[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(s)}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var s=new r;return s._dimensions=Fr(this._dimensions),s._isScalar=this._isScalar,s._sourceSize=this._sourceSize,s},r.create=function(s){var o=new r;return r.apply(o,s),o},r.prototype.size=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?1:l.size()[0]}return s},r.prototype.max=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?l:l.max()}return s},r.prototype.min=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?l:l.min()}return s},r.prototype.forEach=function(s){for(var o=0,a=this._dimensions.length;o<a;o++)s(this._dimensions[o],o,this)},r.prototype.dimension=function(s){return"number"!=typeof s?null:this._dimensions[s]||null},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.valueOf=r.prototype.toArray=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s.push("string"==typeof l?l:l.toArray())}return s},r.prototype.toString=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s.push("string"==typeof l?JSON.stringify(l):l.toString())}return"["+s.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(s){return r.create(s.dimensions)},r},{isClass:!0});function jse(n){var e=[];return n.forEach((t,r)=>{t&&e.push(r)}),e}var JI="larger",l$e=ye(JI,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=$c({typed:e}),l=cA({typed:e,SparseMatrix:o}),c=Ya({typed:e,DenseMatrix:i}),u=Xs({typed:e,matrix:r,concat:s}),h=xb({typed:e});return e(JI,c$e({typed:e,config:t}),{"boolean, boolean":(d,f)=>d>f,"BigNumber, BigNumber":function(f,A){return f.gt(A)&&!Mu(f,A,t.relTol,t.absTol)},"bigint, bigint":(d,f)=>d>f,"Fraction, Fraction":(d,f)=>1===d.compare(f),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),c$e=ye(JI,["typed","config"],n=>{var{typed:e,config:t}=n;return e(JI,{"number, number":function(i,s){return i>s&&!Pl(i,s,t.relTol,t.absTol)}})}),h$e=ye("log",["config","typed","typeOf","divideScalar","Complex"],n=>{var{typed:e,typeOf:t,config:r,divideScalar:i,Complex:s}=n;return e("log",{number:function(a){return a>=0||r.predictable?function _ze(n,e){return e?Math.log(n)/Math.log(e):Math.log(n)}(a):new s(a,0).log()},Complex:function(a){return a.log()},BigNumber:function(a){return!a.isNegative()||r.predictable?a.ln():new s(a.toNumber(),0).log()},"any, any":e.referToSelf(o=>(a,l)=>{if("Fraction"===t(a)&&"Fraction"===t(l)){var c=a.log(l);if(null!==c)return c}return i(o(a),o(l))})})}),d$e=ye("lsolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=oE({DenseMatrix:a});return e("lsolveAll",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=[l(h,d,!0)._data.map(ve=>ve[0])],A=h._size[0],p=h._size[1],m=h._values,g=h._index,y=h._ptr,v=0;v<p;v++)for(var _=f.length,C=0;C<_;C++){for(var b=f[C],M=[],D=[],T=y[v+1],B=0,R=y[v];R<T;R++){var U=g[R];U===v?B=m[R]:U>v&&(M.push(m[R]),D.push(U))}if(o(B,0))if(o(b[v],0)){if(0===C){var P=[...b];P[v]=1;for(var G=0,H=D.length;G<H;G++){var ae=D[G];P[ae]=s(P[ae],M[G])}f.push(P)}}else{if(0===C)return[];f.splice(C,1),C-=1,_-=1}else{b[v]=r(b[v],B);for(var k=0,q=D.length;k<q;k++){var O=D[k];b[O]=s(b[O],i(b[v],M[k]))}}}return f.map(ve=>new a({data:ve.map(Q=>[Q]),size:[A,1]}))}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).map(m=>m.valueOf())}});function c(h,d){for(var f=[l(h,d,!0)._data.map(D=>D[0])],A=h._data,p=h._size[0],m=h._size[1],g=0;g<m;g++)for(var y=f.length,v=0;v<y;v++){var _=f[v];if(o(A[g][g],0))if(o(_[g],0)){if(0===v){var b=[..._];b[g]=1;for(var M=g+1;M<m;M++)b[M]=s(b[M],A[M][g]);f.push(b)}}else{if(0===v)return[];f.splice(v,1),v-=1,y-=1}else{_[g]=r(_[g],A[g][g]);for(var C=g+1;C<m;C++)_[C]=s(_[C],i(_[g],A[C][g]))}}return f.map(D=>new a({data:D.map(x=>[x]),size:[p,1]}))}}),$se="matrixFromRows",p$e=ye($se,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e($se,{"...Array":function(l){return s(l)},"...Matrix":function(l){return t(s(l.map(c=>c.toArray())))}});function s(a){if(0===a.length)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(a[0]),c=[];for(var u of a){var h=o(u);if(h!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|h));c.push(r(u))}return c}function o(a){var l=i(a);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),m$e=ye("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],n=>{var{typed:e,matrix:t,addScalar:r,multiplyScalar:i,equalScalar:s,dot:o}=n,a=Ll({typed:e,equalScalar:s}),l=od({typed:e});function c(C,b){switch(C.length){case 1:switch(b.length){case 1:if(C[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(C[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+b[0]+")");break;case 2:if(C[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}var f=e("_multiplyMatrixVector",{"DenseMatrix, any":function p(C,b){var k,M=C._data,D=C._size,x=C._datatype||C.getDataType(),T=b._data,B=b._datatype||b.getDataType(),R=D[0],U=D[1],q=r,O=i;x&&B&&x===B&&"string"==typeof x&&"mixed"!==x&&(q=e.find(r,[k=x,k]),O=e.find(i,[k,k]));for(var P=[],G=0;G<R;G++){for(var H=M[G],ae=O(H[0],T[0]),ve=1;ve<U;ve++)ae=q(ae,O(H[ve],T[ve]));P[G]=ae}return C.createDenseMatrix({data:P,size:[R],datatype:x===C._datatype&&B===b._datatype?k:void 0})},"SparseMatrix, any":function y(C,b){var M=C._values,D=C._index,x=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var G,B=b._data,R=b._datatype||b.getDataType(),U=C._size[0],k=b._size[0],q=[],O=[],P=[],H=r,ae=i,ve=s,Q=0;T&&R&&T===R&&"string"==typeof T&&"mixed"!==T&&(H=e.find(r,[G=T,G]),ae=e.find(i,[G,G]),ve=e.find(s,[G,G]),Q=e.convert(0,G));var j=[],K=[];P[0]=0;for(var oe=0;oe<k;oe++){var se=B[oe];if(!ve(se,Q))for(var te=x[oe+1],ee=x[oe];ee<te;ee++){var Ae=D[ee];K[Ae]?j[Ae]=H(j[Ae],ae(se,M[ee])):(K[Ae]=!0,O.push(Ae),j[Ae]=ae(se,M[ee]))}}for(var Se=O.length,ge=0;ge<Se;ge++)q[ge]=j[O[ge]];return P[1]=O.length,C.createSparseMatrix({values:q,index:O,ptr:P,size:[U,1],datatype:T===C._datatype&&R===b._datatype?G:void 0})}}),A=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function m(C,b){var O,M=C._data,D=C._size,x=C._datatype||C.getDataType(),T=b._data,B=b._size,R=b._datatype||b.getDataType(),U=D[0],k=D[1],q=B[1],P=r,G=i;x&&R&&x===R&&"string"==typeof x&&"mixed"!==x&&"mixed"!==x&&(P=e.find(r,[O=x,O]),G=e.find(i,[O,O]));for(var H=[],ae=0;ae<U;ae++){var ve=M[ae];H[ae]=[];for(var Q=0;Q<q;Q++){for(var j=G(ve[0],T[0][Q]),K=1;K<k;K++)j=P(j,G(ve[K],T[K][Q]));H[ae][Q]=j}}return C.createDenseMatrix({data:H,size:[U,q],datatype:x===C._datatype&&R===b._datatype?O:void 0})},"DenseMatrix, SparseMatrix":function g(C,b){var M=C._data,D=C._size,x=C._datatype||C.getDataType(),T=b._values,B=b._index,R=b._ptr,U=b._size,k=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P,q=D[0],O=U[1],G=r,H=i,ae=s,ve=0;x&&k&&x===k&&"string"==typeof x&&"mixed"!==x&&(G=e.find(r,[P=x,P]),H=e.find(i,[P,P]),ae=e.find(s,[P,P]),ve=e.convert(0,P));for(var Q=[],j=[],K=[],oe=b.createSparseMatrix({values:Q,index:j,ptr:K,size:[q,O],datatype:x===C._datatype&&k===b._datatype?P:void 0}),se=0;se<O;se++){K[se]=j.length;var le=R[se],te=R[se+1];if(te>le)for(var ee=0,Ae=0;Ae<q;Ae++){for(var Se=Ae+1,ge=void 0,xe=le;xe<te;xe++){var ne=B[xe];ee!==Se?(ge=H(M[Ae][ne],T[xe]),ee=Se):ge=G(ge,H(M[Ae][ne],T[xe]))}ee===Se&&!ae(ge,ve)&&(j.push(Ae),Q.push(ge))}}return K[O]=j.length,oe},"SparseMatrix, DenseMatrix":function v(C,b){var M=C._values,D=C._index,x=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O,B=b._data,R=b._datatype||b.getDataType(),U=C._size[0],k=b._size[0],q=b._size[1],P=r,G=i,H=s,ae=0;T&&R&&T===R&&"string"==typeof T&&"mixed"!==T&&(P=e.find(r,[O=T,O]),G=e.find(i,[O,O]),H=e.find(s,[O,O]),ae=e.convert(0,O));for(var ve=[],Q=[],j=[],K=C.createSparseMatrix({values:ve,index:Q,ptr:j,size:[U,q],datatype:T===C._datatype&&R===b._datatype?O:void 0}),oe=[],se=[],le=0;le<q;le++){j[le]=Q.length;for(var te=le+1,ee=0;ee<k;ee++){var Ae=B[ee][le];if(!H(Ae,ae))for(var ge=x[ee+1],xe=x[ee];xe<ge;xe++){var ne=D[xe];se[ne]!==te?(se[ne]=te,Q.push(ne),oe[ne]=G(Ae,M[xe])):oe[ne]=P(oe[ne],G(Ae,M[xe]))}}for(var W=Q.length,Me=j[le];Me<W;Me++)ve[Me]=oe[Q[Me]]}return j[q]=Q.length,K},"SparseMatrix, SparseMatrix":function _(C,b){var G,M=C._values,D=C._index,x=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType(),B=b._values,R=b._index,U=b._ptr,k=b._datatype||void 0===b._data?b._datatype:b.getDataType(),q=C._size[0],O=b._size[1],P=M&&B,H=r,ae=i;T&&k&&T===k&&"string"==typeof T&&"mixed"!==T&&(H=e.find(r,[G=T,G]),ae=e.find(i,[G,G]));for(var le,ee,Ae,ge,xe,ne,ve=P?[]:void 0,Q=[],j=[],K=C.createSparseMatrix({values:ve,index:Q,ptr:j,size:[q,O],datatype:T===C._datatype&&k===b._datatype?G:void 0}),oe=P?[]:void 0,se=[],Y=0;Y<O;Y++){j[Y]=Q.length;var W=Y+1;for(ge=U[Y+1],Ae=U[Y];Ae<ge;Ae++)if(ne=R[Ae],P)for(ee=x[ne+1],le=x[ne];le<ee;le++)se[xe=D[le]]!==W?(se[xe]=W,Q.push(xe),oe[xe]=ae(B[Ae],M[le])):oe[xe]=H(oe[xe],ae(B[Ae],M[le]));else for(ee=x[ne+1],le=x[ne];le<ee;le++)se[xe=D[le]]!==W&&(se[xe]=W,Q.push(xe));if(P)for(var Ce=Q.length,Pe=j[Y];Pe<Ce;Pe++)ve[Pe]=oe[Q[Pe]]}return j[O]=Q.length,K}});return e("multiply",i,{"Array, Array":e.referTo("Matrix, Matrix",C=>(b,M)=>{c(xr(b),xr(M));var D=C(t(b),t(M));return ur(D)?D.valueOf():D}),"Matrix, Matrix":function(b,M){var D=b.size(),x=M.size();return c(D,x),1===D.length?1===x.length?function u(C,b,M){if(0===M)throw new Error("Cannot multiply two empty vectors");return o(C,b)}(b,M,D[0]):function h(C,b){if("dense"!==b.storage())throw new Error("Support for SparseMatrix not implemented");return function d(C,b){var q,M=C._data,D=C._size,x=C._datatype||C.getDataType(),T=b._data,B=b._size,R=b._datatype||b.getDataType(),U=D[0],k=B[1],O=r,P=i;x&&R&&x===R&&"string"==typeof x&&"mixed"!==x&&(O=e.find(r,[q=x,q]),P=e.find(i,[q,q]));for(var G=[],H=0;H<k;H++){for(var ae=P(M[0],T[0][H]),ve=1;ve<U;ve++)ae=O(ae,P(M[ve],T[ve][H]));G[H]=ae}return C.createDenseMatrix({data:G,size:[k],datatype:x===C._datatype&&R===b._datatype?q:void 0})}(C,b)}(b,M):1===x.length?f(b,M):A(b,M)},"Matrix, Array":e.referTo("Matrix,Matrix",C=>(b,M)=>C(b,t(M))),"Array, Matrix":e.referToSelf(C=>(b,M)=>C(t(b,M.storage()),M)),"SparseMatrix, any":function(b,M){return a(b,M,i,!1)},"DenseMatrix, any":function(b,M){return l(b,M,i,!1)},"any, SparseMatrix":function(b,M){return a(M,b,i,!0)},"any, DenseMatrix":function(b,M){return l(M,b,i,!0)},"Array, any":function(b,M){return l(t(b),M,i,!1).valueOf()},"any, Array":function(b,M){return l(t(M),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(C=>(b,M,D)=>{for(var x=C(b,M),T=0;T<D.length;T++)x=C(x,D[T]);return x})})}),y$e=ye("nthRoots",["config","typed","divideScalar","Complex"],n=>{var{typed:e,Complex:i}=n,s=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function o(a,l){if(l<0)throw new Error("Root must be greater than zero");if(0===l)throw new Error("Root must be non-zero");if(l%1!=0)throw new Error("Root must be an integer");if(0===a||0===a.abs())return[new i(0,0)];var u,c="number"==typeof a;(c||0===a.re||0===a.im)&&(u=c?2*+(a<0):0===a.im?2*+(a.re<0):2*+(a.im<0)+1);for(var h=a.arg(),d=a.abs(),f=[],A=Math.pow(d,1/l),p=0;p<l;p++){var m=(u+4*p)/l;m!==Math.round(m)?f.push(new i({r:A,phi:(h+2*Math.PI*p)/l})):f.push(s[m%4](A))}return f}return e("nthRoots",{Complex:function(l){return o(l,2)},"Complex, number":o})}),Yse="partitionSelect",b$e=ye(Yse,["typed","isNumeric","isNaN","compare"],n=>{var{typed:e,isNumeric:t,isNaN:r,compare:i}=n,s=i,o=(c,u)=>-i(c,u);return e(Yse,{"Array | Matrix, number":function(u,h){return a(u,h,s)},"Array | Matrix, number, string":function(u,h,d){if("asc"===d)return a(u,h,s);if("desc"===d)return a(u,h,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":a});function a(c,u,h){if(!Kn(u)||u<0)throw new Error("k must be a non-negative integer");if(ur(c)){if(c.size().length>1)throw new Error("Only one dimensional matrices supported");return l(c.valueOf(),u,h)}if(Array.isArray(c))return l(c,u,h)}function l(c,u,h){if(u>=c.length)throw new Error("k out of bounds");for(var d=0;d<c.length;d++)if(t(c[d])&&r(c[d]))return c[d];for(var f=0,A=c.length-1;f<A;){for(var p=f,m=A,g=c[Math.floor(Math.random()*(A-f+1))+f];p<m;)if(h(c[p],g)>=0){var y=c[m];c[m]=c[p],c[p]=y,--m}else++p;h(c[p],g)>0&&--p,u<=p?A=p:f=p+1}return c[u]}}),Jse="rightLogShift",C$e=ye(Jse,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=bm({typed:e}),l=ad({typed:e,equalScalar:r}),c=d8({typed:e,equalScalar:r}),u=k0({typed:e,DenseMatrix:s}),h=Ll({typed:e,equalScalar:r}),d=od({typed:e}),f=Xs({typed:e,matrix:t,concat:o}),A=A8({typed:e,matrix:t});return e(Jse,{"number, number":one,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():h(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):d(g,m,p,!0))},A,f({SS:c,DS:a,SD:l}))});function Zse(n,e,t,r,i,s,o){var a=0;for(t[o]=n;a>=0;){var l=t[o+a],c=t[r+l];-1===c?(a--,s[e++]=l):(t[r+l]=t[i+c],t[o+ ++a]=c)}return e}function Dm(n){return-n-2}var B$e=ye("csAmd",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:r}=n;return function(u,h){if(!h||u<=0||u>3)return null;var d=h._size,f=d[0],A=d[1],p=0,m=Math.max(16,10*Math.sqrt(A)),g=function i(c,u,h,d,f){var A=r(u);if(1===c&&d===h)return e(u,A);if(2===c){for(var p=A._index,m=A._ptr,g=0,y=0;y<h;y++){var v=m[y];if(m[y]=g,!(m[y+1]-v>f))for(var _=m[y+1];v<_;v++)p[g++]=p[v]}return m[h]=g,u=r(A),t(A,u)}return t(A,u)}(u,h,f,A,m=Math.min(A-2,m));!function D$e(n,e,t){for(var r=n._values,i=n._index,s=n._ptr,a=n._size[1],l=0,c=0;c<a;c++){var u=s[c];for(s[c]=l;u<s[c+1];u++)e(i[u],c,r?r[u]:1,t)&&(i[l]=i[u],r&&(r[l]=r[u]),l++)}s[a]=l,i.splice(l,i.length-l),r&&r.splice(l,r.length-l)}(g,l,null);for(var H,ae,ve,Q,j,K,oe,se,le,te,ee,Ae,Se,ge,xe,ne,y=g._index,v=g._ptr,_=v[A],C=[],b=[],D=A+1,x=2*(A+1),T=3*(A+1),B=4*(A+1),R=5*(A+1),U=6*(A+1),k=7*(A+1),q=C,O=function s(c,u,h,d,f,A,p,m,g,y,v,_){for(var C=0;C<c;C++)h[d+C]=u[C+1]-u[C];h[d+c]=0;for(var b=0;b<=c;b++)h[f+b]=-1,A[b]=-1,h[p+b]=-1,h[m+b]=-1,h[g+b]=1,h[y+b]=1,h[v+b]=0,h[_+b]=h[d+b];var M=a(0,0,h,y,c);return h[v+c]=-2,u[c]=-1,h[y+c]=0,M}(A,v,b,0,T,q,x,k,D,U,B,R),P=function o(c,u,h,d,f,A,p,m,g,y,v){for(var _=0,C=0;C<c;C++){var b=h[d+C];if(0===b)h[f+C]=-2,_++,u[C]=-1,h[A+C]=0;else if(b>p)h[m+C]=0,h[f+C]=-1,_++,u[C]=Dm(c),h[m+c]++;else{var M=h[g+b];-1!==M&&(y[M]=C),h[v+C]=h[g+b],h[g+b]=C}}return _}(A,v,b,R,B,U,m,D,T,q,x),G=0;P<A;){for(ve=-1;G<A&&-1===(ve=b[T+G]);G++);-1!==b[x+ve]&&(q[b[x+ve]]=-1),b[T+G]=b[x+ve];var Y=b[B+ve],W=b[D+ve];P+=W;var Me=0;b[D+ve]=-W;var Ce=v[ve],Pe=0===Y?Ce:_,Oe=Pe;for(Q=1;Q<=Y+1;Q++){for(Q>Y?(K=ve,oe=Ce,se=b[0+ve]-Y):(oe=v[K=y[Ce++]],se=b[0+K]),j=1;j<=se;j++)!((le=b[D+(H=y[oe++])])<=0)&&(Me+=le,b[D+H]=-le,y[Oe++]=H,-1!==b[x+H]&&(q[b[x+H]]=q[H]),-1!==q[H]?b[x+q[H]]=b[x+H]:b[T+b[R+H]]=b[x+H]);K!==ve&&(v[K]=Dm(ve),b[U+K]=0)}for(0!==Y&&(_=Oe),b[R+ve]=Me,v[ve]=Pe,b[0+ve]=Oe-Pe,b[B+ve]=-2,O=a(O,p,b,U,A),te=Pe;te<Oe;te++)if(!((ee=b[B+(H=y[te])])<=0)){var re=O-(le=-b[D+H]);for(Ce=v[H],Ae=v[H]+ee-1;Ce<=Ae;Ce++)b[U+(K=y[Ce])]>=O?b[U+K]-=le:0!==b[U+K]&&(b[U+K]=b[R+K]+re)}for(te=Pe;te<Oe;te++){for(Se=(Ae=v[H=y[te]])+b[B+H]-1,ge=Ae,xe=0,ne=0,Ce=Ae;Ce<=Se;Ce++)if(0!==b[U+(K=y[Ce])]){var J=b[U+K]-O;J>0?(ne+=J,y[ge++]=K,xe+=K):(v[K]=Dm(ve),b[U+K]=0)}b[B+H]=ge-Ae+1;var Ue=ge,Qe=Ae+b[0+H];for(Ce=Se+1;Ce<Qe;Ce++){var rt=b[D+(ae=y[Ce])];rt<=0||(ne+=rt,y[ge++]=ae,xe+=ae)}0===ne?(v[H]=Dm(ve),Me-=le=-b[D+H],W+=le,P+=le,b[D+H]=0,b[B+H]=-1):(b[R+H]=Math.min(b[R+H],ne),y[ge]=y[Ue],y[Ue]=y[Ae],y[Ae]=ve,b[0+H]=ge-Ae+1,b[x+H]=b[k+(xe=(xe<0?-xe:xe)%A)],b[k+xe]=H,q[H]=xe)}for(b[R+ve]=Me,O=a(O+(p=Math.max(p,Me)),p,b,U,A),te=Pe;te<Oe;te++)if(!(b[D+(H=y[te])]>=0))for(H=b[k+(xe=q[H])],b[k+xe]=-1;-1!==H&&-1!==b[x+H];H=b[x+H],O++){for(se=b[0+H],ee=b[B+H],Ce=v[H]+1;Ce<=v[H]+se-1;Ce++)b[U+y[Ce]]=O;var Xe=H;for(ae=b[x+H];-1!==ae;){var Lt=b[0+ae]===se&&b[B+ae]===ee;for(Ce=v[ae]+1;Lt&&Ce<=v[ae]+se-1;Ce++)b[U+y[Ce]]!==O&&(Lt=0);Lt?(v[ae]=Dm(H),b[D+H]+=b[D+ae],b[D+ae]=0,b[B+ae]=-1,b[x+Xe]=ae=b[x+ae]):(Xe=ae,ae=b[x+ae])}}for(Ce=Pe,te=Pe;te<Oe;te++)!((le=-b[D+(H=y[te])])<=0)&&(b[D+H]=le,ne=b[R+H]+Me-le,-1!==b[T+(ne=Math.min(ne,A-P-le))]&&(q[b[T+ne]]=H),b[x+H]=b[T+ne],q[H]=-1,b[T+ne]=H,G=Math.min(G,ne),b[R+H]=ne,y[Ce++]=H);b[D+ve]=W,0==(b[0+ve]=Ce-Pe)&&(v[ve]=-1,b[U+ve]=0),0!==Y&&(_=Ce)}for(H=0;H<A;H++)v[H]=Dm(v[H]);for(ae=0;ae<=A;ae++)b[T+ae]=-1;for(ae=A;ae>=0;ae--)b[D+ae]>0||(b[x+ae]=b[T+v[ae]],b[T+v[ae]]=ae);for(K=A;K>=0;K--)b[D+K]<=0||-1!==v[K]&&(b[x+K]=b[T+v[K]],b[T+v[K]]=K);for(ve=0,H=0;H<=A;H++)-1===v[H]&&(ve=Zse(H,ve,b,T,x,C,U));return C.splice(C.length-1,1),C};function a(c,u,h,d,f){if(c<2||c+u<0){for(var A=0;A<f;A++)0!==h[d+A]&&(h[d+A]=1);c=2}return c}function l(c,u){return c!==u}});function N$e(n,e,t,r,i,s,o){var a,l,u,c=0;if(n<=e||t[r+e]<=t[i+n])return-1;t[i+n]=t[r+e];var h=t[s+n];if(t[s+n]=e,-1===h)c=1,u=n;else{for(c=2,u=h;u!==t[o+u];u=t[o+u]);for(a=h;a!==u;a=l)l=t[o+a],t[o+a]=u}return{jleaf:c,q:u}}var R$e=ye("csCounts",["transpose"],n=>{var{transpose:e}=n;return function(t,r,i,s){if(!t||!r||!i)return null;var c,u,h,d,f,p,o=t._size,a=o[0],l=o[1],m=4*l+(s?l+a+1:0),g=[],v=l,_=2*l,C=3*l,b=4*l,M=5*l+1;for(h=0;h<m;h++)g[h]=-1;var D=[],x=e(t),T=x._index,B=x._ptr;for(h=0;h<l;h++)for(D[u=i[h]]=-1===g[C+u]?1:0;-1!==u&&-1===g[C+u];u=r[u])g[C+u]=h;if(s){for(h=0;h<l;h++)g[i[h]]=h;for(c=0;c<a;c++){for(h=l,p=B[c+1],f=B[c];f<p;f++)h=Math.min(h,g[T[f]]);g[M+c]=g[b+h],g[b+h]=c}}for(c=0;c<l;c++)g[0+c]=c;for(h=0;h<l;h++){for(-1!==r[u=i[h]]&&D[r[u]]--,d=s?g[b+h]:u;-1!==d;d=s?g[M+d]:-1)for(f=B[d];f<B[d+1];f++){var R=N$e(c=T[f],u,g,C,v,_,0);R.jleaf>=1&&D[u]++,2===R.jleaf&&D[R.q]--}-1!==r[u]&&(g[0+u]=r[u])}for(u=0;u<l;u++)-1!==r[u]&&(D[r[u]]+=D[u]);return D}}),L$e=ye("csSqr",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:r}=n,i=B$e({add:e,multiply:t,transpose:r}),s=R$e({transpose:r});return function(l,c,u){var A,h=c._ptr,f=c._size[1],p={};if(p.q=i(l,c),l&&!p.q)return null;if(u){var m=l?function S$e(n,e,t,r){for(var i=n._values,s=n._index,o=n._ptr,a=n._size,l=n._datatype,c=a[0],u=a[1],h=r&&n._values?[]:null,d=[],f=[],A=0,p=0;p<u;p++){f[p]=A;for(var m=t?t[p]:p,y=o[m+1],v=o[m];v<y;v++)d[A]=e?e[s[v]]:s[v],h&&(h[A]=i[v]),A++}return f[u]=A,n.createSparseMatrix({values:h,index:d,ptr:f,size:[c,u],datatype:l})}(c,null,p.q,0):c;p.parent=function E$e(n,e){if(!n)return null;var h,d,t=n._index,r=n._ptr,i=n._size,s=i[0],o=i[1],a=[],l=[],u=o;if(e)for(h=0;h<s;h++)l[u+h]=-1;for(var f=0;f<o;f++){a[f]=-1,l[0+f]=-1;for(var p=r[f+1],m=r[f];m<p;m++){var g=t[m];for(h=e?l[u+g]:g;-1!==h&&h<f;h=d)d=l[0+h],l[0+h]=f,-1===d&&(a[h]=f);e&&(l[u+g]=f)}}return a}(m,1);var g=function x$e(n,e){if(!n)return null;var r,t=0,i=[],s=[],a=e,l=2*e;for(r=0;r<e;r++)s[0+r]=-1;for(r=e-1;r>=0;r--)-1!==n[r]&&(s[a+r]=s[0+n[r]],s[0+n[r]]=r);for(r=0;r<e;r++)-1===n[r]&&(t=Zse(r,t,s,0,a,i,l));return i}(p.parent,f);if(p.cp=s(m,p.parent,g,1),m&&p.parent&&p.cp&&function o(a,l){var c=a._ptr,u=a._index,h=a._size,d=h[0],f=h[1];l.pinv=[],l.leftmost=[];var b,M,D,T,A=l.parent,p=l.pinv,m=l.leftmost,g=[],v=d,_=d+f,C=d+2*f;for(M=0;M<f;M++)g[v+M]=-1,g[_+M]=-1,g[C+M]=0;for(b=0;b<d;b++)m[b]=-1;for(M=f-1;M>=0;M--)for(T=c[M+1],D=c[M];D<T;D++)m[u[D]]=M;for(b=d-1;b>=0;b--)p[b]=-1,-1!==(M=m[b])&&(0==g[C+M]++&&(g[_+M]=b),g[0+b]=g[v+M],g[v+M]=b);for(l.lnz=0,l.m2=d,M=0;M<f;M++)if(b=g[v+M],l.lnz++,b<0&&(b=l.m2++),p[b]=M,!(--C[M]<=0)){l.lnz+=g[C+M];var B=A[M];-1!==B&&(0===g[C+B]&&(g[_+B]=g[_+M]),g[0+g[_+M]]=g[v+B],g[v+B]=g[0+b],g[C+B]+=g[C+M])}for(b=0;b<d;b++)p[b]<0&&(p[b]=M++);return!0}(m,p))for(p.unz=0,A=0;A<f;A++)p.unz+=p.cp[A]}else p.unz=4*h[f]+f,p.lnz=p.unz;return p}});function m8(n,e){return n[e]<0}function eoe(n,e){n[e]=Dm(n[e])}function toe(n){return n<0?Dm(n):n}function U$e(n,e,t,r,i){var c,u,h,s=e._index,o=e._ptr,l=e._size[1],d=0;for(r[0]=n;d>=0;){n=r[d];var f=i?i[n]:n;m8(o,n)||(eoe(o,n),r[l+d]=f<0?0:toe(o[f]));var A=1;for(u=r[l+d],h=f<0?0:toe(o[f+1]);u<h;u++)if(!m8(o,c=s[u])){r[l+d]=u,r[++d]=c,A=0;break}A&&(d--,r[--t]=n)}return t}var Q$e=ye("csSpsolve",["divideScalar","multiply","subtract"],n=>{var{divideScalar:e,multiply:t,subtract:r}=n;return function(s,o,a,l,c,u,h){var _,C,b,M,d=s._values,f=s._index,A=s._ptr,m=s._size[1],g=o._values,y=o._index,v=o._ptr,D=function k$e(n,e,t,r,i){var u,d,s=n._ptr,a=e._index,l=e._ptr,c=n._size[1],f=c;for(d=l[t+1],u=l[t];u<d;u++){var A=a[u];m8(s,A)||(f=U$e(A,n,f,r,i))}for(u=f;u<c;u++)eoe(s,r[u]);return f}(s,o,a,l,u);for(_=D;_<m;_++)c[l[_]]=0;for(b=v[a+1],_=C=v[a];_<b;_++)c[y[_]]=g[_];for(var x=D;x<m;x++){var T=l[x],B=u?u[T]:T;if(!(B<0))for(C=A[B],b=A[B+1],c[T]=e(c[T],d[h?C:b-1]),_=h?C+1:C,M=h?b:b-1;_<M;_++){var R=f[_];c[R]=r(c[R],t(d[_],c[T]))}}return D}}),j$e=ye("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],n=>{var{abs:e,divideScalar:t,multiply:r,subtract:i,larger:s,largerEq:o,SparseMatrix:a}=n,l=Q$e({divideScalar:t,multiply:r,subtract:i});return function(u,h,d){if(!u)return null;var p,A=u._size[1],m=100,g=100;h&&(p=h.q,m=h.lnz||m,g=h.unz||g);var B,R,y=[],v=[],_=[],C=new a({values:y,index:v,ptr:_,size:[A,A]}),b=[],M=[],D=[],x=new a({values:b,index:M,ptr:D,size:[A,A]}),T=[],U=[],k=[];for(B=0;B<A;B++)U[B]=0,T[B]=-1,_[B+1]=0;m=0,g=0;for(var q=0;q<A;q++){_[q]=m,D[q]=g;var O=p?p[q]:q,P=l(C,u,O,k,U,T,1),G=-1,H=-1;for(R=P;R<A;R++)if(T[B=k[R]]<0){var ae=e(U[B]);s(ae,H)&&(H=ae,G=B)}else M[g]=T[B],b[g++]=U[B];if(-1===G||H<=0)return null;T[O]<0&&o(e(U[O]),r(H,d))&&(G=O);var ve=U[G];for(M[g]=q,b[g++]=ve,T[G]=q,v[m]=G,y[m++]=1,R=P;R<A;R++)T[B=k[R]]<0&&(v[m]=B,y[m++]=t(U[B],ve)),U[B]=0}for(_[A]=m,D[A]=g,R=0;R<m;R++)v[R]=T[v[R]];return y.splice(m,y.length-m),v.splice(m,v.length-m),b.splice(g,b.length-g),M.splice(g,M.length-g),{L:C,U:x,pinv:T}}}),W$e=ye("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],n=>{var{typed:e,abs:t,add:r,multiply:i,transpose:s,divideScalar:o,subtract:a,larger:l,largerEq:c,SparseMatrix:u}=n,h=L$e({add:r,multiply:i,transpose:s}),d=j$e({abs:t,divideScalar:o,multiply:i,subtract:a,larger:l,largerEq:c,SparseMatrix:u});return e("slu",{"SparseMatrix, number, number":function(A,p,m){if(!Kn(p)||p<0||p>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=h(p,A,!1),y=d(A,g,m);return{L:y.L,U:y.U,p:y.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),X$e=ye("trace",["typed","matrix","add"],n=>{var{typed:e,matrix:t,add:r}=n;return e("trace",{Array:function(a){return i(t(a))},SparseMatrix:function s(o){var a=o._values,l=o._index,c=o._ptr,u=o._size,d=u[1];if(u[0]===d){var f=0;if(a.length>0)for(var A=0;A<d;A++)for(var m=c[A+1],g=c[A];g<m;g++){var y=l[g];if(y===A){f=r(f,a[g]);break}if(y>A)break}return f}throw new RangeError("Matrix must be square (size: "+ri(u)+")")},DenseMatrix:i,any:Fr});function i(o){var a=o._size,l=o._data;switch(a.length){case 1:if(1===a[0])return Fr(l[0]);throw new RangeError("Matrix must be square (size: "+ri(a)+")");case 2:var c=a[0];if(c===a[1]){for(var h=0,d=0;d<c;d++)h=r(h,l[d][d]);return h}throw new RangeError("Matrix must be square (size: "+ri(a)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+ri(a)+")")}}}),J$e=ye("usolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=oE({DenseMatrix:a});return e("usolveAll",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=[l(h,d,!0)._data.map(ve=>ve[0])],A=h._size[0],m=h._values,g=h._index,y=h._ptr,v=h._size[1]-1;v>=0;v--)for(var _=f.length,C=0;C<_;C++){for(var b=f[C],M=[],D=[],x=y[v],B=0,R=y[v+1]-1;R>=x;R--){var U=g[R];U===v?B=m[R]:U<v&&(M.push(m[R]),D.push(U))}if(o(B,0))if(o(b[v],0)){if(0===C){var P=[...b];P[v]=1;for(var G=0,H=D.length;G<H;G++){var ae=D[G];P[ae]=s(P[ae],M[G])}f.push(P)}}else{if(0===C)return[];f.splice(C,1),C-=1,_-=1}else{b[v]=r(b[v],B);for(var k=0,q=D.length;k<q;k++){var O=D[k];b[O]=s(b[O],i(b[v],M[k]))}}}return f.map(ve=>new a({data:ve.map(Q=>[Q]),size:[A,1]}))}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).map(m=>m.valueOf())}});function c(h,d){for(var f=[l(h,d,!0)._data.map(D=>D[0])],A=h._data,p=h._size[0],g=h._size[1]-1;g>=0;g--)for(var y=f.length,v=0;v<y;v++){var _=f[v];if(o(A[g][g],0))if(o(_[g],0)){if(0===v){var b=[..._];b[g]=1;for(var M=g-1;M>=0;M--)b[M]=s(b[M],A[M][g]);f.push(b)}}else{if(0===v)return[];f.splice(v,1),v-=1,y-=1}else{_[g]=r(_[g],A[g][g]);for(var C=g-1;C>=0;C--)_[C]=s(_[C],i(_[g],A[C][g]))}}return f.map(D=>new a({data:D.map(x=>[x]),size:[p,1]}))}}),eKe=ye("zpk2tf",["typed","add","multiply","Complex","number"],n=>{var{typed:e,add:t,multiply:r,Complex:i,number:s}=n;return e("zpk2tf",{"Array,Array,number":function(c,u,h){return o(c,u,h)},"Array,Array":function(c,u){return o(c,u,1)},"Matrix,Matrix,number":function(c,u,h){return o(c.valueOf(),u.valueOf(),h)},"Matrix,Matrix":function(c,u){return o(c.valueOf(),u.valueOf(),1)}});function o(l,c,u){l.some(y=>"BigNumber"===y.type)&&(l=l.map(y=>s(y))),c.some(y=>"BigNumber"===y.type)&&(c=c.map(y=>s(y)));for(var h=[i(1,0)],d=[i(1,0)],f=0;f<l.length;f++){var A=l[f];"number"==typeof A&&(A=i(A,0)),h=a(h,[i(1,0),i(-A.re,-A.im)])}for(var p=0;p<c.length;p++){var m=c[p];"number"==typeof m&&(m=i(m,0)),d=a(d,[i(1,0),i(-m.re,-m.im)])}for(var g=0;g<h.length;g++)h[g]=r(h[g],u);return[h,d]}function a(l,c){for(var u=[],h=0;h<l.length+c.length-1;h++){u[h]=i(0,0);for(var d=0;d<l.length;d++)h-d>=0&&h-d<c.length&&(u[h]=t(u[h],r(l[d],c[h-d])))}return u}}),v8="ceil",tKe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],nKe=ye(v8,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(v8,{number:function(s){return Pl(s,r(s),t.relTol,t.absTol)?r(s):Math.ceil(s)},"number, number":function(s,o){if(Pl(s,r(s,o),t.relTol,t.absTol))return r(s,o);var[a,l]="".concat(s,"e").split("e"),c=Math.ceil(Number("".concat(a,"e").concat(Number(l)+o)));return[a,l]="".concat(c,"e").split("e"),Number("".concat(a,"e").concat(Number(l)-o))}})}),rKe=ye(v8,tKe,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}=n,l=Ll({typed:e,equalScalar:s}),c=Ya({typed:e,DenseMatrix:a}),u=od({typed:e}),h=nKe({typed:e,config:t,round:r});return e("ceil",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(f){return f.ceil()},"Complex, number":function(f,A){return f.ceil(A)},"Complex, BigNumber":function(f,A){return f.ceil(A.toNumber())},BigNumber:function(f){return Mu(f,r(f),t.relTol,t.absTol)?r(f):f.ceil()},"BigNumber, BigNumber":function(f,A){return Mu(f,r(f,A),t.relTol,t.absTol)?r(f,A):f.toDecimalPlaces(A.toNumber(),kI.ROUND_CEIL)},Fraction:function(f){return f.ceil()},"Fraction, number":function(f,A){return f.ceil(A)},"Fraction, BigNumber":function(f,A){return f.ceil(A.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Or(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Or(f,d,!0)),"Array, number | BigNumber":e.referToSelf(d=>(f,A)=>Or(f,p=>d(p,A),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>l(f,A,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>u(f,A,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(f,A)=>u(i(A),f,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(f,A)=>s(f,0)?o(A.size(),A.storage()):"dense"===A.storage()?u(A,f,d,!0):c(A,f,d,!0))})}),Bb=we(7955),soe="compareNatural",sKe=ye(soe,["typed","compare"],n=>{var{typed:e,compare:t}=n,r=t.signatures["boolean,boolean"];return e(soe,{"any, any":function i(l,c){var d,u=$s(l),h=$s(c);if(!("number"!==u&&"BigNumber"!==u&&"Fraction"!==u||"number"!==h&&"BigNumber"!==h&&"Fraction"!==h))return"0"!==(d=t(l,c)).toString()?d>0?1:-1:Bb(u,h);var f=["Array","DenseMatrix","SparseMatrix"];if(f.includes(u)||f.includes(h))return 0!==(d=s(i,l,c))?d:Bb(u,h);if(u!==h)return Bb(u,h);if("Complex"===u)return function oKe(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0}(l,c);if("Unit"===u)return l.equalBase(c)?i(l.value,c.value):o(i,l.formatUnits(),c.formatUnits());if("boolean"===u)return r(l,c);if("string"===u)return Bb(l,c);if("Object"===u)return function a(l,c,u){var h=Object.keys(c),d=Object.keys(u);h.sort(Bb),d.sort(Bb);var f=o(l,h,d);if(0!==f)return f;for(var A=0;A<h.length;A++){var p=l(c[h[A]],u[d[A]]);if(0!==p)return p}return 0}(i,l,c);if("null"===u||"undefined"===u)return 0;throw new TypeError('Unsupported type of value "'+u+'"')}});function s(l,c,u){return O0(c)&&O0(u)?o(l,c.toJSON().values,u.toJSON().values):O0(c)?s(l,c.toArray(),u):O0(u)?s(l,c,u.toArray()):ZN(c)?s(l,c.toJSON().data,u):ZN(u)?s(l,c,u.toJSON().data):Array.isArray(c)?Array.isArray(u)?o(l,c,u):s(l,c,[u]):s(l,[c],u)}function o(l,c,u){for(var h=0,d=Math.min(c.length,u.length);h<d;h++){var f=l(c[h],u[h]);if(0!==f)return f}return c.length>u.length?1:c.length<u.length?-1:0}}),ooe="composition",lKe=ye(ooe,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],n=>{var{typed:e,addScalar:t,combinations:r,isPositive:i,isInteger:o,larger:a}=n;return e(ooe,{"number | BigNumber, number | BigNumber":function(c,u){if(!(o(c)&&i(c)&&o(u)&&i(u)))throw new TypeError("Positive integer value expected in function composition");if(a(u,c))throw new TypeError("k must be less than or equal to n in function composition");return r(t(c,-1),t(u,-1))}})}),uKe=ye("cross",["typed","matrix","subtract","multiply"],n=>{var{typed:e,matrix:t,subtract:r,multiply:i}=n;return e("cross",{"Matrix, Matrix":function(a,l){return t(s(a.toArray(),l.toArray()))},"Matrix, Array":function(a,l){return t(s(a.toArray(),l))},"Array, Matrix":function(a,l){return t(s(a,l.toArray()))},"Array, Array":s});function s(o,a){var l=Math.max(xr(o).length,xr(a).length);o=sI(o),a=sI(a);var c=xr(o),u=xr(a);if(1!==c.length||1!==u.length||3!==c[0]||3!==u[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+u.join(", ")+"])");var h=[r(i(o[1],a[2]),i(o[2],a[1])),r(i(o[2],a[0]),i(o[0],a[2])),r(i(o[0],a[1]),i(o[1],a[0]))];return l>1?[h]:h}}),fKe=ye("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],n=>{var{typed:e,matrix:t,subtractScalar:r,multiply:i,divideScalar:s,isZero:o,unaryMinus:a}=n;return e("det",{any:function(u){return Fr(u)},"Array | Matrix":function(u){var h;switch((h=ur(u)?u.size():Array.isArray(u)?(u=t(u)).size():[]).length){case 0:return Fr(u);case 1:if(1===h[0])return Fr(u.valueOf()[0]);if(0===h[0])return 1;throw new RangeError("Matrix must be square (size: "+ri(h)+")");case 2:var d=h[0],f=h[1];if(d===f)return function l(c,u,h){if(1===u)return Fr(c[0][0]);if(2===u)return r(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var d=!1,f=new Array(u).fill(0).map((M,D)=>D),A=0;A<u;A++){var p=f[A];if(o(c[p][A])){var m=void 0;for(m=A+1;m<u;m++)if(!o(c[f[m]][A])){p=f[m],f[m]=f[A],f[A]=p,d=!d;break}if(m===u)return c[p][A]}for(var g=c[p][A],y=0===A?1:c[f[A-1]][A-1],v=A+1;v<u;v++)for(var _=f[v],C=A+1;C<u;C++)c[_][C]=s(r(i(c[_][C],g),i(c[_][A],c[p][C])),y)}var b=c[f[u-1]][u-1];return d?a(b):b}(u.clone().valueOf(),d);if(0===f)return 1;throw new RangeError("Matrix must be square (size: "+ri(h)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+ri(h)+")")}}})}),coe="dotMultiply",AKe=ye(coe,["typed","matrix","equalScalar","multiplyScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,multiplyScalar:i,concat:s}=n,o=ad({typed:e,equalScalar:r}),a=Bse({typed:e,equalScalar:r}),l=Ll({typed:e,equalScalar:r}),c=Xs({typed:e,matrix:t,concat:s});return e(coe,c({elop:i,SS:a,DS:o,Ss:l}))}),mKe=ye("FibonacciHeap",["smaller","larger"],n=>{var{smaller:e,larger:t}=n,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(u,h,d){h.left.right=h.right,h.right.left=h.left,d.degree--,d.child===h&&(d.child=h.right),0===d.degree&&(d.child=null),h.left=u,h.right=u.right,u.right=h,h.right.left=h,h.parent=null,h.mark=!1}function a(u,h){var d=h.parent;d&&(h.mark?(o(u,h,d),a(d)):h.mark=!0)}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(u,h){var d={key:u,value:h,degree:0};if(this._minimum){var f=this._minimum;d.left=f,d.right=f.right,f.right=d,d.right.left=d,e(u,f.key)&&(this._minimum=d)}else d.left=d,d.right=d,this._minimum=d;return this._size++,d},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var u=this._minimum;if(null===u)return u;for(var h=this._minimum,d=u.degree,f=u.child;d>0;){var A=f.right;f.left.right=f.right,f.right.left=f.left,f.left=h,f.right=h.right,h.right=f,f.right.left=f,f.parent=null,f=A,d--}return u.left.right=u.right,u.right.left=u.left,h=u===u.right?null:function c(u,h){var m,d=Math.floor(Math.log(h)*r)+1,f=new Array(d),A=0,p=u;if(p)for(A++,p=p.right;p!==u;)A++,p=p.right;for(;A>0;){for(var g=p.degree,y=p.right;m=f[g];){if(t(p.key,m.key)){var v=m;m=p,p=v}l(m,p),f[g]=null,g++}f[g]=p,p=y,A--}u=null;for(var _=0;_<d;_++)(m=f[_])&&(u?(m.left.right=m.right,m.right.left=m.left,m.left=u,m.right=u.right,u.right=m,m.right.left=m,e(m.key,u.key)&&(u=m)):u=m);return u}(h=u.right,this._size),this._size--,this._minimum=h,u},i.prototype.remove=function(u){this._minimum=function s(u,h,d){h.key=d;var f=h.parent;return f&&e(h.key,f.key)&&(o(u,h,f),a(u,f)),e(h.key,u.key)&&(u=h),u}(this._minimum,u,-1),this.extractMinimum()};var l=function(h,d){h.left.right=h.right,h.right.left=h.left,h.parent=d,d.child?(h.left=d.child,h.right=d.child.right,d.child.right=h,h.right.left=h):(d.child=h,h.right=h,h.left=h),d.degree++,h.mark=!1};return i},{isClass:!0}),vKe=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],yKe=ye("fix",["typed","ceil","floor"],n=>{var{typed:e,ceil:t,floor:r}=n;return e("fix",{number:function(s){return s>0?r(s):t(s)},"number, number":function(s,o){return s>0?r(s,o):t(s,o)}})}),_Ke=ye("fix",vKe,n=>{var{typed:e,Complex:t,matrix:r,ceil:i,floor:s,equalScalar:o,zeros:a,DenseMatrix:l}=n,c=Ya({typed:e,DenseMatrix:l}),u=od({typed:e}),h=yKe({typed:e,ceil:i,floor:s});return e("fix",{number:h.signatures.number,"number, number | BigNumber":h.signatures["number,number"],Complex:function(f){return new t(f.re>0?Math.floor(f.re):Math.ceil(f.re),f.im>0?Math.floor(f.im):Math.ceil(f.im))},"Complex, number":function(f,A){return new t(f.re>0?s(f.re,A):i(f.re,A),f.im>0?s(f.im,A):i(f.im,A))},"Complex, BigNumber":function(f,A){var p=A.toNumber();return new t(f.re>0?s(f.re,p):i(f.re,p),f.im>0?s(f.im,p):i(f.im,p))},BigNumber:function(f){return f.isNegative()?i(f):s(f)},"BigNumber, number | BigNumber":function(f,A){return f.isNegative()?i(f,A):s(f,A)},Fraction:function(f){return f.s<0n?f.ceil():f.floor()},"Fraction, number | BigNumber":function(f,A){return f.s<0n?i(f,A):s(f,A)},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Or(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Or(f,d,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(d=>(f,A)=>Or(f,p=>d(p,A),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(f,A)=>u(r(A),f,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(f,A)=>o(f,0)?a(A.size(),A.storage()):"dense"===A.storage()?u(A,f,d,!0):c(A,f,d,!0))})}),wKe=ye("index",["typed","Index"],n=>{var{typed:e,Index:t}=n;return e("index",{"...number | string | BigNumber | Range | Array | Matrix":function(i){var s=i.map(function(a){return Vr(a)?a.toNumber():Ts(a)||ur(a)?a.map(function(l){return Vr(l)?l.toNumber():l}):a}),o=new t;return t.apply(o,s),o}})}),xKe=ye("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],n=>{var{typed:e,config:t,abs:r,add:i,addScalar:s,matrix:o,multiply:a,multiplyScalar:l,divideScalar:c,subtract:u,smaller:h,equalScalar:d,flatten:f,isZero:A,isNumeric:p}=n;return e("intersect",{"Array, Array, Array":m,"Array, Array, Array, Array":g,"Matrix, Matrix, Matrix":function(B,R,U){var k=m(B.valueOf(),R.valueOf(),U.valueOf());return null===k?null:o(k)},"Matrix, Matrix, Matrix, Matrix":function(B,R,U,k){var q=g(B.valueOf(),R.valueOf(),U.valueOf(),k.valueOf());return null===q?null:o(q)}});function m(T,B,R){if(T=y(T),B=y(B),R=y(R),!_(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function C(T){return 4===T.length&&p(T[0])&&p(T[1])&&p(T[2])&&p(T[3])}(R))throw new TypeError("Array with 4 numbers expected as third argument");return function x(T,B,R,U,k,q,O,P,G,H){var ae=l(T,O),ve=l(U,O),Q=l(B,P),j=l(k,P),K=l(R,G),oe=l(q,G),se=u(u(u(H,ae),Q),K),le=u(u(u(s(s(ve,j),oe),ae),Q),K),te=c(se,le);return[s(T,l(te,u(U,T))),s(B,l(te,u(k,B))),s(R,l(te,u(q,R)))]}(T[0],T[1],T[2],B[0],B[1],B[2],R[0],R[1],R[2],R[3])}function g(T,B,R,U){if(T=y(T),B=y(B),R=y(R),U=y(U),2===T.length){if(!v(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!v(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!v(R))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!v(U))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function b(T,B,R,U){var k=T,q=R,O=u(k,B),P=u(q,U),G=u(l(O[0],P[1]),l(P[0],O[1]));if(A(G)||h(r(G),t.relTol))return null;var H=l(P[0],k[1]),ae=l(P[1],k[0]),ve=l(P[0],q[1]),Q=l(P[1],q[0]),j=c(s(u(u(H,ae),ve),Q),G);return i(a(O,j),k)}(T,B,R,U)}if(3===T.length){if(!_(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_(U))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function D(T,B,R,U,k,q,O,P,G,H,ae,ve){var Q=M(T,O,H,O,B,P,ae,P,R,G,ve,G),j=M(H,O,U,T,ae,P,k,B,ve,G,q,R),K=M(T,O,U,T,B,P,k,B,R,G,q,R),oe=M(H,O,H,O,ae,P,ae,P,ve,G,ve,G),se=M(U,T,U,T,k,B,k,B,q,R,q,R),le=u(l(Q,j),l(K,oe)),te=u(l(se,oe),l(j,j));if(A(te))return null;var ee=c(le,te),Ae=c(s(Q,l(ee,j)),oe),Se=s(T,l(ee,u(U,T))),ge=s(B,l(ee,u(k,B))),xe=s(R,l(ee,u(q,R))),ne=s(O,l(Ae,u(H,O))),Y=s(P,l(Ae,u(ae,P))),W=s(G,l(Ae,u(ve,G)));return d(Se,ne)&&d(ge,Y)&&d(xe,W)?[Se,ge,xe]:null}(T[0],T[1],T[2],B[0],B[1],B[2],R[0],R[1],R[2],U[0],U[1],U[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function y(T){return 1===T.length?T[0]:T.length>1&&Array.isArray(T[0])&&T.every(B=>Array.isArray(B)&&1===B.length)?f(T):T}function v(T){return 2===T.length&&p(T[0])&&p(T[1])}function _(T){return 3===T.length&&p(T[0])&&p(T[1])&&p(T[2])}function M(T,B,R,U,k,q,O,P,G,H,ae,ve){var Q=l(u(T,B),u(R,U)),j=l(u(k,q),u(O,P)),K=l(u(G,H),u(ae,ve));return s(s(Q,j),K)}}),DKe=ye("invmod",["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],n=>{var{typed:e,BigNumber:r,xgcd:i,equal:s,smaller:o,mod:a,add:l,isInteger:c}=n;return e("invmod",{"number, number":u,"BigNumber, BigNumber":u});function u(h,d){if(!c(h)||!c(d))throw new Error("Parameters in function invmod must be integer numbers");if(h=a(h,d),s(d,0))throw new Error("Divisor must be non zero");var f=i(h,d);f=f.valueOf();var[A,p]=f;return s(A,r(1))?(p=a(p,d),o(p,r(0))&&(p=l(p,d)),p):NaN}}),TKe=ye("lcm",["typed","matrix","equalScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,s=ad({typed:e,equalScalar:r}),o=TI({typed:e,equalScalar:r}),a=Ll({typed:e,equalScalar:r}),l=Xs({typed:e,matrix:t,concat:i}),c="number | BigNumber | Fraction | Matrix | Array",u={};return u["".concat(c,", ").concat(c,", ...").concat(c)]=e.referToSelf(d=>(f,A,p)=>{for(var m=d(f,A),g=0;g<p.length;g++)m=d(m,p[g]);return m}),e("lcm",{"number, number":ure,"BigNumber, BigNumber":function h(d,f){if(!d.isInt()||!f.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(d.isZero())return d;if(f.isZero())return f;for(var A=d.times(f);!f.isZero();){var p=f;f=d.mod(p),d=p}return A.div(d).abs()},"Fraction, Fraction":(d,f)=>d.lcm(f)},l({SS:o,DS:s,Ss:a}),u)}),NKe=ye("log1p",["typed","config","divideScalar","log","Complex"],n=>{var{typed:e,config:t,divideScalar:r,log:i,Complex:s}=n;return e("log1p",{number:function(l){return l>=-1||t.predictable?kee(l):o(new s(l,0))},Complex:o,BigNumber:function(l){var c=l.plus(1);return!c.isNegative()||t.predictable?c.ln():o(new s(l.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>l=>Or(l,a)),"any, any":e.referToSelf(a=>(l,c)=>r(a(l),i(c)))});function o(a){var l=a.re+1;return new s(Math.log(Math.sqrt(l*l+a.im*a.im)),Math.atan2(a.im,l))}}),Aoe="setCartesian",FKe=ye(Aoe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(Aoe,{"Array | Matrix, Array | Matrix":function(l,c){var u=[];if(0!==r(t(l),new s(0))&&0!==r(t(c),new s(0))){var h=ji(Array.isArray(l)?l:l.toArray()).sort(i),d=ji(Array.isArray(c)?c:c.toArray()).sort(i);u=[];for(var f=0;f<h.length;f++)for(var A=0;A<d.length;A++)u.push([h[f],d[A]])}return Array.isArray(l)&&Array.isArray(c)?u:new o(u)}})}),poe="setDistinct",OKe=ye(poe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(poe,{"Array | Matrix":function(l){var c;if(0===r(t(l),new s(0)))c=[];else{var u=ji(Array.isArray(l)?l:l.toArray()).sort(i);(c=[]).push(u[0]);for(var h=1;h<u.length;h++)0!==i(u[h],u[h-1])&&c.push(u[h])}return Array.isArray(l)?c:new o(c)}})}),goe="setIsSubset",LKe=ye(goe,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(goe,{"Array | Matrix, Array | Matrix":function(a,l){if(0===r(t(a),new s(0)))return!0;if(0===r(t(l),new s(0)))return!1;for(var h,c=mb(ji(Array.isArray(a)?a:a.toArray()).sort(i)),u=mb(ji(Array.isArray(l)?l:l.toArray()).sort(i)),d=0;d<c.length;d++){h=!1;for(var f=0;f<u.length;f++)if(0===i(c[d].value,u[f].value)&&c[d].identifier===u[f].identifier){h=!0;break}if(!1===h)return!1}return!0}})}),moe="setPowerset",kKe=ye(moe,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(moe,{"Array | Matrix":function(c){if(0===r(t(c),new s(0)))return[];for(var u=ji(Array.isArray(c)?c:c.toArray()).sort(i),h=[],d=0;d.toString(2).length<=u.length;)h.push(o(u,d.toString(2).split("").reverse())),d++;return function a(l){for(var c=[],u=l.length-1;u>0;u--)for(var h=0;h<u;h++)l[h].length>l[h+1].length&&(c=l[h],l[h]=l[h+1],l[h+1]=c);return l}(h)}});function o(l,c){for(var u=[],h=0;h<c.length;h++)"1"===c[h]&&u.push(l[h]);return u}}),ZI="smallerEq",VKe=ye(ZI,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=$c({typed:e}),l=cA({typed:e,SparseMatrix:o}),c=Ya({typed:e,DenseMatrix:i}),u=Xs({typed:e,matrix:r,concat:s}),h=xb({typed:e});return e(ZI,QKe({typed:e,config:t}),{"boolean, boolean":(d,f)=>d<=f,"BigNumber, BigNumber":function(f,A){return f.lte(A)||Mu(f,A,t.relTol,t.absTol)},"bigint, bigint":(d,f)=>d<=f,"Fraction, Fraction":(d,f)=>1!==d.compare(f),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),QKe=ye(ZI,["typed","config"],n=>{var{typed:e,config:t}=n;return e(ZI,{"number, number":function(i,s){return i<=s||Pl(i,s,t.relTol,t.absTol)}})}),GKe=ye("sort",["typed","matrix","compare","compareNatural"],n=>{var{typed:e,matrix:t,compare:r,compareNatural:i}=n,s=r,o=(u,h)=>-r(u,h);return e("sort",{Array:function(h){return l(h),h.sort(s)},Matrix:function(h){return c(h),t(h.toArray().sort(s),h.storage())},"Array, function":function(h,d){return l(h),h.sort(d)},"Matrix, function":function(h,d){return c(h),t(h.toArray().sort(d),h.storage())},"Array, string":function(h,d){return l(h),h.sort(a(d))},"Matrix, string":function(h,d){return c(h),t(h.toArray().sort(a(d)),h.storage())}});function a(u){if("asc"===u)return s;if("desc"===u)return o;if("natural"===u)return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(u){if(1!==xr(u).length)throw new Error("One dimensional array expected")}function c(u){if(1!==u.size().length)throw new Error("One dimensional matrix expected")}}),eF="unequal",qKe=ye(eF,["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,equalScalar:r,matrix:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=$c({typed:e}),c=cA({typed:e,SparseMatrix:a}),u=Ya({typed:e,DenseMatrix:s}),h=Xs({typed:e,matrix:i,concat:o});return e(eF,WKe({typed:e,equalScalar:r}),h({elop:function d(f,A){return!r(f,A)},SS:c,DS:l,Ss:u}))}),WKe=ye(eF,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(eF,{"any, any":function(i,s){return null===i?null!==s:null===s?null!==i:void 0===i?void 0!==s:void 0===s?void 0!==i:!t(i,s)}})}),yoe="setDifference",KKe=ye(yoe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(yoe,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===r(t(l),new s(0)))u=[];else{if(0===r(t(c),new s(0)))return ji(l.toArray());var h=mb(ji(Array.isArray(l)?l:l.toArray()).sort(i)),d=mb(ji(Array.isArray(c)?c:c.toArray()).sort(i));u=[];for(var f,A=0;A<h.length;A++){f=!1;for(var p=0;p<d.length;p++)if(0===i(h[A].value,d[p].value)&&h[A].identifier===d[p].identifier){f=!0;break}f||u.push(h[A])}}return Array.isArray(l)&&Array.isArray(c)?oI(u):new o(oI(u))}})}),_oe="setMultiplicity",YKe=ye(_oe,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(_oe,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(a,l){if(0===r(t(l),new s(0)))return 0;for(var c=ji(Array.isArray(l)?l:l.toArray()),u=0,h=0;h<c.length;h++)0===i(c[h],a)&&u++;return u}})}),boe="setSymDifference",ZKe=ye(boe,["typed","size","concat","subset","setDifference","Index"],n=>{var{typed:e,size:t,concat:r,subset:i,setDifference:s,Index:o}=n;return e(boe,{"Array | Matrix, Array | Matrix":function(l,c){if(0===i(t(l),new o(0)))return ji(c);if(0===i(t(c),new o(0)))return ji(l);var u=ji(l),h=ji(c);return r(s(u,h),s(h,u))}})}),nXe=ye("Spa",["addScalar","equalScalar","FibonacciHeap"],n=>{var{addScalar:e,equalScalar:t,FibonacciHeap:r}=n;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(s,o){if(this._values[s])this._values[s].value=o;else{var a=this._heap.insert(s,o);this._values[s]=a}},i.prototype.get=function(s){var o=this._values[s];return o?o.value:0},i.prototype.accumulate=function(s,o){var a=this._values[s];a?a.value=e(a.value,o):(a=this._heap.insert(s,o),this._values[s]=a)},i.prototype.forEach=function(s,o,a){var l=this._heap,c=this._values,u=[],h=l.extractMinimum();for(h&&u.push(h);h&&h.key<=o;)h.key>=s&&(t(h.value,0)||a(h.key,h.value,this)),(h=l.extractMinimum())&&u.push(h);for(var d=0;d<u.length;d++){var f=u[d];c[(h=l.insert(f.key,f.value)).key]=h}},i.prototype.swap=function(s,o){var a=this._values[s],l=this._values[o];if(!a&&l)a=this._heap.insert(s,l.value),this._heap.remove(l),this._values[s]=a,this._values[o]=void 0;else if(a&&!l)l=this._heap.insert(o,a.value),this._heap.remove(a),this._values[o]=l,this._values[s]=void 0;else if(a&&l){var c=a.value;a.value=l.value,l.value=c}},i},{isClass:!0}),iXe=ye("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],n=>{var{typed:e,matrix:t,divideScalar:r,addScalar:i,multiply:s,unaryMinus:o,det:a,identity:l,abs:c}=n;return e("inv",{"Array | Matrix":function(d){var f=ur(d)?d.size():xr(d);switch(f.length){case 1:if(1===f[0])return ur(d)?t([r(1,d.valueOf()[0])]):[r(1,d[0])];throw new RangeError("Matrix must be square (size: "+ri(f)+")");case 2:var A=f[0],p=f[1];if(A===p)return ur(d)?t(u(d.valueOf(),A,p),d.storage()):u(d,A,p);throw new RangeError("Matrix must be square (size: "+ri(f)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+ri(f)+")")}},any:function(d){return r(1,d)}});function u(h,d,f){var A,p,m,g,y;if(1===d){if(0===(g=h[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,g)]]}if(2===d){var v=a(h);if(0===v)throw Error("Cannot calculate inverse, determinant is zero");return[[r(h[1][1],v),r(o(h[0][1]),v)],[r(o(h[1][0]),v),r(h[0][0],v)]]}var _=h.concat();for(A=0;A<d;A++)_[A]=_[A].concat();for(var C=l(d).valueOf(),b=0;b<f;b++){var M=c(_[b][b]),D=b;for(A=b+1;A<d;)c(_[A][b])>M&&(M=c(_[A][b]),D=A),A++;if(0===M)throw Error("Cannot calculate inverse, determinant is zero");(A=D)!==b&&(y=_[b],_[b]=_[A],_[A]=y,y=C[b],C[b]=C[A],C[A]=y);var x=_[b],T=C[b];for(A=0;A<d;A++){var B=_[A],R=C[A];if(A!==b){if(0!==B[b]){for(m=r(o(B[b]),x[b]),p=b;p<f;p++)B[p]=i(B[p],s(m,x[p]));for(p=0;p<f;p++)R[p]=i(R[p],s(m,T[p]))}}else{for(m=x[b],p=b;p<f;p++)B[p]=r(B[p],m);for(p=0;p<f;p++)R[p]=r(R[p],m)}}}return C}}),oXe=ye("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],n=>{var{typed:e,matrix:t,abs:r,addScalar:i,divideScalar:s,multiplyScalar:o,subtractScalar:a,larger:l,equalScalar:c,unaryMinus:u,DenseMatrix:h,SparseMatrix:d,Spa:f}=n;return e("lup",{DenseMatrix:function(g){return A(g)},SparseMatrix:function(g){return function p(m){var q,O,P,g=m._size[0],y=m._size[1],v=Math.min(g,y),_=m._values,C=m._index,b=m._ptr,M=[],D=[],x=[],T=[g,v],B=[],R=[],U=[],k=[v,y],G=[],H=[];for(q=0;q<g;q++)G[q]=q,H[q]=q;var ve=function(){var j=new f;O<g&&(x.push(M.length),M.push(1),D.push(O)),U.push(B.length);var oe=b[O+1];for(P=b[O];P<oe;P++)j.set(G[q=C[P]],_[P]);O>0&&j.forEach(0,O-1,function(ee,Ae){d._forEachRow(ee,M,D,x,function(Se,ge){Se>ee&&j.accumulate(Se,u(o(ge,Ae)))})});var se=O,le=j.get(O),te=r(le);j.forEach(O+1,g-1,function(ee,Ae){var Se=r(Ae);l(Se,te)&&(se=ee,te=Se,le=Ae)}),O!==se&&(d._swapRows(O,se,T[1],M,D,x),d._swapRows(O,se,k[1],B,R,U),j.swap(O,se),function(j,K){var oe=H[j],se=H[K];G[oe]=K,G[se]=j,H[j]=se,H[K]=oe}(O,se)),j.forEach(0,g-1,function(ee,Ae){ee<=O?(B.push(Ae),R.push(ee)):(Ae=s(Ae,le),c(Ae,0)||(M.push(Ae),D.push(ee)))})};for(O=0;O<y;O++)ve();return U.push(B.length),x.push(M.length),{L:new d({values:M,index:D,ptr:x,size:T}),U:new d({values:B,index:R,ptr:U,size:k}),p:G,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(g)},Array:function(g){var v=A(t(g));return{L:v.L.valueOf(),U:v.U.valueOf(),p:v.p}}});function A(m){var x,T,B,g=m._size[0],y=m._size[1],v=Math.min(g,y),_=Fr(m._data),C=[],b=[g,v],M=[],D=[v,y],R=[];for(x=0;x<g;x++)R[x]=x;for(T=0;T<y;T++){if(T>0)for(x=0;x<g;x++){var U=Math.min(x,T),k=0;for(B=0;B<U;B++)k=i(k,o(_[x][B],_[B][T]));_[x][T]=a(_[x][T],k)}var q=T,O=0,P=0;for(x=T;x<g;x++){var G=_[x][T],H=r(G);l(H,O)&&(q=x,O=H,P=G)}if(T!==q&&(R[T]=[R[q],R[q]=R[T]][0],h._swapRows(T,q,_)),T<g)for(x=T+1;x<g;x++)c(_[x][T],0)||(_[x][T]=s(_[x][T],P))}for(T=0;T<y;T++)for(x=0;x<g;x++)0===T&&(x<y&&(M[x]=[]),C[x]=[]),x<T?(x<y&&(M[x][T]=_[x][T]),T<g&&(C[x][T]=0)):x!==T?(x<y&&(M[x][T]=0),T<g&&(C[x][T]=_[x][T])):(x<y&&(M[x][T]=_[x][T]),T<g&&(C[x][T]=1));var ve=new h({data:C,size:b}),Q=new h({data:M,size:D}),j=[];for(x=0,v=R.length;x<v;x++)j[R[x]]=x;return{L:ve,U:Q,p:j,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),lXe=ye("pinv",["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],n=>{var{typed:e,matrix:t,inv:r,deepEqual:i,equal:s,dotDivide:o,dot:a,ctranspose:l,divideScalar:c,multiply:u,add:h,Complex:d}=n;return e("pinv",{"Array | Matrix":function(v){var _=ur(v)?v.size():xr(v);switch(_.length){case 1:return g(v)?l(v):1===_[0]?r(v):o(l(v),a(v,v));case 2:if(g(v))return l(v);var C=_[0],b=_[1];if(C===b)try{return r(v)}catch(M){if(!(M instanceof Error&&M.message.match(/Cannot calculate inverse, determinant is zero/)))throw M}return ur(v)?t(f(v.valueOf(),C,b),v.storage()):f(v,C,b);default:throw new RangeError("Matrix must be two dimensional (size: "+ri(_)+")")}},any:function(v){return s(v,0)?Fr(v):c(1,v)}});function f(y,v,_){var{C,F:b}=function p(y,v,_){var C=function A(y,v,_){for(var C=Fr(y),b=0,M=0;M<v;M++){if(_<=b)return C;for(var D=M;m(C[D][b]);)if(v===++D&&(D=M,_===++b))return C;[C[D],C[M]]=[C[M],C[D]];for(var x=C[M][b],T=0;T<_;T++)C[M][T]=o(C[M][T],x);for(var B=0;B<v;B++)if(B!==M){x=C[B][b];for(var R=0;R<_;R++)C[B][R]=h(C[B][R],u(-1,u(x,C[M][R])))}b++}return C}(y,v,_),b=y.map((D,x)=>D.filter((T,B)=>B<v&&!m(a(C[B],C[B]))));return{C:b,F:C.filter((D,x)=>!m(a(C[x],C[x])))}}(y,v,_),M=u(r(u(l(C),C)),l(C)),D=u(l(b),r(u(b,l(b))));return u(D,M)}function m(y){return s(h(y,d(1,1)),h(0,d(1,1)))}function g(y){return i(h(y,d(1,1)),h(u(y,0),d(1,1)))}}),uXe=ye("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],n=>{var{typed:e,config:t,identity:r,multiply:i,matrix:s,inv:o,number:a,fraction:l,Complex:c}=n;return e("pow",{"number, number":u,"Complex, Complex":function(A,p){return A.pow(p)},"BigNumber, BigNumber":function(A,p){return p.isInteger()||A>=0||t.predictable?A.pow(p):new c(A.toNumber(),0).pow(p.toNumber(),0)},"bigint, bigint":(f,A)=>f**A,"Fraction, Fraction":function(A,p){var m=A.pow(p);if(null!=m)return m;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return u(A.valueOf(),p.valueOf())},"Array, number":h,"Array, BigNumber":function(A,p){return h(A,p.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(A,p){return d(A,p.toNumber())},"Unit, number | BigNumber":function(A,p){return A.pow(p)}});function u(f,A){if(t.predictable&&!Kn(A)&&f<0)try{var p=l(A),m=a(p);if((A===m||Math.abs((A-m)/A)<1e-14)&&p.d%2n===1n)return(p.n%2n===0n?1:-1)*Math.pow(-f,A)}catch{}return t.predictable&&(f<-1&&A===1/0||f>-1&&f<0&&A===-1/0)?NaN:Kn(A)||f>=0||t.predictable?gre(f,A):f*f<1&&A===1/0||f*f>1&&A===-1/0?0:new c(f,0).pow(A,0)}function h(f,A){if(!Kn(A))throw new TypeError("For A^b, b must be an integer (value is "+A+")");var p=xr(f);if(2!==p.length)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(A<0)try{return h(o(f),-A)}catch(y){throw"Cannot calculate inverse, determinant is zero"===y.message?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+A+")"):y}for(var m=r(p[0]).valueOf(),g=f;A>=1;)!(1&~A)&&(m=i(g,m)),A>>=1,g=i(g,g);return m}function d(f,A){return s(h(f.valueOf(),A))}}),Eoe="setIntersect",fXe=ye(Eoe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(Eoe,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===r(t(l),new s(0))||0===r(t(c),new s(0)))u=[];else{var h=mb(ji(Array.isArray(l)?l:l.toArray()).sort(i)),d=mb(ji(Array.isArray(c)?c:c.toArray()).sort(i));u=[];for(var f=0;f<h.length;f++)for(var A=0;A<d.length;A++)if(0===i(h[f].value,d[A].value)&&h[f].identifier===d[A].identifier){u.push(h[f]);break}}return Array.isArray(l)&&Array.isArray(c)?oI(u):new o(oI(u))}})}),AXe=ye("setUnion",["typed","size","concat","subset","setIntersect","setSymDifference","Index"],n=>{var{typed:e,size:t,concat:r,subset:i,setIntersect:s,setSymDifference:o,Index:a}=n;return e("setUnion",{"Array | Matrix, Array | Matrix":function(c,u){if(0===i(t(c),new a(0)))return ji(u);if(0===i(t(u),new a(0)))return ji(c);var h=ji(c),d=ji(u);return r(o(h,d),s(h,d))}})}),gXe=ye("sqrtm",["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],n=>{var{typed:e,abs:t,add:r,multiply:i,map:s,sqrt:o,subtract:a,inv:l,size:c,max:u,identity:h}=n,f=1e-6;return e("sqrtm",{"Array | Matrix":function(m){var g=ur(m)?m.size():xr(m);switch(g.length){case 1:if(1===g[0])return s(m,o);throw new RangeError("Matrix must be square (size: "+ri(g)+")");case 2:if(g[0]===g[1])return function A(p){var m,g=0,y=p,v=h(c(p));do{var _=y;if(y=i(.5,r(_,l(v))),v=i(.5,r(v,l(_))),(m=u(t(a(y,_))))>f&&++g>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(m>f);return y}(m);throw new RangeError("Matrix must be square (size: "+ri(g)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+ri(g)+")")}}})});function Toe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _8(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Toe(Object(t),!0).forEach(function(r){Xa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Toe(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var yXe=ye("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],n=>{var _,C,b,{on:e,config:t,addScalar:r,subtractScalar:i,multiplyScalar:s,divideScalar:o,pow:a,abs:l,fix:c,round:u,equal:h,isNumeric:d,format:f,number:A,Complex:p,BigNumber:m,Fraction:g}=n,y=A;function v(Y,W){if(!(this instanceof v))throw new Error("Constructor must be called with the new operator");if(null!=Y&&!d(Y)&&!Sp(Y))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===W)this.units=[],this.dimensions=G.map(Ce=>0);else if("string"==typeof W){var Me=v.parse(W);this.units=Me.units,this.dimensions=Me.dimensions}else{if(!Wh(W)||null!==W.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=W.fixPrefix,this.skipAutomaticSimplification=W.skipAutomaticSimplification,this.dimensions=W.dimensions.slice(0),this.units=W.units.map(Ce=>Ka({},Ce))}this.value=this._normalize(Y)}function M(){for(;" "===b||"\t"===b;)T()}function x(Y){return Y>="0"&&Y<="9"}function T(){C++,b=_.charAt(C)}function B(Y){b=_.charAt(C=Y)}function R(){var Y="",W=C;if("+"===b?T():"-"===b&&(Y+=b,T()),!function D(Y){return Y>="0"&&Y<="9"||"."===Y}(b))return B(W),null;if("."===b){if(Y+=b,T(),!x(b))return B(W),null}else{for(;x(b);)Y+=b,T();"."===b&&(Y+=b,T())}for(;x(b);)Y+=b,T();if("E"===b||"e"===b){var Me="",Ce=C;if(Me+=b,T(),("+"===b||"-"===b)&&(Me+=b,T()),!x(b))return B(Ce),Y;for(Y+=Me;x(b);)Y+=b,T()}return Y}function U(){for(var Y="";x(b)||v.isValidAlpha(b);)Y+=b,T();var W=Y.charAt(0);return v.isValidAlpha(W)?Y:null}function k(Y){return b===Y?(T(),Y):null}Object.defineProperty(v,"name",{value:"Unit"}),v.prototype.constructor=v,v.prototype.type="Unit",v.prototype.isUnit=!0,v.parse=function(Y,W){if(W=W||{},C=-1,b="","string"!=typeof(_=Y))throw new TypeError("Invalid argument in Unit.parse, string expected");var Me=new v;Me.units=[];var Ce=1,Pe=!1;T(),M();var Oe=R(),re=null;if(Oe){if("BigNumber"===t.number)re=new m(Oe);else if("Fraction"===t.number)try{re=new g(Oe)}catch{re=parseFloat(Oe)}else re=parseFloat(Oe);M(),k("*")?(Ce=1,Pe=!0):k("/")&&(Ce=-1,Pe=!0)}for(var J=[],Ue=1;;){for(M();"("===b;)J.push(Ce),Ue*=Ce,Ce=1,T(),M();var Qe;if(!b)break;var rt=b;if(null===(Qe=U()))throw new SyntaxError('Unexpected "'+rt+'" in "'+_+'" at index '+C.toString());var Xe=q(Qe);if(null===Xe)throw new SyntaxError('Unit "'+Qe+'" not found.');var Lt=Ce*Ue;if(M(),k("^")){M();var Ft=R();if(null===Ft)throw new SyntaxError('In "'+Y+'", "^" must be followed by a floating-point number');Lt*=Ft}Me.units.push({unit:Xe.unit,prefix:Xe.prefix,power:Lt});for(var Tt=0;Tt<G.length;Tt++)Me.dimensions[Tt]+=(Xe.unit.dimensions[Tt]||0)*Lt;for(M();")"===b;){if(0===J.length)throw new SyntaxError('Unmatched ")" in "'+_+'" at index '+C.toString());Ue/=J.pop(),T(),M()}Pe=!1,k("*")?(Ce=1,Pe=!0):k("/")?(Ce=-1,Pe=!0):Ce=1,Xe.unit.base&&(se.auto[Xe.unit.base.key]={unit:Xe.unit,prefix:Xe.prefix})}if(M(),b)throw new SyntaxError('Could not parse: "'+Y+'"');if(Pe)throw new SyntaxError('Trailing characters: "'+Y+'"');if(0!==J.length)throw new SyntaxError('Unmatched "(" in "'+_+'"');if(0===Me.units.length&&!W.allowNoUnits)throw new SyntaxError('"'+Y+'" contains no units');return Me.value=void 0!==re?Me._normalize(re):null,Me},v.prototype.clone=function(){var Y=new v;Y.fixPrefix=this.fixPrefix,Y.skipAutomaticSimplification=this.skipAutomaticSimplification,Y.value=Fr(this.value),Y.dimensions=this.dimensions.slice(0),Y.units=[];for(var W=0;W<this.units.length;W++)for(var Me in Y.units[W]={},this.units[W])Qn(this.units[W],Me)&&(Y.units[W][Me]=this.units[W][Me]);return Y},v.prototype.valueType=function(){return $s(this.value)},v.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},v.prototype._normalize=function(Y){if(null==Y||0===this.units.length)return Y;for(var W=Y,Me=v._getNumberConverter($s(Y)),Ce=0;Ce<this.units.length;Ce++){var Pe=Me(this.units[Ce].unit.value),Oe=Me(this.units[Ce].prefix.value),re=Me(this.units[Ce].power);W=s(W,a(s(Pe,Oe),re))}return W},v.prototype._denormalize=function(Y,W){if(null==Y||0===this.units.length)return Y;for(var Me=Y,Ce=v._getNumberConverter($s(Y)),Pe=0;Pe<this.units.length;Pe++){var Oe=Ce(this.units[Pe].unit.value),re=Ce(this.units[Pe].prefix.value),J=Ce(this.units[Pe].power);Me=o(Me,a(s(Oe,re),J))}return Me};var q=tE(Y=>{if(Qn(j,Y)){var W=j[Y];return{unit:W,prefix:W.prefixes[""]}}for(var Ce in j)if(Qn(j,Ce)&&j5e(Y,Ce)){var Pe=j[Ce],re=Y.substring(0,Y.length-Ce.length),J=Qn(Pe.prefixes,re)?Pe.prefixes[re]:void 0;if(void 0!==J)return{unit:Pe,prefix:J}}return null},{hasher:Y=>Y[0],limit:100});function O(Y){return Y.equalBase(H.NONE)&&null!==Y.value&&!t.predictable?Y.value:Y}v.isValuelessUnit=function(Y){return null!==q(Y)},v.prototype.hasBase=function(Y){if("string"==typeof Y&&(Y=H[Y]),!Y)return!1;for(var W=0;W<G.length;W++)if(Math.abs((this.dimensions[W]||0)-(Y.dimensions[W]||0))>1e-12)return!1;return!0},v.prototype.equalBase=function(Y){for(var W=0;W<G.length;W++)if(Math.abs((this.dimensions[W]||0)-(Y.dimensions[W]||0))>1e-12)return!1;return!0},v.prototype.equals=function(Y){return this.equalBase(Y)&&h(this.value,Y.value)},v.prototype.multiply=function(Y){for(var W=this.clone(),Me=Wh(Y)?Y:new v(Y),Ce=0;Ce<G.length;Ce++)W.dimensions[Ce]=(this.dimensions[Ce]||0)+(Me.dimensions[Ce]||0);for(var Pe=0;Pe<Me.units.length;Pe++){var Oe=_8({},Me.units[Pe]);W.units.push(Oe)}if(null!==this.value||null!==Me.value){var re=null===this.value?this._normalize(1):this.value,J=null===Me.value?Me._normalize(1):Me.value;W.value=s(re,J)}else W.value=null;return Wh(Y)&&(W.skipAutomaticSimplification=!1),O(W)},v.prototype.divideInto=function(Y){return new v(Y).divide(this)},v.prototype.divide=function(Y){for(var W=this.clone(),Me=Wh(Y)?Y:new v(Y),Ce=0;Ce<G.length;Ce++)W.dimensions[Ce]=(this.dimensions[Ce]||0)-(Me.dimensions[Ce]||0);for(var Pe=0;Pe<Me.units.length;Pe++){var Oe=_8(_8({},Me.units[Pe]),{},{power:-Me.units[Pe].power});W.units.push(Oe)}if(null!==this.value||null!==Me.value){var re=null===this.value?this._normalize(1):this.value,J=null===Me.value?Me._normalize(1):Me.value;W.value=o(re,J)}else W.value=null;return Wh(Y)&&(W.skipAutomaticSimplification=!1),O(W)},v.prototype.pow=function(Y){for(var W=this.clone(),Me=0;Me<G.length;Me++)W.dimensions[Me]=(this.dimensions[Me]||0)*Y;for(var Ce=0;Ce<W.units.length;Ce++)W.units[Ce].power*=Y;return W.value=null!==W.value?a(W.value,Y):null,W.skipAutomaticSimplification=!1,O(W)},v.prototype.abs=function(){var Y=this.clone();if(null!==Y.value)if(Y._isDerived()||0===Y.units.length||0===Y.units[0].unit.offset)Y.value=l(Y.value);else{var W=Y._numberConverter(),Me=W(Y.units[0].unit.value),Ce=W(Y.units[0].unit.offset),Pe=s(Me,Ce);Y.value=i(l(r(Y.value,Pe)),Pe)}for(var Oe in Y.units)("VA"===Y.units[Oe].unit.name||"VAR"===Y.units[Oe].unit.name)&&(Y.units[Oe].unit=j.W);return Y},v.prototype.to=function(Y){var Me,W=null===this.value?this._normalize(1):this.value;if("string"==typeof Y)Me=v.parse(Y);else{if(!Wh(Y))throw new Error("String or Unit expected as parameter");Me=Y.clone()}if(!this.equalBase(Me))throw new Error("Units do not match ('".concat(Me.toString(),"' != '").concat(this.toString(),"')"));if(null!==Me.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||0===this.units.length||0===Me.units.length||this.units[0].unit.offset===Me.units[0].unit.offset)Me.value=Fr(W);else{var Ce=v._getNumberConverter($s(W)),re=s(this.units[0].unit.value,this.units[0].unit.offset),Qe=s(Me.units[0].unit.value,Me.units[0].unit.offset);Me.value=r(W,Ce(i(re,Qe)))}return Me.fixPrefix=!0,Me.skipAutomaticSimplification=!0,Me},v.prototype.toNumber=function(Y){return y(this.toNumeric(Y))},v.prototype.toNumeric=function(Y){var W;return(W=Y?this.to(Y):this.clone())._isDerived()||0===W.units.length?W._denormalize(W.value):W._denormalize(W.value,W.units[0].prefix.value)},v.prototype.toString=function(){return this.format()},v.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},v.fromJSON=function(Y){var W,Me=new v(Y.value,null!==(W=Y.unit)&&void 0!==W?W:void 0);return Me.fixPrefix=Y.fixPrefix||!1,Me},v.prototype.valueOf=v.prototype.toString,v.prototype.simplify=function(){var Me,Pe,Y=this.clone(),W=[];for(var Ce in le)if(Qn(le,Ce)&&Y.hasBase(H[Ce])){Me=Ce;break}if("NONE"===Me)Y.units=[];else if(Me&&Qn(le,Me)&&(Pe=le[Me]),Pe)Y.units=[{unit:Pe.unit,prefix:Pe.prefix,power:1}];else{for(var Oe=!1,re=0;re<G.length;re++){var J=G[re];Math.abs(Y.dimensions[re]||0)>1e-12&&(Qn(le,J)?W.push({unit:le[J].unit,prefix:le[J].prefix,power:Y.dimensions[re]||0}):Oe=!0)}W.length<Y.units.length&&!Oe&&(Y.units=W)}return Y},v.prototype.toSI=function(){for(var Y=this.clone(),W=[],Me=0;Me<G.length;Me++){var Ce=G[Me];if(Math.abs(Y.dimensions[Me]||0)>1e-12){if(!Qn(se.si,Ce))throw new Error("Cannot express custom unit "+Ce+" in SI units");W.push({unit:se.si[Ce].unit,prefix:se.si[Ce].prefix,power:Y.dimensions[Me]||0})}}return Y.units=W,Y.fixPrefix=!0,Y.skipAutomaticSimplification=!0,null!==this.value?(Y.value=null,this.to(Y)):Y},v.prototype.formatUnits=function(){for(var Y="",W="",Me=0,Ce=0,Pe=0;Pe<this.units.length;Pe++)this.units[Pe].power>0?(Me++,Y+=" "+this.units[Pe].prefix.name+this.units[Pe].unit.name,Math.abs(this.units[Pe].power-1)>1e-15&&(Y+="^"+this.units[Pe].power)):this.units[Pe].power<0&&Ce++;if(Ce>0)for(var Oe=0;Oe<this.units.length;Oe++)this.units[Oe].power<0&&(Me>0?(W+=" "+this.units[Oe].prefix.name+this.units[Oe].unit.name,Math.abs(this.units[Oe].power+1)>1e-15&&(W+="^"+-this.units[Oe].power)):(W+=" "+this.units[Oe].prefix.name+this.units[Oe].unit.name,W+="^"+this.units[Oe].power));Y=Y.substr(1),W=W.substr(1),Me>1&&Ce>0&&(Y="("+Y+")"),Ce>1&&Me>0&&(W="("+W+")");var re=Y;return Me>0&&Ce>0&&(re+=" / "),re+W},v.prototype.format=function(Y){var W=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),Me=!1;for(var Ce in typeof W.value<"u"&&null!==W.value&&Sp(W.value)&&(Me=Math.abs(W.value.re)<1e-14),W.units)Qn(W.units,Ce)&&W.units[Ce].unit&&("VA"===W.units[Ce].unit.name&&Me?W.units[Ce].unit=j.VAR:"VAR"===W.units[Ce].unit.name&&!Me&&(W.units[Ce].unit=j.VA));1===W.units.length&&!W.fixPrefix&&Math.abs(W.units[0].power-Math.round(W.units[0].power))<1e-14&&(W.units[0].prefix=W._bestPrefix());var Pe=W._denormalize(W.value),Oe=null!==W.value?f(Pe,Y||{}):"",re=W.formatUnits();return W.value&&Sp(W.value)&&(Oe="("+Oe+")"),re.length>0&&Oe.length>0&&(Oe+=" "),Oe+re},v.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Y=null!==this.value?l(this.value):0,W=l(this.units[0].unit.value),Me=this.units[0].prefix;if(0===Y)return Me;var Ce=this.units[0].power,Pe=Math.log(Y/Math.pow(Me.value*W,Ce))/Math.LN10-1.2;if(Pe>-2.200001&&Pe<1.800001)return Me;Pe=Math.abs(Pe);var Oe=this.units[0].unit.prefixes;for(var re in Oe)if(Qn(Oe,re)){var J=Oe[re];if(J.scientific){var Ue=Math.abs(Math.log(Y/Math.pow(J.value*W,Ce))/Math.LN10-1.2);(Ue<Pe||Ue===Pe&&J.name.length<Me.name.length)&&(Me=J,Pe=Ue)}}return Me},v.prototype.splitUnit=function(Y){for(var W=this.clone(),Me=[],Ce=0;Ce<Y.length&&(W=W.to(Y[Ce]),Ce!==Y.length-1);Ce++){var Pe=W.toNumeric(),Oe=u(Pe),Ue=new v(h(Oe,Pe)?Oe:c(W.toNumeric()),Y[Ce].toString());Me.push(Ue),W=i(W,Ue)}for(var Qe=0,rt=0;rt<Me.length;rt++)Qe=r(Qe,Me[rt].value);return h(Qe,this.value)&&(W.value=0),Me.push(W),Me};var P={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};P.SHORTLONG=Ka({},P.SHORT,P.LONG),P.BINARY_SHORT=Ka({},P.BINARY_SHORT_SI,P.BINARY_SHORT_IEC),P.BINARY_LONG=Ka({},P.BINARY_LONG_SI,P.BINARY_LONG_IEC);var G=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],H={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ae in H)Qn(H,ae)&&(H[ae].key=ae);var Q={name:"",base:{},value:1,offset:0,dimensions:G.map(Y=>0)},j={meter:{name:"meter",base:H.LENGTH,prefixes:P.LONG,value:1,offset:0},inch:{name:"inch",base:H.LENGTH,prefixes:P.NONE,value:.0254,offset:0},foot:{name:"foot",base:H.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yard:{name:"yard",base:H.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mile:{name:"mile",base:H.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},link:{name:"link",base:H.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rod:{name:"rod",base:H.LENGTH,prefixes:P.NONE,value:5.0292,offset:0},chain:{name:"chain",base:H.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:H.LENGTH,prefixes:P.NONE,value:1e-10,offset:0},m:{name:"m",base:H.LENGTH,prefixes:P.SHORT,value:1,offset:0},in:{name:"in",base:H.LENGTH,prefixes:P.NONE,value:.0254,offset:0},ft:{name:"ft",base:H.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yd:{name:"yd",base:H.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mi:{name:"mi",base:H.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},li:{name:"li",base:H.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rd:{name:"rd",base:H.LENGTH,prefixes:P.NONE,value:5.02921,offset:0},ch:{name:"ch",base:H.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},mil:{name:"mil",base:H.LENGTH,prefixes:P.NONE,value:254e-7,offset:0},m2:{name:"m2",base:H.SURFACE,prefixes:P.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:H.SURFACE,prefixes:P.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:H.SURFACE,prefixes:P.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:H.SURFACE,prefixes:P.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:H.SURFACE,prefixes:P.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:H.SURFACE,prefixes:P.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:H.SURFACE,prefixes:P.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:H.SURFACE,prefixes:P.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:H.SURFACE,prefixes:P.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:H.SURFACE,prefixes:P.NONE,value:1e4,offset:0},m3:{name:"m3",base:H.VOLUME,prefixes:P.CUBIC,value:1,offset:0},L:{name:"L",base:H.VOLUME,prefixes:P.SHORT,value:.001,offset:0},l:{name:"l",base:H.VOLUME,prefixes:P.SHORT,value:.001,offset:0},litre:{name:"litre",base:H.VOLUME,prefixes:P.LONG,value:.001,offset:0},cuin:{name:"cuin",base:H.VOLUME,prefixes:P.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:H.VOLUME,prefixes:P.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:H.VOLUME,prefixes:P.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:H.VOLUME,prefixes:P.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:H.VOLUME,prefixes:P.NONE,value:15e-6,offset:0},drop:{name:"drop",base:H.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:H.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},minim:{name:"minim",base:H.VOLUME,prefixes:P.NONE,value:6.1611519921875e-8,offset:0},fluiddram:{name:"fluiddram",base:H.VOLUME,prefixes:P.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:H.VOLUME,prefixes:P.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:H.VOLUME,prefixes:P.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:H.VOLUME,prefixes:P.NONE,value:1e-6,offset:0},cup:{name:"cup",base:H.VOLUME,prefixes:P.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:H.VOLUME,prefixes:P.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:H.VOLUME,prefixes:P.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:H.VOLUME,prefixes:P.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:H.VOLUME,prefixes:P.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:H.VOLUME,prefixes:P.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:H.VOLUME,prefixes:P.NONE,value:.238480942392,offset:0},g:{name:"g",base:H.MASS,prefixes:P.SHORT,value:.001,offset:0},gram:{name:"gram",base:H.MASS,prefixes:P.LONG,value:.001,offset:0},ton:{name:"ton",base:H.MASS,prefixes:P.SHORT,value:907.18474,offset:0},t:{name:"t",base:H.MASS,prefixes:P.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:H.MASS,prefixes:P.LONG,value:1e3,offset:0},grain:{name:"grain",base:H.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:H.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:H.MASS,prefixes:P.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:H.MASS,prefixes:P.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:H.MASS,prefixes:P.NONE,value:45.359237,offset:0},stick:{name:"stick",base:H.MASS,prefixes:P.NONE,value:.115,offset:0},stone:{name:"stone",base:H.MASS,prefixes:P.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:H.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:H.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:H.MASS,prefixes:P.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:H.MASS,prefixes:P.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:H.MASS,prefixes:P.NONE,value:45.359237,offset:0},s:{name:"s",base:H.TIME,prefixes:P.SHORT,value:1,offset:0},min:{name:"min",base:H.TIME,prefixes:P.NONE,value:60,offset:0},h:{name:"h",base:H.TIME,prefixes:P.NONE,value:3600,offset:0},second:{name:"second",base:H.TIME,prefixes:P.LONG,value:1,offset:0},sec:{name:"sec",base:H.TIME,prefixes:P.LONG,value:1,offset:0},minute:{name:"minute",base:H.TIME,prefixes:P.NONE,value:60,offset:0},hour:{name:"hour",base:H.TIME,prefixes:P.NONE,value:3600,offset:0},day:{name:"day",base:H.TIME,prefixes:P.NONE,value:86400,offset:0},week:{name:"week",base:H.TIME,prefixes:P.NONE,value:604800,offset:0},month:{name:"month",base:H.TIME,prefixes:P.NONE,value:2629800,offset:0},year:{name:"year",base:H.TIME,prefixes:P.NONE,value:31557600,offset:0},decade:{name:"decade",base:H.TIME,prefixes:P.NONE,value:315576e3,offset:0},century:{name:"century",base:H.TIME,prefixes:P.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:H.TIME,prefixes:P.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:H.FREQUENCY,prefixes:P.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:H.FREQUENCY,prefixes:P.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:H.ANGLE,prefixes:P.SHORT,value:1,offset:0},radian:{name:"radian",base:H.ANGLE,prefixes:P.LONG,value:1,offset:0},deg:{name:"deg",base:H.ANGLE,prefixes:P.SHORT,value:null,offset:0},degree:{name:"degree",base:H.ANGLE,prefixes:P.LONG,value:null,offset:0},grad:{name:"grad",base:H.ANGLE,prefixes:P.SHORT,value:null,offset:0},gradian:{name:"gradian",base:H.ANGLE,prefixes:P.LONG,value:null,offset:0},cycle:{name:"cycle",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},A:{name:"A",base:H.CURRENT,prefixes:P.SHORT,value:1,offset:0},ampere:{name:"ampere",base:H.CURRENT,prefixes:P.LONG,value:1,offset:0},K:{name:"K",base:H.TEMPERATURE,prefixes:P.SHORT,value:1,offset:0},degC:{name:"degC",base:H.TEMPERATURE,prefixes:P.SHORT,value:1,offset:273.15},degF:{name:"degF",base:H.TEMPERATURE,prefixes:P.SHORT,value:new g(5,9),offset:459.67},degR:{name:"degR",base:H.TEMPERATURE,prefixes:P.SHORT,value:new g(5,9),offset:0},kelvin:{name:"kelvin",base:H.TEMPERATURE,prefixes:P.LONG,value:1,offset:0},celsius:{name:"celsius",base:H.TEMPERATURE,prefixes:P.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:H.TEMPERATURE,prefixes:P.LONG,value:new g(5,9),offset:459.67},rankine:{name:"rankine",base:H.TEMPERATURE,prefixes:P.LONG,value:new g(5,9),offset:0},mol:{name:"mol",base:H.AMOUNT_OF_SUBSTANCE,prefixes:P.SHORT,value:1,offset:0},mole:{name:"mole",base:H.AMOUNT_OF_SUBSTANCE,prefixes:P.LONG,value:1,offset:0},cd:{name:"cd",base:H.LUMINOUS_INTENSITY,prefixes:P.SHORT,value:1,offset:0},candela:{name:"candela",base:H.LUMINOUS_INTENSITY,prefixes:P.LONG,value:1,offset:0},N:{name:"N",base:H.FORCE,prefixes:P.SHORT,value:1,offset:0},newton:{name:"newton",base:H.FORCE,prefixes:P.LONG,value:1,offset:0},dyn:{name:"dyn",base:H.FORCE,prefixes:P.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:H.FORCE,prefixes:P.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:H.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:H.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:H.FORCE,prefixes:P.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:H.FORCE,prefixes:P.NONE,value:9.80665,offset:0},J:{name:"J",base:H.ENERGY,prefixes:P.SHORT,value:1,offset:0},joule:{name:"joule",base:H.ENERGY,prefixes:P.LONG,value:1,offset:0},erg:{name:"erg",base:H.ENERGY,prefixes:P.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:H.ENERGY,prefixes:P.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:H.ENERGY,prefixes:P.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:H.ENERGY,prefixes:P.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:H.ENERGY,prefixes:P.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:H.POWER,prefixes:P.SHORT,value:1,offset:0},watt:{name:"watt",base:H.POWER,prefixes:P.LONG,value:1,offset:0},hp:{name:"hp",base:H.POWER,prefixes:P.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:H.POWER,prefixes:P.SHORT,value:p.I,offset:0},VA:{name:"VA",base:H.POWER,prefixes:P.SHORT,value:1,offset:0},Pa:{name:"Pa",base:H.PRESSURE,prefixes:P.SHORT,value:1,offset:0},psi:{name:"psi",base:H.PRESSURE,prefixes:P.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:H.PRESSURE,prefixes:P.NONE,value:101325,offset:0},bar:{name:"bar",base:H.PRESSURE,prefixes:P.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:H.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:H.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:H.PRESSURE,prefixes:P.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:H.PRESSURE,prefixes:P.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:H.ELECTRIC_CHARGE,prefixes:P.LONG,value:1,offset:0},C:{name:"C",base:H.ELECTRIC_CHARGE,prefixes:P.SHORT,value:1,offset:0},farad:{name:"farad",base:H.ELECTRIC_CAPACITANCE,prefixes:P.LONG,value:1,offset:0},F:{name:"F",base:H.ELECTRIC_CAPACITANCE,prefixes:P.SHORT,value:1,offset:0},volt:{name:"volt",base:H.ELECTRIC_POTENTIAL,prefixes:P.LONG,value:1,offset:0},V:{name:"V",base:H.ELECTRIC_POTENTIAL,prefixes:P.SHORT,value:1,offset:0},ohm:{name:"ohm",base:H.ELECTRIC_RESISTANCE,prefixes:P.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:H.ELECTRIC_INDUCTANCE,prefixes:P.LONG,value:1,offset:0},H:{name:"H",base:H.ELECTRIC_INDUCTANCE,prefixes:P.SHORT,value:1,offset:0},siemens:{name:"siemens",base:H.ELECTRIC_CONDUCTANCE,prefixes:P.LONG,value:1,offset:0},S:{name:"S",base:H.ELECTRIC_CONDUCTANCE,prefixes:P.SHORT,value:1,offset:0},weber:{name:"weber",base:H.MAGNETIC_FLUX,prefixes:P.LONG,value:1,offset:0},Wb:{name:"Wb",base:H.MAGNETIC_FLUX,prefixes:P.SHORT,value:1,offset:0},tesla:{name:"tesla",base:H.MAGNETIC_FLUX_DENSITY,prefixes:P.LONG,value:1,offset:0},T:{name:"T",base:H.MAGNETIC_FLUX_DENSITY,prefixes:P.SHORT,value:1,offset:0},b:{name:"b",base:H.BIT,prefixes:P.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:H.BIT,prefixes:P.BINARY_LONG,value:1,offset:0},B:{name:"B",base:H.BIT,prefixes:P.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:H.BIT,prefixes:P.BINARY_LONG,value:8,offset:0}},K={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function oe(Y){if("BigNumber"===Y.number){var W=l8(m);j.rad.value=new m(1),j.deg.value=W.div(180),j.grad.value=W.div(200),j.cycle.value=W.times(2),j.arcsec.value=W.div(648e3),j.arcmin.value=W.div(10800)}else j.rad.value=1,j.deg.value=Math.PI/180,j.grad.value=Math.PI/200,j.cycle.value=2*Math.PI,j.arcsec.value=Math.PI/648e3,j.arcmin.value=Math.PI/10800;j.radian.value=j.rad.value,j.degree.value=j.deg.value,j.gradian.value=j.grad.value}oe(t),e&&e("config",function(Y,W){Y.number!==W.number&&oe(Y)});var se={si:{NONE:{unit:Q,prefix:P.NONE[""]},LENGTH:{unit:j.m,prefix:P.SHORT[""]},MASS:{unit:j.g,prefix:P.SHORT.k},TIME:{unit:j.s,prefix:P.SHORT[""]},CURRENT:{unit:j.A,prefix:P.SHORT[""]},TEMPERATURE:{unit:j.K,prefix:P.SHORT[""]},LUMINOUS_INTENSITY:{unit:j.cd,prefix:P.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:j.mol,prefix:P.SHORT[""]},ANGLE:{unit:j.rad,prefix:P.SHORT[""]},BIT:{unit:j.bits,prefix:P.SHORT[""]},FORCE:{unit:j.N,prefix:P.SHORT[""]},ENERGY:{unit:j.J,prefix:P.SHORT[""]},POWER:{unit:j.W,prefix:P.SHORT[""]},PRESSURE:{unit:j.Pa,prefix:P.SHORT[""]},ELECTRIC_CHARGE:{unit:j.C,prefix:P.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:j.F,prefix:P.SHORT[""]},ELECTRIC_POTENTIAL:{unit:j.V,prefix:P.SHORT[""]},ELECTRIC_RESISTANCE:{unit:j.ohm,prefix:P.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:j.H,prefix:P.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:j.S,prefix:P.SHORT[""]},MAGNETIC_FLUX:{unit:j.Wb,prefix:P.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:j.T,prefix:P.SHORT[""]},FREQUENCY:{unit:j.Hz,prefix:P.SHORT[""]}}};se.cgs=JSON.parse(JSON.stringify(se.si)),se.cgs.LENGTH={unit:j.m,prefix:P.SHORT.c},se.cgs.MASS={unit:j.g,prefix:P.SHORT[""]},se.cgs.FORCE={unit:j.dyn,prefix:P.SHORT[""]},se.cgs.ENERGY={unit:j.erg,prefix:P.NONE[""]},se.us=JSON.parse(JSON.stringify(se.si)),se.us.LENGTH={unit:j.ft,prefix:P.NONE[""]},se.us.MASS={unit:j.lbm,prefix:P.NONE[""]},se.us.TEMPERATURE={unit:j.degF,prefix:P.NONE[""]},se.us.FORCE={unit:j.lbf,prefix:P.NONE[""]},se.us.ENERGY={unit:j.BTU,prefix:P.BTU[""]},se.us.POWER={unit:j.hp,prefix:P.NONE[""]},se.us.PRESSURE={unit:j.psi,prefix:P.NONE[""]},se.auto=JSON.parse(JSON.stringify(se.si));var le=se.auto;for(var te in v.setUnitSystem=function(Y){if(!Qn(se,Y))throw new Error("Unit system "+Y+" does not exist. Choices are: "+Object.keys(se).join(", "));le=se[Y]},v.getUnitSystem=function(){for(var Y in se)if(Qn(se,Y)&&se[Y]===le)return Y},v.typeConverters={BigNumber:function(W){return null!=W&&W.isFraction?new m(String(W.n)).div(String(W.d)).times(String(W.s)):new m(W+"")},Fraction:function(W){return new g(W)},Complex:function(W){return W},number:function(W){return null!=W&&W.isFraction?A(W):W}},v.prototype._numberConverter=function(){var Y=v.typeConverters[this.valueType()];if(Y)return Y;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},v._getNumberConverter=function(Y){if(!v.typeConverters[Y])throw new TypeError('Unsupported type "'+Y+'"');return v.typeConverters[Y]},j)if(Qn(j,te)){var ee=j[te];ee.dimensions=ee.base.dimensions}for(var Ae in K)if(Qn(K,Ae)){var Se=j[K[Ae]],ge={};for(var xe in Se)Qn(Se,xe)&&(ge[xe]=Se[xe]);ge.name=Ae,j[Ae]=ge}return v.isValidAlpha=function(W){return/^[a-zA-Z]$/.test(W)},v.createUnit=function(Y,W){if("object"!=typeof Y)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(W&&W.override)for(var Me in Y)if(Qn(Y,Me)&&v.deleteUnit(Me),Y[Me].aliases)for(var Ce=0;Ce<Y[Me].aliases.length;Ce++)v.deleteUnit(Y[Me].aliases[Ce]);var Pe;for(var Oe in Y)Qn(Y,Oe)&&(Pe=v.createUnitSingle(Oe,Y[Oe]));return Pe},v.createUnitSingle=function(Y,W){if((typeof W>"u"||null===W)&&(W={}),"string"!=typeof Y)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Qn(j,Y))throw new Error('Cannot create unit "'+Y+'": a unit with that name already exists');!function ne(Y){for(var W=0;W<Y.length;W++){if(b=Y.charAt(W),0===W&&!v.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+Y+'"');if(W>0&&!v.isValidAlpha(b)&&!x(b))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+Y+'"')}}(Y);var Oe,re,J,Me=null,Ce=[],Pe=0;if(W&&"Unit"===W.type)Me=W.clone();else if("string"==typeof W)""!==W&&(Oe=W);else{if("object"!=typeof W)throw new TypeError('Cannot create unit "'+Y+'" from "'+W.toString()+'": expecting "string" or "Unit" or "Object"');Oe=W.definition,re=W.prefixes,Pe=W.offset,J=W.baseName,W.aliases&&(Ce=W.aliases.valueOf())}if(Ce)for(var Ue=0;Ue<Ce.length;Ue++)if(Qn(j,Ce[Ue]))throw new Error('Cannot create alias "'+Ce[Ue]+'": a unit with that name already exists');if(Oe&&"string"==typeof Oe&&!Me)try{Me=v.parse(Oe,{allowNoUnits:!0})}catch(Fe){throw Fe.message='Could not create unit "'+Y+'" from "'+Oe+'": '+Fe.message,Fe}else Oe&&"Unit"===Oe.type&&(Me=Oe.clone());Ce=Ce||[],Pe=Pe||0,re=re&&re.toUpperCase&&P[re.toUpperCase()]||P.NONE;var Qe={};if(Me){Qe={name:Y,value:Me.value,dimensions:Me.dimensions.slice(0),prefixes:re,offset:Pe};var Ft=!1;for(var Tt in H)if(Qn(H,Tt)){for(var _n=!0,st=0;st<G.length;st++)if(Math.abs((Qe.dimensions[st]||0)-(H[Tt].dimensions[st]||0))>1e-12){_n=!1;break}if(_n){Ft=!0,Qe.base=H[Tt];break}}if(!Ft){J=J||Y+"_STUFF";var vn={dimensions:Me.dimensions.slice(0)};vn.key=J,H[J]=vn,le[J]={unit:Qe,prefix:P.NONE[""]},Qe.base=H[J]}}else{if(G.indexOf(J=J||Y+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+Y+'": a base unit with that name already exists (and cannot be overridden)');for(var rt in G.push(J),H)Qn(H,rt)&&(H[rt].dimensions[G.length-1]=0);for(var Xe={dimensions:[]},Lt=0;Lt<G.length;Lt++)Xe.dimensions[Lt]=0;Xe.dimensions[G.length-1]=1,Xe.key=J,H[J]=Xe,Qe={name:Y,value:1,dimensions:H[J].dimensions.slice(0),prefixes:re,offset:Pe,base:H[J]},le[J]={unit:Qe,prefix:P.NONE[""]}}v.UNITS[Y]=Qe;for(var pn=0;pn<Ce.length;pn++){var bn=Ce[pn],nn={};for(var $ in Qe)Qn(Qe,$)&&(nn[$]=Qe[$]);nn.name=bn,v.UNITS[bn]=nn}return delete q.cache,new v(null,Y)},v.deleteUnit=function(Y){delete v.UNITS[Y],delete q.cache},v.PREFIXES=P,v.BASE_DIMENSIONS=G,v.BASE_UNITS=H,v.UNIT_SYSTEMS=se,v.UNITS=j,v},{isClass:!0}),bXe=ye("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,equalScalar:t,matrix:r,pow:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=$c({typed:e}),c=cA({typed:e,SparseMatrix:a}),u=Ll({typed:e,equalScalar:t}),h=Ya({typed:e,DenseMatrix:s}),d=Xs({typed:e,matrix:r,concat:o}),f={};for(var A in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,A)&&!A.includes("Matrix")&&!A.includes("Array")&&(f[A]=i.signatures[A]);var p=e(f);return e("dotPow",d({elop:p,SS:c,DS:l,Ss:u,sS:h}))}),CXe=ye("expm",["typed","abs","add","identity","inv","multiply"],n=>{var{typed:e,abs:t,add:r,identity:i,inv:s,multiply:o}=n;return e("expm",{Matrix:function(h){var d=h.size();if(2!==d.length||d[0]!==d[1])throw new RangeError("Matrix must be square (size: "+ri(d)+")");for(var f=d[0],p=function a(u){for(var h=u.size()[0],d=0,f=0;f<h;f++){for(var A=0,p=0;p<h;p++)A+=t(u.get([f,p]));d=Math.max(A,d)}return d}(h),m=function l(u,h){for(var f=0;f<30;f++)for(var A=0;A<=f;A++){var p=f-A;if(c(u,A,p)<h)return{q:A,j:p}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(p,1e-15),g=m.q,y=m.j,v=o(h,Math.pow(2,-y)),_=i(f),C=i(f),b=1,M=v,D=-1,x=1;x<=g;x++)x>1&&(M=o(M,v),D=-D),_=r(_,o(b=b*(g-x+1)/((2*g-x+1)*x),M)),C=r(C,o(b*D,M));for(var T=o(s(C),_),B=0;B<y;B++)T=o(T,T);return O0(h)?h.createSparseMatrix(T):T}});function c(u,h,d){for(var f=1,A=2;A<=h;A++)f*=A;for(var p=f,m=h+1;m<=2*h;m++)p*=m;var g=p*(2*h+1);return 8*Math.pow(u/Math.pow(2,d),2*h)*f*f/(p*g)}}),xXe=ye("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],n=>{var{typed:e,addScalar:r,multiplyScalar:i,divideScalar:s,exp:o,tau:a,i:l,dotDivide:c,conj:u,pow:h,ceil:d,log2:f}=n;return e("fft",{Array:A,Matrix:function(v){return v.create(A(v.valueOf()),v.datatype())}});function A(y){var v=xr(y);return 1===v.length?g(y):p(y.map(_=>A(_,v.slice(1))),0)}function p(y,v){var _=xr(y);if(0!==v)return new Array(_[0]).fill(0).map((b,M)=>p(y[M],v-1));if(1===_.length)return g(y);function C(b){var M=xr(b);return new Array(M[1]).fill(0).map((D,x)=>new Array(M[0]).fill(0).map((T,B)=>b[B][x]))}return C(p(C(y),1))}function g(y){var v=y.length;if(1===v)return[y[0]];if(v%2==0){for(var _=[...g(y.filter((D,x)=>x%2==0)),...g(y.filter((D,x)=>x%2==1))],C=0;C<v/2;C++){var b=_[C],M=i(_[C+v/2],o(i(i(a,l),s(-C,v))));_[C]=r(b,M),_[C+v/2]=r(b,i(-1,M))}return _}return function m(y){for(var v=y.length,_=o(s(i(-1,i(l,a)),v)),C=[],b=1-v;b<v;b++)C.push(h(_,s(h(b,2),2)));for(var M=h(2,d(f(v+v-1))),D=[...new Array(v).fill(0).map((O,P)=>i(y[P],C[v-1+P])),...new Array(M-v).fill(0)],x=[...new Array(v+v-1).fill(0).map((O,P)=>s(1,C[P])),...new Array(M-(v+v-1)).fill(0)],T=g(D),B=g(x),R=new Array(M).fill(0).map((O,P)=>i(T[P],B[P])),U=c(u(A(u(R))),M),k=[],q=v-1;q<v+v-1;q++)k.push(i(U[q],C[q]));return k}(y)}}),DXe=ye("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],n=>{var{typed:e,config:t,BigNumber:s,Complex:o}=n;return e("gamma",{number:qI,Complex:function a(c){if(0===c.im)return qI(c.re);if(c.re<.5){var u=new o(1-c.re,-c.im),h=new o(Math.PI*c.re,Math.PI*c.im);return new o(Math.PI).div(h.sin()).div(a(u))}c=new o(c.re-1,c.im);for(var d=new o(Db[0],0),f=1;f<Db.length;++f){var A=new o(Db[f],0);d=d.add(A.div(c.add(f)))}var p=new o(c.re+fie+.5,c.im),m=Math.sqrt(2*Math.PI),g=p.pow(c.add(.5)),y=p.neg().exp();return d.mul(m).mul(g).mul(y)},BigNumber:function(u){if(u.isInteger())return u.isNegative()||u.isZero()?new s(1/0):l(u.minus(1));if(!u.isFinite())return new s(u.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(c){if(c<8)return new s([1,1,2,6,24,120,720,5040][c]);var u=t.precision+(0|Math.log(c.toNumber())),h=s.clone({precision:u});if(c%2==1)return c.times(l(new s(c-1)));for(var d=c,f=new h(c),A=c.toNumber();d>2;)f=f.times(A+=d-=2);return new s(f.toPrecision(s.precision))}}),TXe=ye("ifft",["typed","fft","dotDivide","conj"],n=>{var{typed:e,fft:t,dotDivide:r,conj:i}=n;return e("ifft",{"Array | Matrix":function(o){var a=ur(o)?o.size():xr(o);return r(i(t(i(o))),a.reduce((l,c)=>l*c,1))}})}),Ooe="createUnit",NXe=ye(Ooe,["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e(Ooe,{"Object, Object":function(i,s){return t.createUnit(i,s)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,s,o){var a={};return a[i]=s,t.createUnit(a,o)},"string, Unit | string | Object":function(i,s){var o={};return o[i]=s,t.createUnit(o,{})},string:function(i){var s={};return s[i]={},t.createUnit(s,{})}})}),RXe=ye("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],n=>{var{typed:e,matrix:t,multiply:r,equalScalar:i,divideScalar:s,inv:o}=n,a=Ll({typed:e,equalScalar:i}),l=od({typed:e});return e("divide",Tee({"Array | Matrix, Array | Matrix":function(u,h){return r(u,o(h))},"DenseMatrix, any":function(u,h){return l(u,h,s,!1)},"SparseMatrix, any":function(u,h){return a(u,h,s,!1)},"Array, any":function(u,h){return l(t(u),h,s,!1).valueOf()},"any, Array | Matrix":function(u,h){return r(u,o(h))}},s.signatures))}),PXe=ye("factorial",["typed","gamma"],n=>{var{typed:e,gamma:t}=n;return e("factorial",{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(r=>i=>Or(i,r))})});function Loe(n,e){var t,r=e.length,i=[];if(n)for(t=0;t<r;t++)i[n[t]]=e[t];else for(t=0;t<r;t++)i[t]=e[t];return i}var UXe=ye("lusolve",["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],n=>{var{typed:e,matrix:t,lup:r,slu:i,usolve:s,lsolve:o,DenseMatrix:a}=n,l=oE({DenseMatrix:a});return e("lusolve",{"Array, Array | Matrix":function(d,f){d=t(d);var A=r(d);return u(A.L,A.U,A.p,null,f).valueOf()},"DenseMatrix, Array | Matrix":function(d,f){var A=r(d);return u(A.L,A.U,A.p,null,f)},"SparseMatrix, Array | Matrix":function(d,f){var A=r(d);return u(A.L,A.U,A.p,null,f)},"SparseMatrix, Array | Matrix, number, number":function(d,f,A,p){var m=i(d,A,p);return u(m.L,m.U,m.p,m.q,f)},"Object, Array | Matrix":function(d,f){return u(d.L,d.U,d.p,d.q,f)}});function c(h){if(ur(h))return h;if(Ts(h))return t(h);throw new TypeError("Invalid Matrix LU decomposition")}function u(h,d,f,A,p){h=c(h),d=c(d),f&&((p=l(h,p,!0))._data=Loe(f,p._data));var m=o(h,p),g=s(d,m);return A&&(g._data=Loe(A,g._data)),g}}),koe="multinomial",HXe=ye(koe,["typed","add","divide","multiply","factorial","isInteger","isPositive"],n=>{var{typed:e,add:t,divide:r,multiply:i,factorial:s,isInteger:o,isPositive:a}=n;return e(koe,{"Array | Matrix":function(c){var u=0,h=1;return Ep(c,function(d){if(!o(d)||!a(d))throw new TypeError("Positive integer value expected in function multinomial");u=t(u,d),h=i(h,s(d))}),r(s(u),h)}})}),Hoe="permutations",QXe=ye(Hoe,["typed","factorial"],n=>{var{typed:e,factorial:t}=n;return e(Hoe,{"number | BigNumber":t,"number, number":function(i,s){if(!Kn(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Kn(s)||s<0)throw new TypeError("Positive integer value expected in function permutations");if(s>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Bp(i-s+1,i)},"BigNumber, BigNumber":function(i,s){var o,a;if(!Voe(i)||!Voe(s))throw new TypeError("Positive integer value expected in function permutations");if(s.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");for(o=i.mul(0).add(1),a=i.minus(s).plus(1);a.lte(i);a=a.plus(1))o=o.times(a);return o}})});function Voe(n){return n.isInteger()&&n.gte(0)}var Qoe="polynomialRoot",GXe=ye(Qoe,["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],n=>{var{typed:e,isZero:t,equalScalar:r,add:i,subtract:s,multiply:o,divide:a,sqrt:l,unaryMinus:c,cbrt:u,typeOf:h,im:d,re:f}=n;return e(Qoe,{"number|Complex, ...number|Complex":(A,p)=>{for(var m=[A,...p];m.length>0&&t(m[m.length-1]);)m.pop();if(m.length<2)throw new RangeError("Polynomial [".concat(A,", ").concat(p,"] must have a non-zero non-constant coefficient"));switch(m.length){case 2:return[c(a(m[0],m[1]))];case 3:var[g,y,v]=m,_=o(2,v),C=o(y,y),b=o(4,v,g);if(r(C,b))return[a(c(y),_)];var M=l(s(C,b));return[a(s(M,y),_),a(s(c(M),y),_)];case 4:var[D,x,T,B]=m,R=c(o(3,B)),U=o(T,T),k=o(3,B,x),q=i(o(2,T,T,T),o(27,B,B,D)),O=o(9,B,T,x);if(r(U,k)&&r(q,O))return[a(T,R)];var ve,P=s(U,k),G=s(q,O),H=i(o(18,B,T,x,D),o(T,T,x,x)),ae=i(o(4,T,T,T,D),o(4,B,x,x,x),o(27,B,B,D,D));return r(H,ae)?[a(s(o(4,B,T,x),i(o(9,B,B,D),o(T,T,T))),o(B,P)),a(s(o(9,B,D),o(T,x)),o(2,P))]:(ve=r(U,k)?G:a(i(G,l(s(o(G,G),o(4,P,P,P)))),2),u(ve,!0).toArray().map(K=>a(i(T,K,a(P,K)),R)).map(K=>"Complex"===h(K)&&r(f(K),f(K)+d(K))?f(K):K));default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(m))}}})}),qXe=ye("setSize",["typed","compareNatural"],n=>{var{typed:e,compareNatural:t}=n;return e("setSize",{"Array | Matrix":function(i){return Array.isArray(i)?ji(i).length:ji(i.toArray()).length},"Array | Matrix, boolean":function(i,s){if(!1===s||0===i.length)return Array.isArray(i)?ji(i).length:ji(i.toArray()).length;for(var o=ji(Array.isArray(i)?i:i.toArray()).sort(t),a=1,l=1;l<o.length;l++)0!==t(o[l],o[l-1])&&a++;return a}})});function Goe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}var XXe=ye("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,max:o,map:a,abs:l,isPositive:c,isNegative:u,larger:h,smaller:d,matrix:f,bignumber:A,unaryMinus:p}=n;function m(D){return function(x,T,B,R){if(2!==T.length||!T.every(b)&&!T.every(Wh))throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var k=T[0],q=T[1],O=h(q,k),P=R.firstStep;if(void 0!==P&&!c(P))throw new Error('"firstStep" must be positive');var G=R.maxStep;if(void 0!==G&&!c(G))throw new Error('"maxStep" must be positive');var H=R.minStep;if(H&&u(H))throw new Error('"minStep" must be positive or zero');var ae=[k,q,P,H,G].filter(Ue=>void 0!==Ue);if(!ae.every(b)&&!ae.every(Wh))throw new Error('Inconsistent type of "t" dependant variables');for(var Q=R.tol?R.tol:1e-4,j=R.minDelta?R.minDelta:.2,K=R.maxDelta?R.maxDelta:5,oe=R.maxIter?R.maxIter:1e4,se=[k,q,...B,G,H].some(Vr),[le,te,ee,Ae]=se?[A(D.a),A(D.c),A(D.b),A(D.bp)]:[D.a,D.c,D.b,D.bp],Se=P?O?P:p(P):s(r(q,k),1),ge=[k],xe=[B],ne=r(ee,Ae),Y=0,W=0,Me=function _(D){return D?d:h}(O),Ce=function C(D){var x=D?h:d;return function(T,B,R){var U=t(T,R);return x(U,B)?r(B,T):R}}(O);Me(ge[Y],q);){var Pe=[];Se=Ce(ge[Y],q,Se),Pe.push(x(ge[Y],xe[Y]));for(var Oe=1;Oe<te.length;++Oe)Pe.push(x(t(ge[Y],i(te[Oe],Se)),t(xe[Y],i(Se,le[Oe],Pe))));var re=o(l(a(i(ne,Pe),Ue=>Wh(Ue)?Ue.value:Ue)));re<Q&&Q/re>1/4&&(ge.push(t(ge[Y],Se)),xe.push(t(xe[Y],i(Se,ee,Pe))),Y++);var J=.84*(Q/re)**.2;if(d(J,j)?J=j:h(J,K)&&(J=K),J=se?A(J):J,Se=i(Se,J),G&&h(l(Se),G)?Se=O?G:p(G):H&&d(l(Se),H)&&(Se=O?H:p(H)),++W>oe)throw new Error("Maximum number of iterations reached, try changing options")}return{t:ge,y:xe}}}function g(D,x,T,B){return m({a:[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(D,x,T,B)}function y(D,x,T,B){return m({a:[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(D,x,T,B)}function v(D,x,T,B){var R=B.method?B.method:"RK45",U={RK23:g,RK45:y};if(R.toUpperCase()in U){var k=function WXe(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Goe(Object(t),!0).forEach(function(r){Xa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Goe(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({},B);return delete k.method,U[R.toUpperCase()](D,x,T,k)}var q=Object.keys(U).map(P=>'"'.concat(P,'"')),O="".concat(q.slice(0,-1).join(", ")," and ").concat(q.slice(-1));throw new Error('Unavailable method "'.concat(R,'". Available methods are ').concat(O))}function b(D){return Vr(D)||Hr(D)}function M(D,x,T,B){var R=v(D,x.toArray(),T.toArray(),B);return{t:f(R.t),y:f(R.y)}}return e("solveODE",{"function, Array, Array, Object":v,"function, Matrix, Matrix, Object":M,"function, Array, Array":(D,x,T)=>v(D,x,T,{}),"function, Matrix, Matrix":(D,x,T)=>M(D,x,T,{}),"function, Array, number | BigNumber | Unit":(D,x,T)=>{var B=v(D,x,[T],{});return{t:B.t,y:B.y.map(R=>R[0])}},"function, Matrix, number | BigNumber | Unit":(D,x,T)=>{var B=v(D,x.toArray(),[T],{});return{t:f(B.t),y:f(B.y.map(R=>R[0]))}},"function, Array, number | BigNumber | Unit, Object":(D,x,T,B)=>{var R=v(D,x,[T],B);return{t:R.t,y:R.y.map(U=>U[0])}},"function, Matrix, number | BigNumber | Unit, Object":(D,x,T,B)=>{var R=v(D,x.toArray(),[T],B);return{t:f(R.t),y:f(R.y.map(U=>U[0]))}}})}),joe="stirlingS2",JXe=ye(joe,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],n=>{var{typed:e,addScalar:t,multiplyScalar:i,isNegative:c,isInteger:u,number:h,bignumber:d,larger:f}=n,A=[],p=[];return e(joe,{"number | BigNumber, number | BigNumber":function(g,y){if(!u(g)||c(g)||!u(y)||c(y))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(f(y,g))throw new TypeError("k must be less than or equal to n in function stirlingS2");var v=!(Hr(g)&&Hr(y)),_=v?p:A,C=v?d:h,b=h(g),M=h(y);if(_[b]&&_[b].length>M)return _[b][M];for(var D=0;D<=b;++D)if(_[D]||(_[D]=[C(0===D?1:0)]),0!==D)for(var x=_[D],T=_[D-1],B=x.length;B<=D&&B<=M;++B)x[B]=B===D?1:t(i(C(B),T[B]),T[B-1]);return _[b][M]}})}),eYe=ye("unit",["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e("unit",{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,s){return new t(i,s)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>Or(i,r))})}),Woe="bellNumbers",nYe=ye(Woe,["typed","addScalar","isNegative","isInteger","stirlingS2"],n=>{var{typed:e,addScalar:t,isNegative:r,isInteger:i,stirlingS2:s}=n;return e(Woe,{"number | BigNumber":function(a){if(!i(a)||r(a))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,c=0;c<=a;c++)l=t(l,s(a,c));return l}})});var oYe=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],aYe=ye("eigs",oYe,n=>{var{config:e,typed:t,matrix:r,addScalar:i,subtract:s,equal:o,abs:a,atan:l,cos:c,sin:u,multiplyScalar:h,divideScalar:d,inv:f,bignumber:A,multiply:p,add:m,larger:g,column:y,flatten:v,number:_,complex:C,sqrt:b,diag:M,size:D,reshape:x,qr:T,usolve:B,usolveAll:R,im:U,re:k,smaller:q,matrixFromColumns:O,dot:P}=n,G=function iYe(n){var{config:e,addScalar:t,subtract:r,abs:i,atan:s,cos:o,sin:a,multiplyScalar:l,inv:c,bignumber:u,multiply:h,add:d}=n;function m(x,T,B){return Math.abs(T-x)<=e.relTol?Math.PI/4:.5*Math.atan(2*B/(T-x))}function g(x,T,B){var R=r(T,x);return i(R)<=e.relTol?u(-1).acos().div(4):l(.5,s(h(2,B,c(R))))}function y(x,T,B,R){for(var U=x.length,k=Math.cos(T),q=Math.sin(T),O=Array(U).fill(0),P=Array(U).fill(0),G=0;G<U;G++)O[G]=k*x[G][B]-q*x[G][R],P[G]=q*x[G][B]+k*x[G][R];for(var H=0;H<U;H++)x[H][B]=O[H],x[H][R]=P[H];return x}function v(x,T,B,R){for(var U=x.length,k=o(T),q=a(T),O=Array(U).fill(u(0)),P=Array(U).fill(u(0)),G=0;G<U;G++)O[G]=r(l(k,x[G][B]),l(q,x[G][R])),P[G]=t(l(q,x[G][B]),l(k,x[G][R]));for(var H=0;H<U;H++)x[H][B]=O[H],x[H][R]=P[H];return x}function _(x,T,B,R){for(var U=x.length,k=u(o(T)),q=u(a(T)),O=l(k,k),P=l(q,q),G=Array(U).fill(u(0)),H=Array(U).fill(u(0)),ae=h(u(2),k,q,x[B][R]),ve=t(r(l(O,x[B][B]),ae),l(P,x[R][R])),Q=d(l(P,x[B][B]),ae,l(O,x[R][R])),j=0;j<U;j++)G[j]=r(l(k,x[B][j]),l(q,x[R][j])),H[j]=t(l(q,x[B][j]),l(k,x[R][j]));x[B][B]=ve,x[R][R]=Q,x[B][R]=u(0),x[R][B]=u(0);for(var K=0;K<U;K++)K!==B&&K!==R&&(x[B][K]=G[K],x[K][B]=G[K],x[R][K]=H[K],x[K][R]=H[K]);return x}function C(x,T,B,R){for(var U=x.length,k=Math.cos(T),q=Math.sin(T),O=k*k,P=q*q,G=Array(U).fill(0),H=Array(U).fill(0),ae=O*x[B][B]-2*k*q*x[B][R]+P*x[R][R],ve=P*x[B][B]+2*k*q*x[B][R]+O*x[R][R],Q=0;Q<U;Q++)G[Q]=k*x[B][Q]-q*x[R][Q],H[Q]=q*x[B][Q]+k*x[R][Q];x[B][B]=ae,x[R][R]=ve,x[B][R]=0,x[R][B]=0;for(var j=0;j<U;j++)j!==B&&j!==R&&(x[B][j]=G[j],x[j][B]=G[j],x[R][j]=H[j],x[j][R]=H[j]);return x}function b(x){for(var T=x.length,B=0,R=[0,1],U=0;U<T;U++)for(var k=U+1;k<T;k++)Math.abs(B)<Math.abs(x[U][k])&&(B=Math.abs(x[U][k]),R=[U,k]);return[R,B]}function M(x){for(var T=x.length,B=0,R=[0,1],U=0;U<T;U++)for(var k=U+1;k<T;k++)i(B)<i(x[U][k])&&(B=i(x[U][k]),R=[U,k]);return[R,B]}function D(x,T,B){var k,R=x.length,U=Array(R);if(B){k=Array(R);for(var q=0;q<R;q++)k[q]=Array(R)}for(var O=0;O<R;O++){for(var P=0,G=x[0],H=0;H<x.length;H++)i(x[H])<i(G)&&(G=x[P=H]);if(U[O]=x.splice(P,1)[0],B)for(var ae=0;ae<R;ae++)k[O][ae]=T[ae][P],T[ae].splice(P,1)}if(!B)return{values:U};var ve=k.map((Q,j)=>({value:U[j],vector:Q}));return{values:U,eigenvectors:ve}}return function f(x,T){var B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.relTol,R=arguments.length>3?arguments[3]:void 0,U=arguments.length>4?arguments[4]:void 0;if("number"===R)return function A(x,T,B){var k,q,R=x.length,U=Math.abs(T/R);if(B){q=new Array(R);for(var O=0;O<R;O++)q[O]=Array(R).fill(0),q[O][O]=1}for(var P=b(x);Math.abs(P[1])>=Math.abs(U);){var G=P[0][0],H=P[0][1];x=C(x,k=m(x[G][G],x[H][H],x[G][H]),G,H),B&&(q=y(q,k,G,H)),P=b(x)}for(var ae=Array(R).fill(0),ve=0;ve<R;ve++)ae[ve]=x[ve][ve];return D(Fr(ae),q,B)}(x,B,U);if("BigNumber"===R)return function p(x,T,B){var k,q,R=x.length,U=i(T/R);if(B){q=new Array(R);for(var O=0;O<R;O++)q[O]=Array(R).fill(0),q[O][O]=1}for(var P=M(x);i(P[1])>=i(U);){var G=P[0][0],H=P[0][1];x=_(x,k=g(x[G][G],x[H][H],x[G][H]),G,H),B&&(q=v(q,k,G,H)),P=M(x)}for(var ae=Array(R).fill(0),ve=0;ve<R;ve++)ae[ve]=x[ve][ve];return D(Fr(ae),q,B)}(x,B,U);throw TypeError("Unsupported data type: "+R)}}({config:e,addScalar:i,subtract:s,column:y,flatten:v,equal:o,abs:a,atan:l,cos:c,sin:u,multiplyScalar:h,inv:f,bignumber:A,complex:C,multiply:p,add:m}),H=function rYe(n){var{addScalar:e,subtract:t,flatten:r,multiply:i,multiplyScalar:s,divideScalar:o,sqrt:a,abs:l,bignumber:c,diag:u,size:h,reshape:d,inv:f,qr:A,usolve:p,usolveAll:m,equal:g,complex:y,larger:v,smaller:_,dot:b}=n;function R(Q,j,K,oe){var se=e(Q,oe),le=t(s(Q,oe),s(j,K)),te=s(se,.5),ee=s(a(t(s(se,se),s(4,le))),.5);return[e(te,ee),t(te,ee)]}function U(Q,j,K,oe,se,le,te,ee){var Ae="BigNumber"===ee,Se="Complex"===ee,ge=Ae?c(0):Se?y(0):0,xe=Ae?c(1):Se?y(1):1;if(_(l(K),te))return[[xe,ge],[ge,xe]];if(v(l(t(se,le)),te))return[[t(se,oe),t(le,oe)],[K,K]];var ne=t(Q,se),Y=t(oe,se);return _(l(j),te)&&_(l(Y),te)?[[ne,xe],[K,ge]]:[[j,ge],[Y,xe]]}function k(Q,j){for(var K=0;K<Q.length;K++)Q[K].push(...Array(j-Q[K].length).fill(0));for(var oe=Q.length;oe<j;oe++)Q.push(Array(j).fill(0)),Q[oe][oe]=1;return Q}function O(Q,j,K){for(var oe=0;oe<Q.length;oe++)if(K(Q[oe],j))return oe;return-1}function P(Q,j,K,oe,se){for(var te,le="BigNumber"===se?c(1e3):1e3,ee=0;ee<5;++ee){te=G(j,K,se);try{te=p(Q,te)}catch{continue}if(v(ae(te),le))break}if(ee>=5)return null;for(ee=0;;){var Ae=p(Q,te);if(_(ae(H(te,[Ae])),oe))break;if(++ee>=10)return null;te=ve(Ae)}return te}function G(Q,j,K){var oe="BigNumber"===K,se="Complex"===K,le=Array(Q).fill(0).map(te=>2*Math.random()-1);return oe&&(le=le.map(te=>c(te))),se&&(le=le.map(te=>y(te))),ve(le=H(le,j),K)}function H(Q,j){var K=h(Q);for(var oe of j)oe=d(oe,K),Q=t(Q,i(o(b(oe,Q),b(oe,oe)),oe));return Q}function ae(Q){return l(a(b(Q,Q)))}function ve(Q,j){var oe="Complex"===j,se="BigNumber"===j?c(1):oe?y(1):1;return i(o(se,ae(Q)),Q)}return function M(Q,j,K,oe){var se=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],le=function D(Q,j,K,oe,se){var ne,le="BigNumber"===oe,te="Complex"===oe,ee=le?c(0):0,Ae=le?c(1):te?y(1):1,Se=le?c(1):1,ge=le?c(10):2,xe=s(ge,ge);se&&(ne=Array(j).fill(Ae));for(var Y=!1;!Y;){Y=!0;for(var W=0;W<j;W++){for(var Me=ee,Ce=ee,Pe=0;Pe<j;Pe++)W!==Pe&&(Me=e(Me,l(Q[Pe][W])),Ce=e(Ce,l(Q[W][Pe])));if(!g(Me,0)&&!g(Ce,0)){for(var Oe=Se,re=Me,J=o(Ce,ge),Ue=s(Ce,ge);_(re,J);)re=s(re,xe),Oe=s(Oe,ge);for(;v(re,Ue);)re=o(re,xe),Oe=o(Oe,ge);if(_(o(e(re,Ce),Oe),s(e(Me,Ce),.95))){Y=!1;for(var rt=o(1,Oe),Xe=0;Xe<j;Xe++)W!==Xe&&(Q[W][Xe]=s(Q[W][Xe],rt),Q[Xe][W]=s(Q[Xe][W],Oe));se&&(ne[W]=s(ne[W],rt))}}}}return se?u(ne):null}(Q,j,0,oe,se);!function x(Q,j,K,oe,se,le){var te="BigNumber"===oe,ee="Complex"===oe,Ae=te?c(0):ee?y(0):0;te&&(K=c(K));for(var Se=0;Se<j-2;Se++){for(var ge=0,xe=Ae,ne=Se+1;ne<j;ne++){var Y=Q[ne][Se];_(l(xe),l(Y))&&(xe=Y,ge=ne)}if(!_(l(xe),K)){if(ge!==Se+1){var W=Q[ge];Q[ge]=Q[Se+1],Q[Se+1]=W;for(var Me=0;Me<j;Me++){var Ce=Q[Me][ge];Q[Me][ge]=Q[Me][Se+1],Q[Me][Se+1]=Ce}if(se){var Pe=le[ge];le[ge]=le[Se+1],le[Se+1]=Pe}}for(var Oe=Se+2;Oe<j;Oe++){var re=o(Q[Oe][Se],xe);if(0!==re){for(var J=0;J<j;J++)Q[Oe][J]=t(Q[Oe][J],s(re,Q[Se+1][J]));for(var Ue=0;Ue<j;Ue++)Q[Ue][Se+1]=e(Q[Ue][Se+1],s(re,Q[Ue][Oe]));if(se)for(var Qe=0;Qe<j;Qe++)le[Oe][Qe]=t(le[Oe][Qe],s(re,le[Se+1][Qe]))}}}}}(Q,j,K,oe,se,le);var{values:te,C:ee}=function T(Q,j,K,oe,se){var le="BigNumber"===oe,te="Complex"===oe,ee=le?c(1):te?y(1):1;le&&(K=c(K));for(var Ae=Fr(Q),Se=[],ge=j,xe=[],ne=se?u(Array(j).fill(ee)):void 0,Y=se?u(Array(ge).fill(ee)):void 0,W=0;W<=100;){W+=1;for(var Me=Ae[ge-1][ge-1],Ce=0;Ce<ge;Ce++)Ae[Ce][Ce]=t(Ae[Ce][Ce],Me);var{Q:Pe,R:Oe}=A(Ae);Ae=i(Oe,Pe);for(var re=0;re<ge;re++)Ae[re][re]=e(Ae[re][re],Me);if(se&&(Y=i(Y,Pe)),1===ge||_(l(Ae[ge-1][ge-2]),K)){W=0,Se.push(Ae[ge-1][ge-1]),se&&(xe.unshift([[1]]),k(Y,j),ne=i(ne,Y),ge>1&&(Y=u(Array(ge-1).fill(ee)))),ge-=1,Ae.pop();for(var J=0;J<ge;J++)Ae[J].pop()}else if(2===ge||_(l(Ae[ge-2][ge-3]),K)){W=0;var Ue=R(Ae[ge-2][ge-2],Ae[ge-2][ge-1],Ae[ge-1][ge-2],Ae[ge-1][ge-1]);Se.push(...Ue),se&&(xe.unshift(U(Ae[ge-2][ge-2],Ae[ge-2][ge-1],Ae[ge-1][ge-2],Ae[ge-1][ge-1],Ue[0],Ue[1],K,oe)),k(Y,j),ne=i(ne,Y),ge>2&&(Y=u(Array(ge-2).fill(ee)))),ge-=2,Ae.pop(),Ae.pop();for(var Qe=0;Qe<ge;Qe++)Ae[Qe].pop(),Ae[Qe].pop()}if(0===ge)break}if(Se.sort((Lt,Ft)=>+t(l(Lt),l(Ft))),W>100){var rt=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+Se.join(", "));throw rt.values=Se,rt.vectors=[],rt}var Xe=se?i(ne,function q(Q,j){for(var K=[],oe=0;oe<j;oe++)K[oe]=Array(j).fill(0);var se=0;for(var le of Q){for(var te=le.length,ee=0;ee<te;ee++)for(var Ae=0;Ae<te;Ae++)K[se+ee][se+Ae]=le[ee][Ae];se+=te}return K}(xe,j)):void 0;return{values:Se,C:Xe}}(Q,j,K,oe,se);if(se){var Ae=function B(Q,j,K,oe,se,le,te){var ee=f(K),Ae=i(ee,Q,K),Se="BigNumber"===te,ge="Complex"===te,xe=Se?c(0):ge?y(0):0,ne=Se?c(1):ge?y(1):1,Y=[],W=[];for(var Me of se){var Ce=O(Y,Me,g);-1===Ce?(Y.push(Me),W.push(1)):W[Ce]+=1}for(var Pe=[],Oe=Y.length,re=Array(j).fill(xe),J=u(Array(j).fill(ne)),Ue=function(){var Xe=Y[Qe],Lt=t(Ae,i(Xe,J)),Ft=m(Lt,re);for(Ft.shift();Ft.length<W[Qe];){var Tt=P(Lt,j,Ft,le,te);if(null===Tt)break;Ft.push(Tt)}var _n=i(f(oe),K);Ft=Ft.map(st=>i(_n,st)),Pe.push(...Ft.map(st=>({value:Xe,vector:r(st)})))},Qe=0;Qe<Oe;Qe++)Ue();return Pe}(Q,j,ee,le,te,K,oe);return{values:te,eigenvectors:Ae}}return{values:te}}}({config:e,addScalar:i,subtract:s,multiply:p,multiplyScalar:h,flatten:v,divideScalar:d,sqrt:b,abs:a,bignumber:A,diag:M,size:D,reshape:x,qr:T,inv:f,usolve:B,usolveAll:R,equal:o,complex:C,larger:g,smaller:q,matrixFromColumns:O,dot:P});return t("eigs",{Array:function(le){return ae(r(le))},"Array, number|BigNumber":function(le,te){return ae(r(le),{precision:te})},"Array, Object":(se,le)=>ae(r(se),le),Matrix:function(le){return ae(le,{matricize:!0})},"Matrix, number|BigNumber":function(le,te){return ae(le,{precision:te,matricize:!0})},"Matrix, Object":function(le,te){var ee={matricize:!0};return Ka(ee,te),ae(le,ee)}});function ae(se){var le,te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ee=!("eigenvectors"in te)||te.eigenvectors,Se=function ve(se,le,te){var ee=se.toArray(),Ae=se.size();if(2!==Ae.length||Ae[0]!==Ae[1])throw new RangeError("Matrix must be square (size: ".concat(ri(Ae),")"));var Se=Ae[0];if(function j(se,le,te){for(var ee=0;ee<le;ee++)for(var Ae=0;Ae<le;Ae++)if(g(A(a(U(se[ee][Ae]))),te))return!1;return!0}(ee,Se,le)&&(function K(se,le){for(var te=0;te<le;te++)for(var ee=0;ee<le;ee++)se[te][ee]=k(se[te][ee])}(ee,Se),function Q(se,le,te){for(var ee=0;ee<le;ee++)for(var Ae=ee;Ae<le;Ae++)if(g(A(a(s(se[ee][Ae],se[Ae][ee]))),te))return!1;return!0}(ee,Se,le))){var ge=oe(se,ee,Se);return G(ee,Se,le,ge,te)}var xe=oe(se,ee,Se);return H(ee,Se,le,xe,te)}(se,null!==(le=te.precision)&&void 0!==le?le:e.relTol,ee);return te.matricize&&(Se.values=r(Se.values),ee&&(Se.eigenvectors=Se.eigenvectors.map(ge=>{var{value:xe,vector:ne}=ge;return{value:xe,vector:r(ne)}}))),ee&&Object.defineProperty(Se,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),Se}function oe(se,le,te){var ee=se.datatype();if("number"===ee||"BigNumber"===ee||"Complex"===ee)return ee;for(var Ae=!1,Se=!1,ge=!1,xe=0;xe<te;xe++)for(var ne=0;ne<te;ne++){var Y=le[xe][ne];if(Hr(Y)||jx(Y))Ae=!0;else if(Vr(Y))Se=!0;else{if(!Sp(Y))throw TypeError("Unsupported type in Matrix: "+$s(Y));ge=!0}}if(Se&&ge&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),ge){for(var W=0;W<te;W++)for(var Me=0;Me<te;Me++)le[W][Me]=C(le[W][Me]);return"Complex"}if(Se){for(var Ce=0;Ce<te;Ce++)for(var Pe=0;Pe<te;Pe++)le[Ce][Pe]=A(le[Ce][Pe]);return"BigNumber"}if(Ae){for(var Oe=0;Oe<te;Oe++)for(var re=0;re<te;re++)le[Oe][re]=_(le[Oe][re]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),$oe="kldivergence",lYe=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],cYe=ye($oe,lYe,n=>{var{typed:e,matrix:t,divide:r,sum:i,multiply:s,map:o,dotDivide:a,log:l,isNumeric:c}=n;return e($oe,{"Array, Array":function(d,f){return u(t(d),t(f))},"Matrix, Array":function(d,f){return u(d,t(f))},"Array, Matrix":function(d,f){return u(t(d),f)},"Matrix, Matrix":function(d,f){return u(d,f)}});function u(h,d){var f=d.size().length,A=h.size().length;if(f>1)throw new Error("first object must be one dimensional");if(A>1)throw new Error("second object must be one dimensional");if(f!==A)throw new Error("Length of two vectors must be equal");if(0===i(h))throw new Error("Sum of elements in first object must be non zero");if(0===i(d))throw new Error("Sum of elements in second object must be non zero");var g=r(h,i(h)),y=r(d,i(d)),v=i(s(g,o(a(g,y),_=>l(_))));return c(v)?v:Number.NaN}}),uYe=["typed","add","divide","compare","partitionSelect"],hYe=ye("median",uYe,n=>{var{typed:e,add:t,divide:r,compare:i,partitionSelect:s}=n;function o(c){try{var u=(c=ji(c.valueOf())).length;if(0===u)throw new Error("Cannot calculate median of an empty array");if(u%2==0){for(var h=u/2-1,d=s(c,h+1),f=c[h],A=0;A<h;++A)i(c[A],f)>0&&(f=c[A]);return l(f,d)}var p=s(c,(u-1)/2);return a(p)}catch(m){throw Kc(m,"median")}}var a=e({"number | BigNumber | Complex | Unit":function(u){return u}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(u,h){return r(t(u,h),2)}});return e("median",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,h){throw new Error("median(A, dim) is not yet supported")},"...":function(u){if(vb(u))throw new TypeError("Scalar values expected in function median");return o(u)}})}),fYe=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],dYe=ye("corr",fYe,n=>{var{typed:e,matrix:t,sqrt:r,sum:i,add:s,subtract:o,multiply:a,pow:l,divide:c}=n;return e("corr",{"Array, Array":function(f,A){return u(f,A)},"Matrix, Matrix":function(f,A){var p=u(f.toArray(),A.toArray());return Array.isArray(p)?t(p):p}});function u(d,f){var A=[];if(Array.isArray(d[0])&&Array.isArray(f[0])){if(d.length!==f.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var p=0;p<d.length;p++){if(d[p].length!==f[p].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");A.push(h(d[p],f[p]))}return A}if(d.length!==f.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return h(d,f)}function h(d,f){var A=d.length,p=i(d),m=i(f),g=d.reduce((b,M,D)=>s(b,a(M,f[D])),0),y=i(d.map(b=>l(b,2))),v=i(f.map(b=>l(b,2))),_=o(a(A,g),a(p,m)),C=r(a(o(a(A,y),l(p,2)),o(a(A,v),l(m,2))));return c(_,C)}}),AYe=["typed","add","multiply","Complex","divide","matrix"],pYe=ye("freqz",AYe,n=>{var{typed:e,add:t,multiply:r,Complex:i,divide:s,matrix:o}=n;return e("freqz",{"Array, Array":function(u,h){return a(u,h,l(512))},"Array, Array, Array":function(u,h,d){return a(u,h,d)},"Array, Array, number":function(u,h,d){if(d<0)throw new Error("w must be a positive number");return a(u,h,l(d))},"Matrix, Matrix":function(u,h){var d=l(512),{w:f,h:A}=a(u.valueOf(),h.valueOf(),d);return{w:o(f),h:o(A)}},"Matrix, Matrix, Matrix":function(u,h,d){var{h:f}=a(u.valueOf(),h.valueOf(),d.valueOf());return{h:o(f),w:o(d)}},"Matrix, Matrix, number":function(u,h,d){if(d<0)throw new Error("w must be a positive number");var f=l(d),{h:A}=a(u.valueOf(),h.valueOf(),f);return{h:o(A),w:o(f)}}});function a(c,u,h){for(var d=[],f=[],A=0;A<h.length;A++){for(var p=i(0,0),m=i(0,0),g=0;g<c.length;g++)p=t(p,r(c[g],i(Math.cos(-g*h[A]),Math.sin(-g*h[A]))));for(var y=0;y<u.length;y++)m=t(m,r(u[y],i(Math.cos(-y*h[A]),Math.sin(-y*h[A]))));d.push(p),f.push(m)}for(var v=[],_=0;_<d.length;_++)v.push(s(d[_],f[_]));return{h:v,w:h}}function l(c){for(var u=[],h=0;h<c;h++)u.push(h/c*Math.PI);return u}}),gYe=["typed","abs","map","median","subtract"],mYe=ye("mad",gYe,n=>{var{typed:e,abs:t,map:r,median:i,subtract:s}=n;return e("mad",{"Array | Matrix":o,"...":function(l){return o(l)}});function o(a){if(0===(a=ji(a.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(a);return i(r(a,function(c){return t(s(c,l))}))}catch(c){throw c instanceof TypeError&&c.message.includes("median")?new TypeError(c.message.replace("median","mad")):Kc(c,"mad")}}}),vYe=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],yYe=ye("zeta",vYe,n=>{var{typed:e,config:t,multiply:r,pow:i,divide:s,factorial:o,equal:a,smallerEq:l,isNegative:c,gamma:u,sin:h,subtract:d,add:f,Complex:A,BigNumber:p,pi:m}=n;return e("zeta",{number:b=>g(b,M=>M,()=>20),BigNumber:b=>g(b,M=>new p(M),()=>Math.abs(Math.log10(t.relTol))),Complex:function y(b){return 0===b.re&&0===b.im?new A(-.5):1===b.re?new A(NaN,NaN):b.re===1/0&&0===b.im?new A(1):b.im===1/0||b.re===-1/0?new A(NaN,NaN):v(b,M=>M,M=>Math.round(19.5+.9*Math.abs(M.im)),M=>M.re)}});function g(b,M,D){return a(b,0)?M(-.5):a(b,1)?M(NaN):isFinite(b)?v(b,M,D,x=>x):c(b)?M(NaN):M(1)}function v(b,M,D,x){var T=D(b);if(x(b)>-(T-1)/2)return function C(b,M,D){for(var x=s(1,r(_(D(0),M),d(1,i(2,d(1,b))))),T=D(0),B=D(1);l(B,M);B=f(B,1))T=f(T,s(r((-1)**(B-1),_(B,M)),i(B,b)));return r(x,T)}(b,M(T),M);var B=r(i(2,b),i(M(m),d(b,1)));return B=r(B,h(r(s(M(m),2),b))),B=r(B,u(d(1,b))),r(B,v(d(1,b),M,D,x))}function _(b,M){for(var D=b,x=b;l(x,M);x=f(x,1)){var T=s(r(o(f(M,d(x,1))),i(4,x)),r(o(d(M,x)),o(r(2,x))));D=f(D,T)}return r(M,D)}}),_Ye=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],bYe=ye("norm",_Ye,n=>{var{typed:e,abs:t,add:r,pow:i,conj:s,sqrt:o,multiply:a,equalScalar:l,larger:c,smaller:u,matrix:h,ctranspose:d,eigs:f}=n;return e("norm",{number:Math.abs,Complex:function(D){return D.abs()},BigNumber:function(D){return D.abs()},boolean:function(D){return Math.abs(D)},Array:function(D){return b(h(D),2)},Matrix:function(D){return b(D,2)},"Array, number | BigNumber | string":function(D,x){return b(h(D),x)},"Matrix, number | BigNumber | string":function(D,x){return b(D,x)}});function b(M,D){var x=M.size();if(1===x.length)return function m(M,D){if(D===Number.POSITIVE_INFINITY||"inf"===D)return function A(M){var D=0;return M.forEach(function(x){var T=t(x);c(T,D)&&(D=T)},!0),D}(M);if(D===Number.NEGATIVE_INFINITY||"-inf"===D)return function p(M){var D;return M.forEach(function(x){var T=t(x);(!D||u(T,D))&&(D=T)},!0),D||0}(M);if("fro"===D)return b(M,2);if("number"==typeof D&&!isNaN(D)){if(!l(D,0)){var x=0;return M.forEach(function(T){x=r(i(t(T),D),x)},!0),i(x,1/D)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}(M,D);if(2===x.length){if(x[0]&&x[1])return function C(M,D){if(1===D)return function y(M){var D=[],x=0;return M.forEach(function(T,B){var R=B[1],U=r(D[R]||0,t(T));c(U,x)&&(x=U),D[R]=U},!0),x}(M);if(D===Number.POSITIVE_INFINITY||"inf"===D)return function _(M){var D=[],x=0;return M.forEach(function(T,B){var R=B[0],U=r(D[R]||0,t(T));c(U,x)&&(x=U),D[R]=U},!0),x}(M);if("fro"===D)return function g(M){var D=0;return M.forEach(function(x,T){D=r(D,a(x,s(x)))}),t(o(D))}(M);if(2===D)return function v(M){var D=M.size();if(D[0]!==D[1])throw new RangeError("Invalid matrix dimensions");var x=d(M),T=a(x,M),B=f(T).values.toArray();return t(o(B[B.length-1]))}(M);throw new Error("Unsupported parameter value "+D)}(M,D);throw new RangeError("Invalid matrix dimensions")}}}),tae="rotationMatrix",wYe=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],CYe=ye(tae,wYe,n=>{var{typed:e,config:t,multiplyScalar:r,addScalar:i,unaryMinus:s,norm:o,BigNumber:a,matrix:l,DenseMatrix:c,SparseMatrix:u,cos:h,sin:d}=n;return e(tae,{"":function(){return"Matrix"===t.matrix?l([]):[]},string:function(v){return l(v)},"number | BigNumber | Complex | Unit":function(v){return f(v,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(v,_){return f(v,_)},"number | BigNumber | Complex | Unit, Array":function(v,_){var C=l(_);return A(C),g(v,C,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(v,_){A(_);var C=_.storage()||("Matrix"===t.matrix?"dense":void 0);return g(v,_,C)},"number | BigNumber | Complex | Unit, Array, string":function(v,_,C){var b=l(_);return A(b),g(v,b,C)},"number | BigNumber | Complex | Unit, Matrix, string":function(v,_,C){return A(_),g(v,_,C)}});function f(y,v){var C=Vr(y)?new a(-1):-1,b=h(y),M=d(y);return m([[b,r(C,M)],[M,b]],v)}function A(y){var v=y.size();if(v.length<1||3!==v[0])throw new RangeError("Vector must be of dimensions 1x3")}function p(y){return y.reduce((v,_)=>r(v,_))}function m(y,v){if(v){if("sparse"===v)return new u(y);if("dense"===v)return new c(y);throw new TypeError('Unknown matrix type "'.concat(v,'"'))}return y}function g(y,v,_){var C=o(v);if(0===C)throw new RangeError("Rotation around zero vector");var b=Vr(y)?a:null,M=b?new b(1):1,D=b?new b(-1):-1,x=b?new b(v.get([0])/C):v.get([0])/C,T=b?new b(v.get([1])/C):v.get([1])/C,B=b?new b(v.get([2])/C):v.get([2])/C,R=h(y),U=i(M,s(R)),k=d(y);return m([[i(R,p([x,x,U])),i(p([x,T,U]),p([D,B,k])),i(p([x,B,U]),p([T,k]))],[i(p([x,T,U]),p([B,k])),i(R,p([T,T,U])),i(p([T,B,U]),p([D,x,k]))],[i(p([x,B,U]),p([D,T,k])),i(p([T,B,U]),p([x,k])),i(R,p([B,B,U]))]],_)}}),SYe=["typed","matrix","identity","multiply","qr","norm","subtract"],xYe=ye("schur",SYe,n=>{var{typed:e,matrix:t,identity:r,multiply:i,qr:s,norm:o,subtract:a}=n;return e("schur",{Array:function(u){var h=l(t(u));return{U:h.U.valueOf(),T:h.T.valueOf()}},Matrix:function(u){return l(u)}});function l(c){var A,u=c.size()[0],h=c,d=r(u),f=0;do{A=h;var p=s(h),m=p.Q;if(h=i(p.R,m),d=i(d,m),f++>100)break}while(o(a(h,A))>1e-4);return{U:d,T:h}}}),EYe=["typed","multiply","rotationMatrix"],DYe=ye("rotate",EYe,n=>{var{typed:e,multiply:t,rotationMatrix:r}=n;return e("rotate",{"Array , number | BigNumber | Complex | Unit":function(o,a){return i(o,2),t(r(a),o).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,a){return i(o,2),t(r(a),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,a,l){return i(o,3),t(r(a,l),o)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,a,l){return i(o,3),t(r(a,l),o)}});function i(s,o){var a=Array.isArray(s)?xr(s):s.size();if(a.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(2===a.length&&1!==a[1])throw new RangeError("Vector must be of dimensions 1x".concat(o));if(a[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}}),MYe=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],TYe=ye("sylvester",MYe,n=>{var{typed:e,schur:t,matrixFromColumns:r,matrix:i,multiply:s,range:o,concat:a,transpose:l,index:c,subset:u,add:h,subtract:d,identity:f,lusolve:A,abs:p}=n;return e("sylvester",{"Matrix, Matrix, Matrix":m,"Array, Matrix, Matrix":function(y,v,_){return m(i(y),v,_)},"Array, Array, Matrix":function(y,v,_){return m(i(y),i(v),_)},"Array, Matrix, Array":function(y,v,_){return m(i(y),v,i(_))},"Matrix, Array, Matrix":function(y,v,_){return m(y,i(v),_)},"Matrix, Array, Array":function(y,v,_){return m(y,i(v),i(_))},"Matrix, Matrix, Array":function(y,v,_){return m(y,v,i(_))},"Array, Array, Array":function(y,v,_){return m(i(y),i(v),i(_)).toArray()}});function m(g,y,v){for(var _=y.size()[0],C=g.size()[0],b=t(g),M=b.T,D=b.U,x=t(s(-1,y)),T=x.T,B=x.U,R=s(s(l(D),v),B),U=o(0,C),k=[],q=(ge,xe)=>a(ge,xe,1),O=(ge,xe)=>a(ge,xe,0),P=0;P<_;P++)if(P<_-1&&p(u(T,c(P+1,P)))>1e-5){for(var G=O(u(R,c(U,P)),u(R,c(U,P+1))),H=0;H<P;H++)G=h(G,O(s(k[H],u(T,c(H,P))),s(k[H],u(T,c(H,P+1)))));var ae=s(f(C),s(-1,u(T,c(P,P)))),ve=s(f(C),s(-1,u(T,c(P+1,P)))),Q=s(f(C),s(-1,u(T,c(P,P+1)))),j=s(f(C),s(-1,u(T,c(P+1,P+1)))),K=O(q(h(M,ae),ve),q(Q,h(M,j))),oe=A(K,G);k[P]=oe.subset(c(o(0,C),0)),k[P+1]=oe.subset(c(o(C,2*C),0)),P++}else{for(var se=u(R,c(U,P)),le=0;le<P;le++)se=h(se,s(k[le],u(T,c(le,P))));var te=u(T,c(P,P)),ee=d(M,s(te,f(C)));k[P]=A(ee,se)}var Ae=i(r(...k));return s(D,s(Ae,l(B)))}}),BYe=["typed","matrix","sylvester","multiply","transpose"],NYe=ye("lyap",BYe,n=>{var{typed:e,matrix:t,sylvester:r,multiply:i,transpose:s}=n;return e("lyap",{"Matrix, Matrix":function(a,l){return r(a,s(a),i(-1,l))},"Array, Matrix":function(a,l){return r(t(a),s(t(a)),i(-1,l))},"Matrix, Array":function(a,l){return r(a,s(t(a)),t(i(-1,l)))},"Array, Array":function(a,l){return r(t(a),s(t(a)),t(i(-1,l))).toArray()}})}),cn=yQe({config:It}),ks=SQe({}),oae=VQe({BigNumber:cn,config:It}),IYe=OQe({}),FYe=g7e({BigNumber:cn,config:It}),z0=Z7e({}),aae=KQe({Complex:ks}),RYe=LQe({BigNumber:cn,config:It}),OYe=GQe({BigNumber:cn,config:It}),PYe=qQe({BigNumber:cn,config:It}),tF=nze({}),LYe=UQe({BigNumber:cn,config:It}),UYe=PQe({}),kYe=QQe({BigNumber:cn,config:It}),HYe=sze({}),lae=lze({}),VYe=WQe({BigNumber:cn,config:It}),QYe=O7e({BigNumber:cn,config:It}),cae=HQe({BigNumber:cn,config:It}),zYe=RQe({}),GYe=XQe({}),qr=hze({Matrix:tF}),jYe=x7e({BigNumber:cn,config:It}),qYe=zQe({BigNumber:cn,config:It}),b8=kQe({BigNumber:cn,config:It}),uae=Aze({}),WYe=$Qe({BigNumber:cn,config:It}),ke=gze({BigNumber:cn,Complex:ks,DenseMatrix:qr,Fraction:z0}),$Ye=S7e({BigNumber:cn,config:It}),Xc=Eze({typed:ke}),KYe=Mze({Complex:ks,config:It,typed:ke}),XYe=Hze({BigNumber:cn,typed:ke}),YYe=Qze({BigNumber:cn,Complex:ks,config:It,typed:ke}),Za=Gze({typed:ke}),JYe=qze({typed:ke}),ZYe=$ze({BigNumber:cn,Complex:ks,config:It,typed:ke}),eJe=Yze({typed:ke}),hae=e9e({typed:ke}),tJe=n9e({Complex:ks,config:It,typed:ke}),nJe=s9e({typed:ke}),rJe=a9e({typed:ke}),iJe=c9e({typed:ke}),sJe=h9e({typed:ke}),nF=d9e({typed:ke}),rF=g9e({Complex:ks,typed:ke}),G0=v9e({typed:ke}),w8=_9e({typed:ke}),oJe=w9e({BigNumber:cn,typed:ke}),aJe=S9e({BigNumber:cn,typed:ke}),lJe=E9e({typed:ke}),oi=T9e({config:It,typed:ke}),cJe=I9e({typed:ke}),fae=L9e({typed:ke}),uJe=k9e({Complex:ks,typed:ke}),hJe=Fte({typed:ke}),aE=V9e({typed:ke}),fJe=Lte({typed:ke}),Nb=z9e({typed:ke}),C8=j9e({typed:ke}),dJe=W9e({format:Nb,typed:ke}),S8=K9e({typed:ke}),Tu=Y9e({typed:ke}),Mm=tGe({config:It,typed:ke}),j0=rGe({config:It,typed:ke}),uA=sGe({equalScalar:oi,typed:ke}),AJe=jQe({BigNumber:cn,config:It}),pJe=cGe({Complex:ks,typed:ke}),gJe=hGe({Complex:ks,config:It,typed:ke}),dae=dGe({Complex:ks,config:It,typed:ke}),q0=Ute({typed:ke}),Ko=gGe({typed:ke}),iF=vGe({typed:ke}),Ip=CGe({typed:ke}),mJe=xGe({format:Nb,typed:ke}),vJe=MGe({config:It,typed:ke}),yJe=Yte({typed:ke}),_Je=BGe({config:It,typed:ke}),x8=IGe({typed:ke}),bJe=RGe({BigNumber:cn,typed:ke}),Aae=PGe({BigNumber:cn,Fraction:z0,complex:rF,typed:ke}),sF=UGe({typed:ke}),el=VGe({Matrix:tF,equalScalar:oi,typed:ke}),wJe=zGe({typed:ke}),CJe=jGe({typed:ke}),SJe=WGe({typed:ke}),Zh=KGe({typed:ke}),xJe=YGe({typed:ke}),E8=ZGe({typed:ke}),EJe=tje({Complex:ks,config:It,typed:ke}),DJe=rje({BigNumber:cn,typed:ke}),D8=qH({isInteger:Tu,typed:ke}),MJe=sje({BigNumber:cn,Complex:ks,config:It,typed:ke}),ef=lje({BigNumber:cn,typed:ke}),TJe=uje({typed:ke}),BJe=fje({typed:ke}),NJe=Aje({BigNumber:cn,typed:ke}),lE=gje({typed:ke}),IJe=vje({typed:ke}),FJe=_je({config:It,typed:ke}),RJe=wje({BigNumber:cn,typed:ke}),OJe=Sje({typed:ke}),PJe=Eje({SparseMatrix:el,typed:ke}),hd=Tje({Complex:ks,config:It,typed:ke}),LJe=Nje({typed:ke}),UJe=Rje({typed:ke}),hA=Pje({typed:ke}),kJe=Uje({BigNumber:cn,Complex:ks,config:It,typed:ke}),HJe=Hje({format:Nb,typed:ke}),VJe=Qje({BigNumber:cn,typed:ke}),cE=jje({Fraction:z0,typed:ke}),W0=Wje({typed:ke}),sn=Kje({DenseMatrix:qr,Matrix:tF,SparseMatrix:el,typed:ke}),QJe=Yje({isZero:uA,matrix:sn,typed:ke}),zJe=Zje({isNaN:lE,isNumeric:W0,typed:ke}),tf=nqe({bignumber:ef,fraction:cE,number:Ip}),pae=iqe({config:It,multiplyScalar:Ko,numeric:tf,typed:ke}),gae=oqe({isInteger:Tu,matrix:sn,typed:ke}),kl=lqe({matrix:sn,config:It,typed:ke}),uE=uqe({matrix:sn,typed:ke}),mae=fqe({BigNumber:cn,config:It,matrix:sn,typed:ke}),Hl=Aqe({BigNumber:cn,config:It,matrix:sn,typed:ke}),GJe=gqe({Complex:ks,config:It,typed:ke}),vae=vqe({BigNumber:cn,Complex:ks,Fraction:z0,config:It,isNegative:Mm,matrix:sn,typed:ke,unaryMinus:hA}),Ii=qte({isInteger:Tu,matrix:sn,typed:ke}),jJe=_qe({prod:pae,size:kl,typed:ke}),M8=wqe({conj:G0,transpose:uE,typed:ke}),yae=Sqe({DenseMatrix:qr,SparseMatrix:el,matrix:sn,typed:ke}),To=Eqe({numeric:tf,typed:ke}),hE=Bqe({DenseMatrix:qr,SparseMatrix:el,concat:Ii,divideScalar:To,equalScalar:oi,matrix:sn,typed:ke}),nf=Iqe({DenseMatrix:qr,SparseMatrix:el,concat:Ii,equalScalar:oi,matrix:sn,typed:ke}),qJe=Oqe({isNumeric:W0,typed:ke}),Tm=Lqe({BigNumber:cn,DenseMatrix:qr,SparseMatrix:el,config:It,matrix:sn,typed:ke}),WJe=kqe({matrix:sn,multiplyScalar:Ko,typed:ke}),oF=Vqe({DenseMatrix:qr,SparseMatrix:el,concat:Ii,config:It,matrix:sn,typed:ke}),$Je=qqe({DenseMatrix:qr,concat:Ii,equalScalar:oi,matrix:sn,typed:ke,zeros:Hl}),_ae=$qe({DenseMatrix:qr,divideScalar:To,equalScalar:oi,matrix:sn,multiplyScalar:Ko,subtractScalar:Zh,typed:ke}),T8=Xqe({flatten:aE,matrix:sn,size:kl,typed:ke}),KJe=Jqe({BigNumber:cn,concat:Ii,equalScalar:oi,matrix:sn,typed:ke}),XJe=tWe({BigNumber:cn,config:It,matrix:sn,typed:ke}),B8=rWe({addScalar:Za,complex:rF,conj:G0,divideScalar:To,equal:nf,identity:Tm,isZero:uA,matrix:sn,multiplyScalar:Ko,sign:Aae,sqrt:hd,subtractScalar:Zh,typed:ke,unaryMinus:hA,zeros:Hl}),YJe=oWe({config:It,matrix:sn}),JJe=lWe({DenseMatrix:qr,concat:Ii,equalScalar:oi,matrix:sn,typed:ke,zeros:Hl}),Ib=uWe({BigNumber:cn,DenseMatrix:qr,config:It,equalScalar:oi,matrix:sn,typed:ke,zeros:Hl}),Yc=fWe({DenseMatrix:qr,SparseMatrix:el,concat:Ii,config:It,matrix:sn,typed:ke}),Aa=pWe({DenseMatrix:qr,concat:Ii,equalScalar:oi,matrix:sn,subtractScalar:Zh,typed:ke,unaryMinus:hA}),ZJe=mWe({concat:Ii,matrix:sn,typed:ke}),N8=yWe({config:It,numeric:tf,typed:ke}),I8=bWe({DenseMatrix:qr,divideScalar:To,equalScalar:oi,matrix:sn,multiplyScalar:Ko,subtractScalar:Zh,typed:ke}),eZe=CWe({DenseMatrix:qr,SparseMatrix:el,concat:Ii,matrix:sn,typed:ke}),Si=xWe({DenseMatrix:qr,SparseMatrix:el,addScalar:Za,concat:Ii,equalScalar:oi,matrix:sn,typed:ke}),tZe=TWe({BigNumber:cn,DenseMatrix:qr,concat:Ii,equalScalar:oi,matrix:sn,typed:ke}),nZe=lne({concat:Ii,equalScalar:oi,matrix:sn,typed:ke}),rZe=vne({DenseMatrix:qr,concat:Ii,equalScalar:oi,matrix:sn,typed:ke}),iZe=NWe({DenseMatrix:qr,SparseMatrix:el,concat:Ii,matrix:sn,typed:ke}),sZe=FWe({addScalar:Za,combinations:nF,divideScalar:To,isInteger:Tu,isNegative:Mm,multiplyScalar:Ko,typed:ke}),$0=OWe({BigNumber:cn,DenseMatrix:qr,Fraction:z0,concat:Ii,config:It,equalScalar:oi,matrix:sn,typed:ke}),bae=UWe({concat:Ii,matrix:sn,typed:ke}),oZe=yne({add:Si,typed:ke,unaryPlus:N8}),F8=HWe({equal:nf,typed:ke}),aZe=une({matrix:sn,number:Ip,subtract:Aa,typed:ke}),lZe=QWe({abs:Xc,addScalar:Za,deepEqual:F8,divideScalar:To,multiplyScalar:Ko,sqrt:hd,subtractScalar:Zh,typed:ke}),aF=GWe({addScalar:Za,conj:G0,multiplyScalar:Ko,size:kl,typed:ke}),cZe=qWe({compareText:bae,isZero:uA,typed:ke}),wae=kse({DenseMatrix:qr,config:It,equalScalar:oi,matrix:sn,round:Ib,typed:ke,zeros:Hl}),uZe=JWe({BigNumber:cn,DenseMatrix:qr,concat:Ii,config:It,equalScalar:oi,matrix:sn,round:Ib,typed:ke,zeros:Hl}),hZe=e$e({abs:Xc,addScalar:Za,divideScalar:To,isPositive:j0,multiplyScalar:Ko,smaller:Yc,sqrt:hd,typed:ke}),Cae=r$e({DenseMatrix:qr,smaller:Yc}),pc=o$e({ImmutableDenseMatrix:Cae,getMatrixDataType:C8}),Jc=l$e({DenseMatrix:qr,SparseMatrix:el,concat:Ii,config:It,matrix:sn,typed:ke}),R8=h$e({Complex:ks,config:It,divideScalar:To,typeOf:E8,typed:ke}),fZe=d$e({DenseMatrix:qr,divideScalar:To,equalScalar:oi,matrix:sn,multiplyScalar:Ko,subtractScalar:Zh,typed:ke}),dZe=p$e({flatten:aE,matrix:sn,size:kl,typed:ke}),AZe=dne({config:It,numeric:tf,smaller:Yc,typed:ke}),Sae=Vse({DenseMatrix:qr,concat:Ii,config:It,equalScalar:oi,matrix:sn,round:Ib,typed:ke,zeros:Hl}),xs=m$e({addScalar:Za,dot:aF,equalScalar:oi,matrix:sn,multiplyScalar:Ko,typed:ke}),pZe=y$e({Complex:ks,config:It,divideScalar:To,typed:ke}),gZe=Qte({DenseMatrix:qr,concat:Ii,equalScalar:oi,matrix:sn,typed:ke}),lF=b$e({compare:$0,isNaN:lE,isNumeric:W0,typed:ke}),mZe=C$e({DenseMatrix:qr,concat:Ii,equalScalar:oi,matrix:sn,typed:ke,zeros:Hl}),xae=W$e({SparseMatrix:el,abs:Xc,add:Si,divideScalar:To,larger:Jc,largerEq:oF,multiply:xs,subtract:Aa,transpose:uE,typed:ke}),hh=pne({add:Si,matrix:sn,typed:ke,zeros:Hl}),O8=wne({add:Si,config:It,numeric:tf,typed:ke}),vZe=X$e({add:Si,matrix:sn,typed:ke}),Eae=J$e({DenseMatrix:qr,divideScalar:To,equalScalar:oi,matrix:sn,multiplyScalar:Ko,subtractScalar:Zh,typed:ke}),yZe=eKe({Complex:ks,add:Si,multiply:xs,number:Ip,typed:ke}),P8=rKe({DenseMatrix:qr,config:It,equalScalar:oi,matrix:sn,round:Ib,typed:ke,zeros:Hl}),fA=sKe({compare:$0,typed:ke}),_Ze=lKe({addScalar:Za,combinations:nF,isInteger:Tu,isNegative:Mm,isPositive:j0,larger:Jc,typed:ke}),bZe=uKe({matrix:sn,multiply:xs,subtract:Aa,typed:ke}),Dae=fKe({divideScalar:To,isZero:uA,matrix:sn,multiply:xs,subtractScalar:Zh,typed:ke,unaryMinus:hA}),wZe=AKe({concat:Ii,equalScalar:oi,matrix:sn,multiplyScalar:Ko,typed:ke}),Mae=mKe({larger:Jc,smaller:Yc}),Tae=_Ke({Complex:ks,DenseMatrix:qr,ceil:P8,equalScalar:oi,floor:wae,matrix:sn,typed:ke,zeros:Hl}),Bae=wKe({Index:pc,typed:ke}),CZe=xKe({abs:Xc,add:Si,addScalar:Za,config:It,divideScalar:To,equalScalar:oi,flatten:aE,isNumeric:W0,isZero:uA,matrix:sn,multiply:xs,multiplyScalar:Ko,smaller:Yc,subtract:Aa,typed:ke}),SZe=DKe({BigNumber:cn,add:Si,config:It,equal:nf,isInteger:Tu,mod:Sae,smaller:Yc,typed:ke,xgcd:mae}),xZe=TKe({concat:Ii,equalScalar:oi,matrix:sn,typed:ke}),EZe=NKe({Complex:ks,config:It,divideScalar:To,log:R8,typed:ke}),L8=$te({config:It,larger:Jc,numeric:tf,typed:ke}),DZe=FKe({DenseMatrix:qr,Index:pc,compareNatural:fA,size:kl,subset:hh,typed:ke}),MZe=OKe({DenseMatrix:qr,Index:pc,compareNatural:fA,size:kl,subset:hh,typed:ke}),TZe=LKe({Index:pc,compareNatural:fA,size:kl,subset:hh,typed:ke}),BZe=kKe({Index:pc,compareNatural:fA,size:kl,subset:hh,typed:ke}),Fb=VKe({DenseMatrix:qr,SparseMatrix:el,concat:Ii,config:It,matrix:sn,typed:ke}),NZe=GKe({compare:$0,compareNatural:fA,matrix:sn,typed:ke}),IZe=qKe({DenseMatrix:qr,SparseMatrix:el,concat:Ii,config:It,equalScalar:oi,matrix:sn,typed:ke}),FZe=Gte({concat:Ii,equalScalar:oi,matrix:sn,not:iF,typed:ke,zeros:Hl}),Rb=xne({bignumber:ef,matrix:sn,add:Si,config:It,isPositive:j0,larger:Jc,largerEq:oF,smaller:Yc,smallerEq:Fb,typed:ke}),RZe=Dne({Index:pc,matrix:sn,range:Rb,typed:ke}),Nae=KKe({DenseMatrix:qr,Index:pc,compareNatural:fA,size:kl,subset:hh,typed:ke}),OZe=YKe({Index:pc,compareNatural:fA,size:kl,subset:hh,typed:ke}),Iae=ZKe({Index:pc,concat:Ii,setDifference:Nae,size:kl,subset:hh,typed:ke}),Fae=nXe({FibonacciHeap:Mae,addScalar:Za,equalScalar:oi}),Rae=Tne({Index:pc,matrix:sn,range:Rb,typed:ke}),K0=iXe({abs:Xc,addScalar:Za,det:Dae,divideScalar:To,identity:Tm,matrix:sn,multiply:xs,typed:ke,unaryMinus:hA}),Oae=oXe({DenseMatrix:qr,Spa:Fae,SparseMatrix:el,abs:Xc,addScalar:Za,divideScalar:To,equalScalar:oi,larger:Jc,matrix:sn,multiplyScalar:Ko,subtractScalar:Zh,typed:ke,unaryMinus:hA}),PZe=lXe({Complex:ks,add:Si,ctranspose:M8,deepEqual:F8,divideScalar:To,dot:aF,dotDivide:hE,equal:nf,inv:K0,matrix:sn,multiply:xs,typed:ke}),fd=uXe({Complex:ks,config:It,fraction:cE,identity:Tm,inv:K0,matrix:sn,multiply:xs,number:Ip,typed:ke}),Pae=fXe({DenseMatrix:qr,Index:pc,compareNatural:fA,size:kl,subset:hh,typed:ke}),LZe=AXe({Index:pc,concat:Ii,setIntersect:Pae,setSymDifference:Iae,size:kl,subset:hh,typed:ke}),UZe=gXe({abs:Xc,add:Si,identity:Tm,inv:K0,map:q0,max:L8,multiply:xs,size:kl,sqrt:hd,subtract:Aa,typed:ke}),br=yXe({BigNumber:cn,Complex:ks,Fraction:z0,abs:Xc,addScalar:Za,config:It,divideScalar:To,equal:nf,fix:Tae,format:Nb,isNumeric:W0,multiplyScalar:Ko,number:Ip,pow:fd,round:Ib,subtractScalar:Zh}),kZe=r7e({BigNumber:cn,Unit:br,config:It}),HZe=U7e({BigNumber:cn,Unit:br,config:It}),VZe=E7e({BigNumber:cn,Unit:br,config:It}),QZe=o7e({BigNumber:cn,Unit:br,config:It}),zZe=M7e({BigNumber:cn,Unit:br,config:It}),GZe=a7e({BigNumber:cn,Unit:br,config:It}),jZe=i7e({BigNumber:cn,Unit:br,config:It}),qZe=y7e({BigNumber:cn,Unit:br,config:It}),WZe=bXe({DenseMatrix:qr,SparseMatrix:el,concat:Ii,equalScalar:oi,matrix:sn,pow:fd,typed:ke}),$Ze=n7e({BigNumber:cn,Unit:br,config:It}),KZe=s7e({BigNumber:cn,Unit:br,config:It}),XZe=CXe({abs:Xc,add:Si,identity:Tm,inv:K0,multiply:xs,typed:ke}),YZe=T7e({BigNumber:cn,Unit:br,config:It}),Lae=xXe({addScalar:Za,ceil:P8,conj:G0,divideScalar:To,dotDivide:hE,exp:fae,i:aae,log2:dae,matrix:sn,multiplyScalar:Ko,pow:fd,tau:cae,typed:ke}),U8=DXe({BigNumber:cn,Complex:ks,config:It,multiplyScalar:Ko,pow:fd,typed:ke}),JZe=JQe({BigNumber:cn,Unit:br,config:It}),ZZe=m7e({BigNumber:cn,Unit:br,config:It}),eet=TXe({conj:G0,dotDivide:hE,fft:Lae,typed:ke}),tet=h7e({BigNumber:cn,Unit:br,config:It}),net=N7e({BigNumber:cn,Unit:br,config:It}),ret=t7e({BigNumber:cn,Unit:br,config:It}),iet=k7e({BigNumber:cn,Unit:br,config:It}),set=F7e({BigNumber:cn,Unit:br,config:It}),oet=_7e({BigNumber:cn,Unit:br,config:It}),aet=u7e({BigNumber:cn,Unit:br,config:It}),cet=j7e({BigNumber:cn,Unit:br,config:It}),uet=Q7e({BigNumber:cn,Unit:br,config:It}),het=q7e({BigNumber:cn,Unit:br,config:It}),fet=v7e({BigNumber:cn,Unit:br,config:It}),det=b7e({BigNumber:cn,Unit:br,config:It}),Aet=e7e({BigNumber:cn,Unit:br,config:It}),pet=w7e({BigNumber:cn,Unit:br,config:It}),get=P7e({BigNumber:cn,Unit:br,config:It}),met=YQe({BigNumber:cn,Unit:br,config:It}),vet=L7e({BigNumber:cn,Unit:br,config:It}),yet=C7e({BigNumber:cn,Unit:br,config:It}),_et=D7e({BigNumber:cn,Unit:br,config:It}),bet=f7e({BigNumber:cn,Unit:br,config:It}),wet=NXe({Unit:br,typed:ke}),Vl=RXe({divideScalar:To,equalScalar:oi,inv:K0,matrix:sn,multiply:xs,typed:ke}),Cet=A7e({BigNumber:cn,Unit:br,config:It}),fE=PXe({gamma:U8,typed:ke}),xet=B7e({BigNumber:cn,Unit:br,config:It}),Eet=V7e({BigNumber:cn,Unit:br,config:It}),Det=l7e({BigNumber:cn,Unit:br,config:It}),Uae=UXe({DenseMatrix:qr,lsolve:_ae,lup:Oae,matrix:sn,slu:xae,typed:ke,usolve:I8}),Met=c7e({BigNumber:cn,Unit:br,config:It}),Tet=H7e({BigNumber:cn,Unit:br,config:It}),Bet=HXe({add:Si,divide:Vl,factorial:fE,isInteger:Tu,isPositive:j0,multiply:xs,typed:ke}),Net=QXe({factorial:fE,typed:ke}),Iet=z7e({BigNumber:cn,Unit:br,config:It}),Fet=GXe({add:Si,cbrt:vae,divide:Vl,equalScalar:oi,im:S8,isZero:uA,multiply:xs,re:x8,sqrt:hd,subtract:Aa,typeOf:E8,typed:ke,unaryMinus:hA}),Ret=qXe({compareNatural:fA,typed:ke}),Oet=XXe({abs:Xc,add:Si,bignumber:ef,divide:Vl,isNegative:Mm,isPositive:j0,larger:Jc,map:q0,matrix:sn,max:L8,multiply:xs,smaller:Yc,subtract:Aa,typed:ke,unaryMinus:hA}),kae=JXe({bignumber:ef,addScalar:Za,combinations:nF,divideScalar:To,factorial:fE,isInteger:Tu,isNegative:Mm,larger:Jc,multiplyScalar:Ko,number:Ip,pow:fd,subtractScalar:Zh,typed:ke}),Pet=eYe({Unit:br,typed:ke}),Let=nYe({addScalar:Za,isInteger:Tu,isNegative:Mm,stirlingS2:kae,typed:ke}),Hae=aYe({abs:Xc,add:Si,addScalar:Za,atan:hae,bignumber:ef,column:Rae,complex:rF,config:It,cos:w8,diag:yae,divideScalar:To,dot:aF,equal:nf,flatten:aE,im:S8,inv:K0,larger:Jc,matrix:sn,matrixFromColumns:T8,multiply:xs,multiplyScalar:Ko,number:Ip,qr:B8,re:x8,reshape:gae,sin:sF,size:kl,smaller:Yc,sqrt:hd,subtract:Aa,typed:ke,usolve:I8,usolveAll:Eae}),Uet=p7e({BigNumber:cn,Unit:br,config:It}),ket=I7e({BigNumber:cn,Unit:br,config:It}),Het=cYe({divide:Vl,dotDivide:hE,isNumeric:W0,log:R8,map:q0,matrix:sn,multiply:xs,sum:O8,typed:ke}),Vae=Nne({add:Si,divide:Vl,typed:ke}),Vet=R7e({BigNumber:cn,Unit:br,config:It}),Qet=ZQe({BigNumber:cn,Unit:br,config:It}),zet=Fne({bignumber:ef,add:Si,compare:$0,divide:Vl,isInteger:Tu,larger:Jc,multiply:xs,partitionSelect:lF,smaller:Yc,smallerEq:Fb,subtract:Aa,typed:ke}),k8=One({add:Si,apply:D8,divide:Vl,isNaN:lE,multiply:xs,subtract:Aa,typed:ke}),Get=d7e({BigNumber:cn,Unit:br,config:It}),Qae=hYe({add:Si,compare:$0,divide:Vl,partitionSelect:lF,typed:ke}),jet=dYe({add:Si,divide:Vl,matrix:sn,mean:Vae,multiply:xs,pow:fd,sqrt:hd,subtract:Aa,sum:O8,typed:ke}),qet=pYe({Complex:ks,add:Si,divide:Vl,matrix:sn,multiply:xs,typed:ke}),Wet=mYe({abs:Xc,map:q0,median:Qae,subtract:Aa,typed:ke}),$et=Une({map:q0,sqrt:hd,typed:ke,variance:k8}),Ket=yYe({BigNumber:cn,Complex:ks,add:Si,config:It,divide:Vl,equal:nf,factorial:fE,gamma:U8,isNegative:Mm,multiply:xs,pi:b8,pow:fd,sin:sF,smallerEq:Fb,subtract:Aa,typed:ke}),H8=bYe({abs:Xc,add:Si,conj:G0,ctranspose:M8,eigs:Hae,equalScalar:oi,larger:Jc,matrix:sn,multiply:xs,pow:fd,smaller:Yc,sqrt:hd,typed:ke}),zae=CYe({BigNumber:cn,DenseMatrix:qr,SparseMatrix:el,addScalar:Za,config:It,cos:w8,matrix:sn,multiplyScalar:Ko,norm:H8,sin:sF,typed:ke,unaryMinus:hA}),Xet=G7e({BigNumber:cn,Unit:br,config:It}),Gae=xYe({identity:Tm,matrix:sn,multiply:xs,norm:H8,qr:B8,subtract:Aa,typed:ke}),Yet=DYe({multiply:xs,rotationMatrix:zae,typed:ke}),jae=TYe({abs:Xc,add:Si,concat:Ii,identity:Tm,index:Bae,lusolve:Uae,matrix:sn,matrixFromColumns:T8,multiply:xs,range:Rb,schur:Gae,subset:hh,subtract:Aa,transpose:uE,typed:ke}),Jet=NYe({matrix:sn,multiply:xs,sylvester:jae,transpose:uE,typed:ke}),Ob={},dE={},qae={},gc=E5e({mathWithTransform:dE}),Pb=K5e({Node:gc}),Fp=iLe({Node:gc}),X0=oLe({Node:gc}),Wae=lLe({Node:gc}),Lb=uLe({Node:gc}),$ae=fLe({Node:gc,ResultSet:lae}),Kae=ALe({Node:gc}),Bm=gLe({Node:gc}),Xae=vLe({Node:gc}),Zet=bLe({classes:qae}),V8=SLe({math:Ob,typed:ke}),Yae=ELe({Node:gc,typed:ke}),ett=MLe({Chain:V8,typed:ke}),Ub=BLe({Node:gc,size:kl}),kb=ILe({Node:gc,subset:hh}),Jae=OLe({matrix:sn,Node:gc,subset:hh}),Nm=ULe({Unit:br,Node:gc,math:Ob}),Im=HLe({Node:gc,SymbolNode:Nm,math:Ob}),dd=QLe({AccessorNode:kb,ArrayNode:Lb,AssignmentNode:Jae,BlockNode:$ae,ConditionalNode:Kae,ConstantNode:Bm,FunctionAssignmentNode:Yae,FunctionNode:Im,IndexNode:Ub,ObjectNode:Pb,OperatorNode:Fp,ParenthesisNode:X0,RangeNode:Xae,RelationalNode:Wae,SymbolNode:Nm,config:It,numeric:tf,typed:ke}),Zae=jLe({ConstantNode:Bm,FunctionNode:Im,OperatorNode:Fp,ParenthesisNode:X0,parse:dd,typed:ke}),Q8=XLe({bignumber:ef,fraction:cE,AccessorNode:kb,ArrayNode:Lb,ConstantNode:Bm,FunctionNode:Im,IndexNode:Ub,ObjectNode:Pb,OperatorNode:Fp,SymbolNode:Nm,config:It,mathWithTransform:dE,matrix:sn,typed:ke}),ttt=JLe({parse:dd,typed:ke}),z8=e3e({AccessorNode:kb,ArrayNode:Lb,ConstantNode:Bm,FunctionNode:Im,IndexNode:Ub,ObjectNode:Pb,OperatorNode:Fp,ParenthesisNode:X0,SymbolNode:Nm,add:Si,divide:Vl,equal:nf,isZero:uA,multiply:xs,parse:dd,pow:fd,subtract:Aa,typed:ke}),cF=n3e({parse:dd,typed:ke}),ele=s3e({evaluate:cF}),tle=l3e({evaluate:cF,parse:dd}),uF=h3e({AccessorNode:kb,ArrayNode:Lb,ConstantNode:Bm,FunctionNode:Im,IndexNode:Ub,ObjectNode:Pb,OperatorNode:Fp,ParenthesisNode:X0,SymbolNode:Nm,equal:nf,parse:dd,replacer:uae,resolve:Zae,simplifyConstant:Q8,simplifyCore:z8,typed:ke}),ntt=d3e({OperatorNode:Fp,parse:dd,simplify:uF,typed:ke}),rtt=p3e({parse:dd,typed:ke}),itt=m3e({Parser:tle,typed:ke}),stt=y3e({bignumber:ef,fraction:cE,AccessorNode:kb,ArrayNode:Lb,ConstantNode:Bm,FunctionNode:Im,IndexNode:Ub,ObjectNode:Pb,OperatorNode:Fp,ParenthesisNode:X0,SymbolNode:Nm,add:Si,config:It,divide:Vl,equal:nf,isZero:uA,mathWithTransform:dE,matrix:sn,multiply:xs,parse:dd,pow:fd,simplify:uF,simplifyConstant:Q8,simplifyCore:z8,subtract:Aa,typed:ke}),ott=b3e({ConstantNode:Bm,FunctionNode:Im,OperatorNode:Fp,ParenthesisNode:X0,SymbolNode:Nm,config:It,equal:nf,isZero:uA,numeric:tf,parse:dd,simplify:uF,typed:ke}),att=XHe({Help:ele,mathWithTransform:dE,typed:ke});Ka(Ob,{e:oae,false:IYe,fineStructure:FYe,i:aae,Infinity:RYe,LN10:OYe,LOG10E:PYe,NaN:LYe,null:UYe,phi:kYe,SQRT1_2:VYe,sackurTetrode:QYe,tau:cae,true:zYe,E:oae,version:GYe,efimovFactor:jYe,LN2:qYe,pi:b8,replacer:uae,reviver:Zet,SQRT2:WYe,typed:ke,PI:b8,weakMixingAngle:$Ye,abs:Xc,acos:KYe,acot:XYe,acsc:YYe,addScalar:Za,arg:JYe,asech:ZYe,asinh:eJe,atan:hae,atanh:tJe,bigint:nJe,bitNot:rJe,boolean:iJe,clone:sJe,combinations:nF,complex:rF,conj:G0,cos:w8,cot:oJe,csc:aJe,cube:lJe,equalScalar:oi,erf:cJe,exp:fae,expm1:uJe,filter:hJe,flatten:aE,forEach:fJe,format:Nb,getMatrixDataType:C8,hex:dJe,im:S8,isInteger:Tu,isNegative:Mm,isPositive:j0,isZero:uA,LOG2E:AJe,lgamma:pJe,log10:gJe,log2:dae,map:q0,multiplyScalar:Ko,not:iF,number:Ip,oct:mJe,pickRandom:vJe,print:yJe,random:_Je,re:x8,sec:bJe,sign:Aae,sin:sF,splitUnit:wJe,square:CJe,string:SJe,subtractScalar:Zh,tan:xJe,typeOf:E8,acosh:EJe,acsch:DJe,apply:D8,asec:MJe,bignumber:ef,chain:ett,combinationsWithRep:TJe,cosh:BJe,csch:NJe,isNaN:lE,isPrime:IJe,randomInt:FJe,sech:RJe,sinh:OJe,sparse:PJe,sqrt:hd,squeeze:LJe,tanh:UJe,unaryMinus:hA,acoth:kJe,bin:HJe,coth:VJe,fraction:cE,isNumeric:W0,matrix:sn,matrixFromFunction:QJe,mode:zJe,numeric:tf,prod:pae,reshape:gae,size:kl,transpose:uE,xgcd:mae,zeros:Hl,asin:GJe,cbrt:vae,concat:Ii,count:jJe,ctranspose:M8,diag:yae,divideScalar:To,dotDivide:hE,equal:nf,hasNumericValue:qJe,identity:Tm,kron:WJe,largerEq:oF,leftShift:$Je,lsolve:_ae,matrixFromColumns:T8,nthRoot:KJe,ones:XJe,qr:B8,resize:YJe,rightArithShift:JJe,round:Ib,smaller:Yc,subtract:Aa,to:ZJe,unaryPlus:N8,usolve:I8,xor:eZe,add:Si,atan2:tZe,bitAnd:nZe,bitOr:rZe,bitXor:iZe,catalan:sZe,compare:$0,compareText:bae,cumsum:oZe,deepEqual:F8,diff:aZe,distance:lZe,dot:aF,equalText:cZe,floor:wae,gcd:uZe,hypot:hZe,larger:Jc,log:R8,lsolveAll:fZe,matrixFromRows:dZe,min:AZe,mod:Sae,multiply:xs,nthRoots:pZe,or:gZe,partitionSelect:lF,rightLogShift:mZe,slu:xae,subset:hh,sum:O8,trace:vZe,usolveAll:Eae,zpk2tf:yZe,ceil:P8,compareNatural:fA,composition:_Ze,cross:bZe,det:Dae,dotMultiply:wZe,fix:Tae,index:Bae,intersect:CZe,invmod:SZe,lcm:xZe,log1p:EZe,max:L8,setCartesian:DZe,setDistinct:MZe,setIsSubset:TZe,setPowerset:BZe,smallerEq:Fb,sort:NZe,unequal:IZe,and:FZe,range:Rb,row:RZe,setDifference:Nae,setMultiplicity:OZe,setSymDifference:Iae,column:Rae,inv:K0,lup:Oae,pinv:PZe,pow:fd,setIntersect:Pae,setUnion:LZe,sqrtm:UZe,vacuumImpedance:kZe,wienDisplacement:HZe,atomicMass:VZe,bohrMagneton:QZe,boltzmann:zZe,conductanceQuantum:GZe,coulomb:jZe,deuteronMass:qZe,dotPow:WZe,electricConstant:$Ze,elementaryCharge:KZe,expm:XZe,faraday:YZe,fft:Lae,gamma:U8,gravitationConstant:JZe,hartreeEnergy:ZZe,ifft:eet,klitzing:tet,loschmidt:net,magneticConstant:ret,molarMass:iet,molarPlanckConstant:set,neutronMass:oet,nuclearMagneton:aet,planckCharge:cet,planckLength:uet,planckTemperature:het,protonMass:fet,quantumOfCirculation:det,reducedPlanckConstant:Aet,rydberg:pet,secondRadiation:get,speedOfLight:met,stefanBoltzmann:vet,thomsonCrossSection:yet,avogadro:_et,bohrRadius:bet,createUnit:wet,divide:Vl,electronMass:Cet,factorial:fE,firstRadiation:xet,gravity:Eet,inverseConductanceQuantum:Det,lusolve:Uae,magneticFluxQuantum:Met,molarMassC12:Tet,multinomial:Bet,parse:dd,permutations:Net,planckMass:Iet,polynomialRoot:Fet,resolve:Zae,setSize:Ret,simplifyConstant:Q8,solveODE:Oet,stirlingS2:kae,unit:Pet,bellNumbers:Let,compile:ttt,eigs:Hae,fermiCoupling:Uet,gasConstant:ket,kldivergence:Het,mean:Vae,molarVolume:Vet,planckConstant:Qet,quantileSeq:zet,simplifyCore:z8,variance:k8,classicalElectronRadius:Get,evaluate:cF,median:Qae,simplify:uF,symbolicEqual:ntt,corr:jet,freqz:qet,leafCount:rtt,mad:Wet,parser:itt,rationalize:stt,std:$et,zeta:Ket,derivative:ott,norm:H8,rotationMatrix:zae,help:att,planckTime:Xet,schur:Gae,rotate:Yet,sylvester:jae,lyap:Jet,config:It}),Ka(dE,Ob,{filter:s8e({typed:ke}),forEach:u8e({typed:ke}),map:A8e({typed:ke}),apply:y8e({isInteger:Tu,typed:ke}),or:U8e({DenseMatrix:qr,concat:Ii,equalScalar:oi,matrix:sn,typed:ke}),and:$8e({add:Si,concat:Ii,equalScalar:oi,matrix:sn,not:iF,typed:ke,zeros:Hl}),concat:J8e({isInteger:Tu,matrix:sn,typed:ke}),max:i6e({config:It,larger:Jc,numeric:tf,typed:ke}),print:a6e({add:Si,matrix:sn,typed:ke,zeros:Hl}),bitAnd:m6e({add:Si,concat:Ii,equalScalar:oi,matrix:sn,not:iF,typed:ke,zeros:Hl}),diff:_6e({bignumber:ef,matrix:sn,number:Ip,subtract:Aa,typed:ke}),min:S6e({config:It,numeric:tf,smaller:Yc,typed:ke}),subset:N6e({add:Si,matrix:sn,typed:ke,zeros:Hl}),bitOr:V6e({DenseMatrix:qr,concat:Ii,equalScalar:oi,matrix:sn,typed:ke}),cumsum:G6e({add:Si,typed:ke,unaryPlus:N8}),index:W6e({Index:pc,getMatrixDataType:C8}),sum:X6e({add:Si,config:It,numeric:tf,typed:ke}),range:eVe({bignumber:ef,matrix:sn,add:Si,config:It,isPositive:j0,larger:Jc,largerEq:oF,smaller:Yc,smallerEq:Fb,typed:ke}),row:iVe({Index:pc,matrix:sn,range:Rb,typed:ke}),column:lVe({Index:pc,matrix:sn,range:Rb,typed:ke}),mean:fVe({add:Si,divide:Vl,typed:ke}),quantileSeq:gVe({add:Si,bignumber:ef,compare:$0,divide:Vl,isInteger:Tu,larger:Jc,multiply:xs,partitionSelect:lF,smaller:Yc,smallerEq:Fb,subtract:Aa,typed:ke}),variance:yVe({add:Si,apply:D8,divide:Vl,isNaN:lE,multiply:xs,subtract:Aa,typed:ke}),std:CVe({map:q0,sqrt:hd,typed:ke,variance:k8})}),Ka(qae,{BigNumber:cn,Complex:ks,Fraction:z0,Matrix:tF,Node:gc,ObjectNode:Pb,OperatorNode:Fp,ParenthesisNode:X0,Range:HYe,RelationalNode:Wae,ResultSet:lae,ArrayNode:Lb,BlockNode:$ae,ConditionalNode:Kae,ConstantNode:Bm,DenseMatrix:qr,RangeNode:Xae,Chain:V8,FunctionAssignmentNode:Yae,SparseMatrix:el,IndexNode:Ub,ImmutableDenseMatrix:Cae,Index:pc,AccessorNode:kb,AssignmentNode:Jae,FibonacciHeap:Mae,Spa:Fae,Unit:br,SymbolNode:Nm,FunctionNode:Im,Help:ele,Parser:tle}),V8.createProxy(Ob);const ltt=(n,e)=>({"bg-green-100":n,"bg-red-100":e});function ctt(n,e){if(1&n&&(fe(0,"div",18)(1,"strong"),Te(2,"Result:"),he(),Te(3),he()),2&n){const t=en();qe("ngClass",dS(2,ltt,!t.error,t.error)),Be(3),zi(" ",t.result," ")}}function utt(n,e){if(1&n&&(fe(0,"span",21),Te(1),he()),2&n){const t=en().$implicit;Be(),zi(" (with ",t.variables,") ")}}function htt(n,e){if(1&n){const t=ws();fe(0,"button",19),qt("click",function(){const i=On(t).$implicit;return Un(en().tryExample(i))}),Te(1),dn(2,utt,2,1,"span",20),he()}if(2&n){const t=e.$implicit;Be(),zi(" ",t.expression," "),Be(),qe("ngIf",t.variables)}}let ftt=(()=>{class n{constructor(){this.expression="(x + y)",this.variables='{"x": 3, "y": 4}',this.result=null,this.error=!1,this.examples=[{expression:"2 * sin(45 deg) + sqrt(16)",variables:""},{expression:"x^2 + y^2",variables:'{"x": 3, "y": 4}'},{expression:'derivative("x^2 + 2x", "x")',variables:""},{expression:"log(10) + ln(e)",variables:""},{expression:"round(2.7) + ceil(3.2)",variables:""}]}evaluate(){try{let t={};if(this.variables)try{t=JSON.parse(this.variables)}catch{throw new Error("Invalid variables format. Use valid JSON.")}const r=cF(this.expression,t);this.result="number"==typeof r?Nb(r,{precision:14}):r.toString(),this.error=!1}catch(t){this.result=`Error: ${t.message}`,this.error=!0}}clear(){this.expression="",this.variables="",this.result=null,this.error=!1}tryExample(t){this.expression=t.expression,this.variables=t.variables,this.evaluate()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-math-parsing"]],decls:29,vars:4,consts:[["align","center"],[1,"container","mx-auto","p-6"],[1,"max-w-2xl","mx-auto","bg-white","p-6","rounded-lg","shadow"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","mb-2"],["placeholder","e.g., 2 * sin(45 deg)",1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],["placeholder",'e.g., {"x": 10, "y": 5}',"value",'{"x": 10, "y": 5}',1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],[1,"flex","gap-2","mb-4",2,"color","blueviolet"],[1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600",2,"background-color","#cccccc",3,"click"],[1,"px-4","py-2","bg-gray-500","text-white","rounded","hover:bg-gray-600",2,"background-color","#cccccc",3,"click"],["class","p-4 rounded",3,"ngClass",4,"ngIf"],[1,"mt-6"],[1,"font-bold","mb-2"],[1,"grid","gap-2"],["class","text-left p-2 hover:bg-gray-100 rounded",3,"click",4,"ngFor","ngForOf"],["align","right"],["routerLink","/StableReleases"],[1,"p-4","rounded",3,"ngClass"],[1,"text-left","p-2","hover:bg-gray-100","rounded",3,"click"],["class","text-sm text-gray-500",4,"ngIf"],[1,"text-sm","text-gray-500"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),Te(4,"Math Expression Parser"),he(),ft(5,"hr"),fe(6,"div",4)(7,"label",5),Te(8,"Enter Expression:"),he(),fe(9,"input",6),Hf("ngModelChange",function(o){return zd(i.expression,o)||(i.expression=o),o}),qt("keyup.enter",function(){return i.evaluate()}),he()(),fe(10,"div",4)(11,"label",5),Te(12,"Variables (JSON format):"),he(),fe(13,"input",7),Hf("ngModelChange",function(o){return zd(i.variables,o)||(i.variables=o),o}),qt("keyup.enter",function(){return i.evaluate()}),he()(),fe(14,"div",8)(15,"button",9),qt("click",function(){return i.evaluate()}),Te(16," Calculate "),he(),fe(17,"button",10),qt("click",function(){return i.clear()}),Te(18," Clear "),he()(),dn(19,ctt,4,5,"div",11),fe(20,"div",12)(21,"h3",13),Te(22,"Example Expressions:"),he(),fe(23,"div",14),dn(24,htt,3,2,"button",15),he()()()(),ft(25,"hr"),fe(26,"div",16)(27,"a",17),Te(28,"[Volver al Menu]"),he()()()),2&r&&(Be(9),kf("ngModel",i.expression),Be(4),kf("ngModel",i.variables),Be(6),qe("ngIf",null!==i.result),Be(5),qe("ngForOf",i.examples))},dependencies:[ds,mL,Il,tc,ZA,qv,Kv]})}}return n})();class dA{constructor(e,t,r){this._index=e,this._value=t,this._selected=r}}let Hb=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}set _baseUrlNetCore(t){this.__baseUrlNetCore=t}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}set _baseUrlNodeJs(t){this.__baseUrlNodeJs=t}get _baseUrlSpringBoot(){return this.__baseUrlSpringBoot}set _baseUrlSpringBoot(t){this.__baseUrlSpringBoot=t}get _baseUrlDjango(){return this.__baseUrlDjango}set _baseUrlDjango(t){this.__baseUrlDjango=t}ngOnInit(){console.log("Calling MCSDService initialization..."),this._baseUrlNetCore=this._configService.getConfigValue("baseUrlNetCore"),this._baseUrlNodeJs=this._configService.getConfigValue("baseUrlNodeJs"),this._baseUrlSpringBoot=this._configService.getConfigValue("baseUrlSpringBoot"),this._baseUrlDjango=this._configService.getConfigValue("baseUrlDjango")}constructor(t,r){this.http=t,this._configService=r,this.HTTPOptions_Text={headers:new xo({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new xo({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",this.__baseUrlSpringBoot="",this.__baseUrlDjango="",console.log("Calling MCSDService constructor..."),this._baseUrlNetCore=this._configService.getConfigValue("baseUrlNetCore"),this._baseUrlNodeJs=this._configService.getConfigValue("baseUrlNodeJs"),this._baseUrlSpringBoot=this._configService.getConfigValue("baseUrlSpringBoot"),this._baseUrlDjango=this._configService.getConfigValue("baseUrlDjango")}_GetWebApiAppVersion(){return this.http.get(`${this._baseUrlNetCore}demos/_GetAppVersion`,this.HTTPOptions_Text)}getCSVLinkGET(){return this.http.get(this._baseUrlNetCore+"demos/_GetCSVLinkJsonGET")}getCSVLink(){return this.http.post(this._baseUrlNetCore+"demos/_GetCSVLinkJson",this.HTTPOptions_Text)}getInformeRemotoCSV(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJson",this.HTTPOptions_Text)}getInformeRemotoCSV_STAT(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJsonSTAT",this.HTTPOptions_Text)}_SetSTATPieCache(t){let r=`${t}demos/_SetSTATPieCache`;console.log("Setting STAT Pie data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetSTATPieCache - (return): "+o)},error:o=>{console.error("_SetSTATPieCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetSTATPieCache -  (COMPLETE)")}})}getInformeRemotoCSV_NodeJS(){let t=`${this._baseUrlNodeJs}GenerarInformeCSVJson`;console.warn(" REQUESTING URL : "+t);var r={headers:new xo({Accept:"application/text"}),responseType:"text"};return this.http.get(t,r)}getLogRemoto(t){return this.http.get(`${this._baseUrlNetCore}demos/generarinformejson`)}getLogRemotoNodeJS(t){let r=`${this._baseUrlNetCore}demos/generarinformejson`,i=this.http.get(r,this.HTTPOptions_JSON);return console.log("getLogRemotoNodeJS : "+r),i}getInformeExcel(t){return this.http.get(this._baseUrlNetCore+"demos/generarinformexls",this.HTTPOptions_Text)}getLogStatPOST(){return this.http.post(`${this._baseUrlNetCore}demos/GetConsultaLogStatPost`,this.HTTPOptions_JSON)}getLogStatGET(){return this.http.get(`${this._baseUrlNetCore}demos/GetConsultaLogStatGet`)}_SetSTATBarCache(t){let r=`${t}demos/_SetSTATBarCache`;console.log("Setting STAT Bar data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetSTATBarCache - (return): "+o)},error:o=>{console.error("_SetSTATBarCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetSTATBarCache -  (COMPLETE)")}})}upload(t){const r=new FormData;r.append("file",t);let i=`${this._baseUrlNetCore}demos/_ZipDemoGetFileName`;console.log("[GENERATE ZIP FILE] - (UPLOADING FILE) url: "+i);const s=new XA("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}SetZip(t){let r=`${this._baseUrlNetCore}demos/_SetZip?p_fileName=${t}`;return console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - fileName: "+t),console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - url     : "+r),this.http.get(r,this.HTTPOptions_JSON)}GetPDF(t){let r=`${this._baseUrlNetCore}demos/_GetPdf?subjectName=${t}`;console.log("[GENERATE PDF FILE] - [GETTING ZIP] - subjectName  : "+t),console.log("[GENERATE PDF FILE] - [GETTING ZIP] - url          : "+r);const i=new XA("GET",r,{reportProgress:!0,responseType:"text"});return this.http.request(i)}getRandomVertex(t,r){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex?p_vertexSize=${t}&p_sourcePoint=${r}`,this.HTTPOptions_Text)}getRandomVertexCpp(t,r){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex_CPP?p_vertexSize=${t}&p_sourcePoint=${r}`,this.HTTPOptions_Text)}getNewSort(){return this.http.get(`${this._baseUrlNetCore}demos/_NewSort`,this.HTTPOptions_Text)}getSort(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort?p_sortAlgoritm=${t}&p_unsortedList=${r}`,this.HTTPOptions_Text)}getSort_CPP(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort_CPP?p_sortAlgoritm=${t}&p_unsortedList=${r}`,this.HTTPOptions_Text)}_GetXmlData(){return this.http.get(`${this._baseUrlNetCore}demos/_GetXmlData`,this.HTTPOptions_Text)}_SetXmlDataToCache(t){let r=`${t}demos/_SetXmlDataToCache`;console.log("Setting XML data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetXmlDataToCache - (return): "+o)},error:o=>{console.error("_SetXmlDataToCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetXmlDataToCache -  (COMPLETE)")}})}_RegExEval(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval?p_tagSearch=${t}&p_textSearch=${r}`,this.HTTPOptions_Text)}_RegExEval_CPP(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval_CPP?p_tagSearch=${t}&p_textSearch=${r}`,this.HTTPOptions_Text)}SetLog(t,r,i=hU.Info){let s,o=`${this._baseUrlNetCore}demos/_SetLog?p_logMsg=${r}&logType=${i.toString()}`;s=this.http.get(o,this.HTTPOptions_Text),s.subscribe({next:l=>{console.warn(t+" - [LOG] - [RESULT] : "+l)},error:l=>{console.error(t+" - [LOG] - [ERROR]  : "+l)},complete:()=>{console.info(t+" - [LOG] - [COMPLETE]")}})}_GetSudoku_NodeJS(){return this.http.get(`${this._baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_GetSudoku(){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_SolveSudoku(t){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const r=new FormData;r.append("file",t);let i=`${this._baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+i);const s=new XA("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}uploadBase64Image(t){let r=this._configService.getConfigValue("baseUrlNodeJsOcr");return this.http.post(r,{base64Image:t})}_TestNodeJs(){let t=this._configService.getConfigValue("baseUrlNodeJs")+"databaseconnect",r=this.http.get(t,this.HTTPOptions_JSON);return console.log("Testing Url : ["+t+"]"),r}_TestSprinbBoot(){let t=this._configService.getConfigValue("baseUrlSpringBoot")+"hello",r=this.http.get(t,this.HTTPOptions_Text);return console.log("Testing Url : ["+t+"]"),r}_TestDjango(){let t=this._configService.getConfigValue("baseUrlDjango"),r=this.http.get(t,this.HTTPOptions_Text);return console.log("Testing Url : ["+t+"]"),r}static{this.\u0275fac=function(r){return new(r||n)(Ut(zv),Ut(qg))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class hF{constructor(e,t,r){this.x=e,this.y=t,this.time=r||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class G8{constructor(e,t,r,i,s,o){this.startPoint=e,this.control2=t,this.control1=r,this.endPoint=i,this.startWidth=s,this.endWidth=o}static fromPoints(e,t){const r=this.calculateControlPoints(e[0],e[1],e[2]).c2,i=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new G8(e[1],r,i,e[2],t.start,t.end)}static calculateControlPoints(e,t,r){const i=e.x-t.x,s=e.y-t.y,o=t.x-r.x,a=t.y-r.y,l_x=(e.x+t.x)/2,l_y=(e.y+t.y)/2,c_x=(t.x+r.x)/2,c_y=(t.y+r.y)/2,u=Math.sqrt(i*i+s*s),h=Math.sqrt(o*o+a*a),A=h/(u+h),m=t.x-(c_x+(l_x-c_x)*A),g=t.y-(c_y+(l_y-c_y)*A);return{c1:new hF(l_x+m,l_y+g),c2:new hF(c_x+m,c_y+g)}}length(){let r,i,t=0;for(let s=0;s<=10;s+=1){const o=s/10,a=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){const c=a-r,u=l-i;t+=Math.sqrt(c*c+u*u)}r=a,i=l}return t}point(e,t,r,i,s){return t*(1-e)*(1-e)*(1-e)+3*r*(1-e)*(1-e)*e+3*i*(1-e)*e*e+s*e*e*e}}class fF{constructor(e,t={}){this.canvas=e,this.options=t,this._handleMouseDown=r=>{1===r.which&&(this._mouseButtonDown=!0,this._strokeBegin(r))},this._handleMouseMove=r=>{this._mouseButtonDown&&this._strokeMoveUpdate(r)},this._handleMouseUp=r=>{1===r.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(r))},this._handleTouchStart=r=>{r.preventDefault(),1===r.targetTouches.length&&this._strokeBegin(r.changedTouches[0])},this._handleTouchMove=r=>{r.preventDefault(),this._strokeMoveUpdate(r.targetTouches[0])},this._handleTouchEnd=r=>{r.target===this.canvas&&(r.preventDefault(),this._strokeEnd(r.changedTouches[0]))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this._strokeMoveUpdate=this.throttle?function Att(n,e=250){let i,s,o,t=0,r=null;const a=()=>{t=Date.now(),r=null,i=n.apply(s,o),r||(s=null,o=[])};return function(...l){const c=Date.now(),u=e-(c-t);return s=this,o=l,u<=0||u>e?(r&&(clearTimeout(r),r=null),t=c,i=n.apply(s,o),r||(s=null,o=[])):r||(r=window.setTimeout(a,u)),i}}(fF.prototype._strokeUpdate,this.throttle):fF.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const e=this._ctx,t=this.canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,t={},r){const i=new Image,s=t.ratio||window.devicePixelRatio||1,o=t.width||this.canvas.width/s,a=t.height||this.canvas.height/s;this._reset(),i.onload=()=>{this._ctx.drawImage(i,0,0,o,a),r&&r()},i.onerror=l=>{r&&r(l)},i.src=e,this._isEmpty=!1}toDataURL(e="image/png",t){return"image/svg+xml"===e?this._toSVG():this.canvas.toDataURL(e,t)}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e){this.clear(),this._fromData(e,({color:t,curve:r})=>this._drawCurve({color:t,curve:r}),({color:t,point:r})=>this._drawDot({color:t,point:r})),this._data=e}toData(){return this._data}_strokeBegin(e){this._data.push({color:this.penColor,points:[]}),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)}_strokeUpdate(e){const i=this._createPoint(e.clientX,e.clientY),s=this._data[this._data.length-1],o=s.points,a=o.length>0&&o[o.length-1],l=!!a&&i.distanceTo(a)<=this.minDistance,c=s.color;if(!a||!a||!l){const u=this._addPoint(i);a?u&&this._drawCurve({color:c,curve:u}):this._drawDot({color:c,point:i}),o.push({time:i.time,x:i.x,y:i.y})}}_strokeEnd(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,t){const r=this.canvas.getBoundingClientRect();return new hF(e-r.left,t-r.top,(new Date).getTime())}_addPoint(e){const{_lastPoints:t}=this;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);const r=this._calculateCurveWidths(t[1],t[2]),i=G8.fromPoints(t,r);return t.shift(),i}return null}_calculateCurveWidths(e,t){const r=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(r),s={end:i,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=i,s}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,t,r){const i=this._ctx;i.moveTo(e,t),i.arc(e,t,r,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:e,curve:t}){const r=this._ctx,i=t.endWidth-t.startWidth,s=2*Math.floor(t.length());r.beginPath(),r.fillStyle=e;for(let o=0;o<s;o+=1){const a=o/s,l=a*a,c=l*a,u=1-a,h=u*u,d=h*u;let f=d*t.startPoint.x;f+=3*h*a*t.control1.x,f+=3*u*l*t.control2.x,f+=c*t.endPoint.x;let A=d*t.startPoint.y;A+=3*h*a*t.control1.y,A+=3*u*l*t.control2.y,A+=c*t.endPoint.y,this._drawCurveSegment(f,A,t.startWidth+c*i)}r.closePath(),r.fill()}_drawDot({color:e,point:t}){const r=this._ctx,i="function"==typeof this.dotSize?this.dotSize():this.dotSize;r.beginPath(),this._drawCurveSegment(t.x,t.y,i),r.closePath(),r.fillStyle=e,r.fill()}_fromData(e,t,r){for(const i of e){const{color:s,points:o}=i;if(o.length>1)for(let a=0;a<o.length;a+=1){const l=o[a],c=new hF(l.x,l.y,l.time);this.penColor=s,0===a&&this._reset();const u=this._addPoint(c);u&&t({color:s,curve:u})}else this._reset(),r({color:s,point:o[0]})}}_toSVG(){const e=this._data,t=Math.max(window.devicePixelRatio||1,1),s=this.canvas.width/t,o=this.canvas.height/t,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",this.canvas.width.toString()),a.setAttribute("height",this.canvas.height.toString()),this._fromData(e,({color:f,curve:A})=>{const p=document.createElement("path");if(!(isNaN(A.control1.x)||isNaN(A.control1.y)||isNaN(A.control2.x)||isNaN(A.control2.y))){const m=`M ${A.startPoint.x.toFixed(3)},${A.startPoint.y.toFixed(3)} C ${A.control1.x.toFixed(3)},${A.control1.y.toFixed(3)} ${A.control2.x.toFixed(3)},${A.control2.y.toFixed(3)} ${A.endPoint.x.toFixed(3)},${A.endPoint.y.toFixed(3)}`;p.setAttribute("d",m),p.setAttribute("stroke-width",(2.25*A.endWidth).toFixed(3)),p.setAttribute("stroke",f),p.setAttribute("fill","none"),p.setAttribute("stroke-linecap","round"),a.appendChild(p)}},({color:f,point:A})=>{const p=document.createElement("circle"),m="function"==typeof this.dotSize?this.dotSize():this.dotSize;p.setAttribute("r",m.toString()),p.setAttribute("cx",A.x.toString()),p.setAttribute("cy",A.y.toString()),p.setAttribute("fill",f),a.appendChild(p)});const c=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${s} ${o}" width="${s}" height="${o}">`;let u=a.innerHTML;if(void 0===u){const f=document.createElement("dummy"),A=a.childNodes;f.innerHTML="";for(let p=0;p<A.length;p+=1)f.appendChild(A[p].cloneNode(!0));u=f.innerHTML}return"data:image/svg+xml;base64,"+btoa(c+u+"</svg>")}}const nle=fF;class j8{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ptt extends j8{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class rle extends j8{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class gtt extends j8{constructor(e){super(),this.element=e instanceof N?e.nativeElement:e}}class mtt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ptt?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof rle?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof gtt?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class vtt extends mtt{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ro.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ytt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();function ile(n){return Array.isArray(n)?n:[n]}function Ba(n){return null==n?"":"string"==typeof n?n:`${n}px`}const wtt=["addListener","removeListener"],Ctt=["addEventListener","removeEventListener"],Stt=["on","off"];function ml(n,e,t,r){if(fn(t)&&(r=t,t=void 0),r)return ml(n,e,t).pipe(qL(r));const[i,s]=function Dtt(n){return fn(n.addEventListener)&&fn(n.removeEventListener)}(n)?Ctt.map(o=>a=>n[o](e,a,t)):function xtt(n){return fn(n.addListener)&&fn(n.removeListener)}(n)?wtt.map(sle(n,e)):function Ett(n){return fn(n.on)&&fn(n.off)}(n)?Stt.map(sle(n,e)):[];if(!i&&NL(n))return ja(o=>ml(o,e,t))(Ga(n));if(!i)throw new TypeError("Invalid event target");return new di(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function sle(n,e){return t=>r=>n[t](e,r)}const AE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=AE;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new mi(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=AE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=AE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Ttt extends oH{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Mtt extends sH{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=AE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(AE.cancelAnimationFrame(t),e._scheduled=void 0)}});let q8,Ntt=1;const dF={};function ole(n){return n in dF&&(delete dF[n],!0)}const Itt={setImmediate(n){const e=Ntt++;return dF[e]=!0,q8||(q8=Promise.resolve()),q8.then(()=>ole(e)&&n()),e},clearImmediate(n){ole(n)}},{setImmediate:Ftt,clearImmediate:Rtt}=Itt,AF={setImmediate(...n){const{delegate:e}=AF;return(e?.setImmediate||Ftt)(...n)},clearImmediate(n){const{delegate:e}=AF;return(e?.clearImmediate||Rtt)(n)},delegate:void 0};new class Ptt extends oH{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Ott extends sH{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=AF.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(AF.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function ale(n,e=ob){return function Utt(n){return ki((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(Hi(t,c=>{r=!0,i=c,s||Ga(n(c)).subscribe(s=Hi(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>VN(n,e))}let W8;try{W8=typeof Intl<"u"&&Intl.v8BreakIterator}catch{W8=!1}let Y0,pE=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?GM(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!W8)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)(Ut(Rh))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Htt(){if(null==Y0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Y0=!1,Y0;if("scrollBehavior"in document.documentElement.style)Y0=!0;else{const n=Element.prototype.scrollTo;Y0=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Y0}function cle(n){return n.composedPath?n.composedPath()[0]:n.target}function ule(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Qtt=new yn("cdk-dir-doc",{providedIn:"root",factory:function ztt(){return Ve(Xi)}}),Gtt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let qtt=(()=>{class n{constructor(t){this.value="ltr",this.change=new ie,t&&(this.value=function jtt(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Gtt.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)(Ut(Qtt,8))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),K8=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),$tt=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ur,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new di(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(ale(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):kn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Bi(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function btt(n){return n instanceof N?n.nativeElement:n}(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ml(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Cr),Ut(pE),Ut(Xi,8))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hle=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ur,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ale(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||n)(Ut(pE),Ut(Cr),Ut(Xi,8))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fle=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),dle=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({imports:[K8,fle,K8,fle]})}}return n})();function X8(...n){const e=xS(n),t=function x_e(n,e){return"number"==typeof xL(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Ga(r[0]):V_(t)(Po(r,e)):Sl}const Ale=Htt();class Xtt{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ba(-this._previousScrollPosition.left),e.style.top=Ba(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Ale&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ale&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Ytt{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Bi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ple{enable(){}disable(){}attach(){}}function Y8(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function gle(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Jtt{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Y8(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ztt=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new ple,this.close=o=>new Ytt(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Xtt(this._viewportRuler,this._document),this.reposition=o=>new Jtt(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(r){return new(r||n)(Ut($tt),Ut(hle),Ut(Cr),Ut(Xi))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class ent{constructor(e){if(this.scrollStrategy=new ple,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class tnt{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let mle=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(r){return new(r||n)(Ut(Xi))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nnt=(()=>{class n extends mle{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Xi),Ut(Cr,8))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rnt=(()=>{class n extends mle{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=cle(s)},this._clickListener=s=>{const o=cle(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Xi),Ut(pE),Ut(Cr,8))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vle=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ule()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),ule()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||n)(Ut(Xi),Ut(pE))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class int{constructor(e,t,r,i,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Ur,this._attachments=new Ur,this._detachments=new Ur,this._locationChanges=mi.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new Ur,this._outsidePointerEvents=new Ur,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Co(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ba(this._config.width),e.height=Ba(this._config.height),e.minWidth=Ba(this._config.minWidth),e.minHeight=Ba(this._config.minHeight),e.maxWidth=Ba(this._config.maxWidth),e.maxHeight=Ba(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=ile(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ul(X8(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yle="cdk-overlay-connected-position-bounding-box",snt=/([A-Za-z%]+)$/;class ont{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ur,this._resizeSubscription=mi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(yle),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&J0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yle),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=ble(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let d=0-a,f=a+s.height-r.height,A=this._subtractOverflows(s.width,0-o,o+s.width-r.width),p=this._subtractOverflows(s.height,d,f),m=A*p;return{visibleArea:m,isCompletelyWithinViewport:s.width*s.height===m,fitsInViewportVertically:p===s.height,fitsInViewportHorizontally:A==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=_le(this._overlayRef.getConfig().minHeight),a=_le(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=ble(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,h=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,h=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:h},{x:e.x+u,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function ant(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new tnt(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,h,d;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),A=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>A&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-A/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)d=r.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)h=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),A=this._lastBoundingBoxSize.width;u=2*f,h=e.x-f,u>A&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-A/2)}return{top:o,left:h,bottom:a,right:d,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Ba(r.height),i.top=Ba(r.top),i.bottom=Ba(r.bottom),i.width=Ba(r.width),i.left=Ba(r.left),i.right=Ba(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Ba(s)),o&&(i.maxWidth=Ba(o))}this._lastBoundingBoxSize=r,J0(this._boundingBox.style,i)}_resetBoundingBoxStyles(){J0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){J0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();J0(r,this._getExactOverlayY(t,e,u)),J0(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Ba(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Ba(o.maxWidth):s&&(r.maxWidth="")),J0(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Ba(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Ba(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:gle(e,r),isOriginOutsideView:Y8(e,r),isOverlayClipped:gle(t,r),isOverlayOutsideView:Y8(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ile(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof N)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function J0(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function _le(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(snt);return t&&"px"!==t?null:parseFloat(e)}return n||null}function ble(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const wle="cdk-global-overlay-wrapper";class lnt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(wle),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,h=this._xOffset,d="rtl"===this._overlayRef.getConfig().direction;let f="",A="",p="";l?p="flex-start":"center"===u?(p="center",d?A=h:f=h):d?"left"===u||"end"===u?(p="flex-end",f=h):("right"===u||"start"===u)&&(p="flex-start",A=h):"left"===u||"start"===u?(p="flex-start",f=h):("right"===u||"end"===u)&&(p="flex-end",A=h),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":A,t.justifyContent=p,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(wle),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let cnt=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new lnt}flexibleConnectedTo(t){return new ont(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||n)(Ut(hle),Ut(Xi),Ut(pE),Ut(vle))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),unt=0,gF=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,h,d,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=d,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new ent(t);return o.direction=o.direction||this._directionality.value,new int(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+unt++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Qf)),new vtt(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Ztt),Ut(vle),Ut(QC),Ut(cnt),Ut(nnt),Ut(Ro),Ut(Cr),Ut(Xi),Ut(qtt),Ut(N_),Ut(rnt),Ut(qO,8))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const hnt=new yn("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ve(gF);return()=>n.scrollStrategies.reposition()}}),dnt={provide:hnt,deps:[gF],useFactory:function fnt(n){return()=>n.scrollStrategies.reposition()}};let Ant=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({providers:[gF,dnt],imports:[K8,ytt,dle,dle]})}}return n})();const pnt=["fullScreenTpl"],gnt=["nspSmall"],mnt=["nspBig"],vnt=["*"],Cle=n=>({height:n});function ynt(n,e){if(1&n&&(fe(0,"div",3),ft(1,"div",4)(2,"canvas",null,2)(4,"div",5),uS(5),he()),2&n){const t=en();Be(),qe("ngStyle",Gd(2,Cle,t.sectionHeight+"px")),Be(3),qe("ngStyle",Gd(4,Cle,t.sectionHeight+"px"))}}let J8=(()=>{class n{renderer2;overlay;viewContainerRef;smallPad;bigPad;smallCanvas;bigCanvas;overlayRef;portal;signDataHistory=[];fullScreenWidth;fullScreenHeight;_isEmpty=!0;isFullScreen=!1;sectionHeight;get activePad(){return this.isFullScreen?this.bigPad:this.smallPad}options={};beginSign=new ie;endSign=new ie;fullScreenTpl;nspSmall;nspBig;fullScreen(){this.portal=new rle(this.fullScreenTpl,this.viewContainerRef),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block(),height:"100%",width:"100%"}),this.overlayRef.attach(this.portal),setTimeout(()=>{this.initBigPad();const{width:t,height:r}=this.options,i=this.bigCanvas.getContext("2d");i.save(),i.translate(this.fullScreenWidth,0),i.rotate(90*Math.PI/180),i.drawImage(this.smallCanvas,0,0,t,r,0,0,this.fullScreenHeight,this.fullScreenWidth),i.restore()},0),this.isFullScreen=!0}miniScreen(){this.smallPad.clear();const{width:t,height:r}=this.options,i=t/this.fullScreenHeight,s=r/this.fullScreenWidth,o=this.smallCanvas.getContext("2d");o.save(),o.translate(0,r),o.rotate(-90*Math.PI/180),o.drawImage(this.bigCanvas,0,0,this.fullScreenWidth,this.fullScreenHeight,0,0,this.fullScreenWidth*i,this.fullScreenHeight*s),o.restore(),this.overlayRef.dispose(),this.bigCanvas=null,this.bigPad=null,this.isFullScreen=!1}toData(){return this.activePad.toData()}fromData(t){this.activePad.fromData(t)}toDataURL(t){switch(t){case"image/jpeg":return this.activePad.toDataURL("image/jpeg");case"image/svg+xml":return this.activePad.toDataURL("image/svg+xml");default:return this.activePad.toDataURL()}}fromDataURL(t,r,i){this.activePad.fromDataURL(t,r,i)}revert(){this.signDataHistory.pop(),this.fromData(this.signDataHistory),0===this.signDataHistory.length&&this.setEmpty()}clear(){this.setEmpty(),this.signDataHistory=[],this.activePad.clear()}isEmpty(){return this._isEmpty}setDirty(){this._isEmpty=!1}setEmpty(){this._isEmpty=!0}getContext(){return this.isFullScreen?this.bigCanvas.getContext("2d"):this.smallCanvas.getContext("2d")}initBigPad(){this.bigCanvas=this.nspBig.nativeElement;const t=JSON.parse(JSON.stringify(this.options));this.fullScreenWidth=document.documentElement.clientWidth;const{width:r,height:i}=this.options;this.fullScreenHeight=this.fullScreenWidth*r/i;const o=document.documentElement.clientHeight-this.fullScreenHeight;this.sectionHeight=o/2,t.width=this.fullScreenWidth,t.height=this.fullScreenHeight;const{css:a}=t;this.bigCanvas.width=this.fullScreenWidth,this.bigCanvas.height=this.fullScreenHeight;for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&this.renderer2.setStyle(this.bigCanvas,l,a[l]);this.bigPad=new nle(this.bigCanvas,t),this.bigPad.onBegin=this._onBegin.bind(this),this.bigPad.onEnd=this._onEnd.bind(this)}initSmallPad(){this.smallCanvas=this.nspSmall.nativeElement;const{width:t,height:r,css:i}=this.options;this.options.width=t||300,this.options.height=r||150,this.smallCanvas.width=this.options.width,this.smallCanvas.height=this.options.height;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&this.renderer2.setStyle(this.smallCanvas,s,i[s]);this.smallPad=new nle(this.smallCanvas,this.options),this.smallPad.onBegin=this._onBegin.bind(this),this.smallPad.onEnd=this._onEnd.bind(this)}_onBegin(){this.setDirty(),this.beginSign.emit()}_onEnd(){this.signDataHistory=this.toData(),this.endSign.emit()}setPadAttribute(t,r){this.bigPad&&(this.bigPad[t]=r),this.smallPad[t]=r}constructor(t,r,i){this.renderer2=t,this.overlay=r,this.viewContainerRef=i}ngAfterViewInit(){this.initSmallPad()}ngOnChanges(t){if(t.options.firstChange)return;const{dotSize:r,minWidth:i,maxWidth:s,throttle:o,minDistance:a,backgroundColor:l,penColor:c,velocityFilterWeight:u,width:h,height:d,css:f}=t.options.currentValue;if(r&&this.setPadAttribute("dotSize",r),i&&this.setPadAttribute("minWidth",i),s&&this.setPadAttribute("maxWidth",s),o&&this.setPadAttribute("throttle",o),a&&this.setPadAttribute("minDistance",a),l&&this.setPadAttribute("backgroundColor",l),c&&this.setPadAttribute("penColor",c),u&&this.setPadAttribute("velocityFilterWeight",u),h||d){const{width:A,height:p}=t.options.previousValue,m=this.smallPad.toDataURL(),g=new Image;g.src=m,g.onload=()=>{this.initSmallPad(),this.smallCanvas.getContext("2d").drawImage(g,0,0,A,p,0,0,h,d)}}if(f){if(this.bigCanvas)for(const A in f)Object.prototype.hasOwnProperty.call(f,A)&&this.renderer2.setStyle(this.bigCanvas,A,f[A]);if(this.smallCanvas)for(const A in f)Object.prototype.hasOwnProperty.call(f,A)&&this.renderer2.setStyle(this.smallCanvas,A,f[A])}}static \u0275fac=function(r){return new(r||n)(pt(Ff),pt(gF),pt(fu))};static \u0275cmp=ar({type:n,selectors:[["ngx-signature-pad"]],viewQuery:function(r,i){if(1&r&&(Ki(pnt,5),Ki(gnt,5),Ki(mnt,5)),2&r){let s;lr(s=cr())&&(i.fullScreenTpl=s.first),lr(s=cr())&&(i.nspSmall=s.first),lr(s=cr())&&(i.nspBig=s.first)}},inputs:{options:"options"},outputs:{beginSign:"beginSign",endSign:"endSign"},features:[Io],ngContentSelectors:vnt,decls:4,vars:0,consts:[["nspSmall",""],["fullScreenTpl",""],["nspBig",""],[1,"nsp-container"],[1,"section","left",2,"width","100%",3,"ngStyle"],[1,"section","right",2,"width","100%",3,"ngStyle"]],template:function(r,i){1&r&&(cS(),ft(0,"canvas",null,0),dn(2,ynt,6,6,"ng-template",null,1,Vf))},dependencies:[QM],styles:[".nsp-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;left:0;top:0;width:100%;height:100vh;background:#fff}.nsp-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{flex:1}.nsp-container[_ngcontent-%COMP%]   .section.left[_ngcontent-%COMP%]{border-bottom:2px dashed #dedee5}.nsp-container[_ngcontent-%COMP%]   .section.right[_ngcontent-%COMP%]{border-top:2px dashed #dedee5}"]})}return n})(),_nt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Zr({type:n});static \u0275inj=Kr({imports:[Pg,Ant]})}return n})();const bnt=["signature"],wnt=["video"],Cnt=["canvas"],Snt=["_sourceList"],xnt=["_engineList"];function Ent(n,e){if(1&n&&ft(0,"img",28),2&n){const t=en();qe("src",t.capturedImage,mo)("hidden",t.capturedImageHidden)}}function Dnt(n,e){if(1&n&&(fe(0,"option",29),Te(1),he()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Be(),Nr(t._value)}}function Mnt(n,e){if(1&n&&(fe(0,"option",29),Te(1),he()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Be(),Nr(t._value)}}let Tnt=(()=>{class n{constructor(t){this.mcsdService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[],this.imageURL=null}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new dA(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new dA(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new dA(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new dA(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new dA(1,"(OCR / TESSERACT - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){if(1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)){let t=this.signature?.toDataURL();this.uploadImage(t)}else this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.statusButtonSaveImage="..parsing..",this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!0,this.mcsdService.uploadBase64Image(t).subscribe(r=>{console.log("Image uploaded successfully:",r),this.status=JSON.parse(JSON.stringify(r)).message;const i=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(i),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1},r=>{console.error("Error uploading image:",r),this.status=r,this.statusButton="[save]"})}startCamera(){var t=this;return(0,yt.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(r){console.error("Error accessing the camera:",r)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,r=this.canvas.nativeElement,i=r.getContext("2d");i&&(r.width=t.videoWidth/4,r.height=t.videoHeight/4,console.log("width: "+r.width+" height: "+r.height),i.drawImage(t,0,0,r.width,r.height),this.capturedImage=r.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&this.uploadImage(this.capturedImage):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const r=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return new Blob([s],{type:i})}flipCamera(){var t=this;return(0,yt.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}static{this.\u0275fac=function(r){return new(r||n)(pt(Hb))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-ocr-photo-capture"]],viewQuery:function(r,i){if(1&r&&(Ki(bnt,5),Ki(wnt,7),Ki(Cnt,5),Ki(Snt,5),Ki(xnt,5)),2&r){let s;lr(s=cr())&&(i.signature=s.first),lr(s=cr())&&(i.videoElement=s.first),lr(s=cr())&&(i.canvas=s.first),lr(s=cr())&&(i._sourceList=s.first),lr(s=cr())&&(i._engineList=s.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=ws();fe(0,"div",5)(1,"h1"),Te(2,"[MISCELANEOUS - OCR]"),he(),fe(3,"div",6),ft(4,"hr"),fe(5,"ngx-signature-pad",7,0),qt("beginSign",function(){return On(s),Un(i.onBeginSign())})("endSign",function(){return On(s),Un(i.onEndSign())}),he(),ft(7,"hr"),fe(8,"input",8),qt("click",function(){return On(s),Un(i.saveSignature())}),he(),Te(9," | "),fe(10,"button",9),qt("click",function(){return On(s),Un(i.clearSignature())}),Te(11,"Clear Signature"),he(),ft(12,"br"),he(),fe(13,"div",10),ft(14,"hr"),fe(15,"div",11),ft(16,"video",12,1)(18,"canvas",13,2),he(),dn(20,Ent,1,2,"img",14),ft(21,"hr"),fe(22,"button",15),qt("click",function(){return On(s),Un(i.capturePhoto())}),Te(23),he(),Te(24," | "),fe(25,"button",15),qt("click",function(){return On(s),Un(i.saveImage())}),Te(26),he(),Te(27," | "),fe(28,"button",9),qt("click",function(){return On(s),Un(i.flipCamera())}),Te(29,"Flip Camera"),he()(),ft(30,"hr"),fe(31,"span",16),Te(32),he(),ft(33,"hr"),fe(34,"div",17)(35,"label",18)(36,"span",19),Te(37),he()(),Te(38," \xa0"),fe(39,"select",20,3),qt("change",function(){return On(s),Un(i.selectionChange())}),dn(41,Dnt,2,3,"option",21),he()(),fe(42,"div",22)(43,"label",23)(44,"span",24),Te(45),he()(),Te(46," \xa0"),fe(47,"select",25,4),qt("change",function(){return On(s),Un(i.selectionChangeEngines())}),dn(49,Mnt,2,3,"option",21),he()(),fe(50,"div",26)(51,"a",27),Te(52,"[Volver al Menu]"),he()()()}2&r&&(Be(3),qe("hidden",i.hiddenCanvasContainer),Be(2),qe("options",i.options),Be(3),Fg("value",i.statusButton),qe("disabled","..parsing.."==i.statusButton),Be(5),qe("hidden",i.hiddenCameraContainer),Be(2),qe("hidden",i.cameraContainerHidden),Be(),Ph(i.videoStyle),Be(4),qe("ngIf",i.capturedImage),Be(2),qe("disabled",i.captureButtonDisabled),Be(),Nr(i.captureButtonStatus),Be(2),qe("disabled",i.saveImageButtonDisabled),Be(),Nr(i.statusButtonSaveImage),Be(6),Nr(i.status),Be(5),Nr(i.tituloListadOrigen),Be(4),qe("ngForOf",i.__sourceList),Be(4),Nr(i.titleEngineList),Be(4),qe("ngForOf",i.__engineList))},dependencies:[ds,Il,tc,Xv,Yv,J8],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})(),Bnt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-stable-releases"]],decls:35,vars:0,consts:[["align","left"],["routerLink","/OcrPhotoCapture"],["routerLink","/Chat"],["routerLink","/Sudoku"],["routerLink","/Hanoi"],["routerLink","/Hanoi3d"],["routerLink","/TicTacToe"],["routerLink","/BouncingBall"],["routerLink","/Tetris"],["routerLink","/MathParsing"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h2"),Te(2,"[Stable Releases]"),he(),fe(3,"ul")(4,"li")(5,"a",1),Te(6,"[OCR / COMPUTER VISION]"),he()(),fe(7,"li")(8,"a",2),Te(9,"[chat]"),he()(),fe(10,"li")(11,"a",3),Te(12,"[sudoku]"),he()(),fe(13,"li")(14,"a",4),Te(15,"[hanoi towers - [ALGORITMOS - RECURSION]]"),he()(),fe(16,"li")(17,"a",5),Te(18,"[Hanoi - 3d]"),he()(),fe(19,"li")(20,"a",6),Te(21,"[tic tac toe (offline) - [ALGORITMOS - MINMAX]]"),he()(),fe(22,"li")(23,"a",7),Te(24,"[Boucing Ball]"),he()(),fe(25,"li")(26,"a",8),Te(27,"[Tetris]"),he()(),fe(28,"li")(29,"a",9),Te(30,"[Math Parsing]"),he()()()(),ft(31,"hr"),fe(32,"div",10)(33,"a",11),Te(34,"[Volver al Inicio]"),he()())},dependencies:[ds]})}}return n})(),Nnt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-dev"]],decls:35,vars:0,consts:[["align","left"],["routerLink","/HanoiAuto"],["routerLink","/HanoiRjxs"],["routerLink","/RxJsPlayground"],["routerLink","/TicTacToeOnline"],["routerLink","/Ocr"],["routerLink","/BackendTesting"],["routerLink","/SpeechRecognition"],["routerLink","/ShapeRecognition"],["routerLink","/ShapeReconCanvas"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Te(2,"[Testing Releases]"),he(),fe(3,"ul")(4,"li")(5,"a",1),Te(6,"[Hanoi RxJS - Auto]"),he()(),fe(7,"li")(8,"a",2),Te(9,"[Hanoi RxJS - Manual]"),he()(),fe(10,"li")(11,"a",3),Te(12,"[RxJS Playground]"),he()(),fe(13,"li")(14,"a",4),Te(15,"[tic tac toe (online) - [ALGORITMOS - MINMAX]]"),he()(),fe(16,"li")(17,"a",5),Te(18,"[OCR]"),he()(),fe(19,"li")(20,"a",6),Te(21,"[Backend Testing]"),he()(),fe(22,"li")(23,"a",7),Te(24,"[Speech Recognition]"),he()(),fe(25,"li")(26,"a",8),Te(27,"[Shape Recognition]"),he()(),fe(28,"li")(29,"a",9),Te(30,"[Shape Recognition - Canvas]"),he()()()(),ft(31,"hr"),fe(32,"div",10)(33,"a",11),Te(34,"[Volver al Inicio]"),he()())},dependencies:[ds]})}}return n})(),Int=(()=>{class n{constructor(t,r){this.backendervice=t,this.router=r,this.lblStatusNodeJs="",this.BtnTestNodeJSCaption="[TEST NODE.JS]",this.lblStatusSpringBoot="",this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]",this.lblStatusDjango="",this.BtnTestDjangoCaption="[TEST DJANGO]"}RedirectHome(){this.router.navigateByUrl("/Home")}TestNodeJs(){console.log("[TEST NODE.JS] \n"),this.BtnTestNodeJSCaption="...(retrieving data)...",this.backendervice._TestNodeJs().subscribe({next:i=>{this.lblStatusNodeJs=JSON.parse(i).recordsets[0][0].nombreCompleto,console.log("[TEST - NODEJS] - (return): "+this.lblStatusNodeJs),this.BtnTestNodeJSCaption="[TEST NODE.JS]"},error:i=>{console.error("[TEST - NODEJS] - (ERROR) : "+JSON.stringify(i.message)),this.lblStatusNodeJs=i.message,this.BtnTestNodeJSCaption="[TEST NODE.JS]"},complete:()=>{console.log("[TEST - NODEJS]  -  (COMPLETE)")}})}TestSpringBoot(){console.log("[TEST SPRINGBOOT] \n"),this.BtnTestSpringBootCaption="...(retrieving data)...",this.backendervice._TestSprinbBoot().subscribe({next:i=>{this.lblStatusSpringBoot=i,console.log("[TEST - NODEJS] - (return): "+this.lblStatusSpringBoot),this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},error:i=>{let s=JSON.stringify(i.message);console.error("[TEST - SPRINBBOOT] - (ERROR) : "+s),this.lblStatusSpringBoot=s,this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},complete:()=>{console.log("[TEST - springboot]  -  (COMPLETE)")}})}TestDjango(){console.log("[TEST SPRINGBOOT] \n"),this.BtnTestDjangoCaption="...(retrieving data)...",this.backendervice._TestDjango().subscribe({next:i=>{this.lblStatusDjango=i,console.log("[TEST - NODEJS] - (return): "+this.lblStatusDjango),this.BtnTestDjangoCaption="[TEST DJANGO]"},error:i=>{let s=JSON.stringify(i.message);console.error("[TEST - DJANGO] - (ERROR) : "+s),this.lblStatusDjango=s,this.BtnTestDjangoCaption="[TEST DJANGO]"},complete:()=>{console.log("[TEST - DJANGO]  -  (COMPLETE)")}})}static{this.\u0275fac=function(r){return new(r||n)(pt(Hb),pt(Lc))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-unt-testing"]],decls:28,vars:9,consts:[["align","left"],["type","button",3,"click","value","disabled"],["id","lblStatusNodeJs"],["id","lblStatusSprinbBoot"],["id","lblStatusDjango"],["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(fe(0,"div",0),ft(1,"hr"),fe(2,"h1"),Te(3,"[NODE.JS]"),he(),ft(4,"br"),fe(5,"input",1),qt("click",function(){return i.TestNodeJs()}),he(),ft(6,"br"),fe(7,"label",2),Te(8),he(),ft(9,"hr"),fe(10,"h1"),Te(11,"[SPRING BOOT]"),he(),fe(12,"input",1),qt("click",function(){return i.TestSpringBoot()}),he(),ft(13,"br"),fe(14,"label",3),Te(15),he(),ft(16,"hr"),fe(17,"h1"),Te(18,"[PYTHON / DJANGO]"),he(),fe(19,"input",1),qt("click",function(){return i.TestDjango()}),he(),ft(20,"br"),fe(21,"label",4),Te(22),he(),ft(23,"hr"),he(),ft(24,"hr"),fe(25,"div",5)(26,"a",6),Te(27,"[Volver al Menu]"),he()()),2&r&&(Be(5),Fg("value",i.BtnTestNodeJSCaption),qe("disabled","[TEST NODE.JS]"!=i.BtnTestNodeJSCaption),Be(3),zi("Test Result :[",i.lblStatusNodeJs,"]"),Be(4),Fg("value",i.BtnTestSpringBootCaption),qe("disabled","[TEST SPRINGBOOT]"!=i.BtnTestSpringBootCaption),Be(3),zi("Test Result :[",i.lblStatusSpringBoot,"]"),Be(4),Fg("value",i.BtnTestDjangoCaption),qe("disabled","[TEST DJANGO]"!=i.BtnTestDjangoCaption),Be(3),zi("Test Result :[",i.lblStatusDjango,"]"))},dependencies:[ds]})}}return n})();const Fnt=["signature"];let Rnt=(()=>{class n{constructor(t){this.backendService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]"}onBeginSign(){}onEndSign(){}saveSignature(){console.log("Saving signature...");let t=this.signature?.toDataURL();console.log("Data URL:",t),this.uploadImage(t)}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.backendService.uploadBase64Image(t).subscribe(r=>{console.log("Image uploaded successfully:",r),this.status=JSON.parse(JSON.stringify(r)).message,this.statusButton="[save]";const i=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(i)},r=>{console.error("Error uploading image:",r),this.status=r,this.statusButton="[save]"})}static{this.\u0275fac=function(r){return new(r||n)(pt(Hb))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-ocr"]],viewQuery:function(r,i){if(1&r&&Ki(Fnt,5),2&r){let s;lr(s=cr())&&(i.signature=s.first)}},decls:19,vars:4,consts:[["signature",""],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","right"],["routerLink","/Dev"]],template:function(r,i){if(1&r){const s=ws();fe(0,"h1"),Te(1,"[OCR]"),he(),ft(2,"hr"),fe(3,"div")(4,"ngx-signature-pad",1,0),qt("beginSign",function(){return On(s),Un(i.onBeginSign())})("endSign",function(){return On(s),Un(i.onEndSign())}),he()(),ft(6,"hr"),fe(7,"input",2),qt("click",function(){return On(s),Un(i.saveSignature())}),he(),Te(8,"\n|\n"),fe(9,"button",3),qt("click",function(){return On(s),Un(i.clearSignature())}),Te(10,"Clear Signature"),he(),ft(11,"br")(12,"br"),fe(13,"span",4),Te(14),he(),ft(15,"hr"),fe(16,"div",5)(17,"a",6),Te(18,"[Volver al Menu]"),he()()}2&r&&(Be(4),qe("options",i.options),Be(3),Fg("value",i.statusButton),qe("disabled","..parsing.."==i.statusButton),Be(7),Nr(i.status))},dependencies:[ds,J8],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}"]})}}return n})(),Sle=(()=>{class n{constructor(){console.log("cv global variable : "+cv)}detectShapes(t){const r=[];if(cv.getBuildInformation){const i=cv.imread(t),s=new cv.Mat,o=new cv.Mat;cv.cvtColor(i,s,cv.COLOR_RGBA2GRAY,0),cv.Canny(s,o,50,150,3,!1);const a=new cv.MatVector,l=new cv.Mat;cv.findContours(o,a,l,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE);for(let c=0;c<a.size();c++){const u=a.get(c),h=new cv.Mat,d=.04*cv.arcLength(u,!0);cv.approxPolyDP(u,h,d,!0);let f="";if(3===h.rows)f="Tri\xe1ngulo";else if(4===h.rows){const A=cv.boundingRect(h),p=A.width/A.height;f=p>=.95&&p<=1.05?"Cuadrado":"Rect\xe1ngulo"}else h.rows>4&&(f="C\xedrculo");f&&r.push(f)}return i.delete(),s.delete(),o.delete(),a.delete(),l.delete(),r}return r}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ont=["video"];function Pnt(n,e){if(1&n&&(fe(0,"div"),ft(1,"img",5),he()),2&n){const t=en();Be(),qe("src",t.imageURL,mo)}}function Lnt(n,e){if(1&n&&(fe(0,"li"),Te(1),he()),2&n){const t=e.$implicit;Be(),Nr(t)}}function Unt(n,e){if(1&n&&(fe(0,"div",6)(1,"h3"),Te(2,"Detected Shapes:"),he(),fe(3,"ul"),dn(4,Lnt,2,1,"li",7),he()()),2&n){const t=en();Be(4),qe("ngForOf",t.detectedShapes)}}let knt=(()=>{class n{constructor(t,r){this.mcsdService=t,this.shapeDetectionService=r,this.detectedShapes=[],this.imageURL=null,this.videoStyle="width: 150px;height:150px; transform : scaleX(1);"}onFileSelected(t){const r=t.target.files[0];if(r){const i=new FileReader;i.onload=s=>{this.imageURL=s.target.result,this.detectShapes()},i.readAsDataURL(r)}}detectShapes(){const t=new Image;t.onload=()=>{const r=this.shapeDetectionService.detectShapes(t);this.detectedShapes=r;const i=new SpeechSynthesisUtterance(this.detectedShapes.toString());speechSynthesis.speak(i)},t.src=this.imageURL}ngAfterViewInit(){}static{this.\u0275fac=function(r){return new(r||n)(pt(Hb),pt(Sle))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-open-cv-shape-recon"]],viewQuery:function(r,i){if(1&r&&Ki(Ont,7),2&r){let s;lr(s=cr())&&(i.videoElement=s.first)}},decls:11,vars:2,consts:[["type","file",3,"change"],[4,"ngIf"],["align","center",4,"ngIf"],["align","right"],["routerLink","/Dev"],["alt","Uploaded Image",2,"max-width","100%","height","auto",3,"src"],["align","center"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(fe(0,"h4"),Te(1,"[MISCELANEOUS / SHAPE RECOGNITION]"),he(),ft(2,"hr"),fe(3,"div")(4,"input",0),qt("change",function(o){return i.onFileSelected(o)}),he()(),dn(5,Pnt,2,1,"div",1)(6,Unt,5,1,"div",2),ft(7,"hr"),fe(8,"div",3)(9,"a",4),Te(10,"[Volver al Menu]"),he()()),2&r&&(Be(5),qe("ngIf",i.imageURL),Be(),qe("ngIf",i.detectedShapes.length>0))},dependencies:[ds,Il,tc],styles:["input[type=file][_ngcontent-%COMP%]{margin-bottom:10px}img[_ngcontent-%COMP%]{margin-top:20px}","video[_ngcontent-%COMP%] {\n    \n\n    \n\n    width: 50%;\n    \n\n    height: 50%;\n    transform: scaleX(1);\n  }"]})}}return n})();function xle(n,e){return e?t=>GS(e.pipe(Co(1),function Hnt(){return ki((n,e)=>{n.subscribe(Hi(e,zs))})}()),t.pipe(xle(n))):ja((t,r)=>Ga(n(t,r)).pipe(Co(1),rK(t)))}function Fm(n,e=ob){const t=VN(n,e);return xle(()=>t)}let Z8,e6,Ele=kn(1,2,3,4,5),Dle=[],Mle=["a","b","c","d","e"],Tle=new Ms(null),Vnt=Tle.asObservable();let Gnt=(()=>{class n{constructor(){this.TestBasicObservable()}TestBasicObservable(){Z8=Po(Ele).pipe(Ug(t=>kn(t).pipe(Fm(1e3)))),Z8.subscribe({next(t){console.log("Observable emitted the next value from service to array : "+t),Dle.push(t)},error(t){console.error("Behaviour subject erro: "+t)},complete(){console.log("Observable complete notification"),function Qnt(){ZZ(1e3).pipe(Co(Mle.length),Tr(n=>Mle[n])).subscribe({next(n){console.log("Behaviour subject item : "+n),Tle.next(n)},error(n){console.error("Behaviour subject erro: "+n)},complete(){console.log("Behaviour subject complete notification"),function znt(){e6=Po(["A","B","C","D","E"]).pipe(Ug(t=>kn(t).pipe(Fm(1e3)))),e6.subscribe({next(t){console.log(`Iteration emitted Result: ${t}`)},error(t){console.error("Iteration emitted an error: "+t)},complete(){console.log("Iteration complete notification")}})}()}})}()}})}get CurrentValue(){return Dle}get Numbers(){return Ele}get CurrentItem(){return Vnt}get delayedObservable(){return Z8}get delayedObservableIteration(){return e6}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jnt=(()=>{class n{constructor(t){this.service=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(pt(Gnt))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-rx-jsplayground"]],decls:18,vars:9,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(fe(0,"h1"),Te(1,"[RXJS PLAYGROUND]"),he(),ft(2,"hr"),fe(3,"div"),Te(4),Au(5,"async"),he(),ft(6,"hr"),fe(7,"div"),Te(8),Au(9,"async"),he(),ft(10,"hr"),fe(11,"div"),Te(12),Au(13,"async"),he(),ft(14,"hr"),fe(15,"div",0)(16,"a",1),Te(17,"[Volver al Menu]"),he()()),2&r&&(Be(4),zi(" Current observable value : ",pu(5,3,i.service.delayedObservable),"\n"),Be(4),zi(" Current BehaviourSubject value : ",pu(9,5,i.service.CurrentItem),"\n"),Be(4),zi(" Current Iteration value : ",pu(13,7,i.service.delayedObservableIteration),"\n"))},dependencies:[ds,R_]})}}return n})();const qnt=["signature"],Wnt=["video"],$nt=["canvas"],Knt=["_sourceList"],Xnt=["_engineList"];function Ynt(n,e){if(1&n&&ft(0,"img",28),2&n){const t=en();qe("src",t.capturedImage,mo)("hidden",t.capturedImageHidden)}}function Jnt(n,e){if(1&n&&(fe(0,"option",29),Te(1),he()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Be(),Nr(t._value)}}function Znt(n,e){if(1&n&&(fe(0,"option",29),Te(1),he()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Be(),Nr(t._value)}}let ert=(()=>{class n{constructor(t,r){this.backendService=t,this.shapeDetectionService=r,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[]}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new dA(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new dA(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new dA(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new dA(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new dA(1,"(CV / OPENCV - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)?this.detectShapes(this.signature?.toDataURL()):this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}startCamera(){var t=this;return(0,yt.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(r){console.error("Error accessing the camera:",r)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,r=this.canvas.nativeElement,i=r.getContext("2d");i&&(r.width=t.videoWidth/4,r.height=t.videoHeight/4,console.log("width: "+r.width+" height: "+r.height),i.drawImage(t,0,0,r.width,r.height),this.capturedImage=r.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&(this.detectShapes(this.capturedImage),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const r=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return new Blob([s],{type:i})}flipCamera(){var t=this;return(0,yt.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}detectShapes(t){const r=new Image;r.onload=()=>{const i=this.shapeDetectionService.detectShapes(r);console.log("Detected Shapes "+i),this.detectedShapes=i,this.status=this.detectedShapes.toString();const s=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(s)},r.src=t}static{this.\u0275fac=function(r){return new(r||n)(pt(Hb),pt(Sle))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-shape-recon-canvas"]],viewQuery:function(r,i){if(1&r&&(Ki(qnt,5),Ki(Wnt,7),Ki($nt,5),Ki(Knt,5),Ki(Xnt,5)),2&r){let s;lr(s=cr())&&(i.signature=s.first),lr(s=cr())&&(i.videoElement=s.first),lr(s=cr())&&(i.canvas=s.first),lr(s=cr())&&(i._sourceList=s.first),lr(s=cr())&&(i._engineList=s.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=ws();fe(0,"div",5)(1,"h1"),Te(2,"[MISCELANEOUS - CV]"),he(),fe(3,"div",6),ft(4,"hr"),fe(5,"ngx-signature-pad",7,0),qt("beginSign",function(){return On(s),Un(i.onBeginSign())})("endSign",function(){return On(s),Un(i.onEndSign())}),he(),ft(7,"hr"),fe(8,"input",8),qt("click",function(){return On(s),Un(i.saveSignature())}),he(),Te(9," | "),fe(10,"button",9),qt("click",function(){return On(s),Un(i.clearSignature())}),Te(11,"Clear Signature"),he(),ft(12,"br"),he(),fe(13,"div",10),ft(14,"hr"),fe(15,"div",11),ft(16,"video",12,1)(18,"canvas",13,2),he(),dn(20,Ynt,1,2,"img",14),ft(21,"hr"),fe(22,"button",15),qt("click",function(){return On(s),Un(i.capturePhoto())}),Te(23),he(),Te(24," | "),fe(25,"button",15),qt("click",function(){return On(s),Un(i.saveImage())}),Te(26),he(),Te(27," | "),fe(28,"button",9),qt("click",function(){return On(s),Un(i.flipCamera())}),Te(29,"Flip Camera"),he()(),ft(30,"hr"),fe(31,"span",16),Te(32),he(),ft(33,"hr"),fe(34,"div",17)(35,"label",18)(36,"span",19),Te(37),he()(),Te(38," \xa0"),fe(39,"select",20,3),qt("change",function(){return On(s),Un(i.selectionChange())}),dn(41,Jnt,2,3,"option",21),he()(),fe(42,"div",22)(43,"label",23)(44,"span",24),Te(45),he()(),Te(46," \xa0"),fe(47,"select",25,4),qt("change",function(){return On(s),Un(i.selectionChangeEngines())}),dn(49,Znt,2,3,"option",21),he()(),fe(50,"div",26)(51,"a",27),Te(52,"[Volver al Menu]"),he()()()}2&r&&(Be(3),qe("hidden",i.hiddenCanvasContainer),Be(2),qe("options",i.options),Be(3),Fg("value",i.statusButton),qe("disabled","..parsing.."==i.statusButton),Be(5),qe("hidden",i.hiddenCameraContainer),Be(2),qe("hidden",i.cameraContainerHidden),Be(),Ph(i.videoStyle),Be(4),qe("ngIf",i.capturedImage),Be(2),qe("disabled",i.captureButtonDisabled),Be(),Nr(i.captureButtonStatus),Be(2),qe("disabled",i.saveImageButtonDisabled),Be(),Nr(i.statusButtonSaveImage),Be(6),Nr(i.status),Be(5),Nr(i.tituloListadOrigen),Be(4),qe("ngForOf",i.__sourceList),Be(4),Nr(i.titleEngineList),Be(4),qe("ngForOf",i.__engineList))},dependencies:[ds,Il,tc,Xv,Yv,J8],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})();function trt(n,e){if(1&n&&(fe(0,"div",8)(1,"p"),Te(2),he()()),2&n){const t=en();Be(2),zi("Error: ",t.error,"")}}let nrt=(()=>{class n{constructor(){this.isListening=!1,this.transcript="",this.error="";const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,console.error("Error:",this.error)},this.recognition.onend=()=>{this.isListening=!1,console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}ngOnInit(){}startListening(){this.recognition&&(this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t)}else alert("No text to speak!")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-speech-recognition"]],decls:20,vars:4,consts:[[1,"speech-recognition-container"],[1,"controls"],[3,"click","disabled"],[3,"click"],[1,"output"],["class","error",4,"ngIf"],["align","right"],["routerLink","/Dev"],[1,"error"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h2"),Te(2,"Speech Recognition with Angular"),he(),fe(3,"div",1)(4,"button",2),qt("click",function(){return i.startListening()}),Te(5,"Start Listening"),he(),fe(6,"button",2),qt("click",function(){return i.stopListening()}),Te(7,"Stop Listening"),he(),fe(8,"button",3),qt("click",function(){return i.speakText()}),Te(9,"Speak Text"),he()(),fe(10,"div",4)(11,"h3"),Te(12,"Transcript:"),he(),fe(13,"p"),Te(14),he()(),dn(15,trt,3,1,"div",5),he(),ft(16,"hr"),fe(17,"div",6)(18,"a",7),Te(19,"[Volver al Menu]"),he()()),2&r&&(Be(4),qe("disabled",i.isListening),Be(2),qe("disabled",!i.isListening),Be(8),Nr(i.transcript||"No speech detected yet."),Be(),qe("ngIf",i.error))},dependencies:[ds,tc],styles:[".speech-recognition-container[_ngcontent-%COMP%]{text-align:center;margin:20px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:10px 20px;font-size:16px;cursor:pointer}.output[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}.error[_ngcontent-%COMP%]{color:red;margin-top:10px}"]})}}return n})();function rrt(n,e){if(1&n&&(fe(0,"span",5)(1,"a",6)(2,"span",7),Te(3),he()()()),2&n){const t=en().$implicit;Be(),hS("routerLink","/",t.url,""),Be(2),Nr(t.text)}}function irt(n,e){if(1&n&&(fe(0,"span"),dn(1,rrt,4,3,"span",4),he()),2&n){const t=e.$implicit;Be(),qe("ngIf",t)}}let Ble=(()=>{class n{constructor(t,r,i,s){this.titleService=t,this.configService=r,this.customErrorHandler=i,this.loggingInterceptor=s,this._appBrand="",this._appVersion="",this._appEnv="",this._title="",this.pages=[{url:"/Dev",text:"[TESTING]"},{url:"/StableReleases",text:"[PRODUCTION]"},{url:"/SCM",text:"[SCM]"},{url:"/LLMs",text:"[LLMs]"}],this._appBrand=this.configService.getConfigValue("appBrand"),this._appVersion=this.configService.getConfigValue("appVersion"),this._appEnv=this.configService.getConfigValue("appEnv"),this._title=this._appBrand+"-"+this._appEnv+" - v["+this._appVersion+"]",console.log(this._title),this.titleService.setTitle(this._title)}static{this.\u0275fac=function(r){return new(r||n)(pt(eT),pt(qg),pt(TE),pt(LF))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-home"]],decls:19,vars:15,consts:[["align","center",1,"animate"],["routerLink","/"],[1,"me-1",2,"width","50px",3,"src","alt"],[4,"ngFor","ngForOf"],["style","padding:5px;",4,"ngIf"],[2,"padding","5px"],[3,"routerLink"],["align","left"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Te(2),he(),ft(3,"hr"),fe(4,"a",1),ft(5,"img",2),he(),fe(6,"a",1),ft(7,"img",2),he(),fe(8,"a",1),ft(9,"img",2),he(),fe(10,"a",1),ft(11,"img",2),he(),fe(12,"a",1),ft(13,"img",2),he(),fe(14,"a",1),ft(15,"img",2),he(),ft(16,"hr"),dn(17,irt,2,1,"span",3),ft(18,"hr"),he()),2&r&&(Be(2),AM("Welcome to ",i._appBrand," - ",i._appEnv,""),Be(3),qe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",mo)("alt","Angular Logo"),Be(2),qe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1024px-Node.js_logo.svg.png",mo)("alt","NodeJs Logo"),Be(2),qe("src","https://upload.wikimedia.org/wikipedia/commons/d/d2/C_Sharp_Logo_2023.svg",mo)("alt","C# Logo"),Be(2),qe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/ISO_C%2B%2B_Logo.svg/306px-ISO_C%2B%2B_Logo.svg.png",mo)("alt","C++ Logo"),Be(2),qe("src","https://vmware.gallerycdn.vsassets.io/extensions/vmware/vscode-spring-boot/1.59.2024110900/1731113263936/Microsoft.VisualStudio.Services.Icons.Default",mo)("alt","SPRING BOOT Logo"),Be(2),qe("src","https://upload.wikimedia.org/wikipedia/commons/c/c3/Python-logo-notext.svg",mo)("alt","python Logo"),Be(2),qe("ngForOf",i.pages))},dependencies:[ds,Il,tc],styles:[".animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale 2s}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}"]})}}return n})(),srt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-not-found-page"]],decls:9,vars:0,consts:[["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"h1"),Te(1,"[Page not found]"),he(),ft(2,"hr"),fe(3,"h4"),Te(4,"[PAGE NOT FOUND]"),he(),ft(5,"hr"),fe(6,"div",0)(7,"a",1),Te(8,"[Volver al Inicio]"),he()())},dependencies:[ds]})}}return n})();var t6=function(n){return n[n.RoleAnonyumous=0]="RoleAnonyumous",n[n.RoleAdmin=1]="RoleAdmin",n[n.RoleMarketing=2]="RoleMarketing",n[n.RoleConfig=3]="RoleConfig",n[n.RoleEducation=4]="RoleEducation",n}(t6||{});function n6(n,e=ob){return ki((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(Hi(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}let Nle=(()=>{class n{constructor(t){this.http=t,this._loggedUser=!1}canActivate(){return!0}get loggedUser(){return this._loggedUser}set loggedUser(t){this._loggedUser=t}matchRoles(t){return"0"==t||t==this.userRoles}static{this.\u0275fac=function(r){return new(r||n)(Ut(zv))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const{isArray:crt}=Array;function Ile(n){return 1===n.length&&crt(n[0])?n[0]:n}function r6(...n){return 1===(n=Ile(n)).length?Ga(n[0]):new di(function urt(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(Ga(n[r]).subscribe(Hi(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))}function i6(...n){const e=$M(n),t=Ile(n);return t.length?new di(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<t.length;o++)Ga(t[o]).subscribe(Hi(r,a=>{if(i[o].push(a),i.every(l=>l.length)){const l=i.map(c=>c.shift());r.next(e?e(...l):l),i.some((c,u)=>!c.length&&s[u])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):Sl}function s6(...n){const e=$M(n);return ki((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let l=0;l<i;l++)Ga(n[l]).subscribe(Hi(r,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(gs))&&(o=null))},zs));t.subscribe(Hi(r,l=>{if(a){const c=[l,...s];r.next(e?e(...c):c)}}))})}Math,Math,Math;const vit=["*"],$it=["dialog"],Zit=(n,e,t)=>({$implicit:n,pages:e,disabled:t}),est=n=>({disabled:!0,currentPage:n}),tst=(n,e,t)=>({disabled:n,$implicit:e,currentPage:t}),g6=(n,e)=>({disabled:n,currentPage:e}),nst=n=>({disabled:n});function rst(n,e){1&n&&(fe(0,"span",13),lS(1,7),he())}function ist(n,e){1&n&&(fe(0,"span",13),lS(1,8),he())}function sst(n,e){1&n&&(fe(0,"span",13),lS(1,9),he())}function ost(n,e){1&n&&(fe(0,"span",13),lS(1,10),he())}function ast(n,e){1&n&&Te(0,"...")}function lst(n,e){1&n&&Te(0),2&n&&Nr(e.$implicit)}function cst(n,e){}function ust(n,e){if(1&n&&(fe(0,"a",16),dn(1,cst,0,0,"ng-template",12),he()),2&n){const t=en(2).$implicit,r=en(),i=Uf(9);Be(),qe("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",Gd(2,est,t))}}function hst(n,e){}function fst(n,e){if(1&n){const t=ws();fe(0,"a",17),qt("click",function(i){On(t);const s=en().$implicit;return en(2).selectPage(s),Un(i.preventDefault())}),dn(1,hst,0,0,"ng-template",12),he()}if(2&n){const t=en().$implicit,r=en(),i=r.$implicit,s=r.disabled,o=en(),a=Uf(11);Ni("tabindex",s?"-1":null)("aria-disabled",s?"true":null),Be(),qe("ngTemplateOutlet",(null==o.tplNumber?null:o.tplNumber.templateRef)||a)("ngTemplateOutletContext",P5(4,tst,s,t,i))}}function dst(n,e){if(1&n&&(fe(0,"li",15),dn(1,ust,2,4,"a",16)(2,fst,2,8),he()),2&n){const t=e.$implicit,r=en(),i=r.$implicit,s=r.disabled,o=en();Ci("active",t===i)("disabled",o.isEllipsis(t)||s),Ni("aria-current",t===i?"page":null),Be(),Oo(1,o.isEllipsis(t)?1:2)}}function Ast(n,e){1&n&&Yu(0,dst,3,6,"li",14,Lf),2&n&&Ju(e.pages)}function pst(n,e){}function gst(n,e){if(1&n){const t=ws();fe(0,"li",15)(1,"a",18),qt("click",function(i){return On(t),en().selectPage(1),Un(i.preventDefault())}),dn(2,pst,0,0,"ng-template",12),he()()}if(2&n){const t=en(),r=Uf(1);Ci("disabled",t.previousDisabled()),Be(),Ni("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Be(),qe("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",dS(6,g6,t.previousDisabled(),t.page))}}function mst(n,e){}function vst(n,e){if(1&n){const t=ws();fe(0,"li",15)(1,"a",19),qt("click",function(i){On(t);const s=en();return s.selectPage(s.page-1),Un(i.preventDefault())}),dn(2,mst,0,0,"ng-template",12),he()()}if(2&n){const t=en(),r=Uf(3);Ci("disabled",t.previousDisabled()),Be(),Ni("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Be(),qe("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",Gd(6,nst,t.previousDisabled()))}}function yst(n,e){}function _st(n,e){}function bst(n,e){if(1&n){const t=ws();fe(0,"li",15)(1,"a",20),qt("click",function(i){On(t);const s=en();return s.selectPage(s.page+1),Un(i.preventDefault())}),dn(2,_st,0,0,"ng-template",12),he()()}if(2&n){const t=en(),r=Uf(5);Ci("disabled",t.nextDisabled()),Be(),Ni("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Be(),qe("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",dS(6,g6,t.nextDisabled(),t.page))}}function wst(n,e){}function Cst(n,e){if(1&n){const t=ws();fe(0,"li",15)(1,"a",21),qt("click",function(i){On(t);const s=en();return s.selectPage(s.pageCount),Un(i.preventDefault())}),dn(2,wst,0,0,"ng-template",12),he()()}if(2&n){const t=en(),r=Uf(7);Ci("disabled",t.nextDisabled()),Be(),Ni("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Be(),qe("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",dS(6,g6,t.nextDisabled(),t.page))}}function Ist(n,e){if(1&n&&(fe(0,"span"),Te(1),he()),2&n){const t=en().$implicit;Ig(en().highlightClass),Be(),Nr(t)}}function Fst(n,e){if(1&n&&(Uv(0),Te(1),kv()),2&n){const t=en().$implicit;Be(),Nr(t)}}function Rst(n,e){1&n&&dn(0,Ist,2,4,"span",0)(1,Fst,2,1),2&n&&Oo(0,e.$index%2!=0?0:1)}const Xle={animation:!0,transitionTimerDelayMs:5};let bF=(()=>{class n{constructor(){this.animation=Xle.animation}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Yle(n){return null!=n?`${n}`:""}function qb(n){return"string"==typeof n}function Ql(n){return!isNaN(function Bu(n){return parseInt(`${n}`,10)}(n))}function ty(n){return null!=n}function Wb(n){return(n||document.body).getBoundingClientRect()}function ece(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const zst=()=>{},{transitionTimerDelayMs:Gst}=Xle,SE=new Map,sf=(n,e,t,r)=>{let i=r.context||{};const s=SE.get(e);if(s)switch(r.runningTransition){case"continue":return Sl;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),SE.delete(e)}const o=t(e,r.animation,i)||zst;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),kn(void 0).pipe(function Qst(n){return e=>new di(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new Ur,l=new Ur,c=a.pipe(function hrt(...n){return e=>GS(e,kn(...n))}(!0));SE.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const u=function Ust(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const h=ml(e,"transitionend").pipe(ul(c),Bi(({target:f})=>f===e));r6(VN(u+Gst).pipe(ul(c)),h,l).pipe(ul(c)).subscribe(()=>{SE.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()},qst=(n,e,t)=>{let{direction:r,maxSize:i,dimension:s}=t;const{classList:o}=n;function a(){o.add("collapse"),"show"===r?o.add("show"):o.remove("show")}if(e)return i||(i=function jst(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,s),t.maxSize=i,n.style[s]="show"!==r?i:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),Wb(n),o.add("collapsing")),n.style[s]="show"===r?i:"0px",()=>{a(),o.remove("collapsing"),n.style[s]=""};a()};let Wst=(()=>{class n{constructor(){this._ngbConfig=Ve(bF),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),m6=(()=>{class n{constructor(){this._config=Ve(Wst),this._element=Ve(N),this._zone=Ve(Cr),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ie,this.horizontal=this._config.horizontal,this.shown=new ie,this.hidden=new ie}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return sf(this._zone,this._element.nativeElement,qst,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(r,i){2&r&&Ci("collapse-horizontal",i.horizontal)},inputs:{animation:"animation",collapsed:[Rr.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return n})(),ice=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),y6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),ace=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),lce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();var io=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(io||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const pce=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gce(n){const e=Array.from(n.querySelectorAll(pce)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Ice=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Rce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Wot=(()=>{class n{constructor(){this._ngbConfig=Ve(bF),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class oy{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let $ot=(()=>{class n{constructor(){this._document=Ve(Xi)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=o),i.overflow=s}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Kot=(()=>{class n{constructor(){this._nativeElement=Ve(N).nativeElement,this._zone=Ve(Cr)}ngOnInit(){this._zone.onStable.asObservable().pipe(Co(1)).subscribe(()=>{sf(this._zone,this._nativeElement,(t,r)=>{r&&Wb(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return sf(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Ig("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Ci("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[xa],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})();class Oce{update(e){}close(e){}dismiss(e){}}const Xot=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Yot=["animation","backdropClass"];class Jot{_applyWindowOptions(e,t){Xot.forEach(r=>{ty(t[r])&&(e[r]=t[r])})}_applyBackdropOptions(e,t){Yot.forEach(r=>{ty(t[r])&&(e[r]=t[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ul(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ul(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Ur,this._dismissed=new Ur,this._hidden=new Ur,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Jle(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():kn(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),i6(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var N6=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(N6||{});let Zot=(()=>{class n{constructor(){this._document=Ve(Xi),this._elRef=Ve(N),this._zone=Ve(Cr),this._closed$=new Ur,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ie,this.shown=new Ur,this.hidden=new Ur}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":qb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Co(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=i6(sf(this._zone,t,()=>t.classList.remove("show"),r),sf(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};i6(sf(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Wb(s),s.classList.add("show")},t),sf(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ml(t,"keydown").pipe(ul(this._closed$),Bi(i=>i.which===io.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(N6.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;ml(this._dialogEl.nativeElement,"mousedown").pipe(ul(this._closed$),vo(()=>r=!1),Oc(()=>ml(t,"mouseup").pipe(ul(this._closed$),Co(1))),Bi(({target:i})=>t===i)).subscribe(()=>{r=!0}),ml(t,"click").pipe(ul(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(N6.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=gce(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&sf(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&Ki($it,7),2&r){let s;lr(s=cr())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Ni("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Ig("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Ci("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[xa],ngContentSelectors:vit,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,i){1&r&&(cS(),fe(0,"div",1,0)(2,"div",2),uS(3),he()()),2&r&&Ig("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),eat=(()=>{class n{constructor(){this._applicationRef=Ve(Qf),this._injector=Ve(Ro),this._environmentInjector=Ve(ka),this._document=Ve(Xi),this._scrollBar=Ve($ot),this._activeWindowCmptHasChanged=new Ur,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ie;const t=Ve(Cr);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const r=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=ml(e,"focusin").pipe(ul(t),Tr(s=>s.target));ml(e,"keydown").pipe(ul(t),Bi(s=>s.which===io.Tab),s6(i)).subscribe(([s,o])=>{const[a,l]=gce(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&ml(e,"click").pipe(ul(t),s6(i),Tr(s=>s[1])).subscribe(s=>s.focus())})})(t,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const s=i.container instanceof HTMLElement?i.container:ty(i.container)?this._document.querySelector(i.container):this._document.body;if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const o=new Oce,a=(t=i.injector||t).get(ka,null)||this._environmentInjector,l=this._getContentRef(t,a,r,o,i);let c=!1!==i.backdrop?this._attachBackdrop(s):void 0,u=this._attachWindowComponent(s,l.nodes),h=new Jot(u,l,c,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(u),h.hidden.pipe(Co(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),o.close=d=>{h.close(d)},o.dismiss=d=>{h.dismiss(d)},o.update=d=>{h.update(d)},h.update(i),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=rL(Kot,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=rL(Zot,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,s,o){return i?i instanceof ia?this._createFromTemplateRef(i,s):qb(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,o):new oy([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new oy([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new oy([[r]])}_createFromComponent(t,r,i,s,o){const l=rL(i,{environmentInjector:r,elementInjector:Ro.create({providers:[{provide:Oce,useValue:s}],parent:t})}),c=l.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new oy([[c]],l.hostView,l)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tat=(()=>{class n{constructor(){this._injector=Ve(Ro),this._modalStack=Ve(eat),this._config=Ve(Wot)}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({providers:[tat]})}}return n})(),kce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),cat=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hce=(()=>{class n{constructor(){this.templateRef=Ve(ia)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}}return n})(),Vce=(()=>{class n{constructor(){this.templateRef=Ve(ia)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}}return n})(),Qce=(()=>{class n{constructor(){this.templateRef=Ve(ia)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}}return n})(),zce=(()=>{class n{constructor(){this.templateRef=Ve(ia)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}}return n})(),Gce=(()=>{class n{constructor(){this.templateRef=Ve(ia)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}}return n})(),jce=(()=>{class n{constructor(){this.templateRef=Ve(ia)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}}return n})(),qce=(()=>{class n{constructor(){this.templateRef=Ve(ia)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}}return n})(),R6=(()=>{class n{constructor(){this._config=Ve(cat),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new ie(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=function kst(n,e,t=0){return Math.max(Math.min(n,e),t)}(t,this.pageCount,1),this.page!==r&&Ql(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Ql(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["ngb-pagination"]],contentQueries:function(r,i,s){if(1&r&&(Sa(s,Hce,5),Sa(s,Vce,5),Sa(s,Qce,5),Sa(s,zce,5),Sa(s,Gce,5),Sa(s,jce,5),Sa(s,qce,5)),2&r){let o;lr(o=cr())&&(i.tplEllipsis=o.first),lr(o=cr())&&(i.tplFirst=o.first),lr(o=cr())&&(i.tplLast=o.first),lr(o=cr())&&(i.tplNext=o.first),lr(o=cr())&&(i.tplNumber=o.first),lr(o=cr())&&(i.tplPrevious=o.first),lr(o=cr())&&(i.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[Io,xa],decls:20,vars:12,consts:()=>{let t,r,i,s,o,a,l,c;return t=$localize`:@@ngb.pagination.first:`,r=$localize`:@@ngb.pagination.previous:`,i=$localize`:@@ngb.pagination.next:`,s=$localize`:@@ngb.pagination.last:`,o=$localize`:@@ngb.pagination.first-aria:First`,a=$localize`:@@ngb.pagination.previous-aria:Previous`,l=$localize`:@@ngb.pagination.next-aria:Next`,c=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],t,r,i,s,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(r,i){if(1&r&&(dn(0,rst,2,0,"ng-template",null,0,Vf)(2,ist,2,0,"ng-template",null,1,Vf)(4,sst,2,0,"ng-template",null,2,Vf)(6,ost,2,0,"ng-template",null,3,Vf)(8,ast,1,0,"ng-template",null,4,Vf)(10,lst,1,1,"ng-template",null,5,Vf)(12,Ast,2,0,"ng-template",null,6,Vf),fe(14,"ul"),dn(15,gst,3,9,"li",11)(16,vst,3,8,"li",11)(17,yst,0,0,"ng-template",12)(18,bst,3,9,"li",11)(19,Cst,3,9,"li",11),he()),2&r){const s=Uf(13);Be(14),Ig("pagination"+(i.size?" pagination-"+i.size:"")),Be(),Oo(15,i.boundaryLinks?15:-1),Be(),Oo(16,i.directionLinks?16:-1),Be(),qe("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||s)("ngTemplateOutletContext",P5(8,Zit,i.page,i.pages,i.disabled)),Be(),Oo(18,i.directionLinks?18:-1),Be(),Oo(19,i.boundaryLinks?19:-1)}},dependencies:[F_],encapsulation:2,changeDetection:0})}}return n})(),RF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Wce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),$ce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Kce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Xce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Yce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Jce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Zce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),O6=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=Yle(this.result),i=Array.isArray(this.term)?this.term:[this.term],s=c=>this.accentSensitive?c:ece(c),o=i.map(c=>function Hst(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(Yle(c)))).filter(c=>c),a=this.accentSensitive?r:ece(r),l=o.length?a.split(new RegExp(`(${o.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=l;else{let c=0;this.parts=l.map(u=>r.substring(c,c+=u.length))}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[Io,xa],decls:2,vars:0,consts:[[3,"class"]],template:function(r,i){1&r&&Yu(0,Rst,2,1,null,null,Lf),2&r&&Ju(i.parts)},styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0})}}return n})();new yn("live announcer delay",{providedIn:"root",factory:()=>100});let eue=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),tue=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();const gat=[ice,y6,ace,lce,Ice,Rce,Pce,kce,tue,RF,Wce,$ce,Kce,Xce,Yce,Jce,Zce,eue];let nue=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({imports:[gat,ice,y6,ace,lce,Ice,Rce,Pce,kce,tue,RF,Wce,$ce,Kce,Xce,Yce,Jce,Zce,eue]})}}return n})();const mat=(n,e)=>e.path;function vat(n,e){1&n&&(fe(0,"span",9),Te(1,"[Cargando...]"),he())}function yat(n,e){1&n&&(fe(0,"span",9),Te(1,"[Escuchando...]"),he())}function _at(n,e){if(1&n&&(fe(0,"span",19)(1,"p"),Te(2),he()()),2&n){const t=en();Be(2),zi("Error: ",t.error,"")}}function bat(n,e){if(1&n&&(fe(0,"tr")(1,"td")(2,"a",21),ft(3,"ngb-highlight",22),he()()()),2&n){const t=en().$implicit,r=en();Be(2),qe("routerLink","/"+t.path),Be(),qe("result",t.caption)("term",r.searchTerm)}}function wat(n,e){1&n&&dn(0,bat,4,3,"tr",20),2&n&&qe("ngIf",""!=e.$implicit.path)}function Cat(n,e){1&n&&(fe(0,"tr")(1,"td",23),Te(2,"[NO SE ENCONTRARON DATOS]"),he()())}const Sat={asc:"desc",desc:"","":"asc"};let Eat=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new ie}_rotatePage(){this.direction=Sat[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(r,i){1&r&&qt("click",function(){return i._rotatePage()}),2&r&&Ci("asc","asc"===i._direction)("desc","desc"===i._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),Dat=(()=>{class n{constructor(t,r){this.pipe=t,this._authService=r,this.ConfigRoleString=t6.RoleConfig.toString(),this._loading=new Ms(!0),this._total=new Ms(0),this._search$=new Ur,this._Pagelist=new Ms([]),this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(vo(()=>this._loading.next(!0)),n6(200),Oc(()=>this._search()),Fm(200),vo(()=>this._loading.next(!1))).subscribe(i=>{this._Pagelist.next(i.searchPages),this._total.next(i.total)}),this._search$.next()}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}_search(){let t,r,i={searchPages:t,total:r};const{pageSize:a,page:l,searchTerm:c}=this._state;return t=fue,t=t.filter(u=>function xat(n,e,t){return n.caption?.toLowerCase().includes(e?.toLowerCase())}(u,c)),r=t.length,t=t.slice((l-1)*a,(l-1)*a+a),i={searchPages:t,total:r},kn(i)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:r}){this.headers?.forEach(i=>{i.sortable!==t&&(i.direction="")}),this.sortColumn=t,this.sortDirection=r}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(r){return new(r||n)(pt(zM),pt(Nle))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-index"]],viewQuery:function(r,i){if(1&r&&Ki(Eat,5),2&r){let s;lr(s=cr())&&(i.headers=s)}},decls:49,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["scope","col","sortable","path"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],[4,"ngIf"],[3,"routerLink"],[3,"result","term"],["colspan","4",2,"text-align","center"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Te(2,"[INDEX]"),he(),ft(3,"hr"),fe(4,"form")(5,"div",1)(6,"label",2),Te(7,"Busqueda de Texto Completo:"),he(),fe(8,"div",3)(9,"input",4),Hf("ngModelChange",function(o){return zd(i.searchTerm,o)||(i.searchTerm=o),o}),he()(),fe(10,"span",5)(11,"button",6),qt("click",function(){return i.startListening()}),ft(12,"img",7),he(),fe(13,"button",6),qt("click",function(){return i.stopListening()}),ft(14,"img",7),he(),fe(15,"button",6),qt("click",function(){return i.speakText()}),ft(16,"img",7),he(),fe(17,"button",8),qt("click",function(){return i.clearText()}),ft(18,"img",7),he()(),dn(19,vat,2,0,"span",9),Au(20,"async"),dn(21,yat,2,0,"span",9)(22,_at,3,1,"span",10),he(),fe(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),Te(27,"[Pagina]"),he()()(),fe(28,"tbody"),Yu(29,wat,1,1,"tr",null,mat,!1,Cat,3,0,"tr"),Au(32,"async"),he()(),fe(33,"div",13)(34,"ngb-pagination",14),Au(35,"async"),Hf("pageChange",function(o){return zd(i.page,o)||(i.page=o),o}),he(),fe(36,"select",15),Hf("ngModelChange",function(o){return zd(i.pageSize,o)||(i.pageSize=o),o}),fe(37,"option",16),Te(38,"2 items por Pagina"),he(),fe(39,"option",16),Te(40,"4 items por Pagina"),he(),fe(41,"option",16),Te(42,"6 tems por Pagina"),he(),fe(43,"option",16),Te(44,"10 items por Pagina"),he()()()()(),ft(45,"hr"),fe(46,"div",17)(47,"a",18),Te(48,"[Volver al Inicio]"),he()()),2&r&&(Be(9),kf("ngModel",i.searchTerm),Be(2),qe("disabled",i.isListening),Be(),qe("src",i.ListeningButtonIconOn,mo),Be(),qe("disabled",!i.isListening),Be(),qe("src",i.ListeningButtonIconOff,mo),Be(),qe("disabled",i.isListening),Be(),qe("src",i.SpeakerIcon,mo),Be(2),qe("src",i.clearFormIcon,mo),Be(),Oo(19,pu(20,20,i.loading)?19:-1),Be(2),Oo(21,i.isListening&&!i.error?21:-1),Be(),qe("ngIf",i.error),Be(7),Ju(pu(32,22,i._Pagelist)),Be(5),qe("collectionSize",pu(35,24,i.total)),kf("page",i.page),qe("pageSize",i.pageSize),Be(2),kf("ngModel",i.pageSize),Be(),qe("ngValue",2),Be(2),qe("ngValue",4),Be(2),qe("ngValue",6),Be(2),qe("ngValue",10))},dependencies:[ds,tc,k_,Xv,Yv,ZA,LS,qv,L_,Kv,$v,R6,O6,R_],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})();function Mat(n,e){if(1&n&&(fe(0,"ul")(1,"li")(2,"a",5),Te(3),he()()()),2&n){const t=e.$implicit;Be(2),qe("href",t.url,mo),Be(),Nr(t.name)}}let Tat=(()=>{class n{constructor(){this.aiPrompts=[],console.log("AI Prompts: "+JSON.stringify(jg.aiPrompts)),this.aiPrompts=jg.aiPrompts}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-ai-prompts"]],decls:11,vars:1,consts:[["align","center"],["align","left"],[4,"ngFor","ngForOf"],["align","right"],["routerLink","/Home"],["target","_blank",3,"href"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h4")(2,"b"),Te(3,"[LLMs]"),he()(),ft(4,"hr"),he(),fe(5,"div",1),dn(6,Mat,4,2,"ul",2),he(),ft(7,"hr"),fe(8,"div",3)(9,"a",4),Te(10,"[Inicio]"),he()()),2&r&&(Be(6),qe("ngForOf",i.aiPrompts))},dependencies:[ds,Il]})}}return n})();const Bat=Rs(n=>function(t=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function Iat(n){throw new Bat(n)}class P6{validateSignature(e){return Promise.resolve(null)}validateAtHash(e){return Promise.resolve(!0)}}class rue{}class L6{}let Fat=(()=>{class n extends L6{now(){return Date.now()}new(){return new Date}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fs(n)))(i||n)}})()}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();class iue{}class sue{}let Rat=(()=>{class n{constructor(){this.data=new Map}getItem(t){return this.data.get(t)}removeItem(t){this.data.delete(t)}setItem(t,r){this.data.set(t,r)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();class U6{constructor(e){this.type=e}}class ph extends U6{constructor(e,t=null){super(e),this.info=t}}class Pp extends U6{constructor(e,t=null){super(e),this.info=t}}class pa extends U6{constructor(e,t,r=null){super(e),this.reason=t,this.params=r}}function oue(n){const e=n.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(e).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function k6(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class OF{constructor(e){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=t=>{location.href=t},e&&Object.assign(this,e)}}class ME{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}class aue{}let lue=(()=>{class n{getHashFragmentParams(t){let r=t||window.location.hash;if(r=decodeURIComponent(r),0!==r.indexOf("#"))return{};const i=r.indexOf("?");return r=r.substr(i>-1?i+1:1),this.parseQueryString(r)}parseQueryString(t){const r={};let i,s,o,a,l,c;if(null===t)return r;const u=t.split("&");for(let h=0;h<u.length;h++)i=u[h],s=i.indexOf("="),-1===s?(o=i,a=null):(o=i.substr(0,s),a=i.substr(s+1)),l=decodeURIComponent(o),c=decodeURIComponent(a),"/"===l.substr(0,1)&&(l=l.substr(1)),r[l]=c;return r}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();const Pat=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function H6(n,e,t,r,i){let s,o,a,l,c,u,h,d,f,A,p,m,g;for(;i>=64;){for(s=e[0],o=e[1],a=e[2],l=e[3],c=e[4],u=e[5],h=e[6],d=e[7],A=0;A<16;A++)p=r+4*A,n[A]=(255&t[p])<<24|(255&t[p+1])<<16|(255&t[p+2])<<8|255&t[p+3];for(A=16;A<64;A++)f=n[A-2],m=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,f=n[A-15],g=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3,n[A]=(m+n[A-7]|0)+(g+n[A-16]|0);for(A=0;A<64;A++)m=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&h)|0)+(d+(Pat[A]+n[A]|0)|0)|0,g=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&a^o&a)|0,d=h,h=u,u=c,c=l+m|0,l=a,a=o,o=s,s=m+g|0;e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=l,e[4]+=c,e[5]+=u,e[6]+=h,e[7]+=d,r+=64,i-=64}return r}class PF{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()}update(e,t=e.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let r=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[r++],t--;64===this.bufferLength&&(H6(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(r=H6(this.temp,this.state,e,r,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[r++],t--;return this}finish(e){if(!this.finished){const t=this.bytesHashed,r=this.bufferLength,i=t/536870912|0,s=t<<3,o=t%64<56?64:128;this.buffer[r]=128;for(let a=r+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=i>>>24&255,this.buffer[o-7]=i>>>16&255,this.buffer[o-6]=i>>>8&255,this.buffer[o-5]=i>>>0&255,this.buffer[o-4]=s>>>24&255,this.buffer[o-3]=s>>>16&255,this.buffer[o-2]=s>>>8&255,this.buffer[o-1]=s>>>0&255,H6(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(let t=0;t<8;t++)e[4*t+0]=this.state[t]>>>24&255,e[4*t+1]=this.state[t]>>>16&255,e[4*t+2]=this.state[t]>>>8&255,e[4*t+3]=this.state[t]>>>0&255;return this}digest(){const e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let t=0;t<this.state.length;t++)e[t]=this.state[t]}_restoreState(e,t){for(let r=0;r<this.state.length;r++)this.state[r]=e[r];this.bytesHashed=t,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class uue{}let zat=(()=>{class n{calcHash(t,r){return(0,yt.A)(function*(){return function Qat(n){const e=[];for(let t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}(function Lat(n){const e=(new PF).update(n),t=e.digest();return e.clean(),t}(function Vat(n){if("string"!=typeof n)throw new TypeError("expected string");const e=n,t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(t)))})()}toHashString2(t){let r="";for(const i of t)r+=String.fromCharCode(i);return r}toHashString(t){const r=new Uint8Array(t);let i="";for(const s of r)i+=String.fromCharCode(s);return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})(),Q6=(()=>{class n extends OF{constructor(t,r,i,s,o,a,l,c,u,h){super(),this.ngZone=t,this.http=r,this.config=o,this.urlHelper=a,this.logger=l,this.crypto=c,this.dateTimeService=h,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new Ur,this.discoveryDocumentLoadedSubject=new Ur,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=u,o||(o={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),s&&(this.tokenValidationHandler=s),o&&this.configure(o);try{i?this.setStorage(i):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(d){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",d)}if(this.checkLocalStorageAccessable()){const d=window?.navigator?.userAgent;(d?.includes("MSIE ")||d?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const t="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(t,t),localStorage.removeItem(t),0))}catch{return!1}}configure(t){Object.assign(this,new OF,t),this.config=Object.assign({},new OF,t),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(Bi(t=>"token_received"===t.type)).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(t={},r,i=!0){let s=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(vo(o=>{"token_received"===o.type?s=!0:"logout"===o.type&&(s=!1)}),Bi(o=>"token_expires"===o.type&&(null==r||"any"===r||o.info===r)),n6(1e3)).subscribe(()=>{s&&this.refreshInternal(t,i).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(t,r){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(t,r):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(t=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(t))}loadDiscoveryDocumentAndLogin(t=null){return this.loadDiscoveryDocumentAndTryLogin(t=t||{}).then(()=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof t.state?t.state:""),!1))}debug(...t){this.showDebugInformation&&this.logger.debug(...t)}validateUrlFromDiscoveryDocument(t){const r=[],i=this.validateUrlForHttps(t),s=this.validateUrlAgainstIssuer(t);return i||r.push("https for all urls required. Also for urls received by discovery."),s||r.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),r}validateUrlForHttps(t){if(!t)return!0;const r=t.toLowerCase();return!(!1!==this.requireHttps&&(!r.match(/^http:\/\/localhost($|[:/])/)&&!r.match(/^http:\/\/localhost($|[:/])/)||"remoteOnly"!==this.requireHttps))||r.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(t,r){if(!t)throw new Error(`'${r}' should not be null`);if(!this.validateUrlForHttps(t))throw new Error(`'${r}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(t){return!this.strictDiscoveryDocumentValidation||!t||t.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(Bi(t=>"token_received"===t.type)).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const t=this.getAccessTokenExpiration(),r=this.getAccessTokenStoredAt(),i=this.calcTimeout(r,t);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=kn(new Pp("token_expires","access_token")).pipe(Fm(i)).subscribe(s=>{this.ngZone.run(()=>{this.eventsSubject.next(s)})})})}setupIdTokenTimer(){const t=this.getIdTokenExpiration(),r=this.getIdTokenStoredAt(),i=this.calcTimeout(r,t);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=kn(new Pp("token_expires","id_token")).pipe(Fm(i)).subscribe(s=>{this.ngZone.run(()=>{this.eventsSubject.next(s)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(t,r){const i=this.dateTimeService.now(),o=Math.max(0,(r-t)*this.timeoutFactor-(i-t)),a=2147483647;return o>a?a:o}setStorage(t){this._storage=t,this.configChanged()}loadDiscoveryDocument(t=null){return new Promise((r,i)=>{t||((t=this.issuer||"").endsWith("/")||(t+="/"),t+=".well-known/openid-configuration"),this.validateUrlForHttps(t)?this.http.get(t).subscribe(s=>{if(!this.validateDiscoveryDocument(s))return this.eventsSubject.next(new pa("discovery_document_validation_error",null)),void i("discovery_document_validation_error");this.loginUrl=s.authorization_endpoint,this.logoutUrl=s.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=s.grant_types_supported,this.issuer=s.issuer,this.tokenEndpoint=s.token_endpoint,this.userinfoEndpoint=s.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=s.jwks_uri,this.sessionCheckIFrameUrl=s.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(s),this.revocationEndpoint=s.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(o=>{const l=new ph("discovery_document_loaded",{discoveryDocument:s,jwks:o});this.eventsSubject.next(l),r(l)}).catch(o=>{this.eventsSubject.next(new pa("discovery_document_load_error",o)),i(o)})},s=>{this.logger.error("error loading discovery document",s),this.eventsSubject.next(new pa("discovery_document_load_error",s)),i(s)}):i("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((t,r)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(i=>{this.jwks=i,t(i)},i=>{this.logger.error("error loading jwks",i),this.eventsSubject.next(new pa("jwks_load_error",i)),r(i)}):t(null)})}validateDiscoveryDocument(t){let r;return this.skipIssuerCheck||t.issuer===this.issuer?(r=this.validateUrlFromDiscoveryDocument(t.authorization_endpoint),r.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(t.end_session_endpoint),r.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(t.token_endpoint),r.length>0&&this.logger.error("error validating token_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(t.revocation_endpoint),r.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(t.userinfo_endpoint),r.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(t.jwks_uri),r.length>0?(this.logger.error("error validating jwks_uri in discovery document",r),!1):(this.sessionChecksEnabled&&!t.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+t.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(t,r,i=new xo){return this.fetchTokenUsingPasswordFlow(t,r,i).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((t,r)=>{const i=(new xo).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:i,observe:"response",responseType:"text"}).subscribe(s=>{if(this.debug("userinfo received",JSON.stringify(s)),s.headers.get("content-type").startsWith("application/json")){let o=JSON.parse(s.body);const a=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!a.sub||o.sub!==a.sub))return void r("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");o=Object.assign({},a,o),this._storage.setItem("id_token_claims_obj",JSON.stringify(o)),this.eventsSubject.next(new ph("user_profile_loaded")),t({info:o})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new ph("user_profile_loaded")),t(JSON.parse(s.body))},s=>{this.logger.error("error loading user info",s),this.eventsSubject.next(new pa("user_profile_load_error",s)),r(s)})})}fetchTokenUsingPasswordFlow(t,r,i=new xo){return this.fetchTokenUsingGrant("password",{username:t,password:r},i)}fetchTokenUsingGrant(t,r,i=new xo){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new eh({encoder:new ME}).set("grant_type",t).set("scope",this.scope);if(this.useHttpBasicAuth){const o=btoa(`${this.clientId}:${this.dummyClientSecret}`);i=i.set("Authorization","Basic "+o)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const o of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(o,this.customQueryParams[o]);for(const o of Object.keys(r))s=s.set(o,r[o]);return i=i.set("Content-Type","application/x-www-form-urlencoded"),new Promise((o,a)=>{this.http.post(this.tokenEndpoint,s,{headers:i}).subscribe(l=>{this.debug("tokenResponse",l),this.storeAccessTokenResponse(l.access_token,l.refresh_token,l.expires_in||this.fallbackAccessTokenExpirationTimeInSec,l.scope,this.extractRecognizedCustomParameters(l)),this.oidc&&l.id_token&&this.processIdToken(l.id_token,l.access_token).then(c=>{this.storeIdToken(c),o(l)}),this.eventsSubject.next(new ph("token_received")),o(l)},l=>{this.logger.error("Error performing ${grantType} flow",l),this.eventsSubject.next(new pa("token_error",l)),a(l)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((t,r)=>{let i=new eh({encoder:new ME}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),s=(new xo).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const o=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+o)}if(this.useHttpBasicAuth||(i=i.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(i=i.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const o of Object.getOwnPropertyNames(this.customQueryParams))i=i.set(o,this.customQueryParams[o]);this.http.post(this.tokenEndpoint,i,{headers:s}).pipe(Oc(o=>this.oidc&&o.id_token?Po(this.processIdToken(o.id_token,o.access_token,!0)).pipe(vo(a=>this.storeIdToken(a)),Tr(()=>o)):kn(o))).subscribe(o=>{this.debug("refresh tokenResponse",o),this.storeAccessTokenResponse(o.access_token,o.refresh_token,o.expires_in||this.fallbackAccessTokenExpirationTimeInSec,o.scope,this.extractRecognizedCustomParameters(o)),this.eventsSubject.next(new ph("token_received")),this.eventsSubject.next(new ph("token_refreshed")),t(o)},o=>{this.logger.error("Error refreshing token",o),this.eventsSubject.next(new pa("token_refresh_error",o)),r(o)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=t=>{const r=this.processMessageEventMessage(t);this.checkOrigin&&t.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:r,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(i=>this.debug("tryLogin during silent refresh failed",i))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(t={},r=!0){const i=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(t.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const s=this.document.getElementById(this.silentRefreshIFrameName);s&&this.document.body.removeChild(s),this.silentRefreshSubject=i.sub;const o=this.document.createElement("iframe");return o.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,r,t).then(h=>{o.setAttribute("src",h),this.silentRefreshShowIFrame||(o.style.display="none"),this.document.body.appendChild(o)}),r6([this.events.pipe(Bi(h=>h instanceof pa),Cc()),this.events.pipe(Bi(h=>"token_received"===h.type),Cc()),kn(new pa("silent_refresh_timeout",null)).pipe(Fm(this.silentRefreshTimeout))]).pipe(Tr(h=>{if(h instanceof pa)throw"silent_refresh_timeout"===h.type||(h=new pa("silent_refresh_error",h)),this.eventsSubject.next(h),h;return"token_received"===h.type&&(h=new ph("silently_refreshed"),this.eventsSubject.next(h)),h})).toPromise()}initImplicitFlowInPopup(t){return this.initLoginFlowInPopup(t)}initLoginFlowInPopup(t){return t=t||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(r=>new Promise((i,s)=>{let l,a=null;t.windowRef?t.windowRef&&!t.windowRef.closed&&(a=t.windowRef,a.location.href=r):a=window.open(r,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(t));const c=A=>{this.tryLogin({customHashFragment:A,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{h(),i(!0)},p=>{h(),s(p)})};a?l=window.setInterval(()=>{(!a||a.closed)&&(h(),s(new pa("popup_closed",{})))},500):s(new pa("popup_blocked",{}));const h=()=>{window.clearInterval(l),window.removeEventListener("storage",f),window.removeEventListener("message",d),null!==a&&a.close(),a=null},d=A=>{const p=this.processMessageEventMessage(A);p&&null!==p?(window.removeEventListener("storage",f),c(p)):console.log("false event firing")},f=A=>{"auth_hash"===A.key&&(window.removeEventListener("message",d),c(A.newValue))};window.addEventListener("message",d),window.addEventListener("storage",f)}))}calculatePopupFeatures(t){const r=t.height||470,i=t.width||500,s=window.screenLeft+(window.outerWidth-i)/2;return`location=no,toolbar=no,width=${i},height=${r},top=${window.screenTop+(window.outerHeight-r)/2},left=${s}`}processMessageEventMessage(t){let r="#";if(this.silentRefreshMessagePrefix&&(r+=this.silentRefreshMessagePrefix),!t||!t.data||"string"!=typeof t.data)return;const i=t.data;return i.startsWith(r)?"#"+i.substr(r.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=t=>{const r=t.origin.toLowerCase(),i=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),i.startsWith(r)){switch(t.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",t)}else this.debug("sessionCheckEventListener","wrong origin",r,"expected",i,"event",t)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Pp("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Pp("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Pp("session_terminated")),this.logOut(!0)):this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Pp("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe(Bi(t=>"silently_refreshed"===t.type||"silent_refresh_timeout"===t.type||"silent_refresh_error"===t.type),Cc()).subscribe(t=>{"silently_refreshed"!==t.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Pp("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Pp("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const t=this.document.getElementById(this.sessionCheckIFrameName);t&&this.document.body.removeChild(t);const r=this.document.createElement("iframe");r.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),r.setAttribute("src",this.sessionCheckIFrameUrl),r.style.display="none",this.document.body.appendChild(r),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const t=this.document.getElementById(this.sessionCheckIFrameName);t||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const r=this.getSessionState();r||this.stopSessionCheckTimer(),t.contentWindow.postMessage(this.clientId+" "+r,this.issuer)}createLoginUrl(t="",r="",i="",s=!1,o={}){var a=this;return(0,yt.A)(function*(){const l=a;let c;c=i||a.redirectUri;const u=yield a.createAndSaveNonce();if(t=t?u+a.config.nonceStateSeparator+encodeURIComponent(t):u,!a.requestAccessToken&&!a.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");a.responseType=a.config.responseType?a.config.responseType:a.oidc&&a.requestAccessToken?"id_token token":a.oidc&&!a.requestAccessToken?"id_token":"token";const h=l.loginUrl.indexOf("?")>-1?"&":"?";let d=l.scope;a.oidc&&!d.match(/(^|\s)openid($|\s)/)&&(d="openid "+d);let f=l.loginUrl+h+"response_type="+encodeURIComponent(l.responseType)+"&client_id="+encodeURIComponent(l.clientId)+"&state="+encodeURIComponent(t)+"&redirect_uri="+encodeURIComponent(c)+"&scope="+encodeURIComponent(d);if(a.responseType.includes("code")&&!a.disablePKCE){const[A,p]=yield a.createChallangeVerifierPairForPKCE();a.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",p):a._storage.setItem("PKCE_verifier",p),f+="&code_challenge="+A,f+="&code_challenge_method=S256"}r&&(f+="&login_hint="+encodeURIComponent(r)),l.resource&&(f+="&resource="+encodeURIComponent(l.resource)),l.oidc&&(f+="&nonce="+encodeURIComponent(u)),s&&(f+="&prompt=none");for(const A of Object.keys(o))f+="&"+encodeURIComponent(A)+"="+encodeURIComponent(o[A]);if(a.customQueryParams)for(const A of Object.getOwnPropertyNames(a.customQueryParams))f+="&"+A+"="+encodeURIComponent(a.customQueryParams[A]);return f})()}initImplicitFlowInternal(t="",r=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let i={},s=null;"string"==typeof r?s=r:"object"==typeof r&&(i=r),this.createLoginUrl(t,s,null,!1,i).then(this.config.openUri).catch(o=>{console.error("Error in initImplicitFlow",o),this.inImplicitFlow=!1})}initImplicitFlow(t="",r=""){""!==this.loginUrl?this.initImplicitFlowInternal(t,r):this.events.pipe(Bi(i=>"discovery_document_loaded"===i.type)).subscribe(()=>this.initImplicitFlowInternal(t,r))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(t){const r=this;if(t.onTokenReceived){const i={idClaims:r.getIdentityClaims(),idToken:r.getIdToken(),accessToken:r.getAccessToken(),state:r.state};t.onTokenReceived(i)}}storeAccessTokenResponse(t,r,i,s,o){if(this._storage.setItem("access_token",t),s&&!Array.isArray(s)?this._storage.setItem("granted_scopes",JSON.stringify(s.split(" "))):s&&Array.isArray(s)&&this._storage.setItem("granted_scopes",JSON.stringify(s)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),i){const a=1e3*i,c=this.dateTimeService.new().getTime()+a;this._storage.setItem("expires_at",""+c)}r&&this._storage.setItem("refresh_token",r),o&&o.forEach((a,l)=>{this._storage.setItem(l,a)})}tryLogin(t=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(t).then(()=>!0):this.tryLoginImplicitFlow(t)}parseQueryString(t){return t&&0!==t.length?("?"===t.charAt(0)&&(t=t.substr(1)),this.urlHelper.parseQueryString(t)):{}}tryLoginCodeFlow(t=null){var r=this;return(0,yt.A)(function*(){const i=(t=t||{}).customHashFragment?t.customHashFragment.substring(1):window.location.search,s=r.getCodePartsFromUrl(i),o=s.code,a=s.state,l=s.session_state;if(!t.preventClearHashAfterLogin){const h=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,h)}const[c,u]=r.parseState(a);if(r.state=u,s.error){r.debug("error trying to login"),r.handleLoginError(t,s);const h=new pa("code_error",{},s);return r.eventsSubject.next(h),Promise.reject(h)}if(!t.disableNonceCheck){if(!c)return r.saveRequestedRoute(),Promise.resolve();if(!t.disableOAuth2StateCheck&&!r.validateNonce(c)){const d=new pa("invalid_nonce_in_state",null);return r.eventsSubject.next(d),Promise.reject(d)}}return r.storeSessionState(l),o&&(yield r.getTokenFromCode(o,t),r.restoreRequestedRoute()),Promise.resolve()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const t=this._storage.getItem("requested_route");t&&history.replaceState(null,"",window.location.origin+t)}getCodePartsFromUrl(t){return t&&0!==t.length?("?"===t.charAt(0)&&(t=t.substr(1)),this.urlHelper.parseQueryString(t)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(t,r){let i=new eh({encoder:new ME}).set("grant_type","authorization_code").set("code",t).set("redirect_uri",r.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let s;s=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),s?i=i.set("code_verifier",s):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(i,r)}fetchAndProcessToken(t,r){r=r||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let i=(new xo).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const s=btoa(`${this.clientId}:${this.dummyClientSecret}`);i=i.set("Authorization","Basic "+s)}return this.useHttpBasicAuth||(t=t.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(t=t.set("client_secret",this.dummyClientSecret)),new Promise((s,o)=>{if(this.customQueryParams)for(const a of Object.getOwnPropertyNames(this.customQueryParams))t=t.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,t,{headers:i}).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.oidc&&a.id_token?this.processIdToken(a.id_token,a.access_token,r.disableNonceCheck).then(l=>{this.storeIdToken(l),this.eventsSubject.next(new ph("token_received")),this.eventsSubject.next(new ph("token_refreshed")),s(a)}).catch(l=>{this.eventsSubject.next(new pa("token_validation_error",l)),console.error("Error validating tokens"),console.error(l),o(l)}):(this.eventsSubject.next(new ph("token_received")),this.eventsSubject.next(new ph("token_refreshed")),s(a))},a=>{console.error("Error getting token",a),this.eventsSubject.next(new pa("token_refresh_error",a)),o(a)})})}tryLoginImplicitFlow(t=null){let r;r=(t=t||{}).customHashFragment?this.urlHelper.getHashFragmentParams(t.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",r);const i=r.state,[s,o]=this.parseState(i);if(this.state=o,r.error){this.debug("error trying to login"),this.handleLoginError(t,r);const h=new pa("token_error",{},r);return this.eventsSubject.next(h),Promise.reject(h)}const a=r.access_token,l=r.id_token,c=r.session_state,u=r.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!a||this.requestAccessToken&&!t.disableOAuth2StateCheck&&!i||this.oidc&&!l)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!c&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!t.disableNonceCheck&&!this.validateNonce(s)){const d=new pa("invalid_nonce_in_state",null);return this.eventsSubject.next(d),Promise.reject(d)}return this.requestAccessToken&&this.storeAccessTokenResponse(a,null,r.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u),this.oidc?this.processIdToken(l,a,t.disableNonceCheck).then(h=>t.validationHandler?t.validationHandler({accessToken:a,idClaims:h.idTokenClaims,idToken:h.idToken,state:i}).then(()=>h):h).then(h=>(this.storeIdToken(h),this.storeSessionState(c),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new ph("token_received")),this.callOnTokenReceivedIfExists(t),this.inImplicitFlow=!1,!0)).catch(h=>(this.eventsSubject.next(new pa("token_validation_error",h)),this.logger.error("Error validating tokens"),this.logger.error(h),Promise.reject(h))):(this.eventsSubject.next(new ph("token_received")),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(t),Promise.resolve(!0))}parseState(t){let r=t,i="";if(t){const s=t.indexOf(this.config.nonceStateSeparator);s>-1&&(r=t.substr(0,s),i=t.substr(s+this.config.nonceStateSeparator.length))}return[r,i]}validateNonce(t){let r;return r=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),r===t||(console.error("Validating access_token failed, wrong state/nonce.",r,t),!1)}storeIdToken(t){this._storage.setItem("id_token",t.idToken),this._storage.setItem("id_token_claims_obj",t.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+t.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(t){this._storage.setItem("session_state",t)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(t,r){t.onLoginError&&t.onLoginError(r),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(t=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:t}processIdToken(t,r,i=!1){const s=t.split("."),a=oue(this.padBase64(s[0])),l=JSON.parse(a),u=oue(this.padBase64(s[1])),h=JSON.parse(u);let d;if(d=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(h.aud)){if(h.aud.every(y=>y!==this.clientId)){const y="Wrong audience: "+h.aud.join(",");return this.logger.warn(y),Promise.reject(y)}}else if(h.aud!==this.clientId){const y="Wrong audience: "+h.aud;return this.logger.warn(y),Promise.reject(y)}if(!h.sub){const y="No sub claim in id_token";return this.logger.warn(y),Promise.reject(y)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==h.sub){const y=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${h.sub}`;return this.logger.warn(y),Promise.reject(y)}if(!h.iat){const y="No iat claim in id_token";return this.logger.warn(y),Promise.reject(y)}if(!this.skipIssuerCheck&&h.iss!==this.issuer){const y="Wrong issuer: "+h.iss;return this.logger.warn(y),Promise.reject(y)}if(!i&&h.nonce!==d){const y="Wrong nonce: "+h.nonce;return this.logger.warn(y),Promise.reject(y)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!h.at_hash){const y="An at_hash is needed!";return this.logger.warn(y),Promise.reject(y)}const f=this.dateTimeService.now(),A=1e3*h.iat,p=1e3*h.exp,m=this.getClockSkewInMsec();if(A-m>=f||p+m-this.decreaseExpirationBySec<=f){const y="Token has expired";return console.error(y),console.error({now:f,issuedAtMSec:A,expiresAtMSec:p}),Promise.reject(y)}const g={accessToken:r,idToken:t,jwks:this.jwks,idTokenClaims:h,idTokenHeader:l,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(g).then(()=>({idToken:t,idTokenClaims:h,idTokenClaimsJson:u,idTokenHeader:l,idTokenHeaderJson:a,idTokenExpiresAt:p})):this.checkAtHash(g).then(y=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!y){const v="Wrong at_hash";return this.logger.warn(v),Promise.reject(v)}return this.checkSignature(g).then(()=>{const _={idToken:t,idTokenClaims:h,idTokenClaimsJson:u,idTokenHeader:l,idTokenHeaderJson:a,idTokenExpiresAt:p};return this.disableAtHashCheck?_:this.checkAtHash(g).then(C=>{if(this.requestAccessToken&&!C){const b="Wrong at_hash";return this.logger.warn(b),Promise.reject(b)}return _})})})}getIdentityClaims(){const t=this._storage.getItem("id_token_claims_obj");return t?JSON.parse(t):null}getGrantedScopes(){const t=this._storage.getItem("granted_scopes");return t?JSON.parse(t):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(t){for(;t.length%4!=0;)t+="=";return t}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const t=this._storage.getItem("expires_at"),r=this.dateTimeService.new();return!(t&&parseInt(t,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const t=this._storage.getItem("id_token_expires_at"),r=this.dateTimeService.new();return!(t&&parseInt(t,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(t){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(t)>=0&&null!==this._storage.getItem(t)?JSON.parse(this._storage.getItem(t)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(t={},r=""){let i=!1;"boolean"==typeof t&&(i=t,t={});const s=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(a=>this._storage.removeItem(a)),this.silentRefreshSubject=null,this.eventsSubject.next(new Pp("logout")),!this.logoutUrl||i)return;let o;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)o=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(s)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let a=new eh({encoder:new ME});s&&(a=a.set("id_token_hint",s));const l=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";l&&(a=a.set("post_logout_redirect_uri",l),r&&(a=a.set("state",r)));for(const c in t)a=a.set(c,t[c]);o=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+a.toString()}this.config.openUri(o)}createAndSaveNonce(){const t=this;return this.createNonce().then(function(r){return t.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",r):t._storage.setItem("nonce",r),r})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const t=this.document.getElementById(this.silentRefreshIFrameName);t&&t.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const r=this.document.getElementById(this.sessionCheckIFrameName);r&&r.remove()}createNonce(){return new Promise(t=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let i=45,s="";const o=typeof self>"u"?null:self.crypto||self.msCrypto;if(o){let a=new Uint8Array(i);o.getRandomValues(a),a.map||(a.map=Array.prototype.map),a=a.map(l=>r.charCodeAt(l%66)),s=String.fromCharCode.apply(null,a)}else for(;0<i--;)s+=r[66*Math.random()|0];t(k6(s))})}checkAtHash(t){var r=this;return(0,yt.A)(function*(){return r.tokenValidationHandler?r.tokenValidationHandler.validateAtHash(t):(r.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(t){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(t):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(t="",r={}){return"code"===this.responseType?this.initCodeFlow(t,r):this.initImplicitFlow(t,r)}initCodeFlow(t="",r={}){""!==this.loginUrl?this.initCodeFlowInternal(t,r):this.events.pipe(Bi(i=>"discovery_document_loaded"===i.type)).subscribe(()=>this.initCodeFlowInternal(t,r))}initCodeFlowInternal(t="",r={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let i={},s=null;"string"==typeof r?s=r:"object"==typeof r&&(i=r),this.createLoginUrl(t,s,null,!1,i).then(this.config.openUri).catch(o=>{console.error("Error in initAuthorizationCodeFlow"),console.error(o)})}createChallangeVerifierPairForPKCE(){var t=this;return(0,yt.A)(function*(){if(!t.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const r=yield t.createNonce();return[k6(yield t.crypto.calcHash(r,"sha-256")),r]})()}extractRecognizedCustomParameters(t){const r=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(i=>{t[i]&&r.set(i,JSON.stringify(t[i]))}),r}revokeTokenAndLogout(t={},r=!1){const i=this.revocationEndpoint,s=this.getAccessToken(),o=this.getRefreshToken();if(!s)return Promise.resolve();let a=new eh({encoder:new ME}),l=(new xo).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const c=btoa(`${this.clientId}:${this.dummyClientSecret}`);l=l.set("Authorization","Basic "+c)}if(this.useHttpBasicAuth||(a=a.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(a=a.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const c of Object.getOwnPropertyNames(this.customQueryParams))a=a.set(c,this.customQueryParams[c]);return new Promise((c,u)=>{let h,d;if(s){const f=a.set("token",s).set("token_type_hint","access_token");h=this.http.post(i,f,{headers:l})}else h=kn(null);if(o){const f=a.set("token",o).set("token_type_hint","refresh_token");d=this.http.post(i,f,{headers:l})}else d=kn(null);r&&(h=h.pipe(Wf(f=>0===f.status?kn(null):n0(f))),d=d.pipe(Wf(f=>0===f.status?kn(null):n0(f)))),xT([h,d]).subscribe(f=>{this.logOut(t),c(f),this.logger.info("Token successfully revoked")},f=>{this.logger.error("Error revoking token",f),this.eventsSubject.next(new pa("token_revoke_error",f)),u(f)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}static{this.\u0275fac=function(r){return new(r||n)(Ut(Cr),Ut(zv),Ut(sue,8),Ut(aue,8),Ut(OF,8),Ut(lue),Ut(iue),Ut(uue,8),Ut(Xi),Ut(L6))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();class hue{}class Gat{handleError(e){return n0(e)}}let jat=(()=>{class n{constructor(t,r,i){this.oAuthService=t,this.errorHandler=r,this.moduleConfig=i}checkUrl(t){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(t):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(r=>t.toLowerCase().startsWith(r.toLowerCase()))}intercept(t,r){const i=t.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(i)?this.moduleConfig.resourceServer.sendAccessToken?X8(kn(this.oAuthService.getAccessToken()).pipe(Bi(o=>!!o)),this.oAuthService.events.pipe(Bi(o=>"token_received"===o.type),function Nat(n,e){const{first:t,each:r,with:i=Iat,scheduler:s=e??ob,meta:o=null}=JZ(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==t&&null==r)throw new TypeError("No timeout provided.");return ki((a,l)=>{let c,u,h=null,d=0;const f=A=>{u=qd(l,s,()=>{try{c.unsubscribe(),Ga(i({meta:o,lastValue:h,seen:d})).subscribe(l)}catch(p){l.error(p)}},A)};c=a.subscribe(Hi(l,A=>{u?.unsubscribe(),d++,l.next(h=A),r>0&&f(r)},void 0,void 0,()=>{u?.closed||u?.unsubscribe(),h=null})),!d&&f(null!=t?"number"==typeof t?t:+t-s.now():r)})}(this.oAuthService.waitForTokenInMsec||0),Wf(()=>kn(null)),Tr(()=>this.oAuthService.getAccessToken()))).pipe(Co(1),ja(o=>{if(o){const l=t.headers.set("Authorization","Bearer "+o);t=t.clone({headers:l})}return r.handle(t).pipe(Wf(a=>this.errorHandler.handleError(a)))})):r.handle(t).pipe(Wf(o=>this.errorHandler.handleError(o))):r.handle(t)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Q6),Ut(hue),Ut(rue,8))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}}return n})();function qat(){return console}function Wat(){return typeof sessionStorage<"u"?sessionStorage:new Rat}function $at(n=null,e=P6){return TA([Q6,lue,{provide:iue,useFactory:qat},{provide:sue,useFactory:Wat},{provide:aue,useClass:e},{provide:uue,useClass:zat},{provide:hue,useClass:Gat},{provide:rue,useValue:n},{provide:PL,useClass:jat,multi:!0},{provide:L6,useClass:Fat}])}let Kat=(()=>{class n{static forRoot(t=null,r=P6){return{ngModule:n,providers:[$at(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({imports:[Pg]})}}return n})();function Yat(n,e){if(1&n){const t=ws();fe(0,"div")(1,"button",3),qt("click",function(){return On(t),Un(en().login())}),Te(2,"Login with Facebook"),he()()}}function Jat(n,e){if(1&n){const t=ws();fe(0,"div")(1,"p"),Te(2),he(),fe(3,"button",3),qt("click",function(){return On(t),Un(en().logout())}),Te(4,"Logout"),he(),fe(5,"form",4),qt("ngSubmit",function(){return On(t),Un(en().onSubmit())}),fe(6,"input",5),Hf("ngModelChange",function(i){On(t);const s=en();return zd(s.message,i)||(s.message=i),Un(i)}),he(),fe(7,"button",6),Te(8,"Send"),he()()()}if(2&n){const t=en();Be(2),zi("Welcome, ",t.getUserName(),"!"),Be(4),kf("ngModel",t.message)}}new yn("AUTH_CONFIG");let Zat=(()=>{class n{constructor(t,r){this.oauthService=t,this.message="",this.configureOAuth()}configureOAuth(){this.oauthService.configure({issuer:"https://www.facebook.com/v12.0/dialog/oauth",redirectUri:window.location.origin+"/",clientId:"1763416537924183",scope:"email",strictDiscoveryDocumentValidation:!1}),this.oauthService.setupAutomaticSilentRefresh(),console.log("setup oautn")}login(){try{console.log("LOGIN"),this.oauthService.initLoginFlow()}catch(t){console.error("LOGIN ERROR : "+t)}}logout(){this.oauthService.logOut()}isLoggedIn(){return this.oauthService.hasValidAccessToken()}getUserName(){const t=this.oauthService.getIdentityClaims();return t?t.name:""}onSubmit(){console.log("Message:",this.message)}static{this.\u0275fac=function(r){return new(r||n)(pt(Q6),pt(TE))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-login"]],decls:5,vars:2,consts:[[4,"ngIf"],["align","right"],["routerLink","/Home"],[3,"click"],[3,"ngSubmit"],["type","text","name","message","placeholder","Your message",3,"ngModelChange","ngModel"],["type","submit"]],template:function(r,i){1&r&&(dn(0,Yat,3,0,"div",0)(1,Jat,9,2,"div",0),fe(2,"div",1)(3,"a",2),Te(4,"[Volver al Inicio]"),he()()),2&r&&(qe("ngIf",!i.isLoggedIn()),Be(),qe("ngIf",i.isLoggedIn()))},dependencies:[ds,tc,k_,ZA,qv,L_,Kv,$v]})}}return n})();const elt=(n,e)=>e.id;function tlt(n,e){1&n&&(fe(0,"span",9),Te(1,"[Cargando...]"),he())}function nlt(n,e){1&n&&(fe(0,"span",9),Te(1,"[Escuchando...]"),he())}function rlt(n,e){if(1&n&&(fe(0,"span",25)(1,"p"),Te(2),he()()),2&n){const t=en();Be(2),zi("Error: ",t.error,"")}}function ilt(n,e){if(1&n&&(fe(0,"tr")(1,"th",26),Te(2),he(),fe(3,"td"),ft(4,"input",27),he(),fe(5,"td",0),ft(6,"ngb-highlight",28),he(),fe(7,"td",0)(8,"a",29),ft(9,"ngb-highlight",28),he()(),fe(10,"td",0)(11,"a",29),ft(12,"ngb-highlight",28),he()(),fe(13,"td",0)(14,"a",29),ft(15,"ngb-highlight",28),he()(),fe(16,"td",0)(17,"a",29),ft(18,"ngb-highlight",28),he()()()),2&n){const t=e.$implicit,r=en();Be(2),Nr(t.id),Be(2),qe("checked",t.done),Be(2),qe("result",t.description)("term",r.searchTerm),Be(2),qe("href",t.field_1,mo),Be(),qe("result",t.name)("term",r.searchTerm),Be(2),qe("href",t.field_3,mo),Be(),qe("result",t.field_2)("term",r.searchTerm),Be(2),qe("href",t.field_5,mo),Be(),qe("result",t.field_4)("term",r.searchTerm),Be(2),qe("href",t.field_7,mo),Be(),qe("result",t.field_6)("term",r.searchTerm)}}function slt(n,e){1&n&&(fe(0,"tr")(1,"td",30),Te(2,"[NO SE ENCONTRARON DATOS]"),he()())}const olt={asc:"desc",desc:"","":"asc"};let llt=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new ie}_rotatePage(){this.direction=olt[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(r,i){1&r&&qt("click",function(){return i._rotatePage()}),2&r&&Ci("asc","asc"===i._direction)("desc","desc"===i._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})();const fue=[{path:"Home",component:Ble,caption:"Home"},{path:"",component:Ble,caption:""},{path:"Sudoku",component:nOe,caption:"Sudoku"},{path:"TicTacToe",component:mOe,caption:"TicTacToe"},{path:"TicTacToeOnline",component:mPe,caption:"TicTacToe-Online"},{path:"Hanoi",component:WEe,caption:"Hanoi - Timer"},{path:"HanoiRjxs",component:zEe,caption:"Hanoi - Rjxs"},{path:"HanoiAuto",component:HEe,caption:"Hanoi - Rjxs -Auto"},{path:"Hanoi3d",component:zFe,caption:"Hanoi - 3d"},{path:"RxJsPlayground",component:jnt,caption:"RxJs-Playground"},{path:"OcrPhotoCapture",component:Tnt,caption:"Ocr-Photo-Capture"},{path:"Ocr",component:Rnt,caption:"Ocr"},{path:"Chat",component:XPe,caption:"Chat"},{path:"SpeechRecognition",component:nrt,caption:"Speech  - Recognition"},{path:"ShapeReconCanvas",component:ert,caption:"Shape   - Recon - Canvas"},{path:"ShapeRecognition",component:knt,caption:"Shape   - Recognition"},{path:"BackendTesting",component:Int,caption:"Backend - Testing"},{path:"BouncingBall",component:yPe,caption:"Boucing - Testing"},{path:"Tetris",component:cOe,caption:"Tetris  - Testing"},{path:"MathParsing",component:ftt,caption:"Math    - Testing"},{path:"Dev",component:Nnt,caption:"Testing Releases"},{path:"StableReleases",component:Bnt,caption:"Stable Releases"},{path:"SCM",component:(()=>{class n{constructor(t,r){this.pipe=t,this._authService=r,this.ConfigRoleString=t6.RoleConfig.toString(),this._loading=new Ms(!0),this._total=new Ms(0),this._search$=new Ur,this._Pagelist=new Ms([]),this._state={page:1,pageSize:6,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(vo(()=>this._loading.next(!0)),n6(200),Oc(()=>this._search()),Fm(200),vo(()=>this._loading.next(!1))).subscribe(i=>{this._Pagelist.next(i.searchPages),this._total.next(i.total)}),this._search$.next()}_search(){let t,r,i={searchPages:t,total:r};const{pageSize:a,page:l,searchTerm:c}=this._state;return console.log("search : "+JSON.stringify(jg.scmList)),t=jg.scmList,t=t.filter(u=>function alt(n,e,t){return n.name?.toLowerCase().includes(e?.toLowerCase())||n.description?.toLowerCase().includes(e?.toLowerCase())||n.field_1?.toLowerCase().includes(e?.toLowerCase())||n.field_2?.toLowerCase().includes(e?.toLowerCase())||n.field_3?.toLowerCase().includes(e?.toLowerCase())||n.field_4?.toLowerCase().includes(e?.toLowerCase())||n.field_5?.toLowerCase().includes(e?.toLowerCase())||n.field_6?.toLowerCase().includes(e?.toLowerCase())||n.field_7?.toLowerCase().includes(e?.toLowerCase())}(u,c)),r=t.length,t=t.slice((l-1)*a,(l-1)*a+a),i={searchPages:t,total:r},kn(i)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:r}){this.headers?.forEach(i=>{i.sortable!==t&&(i.direction="")}),this.sortColumn=t,this.sortDirection=r}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(r){return new(r||n)(pt(zM),pt(Nle))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-scm"]],viewQuery:function(r,i){if(1&r&&Ki(llt,5),2&r){let s;lr(s=cr())&&(i.headers=s)}},decls:61,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["align","left","scope","col","sortable","id"],["align","left","scope","col","sortable","done"],["align","left","scope","col","sortable","description"],["align","left","scope","col","sortable","name"],["align","left","scope","col","sortable","field_2"],["align","left","scope","col","sortable","field_4"],["align","left","scope","col","sortable","field_6"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],["scope","row"],["type","checkbox","name","done","id","done","value","done","readonly","",3,"checked"],[3,"result","term"],["target","_blank",3,"href"],["colspan","4",2,"text-align","center"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Te(2,"[SCM]"),he()(),ft(3,"hr"),fe(4,"form")(5,"div",1)(6,"label",2),Te(7,"Busqueda de Texto Completo:"),he(),fe(8,"div",3)(9,"input",4),Hf("ngModelChange",function(o){return zd(i.searchTerm,o)||(i.searchTerm=o),o}),he()(),fe(10,"span",5)(11,"button",6),qt("click",function(){return i.startListening()}),ft(12,"img",7),he(),fe(13,"button",6),qt("click",function(){return i.stopListening()}),ft(14,"img",7),he(),fe(15,"button",6),qt("click",function(){return i.speakText()}),ft(16,"img",7),he(),fe(17,"button",8),qt("click",function(){return i.clearText()}),ft(18,"img",7),he()(),dn(19,tlt,2,0,"span",9),Au(20,"async"),dn(21,nlt,2,0,"span",9)(22,rlt,3,1,"span",10),he(),fe(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),Te(27,"#"),he(),fe(28,"th",13),Te(29,"(Hecho)"),he(),fe(30,"th",14),Te(31,"[Type]"),he(),fe(32,"th",15),Te(33,"[desc_1]"),he(),fe(34,"th",16),Te(35,"[desc_2]"),he(),fe(36,"th",17),Te(37,"[desc_3]"),he(),fe(38,"th",18),Te(39,"[desc_4]"),he()()(),fe(40,"tbody"),Yu(41,ilt,19,16,"tr",null,elt,!1,slt,3,0,"tr"),Au(44,"async"),he()(),fe(45,"div",19)(46,"ngb-pagination",20),Au(47,"async"),Hf("pageChange",function(o){return zd(i.page,o)||(i.page=o),o}),he(),fe(48,"select",21),Hf("ngModelChange",function(o){return zd(i.pageSize,o)||(i.pageSize=o),o}),fe(49,"option",22),Te(50,"2 items por Pagina"),he(),fe(51,"option",22),Te(52,"4 items por Pagina"),he(),fe(53,"option",22),Te(54,"6 tems por Pagina"),he(),fe(55,"option",22),Te(56,"10 items por Pagina"),he()()()(),ft(57,"hr"),fe(58,"div",23)(59,"a",24),Te(60,"[Volver al Inicio]"),he()()),2&r&&(Be(9),kf("ngModel",i.searchTerm),Be(2),qe("disabled",i.isListening),Be(),qe("src",i.ListeningButtonIconOn,mo),Be(),qe("disabled",!i.isListening),Be(),qe("src",i.ListeningButtonIconOff,mo),Be(),qe("disabled",i.isListening),Be(),qe("src",i.SpeakerIcon,mo),Be(2),qe("src",i.clearFormIcon,mo),Be(),Oo(19,pu(20,20,i.loading)?19:-1),Be(2),Oo(21,i.isListening&&!i.error?21:-1),Be(),qe("ngIf",i.error),Be(19),Ju(pu(44,22,i._Pagelist)),Be(5),qe("collectionSize",pu(47,24,i.total)),kf("page",i.page),qe("pageSize",i.pageSize),Be(2),kf("ngModel",i.pageSize),Be(),qe("ngValue",2),Be(2),qe("ngValue",4),Be(2),qe("ngValue",6),Be(2),qe("ngValue",10))},dependencies:[ds,tc,k_,Xv,Yv,ZA,LS,qv,L_,Kv,$v,R6,O6,R_],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})(),caption:"About - SCM"},{path:"Topics",component:(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-topics"]],decls:120,vars:0,consts:[["align","left"],["target","_blank","href","#"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Te(2,"[TOPICS]"),he(),fe(3,"h2"),Te(4,"[Front End]"),he(),fe(5,"ul")(6,"li")(7,"a",1),Te(8,"[Angular/Typescript]"),he()(),fe(9,"li")(10,"a",1),Te(11,"[BootStrap]"),he()(),fe(12,"li")(13,"a",1),Te(14,"[Angular Material]"),he()(),fe(15,"li")(16,"a",1),Te(17,"[jquery/css/html]"),he()()(),fe(18,"h2"),Te(19,"[Backend]"),he(),fe(20,"ul")(21,"li")(22,"a",1),Te(23,"[c# / .NET CORE]"),he()(),fe(24,"li")(25,"a",1),Te(26,"[node.js]"),he()()(),fe(27,"h2"),Te(28,"[A.I.]"),he(),fe(29,"ul")(30,"li")(31,"a",1),Te(32,"Google Gemini"),he()(),fe(33,"li")(34,"a",1),Te(35,"Chat gtp"),he()(),fe(36,"li")(37,"a",1),Te(38,"C# Accord"),he()(),fe(39,"li")(40,"a",1),Te(41,"C++ OpenCV"),he()()(),fe(42,"h2"),Te(43,"[Algorithm]"),he(),fe(44,"ul")(45,"li")(46,"a",1),Te(47,"[TAOCP]"),he()(),fe(48,"li")(49,"a",1),Te(50,"[Coursera / Neural Networks / Machine Learning]"),he()()(),fe(51,"h2"),Te(52,"[Databases]"),he(),fe(53,"ul")(54,"li")(55,"a",1),Te(56,"[MS SQL SERVER]"),he()(),fe(57,"li")(58,"a",1),Te(59,"[ORACLE]"),he()(),fe(60,"li")(61,"a",1),Te(62,"[MY SQL]"),he()()(),fe(63,"h2"),Te(64,"[Software Engineering]"),he(),fe(65,"ul")(66,"li")(67,"a",1),Te(68,"[Swebok]"),he()(),fe(69,"li")(70,"a",1),Te(71,"[Solid]"),he()(),fe(72,"li")(73,"a",1),Te(74,"[Softeware Patterns]"),he()(),fe(75,"li")(76,"a",1),Te(77,"[Clean]"),he()()(),ft(78,"hr"),fe(79,"h4"),Te(80,"[Angular - Listado por Tema]"),he(),fe(81,"ul")(82,"li"),Te(83,"Formularios basados en plantillas."),he(),fe(84,"li"),Te(85,"Fomulaios reactivos."),he(),fe(86,"li"),Te(87,"Servicios (llamadas API Rest a backends .net o node.js)."),he(),fe(88,"li"),Te(89,"Pipes (formato de fecha)."),he(),fe(90,"li"),Te(91,"Injecci\xf3n de Dependencia."),he()(),ft(92,"hr"),fe(93,"h4"),Te(94,"[Angular - Listado Por Caracter\xedstica]"),he(),fe(95,"ul")(96,"li"),Te(97,"Lectura de archivos de configuraci\xf3n."),he(),fe(98,"li"),Te(99,"Interceptores (registro de llamadas http)"),he(),fe(100,"li"),Te(101,"Manejo de errores."),he(),fe(102,"li"),Te(103,"Manejo de Graficos (canvas)."),he(),fe(104,"li"),Te(105,"Graficos estadisticos tipo Pastel y barras."),he(),fe(106,"li"),Te(107,"Exportaciones pdf, xls, csv, pdf."),he(),fe(108,"li"),Te(109,"Algoritmos (minmax, camino m\xe1s corto)."),he(),fe(110,"li"),Te(111,"OCR (Reconocimientos de Caracteres)."),he(),fe(112,"li"),Te(113,"LLamado a Sockets via Node.js (Chat)."),he(),fe(114,"li"),Te(115,"Manipulaci\xf3n de bases de datos MS SQL Server desde .net Core (backend)."),he()()(),ft(116,"hr"),fe(117,"div",2)(118,"a",3),Te(119,"[Volver al Inicio]"),he()())},dependencies:[ds]})}}return n})(),caption:"About - Topics"},{path:"LLMs",component:Tat,caption:"About - LLM List"},{path:"Index",component:Dat,caption:"About - Index"},{path:"Login",component:Zat,caption:"About - Login"},{path:"About",component:(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-about"]],decls:23,vars:0,consts:[["align","left"],["routerLink","/Topics"],["routerLink","/LLMs"],["routerLink","/SCM"],["routerLink","/Login"],["routerLink","/Index"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h2"),Te(2,"[ABOUT]"),he(),fe(3,"ul")(4,"li")(5,"a",1),Te(6,"[Topics]"),he()(),fe(7,"li")(8,"a",2),Te(9,"[Large Language Models List]"),he()(),fe(10,"li")(11,"a",3),Te(12,"[Software Configuration Management]"),he()(),fe(13,"li")(14,"a",4),Te(15,"[Login]"),he()(),fe(16,"li")(17,"a",5),Te(18,"[Index]"),he()()()(),ft(19,"hr"),fe(20,"div",6)(21,"a",7),Te(22,"[Volver al Inicio]"),he()())},dependencies:[ds]})}}return n})(),caption:"About"},{path:"**",component:srt,caption:""}];let clt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({imports:[nX.forRoot(fue),nX]})}}return n})();function ult(n,e){if(1&n){const t=ws();fe(0,"ul",14)(1,"li",15)(2,"a",16),qt("click",function(){return On(t),Un(en().NavbarCollapsed=!0)}),fe(3,"div",17),Te(4),he()()()()}if(2&n){const t=e.$implicit;Be(2),hS("routerLink","/",t.url,""),Be(2),Nr(t.text)}}let hlt=(()=>{class n{get NavbarCollapsed(){return this.navbarCollapsed}set NavbarCollapsed(t){this.navbarCollapsed=t}constructor(t,r,i,s,o){this.router=t,this.configService=r,this.titleService=i,this.customErrorHandler=s,this.loggingInterceptor=o,this.title="PWA_DEMO_ENV_TEST",this._title="",this._appBrand="",this._appEnv="",this._appVersion="",this.runtimeVersion=UG.full,this.pages=[{url:"/Home",text:"[Home]"},{url:"/Dev",text:"[Testing Releases]"},{url:"/StableReleases",text:"[Stable Releases]"},{url:"/About",text:"[About]"}],this.navbarCollapsed=!0,this._appBrand=this.configService.getConfigValue("appBrand"),this._appEnv=this.configService.getConfigValue("appEnv"),this._appVersion=this.configService.getConfigValue("appVersion"),this._title=`${this._appBrand} - ${this._appEnv}  - v[${this._appVersion}]`,console.log(`${this._title}`)}ngOnInit(){this.titleService.setTitle(this._title)}static{this.\u0275fac=function(r){return new(r||n)(pt(Lc),pt(qg),pt(eT),pt(TE),pt(LF))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-nav"]],decls:25,vars:7,consts:[["navbarItems",""],[1,""],[1,"navbar","navbar-expand-lg","subtitle"],["type","button","data-toggle","collapse","data-target","#navbarItems","aria-controls","navbarItems","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand"],[1,"subtitle",3,"click"],["routerLink","/"],[1,"me-1",2,"width","25px",3,"src","alt"],["id","navbarItems",1,"collapse","navbar-collapse","subtitle",3,"ngbCollapse"],["class","navbar-nav",4,"ngFor","ngForOf"],["role","main",1,"content"],[1,"footer"],["routerLink","/Index"],[1,"navbar-nav"],[1,"nav-item"],[1,"nav-link",3,"click","routerLink"],["align","left"]],template:function(r,i){if(1&r){const s=ws();fe(0,"header",1)(1,"div",1)(2,"nav",2)(3,"button",3),qt("click",function(){return On(s),Un(i.NavbarCollapsed=!i.NavbarCollapsed)}),ft(4,"span",4),he(),fe(5,"a",5)(6,"div",6),qt("click",function(){return On(s),Un(i.NavbarCollapsed=!0)}),fe(7,"a",7),ft(8,"img",8),he()()(),fe(9,"div",9,0),dn(11,ult,5,3,"ul",10),he()()()(),ft(12,"hr"),fe(13,"div",11),ft(14,"router-outlet"),he(),ft(15,"hr"),fe(16,"footer")(17,"div",12)(18,"h5")(19,"a",13),Te(20,"[Index]"),he()(),fe(21,"h5"),Te(22),he(),fe(23,"h5"),Te(24),he()()()}2&r&&(Be(8),qe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",mo)("alt","Angular Logo"),Be(),qe("ngbCollapse",i.NavbarCollapsed),Be(2),qe("ngForOf",i.pages),Be(11),AM("Aplication Name : ",i._appBrand," - ",i._appEnv,""),Be(2),zi("Aplication Version : ",i._appVersion,""))},dependencies:[Z3,ds,Il,m6]})}}return n})(),TE=(()=>{class n{constructor(t){this.mcsdService=t}handleError(t){console.warn("[CUSTOM ERROR HANDLING]:\n"+t.name+"\n"+t.message),this.mcsdService.SetLog("[CUSTOM ERROR HANDLING]",t.message,hU.Error)}static{this.\u0275fac=function(r){return new(r||n)(Ut(Hb))}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LF=(()=>{class n{constructor(){}intercept(t,r){const i=Date.now();let s;return r.handle(t).pipe(vo({next:o=>s=o instanceof JA?"succeeded":"",error:o=>s="failed"}),O_(()=>{const o=Date.now()-i;console.warn(` [REQUEST URL (INTERCEPT)] : ${t.method} "${t.urlWithParams}" ${s} in ${o} ms.`)}))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function flt(n){return n.loadAiPrompts(),n.loadSCMList(),()=>n.loadConfig()}let dlt=(()=>{class n{constructor(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n,bootstrap:[iX]})}static{this.\u0275inj=Kr({providers:[_L,zM,zv,gbe(),[{provide:PL,useClass:LF,multi:!0},{provide:Wu,useClass:TE},qg,{provide:yM,useFactory:flt,deps:[qg],multi:!0}]],imports:[nee,oX,Cee,clt,Pg,v$,mwe,U1e,hW,hSe,_nt,nue,nue,RF,y6,O6,RF,v$,jPe,Kat.forRoot()]})}}return n})();(function gG(n,e,t){const r=n.\u0275cmp;r.directiveDefs=MA(e,!1),r.pipeDefs=MA(t,!0)})(iX,function(){return[hlt]},[]),hbe().bootstrapModule(dlt).catch(n=>console.error(n))},4987:gr=>{"use strict";var Xn=Object.assign||function(Ct){for(var An=1;An<arguments.length;An++){var Mn=arguments[An];for(var jn in Mn)Object.prototype.hasOwnProperty.call(Mn,jn)&&(Ct[jn]=Mn[jn])}return Ct},we={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Et={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},yt=function(An,Mn){return Xn({},An,Mn)};gr.exports=function(Ct){for(var An=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Mn=An.preserveFormatting,jn=void 0!==Mn&&Mn,zn=An.escapeMapFn,bt=void 0===zn?yt:zn,Ge=String(Ct),Pt="",Bt=bt(Xn({},we),jn?Xn({},Et):{}),mt=Object.keys(Bt),Gt=function(){var rn=!1;mt.forEach(function(Jr,ps){rn||Ge.length>=Jr.length&&Ge.slice(0,Jr.length)===Jr&&(Pt+=Bt[mt[ps]],Ge=Ge.slice(Jr.length,Ge.length),rn=!0)}),rn||(Pt+=Ge.slice(0,1),Ge=Ge.slice(1,Ge.length))};Ge;)Gt();return Pt}},7239:function(gr){gr.exports=function(){"use strict";var Xn=function(E,S){return(Xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,I){N.__proto__=I}||function(N,I){for(var z in I)Object.prototype.hasOwnProperty.call(I,z)&&(N[z]=I[z])})(E,S)};function we(E,S){if("function"!=typeof S&&null!==S)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function N(){this.constructor=E}Xn(E,S),E.prototype=null===S?Object.create(S):(N.prototype=S.prototype,new N)}var Et=function(){return Et=Object.assign||function(S){for(var N,I=1,z=arguments.length;I<z;I++)for(var Z in N=arguments[I])Object.prototype.hasOwnProperty.call(N,Z)&&(S[Z]=N[Z]);return S},Et.apply(this,arguments)};function yt(E,S,N,I){return new(N||(N=Promise))(function(Z,ie){function De(Ze){try{je(I.next(Ze))}catch(at){ie(at)}}function Ee(Ze){try{je(I.throw(Ze))}catch(at){ie(at)}}function je(Ze){Ze.done?Z(Ze.value):function z(Z){return Z instanceof N?Z:new N(function(ie){ie(Z)})}(Ze.value).then(De,Ee)}je((I=I.apply(E,S||[])).next())})}function Ct(E,S){var I,z,Z,ie,N={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return ie={next:De(0),throw:De(1),return:De(2)},"function"==typeof Symbol&&(ie[Symbol.iterator]=function(){return this}),ie;function De(je){return function(Ze){return function Ee(je){if(I)throw new TypeError("Generator is already executing.");for(;N;)try{if(I=1,z&&(Z=2&je[0]?z.return:je[0]?z.throw||((Z=z.return)&&Z.call(z),0):z.next)&&!(Z=Z.call(z,je[1])).done)return Z;switch(z=0,Z&&(je=[2&je[0],Z.value]),je[0]){case 0:case 1:Z=je;break;case 4:return N.label++,{value:je[1],done:!1};case 5:N.label++,z=je[1],je=[0];continue;case 7:je=N.ops.pop(),N.trys.pop();continue;default:if(!(Z=(Z=N.trys).length>0&&Z[Z.length-1])&&(6===je[0]||2===je[0])){N=0;continue}if(3===je[0]&&(!Z||je[1]>Z[0]&&je[1]<Z[3])){N.label=je[1];break}if(6===je[0]&&N.label<Z[1]){N.label=Z[1],Z=je;break}if(Z&&N.label<Z[2]){N.label=Z[2],N.ops.push(je);break}Z[2]&&N.ops.pop(),N.trys.pop();continue}je=S.call(E,N)}catch(Ze){je=[6,Ze],z=0}finally{I=Z=0}if(5&je[0])throw je[1];return{value:je[0]?je[1]:void 0,done:!0}}([je,Ze])}}}function An(E,S,N){if(N||2===arguments.length)for(var Z,I=0,z=S.length;I<z;I++)(Z||!(I in S))&&(Z||(Z=Array.prototype.slice.call(S,0,I)),Z[I]=S[I]);return E.concat(Z||S)}for(var Mn=function(){function E(S,N,I,z){this.left=S,this.top=N,this.width=I,this.height=z}return E.prototype.add=function(S,N,I,z){return new E(this.left+S,this.top+N,this.width+I,this.height+z)},E.fromClientRect=function(S,N){return new E(N.left+S.windowBounds.left,N.top+S.windowBounds.top,N.width,N.height)},E.fromDOMRectList=function(S,N){var I=Array.from(N).find(function(z){return 0!==z.width});return I?new E(I.left+S.windowBounds.left,I.top+S.windowBounds.top,I.width,I.height):E.EMPTY},E.EMPTY=new E(0,0,0,0),E}(),jn=function(E,S){return Mn.fromClientRect(E,S.getBoundingClientRect())},bt=function(E){for(var S=[],N=0,I=E.length;N<I;){var z=E.charCodeAt(N++);if(z>=55296&&z<=56319&&N<I){var Z=E.charCodeAt(N++);56320==(64512&Z)?S.push(((1023&z)<<10)+(1023&Z)+65536):(S.push(z),N--)}else S.push(z)}return S},Ge=function(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];if(String.fromCodePoint)return String.fromCodePoint.apply(String,E);var N=E.length;if(!N)return"";for(var I=[],z=-1,Z="";++z<N;){var ie=E[z];ie<=65535?I.push(ie):I.push(55296+((ie-=65536)>>10),ie%1024+56320),(z+1===N||I.length>16384)&&(Z+=String.fromCharCode.apply(String,I),I.length=0)}return Z},Pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bt=typeof Uint8Array>"u"?[]:new Uint8Array(256),mt=0;mt<64;mt++)Bt[Pt.charCodeAt(mt)]=mt;for(var Gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yt=typeof Uint8Array>"u"?[]:new Uint8Array(256),rn=0;rn<64;rn++)Yt[Gt.charCodeAt(rn)]=rn;for(var Cd=function(E,S,N){return E.slice?E.slice(S,N):new Uint16Array(Array.prototype.slice.call(E,S,N))},Sd=function(){function E(S,N,I,z,Z,ie){this.initialValue=S,this.errorValue=N,this.highStart=I,this.highValueIndex=z,this.index=Z,this.data=ie}return E.prototype.get=function(S){var N;if(S>=0){if(S<55296||S>56319&&S<=65535)return this.data[N=((N=this.index[S>>5])<<2)+(31&S)];if(S<=65535)return this.data[N=((N=this.index[2048+(S-55296>>5)])<<2)+(31&S)];if(S<this.highStart)return N=this.index[N=2080+(S>>11)],this.data[N=((N=this.index[N+=S>>5&63])<<2)+(31&S)];if(S<=1114111)return this.data[this.highValueIndex]}return this.errorValue},E}(),Ym="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mw=typeof Uint8Array>"u"?[]:new Uint8Array(256),_A=0;_A<64;_A++)mw[Ym.charCodeAt(_A)]=_A;var N,I,z,ie,De,li=10,wc=13,ql=15,wo=17,Wl=18,zs=19,wh=20,bA=21,Ch=22,Je=24,lt=25,Ot=26,Wt=27,Vt=28,tn=30,Jt=32,Ui=33,Wi=34,ao=35,gs=37,Cl=38,Ua=39,di=40,my=42,yw=[9001,65288],ci="\xd7",Yp=(N=function(E){var I,Z,ie,De,Ee,S=.75*E.length,N=E.length,z=0;"="===E[E.length-1]&&(S--,"="===E[E.length-2]&&S--);var je=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(S):new Array(S),Ze=Array.isArray(je)?je:new Uint8Array(je);for(I=0;I<N;I+=4)Z=Yt[E.charCodeAt(I)],ie=Yt[E.charCodeAt(I+1)],De=Yt[E.charCodeAt(I+2)],Ee=Yt[E.charCodeAt(I+3)],Ze[z++]=Z<<2|ie>>4,Ze[z++]=(15&ie)<<4|De>>2,Ze[z++]=(3&De)<<6|63&Ee;return je}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),I=Array.isArray(N)?function(E){for(var S=E.length,N=[],I=0;I<S;I+=4)N.push(E[I+3]<<24|E[I+2]<<16|E[I+1]<<8|E[I]);return N}(N):new Uint32Array(N),z=Array.isArray(N)?function(E){for(var S=E.length,N=[],I=0;I<S;I+=2)N.push(E[I+1]<<8|E[I]);return N}(N):new Uint16Array(N),ie=Cd(z,12,I[4]/2),De=2===I[5]?Cd(z,(24+I[4])/2):function(E,S,N){return E.slice?E.slice(S,N):new Uint32Array(Array.prototype.slice.call(E,S,N))}(I,Math.ceil((24+I[4])/4)),new Sd(I[0],I[1],I[2],I[3],ie,De)),ki=[tn,36],Hi=[1,2,3,5],vy=[li,8],Tr=[Wt,Ot],Jp=Hi.concat(vy),Bi=[Cl,Ua,di,Wi,ao],Sl=[ql,wc],Jm=function(E,S,N,I){var z=I[N];if(Array.isArray(E)?-1!==E.indexOf(z):E===z)for(var Z=N;Z<=I.length;){if((ie=I[++Z])===S)return!0;if(ie!==li)break}if(z===li)for(Z=N;Z>0;){var De=I[--Z];if(Array.isArray(E)?-1!==E.indexOf(De):E===De)for(var Ee=N;Ee<=I.length;){var ie;if((ie=I[++Ee])===S)return!0;if(ie!==li)break}if(De!==li)break}return!1},Co=function(E,S){for(var N=E;N>=0;){var I=S[N];if(I!==li)return I;N--}return 0},Zp=function(E,S,N,I,z){if(0===N[I])return ci;var Z=I-1;if(Array.isArray(z)&&!0===z[Z])return ci;var ie=Z-1,De=Z+1,Ee=S[Z],je=ie>=0?S[ie]:0,Ze=S[De];if(2===Ee&&3===Ze)return ci;if(-1!==Hi.indexOf(Ee))return"!";if(-1!==Hi.indexOf(Ze)||-1!==vy.indexOf(Ze))return ci;if(8===Co(Z,S))return"\xf7";if(11===Yp.get(E[Z])||(Ee===Jt||Ee===Ui)&&11===Yp.get(E[De])||7===Ee||7===Ze||9===Ee||-1===[li,wc,ql].indexOf(Ee)&&9===Ze||-1!==[wo,Wl,zs,Je,Vt].indexOf(Ze)||Co(Z,S)===Ch||Jm(23,Ch,Z,S)||Jm([wo,Wl],bA,Z,S)||Jm(12,12,Z,S))return ci;if(Ee===li)return"\xf7";if(23===Ee||23===Ze)return ci;if(16===Ze||16===Ee)return"\xf7";if(-1!==[wc,ql,bA].indexOf(Ze)||14===Ee||36===je&&-1!==Sl.indexOf(Ee)||Ee===Vt&&36===Ze||Ze===wh||-1!==ki.indexOf(Ze)&&Ee===lt||-1!==ki.indexOf(Ee)&&Ze===lt||Ee===Wt&&-1!==[gs,Jt,Ui].indexOf(Ze)||-1!==[gs,Jt,Ui].indexOf(Ee)&&Ze===Ot||-1!==ki.indexOf(Ee)&&-1!==Tr.indexOf(Ze)||-1!==Tr.indexOf(Ee)&&-1!==ki.indexOf(Ze)||-1!==[Wt,Ot].indexOf(Ee)&&(Ze===lt||-1!==[Ch,ql].indexOf(Ze)&&S[De+1]===lt)||-1!==[Ch,ql].indexOf(Ee)&&Ze===lt||Ee===lt&&-1!==[lt,Vt,Je].indexOf(Ze))return ci;if(-1!==[lt,Vt,Je,wo,Wl].indexOf(Ze))for(var at=Z;at>=0;){if((xt=S[at])===lt)return ci;if(-1===[Vt,Je].indexOf(xt))break;at--}if(-1!==[Wt,Ot].indexOf(Ze))for(at=-1!==[wo,Wl].indexOf(Ee)?ie:Z;at>=0;){var xt;if((xt=S[at])===lt)return ci;if(-1===[Vt,Je].indexOf(xt))break;at--}if(Cl===Ee&&-1!==[Cl,Ua,Wi,ao].indexOf(Ze)||-1!==[Ua,Wi].indexOf(Ee)&&-1!==[Ua,di].indexOf(Ze)||-1!==[di,ao].indexOf(Ee)&&Ze===di||-1!==Bi.indexOf(Ee)&&-1!==[wh,Ot].indexOf(Ze)||-1!==Bi.indexOf(Ze)&&Ee===Wt||-1!==ki.indexOf(Ee)&&-1!==ki.indexOf(Ze)||Ee===Je&&-1!==ki.indexOf(Ze)||-1!==ki.concat(lt).indexOf(Ee)&&Ze===Ch&&-1===yw.indexOf(E[De])||-1!==ki.concat(lt).indexOf(Ze)&&Ee===Wl)return ci;if(41===Ee&&41===Ze){for(var In=N[Z],ln=1;In>0&&41===S[--In];)ln++;if(ln%2!=0)return ci}return Ee===Jt&&Ze===Ui?ci:"\xf7"},yy=function(E,S){S||(S={lineBreak:"normal",wordBreak:"normal"});var N=function(E,S){void 0===S&&(S="strict");var N=[],I=[],z=[];return E.forEach(function(Z,ie){var De=Yp.get(Z);if(De>50?(z.push(!0),De-=50):z.push(!1),-1!==["normal","auto","loose"].indexOf(S)&&-1!==[8208,8211,12316,12448].indexOf(Z))return I.push(ie),N.push(16);if(4===De||11===De){if(0===ie)return I.push(ie),N.push(tn);var Ee=N[ie-1];return-1===Jp.indexOf(Ee)?(I.push(I[ie-1]),N.push(Ee)):(I.push(ie),N.push(tn))}return I.push(ie),31===De?N.push("strict"===S?bA:gs):De===my||29===De?N.push(tn):43===De?N.push(Z>=131072&&Z<=196605||Z>=196608&&Z<=262141?gs:tn):void N.push(De)}),[I,N,z]}(E,S.lineBreak),I=N[0],z=N[1],Z=N[2];return("break-all"===S.wordBreak||"break-word"===S.wordBreak)&&(z=z.map(function(De){return-1!==[lt,tn,my].indexOf(De)?gs:De})),[I,z,"keep-all"===S.wordBreak?Z.map(function(De,Ee){return De&&E[Ee]>=19968&&E[Ee]<=40959}):void 0]},_w=function(){function E(S,N,I,z){this.codePoints=S,this.required="!"===N,this.start=I,this.end=z}return E.prototype.slice=function(){return Ge.apply(void 0,this.codePoints.slice(this.start,this.end))},E}(),na=function(E){return E>=48&&E<=57},wA=function(E){return na(E)||E>=65&&E<=70||E>=97&&E<=102},nv=function(E){return 10===E||9===E||32===E},ig=function(E){return function(E){return function(E){return E>=97&&E<=122}(E)||function(E){return E>=65&&E<=90}(E)}(E)||function(E){return E>=128}(E)||95===E},a2=function(E){return ig(E)||na(E)||45===E},Ew=function(E){return E>=0&&E<=8||11===E||E>=14&&E<=31||127===E},CA=function(E,S){return 92===E&&10!==S},Dw=function(E,S,N){return 45===E?ig(S)||CA(S,N):!!ig(E)||!(92!==E||!CA(E,S))},l2=function(E,S,N){return 43===E||45===E?!!na(S)||46===S&&na(N):na(46===E?S:E)},BV=function(E){var S=0,N=1;(43===E[S]||45===E[S])&&(45===E[S]&&(N=-1),S++);for(var I=[];na(E[S]);)I.push(E[S++]);var z=I.length?parseInt(Ge.apply(void 0,I),10):0;46===E[S]&&S++;for(var Z=[];na(E[S]);)Z.push(E[S++]);var ie=Z.length,De=ie?parseInt(Ge.apply(void 0,Z),10):0;(69===E[S]||101===E[S])&&S++;var Ee=1;(43===E[S]||45===E[S])&&(45===E[S]&&(Ee=-1),S++);for(var je=[];na(E[S]);)je.push(E[S++]);var Ze=je.length?parseInt(Ge.apply(void 0,je),10):0;return N*(z+De*Math.pow(10,-ie))*Math.pow(10,Ee*Ze)},Mw={type:2},rv={type:3},Tw={type:4},Bw={type:13},c2={type:8},bf={type:21},iv={type:9},u2={type:10},Br={type:11},ts={type:12},NV={type:14},xy={type:23},BR={type:1},IV={type:25},NR={type:24},Nw={type:26},vi={type:27},Iw={type:28},h2={type:29},Kl={type:31},Ey={type:32},IR=function(){function E(){this._value=[]}return E.prototype.write=function(S){this._value=this._value.concat(bt(S))},E.prototype.read=function(){for(var S=[],N=this.consumeToken();N!==Ey;)S.push(N),N=this.consumeToken();return S},E.prototype.consumeToken=function(){var S=this.consumeCodePoint();switch(S){case 34:return this.consumeStringToken(34);case 35:var N=this.peekCodePoint(0),I=this.peekCodePoint(1),z=this.peekCodePoint(2);if(a2(N)||CA(I,z)){var Z=Dw(N,I,z)?2:1;return{type:5,value:this.consumeName(),flags:Z}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Bw;break;case 39:return this.consumeStringToken(39);case 40:return Mw;case 41:return rv;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),NV;break;case 43:if(l2(S,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(S),this.consumeNumericToken();break;case 44:return Tw;case 45:var De=S,Ee=this.peekCodePoint(0),je=this.peekCodePoint(1);if(l2(De,Ee,je))return this.reconsumeCodePoint(S),this.consumeNumericToken();if(Dw(De,Ee,je))return this.reconsumeCodePoint(S),this.consumeIdentLikeToken();if(45===Ee&&62===je)return this.consumeCodePoint(),this.consumeCodePoint(),NR;break;case 46:if(l2(S,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(S),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var Ze=this.consumeCodePoint();if(42===Ze&&47===(Ze=this.consumeCodePoint()))return this.consumeToken();if(-1===Ze)return this.consumeToken()}break;case 58:return Nw;case 59:return vi;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),IV;break;case 64:var at=this.peekCodePoint(0),xt=this.peekCodePoint(1),In=this.peekCodePoint(2);if(Dw(at,xt,In))return{type:7,value:this.consumeName()};break;case 91:return Iw;case 92:if(CA(S,this.peekCodePoint(0)))return this.reconsumeCodePoint(S),this.consumeIdentLikeToken();break;case 93:return h2;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),c2;break;case 123:return Br;case 125:return ts;case 117:case 85:var ln=this.peekCodePoint(0),En=this.peekCodePoint(1);return 43===ln&&(wA(En)||63===En)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(S),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),iv;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),bf;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),u2;break;case-1:return Ey}return nv(S)?(this.consumeWhiteSpace(),Kl):na(S)?(this.reconsumeCodePoint(S),this.consumeNumericToken()):ig(S)?(this.reconsumeCodePoint(S),this.consumeIdentLikeToken()):{type:6,value:Ge(S)}},E.prototype.consumeCodePoint=function(){var S=this._value.shift();return typeof S>"u"?-1:S},E.prototype.reconsumeCodePoint=function(S){this._value.unshift(S)},E.prototype.peekCodePoint=function(S){return S>=this._value.length?-1:this._value[S]},E.prototype.consumeUnicodeRangeToken=function(){for(var S=[],N=this.consumeCodePoint();wA(N)&&S.length<6;)S.push(N),N=this.consumeCodePoint();for(var I=!1;63===N&&S.length<6;)S.push(N),N=this.consumeCodePoint(),I=!0;if(I)return{type:30,start:parseInt(Ge.apply(void 0,S.map(function(Ee){return 63===Ee?48:Ee})),16),end:parseInt(Ge.apply(void 0,S.map(function(Ee){return 63===Ee?70:Ee})),16)};var ie=parseInt(Ge.apply(void 0,S),16);if(45===this.peekCodePoint(0)&&wA(this.peekCodePoint(1))){this.consumeCodePoint(),N=this.consumeCodePoint();for(var De=[];wA(N)&&De.length<6;)De.push(N),N=this.consumeCodePoint();return{type:30,start:ie,end:parseInt(Ge.apply(void 0,De),16)}}return{type:30,start:ie,end:ie}},E.prototype.consumeIdentLikeToken=function(){var S=this.consumeName();return"url"===S.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:S}):{type:20,value:S}},E.prototype.consumeUrlToken=function(){var S=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var N=this.peekCodePoint(0);if(39===N||34===N){var I=this.consumeStringToken(this.consumeCodePoint());return 0===I.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:I.value}):(this.consumeBadUrlRemnants(),xy)}for(;;){var z=this.consumeCodePoint();if(-1===z||41===z)return{type:22,value:Ge.apply(void 0,S)};if(nv(z))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:Ge.apply(void 0,S)}):(this.consumeBadUrlRemnants(),xy);if(34===z||39===z||40===z||Ew(z))return this.consumeBadUrlRemnants(),xy;if(92===z){if(!CA(z,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),xy;S.push(this.consumeEscapedCodePoint())}else S.push(z)}},E.prototype.consumeWhiteSpace=function(){for(;nv(this.peekCodePoint(0));)this.consumeCodePoint()},E.prototype.consumeBadUrlRemnants=function(){for(;;){var S=this.consumeCodePoint();if(41===S||-1===S)return;CA(S,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},E.prototype.consumeStringSlice=function(S){for(var I="";S>0;){var z=Math.min(5e4,S);I+=Ge.apply(void 0,this._value.splice(0,z)),S-=z}return this._value.shift(),I},E.prototype.consumeStringToken=function(S){for(var N="",I=0;;){var z=this._value[I];if(-1===z||void 0===z||z===S)return{type:0,value:N+=this.consumeStringSlice(I)};if(10===z)return this._value.splice(0,I),BR;if(92===z){var Z=this._value[I+1];-1!==Z&&void 0!==Z&&(10===Z?(N+=this.consumeStringSlice(I),I=-1,this._value.shift()):CA(z,Z)&&(N+=this.consumeStringSlice(I),N+=Ge(this.consumeEscapedCodePoint()),I=-1))}I++}},E.prototype.consumeNumber=function(){var S=[],N=4,I=this.peekCodePoint(0);for((43===I||45===I)&&S.push(this.consumeCodePoint());na(this.peekCodePoint(0));)S.push(this.consumeCodePoint());I=this.peekCodePoint(0);var z=this.peekCodePoint(1);if(46===I&&na(z))for(S.push(this.consumeCodePoint(),this.consumeCodePoint()),N=8;na(this.peekCodePoint(0));)S.push(this.consumeCodePoint());I=this.peekCodePoint(0),z=this.peekCodePoint(1);var Z=this.peekCodePoint(2);if((69===I||101===I)&&((43===z||45===z)&&na(Z)||na(z)))for(S.push(this.consumeCodePoint(),this.consumeCodePoint()),N=8;na(this.peekCodePoint(0));)S.push(this.consumeCodePoint());return[BV(S),N]},E.prototype.consumeNumericToken=function(){var S=this.consumeNumber(),N=S[0],I=S[1],z=this.peekCodePoint(0),Z=this.peekCodePoint(1),ie=this.peekCodePoint(2);return Dw(z,Z,ie)?{type:15,number:N,flags:I,unit:this.consumeName()}:37===z?(this.consumeCodePoint(),{type:16,number:N,flags:I}):{type:17,number:N,flags:I}},E.prototype.consumeEscapedCodePoint=function(){var S=this.consumeCodePoint();if(wA(S)){for(var N=Ge(S);wA(this.peekCodePoint(0))&&N.length<6;)N+=Ge(this.consumeCodePoint());nv(this.peekCodePoint(0))&&this.consumeCodePoint();var I=parseInt(N,16);return 0===I||function(E){return E>=55296&&E<=57343}(I)||I>1114111?65533:I}return-1===S?65533:S},E.prototype.consumeName=function(){for(var S="";;){var N=this.consumeCodePoint();if(a2(N))S+=Ge(N);else{if(!CA(N,this.peekCodePoint(0)))return this.reconsumeCodePoint(N),S;S+=Ge(this.consumeEscapedCodePoint())}}},E}(),FR=function(){function E(S){this._tokens=S}return E.create=function(S){var N=new IR;return N.write(S),new E(N.read())},E.parseValue=function(S){return E.create(S).parseComponentValue()},E.parseValues=function(S){return E.create(S).parseComponentValues()},E.prototype.parseComponentValue=function(){for(var S=this.consumeToken();31===S.type;)S=this.consumeToken();if(32===S.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(S);var N=this.consumeComponentValue();do{S=this.consumeToken()}while(31===S.type);if(32===S.type)return N;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},E.prototype.parseComponentValues=function(){for(var S=[];;){var N=this.consumeComponentValue();if(32===N.type)return S;S.push(N),S.push()}},E.prototype.consumeComponentValue=function(){var S=this.consumeToken();switch(S.type){case 11:case 28:case 2:return this.consumeSimpleBlock(S.type);case 19:return this.consumeFunction(S)}return S},E.prototype.consumeSimpleBlock=function(S){for(var N={type:S,values:[]},I=this.consumeToken();;){if(32===I.type||OR(I,S))return N;this.reconsumeToken(I),N.values.push(this.consumeComponentValue()),I=this.consumeToken()}},E.prototype.consumeFunction=function(S){for(var N={name:S.value,values:[],type:18};;){var I=this.consumeToken();if(32===I.type||3===I.type)return N;this.reconsumeToken(I),N.values.push(this.consumeComponentValue())}},E.prototype.consumeToken=function(){var S=this._tokens.shift();return typeof S>"u"?Ey:S},E.prototype.reconsumeToken=function(S){this._tokens.unshift(S)},E}(),wf=function(E){return 15===E.type},Ed=function(E){return 17===E.type},ns=function(E){return 20===E.type},RR=function(E){return 0===E.type},Fw=function(E,S){return ns(E)&&E.value===S},f2=function(E){return 31!==E.type},SA=function(E){return 31!==E.type&&4!==E.type},xl=function(E){var S=[],N=[];return E.forEach(function(I){if(4===I.type){if(0===N.length)throw new Error("Error parsing function args, zero tokens for arg");return S.push(N),void(N=[])}31!==I.type&&N.push(I)}),N.length&&S.push(N),S},OR=function(E,S){return 11===S&&12===E.type||28===S&&29===E.type||2===S&&3===E.type},El=function(E){return 17===E.type||15===E.type},Qo=function(E){return 16===E.type||El(E)},Ut=function(E){return E.length>1?[E[0],E[1]]:[E[0]]},ba={type:17,number:0,flags:4},Ve={type:16,number:50,flags:4},zu={type:16,number:100,flags:4},xA=function(E,S,N){var I=E[0],z=E[1];return[us(I,S),us(typeof z<"u"?z:I,N)]},us=function(E,S){if(16===E.type)return E.number/100*S;if(wf(E))switch(E.unit){case"rem":case"em":return 16*E.number;default:return E.number}return E.number},EA_parse=function(E,S){if(15===S.type)switch(S.unit){case"deg":return Math.PI*S.number/180;case"grad":return Math.PI/200*S.number;case"rad":return S.number;case"turn":return 2*Math.PI*S.number}throw new Error("Unsupported angle type")},m2=function(E){return 15===E.type&&("deg"===E.unit||"grad"===E.unit||"rad"===E.unit||"turn"===E.unit)},sv=function(E){switch(E.filter(ns).map(function(N){return N.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ba,ba];case"to top":case"bottom":return ou(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ba,zu];case"to right":case"left":return ou(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[zu,zu];case"to bottom":case"top":return ou(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[zu,ba];case"to left":case"right":return ou(270)}return 0},ou=function(E){return Math.PI*E/180},Xl_parse=function(E,S){if(18===S.type){var N=FV[S.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported color function "'+S.name+'"');return N(E,S.values)}if(5===S.type){if(3===S.value.length){var I=S.value.substring(0,1),z=S.value.substring(1,2),Z=S.value.substring(2,3);return Ec(parseInt(I+I,16),parseInt(z+z,16),parseInt(Z+Z,16),1)}if(4===S.value.length){I=S.value.substring(0,1),z=S.value.substring(1,2),Z=S.value.substring(2,3);var ie=S.value.substring(3,4);return Ec(parseInt(I+I,16),parseInt(z+z,16),parseInt(Z+Z,16),parseInt(ie+ie,16)/255)}if(6===S.value.length)return I=S.value.substring(0,2),z=S.value.substring(2,4),Z=S.value.substring(4,6),Ec(parseInt(I,16),parseInt(z,16),parseInt(Z,16),1);if(8===S.value.length)return I=S.value.substring(0,2),z=S.value.substring(2,4),Z=S.value.substring(4,6),ie=S.value.substring(6,8),Ec(parseInt(I,16),parseInt(z,16),parseInt(Z,16),parseInt(ie,16)/255)}if(20===S.type){var De=Md[S.value.toUpperCase()];if(typeof De<"u")return De}return Md.TRANSPARENT},Dd=function(E){return!(255&E)},rs=function(E){var S=255&E,N=255&E>>8,I=255&E>>16,z=255&E>>24;return S<255?"rgba("+z+","+I+","+N+","+S/255+")":"rgb("+z+","+I+","+N+")"},Ec=function(E,S,N,I){return(E<<24|S<<16|N<<8|Math.round(255*I))>>>0},Rw=function(E,S){if(17===E.type)return E.number;if(16===E.type){var N=3===S?1:255;return 3===S?E.number/100*N:Math.round(E.number/100*N)}return 0},ov=function(E,S){var N=S.filter(SA);if(3===N.length){var I=N.map(Rw);return Ec(I[0],I[1],I[2],1)}if(4===N.length){var De=N.map(Rw);return Ec(De[0],De[1],De[2],De[3])}return 0};function sg(E,S,N){return N<0&&(N+=1),N>=1&&(N-=1),N<1/6?(S-E)*N*6+E:N<.5?S:N<2/3?6*(S-E)*(2/3-N)+E:E}var Dy=function(E,S){var N=S.filter(SA),I=N[0],z=N[1],Z=N[2],ie=N[3],De=(17===I.type?ou(I.number):EA_parse(E,I))/(2*Math.PI),Ee=Qo(z)?z.number/100:0,je=Qo(Z)?Z.number/100:0,Ze=typeof ie<"u"&&Qo(ie)?us(ie,1):1;if(0===Ee)return Ec(255*je,255*je,255*je,1);var at=je<=.5?je*(Ee+1):je+Ee-je*Ee,xt=2*je-at,In=sg(xt,at,De+1/3),ln=sg(xt,at,De),En=sg(xt,at,De-1/3);return Ec(255*In,255*ln,255*En,Ze)},FV={hsl:Dy,hsla:Dy,rgb:ov,rgba:ov},og=function(E,S){return Xl_parse(E,FR.create(S).parseComponentValue())},Md={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Dc={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(E,S){return S.map(function(N){if(ns(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ow={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Cf=function(E,S){var N=Xl_parse(E,S[0]),I=S[1];return I&&Qo(I)?{color:N,stop:I}:{color:N,stop:null}},PR=function(E,S){var N=E[0],I=E[E.length-1];null===N.stop&&(N.stop=ba),null===I.stop&&(I.stop=zu);for(var z=[],Z=0,ie=0;ie<E.length;ie++){var De=E[ie].stop;if(null!==De){var Ee=us(De,S);z.push(Ee>Z?Ee:Z),Z=Ee}else z.push(null)}var je=null;for(ie=0;ie<z.length;ie++){var Ze=z[ie];if(null===Ze)null===je&&(je=ie);else if(null!==je){for(var at=ie-je,In=(Ze-z[je-1])/(at+1),ln=1;ln<=at;ln++)z[je+ln-1]=In*ln;je=null}}return E.map(function(En,Xr){return{color:En.color,stop:Math.max(Math.min(1,z[Xr]/S),0)}})},xh=function(E,S,N){var I="number"==typeof E?E:function(E,S,N){var I=S/2,z=N/2,Z=us(E[0],S)-I,ie=z-us(E[1],N);return(Math.atan2(ie,Z)+2*Math.PI)%(2*Math.PI)}(E,S,N),z=Math.abs(S*Math.sin(I))+Math.abs(N*Math.cos(I)),Z=S/2,ie=N/2,De=z/2,Ee=Math.sin(I-Math.PI/2)*De,je=Math.cos(I-Math.PI/2)*De;return[z,Z-je,Z+je,ie-Ee,ie+Ee]},kr=function(E,S){return Math.sqrt(E*E+S*S)},Sf=function(E,S,N,I,z){return[[0,0],[0,S],[E,0],[E,S]].reduce(function(ie,De){var Ze=kr(N-De[0],I-De[1]);return(z?Ze<ie.optimumDistance:Ze>ie.optimumDistance)?{optimumCorner:De,optimumDistance:Ze}:ie},{optimumDistance:z?1/0:-1/0,optimumCorner:null}).optimumCorner},DA=function(E,S){var N=ou(180),I=[];return xl(S).forEach(function(z,Z){if(0===Z){var ie=z[0];if(20===ie.type&&-1!==["top","left","right","bottom"].indexOf(ie.value))return void(N=sv(z));if(m2(ie))return void(N=(EA_parse(E,ie)+ou(270))%ou(360))}var De=Cf(E,z);I.push(De)}),{angle:N,stops:I,type:1}},au="closest-side",Rr="farthest-side",_2="closest-corner",Ty="farthest-corner",Uw="ellipse",kw="contain",By=function(E,S){var N=0,I=3,z=[],Z=[];return xl(S).forEach(function(ie,De){var Ee=!0;if(0===De?Ee=ie.reduce(function(Ze,at){if(ns(at))switch(at.value){case"center":return Z.push(Ve),!1;case"top":case"left":return Z.push(ba),!1;case"right":case"bottom":return Z.push(zu),!1}else if(Qo(at)||El(at))return Z.push(at),!1;return Ze},Ee):1===De&&(Ee=ie.reduce(function(Ze,at){if(ns(at))switch(at.value){case"circle":return N=0,!1;case Uw:return N=1,!1;case kw:case au:return I=0,!1;case Rr:return I=1,!1;case _2:return I=2,!1;case"cover":case Ty:return I=3,!1}else if(El(at)||Qo(at))return Array.isArray(I)||(I=[]),I.push(at),!1;return Ze},Ee)),Ee){var je=Cf(E,ie);z.push(je)}}),{size:I,shape:N,stops:z,position:Z,type:2}},Vw_parse=function(E,S){if(22===S.type){var N={url:S.value,type:0};return E.cache.addImage(S.value),N}if(18===S.type){var I=w2[S.name];if(typeof I>"u")throw new Error('Attempting to parse an unsupported image function "'+S.name+'"');return I(E,S.values)}throw new Error("Unsupported image type "+S.type)};for(var w2={"linear-gradient":function(E,S){var N=ou(180),I=[];return xl(S).forEach(function(z,Z){if(0===Z){var ie=z[0];if(20===ie.type&&"to"===ie.value)return void(N=sv(z));if(m2(ie))return void(N=EA_parse(E,ie))}var De=Cf(E,z);I.push(De)}),{angle:N,stops:I,type:1}},"-moz-linear-gradient":DA,"-ms-linear-gradient":DA,"-o-linear-gradient":DA,"-webkit-linear-gradient":DA,"radial-gradient":function(E,S){var N=0,I=3,z=[],Z=[];return xl(S).forEach(function(ie,De){var Ee=!0;if(0===De){var je=!1;Ee=ie.reduce(function(at,xt){if(je)if(ns(xt))switch(xt.value){case"center":return Z.push(Ve),at;case"top":case"left":return Z.push(ba),at;case"right":case"bottom":return Z.push(zu),at}else(Qo(xt)||El(xt))&&Z.push(xt);else if(ns(xt))switch(xt.value){case"circle":return N=0,!1;case Uw:return N=1,!1;case"at":return je=!0,!1;case au:return I=0,!1;case"cover":case Rr:return I=1,!1;case kw:case _2:return I=2,!1;case Ty:return I=3,!1}else if(El(xt)||Qo(xt))return Array.isArray(I)||(I=[]),I.push(xt),!1;return at},Ee)}if(Ee){var Ze=Cf(E,ie);z.push(Ze)}}),{size:I,shape:N,stops:z,position:Z,type:2}},"-moz-radial-gradient":By,"-ms-radial-gradient":By,"-o-radial-gradient":By,"-webkit-radial-gradient":By,"-webkit-gradient":function(E,S){var N=ou(180),I=[],z=1;return xl(S).forEach(function(Ee,je){var Ze=Ee[0];if(0===je){if(ns(Ze)&&"linear"===Ze.value)return void(z=1);if(ns(Ze)&&"radial"===Ze.value)return void(z=2)}if(18===Ze.type)if("from"===Ze.name){var at=Xl_parse(E,Ze.values[0]);I.push({stop:ba,color:at})}else if("to"===Ze.name)at=Xl_parse(E,Ze.values[0]),I.push({stop:zu,color:at});else if("color-stop"===Ze.name){var xt=Ze.values.filter(SA);if(2===xt.length){at=Xl_parse(E,xt[1]);var In=xt[0];Ed(In)&&I.push({stop:{type:16,number:100*In.number,flags:In.flags},color:at})}}}),1===z?{angle:(N+ou(180))%ou(360),stops:I,type:z}:{size:3,shape:0,stops:I,position:[],type:z}}},C2={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(E,S){if(0===S.length)return[];var N=S[0];return 20===N.type&&"none"===N.value?[]:S.filter(function(I){return SA(I)&&function Gu(E){return!(20===E.type&&"none"===E.value||18===E.type&&!w2[E.name])}(I)}).map(function(I){return Vw_parse(E,I)})}},UR={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(E,S){return S.map(function(N){if(ns(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},kR={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(E,S){return xl(S).map(function(N){return N.filter(Qo)}).map(Ut)}},HR={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(E,S){return xl(S).map(function(N){return N.filter(ns).map(function(I){return I.value}).join(" ")}).map(VR)}},VR=function(E){switch(E){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},lg=function(E){return E.AUTO="auto",E.CONTAIN="contain",E.COVER="cover",E}(lg||{}),QR={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(E,S){return xl(S).map(function(N){return N.filter(zR)})}},zR=function(E){return ns(E)||Qo(E)},Ny=function(E){return{name:"border-"+E+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ar=Ny("top"),GR=Ny("right"),jR=Ny("bottom"),Zr=Ny("left"),av=function(E){return{name:"border-radius-"+E,initialValue:"0 0",prefix:!1,type:1,parse:function(S,N){return Ut(N.filter(Qo))}}},mn=av("top-left"),Yl=av("top-right"),ui=av("bottom-right"),ra=av("bottom-left"),zo=function(E){return{name:"border-"+E+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(S,N){switch(N){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Td=zo("top"),sl=zo("right"),S2=zo("bottom"),x2=zo("left"),MA=function(E){return{name:"border-"+E+"-width",initialValue:"0",type:0,prefix:!1,parse:function(S,N){return wf(N)?N.number:0}}},qR=MA("top"),WR=MA("right"),TA=MA("bottom"),$R=MA("left"),Qw={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},E2={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(E,S){return"rtl"===S?1:0}},Iy={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(E,S){return S.filter(ns).reduce(function(N,I){return N|RV(I.value)},0)}},RV=function(E){switch(E){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},zw={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(E,S){switch(S){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},KR={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(E,S){return 20===S.type&&"normal"===S.value?0:17===S.type||15===S.type?S.number:0}},lv=function(E){return E.NORMAL="normal",E.STRICT="strict",E}(lv||{}),D2={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(E,S){return"strict"===S?lv.STRICT:lv.NORMAL}},M2={name:"line-height",initialValue:"normal",prefix:!1,type:4},Bd=function(E,S){return ns(E)&&"normal"===E.value?1.2*S:17===E.type?S*E.number:Qo(E)?us(E,S):S},XR={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(E,S){return 20===S.type&&"none"===S.value?null:Vw_parse(E,S)}},Gw={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(E,S){return"inside"===S?0:1}},cg={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(E,S){switch(S){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Fy=function(E){return{name:"margin-"+E,initialValue:"0",prefix:!1,type:4}},jw=Fy("top"),Ry=Fy("right"),ka=Fy("bottom"),ug=Fy("left"),qw={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(E,S){return S.filter(ns).map(function(N){switch(N.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},YR={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(E,S){return"break-word"===S?"break-word":"normal"}},Oy=function(E){return{name:"padding-"+E,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},T2=Oy("top"),hg=Oy("right"),JR=Oy("bottom"),ZR=Oy("left"),eO={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(E,S){switch(S){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ww={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(E,S){switch(S){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Eh={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(E,S){return 1===S.length&&Fw(S[0],"none")?[]:xl(S).map(function(N){for(var I={color:Md.TRANSPARENT,offsetX:ba,offsetY:ba,blur:ba},z=0,Z=0;Z<N.length;Z++){var ie=N[Z];El(ie)?(0===z?I.offsetX=ie:1===z?I.offsetY=ie:I.blur=ie,z++):I.color=Xl_parse(E,ie)}return I})}},B2={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(E,S){switch(S){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},uv={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(E,S){if(20===S.type&&"none"===S.value)return null;if(18===S.type){var N=nO[S.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported transform function "'+S.name+'"');return N(S.values)}return null}},nO={matrix:function(E){var S=E.filter(function(N){return 17===N.type}).map(function(N){return N.number});return 6===S.length?S:null},matrix3d:function(E){var S=E.filter(function(Ee){return 17===Ee.type}).map(function(Ee){return Ee.number});return 16===S.length?[S[0],S[1],S[4],S[5],S[12],S[13]]:null}},Go={type:16,number:50,flags:4},N2=[Go,Go],rO={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(E,S){var N=S.filter(Qo);return 2!==N.length?N2:[N[0],N[1]]}},hv={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(E,S){switch(S){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Py=function(E){return E.NORMAL="normal",E.BREAK_ALL="break-all",E.KEEP_ALL="keep-all",E}(Py||{}),iO={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(E,S){switch(S){case"break-all":return Py.BREAK_ALL;case"keep-all":return Py.KEEP_ALL;default:return Py.NORMAL}}},sO={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(E,S){if(20===S.type)return{auto:!0,order:0};if(Ed(S))return{auto:!1,order:S.number};throw new Error("Invalid z-index number parsed")}},I2={name:"time",parse:function(E,S){if(15===S.type)switch(S.unit.toLowerCase()){case"s":return 1e3*S.number;case"ms":return S.number}throw new Error("Unsupported time type")}},oO={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(E,S){return Ed(S)?S.number:1}},aO={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$w={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(E,S){return S.filter(ns).map(function(N){switch(N.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(N){return 0!==N})}},Ly={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(E,S){var N=[],I=[];return S.forEach(function(z){switch(z.type){case 20:case 0:N.push(z.value);break;case 17:N.push(z.number.toString());break;case 4:I.push(N.join(" ")),N.length=0}}),N.length&&I.push(N.join(" ")),I.map(function(z){return-1===z.indexOf(" ")?z:"'"+z+"'"})}},lo={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},hn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(E,S){return Ed(S)?S.number:ns(S)&&"bold"===S.value?700:400}},er={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(E,S){return S.filter(ns).map(function(N){return N.value})}},No={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(E,S){switch(S){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},vs=function(E,S){return!!(E&S)},ol={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(E,S){if(0===S.length)return[];var N=S[0];return 20===N.type&&"none"===N.value?[]:S}},Mc={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(E,S){if(0===S.length)return null;var N=S[0];if(20===N.type&&"none"===N.value)return null;for(var I=[],z=S.filter(f2),Z=0;Z<z.length;Z++){var ie=z[Z],De=z[Z+1];if(20===ie.type){var Ee=De&&Ed(De)?De.number:1;I.push({counter:ie.value,increment:Ee})}}return I}},dg={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(E,S){if(0===S.length)return[];for(var N=[],I=S.filter(f2),z=0;z<I.length;z++){var Z=I[z],ie=I[z+1];if(ns(Z)&&"none"!==Z.value){var De=ie&&Ed(ie)?ie.number:0;N.push({counter:Z.value,reset:De})}}return N}},Gs={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(E,S){return S.filter(wf).map(function(N){return I2.parse(E,N)})}},jo={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(E,S){if(0===S.length)return null;var N=S[0];if(20===N.type&&"none"===N.value)return null;var I=[],z=S.filter(RR);if(z.length%2!=0)return null;for(var Z=0;Z<z.length;Z+=2)I.push({open:z[Z].value,close:z[Z+1].value});return I}},lu=function(E,S,N){if(!E)return"";var I=E[Math.min(S,E.length-1)];return I?N?I.open:I.close:""},vr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(E,S){return 1===S.length&&Fw(S[0],"none")?[]:xl(S).map(function(N){for(var I={color:255,offsetX:ba,offsetY:ba,blur:ba,spread:ba,inset:!1},z=0,Z=0;Z<N.length;Z++){var ie=N[Z];Fw(ie,"inset")?I.inset=!0:El(ie)?(0===z?I.offsetX=ie:1===z?I.offsetY=ie:2===z?I.blur=ie:I.spread=ie,z++):I.color=Xl_parse(E,ie)}return I})}},fv={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(E,S){var I=[];return S.filter(ns).forEach(function(z){switch(z.value){case"stroke":I.push(1);break;case"fill":I.push(0);break;case"markers":I.push(2)}}),[0,1,2].forEach(function(z){-1===I.indexOf(z)&&I.push(z)}),I}},F2={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Ag={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(E,S){return wf(S)?S.number:0}},go=function(){function E(S,N){var I,z;this.animationDuration=xn(S,Gs,N.animationDuration),this.backgroundClip=xn(S,Dc,N.backgroundClip),this.backgroundColor=xn(S,Ow,N.backgroundColor),this.backgroundImage=xn(S,C2,N.backgroundImage),this.backgroundOrigin=xn(S,UR,N.backgroundOrigin),this.backgroundPosition=xn(S,kR,N.backgroundPosition),this.backgroundRepeat=xn(S,HR,N.backgroundRepeat),this.backgroundSize=xn(S,QR,N.backgroundSize),this.borderTopColor=xn(S,ar,N.borderTopColor),this.borderRightColor=xn(S,GR,N.borderRightColor),this.borderBottomColor=xn(S,jR,N.borderBottomColor),this.borderLeftColor=xn(S,Zr,N.borderLeftColor),this.borderTopLeftRadius=xn(S,mn,N.borderTopLeftRadius),this.borderTopRightRadius=xn(S,Yl,N.borderTopRightRadius),this.borderBottomRightRadius=xn(S,ui,N.borderBottomRightRadius),this.borderBottomLeftRadius=xn(S,ra,N.borderBottomLeftRadius),this.borderTopStyle=xn(S,Td,N.borderTopStyle),this.borderRightStyle=xn(S,sl,N.borderRightStyle),this.borderBottomStyle=xn(S,S2,N.borderBottomStyle),this.borderLeftStyle=xn(S,x2,N.borderLeftStyle),this.borderTopWidth=xn(S,qR,N.borderTopWidth),this.borderRightWidth=xn(S,WR,N.borderRightWidth),this.borderBottomWidth=xn(S,TA,N.borderBottomWidth),this.borderLeftWidth=xn(S,$R,N.borderLeftWidth),this.boxShadow=xn(S,vr,N.boxShadow),this.color=xn(S,Qw,N.color),this.direction=xn(S,E2,N.direction),this.display=xn(S,Iy,N.display),this.float=xn(S,zw,N.cssFloat),this.fontFamily=xn(S,Ly,N.fontFamily),this.fontSize=xn(S,lo,N.fontSize),this.fontStyle=xn(S,No,N.fontStyle),this.fontVariant=xn(S,er,N.fontVariant),this.fontWeight=xn(S,hn,N.fontWeight),this.letterSpacing=xn(S,KR,N.letterSpacing),this.lineBreak=xn(S,D2,N.lineBreak),this.lineHeight=xn(S,M2,N.lineHeight),this.listStyleImage=xn(S,XR,N.listStyleImage),this.listStylePosition=xn(S,Gw,N.listStylePosition),this.listStyleType=xn(S,cg,N.listStyleType),this.marginTop=xn(S,jw,N.marginTop),this.marginRight=xn(S,Ry,N.marginRight),this.marginBottom=xn(S,ka,N.marginBottom),this.marginLeft=xn(S,ug,N.marginLeft),this.opacity=xn(S,oO,N.opacity);var Z=xn(S,qw,N.overflow);this.overflowX=Z[0],this.overflowY=Z[Z.length>1?1:0],this.overflowWrap=xn(S,YR,N.overflowWrap),this.paddingTop=xn(S,T2,N.paddingTop),this.paddingRight=xn(S,hg,N.paddingRight),this.paddingBottom=xn(S,JR,N.paddingBottom),this.paddingLeft=xn(S,ZR,N.paddingLeft),this.paintOrder=xn(S,fv,N.paintOrder),this.position=xn(S,Ww,N.position),this.textAlign=xn(S,eO,N.textAlign),this.textDecorationColor=xn(S,aO,null!==(I=N.textDecorationColor)&&void 0!==I?I:N.color),this.textDecorationLine=xn(S,$w,null!==(z=N.textDecorationLine)&&void 0!==z?z:N.textDecoration),this.textShadow=xn(S,Eh,N.textShadow),this.textTransform=xn(S,B2,N.textTransform),this.transform=xn(S,uv,N.transform),this.transformOrigin=xn(S,rO,N.transformOrigin),this.visibility=xn(S,hv,N.visibility),this.webkitTextStrokeColor=xn(S,F2,N.webkitTextStrokeColor),this.webkitTextStrokeWidth=xn(S,Ag,N.webkitTextStrokeWidth),this.wordBreak=xn(S,iO,N.wordBreak),this.zIndex=xn(S,sO,N.zIndex)}return E.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},E.prototype.isTransparent=function(){return Dd(this.backgroundColor)},E.prototype.isTransformed=function(){return null!==this.transform},E.prototype.isPositioned=function(){return 0!==this.position},E.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},E.prototype.isFloating=function(){return 0!==this.float},E.prototype.isInlineLevel=function(){return vs(this.display,4)||vs(this.display,33554432)||vs(this.display,268435456)||vs(this.display,536870912)||vs(this.display,67108864)||vs(this.display,134217728)},E}(),dv=function(){return function E(S,N){this.content=xn(S,ol,N.content),this.quotes=xn(S,jo,N.quotes)}}(),BA=function(){return function E(S,N){this.counterIncrement=xn(S,Mc,N.counterIncrement),this.counterReset=xn(S,dg,N.counterReset)}}(),xn=function(E,S,N){var I=new IR,z=null!==N&&typeof N<"u"?N.toString():S.initialValue;I.write(z);var Z=new FR(I.read());switch(S.type){case 2:var ie=Z.parseComponentValue();return S.parse(E,ns(ie)?ie.value:S.initialValue);case 0:return S.parse(E,Z.parseComponentValue());case 1:return S.parse(E,Z.parseComponentValues());case 4:return Z.parseComponentValue();case 3:switch(S.format){case"angle":return EA_parse(E,Z.parseComponentValue());case"color":return Xl_parse(E,Z.parseComponentValue());case"image":return Vw_parse(E,Z.parseComponentValue());case"length":var De=Z.parseComponentValue();return El(De)?De:ba;case"length-percentage":var Ee=Z.parseComponentValue();return Qo(Ee)?Ee:ba;case"time":return I2.parse(E,Z.parseComponentValue())}}},Dh=function(E,S){var N=function(E){switch(E.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(E);return 1===N||S===N},Tc=function(){return function E(S,N){this.context=S,this.textNodes=[],this.elements=[],this.flags=0,Dh(N,3),this.styles=new go(S,window.getComputedStyle(N,null)),bv(N)&&(this.styles.animationDuration.some(function(I){return I>0})&&(N.style.animationDuration="0s"),null!==this.styles.transform&&(N.style.transform="none")),this.bounds=jn(this.context,N),Dh(N,4)&&(this.flags|=16)}}(),Er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",IA=typeof Uint8Array>"u"?[]:new Uint8Array(256),Nd=0;Nd<64;Nd++)IA[Er.charCodeAt(Nd)]=Nd;for(var hO=function(E,S,N){return E.slice?E.slice(S,N):new Uint16Array(Array.prototype.slice.call(E,S,N))},LV=function(){function E(S,N,I,z,Z,ie){this.initialValue=S,this.errorValue=N,this.highStart=I,this.highValueIndex=z,this.index=Z,this.data=ie}return E.prototype.get=function(S){var N;if(S>=0){if(S<55296||S>56319&&S<=65535)return this.data[N=((N=this.index[S>>5])<<2)+(31&S)];if(S<=65535)return this.data[N=((N=this.index[2048+(S-55296>>5)])<<2)+(31&S)];if(S<this.highStart)return N=this.index[N=2080+(S>>11)],this.data[N=((N=this.index[N+=S>>5&63])<<2)+(31&S)];if(S<=1114111)return this.data[this.highValueIndex]}return this.errorValue},E}(),fO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",UV=typeof Uint8Array>"u"?[]:new Uint8Array(256),Jw=0;Jw<64;Jw++)UV[fO.charCodeAt(Jw)]=Jw;var Zw=8,k2=9,pO=11,gO=12,mO=function(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];if(String.fromCodePoint)return String.fromCodePoint.apply(String,E);var N=E.length;if(!N)return"";for(var I=[],z=-1,Z="";++z<N;){var ie=E[z];ie<=65535?I.push(ie):I.push(55296+((ie-=65536)>>10),ie%1024+56320),(z+1===N||I.length>16384)&&(Z+=String.fromCharCode.apply(String,I),I.length=0)}return Z},vO=function(E,S){var N=function(E){var I,Z,ie,De,Ee,S=.75*E.length,N=E.length,z=0;"="===E[E.length-1]&&(S--,"="===E[E.length-2]&&S--);var je=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(S):new Array(S),Ze=Array.isArray(je)?je:new Uint8Array(je);for(I=0;I<N;I+=4)Z=IA[E.charCodeAt(I)],ie=IA[E.charCodeAt(I+1)],De=IA[E.charCodeAt(I+2)],Ee=IA[E.charCodeAt(I+3)],Ze[z++]=Z<<2|ie>>4,Ze[z++]=(15&ie)<<4|De>>2,Ze[z++]=(3&De)<<6|63&Ee;return je}(E),I=Array.isArray(N)?function(E){for(var S=E.length,N=[],I=0;I<S;I+=4)N.push(E[I+3]<<24|E[I+2]<<16|E[I+1]<<8|E[I]);return N}(N):new Uint32Array(N),z=Array.isArray(N)?function(E){for(var S=E.length,N=[],I=0;I<S;I+=2)N.push(E[I+1]<<8|E[I]);return N}(N):new Uint16Array(N),ie=hO(z,12,I[4]/2),De=2===I[5]?hO(z,(24+I[4])/2):function(E,S,N){return E.slice?E.slice(S,N):new Uint32Array(Array.prototype.slice.call(E,S,N))}(I,Math.ceil((24+I[4])/4));return new LV(I[0],I[1],I[2],I[3],ie,De)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),yO=function(E){return vO.get(E)},tC=function(E,S,N){var I=N-2,z=S[I],Z=S[N-1],ie=S[N];if(2===Z&&3===ie)return"\xd7";if(2===Z||3===Z||4===Z||2===ie||3===ie||4===ie)return"\xf7";if(Z===Zw&&-1!==[Zw,k2,pO,gO].indexOf(ie)||(Z===pO||Z===k2)&&(ie===k2||10===ie)||(Z===gO||10===Z)&&10===ie||13===ie||5===ie||7===ie||1===Z)return"\xd7";if(13===Z&&14===ie){for(;5===z;)z=S[--I];if(14===z)return"\xd7"}if(15===Z&&15===ie){for(var De=0;15===z;)De++,z=S[--I];if(De%2==0)return"\xd7"}return"\xf7"},_O=function(E){var S=function(E){for(var S=[],N=0,I=E.length;N<I;){var z=E.charCodeAt(N++);if(z>=55296&&z<=56319&&N<I){var Z=E.charCodeAt(N++);56320==(64512&Z)?S.push(((1023&z)<<10)+(1023&Z)+65536):(S.push(z),N--)}else S.push(z)}return S}(E),N=S.length,I=0,z=0,Z=S.map(yO);return{next:function(){if(I>=N)return{done:!0,value:null};for(var ie="\xd7";I<N&&"\xd7"===(ie=tC(0,Z,++I)););if("\xd7"!==ie||I===N){var De=mO.apply(null,S.slice(z,I));return z=I,{value:De,done:!1}}return{done:!0,value:null}}}},ys=function(E){return 0===E[0]&&255===E[1]&&0===E[2]&&255===E[3]},RA=function(E,S,N,I,z){var Z="http://www.w3.org/2000/svg",ie=document.createElementNS(Z,"svg"),De=document.createElementNS(Z,"foreignObject");return ie.setAttributeNS(null,"width",E.toString()),ie.setAttributeNS(null,"height",S.toString()),De.setAttributeNS(null,"width","100%"),De.setAttributeNS(null,"height","100%"),De.setAttributeNS(null,"x",N.toString()),De.setAttributeNS(null,"y",I.toString()),De.setAttributeNS(null,"externalResourcesRequired","true"),ie.appendChild(De),De.appendChild(z),ie},ll=function(E){return new Promise(function(S,N){var I=new Image;I.onload=function(){return S(I)},I.onerror=N,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(E))})},Ha={get SUPPORT_RANGE_BOUNDS(){var E=function(E){if(E.createRange){var N=E.createRange();if(N.getBoundingClientRect){var I=E.createElement("boundtest");I.style.height="123px",I.style.display="block",E.body.appendChild(I),N.selectNode(I);var z=N.getBoundingClientRect(),Z=Math.round(z.height);if(E.body.removeChild(I),123===Z)return!0}}return!1}(document);return Object.defineProperty(Ha,"SUPPORT_RANGE_BOUNDS",{value:E}),E},get SUPPORT_WORD_BREAKING(){var E=Ha.SUPPORT_RANGE_BOUNDS&&function(E){var S=E.createElement("boundtest");S.style.width="50px",S.style.display="block",S.style.fontSize="12px",S.style.letterSpacing="0px",S.style.wordSpacing="0px",E.body.appendChild(S);var N=E.createRange();S.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var I=S.firstChild,z=bt(I.data).map(function(Ee){return Ge(Ee)}),Z=0,ie={},De=z.every(function(Ee,je){N.setStart(I,Z),N.setEnd(I,Z+Ee.length);var Ze=N.getBoundingClientRect();Z+=Ee.length;var at=Ze.x>ie.x||Ze.y>ie.y;return ie=Ze,0===je||at});return E.body.removeChild(S),De}(document);return Object.defineProperty(Ha,"SUPPORT_WORD_BREAKING",{value:E}),E},get SUPPORT_SVG_DRAWING(){var E=function(E){var S=new Image,N=E.createElement("canvas"),I=N.getContext("2d");if(!I)return!1;S.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{I.drawImage(S,0,0),N.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(Ha,"SUPPORT_SVG_DRAWING",{value:E}),E},get SUPPORT_FOREIGNOBJECT_DRAWING(){var E="function"==typeof Array.from&&"function"==typeof window.fetch?function(E){var S=E.createElement("canvas"),N=100;S.width=N,S.height=N;var I=S.getContext("2d");if(!I)return Promise.reject(!1);I.fillStyle="rgb(0, 255, 0)",I.fillRect(0,0,N,N);var z=new Image,Z=S.toDataURL();z.src=Z;var ie=RA(N,N,0,0,z);return I.fillStyle="red",I.fillRect(0,0,N,N),ll(ie).then(function(De){I.drawImage(De,0,0);var Ee=I.getImageData(0,0,N,N).data;I.fillStyle="red",I.fillRect(0,0,N,N);var je=E.createElement("div");return je.style.backgroundImage="url("+Z+")",je.style.height=N+"px",ys(Ee)?ll(RA(N,N,0,0,je)):Promise.reject(!1)}).then(function(De){return I.drawImage(De,0,0),ys(I.getImageData(0,0,N,N).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Ha,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:E}),E},get SUPPORT_CORS_IMAGES(){var E=typeof(new Image).crossOrigin<"u";return Object.defineProperty(Ha,"SUPPORT_CORS_IMAGES",{value:E}),E},get SUPPORT_RESPONSE_TYPE(){var E="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ha,"SUPPORT_RESPONSE_TYPE",{value:E}),E},get SUPPORT_CORS_XHR(){var E="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ha,"SUPPORT_CORS_XHR",{value:E}),E},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var E=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ha,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:E}),E}},xf=function(){return function E(S,N){this.text=S,this.bounds=N}}(),Nc=function(E,S){var N=S.ownerDocument;if(N){var I=N.createElement("html2canvaswrapper");I.appendChild(S.cloneNode(!0));var z=S.parentNode;if(z){z.replaceChild(I,S);var Z=jn(E,I);return I.firstChild&&z.replaceChild(I.firstChild,I),Z}}return Mn.EMPTY},q2=function(E,S,N){var I=E.ownerDocument;if(!I)throw new Error("Node has no owner document");var z=I.createRange();return z.setStart(E,S),z.setEnd(E,S+N),z},gv=function(E){if(Ha.SUPPORT_NATIVE_TEXT_SEGMENTATION){var S=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(S.segment(E)).map(function(N){return N.segment})}return function(E){for(var I,S=_O(E),N=[];!(I=S.next()).done;)I.value&&N.push(I.value.slice());return N}(E)},Bh=function(E,S){return 0!==S.letterSpacing?gv(E):function(E,S){if(Ha.SUPPORT_NATIVE_TEXT_SEGMENTATION){var N=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(N.segment(E)).map(function(I){return I.segment})}return CO(E,S)}(E,S)},W2=[32,160,4961,65792,65793,4153,4241],CO=function(E,S){for(var z,N=function(E,S){var N=bt(E),I=yy(N,S),z=I[0],Z=I[1],ie=I[2],De=N.length,Ee=0,je=0;return{next:function(){if(je>=De)return{done:!0,value:null};for(var Ze=ci;je<De&&(Ze=Zp(N,Z,z,++je,ie))===ci;);if(Ze!==ci||je===De){var at=new _w(N,Ze,Ee,je);return Ee=je,{value:at,done:!1}}return{done:!0,value:null}}}}(E,{lineBreak:S.lineBreak,wordBreak:"break-word"===S.overflowWrap?"break-word":S.wordBreak}),I=[],Z=function(){if(z.value){var ie=z.value.slice(),De=bt(ie),Ee="";De.forEach(function(je){-1===W2.indexOf(je)?Ee+=Ge(je):(Ee.length&&I.push(Ee),I.push(Ge(je)),Ee="")}),Ee.length&&I.push(Ee)}};!(z=N.next()).done;)Z();return I},$2=function(){return function E(S,N,I){this.text=rC(N.data,I.textTransform),this.textBounds=function(E,S,N,I){var z=Bh(S,N),Z=[],ie=0;return z.forEach(function(De){if(N.textDecorationLine.length||De.trim().length>0)if(Ha.SUPPORT_RANGE_BOUNDS){var Ee=q2(I,ie,De.length).getClientRects();if(Ee.length>1){var je=gv(De),Ze=0;je.forEach(function(xt){Z.push(new xf(xt,Mn.fromDOMRectList(E,q2(I,Ze+ie,xt.length).getClientRects()))),Ze+=xt.length})}else Z.push(new xf(De,Mn.fromDOMRectList(E,Ee)))}else{var at=I.splitText(De.length);Z.push(new xf(De,Nc(E,I))),I=at}else Ha.SUPPORT_RANGE_BOUNDS||(I=I.splitText(De.length));ie+=De.length}),Z}(S,this.text,I,N)}}(),rC=function(E,S){switch(S){case 1:return E.toLowerCase();case 3:return E.replace(iC,mv);case 2:return E.toUpperCase();default:return E}},iC=/(^|\s|:|-|\(|\))([a-z])/g,mv=function(E,S,N){return E.length>0?S+N.toUpperCase():E},vv=function(E){function S(N,I){var z=E.call(this,N,I)||this;return z.src=I.currentSrc||I.src,z.intrinsicWidth=I.naturalWidth,z.intrinsicHeight=I.naturalHeight,z.context.cache.addImage(z.src),z}return we(S,E),S}(Tc),Vy=function(E){function S(N,I){var z=E.call(this,N,I)||this;return z.canvas=I,z.intrinsicWidth=I.width,z.intrinsicHeight=I.height,z}return we(S,E),S}(Tc),Id=function(E){function S(N,I){var z=E.call(this,N,I)||this,Z=new XMLSerializer,ie=jn(N,I);return I.setAttribute("width",ie.width+"px"),I.setAttribute("height",ie.height+"px"),z.svg="data:image/svg+xml,"+encodeURIComponent(Z.serializeToString(I)),z.intrinsicWidth=I.width.baseVal.value,z.intrinsicHeight=I.height.baseVal.value,z.context.cache.addImage(z.svg),z}return we(S,E),S}(Tc),dr=function(E){function S(N,I){var z=E.call(this,N,I)||this;return z.value=I.value,z}return we(S,E),S}(Tc),Qy=function(E){function S(N,I){var z=E.call(this,N,I)||this;return z.start=I.start,z.reversed="boolean"==typeof I.reversed&&!0===I.reversed,z}return we(S,E),S}(Tc),VV=[{type:15,flags:0,unit:"px",number:3}],SO=[{type:16,flags:0,number:50}],yv="checkbox",Ef="radio",DO="password",K2=707406591,sC=function(E){function S(N,I){var z=E.call(this,N,I)||this;switch(z.type=I.type.toLowerCase(),z.checked=I.checked,z.value=function(E){var S=E.type===DO?new Array(E.value.length+1).join("\u2022"):E.value;return 0===S.length?E.placeholder||"":S}(I),(z.type===yv||z.type===Ef)&&(z.styles.backgroundColor=3739148031,z.styles.borderTopColor=z.styles.borderRightColor=z.styles.borderBottomColor=z.styles.borderLeftColor=2779096575,z.styles.borderTopWidth=z.styles.borderRightWidth=z.styles.borderBottomWidth=z.styles.borderLeftWidth=1,z.styles.borderTopStyle=z.styles.borderRightStyle=z.styles.borderBottomStyle=z.styles.borderLeftStyle=1,z.styles.backgroundClip=[0],z.styles.backgroundOrigin=[0],z.bounds=function(E){return E.width>E.height?new Mn(E.left+(E.width-E.height)/2,E.top,E.height,E.height):E.width<E.height?new Mn(E.left,E.top+(E.height-E.width)/2,E.width,E.width):E}(z.bounds)),z.type){case yv:z.styles.borderTopRightRadius=z.styles.borderTopLeftRadius=z.styles.borderBottomRightRadius=z.styles.borderBottomLeftRadius=VV;break;case Ef:z.styles.borderTopRightRadius=z.styles.borderTopLeftRadius=z.styles.borderBottomRightRadius=z.styles.borderBottomLeftRadius=SO}return z}return we(S,E),S}(Tc),X2=function(E){function S(N,I){var z=E.call(this,N,I)||this,Z=I.options[I.selectedIndex||0];return z.value=Z&&Z.text||"",z}return we(S,E),S}(Tc),Y2=function(E){function S(N,I){var z=E.call(this,N,I)||this;return z.value=I.value,z}return we(S,E),S}(Tc),St=function(E){function S(N,I){var z=E.call(this,N,I)||this;z.src=I.src,z.width=parseInt(I.width,10)||0,z.height=parseInt(I.height,10)||0,z.backgroundColor=z.styles.backgroundColor;try{if(I.contentWindow&&I.contentWindow.document&&I.contentWindow.document.documentElement){z.tree=hs(N,I.contentWindow.document.documentElement);var Z=I.contentWindow.document.documentElement?og(N,getComputedStyle(I.contentWindow.document.documentElement).backgroundColor):Md.TRANSPARENT,ie=I.contentWindow.document.body?og(N,getComputedStyle(I.contentWindow.document.body).backgroundColor):Md.TRANSPARENT;z.backgroundColor=Dd(Z)?Dd(ie)?z.styles.backgroundColor:ie:Z}}catch{}return z}return we(S,E),S}(Tc),yi=["OL","UL","MENU"],On=function(E,S,N,I){for(var z=S.firstChild,Z=void 0;z;z=Z)if(Z=z.nextSibling,qu(z)&&z.data.trim().length>0)N.textNodes.push(new $2(E,z,N.styles));else if(Fd(z))if(wv(z)&&z.assignedNodes)z.assignedNodes().forEach(function(De){return On(E,De,N,I)});else{var ie=Un(E,z);ie.styles.isVisible()&&(J2(z,ie,I)?ie.flags|=4:_v(ie.styles)&&(ie.flags|=2),-1!==yi.indexOf(z.tagName)&&(ie.flags|=8),N.elements.push(ie),z.shadowRoot?On(E,z.shadowRoot,ie,I):!vg(z)&&!oC(z)&&!yg(z)&&On(E,z,ie,I))}},Un=function(E,S){return Gy(S)?new vv(E,S):Nh(S)?new Vy(E,S):oC(S)?new Id(E,S):QV(S)?new dr(E,S):Z2(S)?new Qy(E,S):Dl(S)?new sC(E,S):yg(S)?new X2(E,S):vg(S)?new Y2(E,S):tD(S)?new St(E,S):new Tc(E,S)},hs=function(E,S){var N=Un(E,S);return N.flags|=4,On(E,S,N,N),N},J2=function(E,S,N){return S.styles.isPositionedWithZIndex()||S.styles.opacity<1||S.styles.isTransformed()||Ic(E)&&N.styles.isTransparent()},_v=function(E){return E.isPositioned()||E.isFloating()},qu=function(E){return E.nodeType===Node.TEXT_NODE},Fd=function(E){return E.nodeType===Node.ELEMENT_NODE},bv=function(E){return Fd(E)&&typeof E.style<"u"&&!zy(E)},zy=function(E){return"object"==typeof E.className},QV=function(E){return"LI"===E.tagName},Z2=function(E){return"OL"===E.tagName},Dl=function(E){return"INPUT"===E.tagName},oC=function(E){return"svg"===E.tagName},Ic=function(E){return"BODY"===E.tagName},Nh=function(E){return"CANVAS"===E.tagName},eD=function(E){return"VIDEO"===E.tagName},Gy=function(E){return"IMG"===E.tagName},tD=function(E){return"IFRAME"===E.tagName},nD=function(E){return"STYLE"===E.tagName},vg=function(E){return"TEXTAREA"===E.tagName},yg=function(E){return"SELECT"===E.tagName},wv=function(E){return"SLOT"===E.tagName},rD=function(E){return E.tagName.indexOf("-")>0},iD=function(){function E(){this.counters={}}return E.prototype.getCounterValue=function(S){var N=this.counters[S];return N&&N.length?N[N.length-1]:1},E.prototype.getCounterValues=function(S){return this.counters[S]||[]},E.prototype.pop=function(S){var N=this;S.forEach(function(I){return N.counters[I].pop()})},E.prototype.parse=function(S){var N=this,I=S.counterIncrement,z=S.counterReset,Z=!0;null!==I&&I.forEach(function(De){var Ee=N.counters[De.counter];Ee&&0!==De.increment&&(Z=!1,Ee.length||Ee.push(1),Ee[Math.max(0,Ee.length-1)]+=De.increment)});var ie=[];return Z&&z.forEach(function(De){var Ee=N.counters[De.counter];ie.push(De.counter),Ee||(Ee=N.counters[De.counter]=[]),Ee.push(De.reset)}),ie},E}(),jy={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},lC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},sD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},oD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},OA=function(E,S,N,I,z,Z){return E<S||E>N?Jl(E,z,Z.length>0):I.integers.reduce(function(ie,De,Ee){for(;E>=De;)E-=De,ie+=I.values[Ee];return ie},"")+Z},qy=function(E,S,N,I){var z="";do{N||E--,z=I(E)+z,E/=S}while(E*S>=S);return z},Fo=function(E,S,N,I,z){var Z=N-S+1;return(E<0?"-":"")+(qy(Math.abs(E),Z,I,function(ie){return Ge(Math.floor(ie%Z)+S)})+z)},So=function(E,S,N){void 0===N&&(N=". ");var I=S.length;return qy(Math.abs(E),I,!1,function(z){return S[Math.floor(z%I)]})+N},Tf=function(E,S,N,I,z,Z){if(E<-9999||E>9999)return Jl(E,4,z.length>0);var ie=Math.abs(E),De=z;if(0===ie)return S[0]+De;for(var Ee=0;ie>0&&Ee<=4;Ee++){var je=ie%10;0===je&&vs(Z,1)&&""!==De?De=S[je]+De:je>1||1===je&&0===Ee||1===je&&1===Ee&&vs(Z,2)||1===je&&1===Ee&&vs(Z,4)&&E>100||1===je&&Ee>1&&vs(Z,8)?De=S[je]+(Ee>0?N[Ee-1]:"")+De:1===je&&Ee>0&&(De=N[Ee-1]+De),ie=Math.floor(ie/10)}return(E<0?I:"")+De},PA="\ub9c8\uc774\ub108\uc2a4",Jl=function(E,S,N){var I=N?". ":"",z=N?"\u3001":"",Z=N?", ":"",ie=N?" ":"";switch(S){case 0:return"\u2022"+ie;case 1:return"\u25e6"+ie;case 2:return"\u25fe"+ie;case 5:var De=Fo(E,48,57,!0,I);return De.length<4?"0"+De:De;case 4:return So(E,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",z);case 6:return OA(E,1,3999,jy,3,I).toLowerCase();case 7:return OA(E,1,3999,jy,3,I);case 8:return Fo(E,945,969,!1,I);case 9:return Fo(E,97,122,!1,I);case 10:return Fo(E,65,90,!1,I);case 11:return Fo(E,1632,1641,!0,I);case 12:case 49:return OA(E,1,9999,lC,3,I);case 35:return OA(E,1,9999,lC,3,I).toLowerCase();case 13:return Fo(E,2534,2543,!0,I);case 14:case 30:return Fo(E,6112,6121,!0,I);case 15:return So(E,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",z);case 16:return So(E,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",z);case 17:case 48:return Tf(E,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",z,14);case 47:return Tf(E,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",z,15);case 42:return Tf(E,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",z,14);case 41:return Tf(E,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",z,15);case 26:return Tf(E,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",z,0);case 25:return Tf(E,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",z,7);case 31:return Tf(E,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",PA,Z,7);case 33:return Tf(E,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",PA,Z,0);case 32:return Tf(E,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",PA,Z,7);case 18:return Fo(E,2406,2415,!0,I);case 20:return OA(E,1,19999,oD,3,I);case 21:return Fo(E,2790,2799,!0,I);case 22:return Fo(E,2662,2671,!0,I);case 22:return OA(E,1,10999,sD,3,I);case 23:return So(E,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return So(E,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Fo(E,3302,3311,!0,I);case 28:return So(E,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",z);case 29:return So(E,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",z);case 34:return Fo(E,3792,3801,!0,I);case 37:return Fo(E,6160,6169,!0,I);case 38:return Fo(E,4160,4169,!0,I);case 39:return Fo(E,2918,2927,!0,I);case 40:return Fo(E,1776,1785,!0,I);case 43:return Fo(E,3046,3055,!0,I);case 44:return Fo(E,3174,3183,!0,I);case 45:return Fo(E,3664,3673,!0,I);case 46:return Fo(E,3872,3881,!0,I);default:return Fo(E,48,57,!0,I)}},lD="data-html2canvas-ignore",Sv=function(){function E(S,N,I){if(this.context=S,this.options=I,this.scrolledElements=[],this.referenceElement=N,this.counters=new iD,this.quoteDepth=0,!N.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(N.ownerDocument.documentElement,!1)}return E.prototype.toIFrame=function(S,N){var I=this,z=Wy(S,N);if(!z.contentWindow)return Promise.reject("Unable to find iframe window");var Z=S.defaultView.pageXOffset,ie=S.defaultView.pageYOffset,De=z.contentWindow,Ee=De.document,je=uD(z).then(function(){return yt(I,void 0,void 0,function(){var Ze,at;return Ct(this,function(xt){switch(xt.label){case 0:return this.scrolledElements.forEach(fC),De&&(De.scrollTo(N.left,N.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(De.scrollY!==N.top||De.scrollX!==N.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(De.scrollX-N.left,De.scrollY-N.top,0,0))),Ze=this.options.onclone,typeof(at=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ee.fonts&&Ee.fonts.ready?[4,Ee.fonts.ready]:[3,2];case 1:xt.sent(),xt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,cD(Ee)]:[3,4];case 3:xt.sent(),xt.label=4;case 4:return"function"==typeof Ze?[2,Promise.resolve().then(function(){return Ze(Ee,at)}).then(function(){return z})]:[2,z]}})})});return Ee.open(),Ee.write(xv(document.doctype)+"<html></html>"),TO(this.referenceElement.ownerDocument,Z,ie),Ee.replaceChild(Ee.adoptNode(this.documentElement),Ee.documentElement),Ee.close(),je},E.prototype.createElementClone=function(S){if(Dh(S,2),Nh(S))return this.createCanvasClone(S);if(eD(S))return this.createVideoClone(S);if(nD(S))return this.createStyleClone(S);var N=S.cloneNode(!1);return Gy(N)&&(Gy(S)&&S.currentSrc&&S.currentSrc!==S.src&&(N.src=S.currentSrc,N.srcset=""),"lazy"===N.loading&&(N.loading="eager")),rD(N)?this.createCustomElementClone(N):N},E.prototype.createCustomElementClone=function(S){var N=document.createElement("html2canvascustomelement");return Rd(S.style,N),N},E.prototype.createStyleClone=function(S){try{var N=S.sheet;if(N&&N.cssRules){var I=[].slice.call(N.cssRules,0).reduce(function(Z,ie){return ie&&"string"==typeof ie.cssText?Z+ie.cssText:Z},""),z=S.cloneNode(!1);return z.textContent=I,z}}catch(Z){if(this.context.logger.error("Unable to access cssRules property",Z),"SecurityError"!==Z.name)throw Z}return S.cloneNode(!1)},E.prototype.createCanvasClone=function(S){var N;if(this.options.inlineImages&&S.ownerDocument){var I=S.ownerDocument.createElement("img");try{return I.src=S.toDataURL(),I}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",S)}}var z=S.cloneNode(!1);try{z.width=S.width,z.height=S.height;var Z=S.getContext("2d"),ie=z.getContext("2d");if(ie)if(!this.options.allowTaint&&Z)ie.putImageData(Z.getImageData(0,0,S.width,S.height),0,0);else{var De=null!==(N=S.getContext("webgl2"))&&void 0!==N?N:S.getContext("webgl");if(De){var Ee=De.getContextAttributes();!1===Ee?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",S)}ie.drawImage(S,0,0)}return z}catch{this.context.logger.info("Unable to clone canvas as it is tainted",S)}return z},E.prototype.createVideoClone=function(S){var N=S.ownerDocument.createElement("canvas");N.width=S.offsetWidth,N.height=S.offsetHeight;var I=N.getContext("2d");try{return I&&(I.drawImage(S,0,0,N.width,N.height),this.options.allowTaint||I.getImageData(0,0,N.width,N.height)),N}catch{this.context.logger.info("Unable to clone video as it is tainted",S)}var z=S.ownerDocument.createElement("canvas");return z.width=S.offsetWidth,z.height=S.offsetHeight,z},E.prototype.appendChildNode=function(S,N,I){(!Fd(N)||!function(E){return"SCRIPT"===E.tagName}(N)&&!N.hasAttribute(lD)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(N)))&&(!this.options.copyStyles||!Fd(N)||!nD(N))&&S.appendChild(this.cloneNode(N,I))},E.prototype.cloneChildNodes=function(S,N,I){for(var z=this,Z=S.shadowRoot?S.shadowRoot.firstChild:S.firstChild;Z;Z=Z.nextSibling)if(Fd(Z)&&wv(Z)&&"function"==typeof Z.assignedNodes){var ie=Z.assignedNodes();ie.length&&ie.forEach(function(De){return z.appendChildNode(N,De,I)})}else this.appendChildNode(N,Z,I)},E.prototype.cloneNode=function(S,N){if(qu(S))return document.createTextNode(S.data);if(!S.ownerDocument)return S.cloneNode(!1);var I=S.ownerDocument.defaultView;if(I&&Fd(S)&&(bv(S)||zy(S))){var z=this.createElementClone(S);z.style.transitionProperty="none";var Z=I.getComputedStyle(S),ie=I.getComputedStyle(S,":before"),De=I.getComputedStyle(S,":after");this.referenceElement===S&&bv(z)&&(this.clonedReferenceElement=z),Ic(z)&&AC(z);var Ee=this.counters.parse(new BA(this.context,Z)),je=this.resolvePseudoContent(S,z,ie,LA.BEFORE);rD(S)&&(N=!0),eD(S)||this.cloneChildNodes(S,z,N),je&&z.insertBefore(je,z.firstChild);var Ze=this.resolvePseudoContent(S,z,De,LA.AFTER);return Ze&&z.appendChild(Ze),this.counters.pop(Ee),(Z&&(this.options.copyStyles||zy(S))&&!tD(S)||N)&&Rd(Z,z),(0!==S.scrollTop||0!==S.scrollLeft)&&this.scrolledElements.push([z,S.scrollLeft,S.scrollTop]),(vg(S)||yg(S))&&(vg(z)||yg(z))&&(z.value=S.value),z}return S.cloneNode(!1)},E.prototype.resolvePseudoContent=function(S,N,I,z){var Z=this;if(I){var ie=I.content,De=N.ownerDocument;if(De&&ie&&"none"!==ie&&"-moz-alt-content"!==ie&&"none"!==I.display){this.counters.parse(new BA(this.context,I));var Ee=new dv(this.context,I),je=De.createElement("html2canvaspseudoelement");Rd(I,je),Ee.content.forEach(function(at){if(0===at.type)je.appendChild(De.createTextNode(at.value));else if(22===at.type){var xt=De.createElement("img");xt.src=at.value,xt.style.opacity="1",je.appendChild(xt)}else if(18===at.type){if("attr"===at.name){var In=at.values.filter(ns);In.length&&je.appendChild(De.createTextNode(S.getAttribute(In[0].value)||""))}else if("counter"===at.name){var ln=at.values.filter(SA),Xr=ln[1];if((En=ln[0])&&ns(En)){var Yn=Z.counters.getCounterValue(En.value),qn=Xr&&ns(Xr)?cg.parse(Z.context,Xr.value):3;je.appendChild(De.createTextNode(Jl(Yn,qn,!1)))}}else if("counters"===at.name){var En,Qi=at.values.filter(SA),ei=Qi[1];if(Xr=Qi[2],(En=Qi[0])&&ns(En)){var wr=Z.counters.getCounterValues(En.value),gn=Xr&&ns(Xr)?cg.parse(Z.context,Xr.value):3,wi=ei&&0===ei.type?ei.value:"",xi=wr.map(function(Ca){return Jl(Ca,gn,!1)}).join(wi);je.appendChild(De.createTextNode(xi))}}}else if(20===at.type)switch(at.value){case"open-quote":je.appendChild(De.createTextNode(lu(Ee.quotes,Z.quoteDepth++,!0)));break;case"close-quote":je.appendChild(De.createTextNode(lu(Ee.quotes,--Z.quoteDepth,!1)));break;default:je.appendChild(De.createTextNode(at.value))}}),je.className=dC+" "+hD;var Ze=z===LA.BEFORE?" "+dC:" "+hD;return zy(N)?N.className.baseValue+=Ze:N.className+=Ze,je}}},E.destroy=function(S){return!!S.parentNode&&(S.parentNode.removeChild(S),!0)},E}(),LA=function(E){return E[E.BEFORE=0]="BEFORE",E[E.AFTER=1]="AFTER",E}(LA||{}),Wy=function(E,S){var N=E.createElement("iframe");return N.className="html2canvas-container",N.style.visibility="hidden",N.style.position="fixed",N.style.left="-10000px",N.style.top="0px",N.style.border="0",N.width=S.width.toString(),N.height=S.height.toString(),N.scrolling="no",N.setAttribute(lD,"true"),E.body.appendChild(N),N},hC=function(E){return new Promise(function(S){E.complete?S():E.src?(E.onload=S,E.onerror=S):S()})},cD=function(E){return Promise.all([].slice.call(E.images,0).map(hC))},uD=function(E){return new Promise(function(S,N){var I=E.contentWindow;if(!I)return N("No window assigned for iframe");var z=I.document;I.onload=E.onload=function(){I.onload=E.onload=null;var Z=setInterval(function(){z.body.childNodes.length>0&&"complete"===z.readyState&&(clearInterval(Z),S(E))},50)}})},MO=["all","d","content"],Rd=function(E,S){for(var N=E.length-1;N>=0;N--){var I=E.item(N);-1===MO.indexOf(I)&&S.style.setProperty(I,E.getPropertyValue(I))}return S},xv=function(E){var S="";return E&&(S+="<!DOCTYPE ",E.name&&(S+=E.name),E.internalSubset&&(S+=E.internalSubset),E.publicId&&(S+='"'+E.publicId+'"'),E.systemId&&(S+='"'+E.systemId+'"'),S+=">"),S},TO=function(E,S,N){E&&E.defaultView&&(S!==E.defaultView.pageXOffset||N!==E.defaultView.pageYOffset)&&E.defaultView.scrollTo(S,N)},fC=function(E){var S=E[0],I=E[2];S.scrollLeft=E[1],S.scrollTop=I},dC="___html2canvas___pseudoelement_before",hD="___html2canvas___pseudoelement_after",IO='{\n    content: "" !important;\n    display: none !important;\n}',AC=function(E){Ev(E,"."+dC+":before"+IO+"\n         ."+hD+":after"+IO)},Ev=function(E,S){var N=E.ownerDocument;if(N){var I=N.createElement("style");I.textContent=S,E.appendChild(I)}},fD=function(){function E(){}return E.getOrigin=function(S){var N=E._link;return N?(N.href=S,N.href=N.href,N.protocol+N.hostname+N.port):"about:blank"},E.isSameOrigin=function(S){return E.getOrigin(S)===E._origin},E.setContext=function(S){E._link=S.document.createElement("a"),E._origin=E.getOrigin(S.location.href)},E._origin="about:blank",E}(),Dv=function(){function E(S,N){this.context=S,this._options=N,this._cache={}}return E.prototype.addImage=function(S){var N=Promise.resolve();return this.has(S)||(uu(S)||dD(S))&&(this._cache[S]=this.loadImage(S)).catch(function(){}),N},E.prototype.match=function(S){return this._cache[S]},E.prototype.loadImage=function(S){return yt(this,void 0,void 0,function(){var N,I,z,Z,ie=this;return Ct(this,function(De){switch(De.label){case 0:return N=fD.isSameOrigin(S),I=!Ky(S)&&!0===this._options.useCORS&&Ha.SUPPORT_CORS_IMAGES&&!N,z=!Ky(S)&&!N&&!uu(S)&&"string"==typeof this._options.proxy&&Ha.SUPPORT_CORS_XHR&&!I,N||!1!==this._options.allowTaint||Ky(S)||uu(S)||z||I?(Z=S,z?[4,this.proxy(Z)]:[3,2]):[2];case 1:Z=De.sent(),De.label=2;case 2:return this.context.logger.debug("Added image "+S.substring(0,256)),[4,new Promise(function(Ee,je){var Ze=new Image;Ze.onload=function(){return Ee(Ze)},Ze.onerror=je,(FO(Z)||I)&&(Ze.crossOrigin="anonymous"),Ze.src=Z,!0===Ze.complete&&setTimeout(function(){return Ee(Ze)},500),ie._options.imageTimeout>0&&setTimeout(function(){return je("Timed out ("+ie._options.imageTimeout+"ms) loading image")},ie._options.imageTimeout)})];case 3:return[2,De.sent()]}})})},E.prototype.has=function(S){return typeof this._cache[S]<"u"},E.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},E.prototype.proxy=function(S){var N=this,I=this._options.proxy;if(!I)throw new Error("No proxy defined");var z=S.substring(0,256);return new Promise(function(Z,ie){var De=Ha.SUPPORT_RESPONSE_TYPE?"blob":"text",Ee=new XMLHttpRequest;Ee.onload=function(){if(200===Ee.status)if("text"===De)Z(Ee.response);else{var at=new FileReader;at.addEventListener("load",function(){return Z(at.result)},!1),at.addEventListener("error",function(xt){return ie(xt)},!1),at.readAsDataURL(Ee.response)}else ie("Failed to proxy resource "+z+" with status code "+Ee.status)},Ee.onerror=ie;var je=I.indexOf("?")>-1?"&":"?";if(Ee.open("GET",""+I+je+"url="+encodeURIComponent(S)+"&responseType="+De),"text"!==De&&Ee instanceof XMLHttpRequest&&(Ee.responseType=De),N._options.imageTimeout){var Ze=N._options.imageTimeout;Ee.timeout=Ze,Ee.ontimeout=function(){return ie("Timed out ("+Ze+"ms) proxying "+z)}}Ee.send()})},E}(),pC=/^data:image\/svg\+xml/i,$y=/^data:image\/.*;base64,/i,zV=/^data:image\/.*/i,dD=function(E){return Ha.SUPPORT_SVG_DRAWING||!RO(E)},Ky=function(E){return zV.test(E)},FO=function(E){return $y.test(E)},uu=function(E){return"blob"===E.substr(0,4)},RO=function(E){return"svg"===E.substr(-3).toLowerCase()||pC.test(E)},Tn=function(){function E(S,N){this.type=0,this.x=S,this.y=N}return E.prototype.add=function(S,N){return new E(this.x+S,this.y+N)},E}(),Od=function(E,S,N){return new Tn(E.x+(S.x-E.x)*N,E.y+(S.y-E.y)*N)},Mv=function(){function E(S,N,I,z){this.type=1,this.start=S,this.startControl=N,this.endControl=I,this.end=z}return E.prototype.subdivide=function(S,N){var I=Od(this.start,this.startControl,S),z=Od(this.startControl,this.endControl,S),Z=Od(this.endControl,this.end,S),ie=Od(I,z,S),De=Od(z,Z,S),Ee=Od(ie,De,S);return N?new E(this.start,I,ie,Ee):new E(Ee,De,Z,this.end)},E.prototype.add=function(S,N){return new E(this.start.add(S,N),this.startControl.add(S,N),this.endControl.add(S,N),this.end.add(S,N))},E.prototype.reverse=function(){return new E(this.end,this.endControl,this.startControl,this.start)},E}(),Ml=function(E){return 1===E.type},gC=function(){return function E(S){var N=S.styles,I=S.bounds,z=xA(N.borderTopLeftRadius,I.width,I.height),Z=z[0],ie=z[1],De=xA(N.borderTopRightRadius,I.width,I.height),Ee=De[0],je=De[1],Ze=xA(N.borderBottomRightRadius,I.width,I.height),at=Ze[0],xt=Ze[1],In=xA(N.borderBottomLeftRadius,I.width,I.height),ln=In[0],En=In[1],Xr=[];Xr.push((Z+Ee)/I.width),Xr.push((ln+at)/I.width),Xr.push((ie+En)/I.height),Xr.push((je+xt)/I.height);var Yn=Math.max.apply(Math,Xr);Yn>1&&(Z/=Yn,ie/=Yn,Ee/=Yn,je/=Yn,at/=Yn,xt/=Yn,ln/=Yn,En/=Yn);var qn=I.width-Ee,Qi=I.height-xt,ei=I.width-at,wr=I.height-En,gn=N.borderTopWidth,wi=N.borderRightWidth,xi=N.borderBottomWidth,yr=N.borderLeftWidth,Ei=us(N.paddingTop,S.bounds.width),Ca=us(N.paddingRight,S.bounds.width),Zl=us(N.paddingBottom,S.bounds.width),bs=us(N.paddingLeft,S.bounds.width);this.topLeftBorderDoubleOuterBox=Z>0||ie>0?Js(I.left+yr/3,I.top+gn/3,Z-yr/3,ie-gn/3,_s.TOP_LEFT):new Tn(I.left+yr/3,I.top+gn/3),this.topRightBorderDoubleOuterBox=Z>0||ie>0?Js(I.left+qn,I.top+gn/3,Ee-wi/3,je-gn/3,_s.TOP_RIGHT):new Tn(I.left+I.width-wi/3,I.top+gn/3),this.bottomRightBorderDoubleOuterBox=at>0||xt>0?Js(I.left+ei,I.top+Qi,at-wi/3,xt-xi/3,_s.BOTTOM_RIGHT):new Tn(I.left+I.width-wi/3,I.top+I.height-xi/3),this.bottomLeftBorderDoubleOuterBox=ln>0||En>0?Js(I.left+yr/3,I.top+wr,ln-yr/3,En-xi/3,_s.BOTTOM_LEFT):new Tn(I.left+yr/3,I.top+I.height-xi/3),this.topLeftBorderDoubleInnerBox=Z>0||ie>0?Js(I.left+2*yr/3,I.top+2*gn/3,Z-2*yr/3,ie-2*gn/3,_s.TOP_LEFT):new Tn(I.left+2*yr/3,I.top+2*gn/3),this.topRightBorderDoubleInnerBox=Z>0||ie>0?Js(I.left+qn,I.top+2*gn/3,Ee-2*wi/3,je-2*gn/3,_s.TOP_RIGHT):new Tn(I.left+I.width-2*wi/3,I.top+2*gn/3),this.bottomRightBorderDoubleInnerBox=at>0||xt>0?Js(I.left+ei,I.top+Qi,at-2*wi/3,xt-2*xi/3,_s.BOTTOM_RIGHT):new Tn(I.left+I.width-2*wi/3,I.top+I.height-2*xi/3),this.bottomLeftBorderDoubleInnerBox=ln>0||En>0?Js(I.left+2*yr/3,I.top+wr,ln-2*yr/3,En-2*xi/3,_s.BOTTOM_LEFT):new Tn(I.left+2*yr/3,I.top+I.height-2*xi/3),this.topLeftBorderStroke=Z>0||ie>0?Js(I.left+yr/2,I.top+gn/2,Z-yr/2,ie-gn/2,_s.TOP_LEFT):new Tn(I.left+yr/2,I.top+gn/2),this.topRightBorderStroke=Z>0||ie>0?Js(I.left+qn,I.top+gn/2,Ee-wi/2,je-gn/2,_s.TOP_RIGHT):new Tn(I.left+I.width-wi/2,I.top+gn/2),this.bottomRightBorderStroke=at>0||xt>0?Js(I.left+ei,I.top+Qi,at-wi/2,xt-xi/2,_s.BOTTOM_RIGHT):new Tn(I.left+I.width-wi/2,I.top+I.height-xi/2),this.bottomLeftBorderStroke=ln>0||En>0?Js(I.left+yr/2,I.top+wr,ln-yr/2,En-xi/2,_s.BOTTOM_LEFT):new Tn(I.left+yr/2,I.top+I.height-xi/2),this.topLeftBorderBox=Z>0||ie>0?Js(I.left,I.top,Z,ie,_s.TOP_LEFT):new Tn(I.left,I.top),this.topRightBorderBox=Ee>0||je>0?Js(I.left+qn,I.top,Ee,je,_s.TOP_RIGHT):new Tn(I.left+I.width,I.top),this.bottomRightBorderBox=at>0||xt>0?Js(I.left+ei,I.top+Qi,at,xt,_s.BOTTOM_RIGHT):new Tn(I.left+I.width,I.top+I.height),this.bottomLeftBorderBox=ln>0||En>0?Js(I.left,I.top+wr,ln,En,_s.BOTTOM_LEFT):new Tn(I.left,I.top+I.height),this.topLeftPaddingBox=Z>0||ie>0?Js(I.left+yr,I.top+gn,Math.max(0,Z-yr),Math.max(0,ie-gn),_s.TOP_LEFT):new Tn(I.left+yr,I.top+gn),this.topRightPaddingBox=Ee>0||je>0?Js(I.left+Math.min(qn,I.width-wi),I.top+gn,qn>I.width+wi?0:Math.max(0,Ee-wi),Math.max(0,je-gn),_s.TOP_RIGHT):new Tn(I.left+I.width-wi,I.top+gn),this.bottomRightPaddingBox=at>0||xt>0?Js(I.left+Math.min(ei,I.width-yr),I.top+Math.min(Qi,I.height-xi),Math.max(0,at-wi),Math.max(0,xt-xi),_s.BOTTOM_RIGHT):new Tn(I.left+I.width-wi,I.top+I.height-xi),this.bottomLeftPaddingBox=ln>0||En>0?Js(I.left+yr,I.top+Math.min(wr,I.height-xi),Math.max(0,ln-yr),Math.max(0,En-xi),_s.BOTTOM_LEFT):new Tn(I.left+yr,I.top+I.height-xi),this.topLeftContentBox=Z>0||ie>0?Js(I.left+yr+bs,I.top+gn+Ei,Math.max(0,Z-(yr+bs)),Math.max(0,ie-(gn+Ei)),_s.TOP_LEFT):new Tn(I.left+yr+bs,I.top+gn+Ei),this.topRightContentBox=Ee>0||je>0?Js(I.left+Math.min(qn,I.width+yr+bs),I.top+gn+Ei,qn>I.width+yr+bs?0:Ee-yr+bs,je-(gn+Ei),_s.TOP_RIGHT):new Tn(I.left+I.width-(wi+Ca),I.top+gn+Ei),this.bottomRightContentBox=at>0||xt>0?Js(I.left+Math.min(ei,I.width-(yr+bs)),I.top+Math.min(Qi,I.height+gn+Ei),Math.max(0,at-(wi+Ca)),xt-(xi+Zl),_s.BOTTOM_RIGHT):new Tn(I.left+I.width-(wi+Ca),I.top+I.height-(xi+Zl)),this.bottomLeftContentBox=ln>0||En>0?Js(I.left+yr+bs,I.top+wr,Math.max(0,ln-(yr+bs)),En-(xi+Zl),_s.BOTTOM_LEFT):new Tn(I.left+yr+bs,I.top+I.height-(xi+Zl))}}(),_s=function(E){return E[E.TOP_LEFT=0]="TOP_LEFT",E[E.TOP_RIGHT=1]="TOP_RIGHT",E[E.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",E[E.BOTTOM_LEFT=3]="BOTTOM_LEFT",E}(_s||{}),Js=function(E,S,N,I,z){var Z=(Math.sqrt(2)-1)/3*4,ie=N*Z,De=I*Z,Ee=E+N,je=S+I;switch(z){case _s.TOP_LEFT:return new Mv(new Tn(E,je),new Tn(E,je-De),new Tn(Ee-ie,S),new Tn(Ee,S));case _s.TOP_RIGHT:return new Mv(new Tn(E,S),new Tn(E+ie,S),new Tn(Ee,je-De),new Tn(Ee,je));case _s.BOTTOM_RIGHT:return new Mv(new Tn(Ee,S),new Tn(Ee,S+De),new Tn(E+ie,je),new Tn(E,je));default:return new Mv(new Tn(Ee,je),new Tn(Ee-ie,je),new Tn(E,S+De),new Tn(E,S))}},Tv=function(E){return[E.topLeftBorderBox,E.topRightBorderBox,E.bottomRightBorderBox,E.bottomLeftBorderBox]},Bv=function(E){return[E.topLeftPaddingBox,E.topRightPaddingBox,E.bottomRightPaddingBox,E.bottomLeftPaddingBox]},OO=function(){return function E(S,N,I){this.offsetX=S,this.offsetY=N,this.matrix=I,this.type=0,this.target=6}}(),UA=function(){return function E(S,N){this.path=S,this.target=N,this.type=1}}(),kA=function(){return function E(S){this.opacity=S,this.type=2,this.target=6}}(),mC=function(E){return 1===E.type},HA=function(E,S){return E.length===S.length&&E.some(function(N,I){return N===S[I]})},qo=function(){return function E(S){this.element=S,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),gD=function(){function E(S,N){if(this.container=S,this.parent=N,this.effects=[],this.curves=new gC(this.container),this.container.styles.opacity<1&&this.effects.push(new kA(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new OO(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var ie=Tv(this.curves),De=Bv(this.curves);HA(ie,De)?this.effects.push(new UA(ie,6)):(this.effects.push(new UA(ie,2)),this.effects.push(new UA(De,4)))}}return E.prototype.getEffects=function(S){for(var N=-1===[2,3].indexOf(this.container.styles.position),I=this.parent,z=this.effects.slice(0);I;){var Z=I.effects.filter(function(Ee){return!mC(Ee)});if(N||0!==I.container.styles.position||!I.parent){if(z.unshift.apply(z,Z),N=-1===[2,3].indexOf(I.container.styles.position),0!==I.container.styles.overflowX){var ie=Tv(I.curves),De=Bv(I.curves);HA(ie,De)||z.unshift(new UA(De,6))}}else z.unshift.apply(z,Z);I=I.parent}return z.filter(function(Ee){return vs(Ee.target,S)})},E}(),fs=function(E,S,N,I){E.container.elements.forEach(function(z){var Z=vs(z.flags,4),ie=vs(z.flags,2),De=new gD(z,E);vs(z.styles.display,2048)&&I.push(De);var Ee=vs(z.flags,8)?[]:I;if(Z||ie){var je=Z||z.styles.isPositioned()?N:S,Ze=new qo(De);if(z.styles.isPositioned()||z.styles.opacity<1||z.styles.isTransformed()){var at=z.styles.zIndex.order;if(at<0){var xt=0;je.negativeZIndex.some(function(ln,En){return at>ln.element.container.styles.zIndex.order?(xt=En,!1):xt>0}),je.negativeZIndex.splice(xt,0,Ze)}else if(at>0){var In=0;je.positiveZIndex.some(function(ln,En){return at>=ln.element.container.styles.zIndex.order?(In=En+1,!1):In>0}),je.positiveZIndex.splice(In,0,Ze)}else je.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ze)}else z.styles.isFloating()?je.nonPositionedFloats.push(Ze):je.nonPositionedInlineLevel.push(Ze);fs(De,Ze,Z?Ze:N,Ee)}else z.styles.isInlineLevel()?S.inlineLevel.push(De):S.nonInlineLevel.push(De),fs(De,S,N,Ee);vs(z.flags,8)&&Xy(z,Ee)})},Xy=function(E,S){for(var N=E instanceof Qy?E.start:1,I=E instanceof Qy&&E.reversed,z=0;z<S.length;z++){var Z=S[z];Z.container instanceof dr&&"number"==typeof Z.container.value&&0!==Z.container.value&&(N=Z.container.value),Z.listValue=Jl(N,Z.container.styles.listStyleType,!0),N+=I?-1:1}},vC=function(E,S){switch(S){case 0:return Tl(E.topLeftBorderBox,E.topLeftPaddingBox,E.topRightBorderBox,E.topRightPaddingBox);case 1:return Tl(E.topRightBorderBox,E.topRightPaddingBox,E.bottomRightBorderBox,E.bottomRightPaddingBox);case 2:return Tl(E.bottomRightBorderBox,E.bottomRightPaddingBox,E.bottomLeftBorderBox,E.bottomLeftPaddingBox);default:return Tl(E.bottomLeftBorderBox,E.bottomLeftPaddingBox,E.topLeftBorderBox,E.topLeftPaddingBox)}},bg=function(E,S){var N=[];return Ml(E)?N.push(E.subdivide(.5,!1)):N.push(E),Ml(S)?N.push(S.subdivide(.5,!0)):N.push(S),N},Tl=function(E,S,N,I){var z=[];return Ml(E)?z.push(E.subdivide(.5,!1)):z.push(E),Ml(N)?z.push(N.subdivide(.5,!0)):z.push(N),Ml(I)?z.push(I.subdivide(.5,!0).reverse()):z.push(I),Ml(S)?z.push(S.subdivide(.5,!1).reverse()):z.push(S),z},yC=function(E){var N=E.styles;return E.bounds.add(N.borderLeftWidth,N.borderTopWidth,-(N.borderRightWidth+N.borderLeftWidth),-(N.borderTopWidth+N.borderBottomWidth))},Yy=function(E){var S=E.styles,N=E.bounds,I=us(S.paddingLeft,N.width),z=us(S.paddingRight,N.width),Z=us(S.paddingTop,N.width),ie=us(S.paddingBottom,N.width);return N.add(I+S.borderLeftWidth,Z+S.borderTopWidth,-(S.borderRightWidth+S.borderLeftWidth+I+z),-(S.borderTopWidth+S.borderBottomWidth+Z+ie))},Jy=function(E,S,N){var I=function(E,S){return 0===E?S.bounds:2===E?Yy(S):yC(S)}(Cg(E.styles.backgroundOrigin,S),E),z=function(E,S){return 0===E?S.bounds:2===E?Yy(S):yC(S)}(Cg(E.styles.backgroundClip,S),E),Z=VO(Cg(E.styles.backgroundSize,S),N,I),ie=Z[0],De=Z[1],Ee=xA(Cg(E.styles.backgroundPosition,S),I.width-ie,I.height-De);return[GV(Cg(E.styles.backgroundRepeat,S),Ee,Z,I,z),Math.round(I.left+Ee[0]),Math.round(I.top+Ee[1]),ie,De]},wg=function(E){return ns(E)&&E.value===lg.AUTO},Nv=function(E){return"number"==typeof E},VO=function(E,S,N){var I=S[0],z=S[1],Z=S[2],ie=E[0],De=E[1];if(!ie)return[0,0];if(Qo(ie)&&De&&Qo(De))return[us(ie,N.width),us(De,N.height)];var Ee=Nv(Z);if(ns(ie)&&(ie.value===lg.CONTAIN||ie.value===lg.COVER))return Nv(Z)?N.width/N.height<Z!=(ie.value===lg.COVER)?[N.width,N.width/Z]:[N.height*Z,N.height]:[N.width,N.height];var Ze=Nv(I),at=Nv(z),xt=Ze||at;if(wg(ie)&&(!De||wg(De)))return Ze&&at?[I,z]:Ee||xt?xt&&Ee?[Ze?I:z*Z,at?z:I/Z]:[Ze?I:N.width,at?z:N.height]:[N.width,N.height];if(Ee){var Yn=0,qn=0;return Qo(ie)?Yn=us(ie,N.width):Qo(De)&&(qn=us(De,N.height)),wg(ie)?Yn=qn*Z:(!De||wg(De))&&(qn=Yn/Z),[Yn,qn]}var Qi=null,ei=null;if(Qo(ie)?Qi=us(ie,N.width):De&&Qo(De)&&(ei=us(De,N.height)),null!==Qi&&(!De||wg(De))&&(ei=Ze&&at?Qi/I*z:N.height),null!==ei&&wg(ie)&&(Qi=Ze&&at?ei/z*I:N.width),null!==Qi&&null!==ei)return[Qi,ei];throw new Error("Unable to calculate background-size for element")},Cg=function(E,S){var N=E[S];return typeof N>"u"?E[0]:N},GV=function(E,S,N,I,z){var Z=S[0],ie=S[1],De=N[0],Ee=N[1];switch(E){case 2:return[new Tn(Math.round(I.left),Math.round(I.top+ie)),new Tn(Math.round(I.left+I.width),Math.round(I.top+ie)),new Tn(Math.round(I.left+I.width),Math.round(Ee+I.top+ie)),new Tn(Math.round(I.left),Math.round(Ee+I.top+ie))];case 3:return[new Tn(Math.round(I.left+Z),Math.round(I.top)),new Tn(Math.round(I.left+Z+De),Math.round(I.top)),new Tn(Math.round(I.left+Z+De),Math.round(I.height+I.top)),new Tn(Math.round(I.left+Z),Math.round(I.height+I.top))];case 1:return[new Tn(Math.round(I.left+Z),Math.round(I.top+ie)),new Tn(Math.round(I.left+Z+De),Math.round(I.top+ie)),new Tn(Math.round(I.left+Z+De),Math.round(I.top+ie+Ee)),new Tn(Math.round(I.left+Z),Math.round(I.top+ie+Ee))];default:return[new Tn(Math.round(z.left),Math.round(z.top)),new Tn(Math.round(z.left+z.width),Math.round(z.top)),new Tn(Math.round(z.left+z.width),Math.round(z.height+z.top)),new Tn(Math.round(z.left),Math.round(z.height+z.top))]}},_C="Hidden Text",Ro=function(){function E(S){this._data={},this._document=S}return E.prototype.parseMetrics=function(S,N){var I=this._document.createElement("div"),z=this._document.createElement("img"),Z=this._document.createElement("span"),ie=this._document.body;I.style.visibility="hidden",I.style.fontFamily=S,I.style.fontSize=N,I.style.margin="0",I.style.padding="0",I.style.whiteSpace="nowrap",ie.appendChild(I),z.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",z.width=1,z.height=1,z.style.margin="0",z.style.padding="0",z.style.verticalAlign="baseline",Z.style.fontFamily=S,Z.style.fontSize=N,Z.style.margin="0",Z.style.padding="0",Z.appendChild(this._document.createTextNode(_C)),I.appendChild(Z),I.appendChild(z);var De=z.offsetTop-Z.offsetTop+2;I.removeChild(Z),I.appendChild(this._document.createTextNode(_C)),I.style.lineHeight="normal",z.style.verticalAlign="super";var Ee=z.offsetTop-I.offsetTop+2;return ie.removeChild(I),{baseline:De,middle:Ee}},E.prototype.getMetrics=function(S,N){var I=S+" "+N;return typeof this._data[I]>"u"&&(this._data[I]=this.parseMetrics(S,N)),this._data[I]},E}(),QO=function(){return function E(S,N){this.context=S,this.options=N}}(),jV=function(E){function S(N,I){var z=E.call(this,N,I)||this;return z._activeEffects=[],z.canvas=I.canvas?I.canvas:document.createElement("canvas"),z.ctx=z.canvas.getContext("2d"),I.canvas||(z.canvas.width=Math.floor(I.width*I.scale),z.canvas.height=Math.floor(I.height*I.scale),z.canvas.style.width=I.width+"px",z.canvas.style.height=I.height+"px"),z.fontMetrics=new Ro(document),z.ctx.scale(z.options.scale,z.options.scale),z.ctx.translate(-I.x,-I.y),z.ctx.textBaseline="bottom",z._activeEffects=[],z.context.logger.debug("Canvas renderer initialized ("+I.width+"x"+I.height+") with scale "+I.scale),z}return we(S,E),S.prototype.applyEffects=function(N){for(var I=this;this._activeEffects.length;)this.popEffect();N.forEach(function(z){return I.applyEffect(z)})},S.prototype.applyEffect=function(N){this.ctx.save(),function(E){return 2===E.type}(N)&&(this.ctx.globalAlpha=N.opacity),function(E){return 0===E.type}(N)&&(this.ctx.translate(N.offsetX,N.offsetY),this.ctx.transform(N.matrix[0],N.matrix[1],N.matrix[2],N.matrix[3],N.matrix[4],N.matrix[5]),this.ctx.translate(-N.offsetX,-N.offsetY)),mC(N)&&(this.path(N.path),this.ctx.clip()),this._activeEffects.push(N)},S.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},S.prototype.renderStack=function(N){return yt(this,void 0,void 0,function(){return Ct(this,function(z){switch(z.label){case 0:return N.element.container.styles.isVisible()?[4,this.renderStackContent(N)]:[3,2];case 1:z.sent(),z.label=2;case 2:return[2]}})})},S.prototype.renderNode=function(N){return yt(this,void 0,void 0,function(){return Ct(this,function(I){switch(I.label){case 0:return vs(N.container.flags,16),N.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(N)]:[3,3];case 1:return I.sent(),[4,this.renderNodeContent(N)];case 2:I.sent(),I.label=3;case 3:return[2]}})})},S.prototype.renderTextWithLetterSpacing=function(N,I,z){var Z=this;0===I?this.ctx.fillText(N.text,N.bounds.left,N.bounds.top+z):gv(N.text).reduce(function(De,Ee){return Z.ctx.fillText(Ee,De,N.bounds.top+z),De+Z.ctx.measureText(Ee).width},N.bounds.left)},S.prototype.createFontStyle=function(N){var I=N.fontVariant.filter(function(ie){return"normal"===ie||"small-caps"===ie}).join(""),z=zO(N.fontFamily).join(", "),Z=wf(N.fontSize)?""+N.fontSize.number+N.fontSize.unit:N.fontSize.number+"px";return[[N.fontStyle,I,N.fontWeight,Z,z].join(" "),z,Z]},S.prototype.renderTextNode=function(N,I){return yt(this,void 0,void 0,function(){var z,ie,De,Ee,je,Ze,at,xt=this;return Ct(this,function(In){return z=this.createFontStyle(I),ie=z[1],De=z[2],this.ctx.font=z[0],this.ctx.direction=1===I.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ee=this.fontMetrics.getMetrics(ie,De),je=Ee.baseline,Ze=Ee.middle,at=I.paintOrder,N.textBounds.forEach(function(ln){at.forEach(function(En){switch(En){case 0:xt.ctx.fillStyle=rs(I.color),xt.renderTextWithLetterSpacing(ln,I.letterSpacing,je);var Xr=I.textShadow;Xr.length&&ln.text.trim().length&&(Xr.slice(0).reverse().forEach(function(Yn){xt.ctx.shadowColor=rs(Yn.color),xt.ctx.shadowOffsetX=Yn.offsetX.number*xt.options.scale,xt.ctx.shadowOffsetY=Yn.offsetY.number*xt.options.scale,xt.ctx.shadowBlur=Yn.blur.number,xt.renderTextWithLetterSpacing(ln,I.letterSpacing,je)}),xt.ctx.shadowColor="",xt.ctx.shadowOffsetX=0,xt.ctx.shadowOffsetY=0,xt.ctx.shadowBlur=0),I.textDecorationLine.length&&(xt.ctx.fillStyle=rs(I.textDecorationColor||I.color),I.textDecorationLine.forEach(function(Yn){switch(Yn){case 1:xt.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top+je),ln.bounds.width,1);break;case 2:xt.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top),ln.bounds.width,1);break;case 3:xt.ctx.fillRect(ln.bounds.left,Math.ceil(ln.bounds.top+Ze),ln.bounds.width,1)}}));break;case 1:I.webkitTextStrokeWidth&&ln.text.trim().length&&(xt.ctx.strokeStyle=rs(I.webkitTextStrokeColor),xt.ctx.lineWidth=I.webkitTextStrokeWidth,xt.ctx.lineJoin=window.chrome?"miter":"round",xt.ctx.strokeText(ln.text,ln.bounds.left,ln.bounds.top+je)),xt.ctx.strokeStyle="",xt.ctx.lineWidth=0,xt.ctx.lineJoin="miter"}})}),[2]})})},S.prototype.renderReplacedElement=function(N,I,z){if(z&&N.intrinsicWidth>0&&N.intrinsicHeight>0){var Z=Yy(N),ie=Bv(I);this.path(ie),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(z,0,0,N.intrinsicWidth,N.intrinsicHeight,Z.left,Z.top,Z.width,Z.height),this.ctx.restore()}},S.prototype.renderNodeContent=function(N){return yt(this,void 0,void 0,function(){var I,z,Z,ie,De,Ze,at,xt,ln,En,Xr,Yn,qn,Qi,ei,wr;return Ct(this,function(gn){switch(gn.label){case 0:this.applyEffects(N.getEffects(4)),z=N.curves,Z=(I=N.container).styles,ie=0,De=I.textNodes,gn.label=1;case 1:return ie<De.length?[4,this.renderTextNode(De[ie],Z)]:[3,4];case 2:gn.sent(),gn.label=3;case 3:return ie++,[3,1];case 4:if(!(I instanceof vv))return[3,8];gn.label=5;case 5:return gn.trys.push([5,7,,8]),[4,this.context.cache.match(I.src)];case 6:return qn=gn.sent(),this.renderReplacedElement(I,z,qn),[3,8];case 7:return gn.sent(),this.context.logger.error("Error loading image "+I.src),[3,8];case 8:if(I instanceof Vy&&this.renderReplacedElement(I,z,I.canvas),!(I instanceof Id))return[3,12];gn.label=9;case 9:return gn.trys.push([9,11,,12]),[4,this.context.cache.match(I.svg)];case 10:return qn=gn.sent(),this.renderReplacedElement(I,z,qn),[3,12];case 11:return gn.sent(),this.context.logger.error("Error loading svg "+I.svg.substring(0,255)),[3,12];case 12:return I instanceof St&&I.tree?[4,new S(this.context,{scale:this.options.scale,backgroundColor:I.backgroundColor,x:0,y:0,width:I.width,height:I.height}).render(I.tree)]:[3,14];case 13:Ze=gn.sent(),I.width&&I.height&&this.ctx.drawImage(Ze,0,0,I.width,I.height,I.bounds.left,I.bounds.top,I.bounds.width,I.bounds.height),gn.label=14;case 14:if(I instanceof sC&&(at=Math.min(I.bounds.width,I.bounds.height),I.type===yv?I.checked&&(this.ctx.save(),this.path([new Tn(I.bounds.left+.39363*at,I.bounds.top+.79*at),new Tn(I.bounds.left+.16*at,I.bounds.top+.5549*at),new Tn(I.bounds.left+.27347*at,I.bounds.top+.44071*at),new Tn(I.bounds.left+.39694*at,I.bounds.top+.5649*at),new Tn(I.bounds.left+.72983*at,I.bounds.top+.23*at),new Tn(I.bounds.left+.84*at,I.bounds.top+.34085*at),new Tn(I.bounds.left+.39363*at,I.bounds.top+.79*at)]),this.ctx.fillStyle=rs(K2),this.ctx.fill(),this.ctx.restore()):I.type===Ef&&I.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(I.bounds.left+at/2,I.bounds.top+at/2,at/4,0,2*Math.PI,!0),this.ctx.fillStyle=rs(K2),this.ctx.fill(),this.ctx.restore())),bC(I)&&I.value.length){switch(xt=this.createFontStyle(Z),ln=this.fontMetrics.getMetrics(ei=xt[0],xt[1]).baseline,this.ctx.font=ei,this.ctx.fillStyle=rs(Z.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=_D(I.styles.textAlign),wr=Yy(I),En=0,I.styles.textAlign){case 1:En+=wr.width/2;break;case 2:En+=wr.width}Xr=wr.add(En,0,0,-wr.height/2+1),this.ctx.save(),this.path([new Tn(wr.left,wr.top),new Tn(wr.left+wr.width,wr.top),new Tn(wr.left+wr.width,wr.top+wr.height),new Tn(wr.left,wr.top+wr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new xf(I.value,Xr),Z.letterSpacing,ln),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!vs(I.styles.display,2048))return[3,20];if(null===I.styles.listStyleImage)return[3,19];if(0!==(Yn=I.styles.listStyleImage).type)return[3,18];qn=void 0,Qi=Yn.url,gn.label=15;case 15:return gn.trys.push([15,17,,18]),[4,this.context.cache.match(Qi)];case 16:return qn=gn.sent(),this.ctx.drawImage(qn,I.bounds.left-(qn.width+10),I.bounds.top),[3,18];case 17:return gn.sent(),this.context.logger.error("Error loading list-style-image "+Qi),[3,18];case 18:return[3,20];case 19:N.listValue&&-1!==I.styles.listStyleType&&(ei=this.createFontStyle(Z)[0],this.ctx.font=ei,this.ctx.fillStyle=rs(Z.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",wr=new Mn(I.bounds.left,I.bounds.top+us(I.styles.paddingTop,I.bounds.width),I.bounds.width,Bd(Z.lineHeight,Z.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new xf(N.listValue,wr),Z.letterSpacing,Bd(Z.lineHeight,Z.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),gn.label=20;case 20:return[2]}})})},S.prototype.renderStackContent=function(N){return yt(this,void 0,void 0,function(){var I,z,Z,ie,De,Ee,je,Ze,at,xt,In,ln,En,Xr;return Ct(this,function(qn){switch(qn.label){case 0:return vs(N.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(N.element)];case 1:qn.sent(),I=0,z=N.negativeZIndex,qn.label=2;case 2:return I<z.length?[4,this.renderStack(z[I])]:[3,5];case 3:qn.sent(),qn.label=4;case 4:return I++,[3,2];case 5:return[4,this.renderNodeContent(N.element)];case 6:qn.sent(),Z=0,ie=N.nonInlineLevel,qn.label=7;case 7:return Z<ie.length?[4,this.renderNode(ie[Z])]:[3,10];case 8:qn.sent(),qn.label=9;case 9:return Z++,[3,7];case 10:De=0,Ee=N.nonPositionedFloats,qn.label=11;case 11:return De<Ee.length?[4,this.renderStack(Ee[De])]:[3,14];case 12:qn.sent(),qn.label=13;case 13:return De++,[3,11];case 14:je=0,Ze=N.nonPositionedInlineLevel,qn.label=15;case 15:return je<Ze.length?[4,this.renderStack(Ze[je])]:[3,18];case 16:qn.sent(),qn.label=17;case 17:return je++,[3,15];case 18:at=0,xt=N.inlineLevel,qn.label=19;case 19:return at<xt.length?[4,this.renderNode(xt[at])]:[3,22];case 20:qn.sent(),qn.label=21;case 21:return at++,[3,19];case 22:In=0,ln=N.zeroOrAutoZIndexOrTransformedOrOpacity,qn.label=23;case 23:return In<ln.length?[4,this.renderStack(ln[In])]:[3,26];case 24:qn.sent(),qn.label=25;case 25:return In++,[3,23];case 26:En=0,Xr=N.positiveZIndex,qn.label=27;case 27:return En<Xr.length?[4,this.renderStack(Xr[En])]:[3,30];case 28:qn.sent(),qn.label=29;case 29:return En++,[3,27];case 30:return[2]}})})},S.prototype.mask=function(N){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(N.slice(0).reverse()),this.ctx.closePath()},S.prototype.path=function(N){this.ctx.beginPath(),this.formatPath(N),this.ctx.closePath()},S.prototype.formatPath=function(N){var I=this;N.forEach(function(z,Z){var ie=Ml(z)?z.start:z;0===Z?I.ctx.moveTo(ie.x,ie.y):I.ctx.lineTo(ie.x,ie.y),Ml(z)&&I.ctx.bezierCurveTo(z.startControl.x,z.startControl.y,z.endControl.x,z.endControl.y,z.end.x,z.end.y)})},S.prototype.renderRepeat=function(N,I,z,Z){this.path(N),this.ctx.fillStyle=I,this.ctx.translate(z,Z),this.ctx.fill(),this.ctx.translate(-z,-Z)},S.prototype.resizeImage=function(N,I,z){var Z;if(N.width===I&&N.height===z)return N;var De=(null!==(Z=this.canvas.ownerDocument)&&void 0!==Z?Z:document).createElement("canvas");return De.width=Math.max(1,I),De.height=Math.max(1,z),De.getContext("2d").drawImage(N,0,0,N.width,N.height,0,0,I,z),De},S.prototype.renderBackgroundImage=function(N){return yt(this,void 0,void 0,function(){var I,z,Z,ie,De;return Ct(this,function(je){switch(je.label){case 0:I=N.styles.backgroundImage.length-1,z=function(Ze){var at,xt,In,ln,En,Xr,Yn,qn,Qi,ei,wr,gn,wi,xi,yr,Ei,Ca,Zl,bs,Va,Bf,ec,Bl,VA,$u,Ld,QA,zA,Nf,Ud,Fh;return Ct(this,function(GA){switch(GA.label){case 0:if(0!==Ze.type)return[3,5];at=void 0,xt=Ze.url,GA.label=1;case 1:return GA.trys.push([1,3,,4]),[4,Z.context.cache.match(xt)];case 2:return at=GA.sent(),[3,4];case 3:return GA.sent(),Z.context.logger.error("Error loading background-image "+xt),[3,4];case 4:return at&&(In=Jy(N,I,[at.width,at.height,at.width/at.height]),Ei=In[0],ec=In[1],Bl=In[2],xi=Z.ctx.createPattern(Z.resizeImage(at,bs=In[3],Va=In[4]),"repeat"),Z.renderRepeat(Ei,xi,ec,Bl)),[3,6];case 5:!function(E){return 1===E.type}(Ze)?function(E){return 2===E.type}(Ze)&&(yr=Jy(N,I,[null,null,null]),Ei=yr[0],Ca=yr[1],Zl=yr[2],Va=yr[4],ec=us((Bf=0===Ze.position.length?[Ve]:Ze.position)[0],bs=yr[3]),Bl=us(Bf[Bf.length-1],Va),VA=function(E,S,N,I,z){var Z=0,ie=0;switch(E.size){case 0:0===E.shape?Z=ie=Math.min(Math.abs(S),Math.abs(S-I),Math.abs(N),Math.abs(N-z)):1===E.shape&&(Z=Math.min(Math.abs(S),Math.abs(S-I)),ie=Math.min(Math.abs(N),Math.abs(N-z)));break;case 2:if(0===E.shape)Z=ie=Math.min(kr(S,N),kr(S,N-z),kr(S-I,N),kr(S-I,N-z));else if(1===E.shape){var De=Math.min(Math.abs(N),Math.abs(N-z))/Math.min(Math.abs(S),Math.abs(S-I)),Ee=Sf(I,z,S,N,!0);ie=De*(Z=kr(Ee[0]-S,(Ee[1]-N)/De))}break;case 1:0===E.shape?Z=ie=Math.max(Math.abs(S),Math.abs(S-I),Math.abs(N),Math.abs(N-z)):1===E.shape&&(Z=Math.max(Math.abs(S),Math.abs(S-I)),ie=Math.max(Math.abs(N),Math.abs(N-z)));break;case 3:if(0===E.shape)Z=ie=Math.max(kr(S,N),kr(S,N-z),kr(S-I,N),kr(S-I,N-z));else if(1===E.shape){De=Math.max(Math.abs(N),Math.abs(N-z))/Math.max(Math.abs(S),Math.abs(S-I));var at=Sf(I,z,S,N,!1);ie=De*(Z=kr(at[0]-S,(at[1]-N)/De))}}return Array.isArray(E.size)&&(Z=us(E.size[0],I),ie=2===E.size.length?us(E.size[1],z):Z),[Z,ie]}(Ze,ec,Bl,bs,Va),Ld=VA[1],($u=VA[0])>0&&Ld>0&&(QA=Z.ctx.createRadialGradient(Ca+ec,Zl+Bl,0,Ca+ec,Zl+Bl,$u),PR(Ze.stops,2*$u).forEach(function(kd){return QA.addColorStop(kd.stop,rs(kd.color))}),Z.path(Ei),Z.ctx.fillStyle=QA,$u!==Ld?(zA=N.bounds.left+.5*N.bounds.width,Nf=N.bounds.top+.5*N.bounds.height,Fh=1/(Ud=Ld/$u),Z.ctx.save(),Z.ctx.translate(zA,Nf),Z.ctx.transform(1,0,0,Ud,0,0),Z.ctx.translate(-zA,-Nf),Z.ctx.fillRect(Ca,Fh*(Zl-Nf)+Nf,bs,Va*Fh),Z.ctx.restore()):Z.ctx.fill())):(ln=Jy(N,I,[null,null,null]),Ei=ln[0],ec=ln[1],Bl=ln[2],En=xh(Ze.angle,bs=ln[3],Va=ln[4]),Xr=En[0],Yn=En[1],qn=En[2],Qi=En[3],ei=En[4],(wr=document.createElement("canvas")).width=bs,wr.height=Va,gn=wr.getContext("2d"),wi=gn.createLinearGradient(Yn,Qi,qn,ei),PR(Ze.stops,Xr).forEach(function(kd){return wi.addColorStop(kd.stop,rs(kd.color))}),gn.fillStyle=wi,gn.fillRect(0,0,bs,Va),bs>0&&Va>0&&(xi=Z.ctx.createPattern(wr,"repeat"),Z.renderRepeat(Ei,xi,ec,Bl))),GA.label=6;case 6:return I--,[2]}})},Z=this,ie=0,De=N.styles.backgroundImage.slice(0).reverse(),je.label=1;case 1:return ie<De.length?[5,z(De[ie])]:[3,4];case 2:je.sent(),je.label=3;case 3:return ie++,[3,1];case 4:return[2]}})})},S.prototype.renderSolidBorder=function(N,I,z){return yt(this,void 0,void 0,function(){return Ct(this,function(Z){return this.path(vC(z,I)),this.ctx.fillStyle=rs(N),this.ctx.fill(),[2]})})},S.prototype.renderDoubleBorder=function(N,I,z,Z){return yt(this,void 0,void 0,function(){var ie,De;return Ct(this,function(Ee){switch(Ee.label){case 0:return I<3?[4,this.renderSolidBorder(N,z,Z)]:[3,2];case 1:return Ee.sent(),[2];case 2:return ie=function(E,S){switch(S){case 0:return Tl(E.topLeftBorderBox,E.topLeftBorderDoubleOuterBox,E.topRightBorderBox,E.topRightBorderDoubleOuterBox);case 1:return Tl(E.topRightBorderBox,E.topRightBorderDoubleOuterBox,E.bottomRightBorderBox,E.bottomRightBorderDoubleOuterBox);case 2:return Tl(E.bottomRightBorderBox,E.bottomRightBorderDoubleOuterBox,E.bottomLeftBorderBox,E.bottomLeftBorderDoubleOuterBox);default:return Tl(E.bottomLeftBorderBox,E.bottomLeftBorderDoubleOuterBox,E.topLeftBorderBox,E.topLeftBorderDoubleOuterBox)}}(Z,z),this.path(ie),this.ctx.fillStyle=rs(N),this.ctx.fill(),De=function(E,S){switch(S){case 0:return Tl(E.topLeftBorderDoubleInnerBox,E.topLeftPaddingBox,E.topRightBorderDoubleInnerBox,E.topRightPaddingBox);case 1:return Tl(E.topRightBorderDoubleInnerBox,E.topRightPaddingBox,E.bottomRightBorderDoubleInnerBox,E.bottomRightPaddingBox);case 2:return Tl(E.bottomRightBorderDoubleInnerBox,E.bottomRightPaddingBox,E.bottomLeftBorderDoubleInnerBox,E.bottomLeftPaddingBox);default:return Tl(E.bottomLeftBorderDoubleInnerBox,E.bottomLeftPaddingBox,E.topLeftBorderDoubleInnerBox,E.topLeftPaddingBox)}}(Z,z),this.path(De),this.ctx.fill(),[2]}})})},S.prototype.renderNodeBackgroundAndBorders=function(N){return yt(this,void 0,void 0,function(){var I,z,Z,ie,De,Ee,je,Ze,at=this;return Ct(this,function(xt){switch(xt.label){case 0:return this.applyEffects(N.getEffects(2)),z=!Dd((I=N.container.styles).backgroundColor)||I.backgroundImage.length,Z=[{style:I.borderTopStyle,color:I.borderTopColor,width:I.borderTopWidth},{style:I.borderRightStyle,color:I.borderRightColor,width:I.borderRightWidth},{style:I.borderBottomStyle,color:I.borderBottomColor,width:I.borderBottomWidth},{style:I.borderLeftStyle,color:I.borderLeftColor,width:I.borderLeftWidth}],ie=Wu(Cg(I.backgroundClip,0),N.curves),z||I.boxShadow.length?(this.ctx.save(),this.path(ie),this.ctx.clip(),Dd(I.backgroundColor)||(this.ctx.fillStyle=rs(I.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(N.container)]):[3,2];case 1:xt.sent(),this.ctx.restore(),I.boxShadow.slice(0).reverse().forEach(function(In){at.ctx.save();var ln=Tv(N.curves),En=In.inset?0:1e4,Xr=function(E,S,N,I,z){return E.map(function(Z,ie){switch(ie){case 0:return Z.add(S,N);case 1:return Z.add(S+I,N);case 2:return Z.add(S+I,N+z);case 3:return Z.add(S,N+z)}return Z})}(ln,(In.inset?1:-1)*In.spread.number-En,(In.inset?1:-1)*In.spread.number,In.spread.number*(In.inset?-2:2),In.spread.number*(In.inset?-2:2));In.inset?(at.path(ln),at.ctx.clip(),at.mask(Xr)):(at.mask(ln),at.ctx.clip(),at.path(Xr)),at.ctx.shadowOffsetX=In.offsetX.number+En,at.ctx.shadowOffsetY=In.offsetY.number,at.ctx.shadowColor=rs(In.color),at.ctx.shadowBlur=In.blur.number,at.ctx.fillStyle=In.inset?rs(In.color):"rgba(0,0,0,1)",at.ctx.fill(),at.ctx.restore()}),xt.label=2;case 2:De=0,Ee=0,je=Z,xt.label=3;case 3:return Ee<je.length?0!==(Ze=je[Ee]).style&&!Dd(Ze.color)&&Ze.width>0?2!==Ze.style?[3,5]:[4,this.renderDashedDottedBorder(Ze.color,Ze.width,De,N.curves,2)]:[3,11]:[3,13];case 4:return xt.sent(),[3,11];case 5:return 3!==Ze.style?[3,7]:[4,this.renderDashedDottedBorder(Ze.color,Ze.width,De,N.curves,3)];case 6:return xt.sent(),[3,11];case 7:return 4!==Ze.style?[3,9]:[4,this.renderDoubleBorder(Ze.color,Ze.width,De,N.curves)];case 8:return xt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ze.color,De,N.curves)];case 10:xt.sent(),xt.label=11;case 11:De++,xt.label=12;case 12:return Ee++,[3,3];case 13:return[2]}})})},S.prototype.renderDashedDottedBorder=function(N,I,z,Z,ie){return yt(this,void 0,void 0,function(){var De,Ee,je,Ze,at,xt,In,ln,En,Xr,Yn,qn,Qi,ei,wr,gn;return Ct(this,function(wi){return this.ctx.save(),De=function(E,S){switch(S){case 0:return bg(E.topLeftBorderStroke,E.topRightBorderStroke);case 1:return bg(E.topRightBorderStroke,E.bottomRightBorderStroke);case 2:return bg(E.bottomRightBorderStroke,E.bottomLeftBorderStroke);default:return bg(E.bottomLeftBorderStroke,E.topLeftBorderStroke)}}(Z,z),Ee=vC(Z,z),2===ie&&(this.path(Ee),this.ctx.clip()),Ml(Ee[0])?(je=Ee[0].start.x,Ze=Ee[0].start.y):(je=Ee[0].x,Ze=Ee[0].y),Ml(Ee[1])?(at=Ee[1].end.x,xt=Ee[1].end.y):(at=Ee[1].x,xt=Ee[1].y),In=0===z||2===z?Math.abs(je-at):Math.abs(Ze-xt),this.ctx.beginPath(),this.formatPath(3===ie?De:Ee.slice(0,2)),ln=I<3?3*I:2*I,En=I<3?2*I:I,3===ie&&(ln=I,En=I),Xr=!0,In<=2*ln?Xr=!1:In<=2*ln+En?(ln*=Yn=In/(2*ln+En),En*=Yn):(qn=Math.floor((In+En)/(ln+En)),Qi=(In-qn*ln)/(qn-1),En=(ei=(In-(qn+1)*ln)/qn)<=0||Math.abs(En-Qi)<Math.abs(En-ei)?Qi:ei),Xr&&this.ctx.setLineDash(3===ie?[0,ln+En]:[ln,En]),3===ie?(this.ctx.lineCap="round",this.ctx.lineWidth=I):this.ctx.lineWidth=2*I+1.1,this.ctx.strokeStyle=rs(N),this.ctx.stroke(),this.ctx.setLineDash([]),2===ie&&(Ml(Ee[0])&&(wr=Ee[3],gn=Ee[0],this.ctx.beginPath(),this.formatPath([new Tn(wr.end.x,wr.end.y),new Tn(gn.start.x,gn.start.y)]),this.ctx.stroke()),Ml(Ee[1])&&(wr=Ee[1],gn=Ee[2],this.ctx.beginPath(),this.formatPath([new Tn(wr.end.x,wr.end.y),new Tn(gn.start.x,gn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},S.prototype.render=function(N){return yt(this,void 0,void 0,function(){var I;return Ct(this,function(z){switch(z.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=rs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),I=function(E){var S=new gD(E,null),N=new qo(S),I=[];return fs(S,N,N,I),Xy(S.container,I),N}(N),[4,this.renderStack(I)];case 1:return z.sent(),this.applyEffects([]),[2,this.canvas]}})})},S}(QO),bC=function(E){return E instanceof Y2||E instanceof X2||E instanceof sC&&E.type!==Ef&&E.type!==yv},Wu=function(E,S){switch(E){case 0:return Tv(S);case 2:return function(E){return[E.topLeftContentBox,E.topRightContentBox,E.bottomRightContentBox,E.bottomLeftContentBox]}(S);default:return Bv(S)}},_D=function(E){switch(E){case 1:return"center";case 2:return"right";default:return"left"}},Ih=["-apple-system","system-ui"],zO=function(E){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?E.filter(function(S){return-1===Ih.indexOf(S)}):E},GO=function(E){function S(N,I){var z=E.call(this,N,I)||this;return z.canvas=I.canvas?I.canvas:document.createElement("canvas"),z.ctx=z.canvas.getContext("2d"),z.options=I,z.canvas.width=Math.floor(I.width*I.scale),z.canvas.height=Math.floor(I.height*I.scale),z.canvas.style.width=I.width+"px",z.canvas.style.height=I.height+"px",z.ctx.scale(z.options.scale,z.options.scale),z.ctx.translate(-I.x,-I.y),z.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+I.width+"x"+I.height+" at "+I.x+","+I.y+") with scale "+I.scale),z}return we(S,E),S.prototype.render=function(N){return yt(this,void 0,void 0,function(){var I,z;return Ct(this,function(Z){switch(Z.label){case 0:return I=RA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,N),[4,bD(I)];case 1:return z=Z.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=rs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(z,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},S}(QO),bD=function(E){return new Promise(function(S,N){var I=new Image;I.onload=function(){S(I)},I.onerror=N,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(E))})},qV=function(){function E(S){var I=S.enabled;this.id=S.id,this.enabled=I,this.start=Date.now()}return E.prototype.debug=function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,An([this.id,this.getTime()+"ms"],S)):this.info.apply(this,S))},E.prototype.getTime=function(){return Date.now()-this.start},E.prototype.info=function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,An([this.id,this.getTime()+"ms"],S))},E.prototype.warn=function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,An([this.id,this.getTime()+"ms"],S)):this.info.apply(this,S))},E.prototype.error=function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,An([this.id,this.getTime()+"ms"],S)):this.info.apply(this,S))},E.instances={},E}(),WV=function(){function E(S,N){var I;this.windowBounds=N,this.instanceName="#"+E.instanceCount++,this.logger=new qV({id:this.instanceName,enabled:S.logging}),this.cache=null!==(I=S.cache)&&void 0!==I?I:new Dv(this,S)}return E.instanceCount=1,E}();typeof window<"u"&&fD.setContext(window);var KV=function(E,S){return yt(void 0,void 0,void 0,function(){var N,I,z,Z,ie,De,Ee,je,Ze,at,xt,In,ln,En,Xr,Yn,qn,Qi,ei,wr,gn,xi,yr,Ei,Ca,Zl,bs,Va,Bf,ec,Bl,VA,$u,Ld,QA,zA,Nf,Ud;return Ct(this,function(Fh){switch(Fh.label){case 0:if(!E||"object"!=typeof E)return[2,Promise.reject("Invalid element provided as first argument")];if(!(N=E.ownerDocument))throw new Error("Element is not attached to a Document");if(!(I=N.defaultView))throw new Error("Document is not attached to a Window");return z={allowTaint:null!==(xi=S.allowTaint)&&void 0!==xi&&xi,imageTimeout:null!==(yr=S.imageTimeout)&&void 0!==yr?yr:15e3,proxy:S.proxy,useCORS:null!==(Ei=S.useCORS)&&void 0!==Ei&&Ei},Z=Et({logging:null===(Ca=S.logging)||void 0===Ca||Ca,cache:S.cache},z),ie={windowWidth:null!==(Zl=S.windowWidth)&&void 0!==Zl?Zl:I.innerWidth,windowHeight:null!==(bs=S.windowHeight)&&void 0!==bs?bs:I.innerHeight,scrollX:null!==(Va=S.scrollX)&&void 0!==Va?Va:I.pageXOffset,scrollY:null!==(Bf=S.scrollY)&&void 0!==Bf?Bf:I.pageYOffset},De=new Mn(ie.scrollX,ie.scrollY,ie.windowWidth,ie.windowHeight),Ee=new WV(Z,De),je=null!==(ec=S.foreignObjectRendering)&&void 0!==ec&&ec,Ze={allowTaint:null!==(Bl=S.allowTaint)&&void 0!==Bl&&Bl,onclone:S.onclone,ignoreElements:S.ignoreElements,inlineImages:je,copyStyles:je},Ee.logger.debug("Starting document clone with size "+De.width+"x"+De.height+" scrolled to "+-De.left+","+-De.top),at=new Sv(Ee,E,Ze),(xt=at.clonedReferenceElement)?[4,at.toIFrame(N,De)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return In=Fh.sent(),ln=Ic(xt)||function(E){return"HTML"===E.tagName}(xt)?function(E){var S=E.body,N=E.documentElement;if(!S||!N)throw new Error("Unable to get document size");var I=Math.max(Math.max(S.scrollWidth,N.scrollWidth),Math.max(S.offsetWidth,N.offsetWidth),Math.max(S.clientWidth,N.clientWidth)),z=Math.max(Math.max(S.scrollHeight,N.scrollHeight),Math.max(S.offsetHeight,N.offsetHeight),Math.max(S.clientHeight,N.clientHeight));return new Mn(0,0,I,z)}(xt.ownerDocument):jn(Ee,xt),En=ln.width,Xr=ln.height,Yn=ln.left,qn=ln.top,Qi=XV(Ee,xt,S.backgroundColor),ei={canvas:S.canvas,backgroundColor:Qi,scale:null!==($u=null!==(VA=S.scale)&&void 0!==VA?VA:I.devicePixelRatio)&&void 0!==$u?$u:1,x:(null!==(Ld=S.x)&&void 0!==Ld?Ld:0)+Yn,y:(null!==(QA=S.y)&&void 0!==QA?QA:0)+qn,width:null!==(zA=S.width)&&void 0!==zA?zA:Math.ceil(En),height:null!==(Nf=S.height)&&void 0!==Nf?Nf:Math.ceil(Xr)},je?(Ee.logger.debug("Document cloned, using foreign object rendering"),[4,new GO(Ee,ei).render(xt)]):[3,3];case 2:return wr=Fh.sent(),[3,5];case 3:return Ee.logger.debug("Document cloned, element located at "+Yn+","+qn+" with size "+En+"x"+Xr+" using computed rendering"),Ee.logger.debug("Starting DOM parsing"),gn=hs(Ee,xt),Qi===gn.styles.backgroundColor&&(gn.styles.backgroundColor=Md.TRANSPARENT),Ee.logger.debug("Starting renderer for element at "+ei.x+","+ei.y+" with size "+ei.width+"x"+ei.height),[4,new jV(Ee,ei).render(gn)];case 4:wr=Fh.sent(),Fh.label=5;case 5:return(!(null!==(Ud=S.removeContainer)&&void 0!==Ud)||Ud)&&(Sv.destroy(In)||Ee.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ee.logger.debug("Finished rendering"),[2,wr]}})})},XV=function(E,S,N){var I=S.ownerDocument,z=I.documentElement?og(E,getComputedStyle(I.documentElement).backgroundColor):Md.TRANSPARENT,Z=I.body?og(E,getComputedStyle(I.body).backgroundColor):Md.TRANSPARENT,ie="string"==typeof N?og(E,N):null===N?Md.TRANSPARENT:4294967295;return S===I.documentElement?Dd(z)?Dd(Z)?ie:Z:z:ie};return function(E,S){return void 0===S&&(S={}),KV(E,S)}}()},7955:gr=>{gr.exports=function Xn(we,Et){"use strict";var Yt,rn,yt=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,Ct=/(^[ ]*|[ ]*$)/g,An=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,Mn=/^0x[0-9a-f]+$/i,jn=/^0/,zn=function(Qs){return Xn.insensitive&&(""+Qs).toLowerCase()||""+Qs},bt=zn(we).replace(Ct,"")||"",Ge=zn(Et).replace(Ct,"")||"",Pt=bt.replace(yt,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),Bt=Ge.replace(yt,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),mt=parseInt(bt.match(Mn),16)||1!==Pt.length&&bt.match(An)&&Date.parse(bt),Gt=parseInt(Ge.match(Mn),16)||mt&&Ge.match(An)&&Date.parse(Ge)||null;if(Gt){if(mt<Gt)return-1;if(mt>Gt)return 1}for(var Jr=0,ps=Math.max(Pt.length,Bt.length);Jr<ps;Jr++){if(Yt=!(Pt[Jr]||"").match(jn)&&parseFloat(Pt[Jr])||Pt[Jr]||0,rn=!(Bt[Jr]||"").match(jn)&&parseFloat(Bt[Jr])||Bt[Jr]||0,isNaN(Yt)!==isNaN(rn))return isNaN(Yt)?1:-1;if(typeof Yt!=typeof rn&&(Yt+="",rn+=""),Yt<rn)return-1;if(Yt>rn)return 1}return 0}},8814:(gr,Xn,we)=>{var Et=we(2495),yt=we(7850),Ct=we(5704),An=we(8114),Mn=we(9040),jn=we(4478),zn=we(7454);zn.alea=Et,zn.xor128=yt,zn.xorwow=Ct,zn.xorshift7=An,zn.xor4096=Mn,zn.tychei=jn,gr.exports=zn},2495:function(gr,Xn,we){var Et;!function(yt,Ct,An){function Mn(Ge){var Pt=this,Bt=function bt(){var Ge=4022871197;return function(Bt){Bt=String(Bt);for(var mt=0;mt<Bt.length;mt++){var Gt=.02519603282416938*(Ge+=Bt.charCodeAt(mt));Gt-=Ge=Gt>>>0,Ge=(Gt*=Ge)>>>0,Ge+=4294967296*(Gt-=Ge)}return 2.3283064365386963e-10*(Ge>>>0)}}();Pt.next=function(){var mt=2091639*Pt.s0+2.3283064365386963e-10*Pt.c;return Pt.s0=Pt.s1,Pt.s1=Pt.s2,Pt.s2=mt-(Pt.c=0|mt)},Pt.c=1,Pt.s0=Bt(" "),Pt.s1=Bt(" "),Pt.s2=Bt(" "),Pt.s0-=Bt(Ge),Pt.s0<0&&(Pt.s0+=1),Pt.s1-=Bt(Ge),Pt.s1<0&&(Pt.s1+=1),Pt.s2-=Bt(Ge),Pt.s2<0&&(Pt.s2+=1),Bt=null}function jn(Ge,Pt){return Pt.c=Ge.c,Pt.s0=Ge.s0,Pt.s1=Ge.s1,Pt.s2=Ge.s2,Pt}function zn(Ge,Pt){var Bt=new Mn(Ge),mt=Pt&&Pt.state,Gt=Bt.next;return Gt.int32=function(){return 4294967296*Bt.next()|0},Gt.double=function(){return Gt()+11102230246251565e-32*(2097152*Gt()|0)},Gt.quick=Gt,mt&&("object"==typeof mt&&jn(mt,Bt),Gt.state=function(){return jn(Bt,{})}),Gt}Ct&&Ct.exports?Ct.exports=zn:we.amdD&&we.amdO?void 0!==(Et=function(){return zn}.call(Xn,we,Xn,Ct))&&(Ct.exports=Et):this.alea=zn}(0,gr=we.nmd(gr))},4478:function(gr,Xn,we){var Et;!function(yt,Ct,An){function Mn(bt){var Ge=this,Pt="";Ge.next=function(){var mt=Ge.b,Gt=Ge.c,Yt=Ge.d,rn=Ge.a;return mt=mt<<25^mt>>>7^Gt,Gt=Gt-Yt|0,Yt=Yt<<24^Yt>>>8^rn,rn=rn-mt|0,Ge.b=mt=mt<<20^mt>>>12^Gt,Ge.c=Gt=Gt-Yt|0,Ge.d=Yt<<16^Gt>>>16^rn,Ge.a=rn-mt|0},Ge.a=0,Ge.b=0,Ge.c=-1640531527,Ge.d=1367130551,bt===Math.floor(bt)?(Ge.a=bt/4294967296|0,Ge.b=0|bt):Pt+=bt;for(var Bt=0;Bt<Pt.length+20;Bt++)Ge.b^=0|Pt.charCodeAt(Bt),Ge.next()}function jn(bt,Ge){return Ge.a=bt.a,Ge.b=bt.b,Ge.c=bt.c,Ge.d=bt.d,Ge}function zn(bt,Ge){var Pt=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Pt.next()>>>0)/4294967296};return mt.double=function(){do{var rn=((Pt.next()>>>11)+(Pt.next()>>>0)/4294967296)/(1<<21)}while(0===rn);return rn},mt.int32=Pt.next,mt.quick=mt,Bt&&("object"==typeof Bt&&jn(Bt,Pt),mt.state=function(){return jn(Pt,{})}),mt}Ct&&Ct.exports?Ct.exports=zn:we.amdD&&we.amdO?void 0!==(Et=function(){return zn}.call(Xn,we,Xn,Ct))&&(Ct.exports=Et):this.tychei=zn}(0,gr=we.nmd(gr))},7850:function(gr,Xn,we){var Et;!function(yt,Ct,An){function Mn(bt){var Ge=this,Pt="";Ge.x=0,Ge.y=0,Ge.z=0,Ge.w=0,Ge.next=function(){var mt=Ge.x^Ge.x<<11;return Ge.x=Ge.y,Ge.y=Ge.z,Ge.z=Ge.w,Ge.w^=Ge.w>>>19^mt^mt>>>8},bt===(0|bt)?Ge.x=bt:Pt+=bt;for(var Bt=0;Bt<Pt.length+64;Bt++)Ge.x^=0|Pt.charCodeAt(Bt),Ge.next()}function jn(bt,Ge){return Ge.x=bt.x,Ge.y=bt.y,Ge.z=bt.z,Ge.w=bt.w,Ge}function zn(bt,Ge){var Pt=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Pt.next()>>>0)/4294967296};return mt.double=function(){do{var rn=((Pt.next()>>>11)+(Pt.next()>>>0)/4294967296)/(1<<21)}while(0===rn);return rn},mt.int32=Pt.next,mt.quick=mt,Bt&&("object"==typeof Bt&&jn(Bt,Pt),mt.state=function(){return jn(Pt,{})}),mt}Ct&&Ct.exports?Ct.exports=zn:we.amdD&&we.amdO?void 0!==(Et=function(){return zn}.call(Xn,we,Xn,Ct))&&(Ct.exports=Et):this.xor128=zn}(0,gr=we.nmd(gr))},9040:function(gr,Xn,we){var Et;!function(yt,Ct,An){function Mn(bt){var Ge=this;Ge.next=function(){var Yt,rn,Bt=Ge.w,mt=Ge.X,Gt=Ge.i;return Ge.w=Bt=Bt+1640531527|0,rn=mt[Gt+34&127],Yt=mt[Gt=Gt+1&127],rn^=rn<<13,Yt^=Yt<<17,rn=mt[Gt]=(rn^=rn>>>15)^(Yt^=Yt>>>12),Ge.i=Gt,rn+(Bt^Bt>>>16)|0},function Pt(Bt,mt){var Gt,Yt,rn,Jr,ps,Qs=[],Fs=128;for(mt===(0|mt)?(Yt=mt,mt=null):(mt+="\0",Yt=0,Fs=Math.max(Fs,mt.length)),rn=0,Jr=-32;Jr<Fs;++Jr)mt&&(Yt^=mt.charCodeAt((Jr+32)%mt.length)),0===Jr&&(ps=Yt),Yt^=Yt<<10,Yt^=Yt>>>15,Yt^=Yt<<4,Yt^=Yt>>>13,Jr>=0&&(rn=0==(Gt=Qs[127&Jr]^=Yt+(ps=ps+1640531527|0))?rn+1:0);for(rn>=128&&(Qs[127&(mt&&mt.length||0)]=-1),rn=127,Jr=512;Jr>0;--Jr)Yt=Qs[rn+34&127],Gt=Qs[rn=rn+1&127],Yt^=Yt<<13,Gt^=Gt<<17,Qs[rn]=(Yt^=Yt>>>15)^(Gt^=Gt>>>12);Bt.w=ps,Bt.X=Qs,Bt.i=rn}(Ge,bt)}function jn(bt,Ge){return Ge.i=bt.i,Ge.w=bt.w,Ge.X=bt.X.slice(),Ge}function zn(bt,Ge){null==bt&&(bt=+new Date);var Pt=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Pt.next()>>>0)/4294967296};return mt.double=function(){do{var rn=((Pt.next()>>>11)+(Pt.next()>>>0)/4294967296)/(1<<21)}while(0===rn);return rn},mt.int32=Pt.next,mt.quick=mt,Bt&&(Bt.X&&jn(Bt,Pt),mt.state=function(){return jn(Pt,{})}),mt}Ct&&Ct.exports?Ct.exports=zn:we.amdD&&we.amdO?void 0!==(Et=function(){return zn}.call(Xn,we,Xn,Ct))&&(Ct.exports=Et):this.xor4096=zn}(0,gr=we.nmd(gr))},8114:function(gr,Xn,we){var Et;!function(yt,Ct,An){function Mn(bt){var Ge=this;Ge.next=function(){var Gt,Yt,Bt=Ge.x,mt=Ge.i;return Gt=Bt[mt],Yt=(Gt^=Gt>>>7)^Gt<<24,Yt^=(Gt=Bt[mt+1&7])^Gt>>>10,Yt^=(Gt=Bt[mt+3&7])^Gt>>>3,Yt^=(Gt=Bt[mt+4&7])^Gt<<7,Gt=Bt[mt+7&7],Bt[mt]=Yt^=(Gt^=Gt<<13)^Gt<<9,Ge.i=mt+1&7,Yt},function Pt(Bt,mt){var Gt,rn=[];if(mt===(0|mt))rn[0]=mt;else for(mt=""+mt,Gt=0;Gt<mt.length;++Gt)rn[7&Gt]=rn[7&Gt]<<15^mt.charCodeAt(Gt)+rn[Gt+1&7]<<13;for(;rn.length<8;)rn.push(0);for(Gt=0;Gt<8&&0===rn[Gt];++Gt);for(8==Gt&&(rn[7]=-1),Bt.x=rn,Bt.i=0,Gt=256;Gt>0;--Gt)Bt.next()}(Ge,bt)}function jn(bt,Ge){return Ge.x=bt.x.slice(),Ge.i=bt.i,Ge}function zn(bt,Ge){null==bt&&(bt=+new Date);var Pt=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Pt.next()>>>0)/4294967296};return mt.double=function(){do{var rn=((Pt.next()>>>11)+(Pt.next()>>>0)/4294967296)/(1<<21)}while(0===rn);return rn},mt.int32=Pt.next,mt.quick=mt,Bt&&(Bt.x&&jn(Bt,Pt),mt.state=function(){return jn(Pt,{})}),mt}Ct&&Ct.exports?Ct.exports=zn:we.amdD&&we.amdO?void 0!==(Et=function(){return zn}.call(Xn,we,Xn,Ct))&&(Ct.exports=Et):this.xorshift7=zn}(0,gr=we.nmd(gr))},5704:function(gr,Xn,we){var Et;!function(yt,Ct,An){function Mn(bt){var Ge=this,Pt="";Ge.next=function(){var mt=Ge.x^Ge.x>>>2;return Ge.x=Ge.y,Ge.y=Ge.z,Ge.z=Ge.w,Ge.w=Ge.v,(Ge.d=Ge.d+362437|0)+(Ge.v=Ge.v^Ge.v<<4^mt^mt<<1)|0},Ge.x=0,Ge.y=0,Ge.z=0,Ge.w=0,Ge.v=0,bt===(0|bt)?Ge.x=bt:Pt+=bt;for(var Bt=0;Bt<Pt.length+64;Bt++)Ge.x^=0|Pt.charCodeAt(Bt),Bt==Pt.length&&(Ge.d=Ge.x<<10^Ge.x>>>4),Ge.next()}function jn(bt,Ge){return Ge.x=bt.x,Ge.y=bt.y,Ge.z=bt.z,Ge.w=bt.w,Ge.v=bt.v,Ge.d=bt.d,Ge}function zn(bt,Ge){var Pt=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Pt.next()>>>0)/4294967296};return mt.double=function(){do{var rn=((Pt.next()>>>11)+(Pt.next()>>>0)/4294967296)/(1<<21)}while(0===rn);return rn},mt.int32=Pt.next,mt.quick=mt,Bt&&("object"==typeof Bt&&jn(Bt,Pt),mt.state=function(){return jn(Pt,{})}),mt}Ct&&Ct.exports?Ct.exports=zn:we.amdD&&we.amdO?void 0!==(Et=function(){return zn}.call(Xn,we,Xn,Ct))&&(Ct.exports=Et):this.xorwow=zn}(0,gr=we.nmd(gr))},7454:function(gr,Xn,we){var Et;!function(yt,Ct,An){var Gt,Mn=256,Ge=An.pow(Mn,6),Pt=An.pow(2,52),Bt=2*Pt,mt=Mn-1;function Yt(mr,Pi,po){var Ds=[],Li=Qs(ps((Pi=1==Pi?{entropy:!0}:Pi||{}).entropy?[mr,va(Ct)]:mr??function Fs(){try{var mr;return Gt&&(mr=Gt.randomBytes)?mr=mr(Mn):(mr=new Uint8Array(Mn),(yt.crypto||yt.msCrypto).getRandomValues(mr)),va(mr)}catch{var Pi=yt.navigator,po=Pi&&Pi.plugins;return[+new Date,yt,po,yt.screen,va(Ct)]}}(),3),Ds),fi=new rn(Ds),bi=function(){for(var ya=fi.g(6),nl=Ge,_a=0;ya<Pt;)ya=(ya+_a)*Mn,nl*=Mn,_a=fi.g(1);for(;ya>=Bt;)ya/=2,nl/=2,_a>>>=1;return(ya+_a)/nl};return bi.int32=function(){return 0|fi.g(4)},bi.quick=function(){return fi.g(4)/4294967296},bi.double=bi,Qs(va(fi.S),Ct),(Pi.pass||po||function(ya,nl,_a,rl){return rl&&(rl.S&&Jr(rl,fi),ya.state=function(){return Jr(fi,{})}),_a?(An.random=ya,nl):ya})(bi,Li,"global"in Pi?Pi.global:this==An,Pi.state)}function rn(mr){var Pi,po=mr.length,Ds=this,Li=0,fi=Ds.i=Ds.j=0,bi=Ds.S=[];for(po||(mr=[po++]);Li<Mn;)bi[Li]=Li++;for(Li=0;Li<Mn;Li++)bi[Li]=bi[fi=mt&fi+mr[Li%po]+(Pi=bi[Li])],bi[fi]=Pi;(Ds.g=function(ya){for(var nl,_a=0,rl=Ds.i,bh=Ds.j,ru=Ds.S;ya--;)nl=ru[rl=mt&rl+1],_a=_a*Mn+ru[mt&(ru[rl]=ru[bh=mt&bh+nl])+(ru[bh]=nl)];return Ds.i=rl,Ds.j=bh,_a})(Mn)}function Jr(mr,Pi){return Pi.i=mr.i,Pi.j=mr.j,Pi.S=mr.S.slice(),Pi}function ps(mr,Pi){var Li,po=[],Ds=typeof mr;if(Pi&&"object"==Ds)for(Li in mr)try{po.push(ps(mr[Li],Pi-1))}catch{}return po.length?po:"string"==Ds?mr:mr+"\0"}function Qs(mr,Pi){for(var Ds,po=mr+"",Li=0;Li<po.length;)Pi[mt&Li]=mt&(Ds^=19*Pi[mt&Li])+po.charCodeAt(Li++);return va(Pi)}function va(mr){return String.fromCharCode.apply(0,mr)}if(Qs(An.random(),Ct),gr.exports){gr.exports=Yt;try{Gt=we(1234)}catch{}}else void 0!==(Et=function(){return Yt}.call(Xn,we,Xn,gr))&&(gr.exports=Et)}(typeof self<"u"?self:this,[],Math)},724:gr=>{void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var Xn=Xn||function(){var we=[];return{REVISION:"8",getAll:function(){return we},removeAll:function(){we=[]},add:function(Et){we.push(Et)},remove:function(Et){var yt=we.indexOf(Et);-1!==yt&&we.splice(yt,1)},update:function(Et){if(0===we.length)return!1;var yt=0,Ct=we.length;for(Et=void 0!==Et?Et:Date.now();yt<Ct;)we[yt].update(Et)?yt++:(we.splice(yt,1),Ct--);return!0}}}();Xn.Tween=function(we){var Et=we,yt={},Ct={},An=1e3,Mn=0,jn=null,zn=Xn.Easing.Linear.None,bt=Xn.Interpolation.Linear,Ge=[],Pt=null,Bt=!1,mt=null,Gt=null;this.to=function(Yt,rn){return void 0!==rn&&(An=rn),Ct=Yt,this},this.start=function(Yt){for(var rn in Xn.add(this),Bt=!1,jn=void 0!==Yt?Yt:Date.now(),jn+=Mn,Ct)if(null!==Et[rn]&&rn in Et){if(Ct[rn]instanceof Array){if(0===Ct[rn].length)continue;Ct[rn]=[Et[rn]].concat(Ct[rn])}yt[rn]=Et[rn]}return this},this.stop=function(){return Xn.remove(this),this},this.delay=function(Yt){return Mn=Yt,this},this.easing=function(Yt){return zn=Yt,this},this.interpolation=function(Yt){return bt=Yt,this},this.chain=function(){return Ge=arguments,this},this.onStart=function(Yt){return Pt=Yt,this},this.onUpdate=function(Yt){return mt=Yt,this},this.onComplete=function(Yt){return Gt=Yt,this},this.update=function(Yt){if(Yt<jn)return!0;!1===Bt&&(null!==Pt&&Pt.call(Et),Bt=!0);var rn=(Yt-jn)/An,Jr=zn(rn=rn>1?1:rn);for(var ps in yt){var Qs=yt[ps],Fs=Ct[ps];Et[ps]=Fs instanceof Array?bt(Fs,Jr):Qs+(Fs-Qs)*Jr}if(null!==mt&&mt.call(Et,Jr),1==rn){null!==Gt&&Gt.call(Et);for(var va=0,mr=Ge.length;va<mr;va++)Ge[va].start(Yt);return!1}return!0}},Xn.Easing={Linear:{None:function(we){return we}},Quadratic:{In:function(we){return we*we},Out:function(we){return we*(2-we)},InOut:function(we){return(we*=2)<1?.5*we*we:-.5*(--we*(we-2)-1)}},Cubic:{In:function(we){return we*we*we},Out:function(we){return--we*we*we+1},InOut:function(we){return(we*=2)<1?.5*we*we*we:.5*((we-=2)*we*we+2)}},Quartic:{In:function(we){return we*we*we*we},Out:function(we){return 1- --we*we*we*we},InOut:function(we){return(we*=2)<1?.5*we*we*we*we:-.5*((we-=2)*we*we*we-2)}},Quintic:{In:function(we){return we*we*we*we*we},Out:function(we){return--we*we*we*we*we+1},InOut:function(we){return(we*=2)<1?.5*we*we*we*we*we:.5*((we-=2)*we*we*we*we+2)}},Sinusoidal:{In:function(we){return 1-Math.cos(we*Math.PI/2)},Out:function(we){return Math.sin(we*Math.PI/2)},InOut:function(we){return.5*(1-Math.cos(Math.PI*we))}},Exponential:{In:function(we){return 0===we?0:Math.pow(1024,we-1)},Out:function(we){return 1===we?1:1-Math.pow(2,-10*we)},InOut:function(we){return 0===we?0:1===we?1:(we*=2)<1?.5*Math.pow(1024,we-1):.5*(2-Math.pow(2,-10*(we-1)))}},Circular:{In:function(we){return 1-Math.sqrt(1-we*we)},Out:function(we){return Math.sqrt(1- --we*we)},InOut:function(we){return(we*=2)<1?-.5*(Math.sqrt(1-we*we)-1):.5*(Math.sqrt(1-(we-=2)*we)+1)}},Elastic:{In:function(we){var Et,yt=.1;return 0===we?0:1===we?1:(!yt||yt<1?(yt=1,Et=.1):Et=.4*Math.asin(1/yt)/(2*Math.PI),-yt*Math.pow(2,10*(we-=1))*Math.sin((we-Et)*(2*Math.PI)/.4))},Out:function(we){var Et,yt=.1;return 0===we?0:1===we?1:(!yt||yt<1?(yt=1,Et=.1):Et=.4*Math.asin(1/yt)/(2*Math.PI),yt*Math.pow(2,-10*we)*Math.sin((we-Et)*(2*Math.PI)/.4)+1)},InOut:function(we){var Et,yt=.1;return 0===we?0:1===we?1:(!yt||yt<1?(yt=1,Et=.1):Et=.4*Math.asin(1/yt)/(2*Math.PI),(we*=2)<1?yt*Math.pow(2,10*(we-=1))*Math.sin((we-Et)*(2*Math.PI)/.4)*-.5:yt*Math.pow(2,-10*(we-=1))*Math.sin((we-Et)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(we){return we*we*(2.70158*we-1.70158)},Out:function(we){return--we*we*(2.70158*we+1.70158)+1},InOut:function(we){var Et=2.5949095;return(we*=2)<1?we*we*((Et+1)*we-Et)*.5:.5*((we-=2)*we*((Et+1)*we+Et)+2)}},Bounce:{In:function(we){return 1-Xn.Easing.Bounce.Out(1-we)},Out:function(we){return we<1/2.75?7.5625*we*we:we<2/2.75?7.5625*(we-=1.5/2.75)*we+.75:we<2.5/2.75?7.5625*(we-=2.25/2.75)*we+.9375:7.5625*(we-=2.625/2.75)*we+.984375},InOut:function(we){return we<.5?.5*Xn.Easing.Bounce.In(2*we):.5*Xn.Easing.Bounce.Out(2*we-1)+.5}}},Xn.Interpolation={Linear:function(we,Et){var yt=we.length-1,Ct=yt*Et,An=Math.floor(Ct),Mn=Xn.Interpolation.Utils.Linear;return Et<0?Mn(we[0],we[1],Ct):Et>1?Mn(we[yt],we[yt-1],yt-Ct):Mn(we[An],we[An+1>yt?yt:An+1],Ct-An)},Bezier:function(we,Et){var jn,yt=0,Ct=we.length-1,An=Math.pow,Mn=Xn.Interpolation.Utils.Bernstein;for(jn=0;jn<=Ct;jn++)yt+=An(1-Et,Ct-jn)*An(Et,jn)*we[jn]*Mn(Ct,jn);return yt},CatmullRom:function(we,Et){var yt=we.length-1,Ct=yt*Et,An=Math.floor(Ct),Mn=Xn.Interpolation.Utils.CatmullRom;return we[0]===we[yt]?(Et<0&&(An=Math.floor(Ct=yt*(1+Et))),Mn(we[(An-1+yt)%yt],we[An],we[(An+1)%yt],we[(An+2)%yt],Ct-An)):Et<0?we[0]-(Mn(we[0],we[0],we[1],we[1],-Ct)-we[0]):Et>1?we[yt]-(Mn(we[yt],we[yt],we[yt-1],we[yt-1],Ct-yt)-we[yt]):Mn(we[An?An-1:0],we[An],we[yt<An+1?yt:An+1],we[yt<An+2?yt:An+2],Ct-An)},Utils:{Linear:function(we,Et,yt){return(Et-we)*yt+we},Bernstein:function(we,Et){var yt=Xn.Interpolation.Utils.Factorial;return yt(we)/yt(Et)/yt(we-Et)},Factorial:function(){var we=[1];return function(Et){var Ct,yt=1;if(we[Et])return we[Et];for(Ct=Et;Ct>1;Ct--)yt*=Ct;return we[Et]=yt}}(),CatmullRom:function(we,Et,yt,Ct,An){var Mn=.5*(yt-we),jn=.5*(Ct-Et),zn=An*An;return(2*Et-2*yt+Mn+jn)*(An*zn)+(-3*Et+3*yt-2*Mn-jn)*zn+Mn*An+Et}}},gr.exports=Xn},1234:()=>{},616:function(gr){gr.exports=function(){"use strict";function Xn(){return!0}function we(){return!1}function Et(){}const yt="Argument is not a typed-function.";return function Ct(){function Mn(He){return"object"==typeof He&&null!==He&&He.constructor===Object}const jn=[{name:"number",test:function(He){return"number"==typeof He}},{name:"string",test:function(He){return"string"==typeof He}},{name:"boolean",test:function(He){return"boolean"==typeof He}},{name:"Function",test:function(He){return"function"==typeof He}},{name:"Array",test:Array.isArray},{name:"Date",test:function(He){return He instanceof Date}},{name:"RegExp",test:function(He){return He instanceof RegExp}},{name:"Object",test:Mn},{name:"null",test:function(He){return null===He}},{name:"undefined",test:function(He){return void 0===He}}],zn={name:"any",test:Xn,isAny:!0};let bt,Ge,Pt=0,Bt={createCount:0};function mt(He){const Je=bt.get(He);if(Je)return Je;let lt='Unknown type "'+He+'"';const Ot=He.toLowerCase();let Wt;for(Wt of Ge)if(Wt.toLowerCase()===Ot){lt+='. Did you mean "'+Wt+'" ?';break}throw new TypeError(lt)}function Gt(He){let Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const lt=Je?mt(Je).index:Ge.length,Ot=[];for(let Vt=0;Vt<He.length;++Vt){if(!He[Vt]||"string"!=typeof He[Vt].name||"function"!=typeof He[Vt].test)throw new TypeError("Object with properties {name: string, test: function} expected");const Cn=He[Vt].name;if(bt.has(Cn))throw new TypeError('Duplicate type name "'+Cn+'"');Ot.push(Cn),bt.set(Cn,{name:Cn,test:He[Vt].test,isAny:He[Vt].isAny,index:lt+Vt,conversionsTo:[]})}const Wt=Ge.slice(lt);Ge=Ge.slice(0,lt).concat(Ot).concat(Wt);for(let Vt=lt+Ot.length;Vt<Ge.length;++Vt)bt.get(Ge[Vt]).index=Vt}function Yt(){bt=new Map,Ge=[],Pt=0,Gt([zn],!1)}function Jr(He){const Je=Ge.filter(lt=>{const Ot=bt.get(lt);return!Ot.isAny&&Ot.test(He)});return Je.length?Je:["any"]}function ps(He){return He&&"function"==typeof He&&"_typedFunctionData"in He}function Qs(He,Je,lt){if(!ps(He))throw new TypeError(yt);const Ot=lt&&lt.exact,Vt=Li(Array.isArray(Je)?Je.join(","):Je),Cn=mr(Vt);if(!Ot||Cn in He.signatures){const Ui=He._typedFunctionData.signatureMap.get(Cn);if(Ui)return Ui}const tn=Vt.length;let Sn,Jt;if(Ot){let Ui;for(Ui in Sn=[],He.signatures)Sn.push(He._typedFunctionData.signatureMap.get(Ui))}else Sn=He._typedFunctionData.signatures;for(let Ui=0;Ui<tn;++Ui){const Wi=Vt[Ui],ao=[];let Vo;for(Vo of Sn){const gs=nl(Vo.params,Ui);if(gs&&(!Wi.restParam||gs.restParam)){if(!gs.hasAny){const Cl=Ds(gs);if(Wi.types.some(Ua=>!Cl.has(Ua.name)))continue}ao.push(Vo)}}if(Sn=ao,0===Sn.length)break}for(Jt of Sn)if(Jt.params.length<=tn)return Jt;throw new TypeError("Signature not found (signature: "+(He.name||"unnamed")+"("+mr(Vt,", ")+"))")}function mr(He){let Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return He.map(lt=>lt.name).join(Je)}function Pi(He){const Je=0===He.indexOf("..."),Ot=(Je?He.length>3?He.slice(3):"any":He).split("|").map(tn=>mt(tn.trim()));let Wt=!1,Vt=Je?"...":"";return{types:Ot.map(function(tn){return Wt=tn.isAny||Wt,Vt+=tn.name+"|",{name:tn.name,typeIndex:tn.index,test:tn.test,isAny:tn.isAny,conversion:null,conversionIndex:-1}}),name:Vt.slice(0,-1),hasAny:Wt,hasConversion:!1,restParam:Je}}function po(He){const lt=function Ym(He){if(0===He.length)return[];const Je=He.map(mt);He.length>1&&Je.sort((Wt,Vt)=>Wt.index-Vt.index);let lt=Je[0].conversionsTo;if(1===He.length)return lt;lt=lt.concat([]);const Ot=new Set(He);for(let Wt=1;Wt<Je.length;++Wt){let Vt;for(Vt of Je[Wt].conversionsTo)Ot.has(Vt.from)||(lt.push(Vt),Ot.add(Vt.from))}return lt}(He.types.map(Cn=>Cn.name));let Ot=He.hasAny,Wt=He.name;const Vt=lt.map(function(Cn){const tn=mt(Cn.from);return Ot=tn.isAny||Ot,Wt+="|"+Cn.from,{name:Cn.from,typeIndex:tn.index,test:tn.test,isAny:tn.isAny,conversion:Cn,conversionIndex:Cn.index}});return{types:He.types.concat(Vt),name:Wt,hasAny:Ot,hasConversion:Vt.length>0,restParam:He.restParam}}function Ds(He){return He.typeSet||(He.typeSet=new Set,He.types.forEach(Je=>He.typeSet.add(Je.name))),He.typeSet}function Li(He){const Je=[];if("string"!=typeof He)throw new TypeError("Signatures must be strings");const lt=He.trim();if(""===lt)return Je;const Ot=lt.split(",");for(let Wt=0;Wt<Ot.length;++Wt){const Vt=Pi(Ot[Wt].trim());if(Vt.restParam&&Wt!==Ot.length-1)throw new SyntaxError('Unexpected rest parameter "'+Ot[Wt]+'": only allowed for the last parameter');if(0===Vt.types.length)return null;Je.push(Vt)}return Je}function fi(He){const Je=Rs(He);return!!Je&&Je.restParam}function bi(He){if(!He||0===He.types.length)return Xn;if(1===He.types.length)return mt(He.types[0].name).test;if(2===He.types.length){const Je=mt(He.types[0].name).test,lt=mt(He.types[1].name).test;return function(Wt){return Je(Wt)||lt(Wt)}}{const Je=He.types.map(function(lt){return mt(lt.name).test});return function(Ot){for(let Wt=0;Wt<Je.length;Wt++)if(Je[Wt](Ot))return!0;return!1}}}function ya(He){let Je,lt,Ot;if(fi(He)){Je=fn(He).map(bi);const Wt=Je.length,Vt=bi(Rs(He)),Cn=function(tn){for(let Sn=Wt;Sn<tn.length;Sn++)if(!Vt(tn[Sn]))return!1;return!0};return function(Sn){for(let Jt=0;Jt<Je.length;Jt++)if(!Je[Jt](Sn[Jt]))return!1;return Cn(Sn)&&Sn.length>=Wt+1}}return 0===He.length?function(Vt){return 0===Vt.length}:1===He.length?(lt=bi(He[0]),function(Vt){return lt(Vt[0])&&1===Vt.length}):2===He.length?(lt=bi(He[0]),Ot=bi(He[1]),function(Vt){return lt(Vt[0])&&Ot(Vt[1])&&2===Vt.length}):(Je=He.map(bi),function(Vt){for(let Cn=0;Cn<Je.length;Cn++)if(!Je[Cn](Vt[Cn]))return!1;return Vt.length===Je.length})}function nl(He,Je){return Je<He.length?He[Je]:fi(He)?Rs(He):null}function _a(He,Je){const lt=nl(He,Je);return lt?Ds(lt):new Set}function rl(He){return null==He.conversion}function bh(He,Je){const lt=new Set;return He.forEach(Ot=>{const Wt=_a(Ot.params,Je);let Vt;for(Vt of Wt)lt.add(Vt)}),lt.has("any")?["any"]:Array.from(lt)}function ru(He,Je,lt){let Ot,Wt;const Vt=He||"unnamed";let tn,Cn=lt;for(tn=0;tn<Je.length;tn++){const Wi=[];if(Cn.forEach(ao=>{const gs=bi(nl(ao.params,tn));(tn<ao.params.length||fi(ao.params))&&gs(Je[tn])&&Wi.push(ao)}),0===Wi.length){if(Wt=bh(Cn,tn),Wt.length>0){const ao=Jr(Je[tn]);return Ot=new TypeError("Unexpected type of argument in function "+Vt+" (expected: "+Wt.join(" or ")+", actual: "+ao.join(" | ")+", index: "+tn+")"),Ot.data={category:"wrongType",fn:Vt,index:tn,actual:ao,expected:Wt},Ot}}else Cn=Wi}const Sn=Cn.map(function(Wi){return fi(Wi.params)?1/0:Wi.params.length});if(Je.length<Math.min.apply(null,Sn))return Wt=bh(Cn,tn),Ot=new TypeError("Too few arguments in function "+Vt+" (expected: "+Wt.join(" or ")+", index: "+Je.length+")"),Ot.data={category:"tooFewArgs",fn:Vt,index:Je.length,expected:Wt},Ot;const Jt=Math.max.apply(null,Sn);if(Je.length>Jt)return Ot=new TypeError("Too many arguments in function "+Vt+" (expected: "+Jt+", actual: "+Je.length+")"),Ot.data={category:"tooManyArgs",fn:Vt,index:Je.length,expectedLength:Jt},Ot;const Ui=[];for(let Wi=0;Wi<Je.length;++Wi)Ui.push(Jr(Je[Wi]).join("|"));return Ot=new TypeError('Arguments of type "'+Ui.join(", ")+'" do not match any of the defined signatures of function '+Vt+"."),Ot.data={category:"mismatch",actual:Ui},Ot}function Cd(He){let Je=Ge.length+1;for(let lt=0;lt<He.types.length;lt++)rl(He.types[lt])&&(Je=Math.min(Je,He.types[lt].typeIndex));return Je}function Wp(He){let Je=Pt+1;for(let lt=0;lt<He.types.length;lt++)rl(He.types[lt])||(Je=Math.min(Je,He.types[lt].conversionIndex));return Je}function $p(He,Je){if(He.hasAny){if(!Je.hasAny)return 1}else if(Je.hasAny)return-1;if(He.restParam){if(!Je.restParam)return 1}else if(Je.restParam)return-1;if(He.hasConversion){if(!Je.hasConversion)return 1}else if(Je.hasConversion)return-1;const lt=Cd(He)-Cd(Je);if(lt<0)return-1;if(lt>0)return 1;const Ot=Wp(He)-Wp(Je);return Ot<0?-1:Ot>0?1:0}function Sd(He,Je){const lt=He.params,Ot=Je.params,Wt=Rs(lt),Vt=Rs(Ot),Cn=fi(lt),tn=fi(Ot);if(Cn&&Wt.hasAny){if(!tn||!Vt.hasAny)return 1}else if(tn&&Vt.hasAny)return-1;let Ui,Sn=0,Jt=0;for(Ui of lt)Ui.hasAny&&++Sn,Ui.hasConversion&&++Jt;let Wi=0,ao=0;for(Ui of Ot)Ui.hasAny&&++Wi,Ui.hasConversion&&++ao;if(Sn!==Wi)return Sn-Wi;if(Cn&&Wt.hasConversion){if(!tn||!Vt.hasConversion)return 1}else if(tn&&Vt.hasConversion)return-1;if(Jt!==ao)return Jt-ao;if(Cn){if(!tn)return 1}else if(tn)return-1;const Vo=(lt.length-Ot.length)*(Cn?-1:1);if(0!==Vo)return Vo;const gs=[];let Ua,Cl=0;for(let di=0;di<lt.length;++di){const mf=$p(lt[di],Ot[di]);gs.push(mf),Cl+=mf}if(0!==Cl)return Cl;for(Ua of gs)if(0!==Ua)return Ua;return 0}function mw(He,Je){let lt=Je;if(He.some(Wt=>Wt.hasConversion)){const Wt=fi(He),Vt=He.map(_A);lt=function(){const tn=[],Sn=Wt?arguments.length-1:arguments.length;for(let Jt=0;Jt<Sn;Jt++)tn[Jt]=Vt[Jt](arguments[Jt]);return Wt&&(tn[Sn]=arguments[Sn].map(Vt[Sn])),Je.apply(this,tn)}}let Ot=lt;if(fi(He)){const Wt=He.length-1;Ot=function(){return lt.apply(this,li(arguments,0,Wt).concat([li(arguments,Wt)]))}}return Ot}function _A(He){let Je,lt,Ot,Wt;const Vt=[],Cn=[];switch(He.types.forEach(function(tn){tn.conversion&&(Vt.push(mt(tn.conversion.from).test),Cn.push(tn.conversion.convert))}),Cn.length){case 0:return function(Sn){return Sn};case 1:return Je=Vt[0],Ot=Cn[0],function(Sn){return Je(Sn)?Ot(Sn):Sn};case 2:return Je=Vt[0],lt=Vt[1],Ot=Cn[0],Wt=Cn[1],function(Sn){return Je(Sn)?Ot(Sn):lt(Sn)?Wt(Sn):Sn};default:return function(Sn){for(let Jt=0;Jt<Cn.length;Jt++)if(Vt[Jt](Sn))return Cn[Jt](Sn);return Sn}}}function xd(He){return function Je(lt,Ot,Wt){if(Ot<lt.length){const Vt=lt[Ot];let Cn=[];if(Vt.restParam){const tn=Vt.types.filter(rl);tn.length<Vt.types.length&&Cn.push({types:tn,name:"..."+tn.map(Sn=>Sn.name).join("|"),hasAny:tn.some(Sn=>Sn.isAny),hasConversion:!1,restParam:!0}),Cn.push(Vt)}else Cn=Vt.types.map(function(tn){return{types:[tn],name:tn.name,hasAny:tn.isAny,hasConversion:tn.conversion,restParam:!1}});return function mi(He,Je){return Array.prototype.concat.apply([],He.map(Je))}(Cn,function(tn){return Je(lt,Ot+1,Wt.concat([tn]))})}return[Wt]}(He,0,[])}function Kp(He,Je){const lt=Math.max(He.length,Je.length);for(let tn=0;tn<lt;tn++){const Sn=_a(He,tn),Jt=_a(Je,tn);let Wi,Ui=!1;for(Wi of Jt)if(Sn.has(Wi)){Ui=!0;break}if(!Ui)return!1}const Ot=He.length,Wt=Je.length,Vt=fi(He),Cn=fi(Je);return Vt?Cn?Ot===Wt:Wt>=Ot:Cn?Ot>=Wt:Ot===Wt}function ht(He,Je,lt){const Ot=[];let Wt;for(Wt of He){let Vt=lt[Wt];if("number"!=typeof Vt)throw new TypeError('No definition for referenced signature "'+Wt+'"');if(Vt=Je[Vt],"function"!=typeof Vt)return!1;Ot.push(Vt)}return Ot}function vt(He,Je,lt){const Ot=function Xp(He){return He.map(Je=>wo(Je)?ql(Je.referToSelf.callback):il(Je)?Hu(Je.referTo.references,Je.referTo.callback):Je)}(He),Wt=new Array(Ot.length).fill(!1);let Vt=!0;for(;Vt;){Vt=!1;let Cn=!0;for(let tn=0;tn<Ot.length;++tn){if(Wt[tn])continue;const Sn=Ot[tn];if(wo(Sn))Ot[tn]=Sn.referToSelf.callback(lt),Ot[tn].referToSelf=Sn.referToSelf,Wt[tn]=!0,Cn=!1;else if(il(Sn)){const Jt=ht(Sn.referTo.references,Ot,Je);Jt?(Ot[tn]=Sn.referTo.callback.apply(this,Jt),Ot[tn].referTo=Sn.referTo,Wt[tn]=!0,Cn=!1):Vt=!0}}if(Cn&&Vt)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Ot}function un(He,Je){if(Bt.createCount++,0===Object.keys(Je).length)throw new SyntaxError("No signatures provided");Bt.warnAgainstDeprecatedThis&&function Xt(He){const Je=/\bthis(\(|\.signatures\b)/;Object.keys(He).forEach(lt=>{if(Je.test(He[lt].toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(Je);const lt=[],Ot=[],Wt={},Vt=[];let Cn;for(Cn in Je){if(!Object.prototype.hasOwnProperty.call(Je,Cn))continue;const $i=Li(Cn);if(!$i)continue;lt.forEach(function(su){if(Kp(su,$i))throw new TypeError('Conflicting signatures "'+mr(su)+'" and "'+mr($i)+'".')}),lt.push($i);const Os=Ot.length;Ot.push(Je[Cn]);const iu=$i.map(po);let Qu;for(Qu of xd(iu)){const su=mr(Qu);Vt.push({params:Qu,name:su,fn:Os}),Qu.every(by=>!by.hasConversion)&&(Wt[su]=Os)}}Vt.sort(Sd);const tn=vt(Ot,Wt,tg);let Sn;for(Sn in Wt)Object.prototype.hasOwnProperty.call(Wt,Sn)&&(Wt[Sn]=tn[Wt[Sn]]);const Jt=[],Ui=new Map;for(Sn of Vt)Ui.has(Sn.name)||(Sn.fn=tn[Sn.fn],Jt.push(Sn),Ui.set(Sn.name,Sn));const Wi=Jt[0]&&Jt[0].params.length<=2&&!fi(Jt[0].params),ao=Jt[1]&&Jt[1].params.length<=2&&!fi(Jt[1].params),Vo=Jt[2]&&Jt[2].params.length<=2&&!fi(Jt[2].params),gs=Jt[3]&&Jt[3].params.length<=2&&!fi(Jt[3].params),Cl=Jt[4]&&Jt[4].params.length<=2&&!fi(Jt[4].params),Ua=Jt[5]&&Jt[5].params.length<=2&&!fi(Jt[5].params),di=Wi&&ao&&Vo&&gs&&Cl&&Ua;for(let $i=0;$i<Jt.length;++$i)Jt[$i].test=ya(Jt[$i].params);const mf=Wi?bi(Jt[0].params[0]):we,my=ao?bi(Jt[1].params[0]):we,vw=Vo?bi(Jt[2].params[0]):we,yw=gs?bi(Jt[3].params[0]):we,Ur=Cl?bi(Jt[4].params[0]):we,ci=Ua?bi(Jt[5].params[0]):we,Ms=Wi?bi(Jt[0].params[1]):we,Yp=ao?bi(Jt[1].params[1]):we,ki=Vo?bi(Jt[2].params[1]):we,Hi=gs?bi(Jt[3].params[1]):we,vy=Cl?bi(Jt[4].params[1]):we,Tr=Ua?bi(Jt[5].params[1]):we;for(let $i=0;$i<Jt.length;++$i)Jt[$i].implementation=mw(Jt[$i].params,Jt[$i].fn);const Jp=Wi?Jt[0].implementation:Et,Bi=ao?Jt[1].implementation:Et,Sl=Vo?Jt[2].implementation:Et,r2=gs?Jt[3].implementation:Et,Jm=Cl?Jt[4].implementation:Et,Co=Ua?Jt[5].implementation:Et,Zp=Wi?Jt[0].params.length:-1,yy=ao?Jt[1].params.length:-1,_w=Vo?Jt[2].params.length:-1,Cc=gs?Jt[3].params.length:-1,s2=Cl?Jt[4].params.length:-1,_y=Ua?Jt[5].params.length:-1,dt=di?6:0,Vu=Jt.length,vf=Jt.map($i=>$i.test),Zm=Jt.map($i=>$i.implementation),eg=function(){for(let Os=dt;Os<Vu;Os++)if(vf[Os](arguments))return Zm[Os].apply(this,arguments);return Bt.onMismatch(He,arguments,Jt)};function tg($i,Os){return arguments.length===Zp&&mf($i)&&Ms(Os)?Jp.apply(this,arguments):arguments.length===yy&&my($i)&&Yp(Os)?Bi.apply(this,arguments):arguments.length===_w&&vw($i)&&ki(Os)?Sl.apply(this,arguments):arguments.length===Cc&&yw($i)&&Hi(Os)?r2.apply(this,arguments):arguments.length===s2&&Ur($i)&&vy(Os)?Jm.apply(this,arguments):arguments.length===_y&&ci($i)&&Tr(Os)?Co.apply(this,arguments):eg.apply(this,arguments)}try{Object.defineProperty(tg,"name",{value:He})}catch{}return tg.signatures=Wt,tg._typedFunctionData={signatures:Jt,signatureMap:Ui},tg}function Wn(He,Je,lt){throw ru(He,Je,lt)}function fn(He){return li(He,0,He.length-1)}function Rs(He){return He[He.length-1]}function li(He,Je,lt){return Array.prototype.slice.call(He,Je,lt)}function Hu(He,Je){return{referTo:{references:He,callback:Je}}}function ql(He){if("function"!=typeof He)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:He}}}function il(He){return He&&"object"==typeof He.referTo&&Array.isArray(He.referTo.references)&&"function"==typeof He.referTo.callback}function wo(He){return He&&"object"==typeof He.referToSelf&&"function"==typeof He.referToSelf.callback}function Wl(He,Je){if(!He)return Je;if(Je&&Je!==He){const lt=new Error("Function names do not match (expected: "+He+", actual: "+Je+")");throw lt.data={actual:Je,expected:He},lt}return He}function zs(He){let Je;for(const lt in He)Object.prototype.hasOwnProperty.call(He,lt)&&(ps(He[lt])||"string"==typeof He[lt].signature)&&(Je=Wl(Je,He[lt].name));return Je}function wh(He,Je){let lt;for(lt in Je)if(Object.prototype.hasOwnProperty.call(Je,lt)){if(lt in He&&Je[lt]!==He[lt]){const Ot=new Error('Signature "'+lt+'" is defined twice');throw Ot.data={signature:lt,sourceFunction:Je[lt],destFunction:He[lt]},Ot}He[lt]=Je[lt]}}Yt(),Gt(jn);const bA=Bt;function Ch(He){if(!He||"string"!=typeof He.from||"string"!=typeof He.to||"function"!=typeof He.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(He.to===He.from)throw new SyntaxError('Illegal to define conversion from "'+He.from+'" to itself.')}return Bt=function(He){const Je="string"==typeof He;let Ot=Je?He:"";const Wt={};for(let Vt=Je?1:0;Vt<arguments.length;++Vt){const Cn=arguments[Vt];let Sn,tn={};if("function"==typeof Cn?(Sn=Cn.name,"string"==typeof Cn.signature?tn[Cn.signature]=Cn:ps(Cn)&&(tn=Cn.signatures)):Mn(Cn)&&(tn=Cn,Je||(Sn=zs(Cn))),0===Object.keys(tn).length){const Jt=new TypeError("Argument to 'typed' at index "+Vt+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Jt.data={index:Vt,argument:Cn},Jt}Je||(Ot=Wl(Ot,Sn)),wh(Wt,tn)}return un(Ot||"",Wt)},Bt.create=Ct,Bt.createCount=bA.createCount,Bt.onMismatch=Wn,Bt.throwMismatchError=Wn,Bt.createError=ru,Bt.clear=Yt,Bt.clearConversions=function rn(){let He;for(He of Ge)bt.get(He).conversionsTo=[];Pt=0},Bt.addTypes=Gt,Bt._findType=mt,Bt.referTo=function wc(){const He=fn(arguments).map(lt=>mr(Li(lt))),Je=Rs(arguments);if("function"!=typeof Je)throw new TypeError("Callback function expected as last argument");return Hu(He,Je)},Bt.referToSelf=ql,Bt.convert=function va(He,Je){const lt=mt(Je);if(lt.test(He))return He;const Ot=lt.conversionsTo;if(0===Ot.length)throw new Error("There are no conversions to "+Je+" defined.");for(let Wt=0;Wt<Ot.length;Wt++)if(mt(Ot[Wt].from).test(He))return Ot[Wt].convert(He);throw new Error("Cannot convert "+He+" to "+Je)},Bt.findSignature=Qs,Bt.find=function Fs(He,Je,lt){return Qs(He,Je,lt).implementation},Bt.isTypedFunction=ps,Bt.warnAgainstDeprecatedThis=!0,Bt.addType=function(He,Je){let lt="any";!1!==Je&&bt.has("Object")&&(lt="Object"),Bt.addTypes([He],lt)},Bt.addConversion=function(He){let Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};Ch(He);const lt=mt(He.to),Ot=lt.conversionsTo.find(Wt=>Wt.from===He.from);if(Ot){if(!Je||!Je.override)throw new Error('There is already a conversion from "'+He.from+'" to "'+lt.name+'"');Bt.removeConversion({from:Ot.from,to:He.to,convert:Ot.convert})}lt.conversionsTo.push({from:He.from,convert:He.convert,index:Pt++})},Bt.addConversions=function(He,Je){He.forEach(lt=>Bt.addConversion(lt,Je))},Bt.removeConversion=function(He){Ch(He);const Je=mt(He.to),lt=function Ti(He,Je){for(let lt=0;lt<He.length;lt++)if(Je(He[lt]))return He[lt]}(Je.conversionsTo,Wt=>Wt.from===He.from);if(!lt)throw new Error("Attempt to remove nonexistent conversion from "+He.from+" to "+He.to);if(lt.convert!==He.convert)throw new Error("Conversion to remove does not match existing conversion");const Ot=Je.conversionsTo.indexOf(lt);Je.conversionsTo.splice(Ot,1)},Bt.resolve=function(He,Je){if(!ps(He))throw new TypeError(yt);const lt=He._typedFunctionData.signatures;for(let Ot=0;Ot<lt.length;++Ot)if(lt[Ot].test(Je))return lt[Ot];return null},Bt}()}()},4073:()=>{"use strict";const gr=":";Error;const xd=function(ht,...vt){if(xd.translate){const un=xd.translate(ht,vt);ht=un[0],vt=un[1]}let Xt=Xp(ht[0],ht.raw[0]);for(let un=1;un<ht.length;un++)Xt+=vt[un-1]+Xp(ht[un],ht.raw[un]);return Xt},Kp=":";function Xp(ht,vt){return vt.charAt(0)===Kp?ht.substring(function _a(ht,vt){for(let Xt=1,un=1;Xt<ht.length;Xt++,un++)if("\\"===vt[un])un++;else if(ht[Xt]===gr)return Xt;throw new Error(`Unterminated $localize metadata block in "${vt}".`)}(ht,vt)+1):ht}globalThis.$localize=xd},467:(gr,Xn,we)=>{"use strict";function Et(Ct,An,Mn,jn,zn,bt,Ge){try{var Pt=Ct[bt](Ge),Bt=Pt.value}catch(mt){return void Mn(mt)}Pt.done?An(Bt):Promise.resolve(Bt).then(jn,zn)}function yt(Ct){return function(){var An=this,Mn=arguments;return new Promise(function(jn,zn){var bt=Ct.apply(An,Mn);function Ge(Bt){Et(bt,jn,zn,Ge,Pt,"next",Bt)}function Pt(Bt){Et(bt,jn,zn,Ge,Pt,"throw",Bt)}Ge(void 0)})}}we.d(Xn,{A:()=>yt})},2284:(gr,Xn,we)=>{"use strict";function Et(yt){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ct){return typeof Ct}:function(Ct){return Ct&&"function"==typeof Symbol&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct})(yt)}we.d(Xn,{A:()=>Et})}},gr=>{var Xn=Et=>gr(gr.s=Et);Xn(4073),Xn(2809)}]);